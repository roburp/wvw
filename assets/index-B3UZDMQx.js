var oB=Object.defineProperty;var lB=(e,t,n)=>t in e?oB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Vx=(e,t,n)=>lB(e,typeof t!="symbol"?t+"":t,n);function cB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ps(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vD={exports:{}},o0={},yD={exports:{}},xn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=Symbol.for("react.element"),uB=Symbol.for("react.portal"),dB=Symbol.for("react.fragment"),fB=Symbol.for("react.strict_mode"),mB=Symbol.for("react.profiler"),hB=Symbol.for("react.provider"),pB=Symbol.for("react.context"),gB=Symbol.for("react.forward_ref"),xB=Symbol.for("react.suspense"),vB=Symbol.for("react.memo"),yB=Symbol.for("react.lazy"),tC=Symbol.iterator;function bB(e){return e===null||typeof e!="object"?null:(e=tC&&e[tC]||e["@@iterator"],typeof e=="function"?e:null)}var bD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wD=Object.assign,kD={};function Yu(e,t,n){this.props=e,this.context=t,this.refs=kD,this.updater=n||bD}Yu.prototype.isReactComponent={};Yu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function SD(){}SD.prototype=Yu.prototype;function zw(e,t,n){this.props=e,this.context=t,this.refs=kD,this.updater=n||bD}var Uw=zw.prototype=new SD;Uw.constructor=zw;wD(Uw,Yu.prototype);Uw.isPureReactComponent=!0;var nC=Array.isArray,ND=Object.prototype.hasOwnProperty,Vw={current:null},CD={key:!0,ref:!0,__self:!0,__source:!0};function jD(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)ND.call(t,r)&&!CD.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:om,type:e,key:a,ref:s,props:i,_owner:Vw.current}}function wB(e,t){return{$$typeof:om,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ww(e){return typeof e=="object"&&e!==null&&e.$$typeof===om}function kB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rC=/\/+/g;function Wx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kB(""+e.key):t.toString(36)}function tp(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case om:case uB:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Wx(s,0):r,nC(i)?(n="",e!=null&&(n=e.replace(rC,"$&/")+"/"),tp(i,t,n,"",function(c){return c})):i!=null&&(Ww(i)&&(i=wB(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(rC,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",nC(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Wx(a,o);s+=tp(a,t,n,l,i)}else if(l=bB(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Wx(a,o++),s+=tp(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function dh(e,t,n){if(e==null)return e;var r=[],i=0;return tp(e,r,"","",function(a){return t.call(n,a,i++)}),r}function SB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oi={current:null},np={transition:null},NB={ReactCurrentDispatcher:Oi,ReactCurrentBatchConfig:np,ReactCurrentOwner:Vw};function AD(){throw Error("act(...) is not supported in production builds of React.")}xn.Children={map:dh,forEach:function(e,t,n){dh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return dh(e,function(){t++}),t},toArray:function(e){return dh(e,function(t){return t})||[]},only:function(e){if(!Ww(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xn.Component=Yu;xn.Fragment=dB;xn.Profiler=mB;xn.PureComponent=zw;xn.StrictMode=fB;xn.Suspense=xB;xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NB;xn.act=AD;xn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wD({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Vw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)ND.call(t,l)&&!CD.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:om,type:e.type,key:i,ref:a,props:r,_owner:s}};xn.createContext=function(e){return e={$$typeof:pB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hB,_context:e},e.Consumer=e};xn.createElement=jD;xn.createFactory=function(e){var t=jD.bind(null,e);return t.type=e,t};xn.createRef=function(){return{current:null}};xn.forwardRef=function(e){return{$$typeof:gB,render:e}};xn.isValidElement=Ww;xn.lazy=function(e){return{$$typeof:yB,_payload:{_status:-1,_result:e},_init:SB}};xn.memo=function(e,t){return{$$typeof:vB,type:e,compare:t===void 0?null:t}};xn.startTransition=function(e){var t=np.transition;np.transition={};try{e()}finally{np.transition=t}};xn.unstable_act=AD;xn.useCallback=function(e,t){return Oi.current.useCallback(e,t)};xn.useContext=function(e){return Oi.current.useContext(e)};xn.useDebugValue=function(){};xn.useDeferredValue=function(e){return Oi.current.useDeferredValue(e)};xn.useEffect=function(e,t){return Oi.current.useEffect(e,t)};xn.useId=function(){return Oi.current.useId()};xn.useImperativeHandle=function(e,t,n){return Oi.current.useImperativeHandle(e,t,n)};xn.useInsertionEffect=function(e,t){return Oi.current.useInsertionEffect(e,t)};xn.useLayoutEffect=function(e,t){return Oi.current.useLayoutEffect(e,t)};xn.useMemo=function(e,t){return Oi.current.useMemo(e,t)};xn.useReducer=function(e,t,n){return Oi.current.useReducer(e,t,n)};xn.useRef=function(e){return Oi.current.useRef(e)};xn.useState=function(e){return Oi.current.useState(e)};xn.useSyncExternalStore=function(e,t,n){return Oi.current.useSyncExternalStore(e,t,n)};xn.useTransition=function(){return Oi.current.useTransition()};xn.version="18.3.1";yD.exports=xn;var v=yD.exports;const l0=ps(v),CB=cB({__proto__:null,default:l0},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jB=v,AB=Symbol.for("react.element"),PB=Symbol.for("react.fragment"),TB=Object.prototype.hasOwnProperty,EB=jB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DB={key:!0,ref:!0,__self:!0,__source:!0};function PD(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)TB.call(t,r)&&!DB.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:AB,type:e,key:a,ref:s,props:i,_owner:EB.current}}o0.Fragment=PB;o0.jsx=PD;o0.jsxs=PD;vD.exports=o0;var u=vD.exports,yy={},TD={exports:{}},wa={},ED={exports:{}},DD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,le){var D=K.length;K.push(le);e:for(;0<D;){var A=D-1>>>1,ae=K[A];if(0<i(ae,le))K[A]=le,K[D]=ae,D=A;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var le=K[0],D=K.pop();if(D!==le){K[0]=D;e:for(var A=0,ae=K.length,k=ae>>>1;A<k;){var U=2*(A+1)-1,W=K[U],ee=U+1,te=K[ee];if(0>i(W,D))ee<ae&&0>i(te,W)?(K[A]=te,K[ee]=D,A=ee):(K[A]=W,K[U]=D,A=U);else if(ee<ae&&0>i(te,D))K[A]=te,K[ee]=D,A=ee;else break e}}return le}function i(K,le){var D=K.sortIndex-le.sortIndex;return D!==0?D:K.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(K){for(var le=n(c);le!==null;){if(le.callback===null)r(c);else if(le.startTime<=K)r(c),le.sortIndex=le.expirationTime,t(l,le);else break;le=n(c)}}function N(K){if(g=!1,b(K),!p)if(n(l)!==null)p=!0,fe(C);else{var le=n(c);le!==null&&J(N,le.startTime-K)}}function C(K,le){p=!1,g&&(g=!1,x(O),O=-1),m=!0;var D=h;try{for(b(le),f=n(l);f!==null&&(!(f.expirationTime>le)||K&&!I());){var A=f.callback;if(typeof A=="function"){f.callback=null,h=f.priorityLevel;var ae=A(f.expirationTime<=le);le=e.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(l)&&r(l),b(le)}else r(l);f=n(l)}if(f!==null)var k=!0;else{var U=n(c);U!==null&&J(N,U.startTime-le),k=!1}return k}finally{f=null,h=D,m=!1}}var S=!1,j=null,O=-1,F=5,T=-1;function I(){return!(e.unstable_now()-T<F)}function M(){if(j!==null){var K=e.unstable_now();T=K;var le=!0;try{le=j(!0,K)}finally{le?G():(S=!1,j=null)}}else S=!1}var G;if(typeof w=="function")G=function(){w(M)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,se=Z.port2;Z.port1.onmessage=M,G=function(){se.postMessage(null)}}else G=function(){y(M,0)};function fe(K){j=K,S||(S=!0,G())}function J(K,le){O=y(function(){K(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,fe(C))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(K){switch(h){case 1:case 2:case 3:var le=3;break;default:le=h}var D=h;h=le;try{return K()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var D=h;h=K;try{return le()}finally{h=D}},e.unstable_scheduleCallback=function(K,le,D){var A=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?A+D:A):D=A,K){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=D+ae,K={id:d++,callback:le,priorityLevel:K,startTime:D,expirationTime:ae,sortIndex:-1},D>A?(K.sortIndex=D,t(c,K),n(l)===null&&K===n(c)&&(g?(x(O),O=-1):g=!0,J(N,D-A))):(K.sortIndex=ae,t(l,K),p||m||(p=!0,fe(C))),K},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(K){var le=h;return function(){var D=h;h=le;try{return K.apply(this,arguments)}finally{h=D}}}})(DD);ED.exports=DD;var MB=ED.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OB=v,va=MB;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MD=new Set,xf={};function jc(e,t){Pu(e,t),Pu(e+"Capture",t)}function Pu(e,t){for(xf[e]=t,e=0;e<t.length;e++)MD.add(t[e])}var po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),by=Object.prototype.hasOwnProperty,IB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iC={},aC={};function _B(e){return by.call(aC,e)?!0:by.call(iC,e)?!1:IB.test(e)?aC[e]=!0:(iC[e]=!0,!1)}function LB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $B(e,t,n,r){if(t===null||typeof t>"u"||LB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ii(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ci[e]=new Ii(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ci[t]=new Ii(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ci[e]=new Ii(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ci[e]=new Ii(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ci[e]=new Ii(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ci[e]=new Ii(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ci[e]=new Ii(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ci[e]=new Ii(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ci[e]=new Ii(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hw=/[\-:]([a-z])/g;function qw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hw,qw);ci[t]=new Ii(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hw,qw);ci[t]=new Ii(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hw,qw);ci[t]=new Ii(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ci[e]=new Ii(e,1,!1,e.toLowerCase(),null,!1,!1)});ci.xlinkHref=new Ii("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ci[e]=new Ii(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kw(e,t,n,r){var i=ci.hasOwnProperty(t)?ci[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($B(t,n,i,r)&&(n=null),r||i===null?_B(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jo=OB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fh=Symbol.for("react.element"),eu=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),Gw=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),OD=Symbol.for("react.provider"),ID=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),ky=Symbol.for("react.suspense"),Sy=Symbol.for("react.suspense_list"),Xw=Symbol.for("react.memo"),Ko=Symbol.for("react.lazy"),_D=Symbol.for("react.offscreen"),sC=Symbol.iterator;function wd(e){return e===null||typeof e!="object"?null:(e=sC&&e[sC]||e["@@iterator"],typeof e=="function"?e:null)}var fr=Object.assign,Hx;function zd(e){if(Hx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hx=t&&t[1]||""}return`
`+Hx+e}var qx=!1;function Kx(e,t){if(!e||qx)return"";qx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{qx=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zd(e):""}function FB(e){switch(e.tag){case 5:return zd(e.type);case 16:return zd("Lazy");case 13:return zd("Suspense");case 19:return zd("SuspenseList");case 0:case 2:case 15:return e=Kx(e.type,!1),e;case 11:return e=Kx(e.type.render,!1),e;case 1:return e=Kx(e.type,!0),e;default:return""}}function Ny(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tu:return"Fragment";case eu:return"Portal";case wy:return"Profiler";case Gw:return"StrictMode";case ky:return"Suspense";case Sy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ID:return(e.displayName||"Context")+".Consumer";case OD:return(e._context.displayName||"Context")+".Provider";case Yw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xw:return t=e.displayName||null,t!==null?t:Ny(e.type)||"Memo";case Ko:t=e._payload,e=e._init;try{return Ny(e(t))}catch{}}return null}function RB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ny(t);case 8:return t===Gw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function LD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BB(e){var t=LD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mh(e){e._valueTracker||(e._valueTracker=BB(e))}function $D(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=LD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cy(e,t){var n=t.checked;return fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function oC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function FD(e,t){t=t.checked,t!=null&&Kw(e,"checked",t,!1)}function jy(e,t){FD(e,t);var n=gl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ay(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ay(e,t.type,gl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ay(e,t,n){(t!=="number"||Cp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ud=Array.isArray;function vu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Py(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(He(92));if(Ud(n)){if(1<n.length)throw Error(He(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gl(n)}}function RD(e,t){var n=gl(t.value),r=gl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function uC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function BD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ty(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?BD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hh,zD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hh=hh||document.createElement("div"),hh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zB=["Webkit","ms","Moz","O"];Object.keys(Qd).forEach(function(e){zB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qd[t]=Qd[e]})});function UD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qd.hasOwnProperty(e)&&Qd[e]?(""+t).trim():t+"px"}function VD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=UD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var UB=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ey(e,t){if(t){if(UB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function Dy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var My=null;function Qw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oy=null,yu=null,bu=null;function dC(e){if(e=um(e)){if(typeof Oy!="function")throw Error(He(280));var t=e.stateNode;t&&(t=m0(t),Oy(e.stateNode,e.type,t))}}function WD(e){yu?bu?bu.push(e):bu=[e]:yu=e}function HD(){if(yu){var e=yu,t=bu;if(bu=yu=null,dC(e),t)for(e=0;e<t.length;e++)dC(t[e])}}function qD(e,t){return e(t)}function KD(){}var Gx=!1;function GD(e,t,n){if(Gx)return e(t,n);Gx=!0;try{return qD(e,t,n)}finally{Gx=!1,(yu!==null||bu!==null)&&(KD(),HD())}}function yf(e,t){var n=e.stateNode;if(n===null)return null;var r=m0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(He(231,t,typeof n));return n}var Iy=!1;if(po)try{var kd={};Object.defineProperty(kd,"passive",{get:function(){Iy=!0}}),window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{Iy=!1}function VB(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Zd=!1,jp=null,Ap=!1,_y=null,WB={onError:function(e){Zd=!0,jp=e}};function HB(e,t,n,r,i,a,s,o,l){Zd=!1,jp=null,VB.apply(WB,arguments)}function qB(e,t,n,r,i,a,s,o,l){if(HB.apply(this,arguments),Zd){if(Zd){var c=jp;Zd=!1,jp=null}else throw Error(He(198));Ap||(Ap=!0,_y=c)}}function Ac(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function YD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fC(e){if(Ac(e)!==e)throw Error(He(188))}function KB(e){var t=e.alternate;if(!t){if(t=Ac(e),t===null)throw Error(He(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return fC(i),e;if(a===r)return fC(i),t;a=a.sibling}throw Error(He(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(He(189))}}if(n.alternate!==r)throw Error(He(190))}if(n.tag!==3)throw Error(He(188));return n.stateNode.current===n?e:t}function XD(e){return e=KB(e),e!==null?QD(e):null}function QD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=QD(e);if(t!==null)return t;e=e.sibling}return null}var ZD=va.unstable_scheduleCallback,mC=va.unstable_cancelCallback,GB=va.unstable_shouldYield,YB=va.unstable_requestPaint,Nr=va.unstable_now,XB=va.unstable_getCurrentPriorityLevel,Zw=va.unstable_ImmediatePriority,JD=va.unstable_UserBlockingPriority,Pp=va.unstable_NormalPriority,QB=va.unstable_LowPriority,eM=va.unstable_IdlePriority,c0=null,_s=null;function ZB(e){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(c0,e,void 0,(e.current.flags&128)===128)}catch{}}var as=Math.clz32?Math.clz32:tz,JB=Math.log,ez=Math.LN2;function tz(e){return e>>>=0,e===0?32:31-(JB(e)/ez|0)|0}var ph=64,gh=4194304;function Vd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Vd(o):(a&=s,a!==0&&(r=Vd(a)))}else s=n&~i,s!==0?r=Vd(s):a!==0&&(r=Vd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-as(t),i=1<<n,r|=e[n],t&=~i;return r}function nz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rz(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-as(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=nz(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Ly(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tM(){var e=ph;return ph<<=1,!(ph&4194240)&&(ph=64),e}function Yx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-as(t),e[t]=n}function iz(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-as(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Jw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-as(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var In=0;function nM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rM,e1,iM,aM,sM,$y=!1,xh=[],al=null,sl=null,ol=null,bf=new Map,wf=new Map,Zo=[],az="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hC(e,t){switch(e){case"focusin":case"focusout":al=null;break;case"dragenter":case"dragleave":sl=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":bf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wf.delete(t.pointerId)}}function Sd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=um(t),t!==null&&e1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sz(e,t,n,r,i){switch(t){case"focusin":return al=Sd(al,e,t,n,r,i),!0;case"dragenter":return sl=Sd(sl,e,t,n,r,i),!0;case"mouseover":return ol=Sd(ol,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return bf.set(a,Sd(bf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,wf.set(a,Sd(wf.get(a)||null,e,t,n,r,i)),!0}return!1}function oM(e){var t=ql(e.target);if(t!==null){var n=Ac(t);if(n!==null){if(t=n.tag,t===13){if(t=YD(n),t!==null){e.blockedOn=t,sM(e.priority,function(){iM(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);My=r,n.target.dispatchEvent(r),My=null}else return t=um(n),t!==null&&e1(t),e.blockedOn=n,!1;t.shift()}return!0}function pC(e,t,n){rp(e)&&n.delete(t)}function oz(){$y=!1,al!==null&&rp(al)&&(al=null),sl!==null&&rp(sl)&&(sl=null),ol!==null&&rp(ol)&&(ol=null),bf.forEach(pC),wf.forEach(pC)}function Nd(e,t){e.blockedOn===t&&(e.blockedOn=null,$y||($y=!0,va.unstable_scheduleCallback(va.unstable_NormalPriority,oz)))}function kf(e){function t(i){return Nd(i,e)}if(0<xh.length){Nd(xh[0],e);for(var n=1;n<xh.length;n++){var r=xh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(al!==null&&Nd(al,e),sl!==null&&Nd(sl,e),ol!==null&&Nd(ol,e),bf.forEach(t),wf.forEach(t),n=0;n<Zo.length;n++)r=Zo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zo.length&&(n=Zo[0],n.blockedOn===null);)oM(n),n.blockedOn===null&&Zo.shift()}var wu=jo.ReactCurrentBatchConfig,Ep=!0;function lz(e,t,n,r){var i=In,a=wu.transition;wu.transition=null;try{In=1,t1(e,t,n,r)}finally{In=i,wu.transition=a}}function cz(e,t,n,r){var i=In,a=wu.transition;wu.transition=null;try{In=4,t1(e,t,n,r)}finally{In=i,wu.transition=a}}function t1(e,t,n,r){if(Ep){var i=Fy(e,t,n,r);if(i===null)av(e,t,r,Dp,n),hC(e,r);else if(sz(i,e,t,n,r))r.stopPropagation();else if(hC(e,r),t&4&&-1<az.indexOf(e)){for(;i!==null;){var a=um(i);if(a!==null&&rM(a),a=Fy(e,t,n,r),a===null&&av(e,t,r,Dp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else av(e,t,r,null,n)}}var Dp=null;function Fy(e,t,n,r){if(Dp=null,e=Qw(r),e=ql(e),e!==null)if(t=Ac(e),t===null)e=null;else if(n=t.tag,n===13){if(e=YD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dp=e,null}function lM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XB()){case Zw:return 1;case JD:return 4;case Pp:case QB:return 16;case eM:return 536870912;default:return 16}default:return 16}}var tl=null,n1=null,ip=null;function cM(){if(ip)return ip;var e,t=n1,n=t.length,r,i="value"in tl?tl.value:tl.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return ip=i.slice(e,1<r?1-r:void 0)}function ap(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vh(){return!0}function gC(){return!1}function ka(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vh:gC,this.isPropagationStopped=gC,this}return fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),t}var Xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r1=ka(Xu),cm=fr({},Xu,{view:0,detail:0}),uz=ka(cm),Xx,Qx,Cd,u0=fr({},cm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cd&&(Cd&&e.type==="mousemove"?(Xx=e.screenX-Cd.screenX,Qx=e.screenY-Cd.screenY):Qx=Xx=0,Cd=e),Xx)},movementY:function(e){return"movementY"in e?e.movementY:Qx}}),xC=ka(u0),dz=fr({},u0,{dataTransfer:0}),fz=ka(dz),mz=fr({},cm,{relatedTarget:0}),Zx=ka(mz),hz=fr({},Xu,{animationName:0,elapsedTime:0,pseudoElement:0}),pz=ka(hz),gz=fr({},Xu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xz=ka(gz),vz=fr({},Xu,{data:0}),vC=ka(vz),yz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wz[e])?!!t[e]:!1}function i1(){return kz}var Sz=fr({},cm,{key:function(e){if(e.key){var t=yz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ap(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i1,charCode:function(e){return e.type==="keypress"?ap(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ap(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nz=ka(Sz),Cz=fr({},u0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yC=ka(Cz),jz=fr({},cm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i1}),Az=ka(jz),Pz=fr({},Xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tz=ka(Pz),Ez=fr({},u0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dz=ka(Ez),Mz=[9,13,27,32],a1=po&&"CompositionEvent"in window,Jd=null;po&&"documentMode"in document&&(Jd=document.documentMode);var Oz=po&&"TextEvent"in window&&!Jd,uM=po&&(!a1||Jd&&8<Jd&&11>=Jd),bC=" ",wC=!1;function dM(e,t){switch(e){case"keyup":return Mz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nu=!1;function Iz(e,t){switch(e){case"compositionend":return fM(t);case"keypress":return t.which!==32?null:(wC=!0,bC);case"textInput":return e=t.data,e===bC&&wC?null:e;default:return null}}function _z(e,t){if(nu)return e==="compositionend"||!a1&&dM(e,t)?(e=cM(),ip=n1=tl=null,nu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uM&&t.locale!=="ko"?null:t.data;default:return null}}var Lz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lz[e.type]:t==="textarea"}function mM(e,t,n,r){WD(r),t=Mp(t,"onChange"),0<t.length&&(n=new r1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ef=null,Sf=null;function $z(e){NM(e,0)}function d0(e){var t=au(e);if($D(t))return e}function Fz(e,t){if(e==="change")return t}var hM=!1;if(po){var Jx;if(po){var ev="oninput"in document;if(!ev){var SC=document.createElement("div");SC.setAttribute("oninput","return;"),ev=typeof SC.oninput=="function"}Jx=ev}else Jx=!1;hM=Jx&&(!document.documentMode||9<document.documentMode)}function NC(){ef&&(ef.detachEvent("onpropertychange",pM),Sf=ef=null)}function pM(e){if(e.propertyName==="value"&&d0(Sf)){var t=[];mM(t,Sf,e,Qw(e)),GD($z,t)}}function Rz(e,t,n){e==="focusin"?(NC(),ef=t,Sf=n,ef.attachEvent("onpropertychange",pM)):e==="focusout"&&NC()}function Bz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return d0(Sf)}function zz(e,t){if(e==="click")return d0(t)}function Uz(e,t){if(e==="input"||e==="change")return d0(t)}function Vz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cs=typeof Object.is=="function"?Object.is:Vz;function Nf(e,t){if(cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!by.call(t,i)||!cs(e[i],t[i]))return!1}return!0}function CC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jC(e,t){var n=CC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=CC(n)}}function gM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xM(){for(var e=window,t=Cp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cp(e.document)}return t}function s1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wz(e){var t=xM(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gM(n.ownerDocument.documentElement,n)){if(r!==null&&s1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=jC(n,a);var s=jC(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hz=po&&"documentMode"in document&&11>=document.documentMode,ru=null,Ry=null,tf=null,By=!1;function AC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;By||ru==null||ru!==Cp(r)||(r=ru,"selectionStart"in r&&s1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tf&&Nf(tf,r)||(tf=r,r=Mp(Ry,"onSelect"),0<r.length&&(t=new r1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ru)))}function yh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var iu={animationend:yh("Animation","AnimationEnd"),animationiteration:yh("Animation","AnimationIteration"),animationstart:yh("Animation","AnimationStart"),transitionend:yh("Transition","TransitionEnd")},tv={},vM={};po&&(vM=document.createElement("div").style,"AnimationEvent"in window||(delete iu.animationend.animation,delete iu.animationiteration.animation,delete iu.animationstart.animation),"TransitionEvent"in window||delete iu.transitionend.transition);function f0(e){if(tv[e])return tv[e];if(!iu[e])return e;var t=iu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vM)return tv[e]=t[n];return e}var yM=f0("animationend"),bM=f0("animationiteration"),wM=f0("animationstart"),kM=f0("transitionend"),SM=new Map,PC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(e,t){SM.set(e,t),jc(t,[e])}for(var nv=0;nv<PC.length;nv++){var rv=PC[nv],qz=rv.toLowerCase(),Kz=rv[0].toUpperCase()+rv.slice(1);kl(qz,"on"+Kz)}kl(yM,"onAnimationEnd");kl(bM,"onAnimationIteration");kl(wM,"onAnimationStart");kl("dblclick","onDoubleClick");kl("focusin","onFocus");kl("focusout","onBlur");kl(kM,"onTransitionEnd");Pu("onMouseEnter",["mouseout","mouseover"]);Pu("onMouseLeave",["mouseout","mouseover"]);Pu("onPointerEnter",["pointerout","pointerover"]);Pu("onPointerLeave",["pointerout","pointerover"]);jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jc("onBeforeInput",["compositionend","keypress","textInput","paste"]);jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wd));function TC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qB(r,t,void 0,e),e.currentTarget=null}function NM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;TC(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;TC(i,o,c),a=l}}}if(Ap)throw e=_y,Ap=!1,_y=null,e}function Yn(e,t){var n=t[Hy];n===void 0&&(n=t[Hy]=new Set);var r=e+"__bubble";n.has(r)||(CM(t,e,2,!1),n.add(r))}function iv(e,t,n){var r=0;t&&(r|=4),CM(n,e,r,t)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Cf(e){if(!e[bh]){e[bh]=!0,MD.forEach(function(n){n!=="selectionchange"&&(Gz.has(n)||iv(n,!1,e),iv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bh]||(t[bh]=!0,iv("selectionchange",!1,t))}}function CM(e,t,n,r){switch(lM(t)){case 1:var i=lz;break;case 4:i=cz;break;default:i=t1}n=i.bind(null,t,n,e),i=void 0,!Iy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function av(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=ql(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}GD(function(){var c=a,d=Qw(n),f=[];e:{var h=SM.get(e);if(h!==void 0){var m=r1,p=e;switch(e){case"keypress":if(ap(n)===0)break e;case"keydown":case"keyup":m=Nz;break;case"focusin":p="focus",m=Zx;break;case"focusout":p="blur",m=Zx;break;case"beforeblur":case"afterblur":m=Zx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Az;break;case yM:case bM:case wM:m=pz;break;case kM:m=Tz;break;case"scroll":m=uz;break;case"wheel":m=Dz;break;case"copy":case"cut":case"paste":m=xz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yC}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,b;w!==null;){b=w;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,x!==null&&(N=yf(w,x),N!=null&&g.push(jf(w,N,b)))),y)break;w=w.return}0<g.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==My&&(p=n.relatedTarget||n.fromElement)&&(ql(p)||p[go]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?ql(p):null,p!==null&&(y=Ac(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=xC,N="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=yC,N="onPointerLeave",x="onPointerEnter",w="pointer"),y=m==null?h:au(m),b=p==null?h:au(p),h=new g(N,w+"leave",m,n,d),h.target=y,h.relatedTarget=b,N=null,ql(d)===c&&(g=new g(x,w+"enter",p,n,d),g.target=b,g.relatedTarget=y,N=g),y=N,m&&p)t:{for(g=m,x=p,w=0,b=g;b;b=Wc(b))w++;for(b=0,N=x;N;N=Wc(N))b++;for(;0<w-b;)g=Wc(g),w--;for(;0<b-w;)x=Wc(x),b--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=Wc(g),x=Wc(x)}g=null}else g=null;m!==null&&EC(f,h,m,g,!1),p!==null&&y!==null&&EC(f,y,p,g,!0)}}e:{if(h=c?au(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=Fz;else if(kC(h))if(hM)C=Uz;else{C=Bz;var S=Rz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=zz);if(C&&(C=C(e,c))){mM(f,C,n,d);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Ay(h,"number",h.value)}switch(S=c?au(c):window,e){case"focusin":(kC(S)||S.contentEditable==="true")&&(ru=S,Ry=c,tf=null);break;case"focusout":tf=Ry=ru=null;break;case"mousedown":By=!0;break;case"contextmenu":case"mouseup":case"dragend":By=!1,AC(f,n,d);break;case"selectionchange":if(Hz)break;case"keydown":case"keyup":AC(f,n,d)}var j;if(a1)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else nu?dM(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(uM&&n.locale!=="ko"&&(nu||O!=="onCompositionStart"?O==="onCompositionEnd"&&nu&&(j=cM()):(tl=d,n1="value"in tl?tl.value:tl.textContent,nu=!0)),S=Mp(c,O),0<S.length&&(O=new vC(O,e,null,n,d),f.push({event:O,listeners:S}),j?O.data=j:(j=fM(n),j!==null&&(O.data=j)))),(j=Oz?Iz(e,n):_z(e,n))&&(c=Mp(c,"onBeforeInput"),0<c.length&&(d=new vC("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=j))}NM(f,t)})}function jf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=yf(e,n),a!=null&&r.unshift(jf(e,a,i)),a=yf(e,t),a!=null&&r.push(jf(e,a,i))),e=e.return}return r}function Wc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function EC(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=yf(n,a),l!=null&&s.unshift(jf(n,l,o))):i||(l=yf(n,a),l!=null&&s.push(jf(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Yz=/\r\n?/g,Xz=/\u0000|\uFFFD/g;function DC(e){return(typeof e=="string"?e:""+e).replace(Yz,`
`).replace(Xz,"")}function wh(e,t,n){if(t=DC(t),DC(e)!==t&&n)throw Error(He(425))}function Op(){}var zy=null,Uy=null;function Vy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wy=typeof setTimeout=="function"?setTimeout:void 0,Qz=typeof clearTimeout=="function"?clearTimeout:void 0,MC=typeof Promise=="function"?Promise:void 0,Zz=typeof queueMicrotask=="function"?queueMicrotask:typeof MC<"u"?function(e){return MC.resolve(null).then(e).catch(Jz)}:Wy;function Jz(e){setTimeout(function(){throw e})}function sv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),kf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kf(t)}function ll(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function OC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qu=Math.random().toString(36).slice(2),Os="__reactFiber$"+Qu,Af="__reactProps$"+Qu,go="__reactContainer$"+Qu,Hy="__reactEvents$"+Qu,e6="__reactListeners$"+Qu,t6="__reactHandles$"+Qu;function ql(e){var t=e[Os];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[Os]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=OC(e);e!==null;){if(n=e[Os])return n;e=OC(e)}return t}e=n,n=e.parentNode}return null}function um(e){return e=e[Os]||e[go],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function au(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function m0(e){return e[Af]||null}var qy=[],su=-1;function Sl(e){return{current:e}}function Qn(e){0>su||(e.current=qy[su],qy[su]=null,su--)}function Wn(e,t){su++,qy[su]=e.current,e.current=t}var xl={},bi=Sl(xl),qi=Sl(!1),cc=xl;function Tu(e,t){var n=e.type.contextTypes;if(!n)return xl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ki(e){return e=e.childContextTypes,e!=null}function Ip(){Qn(qi),Qn(bi)}function IC(e,t,n){if(bi.current!==xl)throw Error(He(168));Wn(bi,t),Wn(qi,n)}function jM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(He(108,RB(e)||"Unknown",i));return fr({},n,r)}function _p(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xl,cc=bi.current,Wn(bi,e),Wn(qi,qi.current),!0}function _C(e,t,n){var r=e.stateNode;if(!r)throw Error(He(169));n?(e=jM(e,t,cc),r.__reactInternalMemoizedMergedChildContext=e,Qn(qi),Qn(bi),Wn(bi,e)):Qn(qi),Wn(qi,n)}var Js=null,h0=!1,ov=!1;function AM(e){Js===null?Js=[e]:Js.push(e)}function n6(e){h0=!0,AM(e)}function Nl(){if(!ov&&Js!==null){ov=!0;var e=0,t=In;try{var n=Js;for(In=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Js=null,h0=!1}catch(i){throw Js!==null&&(Js=Js.slice(e+1)),ZD(Zw,Nl),i}finally{In=t,ov=!1}}return null}var ou=[],lu=0,Lp=null,$p=0,Ma=[],Oa=0,uc=null,io=1,ao="";function Fl(e,t){ou[lu++]=$p,ou[lu++]=Lp,Lp=e,$p=t}function PM(e,t,n){Ma[Oa++]=io,Ma[Oa++]=ao,Ma[Oa++]=uc,uc=e;var r=io;e=ao;var i=32-as(r)-1;r&=~(1<<i),n+=1;var a=32-as(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,io=1<<32-as(t)+i|n<<i|r,ao=a+e}else io=1<<a|n<<i|r,ao=e}function o1(e){e.return!==null&&(Fl(e,1),PM(e,1,0))}function l1(e){for(;e===Lp;)Lp=ou[--lu],ou[lu]=null,$p=ou[--lu],ou[lu]=null;for(;e===uc;)uc=Ma[--Oa],Ma[Oa]=null,ao=Ma[--Oa],Ma[Oa]=null,io=Ma[--Oa],Ma[Oa]=null}var ha=null,fa=null,rr=!1,ts=null;function TM(e,t){var n=_a(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function LC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ha=e,fa=ll(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ha=e,fa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=uc!==null?{id:io,overflow:ao}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_a(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ha=e,fa=null,!0):!1;default:return!1}}function Ky(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gy(e){if(rr){var t=fa;if(t){var n=t;if(!LC(e,t)){if(Ky(e))throw Error(He(418));t=ll(n.nextSibling);var r=ha;t&&LC(e,t)?TM(r,n):(e.flags=e.flags&-4097|2,rr=!1,ha=e)}}else{if(Ky(e))throw Error(He(418));e.flags=e.flags&-4097|2,rr=!1,ha=e}}}function $C(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ha=e}function kh(e){if(e!==ha)return!1;if(!rr)return $C(e),rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vy(e.type,e.memoizedProps)),t&&(t=fa)){if(Ky(e))throw EM(),Error(He(418));for(;t;)TM(e,t),t=ll(t.nextSibling)}if($C(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fa=ll(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fa=null}}else fa=ha?ll(e.stateNode.nextSibling):null;return!0}function EM(){for(var e=fa;e;)e=ll(e.nextSibling)}function Eu(){fa=ha=null,rr=!1}function c1(e){ts===null?ts=[e]:ts.push(e)}var r6=jo.ReactCurrentBatchConfig;function jd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(He(309));var r=n.stateNode}if(!r)throw Error(He(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(He(284));if(!n._owner)throw Error(He(290,e))}return e}function Sh(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function FC(e){var t=e._init;return t(e._payload)}function DM(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=fl(x,w),x.index=0,x.sibling=null,x}function a(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,w,b,N){return w===null||w.tag!==6?(w=hv(b,x.mode,N),w.return=x,w):(w=i(w,b),w.return=x,w)}function l(x,w,b,N){var C=b.type;return C===tu?d(x,w,b.props.children,N,b.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ko&&FC(C)===w.type)?(N=i(w,b.props),N.ref=jd(x,w,b),N.return=x,N):(N=fp(b.type,b.key,b.props,null,x.mode,N),N.ref=jd(x,w,b),N.return=x,N)}function c(x,w,b,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=pv(b,x.mode,N),w.return=x,w):(w=i(w,b.children||[]),w.return=x,w)}function d(x,w,b,N,C){return w===null||w.tag!==7?(w=nc(b,x.mode,N,C),w.return=x,w):(w=i(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=hv(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fh:return b=fp(w.type,w.key,w.props,null,x.mode,b),b.ref=jd(x,null,w),b.return=x,b;case eu:return w=pv(w,x.mode,b),w.return=x,w;case Ko:var N=w._init;return f(x,N(w._payload),b)}if(Ud(w)||wd(w))return w=nc(w,x.mode,b,null),w.return=x,w;Sh(x,w)}return null}function h(x,w,b,N){var C=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:o(x,w,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fh:return b.key===C?l(x,w,b,N):null;case eu:return b.key===C?c(x,w,b,N):null;case Ko:return C=b._init,h(x,w,C(b._payload),N)}if(Ud(b)||wd(b))return C!==null?null:d(x,w,b,N,null);Sh(x,b)}return null}function m(x,w,b,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(b)||null,o(w,x,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case fh:return x=x.get(N.key===null?b:N.key)||null,l(w,x,N,C);case eu:return x=x.get(N.key===null?b:N.key)||null,c(w,x,N,C);case Ko:var S=N._init;return m(x,w,b,S(N._payload),C)}if(Ud(N)||wd(N))return x=x.get(b)||null,d(w,x,N,C,null);Sh(w,N)}return null}function p(x,w,b,N){for(var C=null,S=null,j=w,O=w=0,F=null;j!==null&&O<b.length;O++){j.index>O?(F=j,j=null):F=j.sibling;var T=h(x,j,b[O],N);if(T===null){j===null&&(j=F);break}e&&j&&T.alternate===null&&t(x,j),w=a(T,w,O),S===null?C=T:S.sibling=T,S=T,j=F}if(O===b.length)return n(x,j),rr&&Fl(x,O),C;if(j===null){for(;O<b.length;O++)j=f(x,b[O],N),j!==null&&(w=a(j,w,O),S===null?C=j:S.sibling=j,S=j);return rr&&Fl(x,O),C}for(j=r(x,j);O<b.length;O++)F=m(j,x,O,b[O],N),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?O:F.key),w=a(F,w,O),S===null?C=F:S.sibling=F,S=F);return e&&j.forEach(function(I){return t(x,I)}),rr&&Fl(x,O),C}function g(x,w,b,N){var C=wd(b);if(typeof C!="function")throw Error(He(150));if(b=C.call(b),b==null)throw Error(He(151));for(var S=C=null,j=w,O=w=0,F=null,T=b.next();j!==null&&!T.done;O++,T=b.next()){j.index>O?(F=j,j=null):F=j.sibling;var I=h(x,j,T.value,N);if(I===null){j===null&&(j=F);break}e&&j&&I.alternate===null&&t(x,j),w=a(I,w,O),S===null?C=I:S.sibling=I,S=I,j=F}if(T.done)return n(x,j),rr&&Fl(x,O),C;if(j===null){for(;!T.done;O++,T=b.next())T=f(x,T.value,N),T!==null&&(w=a(T,w,O),S===null?C=T:S.sibling=T,S=T);return rr&&Fl(x,O),C}for(j=r(x,j);!T.done;O++,T=b.next())T=m(j,x,O,T.value,N),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?O:T.key),w=a(T,w,O),S===null?C=T:S.sibling=T,S=T);return e&&j.forEach(function(M){return t(x,M)}),rr&&Fl(x,O),C}function y(x,w,b,N){if(typeof b=="object"&&b!==null&&b.type===tu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case fh:e:{for(var C=b.key,S=w;S!==null;){if(S.key===C){if(C=b.type,C===tu){if(S.tag===7){n(x,S.sibling),w=i(S,b.props.children),w.return=x,x=w;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ko&&FC(C)===S.type){n(x,S.sibling),w=i(S,b.props),w.ref=jd(x,S,b),w.return=x,x=w;break e}n(x,S);break}else t(x,S);S=S.sibling}b.type===tu?(w=nc(b.props.children,x.mode,N,b.key),w.return=x,x=w):(N=fp(b.type,b.key,b.props,null,x.mode,N),N.ref=jd(x,w,b),N.return=x,x=N)}return s(x);case eu:e:{for(S=b.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(x,w.sibling),w=i(w,b.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=pv(b,x.mode,N),w.return=x,x=w}return s(x);case Ko:return S=b._init,y(x,w,S(b._payload),N)}if(Ud(b))return p(x,w,b,N);if(wd(b))return g(x,w,b,N);Sh(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,b),w.return=x,x=w):(n(x,w),w=hv(b,x.mode,N),w.return=x,x=w),s(x)):n(x,w)}return y}var Du=DM(!0),MM=DM(!1),Fp=Sl(null),Rp=null,cu=null,u1=null;function d1(){u1=cu=Rp=null}function f1(e){var t=Fp.current;Qn(Fp),e._currentValue=t}function Yy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ku(e,t){Rp=e,u1=cu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wi=!0),e.firstContext=null)}function Fa(e){var t=e._currentValue;if(u1!==e)if(e={context:e,memoizedValue:t,next:null},cu===null){if(Rp===null)throw Error(He(308));cu=e,Rp.dependencies={lanes:0,firstContext:e}}else cu=cu.next=e;return t}var Kl=null;function m1(e){Kl===null?Kl=[e]:Kl.push(e)}function OM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,m1(t)):(n.next=i.next,i.next=n),t.interleaved=n,xo(e,r)}function xo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Go=!1;function h1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Nn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,xo(e,n)}return i=r.interleaved,i===null?(t.next=t,m1(r)):(t.next=i.next,i.next=t),r.interleaved=t,xo(e,n)}function sp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jw(e,n)}}function RC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bp(e,t,n,r){var i=e.updateQueue;Go=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=fr({},f,h);break e;case 2:Go=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);fc|=s,e.lanes=s,e.memoizedState=f}}function BC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(He(191,i));i.call(r)}}}var dm={},Ls=Sl(dm),Pf=Sl(dm),Tf=Sl(dm);function Gl(e){if(e===dm)throw Error(He(174));return e}function p1(e,t){switch(Wn(Tf,t),Wn(Pf,e),Wn(Ls,dm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ty(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ty(t,e)}Qn(Ls),Wn(Ls,t)}function Mu(){Qn(Ls),Qn(Pf),Qn(Tf)}function _M(e){Gl(Tf.current);var t=Gl(Ls.current),n=Ty(t,e.type);t!==n&&(Wn(Pf,e),Wn(Ls,n))}function g1(e){Pf.current===e&&(Qn(Ls),Qn(Pf))}var lr=Sl(0);function zp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lv=[];function x1(){for(var e=0;e<lv.length;e++)lv[e]._workInProgressVersionPrimary=null;lv.length=0}var op=jo.ReactCurrentDispatcher,cv=jo.ReactCurrentBatchConfig,dc=0,dr=null,Fr=null,Yr=null,Up=!1,nf=!1,Ef=0,i6=0;function di(){throw Error(He(321))}function v1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cs(e[n],t[n]))return!1;return!0}function y1(e,t,n,r,i,a){if(dc=a,dr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,op.current=e===null||e.memoizedState===null?l6:c6,e=n(r,i),nf){a=0;do{if(nf=!1,Ef=0,25<=a)throw Error(He(301));a+=1,Yr=Fr=null,t.updateQueue=null,op.current=u6,e=n(r,i)}while(nf)}if(op.current=Vp,t=Fr!==null&&Fr.next!==null,dc=0,Yr=Fr=dr=null,Up=!1,t)throw Error(He(300));return e}function b1(){var e=Ef!==0;return Ef=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?dr.memoizedState=Yr=e:Yr=Yr.next=e,Yr}function Ra(){if(Fr===null){var e=dr.alternate;e=e!==null?e.memoizedState:null}else e=Fr.next;var t=Yr===null?dr.memoizedState:Yr.next;if(t!==null)Yr=t,Fr=e;else{if(e===null)throw Error(He(310));Fr=e,e={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},Yr===null?dr.memoizedState=Yr=e:Yr=Yr.next=e}return Yr}function Df(e,t){return typeof t=="function"?t(e):t}function uv(e){var t=Ra(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=Fr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((dc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,dr.lanes|=d,fc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,cs(r,t.memoizedState)||(Wi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,dr.lanes|=a,fc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dv(e){var t=Ra(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);cs(a,t.memoizedState)||(Wi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function LM(){}function $M(e,t){var n=dr,r=Ra(),i=t(),a=!cs(r.memoizedState,i);if(a&&(r.memoizedState=i,Wi=!0),r=r.queue,w1(BM.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Yr!==null&&Yr.memoizedState.tag&1){if(n.flags|=2048,Mf(9,RM.bind(null,n,r,i,t),void 0,null),Xr===null)throw Error(He(349));dc&30||FM(n,t,i)}return i}function FM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function RM(e,t,n,r){t.value=n,t.getSnapshot=r,zM(t)&&UM(e)}function BM(e,t,n){return n(function(){zM(t)&&UM(e)})}function zM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cs(e,n)}catch{return!0}}function UM(e){var t=xo(e,1);t!==null&&ss(t,e,1,-1)}function zC(e){var t=Es();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:e},t.queue=e,e=e.dispatch=o6.bind(null,dr,e),[t.memoizedState,e]}function Mf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function VM(){return Ra().memoizedState}function lp(e,t,n,r){var i=Es();dr.flags|=e,i.memoizedState=Mf(1|t,n,void 0,r===void 0?null:r)}function p0(e,t,n,r){var i=Ra();r=r===void 0?null:r;var a=void 0;if(Fr!==null){var s=Fr.memoizedState;if(a=s.destroy,r!==null&&v1(r,s.deps)){i.memoizedState=Mf(t,n,a,r);return}}dr.flags|=e,i.memoizedState=Mf(1|t,n,a,r)}function UC(e,t){return lp(8390656,8,e,t)}function w1(e,t){return p0(2048,8,e,t)}function WM(e,t){return p0(4,2,e,t)}function HM(e,t){return p0(4,4,e,t)}function qM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KM(e,t,n){return n=n!=null?n.concat([e]):null,p0(4,4,qM.bind(null,t,e),n)}function k1(){}function GM(e,t){var n=Ra();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&v1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function YM(e,t){var n=Ra();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&v1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function XM(e,t,n){return dc&21?(cs(n,t)||(n=tM(),dr.lanes|=n,fc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wi=!0),e.memoizedState=n)}function a6(e,t){var n=In;In=n!==0&&4>n?n:4,e(!0);var r=cv.transition;cv.transition={};try{e(!1),t()}finally{In=n,cv.transition=r}}function QM(){return Ra().memoizedState}function s6(e,t,n){var r=dl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZM(e))JM(t,n);else if(n=OM(e,t,n,r),n!==null){var i=Ei();ss(n,e,r,i),eO(n,t,r)}}function o6(e,t,n){var r=dl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZM(e))JM(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,cs(o,s)){var l=t.interleaved;l===null?(i.next=i,m1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=OM(e,t,i,r),n!==null&&(i=Ei(),ss(n,e,r,i),eO(n,t,r))}}function ZM(e){var t=e.alternate;return e===dr||t!==null&&t===dr}function JM(e,t){nf=Up=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eO(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jw(e,n)}}var Vp={readContext:Fa,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useInsertionEffect:di,useLayoutEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useMutableSource:di,useSyncExternalStore:di,useId:di,unstable_isNewReconciler:!1},l6={readContext:Fa,useCallback:function(e,t){return Es().memoizedState=[e,t===void 0?null:t],e},useContext:Fa,useEffect:UC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,lp(4194308,4,qM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lp(4194308,4,e,t)},useInsertionEffect:function(e,t){return lp(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Es();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=s6.bind(null,dr,e),[r.memoizedState,e]},useRef:function(e){var t=Es();return e={current:e},t.memoizedState=e},useState:zC,useDebugValue:k1,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=zC(!1),t=e[0];return e=a6.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dr,i=Es();if(rr){if(n===void 0)throw Error(He(407));n=n()}else{if(n=t(),Xr===null)throw Error(He(349));dc&30||FM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,UC(BM.bind(null,r,a,e),[e]),r.flags|=2048,Mf(9,RM.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Es(),t=Xr.identifierPrefix;if(rr){var n=ao,r=io;n=(r&~(1<<32-as(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ef++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=i6++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},c6={readContext:Fa,useCallback:GM,useContext:Fa,useEffect:w1,useImperativeHandle:KM,useInsertionEffect:WM,useLayoutEffect:HM,useMemo:YM,useReducer:uv,useRef:VM,useState:function(){return uv(Df)},useDebugValue:k1,useDeferredValue:function(e){var t=Ra();return XM(t,Fr.memoizedState,e)},useTransition:function(){var e=uv(Df)[0],t=Ra().memoizedState;return[e,t]},useMutableSource:LM,useSyncExternalStore:$M,useId:QM,unstable_isNewReconciler:!1},u6={readContext:Fa,useCallback:GM,useContext:Fa,useEffect:w1,useImperativeHandle:KM,useInsertionEffect:WM,useLayoutEffect:HM,useMemo:YM,useReducer:dv,useRef:VM,useState:function(){return dv(Df)},useDebugValue:k1,useDeferredValue:function(e){var t=Ra();return Fr===null?t.memoizedState=e:XM(t,Fr.memoizedState,e)},useTransition:function(){var e=dv(Df)[0],t=Ra().memoizedState;return[e,t]},useMutableSource:LM,useSyncExternalStore:$M,useId:QM,unstable_isNewReconciler:!1};function Ja(e,t){if(e&&e.defaultProps){t=fr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xy(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var g0={isMounted:function(e){return(e=e._reactInternals)?Ac(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ei(),i=dl(e),a=co(r,i);a.payload=t,n!=null&&(a.callback=n),t=cl(e,a,i),t!==null&&(ss(t,e,i,r),sp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ei(),i=dl(e),a=co(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=cl(e,a,i),t!==null&&(ss(t,e,i,r),sp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ei(),r=dl(e),i=co(n,r);i.tag=2,t!=null&&(i.callback=t),t=cl(e,i,r),t!==null&&(ss(t,e,r,n),sp(t,e,r))}};function VC(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Nf(n,r)||!Nf(i,a):!0}function tO(e,t,n){var r=!1,i=xl,a=t.contextType;return typeof a=="object"&&a!==null?a=Fa(a):(i=Ki(t)?cc:bi.current,r=t.contextTypes,a=(r=r!=null)?Tu(e,i):xl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=g0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function WC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&g0.enqueueReplaceState(t,t.state,null)}function Qy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},h1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Fa(a):(a=Ki(t)?cc:bi.current,i.context=Tu(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Xy(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&g0.enqueueReplaceState(i,i.state,null),Bp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ou(e,t){try{var n="",r=t;do n+=FB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function fv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var d6=typeof WeakMap=="function"?WeakMap:Map;function nO(e,t,n){n=co(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hp||(Hp=!0,lb=r),Zy(e,t)},n}function rO(e,t,n){n=co(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Zy(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Zy(e,t),typeof r!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function HC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new d6;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=C6.bind(null,e,t,n),t.then(e,e))}function qC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function KC(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=co(-1,1),t.tag=2,cl(n,t,1))),n.lanes|=1),e)}var f6=jo.ReactCurrentOwner,Wi=!1;function Ai(e,t,n,r){t.child=e===null?MM(t,null,n,r):Du(t,e.child,n,r)}function GC(e,t,n,r,i){n=n.render;var a=t.ref;return ku(t,i),r=y1(e,t,n,r,a,i),n=b1(),e!==null&&!Wi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vo(e,t,i)):(rr&&n&&o1(t),t.flags|=1,Ai(e,t,r,i),t.child)}function YC(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!E1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,iO(e,t,a,r,i)):(e=fp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Nf,n(s,r)&&e.ref===t.ref)return vo(e,t,i)}return t.flags|=1,e=fl(a,r),e.ref=t.ref,e.return=t,t.child=e}function iO(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Nf(a,r)&&e.ref===t.ref)if(Wi=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Wi=!0);else return t.lanes=e.lanes,vo(e,t,i)}return Jy(e,t,n,r,i)}function aO(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(du,ca),ca|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wn(du,ca),ca|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Wn(du,ca),ca|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Wn(du,ca),ca|=r;return Ai(e,t,i,n),t.child}function sO(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jy(e,t,n,r,i){var a=Ki(n)?cc:bi.current;return a=Tu(t,a),ku(t,i),n=y1(e,t,n,r,a,i),r=b1(),e!==null&&!Wi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vo(e,t,i)):(rr&&r&&o1(t),t.flags|=1,Ai(e,t,n,i),t.child)}function XC(e,t,n,r,i){if(Ki(n)){var a=!0;_p(t)}else a=!1;if(ku(t,i),t.stateNode===null)cp(e,t),tO(t,n,r),Qy(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fa(c):(c=Ki(n)?cc:bi.current,c=Tu(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&WC(t,s,r,c),Go=!1;var h=t.memoizedState;s.state=h,Bp(t,r,s,i),l=t.memoizedState,o!==r||h!==l||qi.current||Go?(typeof d=="function"&&(Xy(t,n,d,r),l=t.memoizedState),(o=Go||VC(t,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,IM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ja(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fa(l):(l=Ki(n)?cc:bi.current,l=Tu(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&WC(t,s,r,l),Go=!1,h=t.memoizedState,s.state=h,Bp(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||qi.current||Go?(typeof m=="function"&&(Xy(t,n,m,r),p=t.memoizedState),(c=Go||VC(t,n,c,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return eb(e,t,n,r,a,i)}function eb(e,t,n,r,i,a){sO(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&_C(t,n,!1),vo(e,t,a);r=t.stateNode,f6.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Du(t,e.child,null,a),t.child=Du(t,null,o,a)):Ai(e,t,o,a),t.memoizedState=r.state,i&&_C(t,n,!0),t.child}function oO(e){var t=e.stateNode;t.pendingContext?IC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&IC(e,t.context,!1),p1(e,t.containerInfo)}function QC(e,t,n,r,i){return Eu(),c1(i),t.flags|=256,Ai(e,t,n,r),t.child}var tb={dehydrated:null,treeContext:null,retryLane:0};function nb(e){return{baseLanes:e,cachePool:null,transitions:null}}function lO(e,t,n){var r=t.pendingProps,i=lr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wn(lr,i&1),e===null)return Gy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=y0(s,r,0,null),e=nc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=nb(n),t.memoizedState=tb,e):S1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return m6(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=fl(o,a):(a=nc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?nb(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=tb,r}return a=e.child,e=a.sibling,r=fl(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function S1(e,t){return t=y0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nh(e,t,n,r){return r!==null&&c1(r),Du(t,e.child,null,n),e=S1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m6(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=fv(Error(He(422))),Nh(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=y0({mode:"visible",children:r.children},i,0,null),a=nc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Du(t,e.child,null,s),t.child.memoizedState=nb(s),t.memoizedState=tb,a);if(!(t.mode&1))return Nh(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(He(419)),r=fv(a,r,void 0),Nh(e,t,s,r)}if(o=(s&e.childLanes)!==0,Wi||o){if(r=Xr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,xo(e,i),ss(r,e,i,-1))}return T1(),r=fv(Error(He(421))),Nh(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=j6.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,fa=ll(i.nextSibling),ha=t,rr=!0,ts=null,e!==null&&(Ma[Oa++]=io,Ma[Oa++]=ao,Ma[Oa++]=uc,io=e.id,ao=e.overflow,uc=t),t=S1(t,r.children),t.flags|=4096,t)}function ZC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yy(e.return,t,n)}function mv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function cO(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ai(e,t,r.children,n),r=lr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ZC(e,n,t);else if(e.tag===19)ZC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wn(lr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zp(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),mv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zp(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}mv(t,!0,n,null,a);break;case"together":mv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,n=fl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function h6(e,t,n){switch(t.tag){case 3:oO(t),Eu();break;case 5:_M(t);break;case 1:Ki(t.type)&&_p(t);break;case 4:p1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Wn(Fp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wn(lr,lr.current&1),t.flags|=128,null):n&t.child.childLanes?lO(e,t,n):(Wn(lr,lr.current&1),e=vo(e,t,n),e!==null?e.sibling:null);Wn(lr,lr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cO(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wn(lr,lr.current),r)break;return null;case 22:case 23:return t.lanes=0,aO(e,t,n)}return vo(e,t,n)}var uO,rb,dO,fO;uO=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rb=function(){};dO=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gl(Ls.current);var a=null;switch(n){case"input":i=Cy(e,i),r=Cy(e,r),a=[];break;case"select":i=fr({},i,{value:void 0}),r=fr({},r,{value:void 0}),a=[];break;case"textarea":i=Py(e,i),r=Py(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Op)}Ey(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Yn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};fO=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ad(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function p6(e,t,n){var r=t.pendingProps;switch(l1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(t),null;case 1:return Ki(t.type)&&Ip(),fi(t),null;case 3:return r=t.stateNode,Mu(),Qn(qi),Qn(bi),x1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ts!==null&&(db(ts),ts=null))),rb(e,t),fi(t),null;case 5:g1(t);var i=Gl(Tf.current);if(n=t.type,e!==null&&t.stateNode!=null)dO(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(He(166));return fi(t),null}if(e=Gl(Ls.current),kh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Os]=t,r[Af]=a,e=(t.mode&1)!==0,n){case"dialog":Yn("cancel",r),Yn("close",r);break;case"iframe":case"object":case"embed":Yn("load",r);break;case"video":case"audio":for(i=0;i<Wd.length;i++)Yn(Wd[i],r);break;case"source":Yn("error",r);break;case"img":case"image":case"link":Yn("error",r),Yn("load",r);break;case"details":Yn("toggle",r);break;case"input":oC(r,a),Yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Yn("invalid",r);break;case"textarea":cC(r,a),Yn("invalid",r)}Ey(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&wh(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&wh(r.textContent,o,e),i=["children",""+o]):xf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Yn("scroll",r)}switch(n){case"input":mh(r),lC(r,a,!0);break;case"textarea":mh(r),uC(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Op)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=BD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Os]=t,e[Af]=r,uO(e,t,!1,!1),t.stateNode=e;e:{switch(s=Dy(n,r),n){case"dialog":Yn("cancel",e),Yn("close",e),i=r;break;case"iframe":case"object":case"embed":Yn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Wd.length;i++)Yn(Wd[i],e);i=r;break;case"source":Yn("error",e),i=r;break;case"img":case"image":case"link":Yn("error",e),Yn("load",e),i=r;break;case"details":Yn("toggle",e),i=r;break;case"input":oC(e,r),i=Cy(e,r),Yn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=fr({},r,{value:void 0}),Yn("invalid",e);break;case"textarea":cC(e,r),i=Py(e,r),Yn("invalid",e);break;default:i=r}Ey(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?VD(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zD(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vf(e,l):typeof l=="number"&&vf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Yn("scroll",e):l!=null&&Kw(e,a,l,s))}switch(n){case"input":mh(e),lC(e,r,!1);break;case"textarea":mh(e),uC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gl(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?vu(e,!!r.multiple,a,!1):r.defaultValue!=null&&vu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Op)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fi(t),null;case 6:if(e&&t.stateNode!=null)fO(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(He(166));if(n=Gl(Tf.current),Gl(Ls.current),kh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Os]=t,(a=r.nodeValue!==n)&&(e=ha,e!==null))switch(e.tag){case 3:wh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Os]=t,t.stateNode=r}return fi(t),null;case 13:if(Qn(lr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rr&&fa!==null&&t.mode&1&&!(t.flags&128))EM(),Eu(),t.flags|=98560,a=!1;else if(a=kh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(He(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(He(317));a[Os]=t}else Eu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fi(t),a=!1}else ts!==null&&(db(ts),ts=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||lr.current&1?Br===0&&(Br=3):T1())),t.updateQueue!==null&&(t.flags|=4),fi(t),null);case 4:return Mu(),rb(e,t),e===null&&Cf(t.stateNode.containerInfo),fi(t),null;case 10:return f1(t.type._context),fi(t),null;case 17:return Ki(t.type)&&Ip(),fi(t),null;case 19:if(Qn(lr),a=t.memoizedState,a===null)return fi(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Ad(a,!1);else{if(Br!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=zp(e),s!==null){for(t.flags|=128,Ad(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wn(lr,lr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Nr()>Iu&&(t.flags|=128,r=!0,Ad(a,!1),t.lanes=4194304)}else{if(!r)if(e=zp(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ad(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!rr)return fi(t),null}else 2*Nr()-a.renderingStartTime>Iu&&n!==1073741824&&(t.flags|=128,r=!0,Ad(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Nr(),t.sibling=null,n=lr.current,Wn(lr,r?n&1|2:n&1),t):(fi(t),null);case 22:case 23:return P1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ca&1073741824&&(fi(t),t.subtreeFlags&6&&(t.flags|=8192)):fi(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function g6(e,t){switch(l1(t),t.tag){case 1:return Ki(t.type)&&Ip(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mu(),Qn(qi),Qn(bi),x1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return g1(t),null;case 13:if(Qn(lr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));Eu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qn(lr),null;case 4:return Mu(),null;case 10:return f1(t.type._context),null;case 22:case 23:return P1(),null;case 24:return null;default:return null}}var Ch=!1,pi=!1,x6=typeof WeakSet=="function"?WeakSet:Set,yt=null;function uu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vr(e,t,r)}else n.current=null}function ib(e,t,n){try{n()}catch(r){vr(e,t,r)}}var JC=!1;function v6(e,t){if(zy=Ep,e=xM(),s1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uy={focusedElem:e,selectionRange:n},Ep=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){t=yt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ja(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(N){vr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}return p=JC,JC=!1,p}function rf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&ib(t,n,a)}i=i.next}while(i!==r)}}function x0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ab(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function mO(e){var t=e.alternate;t!==null&&(e.alternate=null,mO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Os],delete t[Af],delete t[Hy],delete t[e6],delete t[t6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hO(e){return e.tag===5||e.tag===3||e.tag===4}function e2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Op));else if(r!==4&&(e=e.child,e!==null))for(sb(e,t,n),e=e.sibling;e!==null;)sb(e,t,n),e=e.sibling}function ob(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ob(e,t,n),e=e.sibling;e!==null;)ob(e,t,n),e=e.sibling}var ai=null,es=!1;function Vo(e,t,n){for(n=n.child;n!==null;)pO(e,t,n),n=n.sibling}function pO(e,t,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(c0,n)}catch{}switch(n.tag){case 5:pi||uu(n,t);case 6:var r=ai,i=es;ai=null,Vo(e,t,n),ai=r,es=i,ai!==null&&(es?(e=ai,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ai.removeChild(n.stateNode));break;case 18:ai!==null&&(es?(e=ai,n=n.stateNode,e.nodeType===8?sv(e.parentNode,n):e.nodeType===1&&sv(e,n),kf(e)):sv(ai,n.stateNode));break;case 4:r=ai,i=es,ai=n.stateNode.containerInfo,es=!0,Vo(e,t,n),ai=r,es=i;break;case 0:case 11:case 14:case 15:if(!pi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&ib(n,t,s),i=i.next}while(i!==r)}Vo(e,t,n);break;case 1:if(!pi&&(uu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){vr(n,t,o)}Vo(e,t,n);break;case 21:Vo(e,t,n);break;case 22:n.mode&1?(pi=(r=pi)||n.memoizedState!==null,Vo(e,t,n),pi=r):Vo(e,t,n);break;default:Vo(e,t,n)}}function t2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new x6),t.forEach(function(r){var i=A6.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Za(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ai=o.stateNode,es=!1;break e;case 3:ai=o.stateNode.containerInfo,es=!0;break e;case 4:ai=o.stateNode.containerInfo,es=!0;break e}o=o.return}if(ai===null)throw Error(He(160));pO(a,s,i),ai=null,es=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){vr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gO(t,e),t=t.sibling}function gO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Za(t,e),js(e),r&4){try{rf(3,e,e.return),x0(3,e)}catch(g){vr(e,e.return,g)}try{rf(5,e,e.return)}catch(g){vr(e,e.return,g)}}break;case 1:Za(t,e),js(e),r&512&&n!==null&&uu(n,n.return);break;case 5:if(Za(t,e),js(e),r&512&&n!==null&&uu(n,n.return),e.flags&32){var i=e.stateNode;try{vf(i,"")}catch(g){vr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&FD(i,a),Dy(o,s);var c=Dy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?VD(i,f):d==="dangerouslySetInnerHTML"?zD(i,f):d==="children"?vf(i,f):Kw(i,d,f,c)}switch(o){case"input":jy(i,a);break;case"textarea":RD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?vu(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?vu(i,!!a.multiple,a.defaultValue,!0):vu(i,!!a.multiple,a.multiple?[]:"",!1))}i[Af]=a}catch(g){vr(e,e.return,g)}}break;case 6:if(Za(t,e),js(e),r&4){if(e.stateNode===null)throw Error(He(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){vr(e,e.return,g)}}break;case 3:if(Za(t,e),js(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kf(t.containerInfo)}catch(g){vr(e,e.return,g)}break;case 4:Za(t,e),js(e);break;case 13:Za(t,e),js(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(j1=Nr())),r&4&&t2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pi=(c=pi)||d,Za(t,e),pi=c):Za(t,e),js(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(yt=e,d=e.child;d!==null;){for(f=yt=d;yt!==null;){switch(h=yt,m=h.child,h.tag){case 0:case 11:case 14:case 15:rf(4,h,h.return);break;case 1:uu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){vr(r,n,g)}}break;case 5:uu(h,h.return);break;case 22:if(h.memoizedState!==null){r2(f);continue}}m!==null?(m.return=h,yt=m):r2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=UD("display",s))}catch(g){vr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){vr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Za(t,e),js(e),r&4&&t2(e);break;case 21:break;default:Za(t,e),js(e)}}function js(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hO(n)){var r=n;break e}n=n.return}throw Error(He(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vf(i,""),r.flags&=-33);var a=e2(e);ob(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=e2(e);sb(e,o,s);break;default:throw Error(He(161))}}catch(l){vr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function y6(e,t,n){yt=e,xO(e)}function xO(e,t,n){for(var r=(e.mode&1)!==0;yt!==null;){var i=yt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ch;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||pi;o=Ch;var c=pi;if(Ch=s,(pi=l)&&!c)for(yt=i;yt!==null;)s=yt,l=s.child,s.tag===22&&s.memoizedState!==null?i2(i):l!==null?(l.return=s,yt=l):i2(i);for(;a!==null;)yt=a,xO(a),a=a.sibling;yt=i,Ch=o,pi=c}n2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,yt=a):n2(e)}}function n2(e){for(;yt!==null;){var t=yt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pi||x0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ja(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&BC(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}BC(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&kf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}pi||t.flags&512&&ab(t)}catch(h){vr(t,t.return,h)}}if(t===e){yt=null;break}if(n=t.sibling,n!==null){n.return=t.return,yt=n;break}yt=t.return}}function r2(e){for(;yt!==null;){var t=yt;if(t===e){yt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,yt=n;break}yt=t.return}}function i2(e){for(;yt!==null;){var t=yt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{x0(4,t)}catch(l){vr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){vr(t,i,l)}}var a=t.return;try{ab(t)}catch(l){vr(t,a,l)}break;case 5:var s=t.return;try{ab(t)}catch(l){vr(t,s,l)}}}catch(l){vr(t,t.return,l)}if(t===e){yt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,yt=o;break}yt=t.return}}var b6=Math.ceil,Wp=jo.ReactCurrentDispatcher,N1=jo.ReactCurrentOwner,$a=jo.ReactCurrentBatchConfig,Nn=0,Xr=null,Mr=null,li=0,ca=0,du=Sl(0),Br=0,Of=null,fc=0,v0=0,C1=0,af=null,Vi=null,j1=0,Iu=1/0,Zs=null,Hp=!1,lb=null,ul=null,jh=!1,nl=null,qp=0,sf=0,cb=null,up=-1,dp=0;function Ei(){return Nn&6?Nr():up!==-1?up:up=Nr()}function dl(e){return e.mode&1?Nn&2&&li!==0?li&-li:r6.transition!==null?(dp===0&&(dp=tM()),dp):(e=In,e!==0||(e=window.event,e=e===void 0?16:lM(e.type)),e):1}function ss(e,t,n,r){if(50<sf)throw sf=0,cb=null,Error(He(185));lm(e,n,r),(!(Nn&2)||e!==Xr)&&(e===Xr&&(!(Nn&2)&&(v0|=n),Br===4&&Jo(e,li)),Gi(e,r),n===1&&Nn===0&&!(t.mode&1)&&(Iu=Nr()+500,h0&&Nl()))}function Gi(e,t){var n=e.callbackNode;rz(e,t);var r=Tp(e,e===Xr?li:0);if(r===0)n!==null&&mC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mC(n),t===1)e.tag===0?n6(a2.bind(null,e)):AM(a2.bind(null,e)),Zz(function(){!(Nn&6)&&Nl()}),n=null;else{switch(nM(r)){case 1:n=Zw;break;case 4:n=JD;break;case 16:n=Pp;break;case 536870912:n=eM;break;default:n=Pp}n=CO(n,vO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vO(e,t){if(up=-1,dp=0,Nn&6)throw Error(He(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=Tp(e,e===Xr?li:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kp(e,r);else{t=r;var i=Nn;Nn|=2;var a=bO();(Xr!==e||li!==t)&&(Zs=null,Iu=Nr()+500,tc(e,t));do try{S6();break}catch(o){yO(e,o)}while(!0);d1(),Wp.current=a,Nn=i,Mr!==null?t=0:(Xr=null,li=0,t=Br)}if(t!==0){if(t===2&&(i=Ly(e),i!==0&&(r=i,t=ub(e,i))),t===1)throw n=Of,tc(e,0),Jo(e,r),Gi(e,Nr()),n;if(t===6)Jo(e,r);else{if(i=e.current.alternate,!(r&30)&&!w6(i)&&(t=Kp(e,r),t===2&&(a=Ly(e),a!==0&&(r=a,t=ub(e,a))),t===1))throw n=Of,tc(e,0),Jo(e,r),Gi(e,Nr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(He(345));case 2:Rl(e,Vi,Zs);break;case 3:if(Jo(e,r),(r&130023424)===r&&(t=j1+500-Nr(),10<t)){if(Tp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ei(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wy(Rl.bind(null,e,Vi,Zs),t);break}Rl(e,Vi,Zs);break;case 4:if(Jo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-as(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Nr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b6(r/1960))-r,10<r){e.timeoutHandle=Wy(Rl.bind(null,e,Vi,Zs),r);break}Rl(e,Vi,Zs);break;case 5:Rl(e,Vi,Zs);break;default:throw Error(He(329))}}}return Gi(e,Nr()),e.callbackNode===n?vO.bind(null,e):null}function ub(e,t){var n=af;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),e=Kp(e,t),e!==2&&(t=Vi,Vi=n,t!==null&&db(t)),e}function db(e){Vi===null?Vi=e:Vi.push.apply(Vi,e)}function w6(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!cs(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jo(e,t){for(t&=~C1,t&=~v0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-as(t),r=1<<n;e[n]=-1,t&=~r}}function a2(e){if(Nn&6)throw Error(He(327));Su();var t=Tp(e,0);if(!(t&1))return Gi(e,Nr()),null;var n=Kp(e,t);if(e.tag!==0&&n===2){var r=Ly(e);r!==0&&(t=r,n=ub(e,r))}if(n===1)throw n=Of,tc(e,0),Jo(e,t),Gi(e,Nr()),n;if(n===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rl(e,Vi,Zs),Gi(e,Nr()),null}function A1(e,t){var n=Nn;Nn|=1;try{return e(t)}finally{Nn=n,Nn===0&&(Iu=Nr()+500,h0&&Nl())}}function mc(e){nl!==null&&nl.tag===0&&!(Nn&6)&&Su();var t=Nn;Nn|=1;var n=$a.transition,r=In;try{if($a.transition=null,In=1,e)return e()}finally{In=r,$a.transition=n,Nn=t,!(Nn&6)&&Nl()}}function P1(){ca=du.current,Qn(du)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qz(n)),Mr!==null)for(n=Mr.return;n!==null;){var r=n;switch(l1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ip();break;case 3:Mu(),Qn(qi),Qn(bi),x1();break;case 5:g1(r);break;case 4:Mu();break;case 13:Qn(lr);break;case 19:Qn(lr);break;case 10:f1(r.type._context);break;case 22:case 23:P1()}n=n.return}if(Xr=e,Mr=e=fl(e.current,null),li=ca=t,Br=0,Of=null,C1=v0=fc=0,Vi=af=null,Kl!==null){for(t=0;t<Kl.length;t++)if(n=Kl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Kl=null}return e}function yO(e,t){do{var n=Mr;try{if(d1(),op.current=Vp,Up){for(var r=dr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Up=!1}if(dc=0,Yr=Fr=dr=null,nf=!1,Ef=0,N1.current=null,n===null||n.return===null){Br=1,Of=t,Mr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=li,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=qC(s);if(m!==null){m.flags&=-257,KC(m,s,o,a,t),m.mode&1&&HC(a,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){HC(a,c,t),T1();break e}l=Error(He(426))}}else if(rr&&o.mode&1){var y=qC(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),KC(y,s,o,a,t),c1(Ou(l,o));break e}}a=l=Ou(l,o),Br!==4&&(Br=2),af===null?af=[a]:af.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=nO(a,l,t);RC(a,x);break e;case 1:o=l;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ul===null||!ul.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=rO(a,o,t);RC(a,N);break e}}a=a.return}while(a!==null)}kO(n)}catch(C){t=C,Mr===n&&n!==null&&(Mr=n=n.return);continue}break}while(!0)}function bO(){var e=Wp.current;return Wp.current=Vp,e===null?Vp:e}function T1(){(Br===0||Br===3||Br===2)&&(Br=4),Xr===null||!(fc&268435455)&&!(v0&268435455)||Jo(Xr,li)}function Kp(e,t){var n=Nn;Nn|=2;var r=bO();(Xr!==e||li!==t)&&(Zs=null,tc(e,t));do try{k6();break}catch(i){yO(e,i)}while(!0);if(d1(),Nn=n,Wp.current=r,Mr!==null)throw Error(He(261));return Xr=null,li=0,Br}function k6(){for(;Mr!==null;)wO(Mr)}function S6(){for(;Mr!==null&&!GB();)wO(Mr)}function wO(e){var t=NO(e.alternate,e,ca);e.memoizedProps=e.pendingProps,t===null?kO(e):Mr=t,N1.current=null}function kO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=g6(n,t),n!==null){n.flags&=32767,Mr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Br=6,Mr=null;return}}else if(n=p6(n,t,ca),n!==null){Mr=n;return}if(t=t.sibling,t!==null){Mr=t;return}Mr=t=e}while(t!==null);Br===0&&(Br=5)}function Rl(e,t,n){var r=In,i=$a.transition;try{$a.transition=null,In=1,N6(e,t,n,r)}finally{$a.transition=i,In=r}return null}function N6(e,t,n,r){do Su();while(nl!==null);if(Nn&6)throw Error(He(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(iz(e,a),e===Xr&&(Mr=Xr=null,li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jh||(jh=!0,CO(Pp,function(){return Su(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=$a.transition,$a.transition=null;var s=In;In=1;var o=Nn;Nn|=4,N1.current=null,v6(e,n),gO(n,e),Wz(Uy),Ep=!!zy,Uy=zy=null,e.current=n,y6(n),YB(),Nn=o,In=s,$a.transition=a}else e.current=n;if(jh&&(jh=!1,nl=e,qp=i),a=e.pendingLanes,a===0&&(ul=null),ZB(n.stateNode),Gi(e,Nr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hp)throw Hp=!1,e=lb,lb=null,e;return qp&1&&e.tag!==0&&Su(),a=e.pendingLanes,a&1?e===cb?sf++:(sf=0,cb=e):sf=0,Nl(),null}function Su(){if(nl!==null){var e=nM(qp),t=$a.transition,n=In;try{if($a.transition=null,In=16>e?16:e,nl===null)var r=!1;else{if(e=nl,nl=null,qp=0,Nn&6)throw Error(He(331));var i=Nn;for(Nn|=4,yt=e.current;yt!==null;){var a=yt,s=a.child;if(yt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(yt=c;yt!==null;){var d=yt;switch(d.tag){case 0:case 11:case 15:rf(8,d,a)}var f=d.child;if(f!==null)f.return=d,yt=f;else for(;yt!==null;){d=yt;var h=d.sibling,m=d.return;if(mO(d),d===c){yt=null;break}if(h!==null){h.return=m,yt=h;break}yt=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}yt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,yt=s;else e:for(;yt!==null;){if(a=yt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:rf(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,yt=x;break e}yt=a.return}}var w=e.current;for(yt=w;yt!==null;){s=yt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,yt=b;else e:for(s=w;yt!==null;){if(o=yt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:x0(9,o)}}catch(C){vr(o,o.return,C)}if(o===s){yt=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,yt=N;break e}yt=o.return}}if(Nn=i,Nl(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(c0,e)}catch{}r=!0}return r}finally{In=n,$a.transition=t}}return!1}function s2(e,t,n){t=Ou(n,t),t=nO(e,t,1),e=cl(e,t,1),t=Ei(),e!==null&&(lm(e,1,t),Gi(e,t))}function vr(e,t,n){if(e.tag===3)s2(e,e,n);else for(;t!==null;){if(t.tag===3){s2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ul===null||!ul.has(r))){e=Ou(n,e),e=rO(t,e,1),t=cl(t,e,1),e=Ei(),t!==null&&(lm(t,1,e),Gi(t,e));break}}t=t.return}}function C6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ei(),e.pingedLanes|=e.suspendedLanes&n,Xr===e&&(li&n)===n&&(Br===4||Br===3&&(li&130023424)===li&&500>Nr()-j1?tc(e,0):C1|=n),Gi(e,t)}function SO(e,t){t===0&&(e.mode&1?(t=gh,gh<<=1,!(gh&130023424)&&(gh=4194304)):t=1);var n=Ei();e=xo(e,t),e!==null&&(lm(e,t,n),Gi(e,n))}function j6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),SO(e,n)}function A6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(He(314))}r!==null&&r.delete(t),SO(e,n)}var NO;NO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qi.current)Wi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Wi=!1,h6(e,t,n);Wi=!!(e.flags&131072)}else Wi=!1,rr&&t.flags&1048576&&PM(t,$p,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cp(e,t),e=t.pendingProps;var i=Tu(t,bi.current);ku(t,n),i=y1(null,t,r,e,i,n);var a=b1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ki(r)?(a=!0,_p(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,h1(t),i.updater=g0,t.stateNode=i,i._reactInternals=t,Qy(t,r,e,n),t=eb(null,t,r,!0,a,n)):(t.tag=0,rr&&a&&o1(t),Ai(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(cp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=T6(r),e=Ja(r,e),i){case 0:t=Jy(null,t,r,e,n);break e;case 1:t=XC(null,t,r,e,n);break e;case 11:t=GC(null,t,r,e,n);break e;case 14:t=YC(null,t,r,Ja(r.type,e),n);break e}throw Error(He(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ja(r,i),Jy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ja(r,i),XC(e,t,r,i,n);case 3:e:{if(oO(t),e===null)throw Error(He(387));r=t.pendingProps,a=t.memoizedState,i=a.element,IM(e,t),Bp(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ou(Error(He(423)),t),t=QC(e,t,r,n,i);break e}else if(r!==i){i=Ou(Error(He(424)),t),t=QC(e,t,r,n,i);break e}else for(fa=ll(t.stateNode.containerInfo.firstChild),ha=t,rr=!0,ts=null,n=MM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eu(),r===i){t=vo(e,t,n);break e}Ai(e,t,r,n)}t=t.child}return t;case 5:return _M(t),e===null&&Gy(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Vy(r,i)?s=null:a!==null&&Vy(r,a)&&(t.flags|=32),sO(e,t),Ai(e,t,s,n),t.child;case 6:return e===null&&Gy(t),null;case 13:return lO(e,t,n);case 4:return p1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Du(t,null,r,n):Ai(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ja(r,i),GC(e,t,r,i,n);case 7:return Ai(e,t,t.pendingProps,n),t.child;case 8:return Ai(e,t,t.pendingProps.children,n),t.child;case 12:return Ai(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Wn(Fp,r._currentValue),r._currentValue=s,a!==null)if(cs(a.value,s)){if(a.children===i.children&&!qi.current){t=vo(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=co(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Yy(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(He(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Yy(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ai(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ku(t,n),i=Fa(i),r=r(i),t.flags|=1,Ai(e,t,r,n),t.child;case 14:return r=t.type,i=Ja(r,t.pendingProps),i=Ja(r.type,i),YC(e,t,r,i,n);case 15:return iO(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ja(r,i),cp(e,t),t.tag=1,Ki(r)?(e=!0,_p(t)):e=!1,ku(t,n),tO(t,r,i),Qy(t,r,i,n),eb(null,t,r,!0,e,n);case 19:return cO(e,t,n);case 22:return aO(e,t,n)}throw Error(He(156,t.tag))};function CO(e,t){return ZD(e,t)}function P6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(e,t,n,r){return new P6(e,t,n,r)}function E1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function T6(e){if(typeof e=="function")return E1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yw)return 11;if(e===Xw)return 14}return 2}function fl(e,t){var n=e.alternate;return n===null?(n=_a(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fp(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")E1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case tu:return nc(n.children,i,a,t);case Gw:s=8,i|=8;break;case wy:return e=_a(12,n,t,i|2),e.elementType=wy,e.lanes=a,e;case ky:return e=_a(13,n,t,i),e.elementType=ky,e.lanes=a,e;case Sy:return e=_a(19,n,t,i),e.elementType=Sy,e.lanes=a,e;case _D:return y0(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case OD:s=10;break e;case ID:s=9;break e;case Yw:s=11;break e;case Xw:s=14;break e;case Ko:s=16,r=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=_a(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function nc(e,t,n,r){return e=_a(7,e,r,t),e.lanes=n,e}function y0(e,t,n,r){return e=_a(22,e,r,t),e.elementType=_D,e.lanes=n,e.stateNode={isHidden:!1},e}function hv(e,t,n){return e=_a(6,e,null,t),e.lanes=n,e}function pv(e,t,n){return t=_a(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function E6(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yx(0),this.expirationTimes=Yx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function D1(e,t,n,r,i,a,s,o,l){return e=new E6(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=_a(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},h1(a),e}function D6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function jO(e){if(!e)return xl;e=e._reactInternals;e:{if(Ac(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ki(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var n=e.type;if(Ki(n))return jM(e,n,t)}return t}function AO(e,t,n,r,i,a,s,o,l){return e=D1(n,r,!0,e,i,a,s,o,l),e.context=jO(null),n=e.current,r=Ei(),i=dl(n),a=co(r,i),a.callback=t??null,cl(n,a,i),e.current.lanes=i,lm(e,i,r),Gi(e,r),e}function b0(e,t,n,r){var i=t.current,a=Ei(),s=dl(i);return n=jO(n),t.context===null?t.context=n:t.pendingContext=n,t=co(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cl(i,t,s),e!==null&&(ss(e,i,s,a),sp(e,i,s)),s}function Gp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function o2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function M1(e,t){o2(e,t),(e=e.alternate)&&o2(e,t)}function M6(){return null}var PO=typeof reportError=="function"?reportError:function(e){console.error(e)};function O1(e){this._internalRoot=e}w0.prototype.render=O1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));b0(e,t,null,null)};w0.prototype.unmount=O1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mc(function(){b0(null,e,null,null)}),t[go]=null}};function w0(e){this._internalRoot=e}w0.prototype.unstable_scheduleHydration=function(e){if(e){var t=aM();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zo.length&&t!==0&&t<Zo[n].priority;n++);Zo.splice(n,0,e),n===0&&oM(e)}};function I1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function k0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function l2(){}function O6(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Gp(s);a.call(c)}}var s=AO(t,r,e,0,null,!1,!1,"",l2);return e._reactRootContainer=s,e[go]=s.current,Cf(e.nodeType===8?e.parentNode:e),mc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Gp(l);o.call(c)}}var l=D1(e,0,!1,null,null,!1,!1,"",l2);return e._reactRootContainer=l,e[go]=l.current,Cf(e.nodeType===8?e.parentNode:e),mc(function(){b0(t,l,n,r)}),l}function S0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Gp(s);o.call(l)}}b0(t,s,e,i)}else s=O6(n,t,e,i,r);return Gp(s)}rM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vd(t.pendingLanes);n!==0&&(Jw(t,n|1),Gi(t,Nr()),!(Nn&6)&&(Iu=Nr()+500,Nl()))}break;case 13:mc(function(){var r=xo(e,1);if(r!==null){var i=Ei();ss(r,e,1,i)}}),M1(e,1)}};e1=function(e){if(e.tag===13){var t=xo(e,134217728);if(t!==null){var n=Ei();ss(t,e,134217728,n)}M1(e,134217728)}};iM=function(e){if(e.tag===13){var t=dl(e),n=xo(e,t);if(n!==null){var r=Ei();ss(n,e,t,r)}M1(e,t)}};aM=function(){return In};sM=function(e,t){var n=In;try{return In=e,t()}finally{In=n}};Oy=function(e,t,n){switch(t){case"input":if(jy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=m0(r);if(!i)throw Error(He(90));$D(r),jy(r,i)}}}break;case"textarea":RD(e,n);break;case"select":t=n.value,t!=null&&vu(e,!!n.multiple,t,!1)}};qD=A1;KD=mc;var I6={usingClientEntryPoint:!1,Events:[um,au,m0,WD,HD,A1]},Pd={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_6={bundleType:Pd.bundleType,version:Pd.version,rendererPackageName:Pd.rendererPackageName,rendererConfig:Pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=XD(e),e===null?null:e.stateNode},findFiberByHostInstance:Pd.findFiberByHostInstance||M6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{c0=Ah.inject(_6),_s=Ah}catch{}}wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I6;wa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I1(t))throw Error(He(200));return D6(e,t,null,n)};wa.createRoot=function(e,t){if(!I1(e))throw Error(He(299));var n=!1,r="",i=PO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=D1(e,1,!1,null,null,n,!1,r,i),e[go]=t.current,Cf(e.nodeType===8?e.parentNode:e),new O1(t)};wa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=XD(t),e=e===null?null:e.stateNode,e};wa.flushSync=function(e){return mc(e)};wa.hydrate=function(e,t,n){if(!k0(t))throw Error(He(200));return S0(null,e,t,!0,n)};wa.hydrateRoot=function(e,t,n){if(!I1(e))throw Error(He(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=PO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=AO(t,null,e,1,n??null,i,!1,a,s),e[go]=t.current,Cf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new w0(t)};wa.render=function(e,t,n){if(!k0(t))throw Error(He(200));return S0(null,e,t,!1,n)};wa.unmountComponentAtNode=function(e){if(!k0(e))throw Error(He(40));return e._reactRootContainer?(mc(function(){S0(null,null,e,!1,function(){e._reactRootContainer=null,e[go]=null})}),!0):!1};wa.unstable_batchedUpdates=A1;wa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!k0(n))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return S0(e,t,n,!1,r)};wa.version="18.3.1-next-f1338f8080-20240426";function TO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TO)}catch(e){console.error(e)}}TO(),TD.exports=wa;var Zu=TD.exports,c2=Zu;yy.createRoot=c2.createRoot,yy.hydrateRoot=c2.hydrateRoot;const L6=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),EO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],DO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],$6=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],MO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],F6=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],R6=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],B6=new Set([10244]),z6=(e,t)=>{var i;if(B6.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return R6.some(a=>r.includes(a))},U6=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},Ph=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},OO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,IO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},la=(e,t=2)=>Number.isFinite(e)?OO()&&Math.abs(e)>=1e4?IO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Ho=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return OO()&&t>=1e4?IO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var V6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const W6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xt=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>v.createElement("svg",{ref:c,...V6,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${W6(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},_O=Xt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),H6=Xt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),_1=Xt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),LO=Xt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),q6=Xt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),K6=Xt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),$O=Xt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),fb=Xt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),G6=Xt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),us=Xt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),Y6=Xt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),X6=Xt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Q6=Xt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Z6=Xt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),If=Xt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),J6=Xt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),L1=Xt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),eU=Xt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),FO=Xt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),tU=Xt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),$1=Xt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),nU=Xt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),F1=Xt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),rU=Xt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),R1=Xt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Zi=Xt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),u2=Xt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),iU=Xt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),aU=Xt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),sU=Xt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),RO=Xt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),_u=Xt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),N0=Xt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),C0=Xt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Yp=Xt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),oU=Xt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),rl=Xt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),rc=Xt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),lU=Xt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),br=Xt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),cU=Xt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),BO=Xt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),_i=Xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_f=Xt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),B1=({className:e})=>u.jsx(iU,{className:e,strokeWidth:3.2}),fm=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},z1=({className:e=""})=>{const t=fm("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},U1=({className:e=""})=>{const t=fm("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},V1=({className:e=""})=>{const t=fm("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},W1=({className:e=""})=>{const t=fm("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},uU=[{id:"overview",label:"Overview",icon:rc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:rc},{id:"fight-breakdown",label:"Fight Breakdown",icon:rl},{id:"top-players",label:"Top Players",icon:rc},{id:"top-skills-outgoing",label:"Top Skills",icon:_1},{id:"squad-composition",label:"Classes",icon:br},{id:"timeline",label:"Squad vs Enemy",icon:br},{id:"map-distribution",label:"Map Distribution",icon:R1}]},{id:"roster",label:"Roster Intel",icon:If,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:If},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:br},{id:"fight-comp",label:"Fight Comp",icon:rl}]},{id:"offense",label:"Offensive Stats",icon:rl,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:rl},{id:"player-breakdown",label:"Player Breakdown",icon:F1},{id:"spike-damage",label:"Spike Damage",icon:_f},{id:"conditions-outgoing",label:"Conditions",icon:N0}]},{id:"defense",label:"Defensive Stats",icon:_u,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:sU},{id:"defense-detailed",label:"Defense Detailed",icon:_u},{id:"defense-mitigation",label:"Damage Mitigation",icon:V1},{id:"support-detailed",label:"Support Detailed",icon:B1},{id:"healing-stats",label:"Healing Stats",icon:FO},{id:"boon-output",label:"Boon Output",icon:U1}]},{id:"other",label:"Other Metrics",icon:Yp,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:L1},{id:"special-buffs",label:"Special Buffs",icon:Yp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:W1},{id:"skill-usage",label:"Skill Usage",icon:$1},{id:"apm-stats",label:"APM Breakdown",icon:z1}]}],dU=(e,t=!0,n=!1)=>{const[r,i]=v.useState(!1),[a,s]=v.useState("overview"),o=v.useRef(null),l=v.useRef(null),c=v.useRef(0),d=v.useMemo(()=>uU,[]),f=v.useMemo(()=>d.flatMap(p=>p.items),[d]),h=p=>{const g=p==="kdr"?"overview":p,y=o.current,x=document.getElementById(g);if(y&&x){const w=y.getBoundingClientRect(),N=x.getBoundingClientRect().top-w.top+y.scrollTop,C=Math.max(0,y.scrollHeight-y.clientHeight),S=Math.min(Math.max(N-16,0),C);y.scrollTo({top:S,behavior:"smooth"}),s(g)}else x&&(x.scrollIntoView({behavior:"smooth",block:"start"}),s(g));i(!1)};v.useEffect(()=>{if(e||n)return;const p=g=>{if(n)return;const y=o.current;if(!y)return;const x=g.target;if(!(x instanceof Element&&x.closest("[data-stats-mobile-nav]"))&&!(x instanceof Node&&y.contains(x))&&g.deltaY!==0&&!(y.scrollHeight<=y.clientHeight)){if(c.current+=g.deltaY,l.current===null){const w=()=>{const b=c.current;if(Math.abs(b)<.5){c.current=0,l.current=null;return}const N=b*.2;c.current=b-N,y.scrollBy({top:N,behavior:"auto"}),l.current=requestAnimationFrame(w)};l.current=requestAnimationFrame(w)}g.preventDefault()}};return window.addEventListener("wheel",p,{passive:!1}),()=>{window.removeEventListener("wheel",p),l.current!==null&&(cancelAnimationFrame(l.current),l.current=null),c.current=0}},[e,n]);const m=p=>{var w;const g=Math.max(0,f.findIndex(b=>b.id===a)),y=Math.min(Math.max(g+p,0),f.length-1),x=(w=f[y])==null?void 0:w.id;x&&h(x)};return v.useEffect(()=>{if(!t||n)return;const p=o.current;if(!p)return;let g=0;const y=()=>{var N;const w=p.getBoundingClientRect().top;let b=((N=f[0])==null?void 0:N.id)||"overview";f.forEach(C=>{const S=document.getElementById(C.id);if(!S)return;S.getBoundingClientRect().top-w<=24&&(b=C.id)}),s(C=>C===b?C:b)},x=()=>{g&&cancelAnimationFrame(g),g=requestAnimationFrame(y)};return y(),p.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{g&&cancelAnimationFrame(g),p.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:i,activeNavId:a,setActiveNavId:s,scrollContainerRef:o,tocGroups:d,tocItems:f,scrollToSection:h,stepSection:m}},d2=["selfBuffs","groupBuffs","squadBuffs"],Qs=(e,t,n=0)=>t?e/t:n,f2=e=>e!=null&&e.classification?e.classification==="Boon":!0,zO=e=>`b${e}`,fU=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},UO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},mU=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let h=1;t==="groupBuffs"?h=Qs(a-i,i,1):t==="squadBuffs"?h=Qs(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?Qs(d,r):Qs(d,r)*100,p=n?Qs(f,r):Qs(f,r)*100;else{const g=Qs(d,r)/(h||1),y=Qs(f,r)/(h||1);m=n?g:g*100,p=n?y:y*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},VO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=mU(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?Qs(i,s):a},hU=(e,t,n,r,i)=>{const a=VO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,c=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${c}%`:c},pU=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const g=t.get(m)||{},y={name:g.name||p.name,stacking:g.stacking??p.stacking,icon:g.icon||p.icon,classification:g.classification||p.classification};t.set(m,y)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",g=m.profession||"Unknown",y=m.group??0,x=h.get(y)||1,w=fU(m,o);n.has(p)||n.set(p,{account:p,profession:g,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const b=n.get(p);b.profession=g,g!=="Unknown"&&(b.professions.add(g),b.professionTimeMs[g]=(b.professionTimeMs[g]||0)+w),b.activeTimeMs+=w,b.numFights+=1,b.groupSupported+=x,b.squadSupported+=f,d2.forEach(N=>{(m[N]||[]).forEach(S=>{var Z,se,fe,J;if(typeof(S==null?void 0:S.id)!="number")return;const j=zO(S.id),O=l[j];if(!f2(O))return;const F=(O==null?void 0:O.stacking)??!1,T=((se=(Z=S.buffData)==null?void 0:Z[0])==null?void 0:se.generation)??0,I=((J=(fe=S.buffData)==null?void 0:fe[0])==null?void 0:J.wasted)??0,{generationMs:M,wastedMs:G}=UO(N,F,T,I,o,x,f);!M&&!G||(t.has(j)||t.set(j,O||{}),b.boons[j]||(b.boons[j]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),b.boons[j][N].generationMs+=M,b.boons[j][N].wastedMs+=G)})})})}),{boonTables:Array.from(t.keys()).filter(a=>f2(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const c=l.boons[a];if(!c||!d2.some(p=>c[p].generationMs>0||c[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(g=>{var x;const y=((x=l.professionTimeMs)==null?void 0:x[g])||0;y>p&&(p=y,h=g)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...c.selfBuffs},groupBuffs:{...c.groupBuffs},squadBuffs:{...c.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},m2=(e,t,n,r,i,a,s={})=>{var m,p,g,y;const l=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!l)return{generationMs:0,wastedMs:0};const c=s[zO(n)],d=(c==null?void 0:c.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((y=(g=l.buffData)==null?void 0:g[0])==null?void 0:y.wasted)??0;return UO(t,d,f,h,r,i,a)},gU={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},xU={methods:gU},vU=xU,H1="count",yU=e=>(e||0)/1e3,bU=(e,t)=>{var i;if(!e)return 0;const n=(i=vU.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},WO=(e,t,n)=>n==="duration"?yU(t):n==="tiered"?bU(e,t):e;function wU(e,t=H1){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return WO(r,i,t)}function kU(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,c=m2(o,"selfBuffs",1122,n,l,a,r),d=m2(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function SU(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function NU(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function CU(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const h2=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},p2=(e,t=H1)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return WO(r,i,t)},g2=e=>SU(e),x2=e=>CU(e),v2=e=>NU(e),y2=(e,t=H1)=>wU(e,t),jU=(e,t)=>kU(e,t),AU="count",HO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},mb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},PU={uploading:!1,message:null,url:null,buildStatus:"idle"},b2=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),qO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},Th=e=>{if(e)return qO[e]},Lf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=b2.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=b2.get(i);if(a)return a}return null},Qc=e=>Lf(e),KO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Lf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(qO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},mp=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=Lf(i);if(a)return a}return e?Lf(e):null},TU=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},EU=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},DU=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},MU=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||TU,s=KO(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(g=>{g&&g.forEach(y=>{if(!y.id)return;let x=`Skill ${y.id}`,w;r&&(r[`s${y.id}`]?(x=r[`s${y.id}`].name||x,w=r[`s${y.id}`].icon||w):r[`${y.id}`]&&(x=r[`${y.id}`].name||x,w=r[`${y.id}`].icon||w));const b=mp(x,y.id,i);if(!b)return;const N=i==null?void 0:i[`b${y.id}`],C=N==null?void 0:N.name,S=s.get(b)||(N==null?void 0:N.icon),j=x.startsWith("Skill ")?C||b:x,O=w||(N==null?void 0:N.icon),F=Number(y.connectedHits??0),T=Number(y.hits??0),I=F>0?F:T,M=Number(y.totalDamage??0);if(!Number.isFinite(I)&&!Number.isFinite(M))return;const G=l[b]||{name:b,icon:S,applications:0,damage:0};G.applications+=Number.isFinite(I)?I:0,G.damage+=Number.isFinite(M)?M:0,!G.icon&&S&&(G.icon=S),l[b]=G;const Z=o[p][b]||{icon:S,applications:0,damage:0,skills:{}};Z.applications+=Number.isFinite(I)?I:0,Z.damage+=Number.isFinite(M)?M:0;const se=Z.skills[j]||{name:j,hits:0,damage:0,icon:O};se.hits+=Number.isFinite(I)?I:0,se.damage+=Number.isFinite(M)?M:0,!se.icon&&O&&(se.icon=O),Z.skills[j]=se,!Z.icon&&S&&(Z.icon=S),o[p][b]=Z})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&c.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const g=Number(p==null?void 0:p.id);if(!Number.isFinite(g))return;const y=i==null?void 0:i[`b${g}`],x=Lf(y==null?void 0:y.name);if(!x||y!=null&&y.classification&&y.classification!=="Condition")return;const w=x;if(!w)return;const b=p.statesPerSource||{};h+=1,Object.entries(b).forEach(([N,C])=>{var I;const S=c.get(N);if(!S)return;f+=1;const j=EU(C),O=DU(C);d+=j;const F=((I=o[S])==null?void 0:I[w])||{applications:0,damage:0,skills:{}};F.applicationsFromBuffs=(F.applicationsFromBuffs||0)+j,F.applicationsFromBuffsActive=(F.applicationsFromBuffsActive||0)+O,o[S]=o[S]||{},o[S][w]=F;const T=l[w]||{name:w,applications:0,damage:0};T.applicationsFromBuffs=(T.applicationsFromBuffs||0)+j,T.applicationsFromBuffsActive=(T.applicationsFromBuffsActive||0)+O,l[w]=T})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},hc={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},OU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function ic(e){return hc[e]||hc.Unknown}function IU(e){return e?OU[e]||e:"Unknown"}function Yl(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=hc[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=IU(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const _U=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},Ci=(e,t)=>_U((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Hd=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i,includePlayerSkillMap:a})=>{const s=m=>{var g;return(Array.isArray((g=m==null?void 0:m.details)==null?void 0:g.players)?m.details.players:[]).length>0},o=e.filter(m=>s(m)),l=r||mb,c=n||HO,d=m=>{if(!m||typeof m!="object")return m;const p=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!p||p.length===0)return m;const g=S=>Array.isArray(S)&&S.some(j=>j&&Number(j.count)>0),y=new Map,x=new Map;e.forEach(S=>{var F;const j=(S==null?void 0:S.filePath)||(S==null?void 0:S.id);j&&y.set(String(j),S);const O=(S==null?void 0:S.permalink)||((F=S==null?void 0:S.details)==null?void 0:F.permalink);typeof O=="string"&&O.trim()&&x.set(O.trim(),S)});const w=p.map(S=>{var M;if(!S||typeof S!="object")return S;const j=S.id?String(S.id):"",O=typeof S.permalink=="string"?S.permalink.trim():"",F=(j?y.get(j):void 0)||(O?x.get(O):void 0);if(!F)return S;let T=S;if(Number(S.timestamp)<=0){const G=Ci(F==null?void 0:F.details,F);G&&(T={...T,timestamp:G})}const I=(M=F==null?void 0:F.details)==null?void 0:M.teamBreakdown;return g(I)&&(T={...T,teamBreakdown:I}),T}),b=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],C=b.some(S=>Array.isArray(S==null?void 0:S.targetFocus)&&S.targetFocus.some(j=>Number((j==null?void 0:j.damage)||0)>0||Number((j==null?void 0:j.hits)||0)>0))?b:w.map((S,j)=>{const O=S&&typeof S.enemyClassCounts=="object"&&S.enemyClassCounts?S.enemyClassCounts:{},F=Object.entries(O).map(([le,D])=>({label:String(le||"Unknown"),count:Number(D||0)})).filter(le=>le.count>0).sort((le,D)=>D.count-le.count||le.label.localeCompare(D.label)),T=F.reduce((le,D)=>le+D.count,0),I=F.map(le=>({label:le.label,damage:le.count,hits:0,share:T>0?le.count/T:0})),M=Number((S==null?void 0:S.enemyDowns)||0),G=Number((S==null?void 0:S.enemyDeaths)||0),Z=Number((S==null?void 0:S.alliesDown)||0),se=Number((S==null?void 0:S.alliesDead)||0),fe=Number((S==null?void 0:S.totalOutgoingDamage)||0),J=Number((S==null?void 0:S.totalIncomingDamage)||0),K=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:S!=null&&S.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((S==null?void 0:S.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((S==null?void 0:S.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:se>0?G/se:G},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:G},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:M},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:se},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Z},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:fe-J},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:fe},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:J},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((S==null?void 0:S.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((S==null?void 0:S.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((S==null?void 0:S.alliesRevived)||0)}];return{id:String((S==null?void 0:S.id)||`fight-${j+1}`),shortLabel:`F${j+1}`,fullLabel:`${String((S==null?void 0:S.mapName)||(S==null?void 0:S.label)||"Unknown Map")}  ${String((S==null?void 0:S.duration)||"--:--")}`,mapName:String((S==null?void 0:S.mapName)||""),timestamp:Number((S==null?void 0:S.timestamp)||0),duration:String((S==null?void 0:S.duration)||"--:--"),isWin:!!(S!=null&&S.isWin),targetFocus:I,squadMetrics:K}});return{...m,fightBreakdown:w,fightDiffMode:C}},f=(()=>{if(t)return d(t);const m=i||AU,p=a!==!1,g=l.topSkillDamageSource||"target",y=l.topSkillsMetric||"damage",x=o.length;let w=0,b=0,N=0,C=0,S=0,j=0,O=0,F=0;const T=E=>{const q=((E==null?void 0:E.players)||[]).filter($e=>!$e.notInSquad);let he=0,ne=0,Ae=0,we=0;return q.forEach($e=>{var qt;const Ye=(qt=$e.defenses)==null?void 0:qt[0];if(!Ye)return;const dt=Number(Ye.downCount||0),zt=Number(Ye.deadCount||0);he+=dt+zt,Ae+=zt}),q.forEach($e=>{!$e.statsTargets||$e.statsTargets.length===0||$e.statsTargets.forEach(Ye=>{const dt=Ye==null?void 0:Ye[0];if(!dt)return;const zt=Number(dt.downed||0),qt=Number(dt.killed||0);ne+=zt+qt,we+=qt})}),{squadDownsDeaths:he,enemyDownsDeaths:ne,squadDeaths:Ae,enemyDeaths:we}},I=E=>{const{squadDownsDeaths:P,enemyDownsDeaths:q}=T(E);return P>0||q>0?q>P:typeof(E==null?void 0:E.success)=="boolean"?E.success:!1},M=new Map,G=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),Z={},se={},fe=new Map,J={},K={},le={},D=new Map,A=new Map,ae=new Set(Object.keys(hc)),k=Object.keys(hc).filter(E=>E&&E!=="Unknown").sort((E,P)=>P.length-E.length),U=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],W=E=>{if(!E)return"Unknown";const P=String(E).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ae.has(P))return P;const q=P.toLowerCase();for(const ne of k)if(q.includes(ne.toLowerCase()))return ne;return U.find(ne=>q.includes(ne.toLowerCase()))||P||"Unknown"},ee=E=>E!=null&&E.classification?E.classification==="Boon":!0,te=new Map,ie=new Map,R=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),B=E=>{const P=Number(E);return Number.isFinite(P)?P:0},H=E=>{const P=String(E).split("|"),q=P[0]||"Unknown",he=W(P[1]||"Unknown"),ne=P[2]||q||"Unknown";return{name:q,profession:he,account:ne}},X=(E,P,q)=>{let he=E.get(P);return he?q.profession&&!he.professionList.includes(q.profession)&&he.professionList.push(q.profession):(he={account:q.account,name:q.name,profession:q.profession,professionList:q.profession?[q.profession]:[],activeMs:0,mitigationTotals:R()},E.set(P,he)),he},$=(E,P,q)=>{let he=E.get(P);return he?q.profession&&!he.professionList.includes(q.profession)&&he.professionList.push(q.profession):(he={account:q.account,name:q.name,profession:q.profession,professionList:q.profession?[q.profession]:[],activeMs:0,mitigationTotals:R(),minion:q.minion},E.set(P,he)),he},oe=(E,P)=>{E.totalHits+=B((P==null?void 0:P.skill_hits)??(P==null?void 0:P.skillHits)),E.blocked+=B(P==null?void 0:P.blocked),E.evaded+=B(P==null?void 0:P.evaded),E.glanced+=B(P==null?void 0:P.glanced),E.missed+=B(P==null?void 0:P.missed),E.invulned+=B(P==null?void 0:P.invulned),E.interrupted+=B(P==null?void 0:P.interrupted),E.totalMitigation+=B((P==null?void 0:P.avoided_damage)??(P==null?void 0:P.avoidedDamage)),E.minMitigation+=B((P==null?void 0:P.min_avoided_damage)??(P==null?void 0:P.minAvoidedDamage))},L=E=>Object.values(E).some(P=>P>0),V=new Map,ve=E=>{const P=V.get(E);if(!P)return{hasSkill:!1,avg:1,min:1,hits:0};const q=P.connectedHits||0,he=q>0?P.totalDamage/q:0,ne=P.minCount>0?P.minTotal/P.minCount:0;return{hasSkill:!0,avg:he,min:ne,hits:q}},Ne=new Map,tt=new Map,z=(E,P,q)=>{const he=E.get(P)||R();return he.totalHits+=q.totalHits,he.blocked+=q.blocked,he.evaded+=q.evaded,he.glanced+=q.glanced,he.missed+=q.missed,he.invulned+=q.invulned,he.interrupted+=q.interrupted,E.set(P,he),he};o.forEach(E=>{const P=E.details;if(!P)return;(P.targets||[]).forEach(he=>{const ne=(he==null?void 0:he.totalDamageDist)||[],Ae=Array.isArray(ne)?ne[0]:null;Ae==null||Ae.forEach(we=>{if(!(we!=null&&we.id))return;const $e=Number(we.id),Ye=V.get($e)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Ye.totalDamage+=Number(we.totalDamage||0),Ye.connectedHits+=Number(we.connectedHits||0);const dt=Number.isFinite(Number(we.min))?Number(we.min):0;Ye.minTotal+=dt,Ye.minCount+=1,V.set($e,Ye)})})}),o.forEach(E=>{var ot,De;const P=E.details;if(!P)return;const q=P.players,he=P.targets||[],ne=P.combatReplayMetaData||{},Ae=(ne==null?void 0:ne.inchToPixel)>0?ne.inchToPixel:1,we=(ne==null?void 0:ne.pollingRate)>0?ne.pollingRate:1,$e=5e3,Ye=Q=>Array.isArray(Q)?Q.map(Be=>Array.isArray(Be)?[Number(Be[0]),Number(Be[1])]:null).filter(Be=>!!Be&&Number.isFinite(Be[0])):[];let dt=[],zt=P.durationMS||0,qt=!1;const an=q.find(Q=>(Q==null?void 0:Q.hasCommanderTag)&&!(Q!=null&&Q.notInSquad));(ot=an==null?void 0:an.combatReplayData)!=null&&ot.positions&&(dt=an.combatReplayData.positions,Ye(an.combatReplayData.dead).forEach(([Be])=>{Be>0&&(qt=!0,zt=Math.min(zt,Be))}));const et=Q=>{var Me;const Be=(Me=Q.statsAll)==null?void 0:Me[0];if((Be==null?void 0:Be.distToCom)!==void 0&&(Be==null?void 0:Be.distToCom)!=="Infinity")return Math.round(Number(Be.distToCom));if((Be==null?void 0:Be.stackDist)!==void 0)return Math.round(Number(Be.stackDist))||0;if(Q.hasCommanderTag)return 0;const it=Q.combatReplayData;if(!(it!=null&&it.positions)||!dt.length)return 0;const Lt=it.positions,ft=Ye(it.dead),ge=Ye(it.down),Vt=Math.floor((it.start||0)/we);let xe=0;if(ft.length&&ge.length)for(const[Xe]of ft){if(Xe<0)continue;const mt=Math.max(0,Math.floor(Xe/we))-Vt;for(const[Ve,Le]of ge){if(Xe!==Le)continue;const Je=qt&&Ve>zt?Math.max(1,Math.floor(zt/we)):mt,at=Math.max(0,Math.min(Je,Lt.length,dt.length));if(at<=0)continue;let kt=0;for(let pn=0;pn<at;pn++){const[Ht,zn]=Lt[pn],[ln,Ar]=dt[pn];kt+=Math.hypot(Ht-ln,zn-Ar)}xe=Math.round(kt/at/Ae)}}return xe},Qe=q.filter(Q=>!Q.notInSquad);N+=Qe.length,C+=he.filter(Q=>!Q.isFake).length,jU(q,{durationMS:P.durationMS,buffMap:P.buffMap});const{squadDeaths:xt,enemyDeaths:Rt}=T(P);S+=xt,j+=Rt,F+=xt,O+=Rt,I(P)?w++:b++;const ke=P.skillMap?Number((De=Object.keys(P.skillMap).find(Q=>{var Be,it;return((it=(Be=P.skillMap)==null?void 0:Be[Q])==null?void 0:it.name)==="Battle Standard"}))==null?void 0:De.replace(/^s/,"")):null;q.forEach((Q,Be)=>{var vt,Cn,tn,ki,gr,Dl,$o,Hs,Xm,Qm,Zm,Jm,eh;if(Q.notInSquad)return;const it=Q.account||"Unknown",Lt=it!=="Unknown"?it:Q.name||"Unknown",ft=Q.name||"Unknown";M.has(Lt)||M.set(Lt,{name:ft,account:Lt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:Q.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const ge=M.get(Lt);if(Q.hasCommanderTag&&(ge.isCommander=!0),ft!=="Unknown"&&ge.characterNames.add(String(ft)),Q.profession&&Q.profession!=="Unknown"){ge.profession=Q.profession,ge.professions.add(Q.profession);const Ie=Array.isArray(Q.activeTimes)&&typeof Q.activeTimes[0]=="number"?Q.activeTimes[0]:P.durationMS||0;ge.professionTimeMs[Q.profession]=(ge.professionTimeMs[Q.profession]||0)+Ie}ge.logsJoined++,ge.downContrib+=g2(Q),ge.cleanses+=h2(Q),ge.strips+=p2(Q,m),ge.healing+=x2(Q),ge.barrier+=v2(Q),ge.cc+=y2(Q,m),ge.stab+=Q.stabGeneration||0;const Vt=et(Q);Vt<=$e&&(ge.totalDist+=Vt,ge.distCount++),(vt=Q.defenses)!=null&&vt[0]&&(ge.dodges+=Q.defenses[0].dodgeCount||0,ge.downs+=Q.defenses[0].downCount||0,ge.deaths+=Q.defenses[0].deadCount||0),P.durationMS&&(ge.totalFightMs+=P.durationMS);const xe=Array.isArray(Q.activeTimes)&&typeof Q.activeTimes[0]=="number"?Q.activeTimes[0]:P.durationMS||0;ge.squadActiveMs+=xe;const Me=Ci(P,E),Xe=Number((P==null?void 0:P.durationMS)||0);if(Me>0&&((ge.firstSeenFightTs<=0||Me<ge.firstSeenFightTs)&&(ge.firstSeenFightTs=Me),ge.lastSeenFightTs<=0||Me>ge.lastSeenFightTs?(ge.lastSeenFightTs=Me,ge.lastSeenFightDurationMs=Xe):Me===ge.lastSeenFightTs&&Xe>ge.lastSeenFightDurationMs&&(ge.lastSeenFightDurationMs=Xe)),ge.defenseActiveMs+=xe,ge.supportActiveMs+=xe,ge.healingActiveMs+=xe,Array.isArray(Q.buffUptimes)&&Q.buffUptimes.length>0&&Q.buffUptimes.forEach(Ie=>{var th,ks,Fc,nh,hd,Na;if(typeof(Ie==null?void 0:Ie.id)!="number")return;const qe=`b${Ie.id}`,We=((th=P.buffMap)==null?void 0:th[qe])||((ks=P.buffMap)==null?void 0:ks[String(Ie.id)]);if(!We||ee(We))return;const nt=Number(((nh=(Fc=Ie.buffData)==null?void 0:Fc[0])==null?void 0:nh.uptime)??0),Et=Number(((Na=(hd=Ie.buffData)==null?void 0:hd[0])==null?void 0:Na.presence)??0);if((!Number.isFinite(nt)||nt<=0)&&(!Number.isFinite(Et)||Et<=0))return;const cn=(We==null?void 0:We.stacking)??!1,$r=(cn?Number.isFinite(nt)?nt:0:Number.isFinite(nt)?nt/100:0)*xe,$i=cn?Et:nt,ti=Math.min(Math.max(Number.isFinite($i)?$i:0,0),100)/100*xe,Ya=Number.isFinite($r)&&$r>0,Fo=Number.isFinite(ti)&&ti>0;if(!Ya&&!Fo)return;const sr=Qc(We==null?void 0:We.name);if(sr&&L6.has(sr)&&(!(We!=null&&We.classification)||We.classification==="Condition")){const qs=$r/1e3,Fi=We==null?void 0:We.icon,Ri=J[sr]||{name:sr,icon:Fi,applications:0,damage:0};Ri.applicationsFromUptime=(Ri.applicationsFromUptime||0)+qs,!Ri.icon&&Fi&&(Ri.icon=Fi),J[sr]=Ri;const Bi=ge.outgoingConditions[sr]||{applications:0,damage:0,skills:{},icon:Fi};Bi.applicationsFromUptime=(Bi.applicationsFromUptime||0)+qs,!Bi.icon&&Fi&&(Bi.icon=Fi),ge.outgoingConditions[sr]=Bi;const Ks=K[sr]||{name:sr,icon:Fi,applications:0,damage:0};Ks.applicationsFromUptime=(Ks.applicationsFromUptime||0)+qs,!Ks.icon&&Fi&&(Ks.icon=Fi),K[sr]=Ks;const Ca=ge.incomingConditions[sr]||{applications:0,damage:0,skills:{},icon:Fi};Ca.applicationsFromUptime=(Ca.applicationsFromUptime||0)+qs,!Ca.icon&&Fi&&(Ca.icon=Fi),ge.incomingConditions[sr]=Ca}D.has(qe)||D.set(qe,{name:We==null?void 0:We.name,stacking:cn,icon:We==null?void 0:We.icon}),A.has(qe)||A.set(qe,new Map);const Ml=A.get(qe),md=ge.account||Q.account||Q.name||"Unknown";let Sa=Ml.get(md);Sa||(Sa={account:md,profession:ge.profession||Q.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Ml.set(md,Sa));const Ro=Q.profession||ge.profession;Ro&&Ro!=="Unknown"&&(Sa.professions.add(Ro),Sa.professionTimeMs[Ro]=(Sa.professionTimeMs[Ro]||0)+xe,Sa.profession=Ro),Sa.totalMs+=Ya?$r:0,Sa.uptimeMs+=Fo?ti:0,Sa.durationMs+=xe}),(Cn=Q.defenses)!=null&&Cn[0]){const Ie=nt=>{let Et=String(nt||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return Et.toUpperCase().includes("UNKNOWN")&&(Et="Unknown"),Et},We=(()=>{const nt=Array.isArray(Q==null?void 0:Q.minions)?Q.minions:[];if(nt.length===0)return{total:0,byMinion:{}};let Et=0;const cn={};return nt.forEach(_n=>{const $r=Array.isArray(_n==null?void 0:_n.totalDamageTakenDist)?_n.totalDamageTakenDist:[],$i=Array.isArray($r[0])?$r[0]:[],ei=Ie(_n==null?void 0:_n.name);$i.forEach(ti=>{const Ya=Number((ti==null?void 0:ti.totalDamage)??(ti==null?void 0:ti.damageTaken)??0);Number.isFinite(Ya)&&(Et+=Ya,cn[ei]=(cn[ei]||0)+Ya)})}),{total:Et,byMinion:cn}})();We.byMinion&&typeof We.byMinion=="object"&&Object.entries(We.byMinion).forEach(([nt,Et])=>{const cn=Number(Et||0);!Number.isFinite(cn)||cn<=0||(ge.defenseMinionDamageTaken[nt]=(ge.defenseMinionDamageTaken[nt]||0)+cn)}),DO.forEach(nt=>{const Et=nt.id==="minionDamageTaken"?We.total:Number(Q.defenses[0][nt.field]??0);Number.isFinite(Et)&&(ge.defenseTotals[nt.id]=(ge.defenseTotals[nt.id]||0)+Et)})}(tn=Q.support)!=null&&tn[0]&&MO.forEach(Ie=>{let qe=Number(Q.support[0][Ie.field]??0);Number.isFinite(qe)&&(G.has(Ie.field)&&qe>999999&&(qe=0),ge.supportTotals[Ie.id]=(ge.supportTotals[Ie.id]||0)+qe)});const mt=(Ie,qe)=>{Number.isFinite(qe)&&(ge.healingTotals[Ie]=(ge.healingTotals[Ie]||0)+qe)},Ve=(Ie,qe)=>Array.isArray(Ie)?Ie.reduce((We,nt)=>We+Number((nt==null?void 0:nt[qe])??0),0):0,Le=(Ie,qe,We)=>{if(!Number.isFinite(We)||We<=0)return;const nt=q[qe],Et=qe===Be,cn=nt==null?void 0:nt.notInSquad,_n=!cn,$r=_n&&(nt==null?void 0:nt.group)!=null&&nt.group===Q.group;mt(Ie,We),_n&&mt(`squad${Ie[0].toUpperCase()}${Ie.slice(1)}`,We),$r&&mt(`group${Ie[0].toUpperCase()}${Ie.slice(1)}`,We),Et&&mt(`self${Ie[0].toUpperCase()}${Ie.slice(1)}`,We),cn&&mt(`offSquad${Ie[0].toUpperCase()}${Ie.slice(1)}`,We)};if(Array.isArray(Q.rotation)){let Ie=0;Q.rotation.forEach(qe=>{var nt;if(!(qe!=null&&qe.id)||!z6(qe.id,P.skillMap))return;const We=((nt=qe.skills)==null?void 0:nt.length)||0;We>0&&(Ie+=We,mt(`resUtility_s${qe.id}`,We))}),Ie>0&&mt("resUtility",Ie)}const Je=(ki=Q.extHealingStats)==null?void 0:ki.outgoingHealingAllies;Array.isArray(Je)&&Je.forEach((Ie,qe)=>{const We=Ve(Ie,"healing"),nt=Ve(Ie,"downedHealing");Le("healing",qe,We),Le("downedHealing",qe,nt)});const at=(gr=Q.extBarrierStats)==null?void 0:gr.outgoingBarrierAllies;Array.isArray(at)&&at.forEach((Ie,qe)=>{const We=Ve(Ie,"barrier");Le("barrier",qe,We)});const kt=(Dl=Q.statsAll)==null?void 0:Dl[0],pn=($o=Q.dpsAll)==null?void 0:$o[0],Ht=(Hs=Q.support)==null?void 0:Hs[0];if(EO.forEach(Ie=>{if(Ie.id==="downContributionPercent"||!Ie.field)return;let qe=0,We=0;Ie.source==="dpsAll"&&pn?qe=Number(pn[Ie.field]??0):Ie.source==="statsAll"&&kt?(qe=Number(kt[Ie.field]??0),We=Number(kt[Ie.denomField||Ie.weightField||"connectedDamageCount"]??0)):Ie.source==="support"&&Ht?qe=Number(Ht[Ie.field]??0):Q.statsTargets&&Q.statsTargets.forEach(nt=>{nt!=null&&nt[0]&&(qe+=Number(nt[0][Ie.field]??0),We+=Number(nt[0][Ie.denomField||Ie.weightField||"connectedDamageCount"]??0))}),Number.isFinite(qe)&&(ge.offenseTotals[Ie.id]=(ge.offenseTotals[Ie.id]||0)+qe,Ie.isRate&&We>0&&(ge.offenseRateWeights[Ie.id]=(ge.offenseRateWeights[Ie.id]||0)+We))}),Q.targetDamageDist&&Number.isFinite(ke)){const Ie=Q.targetDamageDist.flatMap(qe=>qe||[]).flatMap(qe=>qe||[]).reduce((qe,We)=>We!=null&&We.id&&We.id===ke?qe+((We==null?void 0:We.connectedHits)||0):qe,0);ge.offenseTotals.battleStandardHits=(ge.offenseTotals.battleStandardHits||0)+Ie}ge.revives+=((Qm=(Xm=Q.support)==null?void 0:Xm[0])==null?void 0:Qm.resurrects)||0,pn&&(ge.damage+=pn.damage||0,ge.dps+=pn.dps||0);const zn=Ie=>{var Et,cn,_n,$r;let qe=`Skill ${Ie.id}`;const We=((Et=P.skillMap)==null?void 0:Et[`s${Ie.id}`])||((cn=P.skillMap)==null?void 0:cn[`${Ie.id}`]);let nt=We==null?void 0:We.icon;if(We!=null&&We.name&&(qe=We.name),qe.startsWith("Skill ")){const $i=mp(qe,Ie.id,P.buffMap);$i&&(qe=$i,nt=(($r=(_n=P.buffMap)==null?void 0:_n[`b${Ie.id}`])==null?void 0:$r.icon)||nt)}return{name:qe,icon:nt}},ln=Ie=>{if(!(Ie!=null&&Ie.id))return;const{name:qe,icon:We}=zn(Ie);Z[Ie.id]||(Z[Ie.id]={name:qe,icon:We,damage:0,hits:0,downContribution:0}),Z[Ie.id].name.startsWith("Skill ")&&!qe.startsWith("Skill ")&&(Z[Ie.id].name=qe),!Z[Ie.id].icon&&We&&(Z[Ie.id].icon=We),Z[Ie.id].damage+=Ie.totalDamage,Z[Ie.id].hits+=Ie.connectedHits,Z[Ie.id].downContribution+=Number(Ie.downContribution||0)},Ar=Q.account||Q.name||"Unknown",Zt=Q.profession||"Unknown",Jr=`${Ar}|${Zt}`;let Sn=fe.get(Jr);Sn||(Sn={key:Jr,account:Ar,displayName:Ar,profession:Zt,professionList:[Zt],totalFightMs:0,skills:new Map},fe.set(Jr,Sn)),Sn.professionList.includes(Zt)||Sn.professionList.push(Zt),Sn.totalFightMs+=P.durationMS||0;const Ct=Ie=>{if(!(Ie!=null&&Ie.id))return;const{name:qe,icon:We}=zn(Ie),nt=`s${Ie.id}`;let Et=Sn.skills.get(nt);Et||(Et={id:nt,name:qe,icon:We,damage:0,downContribution:0},Sn.skills.set(nt,Et)),Et.name.startsWith("Skill ")&&!qe.startsWith("Skill ")&&(Et.name=qe),!Et.icon&&We&&(Et.icon=We),Et.damage+=Number(Ie.totalDamage||0),Et.downContribution+=Number(Ie.downContribution||0)};if(g==="total")(Zm=Q.totalDamageDist)==null||Zm.forEach(Ie=>{Ie==null||Ie.forEach(qe=>{ln(qe),Ct(qe)})});else{const Ie=new Map;(Jm=Q.targetDamageDist)==null||Jm.forEach(We=>{We==null||We.forEach(nt=>{nt==null||nt.forEach(Et=>{const cn=Number(Et==null?void 0:Et.id);if(Number.isFinite(cn)){const _n=Ie.get(cn)||{damage:0,hits:0,downContribution:0};_n.damage+=Number((Et==null?void 0:Et.totalDamage)||0),_n.hits+=Number((Et==null?void 0:Et.connectedHits)||0),_n.downContribution+=Number((Et==null?void 0:Et.downContribution)||0),Ie.set(cn,_n)}ln(Et),Ct(Et)})})}),!(P!=null&&P.detailedWvW)&&((eh=Q.totalDamageDist)==null||eh.forEach(We=>{We==null||We.forEach(nt=>{const Et=Number(nt==null?void 0:nt.id);if(!Number.isFinite(Et))return;const cn=Ie.get(Et);if(!cn){ln(nt),Ct(nt);return}const _n=Number((nt==null?void 0:nt.totalDamage)||0),$r=Number((nt==null?void 0:nt.connectedHits)||0),$i=Number((nt==null?void 0:nt.downContribution)||0),ei=_n-Number(cn.damage||0),ti=$r-Number(cn.hits||0),Ya=$i-Number(cn.downContribution||0);if(ei<=0&&ti<=0&&Ya<=0)return;const Fo={...nt,totalDamage:Math.max(0,ei),connectedHits:Math.max(0,ti),downContribution:Math.max(0,Ya)};ln(Fo),Ct(Fo)})}))}Q.totalDamageTaken&&Q.totalDamageTaken.forEach(Ie=>{Ie==null||Ie.forEach(qe=>{var cn,_n,$r,$i;if(!(qe!=null&&qe.id))return;let We=`Skill ${qe.id}`;const nt=((cn=P.skillMap)==null?void 0:cn[`s${qe.id}`])||((_n=P.skillMap)==null?void 0:_n[`${qe.id}`]);let Et=nt==null?void 0:nt.icon;if(nt!=null&&nt.name&&(We=nt.name),We.startsWith("Skill ")){const ei=mp(We,qe.id,P.buffMap);ei&&(We=ei,Et=(($i=($r=P.buffMap)==null?void 0:$r[`b${qe.id}`])==null?void 0:$i.icon)||Et)}se[qe.id]||(se[qe.id]={name:We,icon:Et,damage:0,hits:0}),(!se[qe.id].name.startsWith("Skill ")||We.startsWith("Skill "))&&(se[qe.id].name=We),!se[qe.id].icon&&Et&&(se[qe.id].icon=Et),se[qe.id].damage+=qe.totalDamage,se[qe.id].hits+=qe.hits})})}),he.forEach(Q=>{if(Q!=null&&Q.isFake)return;const Be=W((Q==null?void 0:Q.profession)||(Q==null?void 0:Q.name)||(Q==null?void 0:Q.id));Be&&(le[Be]=(le[Be]||0)+1)});const Te=MU({players:q,targets:he,skillMap:P.skillMap,buffMap:P.buffMap,getPlayerKey:Q=>Q.account&&Q.account!=="Unknown"?Q.account:Q.name||null}),Ue=KO(P.buffMap);Object.entries(Te.playerConditions).forEach(([Q,Be])=>{const it=M.get(Q);it&&Object.entries(Be).forEach(([Lt,ft])=>{const ge=it.outgoingConditions[Lt]||{applications:0,damage:0,skills:{},icon:ft.icon};ge.applications+=Number(ft.applications||0),ge.damage+=Number(ft.damage||0),ft.applicationsFromBuffs&&(ge.applicationsFromBuffs=(ge.applicationsFromBuffs||0)+ft.applicationsFromBuffs),ft.applicationsFromBuffsActive&&(ge.applicationsFromBuffsActive=(ge.applicationsFromBuffsActive||0)+ft.applicationsFromBuffsActive),Object.entries(ft.skills||{}).forEach(([Vt,xe])=>{const Me=ge.skills[Vt]||{name:xe.name,hits:0,damage:0,icon:xe.icon};Me.hits+=Number(xe.hits||0),Me.damage+=Number(xe.damage||0),!Me.icon&&xe.icon&&(Me.icon=xe.icon),ge.skills[Vt]=Me}),!ge.icon&&ft.icon&&(ge.icon=ft.icon),it.outgoingConditions[Lt]=ge})}),Object.entries(Te.summary).forEach(([Q,Be])=>{const it=J[Q]||{name:Be.name||Q,icon:Be.icon,applications:0,damage:0};it.applications+=Number(Be.applications||0),it.damage+=Number(Be.damage||0),Be.applicationsFromBuffs&&(it.applicationsFromBuffs=(it.applicationsFromBuffs||0)+Be.applicationsFromBuffs),Be.applicationsFromBuffsActive&&(it.applicationsFromBuffsActive=(it.applicationsFromBuffsActive||0)+Be.applicationsFromBuffsActive),!it.icon&&Be.icon&&(it.icon=Be.icon),J[Q]=it}),Qe.forEach(Q=>{const Be=Q.account&&Q.account!=="Unknown"?Q.account:Q.name||"Unknown",it=M.get(Be);!it||!Q.totalDamageTaken||Q.totalDamageTaken.forEach(Lt=>Lt==null?void 0:Lt.forEach(ft=>{var pn,Ht,zn,ln,Ar,Zt;if(!(ft!=null&&ft.id))return;let ge=`Skill ${ft.id}`;const Vt=((pn=P.skillMap)==null?void 0:pn[`s${ft.id}`])||((Ht=P.skillMap)==null?void 0:Ht[`${ft.id}`]);Vt!=null&&Vt.name&&(ge=Vt.name);const xe=mp(ge,ft.id,P.buffMap);if(!xe)return;const Me=(ln=(zn=P.buffMap)==null?void 0:zn[`b${ft.id}`])==null?void 0:ln.name,Xe=Ue.get(xe)||((Zt=(Ar=P.buffMap)==null?void 0:Ar[`b${ft.id}`])==null?void 0:Zt.icon),mt=(Vt==null?void 0:Vt.icon)||Xe;ge.startsWith("Skill ")&&(Me||xe)&&(ge=Me||xe);const Ve=Number(ft.hits??0),Le=Number(ft.totalDamage??0),Je=K[xe]||{name:xe,icon:Xe,applications:0,damage:0};Je.applications+=Number.isFinite(Ve)?Ve:0,Je.damage+=Number.isFinite(Le)?Le:0,!Je.icon&&Xe&&(Je.icon=Xe),K[xe]=Je;const at=it.incomingConditions[xe]||{applications:0,damage:0,skills:{},icon:Xe};at.applications+=Number.isFinite(Ve)?Ve:0,at.damage+=Number.isFinite(Le)?Le:0;const kt=at.skills[ge]||{name:ge,hits:0,damage:0,icon:mt};kt.hits+=Number.isFinite(Ve)?Ve:0,kt.damage+=Number.isFinite(Le)?Le:0,!kt.icon&&mt&&(kt.icon=mt),at.skills[ge]=kt,!at.icon&&Xe&&(at.icon=Xe),it.incomingConditions[xe]=at}))});const Fe=P.player_damage_mitigation||P.playerDamageMitigation,rt=Fe&&typeof Fe=="object"&&Object.keys(Fe).length>0;rt&&Object.entries(Fe).forEach(([Q,Be])=>{if(!Be||typeof Be!="object")return;const it=H(Q),Lt=X(te,it.account,it);Object.values(Be).forEach(ft=>{B((ft==null?void 0:ft.avoided_damage)??(ft==null?void 0:ft.avoidedDamage))<=0||oe(Lt.mitigationTotals,ft)})});const st=P.player_minion_damage_mitigation||P.playerMinionDamageMitigation,be=st&&typeof st=="object"&&Object.keys(st).length>0;be&&Object.entries(st).forEach(([Q,Be])=>{if(!Be||typeof Be!="object")return;const it=H(Q);Object.entries(Be).forEach(([Lt,ft])=>{if(!ft||typeof ft!="object")return;const ge=`${it.account}::${Lt}`,Vt=$(ie,ge,{...it,minion:String(Lt||"Unknown")});Object.values(ft).forEach(xe=>{oe(Vt.mitigationTotals,xe)})})}),(!rt||!be)&&(rt||Qe.forEach(Q=>{const Be=(Q==null?void 0:Q.totalDamageTaken)||[];if(!Array.isArray(Be)||Be.length===0)return;const it=Q.account||Q.name||"Unknown",Lt={account:it,name:Q.name||it,profession:W(Q.profession||"Unknown")};X(te,it,Lt);const ft=Array.isArray(Be)?Be[0]:null;ft==null||ft.forEach(ge=>{if(!(ge!=null&&ge.id))return;const Vt=B(ge.blocked),xe=B(ge.evaded),Me=B(ge.glance??ge.glanced),Xe=B(ge.missed),mt=B(ge.invulned),Ve=B(ge.interrupted),Le=B(ge.hits??ge.connectedHits),Je=Number(ge.id);z(Ne,`${it}::${Je}`,{totalHits:Le,blocked:Vt,evaded:xe,glanced:Me,missed:Xe,invulned:mt,interrupted:Ve})})}),be||Qe.forEach(Q=>{const Be=(Q==null?void 0:Q.minions)||[];if(!Array.isArray(Be)||Be.length===0)return;const it=Q.account||Q.name||"Unknown",Lt={account:it,name:Q.name||it,profession:W(Q.profession||"Unknown")};Be.forEach(ft=>{const ge=(ft==null?void 0:ft.totalDamageTakenDist)||[];if(!Array.isArray(ge)||ge.length===0)return;let Vt=String((ft==null?void 0:ft.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";Vt.toUpperCase().includes("UNKNOWN")&&(Vt="Unknown");const xe=`${it}::${Vt}`;$(ie,xe,{...Lt,minion:Vt});const Me=Array.isArray(ge)?ge[0]:null;Me==null||Me.forEach(Xe=>{if(!(Xe!=null&&Xe.id))return;const mt=B(Xe.blocked),Ve=B(Xe.evaded),Le=B(Xe.glance??Xe.glanced),Je=B(Xe.missed),at=B(Xe.invulned),kt=B(Xe.interrupted),pn=B(Xe.hits??Xe.connectedHits),Ht=Number(Xe.id);z(tt,`${xe}::${Ht}`,{totalHits:pn,blocked:mt,evaded:Ve,glanced:Le,missed:Je,invulned:at,interrupted:kt})})})}))});const Re=(E,P)=>{const q=new Map,he=ne=>{let Ae=q.get(ne);return Ae||(Ae=R(),q.set(ne,Ae)),Ae};P.forEach((ne,Ae)=>{const we=Ae.lastIndexOf("::"),$e=we>-1?Ae.slice(0,we):Ae,Ye=we>-1?Number(Ae.slice(we+2)):Number.NaN,dt=Number.isFinite(Ye)?ve(Ye):{hasSkill:!1,avg:0,min:0,hits:0};if(!dt.hasSkill||dt.hits<=0)return;const zt=dt.avg,qt=dt.min,an=ne.glanced*zt/2+(ne.blocked+ne.evaded+ne.missed+ne.invulned+ne.interrupted)*zt,et=ne.glanced*qt/2+(ne.blocked+ne.evaded+ne.missed+ne.invulned+ne.interrupted)*qt;if(an<=0)return;const Qe=he($e);Qe.totalHits+=ne.totalHits,Qe.blocked+=ne.blocked,Qe.evaded+=ne.evaded,Qe.glanced+=ne.glanced,Qe.missed+=ne.missed,Qe.invulned+=ne.invulned,Qe.interrupted+=ne.interrupted,Qe.totalMitigation+=an,Qe.minMitigation+=et}),E.forEach((ne,Ae)=>{const we=q.get(Ae)||R();ne.mitigationTotals.totalHits=we.totalHits,ne.mitigationTotals.blocked=we.blocked,ne.mitigationTotals.evaded=we.evaded,ne.mitigationTotals.glanced=we.glanced,ne.mitigationTotals.missed=we.missed,ne.mitigationTotals.invulned=we.invulned,ne.mitigationTotals.interrupted=we.interrupted,ne.mitigationTotals.totalMitigation=we.totalMitigation,ne.mitigationTotals.minMitigation=we.minMitigation})};Re(te,Ne),Re(ie,tt);const Ce=x>0?Math.round(N/x):0,lt=x>0?Math.round(C/x):0,Jt=S>0?(j/S).toFixed(2):j>0?"":"0.00",fn=O>0?(F/O).toFixed(2):F>0?"":"0.00",me=(E,P)=>{const he=E.filter(we=>Number.isFinite(we.value)&&(P?we.value>0:we.value>=0)).sort((we,$e)=>{const Ye=P?$e.value-we.value:we.value-$e.value;return Ye!==0?Ye:we.account.localeCompare($e.account)});let ne=null,Ae=0;return he.map((we,$e)=>((ne===null||we.value!==ne)&&(Ae=$e+1,ne=we.value),{rank:Ae,...we}))},ze=Array.from(M.values()).map(E=>{const P=Array.from(E.professions).filter(q=>q!=="Unknown");if(E.professionList=P,P.length>0){let q=P[0],he=E.professionTimeMs[q]||0;P.forEach(ne=>{const Ae=E.professionTimeMs[ne]||0;Ae>he&&(he=Ae,q=ne)}),E.profession=q}return{key:E.account,stat:E}}),Mt=E=>{const P=M.get(E.account);if(!P){const ne=E.professionList.length>0?E.professionList:E.profession?[E.profession]:[];return{...E,professionList:ne}}const q=P.professionList&&P.professionList.length>0?P.professionList:Array.from(P.professions||[]).filter(ne=>ne&&ne!=="Unknown"),he=P.profession||E.profession;return{...E,profession:he,professionList:q.length>0?q:he?[he]:[],activeMs:P.defenseActiveMs||P.totalFightMs||E.activeMs}},en=Array.from(te.values()).map(Mt).filter(E=>L(E.mitigationTotals)).sort((E,P)=>E.account.localeCompare(P.account)),hn=Array.from(ie.values()).map(Mt).filter(E=>E.mitigationTotals.totalMitigation>0).sort((E,P)=>{const q=E.account.localeCompare(P.account);return q!==0?q:String(E.minion||"").localeCompare(String(P.minion||""))}),hr=(E,P)=>{switch(P){case"downContrib":return E.downContrib;case"barrier":return E.barrier;case"healing":return E.healing;case"dodges":return E.dodges;case"strips":return E.strips;case"cleanses":return E.cleanses;case"cc":return E.cc;case"stability":return E.stab;case"revives":return E.revives;case"dps":return E.dps;case"damage":return E.damage;case"participation":return E.logsJoined;case"closestToTag":return!E.isCommander&&E.distCount>0?E.totalDist/E.distCount:Number.POSITIVE_INFINITY;default:return 0}},Dn=(E,P)=>me(ze.map(({stat:q})=>({account:q.account,profession:q.profession,professionList:q.professionList,value:hr(q,E),count:q.logsJoined})),P),nn={downContrib:Dn("downContrib",!0),barrier:Dn("barrier",!0),healing:Dn("healing",!0),dodges:Dn("dodges",!0),strips:Dn("strips",!0),cleanses:Dn("cleanses",!0),cc:Dn("cc",!0),stability:Dn("stability",!0),revives:Dn("revives",!0),participation:Dn("participation",!0),dps:Dn("dps",!0),damage:Dn("damage",!0),closestToTag:Dn("closestToTag",!1).filter(E=>Number.isFinite(E.value))},Wa={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},mn=E=>{const P=E==null?void 0:E[0];return{value:(P==null?void 0:P.value)??0,player:(P==null?void 0:P.account)??"-",count:(P==null?void 0:P.count)??0,profession:(P==null?void 0:P.profession)??"Unknown",professionList:(P==null?void 0:P.professionList)??[]}},vn={maxDownContrib:mn([]),maxBarrier:mn([]),maxHealing:mn([]),maxDodges:mn([]),maxStrips:mn([]),maxCleanses:mn([]),maxCC:mn([]),maxStab:mn([]),closestToTag:mn([])},bn={},ui=(E,P)=>{if(P==="closestToTag")return hr(E,P);const q=Math.max(1,(E.totalFightMs||0)/1e3);return hr(E,P)/q};Object.values(Wa).forEach(E=>{const P=E!=="closestToTag";bn[E]=me(ze.map(({stat:q})=>({account:q.account,profession:q.profession,professionList:q.professionList,value:ui(q,E),count:q.logsJoined})),P)}),vn.maxDownContrib=mn(bn.downContrib),vn.maxBarrier=mn(bn.barrier),vn.maxHealing=mn(bn.healing),vn.maxDodges=mn(bn.dodges),vn.maxStrips=mn(bn.strips),vn.maxCleanses=mn(bn.cleanses),vn.maxCC=mn(bn.cc),vn.maxStab=mn(bn.stability),vn.closestToTag=mn(bn.closestToTag);const jr={maxDownContrib:mn(nn.downContrib),maxBarrier:mn(nn.barrier),maxHealing:mn(nn.healing),maxDodges:mn(nn.dodges),maxStrips:mn(nn.strips),maxCleanses:mn(nn.cleanses),maxCC:mn(nn.cc),maxStab:mn(nn.stability),closestToTag:mn(nn.closestToTag)};let kr={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Oc,Ws,_o=0;if(l!=null&&l.showMvp){const E={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},P=Ae=>{const we=E[Ae];return we?Number(c[we]||0)>0:!1},q=[],he=Ae=>[...Ae||[]].filter(we=>P(we==null?void 0:we.name)).sort((we,$e)=>$e.ratio-we.ratio||we.rank-$e.rank||we.name.localeCompare($e.name)).slice(0,3),ne=Ae=>{var $e;if(!Ae)return;const we=he(Ae.contribs);return{...Ae,player:Ae.name,reason:(($e=we[0])==null?void 0:$e.name)||"Top Performance",topStats:we}};ze.forEach(({stat:Ae})=>{let we=0;const $e=[],Ye=(dt,zt,qt,an,et=!0)=>{var xt,Rt;if(qt<=0)return;const Qe=((xt=zt[0])==null?void 0:xt.value)||0;if(Qe&&Number.isFinite(dt)&&(et?dt>0:dt<Number.POSITIVE_INFINITY)){const Qt=et?dt/Qe:Qe/dt;we+=Qt*qt;const ke=((Rt=zt.find(Te=>Te.account===Ae.account))==null?void 0:Rt.rank)||0;$e.push({name:an,ratio:Qt,val:dt.toLocaleString(),rank:ke})}};Ye(Ae.downContrib,nn.downContrib,c.downContribution,"Down Contribution"),Ye(Ae.healing,nn.healing,c.healing,"Healing"),Ye(Ae.cleanses,nn.cleanses,c.cleanses,"Cleanses"),Ye(Ae.strips,nn.strips,c.strips,"Strips"),Ye(Ae.stab,nn.stability,c.stability,"Stability"),Ye(Ae.cc,nn.cc,c.cc,"CC"),Ye(Ae.revives,nn.revives,c.revives,"Revives"),Ye(hr(Ae,"closestToTag"),nn.closestToTag,c.distanceToTag,"Distance to Tag",!1),Ye(Ae.logsJoined,nn.participation,c.participation,"Participation"),Ye(Ae.dodges,nn.dodges,c.dodging,"Dodging"),Ye(Ae.dps,nn.dps,c.dps,"DPS"),Ye(Ae.damage,nn.damage,c.damage,"Damage"),q.push({...Ae,score:we,contribs:$e.filter(dt=>P(dt.name))})}),q.sort((Ae,we)=>we.score-Ae.score),q[0]&&q[0].score>0&&(kr=ne(q[0])||kr),Oc=ne(q[1]),Ws=ne(q[2]),_o=q.length>0?q.reduce((Ae,we)=>Ae+we.score,0)/q.length:0}const pr=Object.values(Z).sort((E,P)=>P.damage-E.damage||P.hits-E.hits||String(E.name||"").localeCompare(String(P.name||""))).slice(0,25),Ha=Object.values(Z).sort((E,P)=>P.downContribution-E.downContribution||P.hits-E.hits||String(E.name||"").localeCompare(String(P.name||""))).slice(0,25),Lr=y==="downContribution"?Ha:pr,qa=Object.values(se).sort((E,P)=>P.damage-E.damage).slice(0,25),Li=E=>{const P=String(E).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),q=P.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return q?`${q[1]} Borderlands`:P||"Unknown"},na=(E,P)=>Li((E==null?void 0:E.zone)||(E==null?void 0:E.mapName)||(E==null?void 0:E.map)||(E==null?void 0:E.location)||(E==null?void 0:E.fightName)||(P==null?void 0:P.fightName)||(P==null?void 0:P.encounterName)||"Unknown"),ys=(E,P)=>{const q=(P==null?void 0:P.permalink)||(E==null?void 0:E.permalink);if(typeof q=="string"&&q.trim().length>0)return q.trim();const he=E==null?void 0:E.uploadLinks;if(!Array.isArray(he))return"";for(const ne of he){if(typeof ne=="string"&&ne.trim().length>0)return ne.trim();if(ne&&typeof ne=="object"){const Ae=ne.permalink||ne.link||ne.url||ne.reportLink;if(typeof Ae=="string"&&Ae.trim().length>0)return Ae.trim()}}return""},Ic=(E,P)=>{const q=Number((E==null?void 0:E.durationMS)||0);return q>0?Ph(q):(typeof(P==null?void 0:P.encounterDuration)=="string"?P.encounterDuration.trim():"")||"--:--"},ra=(E,P)=>{if((Array.isArray(E==null?void 0:E.players)?E.players:[]).length>0)return I(E);if(typeof(E==null?void 0:E.success)=="boolean")return E.success;const he=P==null?void 0:P.dashboardSummary;if(he&&typeof he=="object"){if(he.isWin===!0)return!0;if(he.isWin===!1)return!1}return null},Ka=(E,P)=>{var we,$e;const q=Ci((we=E.log)==null?void 0:we.details,E.log),he=Ci(($e=P.log)==null?void 0:$e.details,P.log),ne=q>0,Ae=he>0;return ne&&Ae&&q!==he?q-he:ne!==Ae?ne?-1:1:E.originalIndex-P.originalIndex},Ga=e.map((E,P)=>({log:E,originalIndex:P})).sort(Ka),ud=Ga.filter(({log:E})=>s(E)),Lo={};o.forEach(E=>{const P=na(E==null?void 0:E.details,E);Lo[P]=(Lo[P]||0)+1});const _c=Object.entries(Lo).map(([E,P])=>{const q=String(E).trim(),he=/eternal battlegrounds|^ebg$/i.test(q);let ne="#64748b";return he?ne="#ffffff":/red/i.test(q)?ne="#ef4444":/blue/i.test(q)?ne="#3b82f6":/green/i.test(q)&&(ne="#22c55e"),{name:E,value:P,color:ne}}).sort((E,P)=>P.value-E.value),{boonTables:dd}=pU(o),fd=Ga.map(({log:E})=>{const P=E==null?void 0:E.details,q=Array.isArray(P==null?void 0:P.players)?P.players:[],he=Array.isArray(P==null?void 0:P.targets)?P.targets:[],ne=E!=null&&E.dashboardSummary&&typeof E.dashboardSummary=="object"?E.dashboardSummary:null,Ae=q.filter(an=>!an.notInSquad),we=he.filter(an=>!an.isFake),$e=Math.max(0,Number((ne==null?void 0:ne.squadCount)||0)),Ye=Math.max(0,Number((ne==null?void 0:ne.enemyCount)||0)),dt=Ae.length>0?Ae.length:$e,zt=we.length>0?we.length:Ye,qt=q.length>0?q.length:dt;return{timestamp:Ci(P,E),squadCount:dt,friendlyCount:qt,enemies:zt,isWin:ra(P,E)}}).map((E,P)=>({...E,index:P+1,label:`Log ${P+1}`})),bs={};Array.from(M.values()).forEach(E=>{E.profession&&E.profession!=="Unknown"&&(bs[E.profession]=(bs[E.profession]||0)+1)});const Lc=Object.entries(bs).map(([E,P])=>({name:E,value:P,color:ic(E)})).sort((E,P)=>P.value-E.value),ws={};Object.keys(le).length===0&&o.forEach(E=>{var P,q;(q=(P=E.details)==null?void 0:P.targets)==null||q.forEach(he=>{if(he.isFake)return;const ne=he.profession&&he.profession!=="Unknown"?he.profession:he.name||he.id||"Unknown",Ae=W(ne);ws[Ae]=(ws[Ae]||0)+1})});const $c=Object.keys(le).length>0?le:ws,Y=Object.entries($c).map(([E,P])=>({name:E,value:P,color:ic(E)})).sort((E,P)=>P.value-E.value),ye=Ga.map(({log:E},P)=>{const q=E==null?void 0:E.details,he=Array.isArray(q==null?void 0:q.players)?q.players:[],ne=he.filter(be=>!be.notInSquad),Ae=he.filter(be=>be.notInSquad),$e=(Array.isArray(q==null?void 0:q.targets)?q.targets:[]).filter(be=>!be.isFake),Ye=E!=null&&E.dashboardSummary&&typeof E.dashboardSummary=="object"?E.dashboardSummary:null,dt=ne.reduce((be,ot)=>{var De,Q;return be+(((Q=(De=ot.dpsAll)==null?void 0:De[0])==null?void 0:Q.damage)||0)},0),zt=ne.reduce((be,ot)=>{var De,Q;return be+(((Q=(De=ot.defenses)==null?void 0:De[0])==null?void 0:Q.damageTaken)||0)},0),{enemyDeaths:qt,enemyDownsDeaths:an}=T(q),et=ra(q,E),Qe=Ci(q,E),xt=na(q,E),Rt=be=>{if(!be||typeof be!="object")return;const ot=be.teamID??be.teamId??be.team??be.teamColor??be.team_color;if(ot!=null)return ot;const De=Object.keys(be).find(Q=>/^team/i.test(Q));return De?be[De]:void 0},Qt=(be,ot)=>{const De={};return be.forEach(Q=>{const Be=ot(Q),it=W(Be);it&&(De[it]=(De[it]||0)+1)}),De},ke=Qt(ne,be=>(be==null?void 0:be.profession)||(be==null?void 0:be.name)),Te=Qt(Ae,be=>(be==null?void 0:be.profession)||(be==null?void 0:be.name)),Ue=Qt($e,be=>(be==null?void 0:be.profession)||(be==null?void 0:be.name)||(be==null?void 0:be.id)),Fe=new Set;ne.forEach(be=>{const ot=Rt(be);ot!=null&&Fe.add(String(ot))});const rt=new Map;$e.forEach(be=>{if((be==null?void 0:be.enemyPlayer)===!1)return;const ot=Rt(be);if(ot==null)return;const De=String(ot);Fe.has(De)||rt.set(De,(rt.get(De)||0)+1)});const st=Array.from(rt.entries()).sort((be,ot)=>{const De=ot[1]-be[1];return De!==0?De:be[0].localeCompare(ot[0],void 0,{numeric:!0})}).slice(0,3).map(([be,ot])=>({teamId:be,count:ot}));return{id:E.filePath||`fight-${P}`,label:E.encounterName||`Fight ${P+1}`,permalink:ys(q,E),timestamp:Qe,mapName:xt,duration:Ic(q,E),isWin:et,squadCount:ne.length>0?ne.length:Math.max(0,Number((Ye==null?void 0:Ye.squadCount)||0)),allyCount:Ae.length,enemyCount:$e.length>0?$e.length:Math.max(0,Number((Ye==null?void 0:Ye.enemyCount)||0)),teamBreakdown:st,alliesDown:ne.reduce((be,ot)=>{var De,Q;return be+(((Q=(De=ot.defenses)==null?void 0:De[0])==null?void 0:Q.downCount)||0)},0),alliesDead:ne.length>0?ne.reduce((be,ot)=>{var De,Q;return be+(((Q=(De=ot.defenses)==null?void 0:De[0])==null?void 0:Q.deadCount)||0)},0):Math.max(0,Number((Ye==null?void 0:Ye.squadDeaths)||0)),alliesRevived:ne.reduce((be,ot)=>{var De,Q;return Number(((Q=(De=ot.statsAll)==null?void 0:De[0])==null?void 0:Q.saved)||0)>0?be+1:be},0),rallies:0,enemyDeaths:$e.length>0||ne.length>0?qt:Math.max(0,Number((Ye==null?void 0:Ye.enemyDeaths)||0)),enemyDowns:Math.max(0,an-qt),totalOutgoingDamage:dt,totalIncomingDamage:zt,incomingBarrierAbsorbed:ne.reduce((be,ot)=>{var De,Q;return be+(((Q=(De=ot.defenses)==null?void 0:De[0])==null?void 0:Q.damageBarrier)||0)},0),outgoingBarrierAbsorbed:ne.reduce((be,ot)=>{var Be;const De=(Be=ot.extBarrierStats)==null?void 0:Be.outgoingBarrier;if(!Array.isArray(De))return be;let Q=0;return De.forEach(it=>{if(Array.isArray(it)){it.forEach(Lt=>{Q+=Number((Lt==null?void 0:Lt.barrier)||0)});return}Q+=Number((it==null?void 0:it.barrier)||0)}),be+Q},0),squadClassCountsFight:ke,allyClassCountsFight:Te,enemyClassCounts:Ue}}),Ee=ud.map(({log:E},P)=>{const q=E.details;if(!q)return null;const ne=(Array.isArray(q.players)?q.players:[]).filter(xe=>!xe.notInSquad),Ae=Array.isArray(q.targets)?q.targets:[],we=Ci(q,E),$e=na(q,E),Ye=Number(q.durationMS||0),{squadDownsDeaths:dt,enemyDownsDeaths:zt,squadDeaths:qt,enemyDeaths:an}=T(q),et=new Map,Qe=(xe,Me,Xe)=>{const mt=et.get(xe)||{label:xe,damage:0,hits:0};mt.damage+=Me,mt.hits+=Xe,et.set(xe,mt)};if(ne.forEach(xe=>{(Array.isArray(xe==null?void 0:xe.statsTargets)?xe.statsTargets:[]).forEach((Xe,mt)=>{const Ve=Array.isArray(Xe)?Xe[0]:Xe,Le=Number((Ve==null?void 0:Ve.damage)??(Ve==null?void 0:Ve.totalDmg)??(Ve==null?void 0:Ve.connectedDmg)??0),Je=Number((Ve==null?void 0:Ve.connectedHits)??(Ve==null?void 0:Ve.connectedDamageCount)??(Ve==null?void 0:Ve.hits)??0);if(Le<=0&&Je<=0)return;const at=Ae[mt];if(at!=null&&at.isFake)return;const kt=(at==null?void 0:at.profession)||(at==null?void 0:at.name)||(at==null?void 0:at.id)||`Target ${mt+1}`,pn=W(kt);Qe(pn||String(kt),Le,Je)})}),et.size===0){const xe=new Map,Me=Xe=>{if(!Array.isArray(Xe)||Xe.length===0)return[];const mt=Xe[0];if(Array.isArray(mt)&&Array.isArray(mt[0])){if(typeof mt[0][0]=="number")return mt;if(Array.isArray(mt[0])&&typeof mt[0][0]=="number")return Xe.map(Ve=>Array.isArray(Ve)?Ve[0]||[]:[])}return[]};ne.forEach(Xe=>{Me(Xe==null?void 0:Xe.targetDamage1S).forEach((Ve,Le)=>{if(!Array.isArray(Ve)||Ve.length===0)return;const Je=Ve.map(kt=>Number(kt)).filter(kt=>Number.isFinite(kt)&&kt>=0);if(Je.length===0)return;const at=Math.max(0,Je[Je.length-1]||0);at<=0||xe.set(Le,(xe.get(Le)||0)+at)})}),xe.forEach((Xe,mt)=>{if(Xe<=0)return;const Ve=Ae[mt];if(Ve!=null&&Ve.isFake)return;const Le=(Ve==null?void 0:Ve.profession)||(Ve==null?void 0:Ve.name)||(Ve==null?void 0:Ve.id)||`Target ${mt+1}`,Je=W(Le);Qe(Je||String(Le),Xe,0)})}if(et.size===0&&Ae.forEach((xe,Me)=>{if(xe!=null&&xe.isFake)return;const Xe=Array.isArray(xe==null?void 0:xe.totalDamageTaken)?xe.totalDamageTaken:Array.isArray(xe==null?void 0:xe.totalDamageDist)?xe.totalDamageDist:[];let mt=0,Ve=0;if(Xe.forEach(at=>{mt+=Number((at==null?void 0:at.totalDamage)||(at==null?void 0:at.damage)||0),Ve+=Number((at==null?void 0:at.connectedHits)||(at==null?void 0:at.hits)||0)}),mt<=0&&Number((xe==null?void 0:xe.damageTaken)||0)>0&&(mt=Number(xe.damageTaken||0)),mt<=0&&Ve<=0)return;const Le=(xe==null?void 0:xe.profession)||(xe==null?void 0:xe.name)||(xe==null?void 0:xe.id)||`Target ${Me+1}`,Je=W(Le);Qe(Je||String(Le),mt,Ve)}),et.size===0){const xe=new Map;Ae.forEach((Me,Xe)=>{if(Me!=null&&Me.isFake)return;const mt=(Me==null?void 0:Me.profession)||(Me==null?void 0:Me.name)||(Me==null?void 0:Me.id)||`Target ${Xe+1}`,Ve=W(mt)||String(mt);xe.set(Ve,(xe.get(Ve)||0)+1)}),xe.forEach((Me,Xe)=>{Me>0&&Qe(Xe,Me,0)})}const xt=Array.from(et.values()).sort((xe,Me)=>Me.damage-xe.damage||Me.hits-xe.hits||xe.label.localeCompare(Me.label)),Rt=xt.reduce((xe,Me)=>xe+Me.damage,0),Qt=xt.map(xe=>({label:xe.label,damage:xe.damage,hits:xe.hits,share:Rt>0?xe.damage/Rt:0})),ke=Ae.filter(xe=>!(xe!=null&&xe.isFake)).length,Te=ne.length,Ue=ne.reduce((xe,Me)=>{var Xe,mt;return xe+Number(((mt=(Xe=Me==null?void 0:Me.dpsAll)==null?void 0:Xe[0])==null?void 0:mt.damage)||0)},0),Fe=ne.reduce((xe,Me)=>{var Xe,mt;return xe+Number(((mt=(Xe=Me==null?void 0:Me.defenses)==null?void 0:Xe[0])==null?void 0:mt.damageTaken)||0)},0),rt=ne.reduce((xe,Me)=>{var Xe,mt;return xe+Number(((mt=(Xe=Me==null?void 0:Me.defenses)==null?void 0:Xe[0])==null?void 0:mt.damageBarrier)||0)},0),st=ne.reduce((xe,Me)=>{var Ve;const Xe=(Ve=Me==null?void 0:Me.extBarrierStats)==null?void 0:Ve.outgoingBarrier;if(!Array.isArray(Xe))return xe;let mt=0;return Xe.forEach(Le=>{Array.isArray(Le)?Le.forEach(Je=>{mt+=Number((Je==null?void 0:Je.barrier)||0)}):mt+=Number((Le==null?void 0:Le.barrier)||0)}),xe+mt},0),be=ne.reduce((xe,Me)=>{var Xe,mt;return Number(((mt=(Xe=Me==null?void 0:Me.statsAll)==null?void 0:Xe[0])==null?void 0:mt.saved)||0)>0?xe+1:xe},0),ot=ne.reduce((xe,Me)=>xe+Number(h2(Me)||0),0),De=ne.reduce((xe,Me)=>xe+Number(p2(Me)||0),0),Q=ne.reduce((xe,Me)=>xe+Number((Me==null?void 0:Me.stabGeneration)||0),0),Be=ne.reduce((xe,Me)=>xe+Number(x2(Me)||0),0),it=ne.reduce((xe,Me)=>xe+Number(v2(Me)||0),0),Lt=ne.reduce((xe,Me)=>xe+Number(y2(Me)||0),0),ft=ne.reduce((xe,Me)=>xe+Number(g2(Me)||0),0),ge=qt>0?an/qt:an,Vt=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:I(q)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Te},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:ke},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:ge},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:an},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,zt-an)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:qt},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,dt-qt)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Ue-Fe},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Ue},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Fe},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:ot},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:De},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:Q},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:Be},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:it},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:rt},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:st},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:Lt},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:ft},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:be}];return{id:E.filePath||E.id||`fight-${P+1}`,shortLabel:`F${P+1}`,fullLabel:`${$e||E.encounterName||"Unknown Map"}  ${Ph(Ye)}`,mapName:$e,timestamp:we,duration:Ph(Ye),isWin:I(q),targetFocus:Qt,squadMetrics:Vt}}).filter(Boolean),ct=Array.from(M.values()).map(E=>{const P=Object.entries(E.professionTimeMs||{}).map(([q,he])=>({profession:q,timeMs:Number(he||0)})).filter(q=>q.profession&&q.profession!=="Unknown"&&q.timeMs>0).sort((q,he)=>{const ne=he.timeMs-q.timeMs;return ne!==0?ne:q.profession.localeCompare(he.profession)});return{account:E.account||"Unknown",characterNames:Array.from(E.characterNames||[]).filter(Boolean).sort((q,he)=>q.localeCompare(he)),classTimes:P,combatTimeMs:Number(E.squadActiveMs||E.totalFightMs||0),squadTimeMs:(()=>{const q=Number(E.firstSeenFightTs||0),he=Number(E.lastSeenFightTs||0),ne=Math.max(0,Number(E.lastSeenFightDurationMs||0));return q>0&&he>0?Math.max(0,he+ne-q):Number(E.squadActiveMs||E.totalFightMs||0)})()}}).filter(E=>E.account&&E.account!=="Unknown").sort((E,P)=>{const q=P.squadTimeMs-E.squadTimeMs;return q!==0?q:String(E.account).localeCompare(String(P.account))}),_t=o.map(E=>E).sort((E,P)=>Ci(E.details,E)-Ci(P.details,P)).map((E,P)=>{const q=E==null?void 0:E.details,he=Array.isArray(q==null?void 0:q.players)?q.players.filter(we=>!(we!=null&&we.notInSquad)):[],ne=new Map;he.forEach(we=>{const $e=Number(we==null?void 0:we.group),Ye=Number.isFinite($e)&&$e>0?$e:0;ne.has(Ye)||ne.set(Ye,{party:Ye,players:[],classCounts:{}});const dt=W((we==null?void 0:we.profession)||(we==null?void 0:we.name)||"Unknown"),zt=String((we==null?void 0:we.account)||"Unknown"),qt=String((we==null?void 0:we.name)||(we==null?void 0:we.character_name)||""),an=!!(we!=null&&we.hasCommanderTag),et=ne.get(Ye);et.players.push({account:zt,characterName:qt,profession:dt,isCommander:an}),et.classCounts[dt]=(et.classCounts[dt]||0)+1});const Ae=Array.from(ne.values()).map(we=>({...we,players:we.players.sort(($e,Ye)=>{const dt=+!!Ye.isCommander-+!!$e.isCommander;if(dt!==0)return dt;const zt=String($e.profession).localeCompare(String(Ye.profession));return zt!==0?zt:String($e.account).localeCompare(String(Ye.account))})})).sort((we,$e)=>we.party===0&&$e.party!==0?1:$e.party===0&&we.party!==0?-1:we.party-$e.party);return{id:String((E==null?void 0:E.filePath)||(E==null?void 0:E.id)||`fight-${P+1}`),label:`F${P+1}`,timestamp:Ci(q,E),mapName:na(q,E),duration:Ph(Number((q==null?void 0:q.durationMS)||0)),parties:Ae}}),Bt=(E,P)=>{const q=(P==null?void 0:P.skillMap)||{},he=(P==null?void 0:P.buffMap)||{};let ne=0,Ae="";const we=dt=>{const zt=Number(dt);if(!Number.isFinite(zt))return String(dt||"Unknown Skill");const qt=(q==null?void 0:q[`s${zt}`])||(q==null?void 0:q[`${zt}`]);if(qt!=null&&qt.name)return String(qt.name);const an=(he==null?void 0:he[`b${zt}`])||(he==null?void 0:he[`${zt}`]);return an!=null&&an.name?String(an.name):`Skill ${zt}`},$e=dt=>{if(!dt||typeof dt!="object")return;const zt=[Number(dt.max),Number(dt.maxDamage),Number(dt.maxHit)].filter(an=>Number.isFinite(an)),qt=zt.length>0?Math.max(...zt):0;qt>ne&&(ne=qt,Ae=we(dt.id))};let Ye=!1;return Array.isArray(E==null?void 0:E.targetDamageDist)&&E.targetDamageDist.forEach(dt=>{Array.isArray(dt)&&dt.forEach(zt=>{Array.isArray(zt)&&zt.forEach(qt=>{Ye=!0,$e(qt)})})}),(!Ye||ne<=0)&&Array.isArray(E==null?void 0:E.totalDamageDist)&&E.totalDamageDist.forEach(dt=>{Array.isArray(dt)&&dt.forEach(zt=>$e(zt))}),{peak:ne,skillName:Ae||"Unknown Skill"}},rn=(()=>{const E=et=>String(et||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),P=et=>E(et).toLowerCase().split(/[^a-z0-9]+/i).map(Qe=>Qe.trim()).filter(Boolean).map(Qe=>Qe.length>3&&Qe.endsWith("s")?Qe.slice(0,-1):Qe),q=(et,Qe)=>{const xt=E(et),Rt=E(Qe);if(!Rt)return xt;if(!xt)return Rt;const Qt=P(xt),ke=P(Rt),Te=new Set(Qt),Ue=new Set(ke),Fe=ke.length>0&&ke.every(st=>Te.has(st)),rt=Qt.length>0&&Qt.every(st=>Ue.has(st));return Fe||rt?xt:`${xt} - ${Rt}`},he=[],ne=new Map,Ae=et=>{const Qe=Fe=>{if(!Array.isArray(Fe)||Fe.length===0)return[];const rt=[];for(let st=0;st<Fe.length;st+=1){const be=Number(Fe[st]||0),ot=st>0?Number(Fe[st-1]||0):0;rt.push(Math.max(0,be-ot))}return rt},xt=Fe=>{if(!Array.isArray(Fe))return[];const rt=Fe.reduce((be,ot)=>Math.max(be,Array.isArray(ot)?ot.length:0),0);if(rt<=0)return[];const st=new Array(rt).fill(0);return Fe.forEach(be=>{if(Array.isArray(be))for(let ot=0;ot<rt;ot+=1)st[ot]+=Number(be[ot]||0)}),st},Rt=Fe=>Array.isArray(Fe)?Fe.map(rt=>Number(rt||0)):null,ke=(Fe=>{if(!Array.isArray(Fe)||Fe.length===0)return null;const rt=Fe[0];if(!Array.isArray(rt))return null;if(Array.isArray(rt[0])&&Array.isArray(rt[0][0]))return xt(rt);if(Array.isArray(rt[0])&&!Array.isArray(rt[0][0])){const st=Fe.map(be=>Rt(Array.isArray(be)?be[0]:null)).filter(be=>Array.isArray(be)&&be.length>0);if(st.length>0)return xt(st)}return null})(et==null?void 0:et.targetDamage1S),Te=Array.isArray(et==null?void 0:et.damage1S)&&Array.isArray(et.damage1S[0])?et.damage1S[0]:null,Ue=ke||(Array.isArray(Te)?Te.map(Fe=>Number(Fe||0)):[]);return Qe(Ue)},we=(et,Qe)=>{if(!Array.isArray(et)||et.length===0||Qe<=0)return 0;let xt=0,Rt=0;for(let Qt=0;Qt<et.length;Qt+=1)xt+=Number(et[Qt]||0),Qt>=Qe&&(xt-=Number(et[Qt-Qe]||0)),Qt>=Qe-1&&xt>Rt&&(Rt=xt);return Math.max(0,Rt)},$e=(et,Qe)=>{if(!Array.isArray(et)||et.length===0||Qe<=0)return[];const xt=[];for(let Rt=0;Rt<et.length;Rt+=Qe){const Qt=Math.min(Rt+Qe,et.length),ke=et.slice(Rt,Qt).reduce((Te,Ue)=>Te+Number(Ue||0),0);xt.push(ke)}return xt},Ye=(et,Qe)=>{const xt=Number(et);if(!Number.isFinite(xt))return{name:String(et||"Unknown Skill"),icon:void 0};const Rt=(Qe==null?void 0:Qe.skillMap)||{},Qt=(Qe==null?void 0:Qe.buffMap)||{},ke=(Rt==null?void 0:Rt[`s${xt}`])||(Rt==null?void 0:Rt[`${xt}`]);if(ke!=null&&ke.name)return{name:String(ke.name),icon:ke==null?void 0:ke.icon};const Te=(Qt==null?void 0:Qt[`b${xt}`])||(Qt==null?void 0:Qt[`${xt}`]);return Te!=null&&Te.name?{name:String(Te.name),icon:Te==null?void 0:Te.icon}:{name:`Skill ${xt}`,icon:void 0}},dt=et=>Array.isArray(et)?et.map(Qe=>Array.isArray(Qe)?[Number(Qe[0]),Number(Qe[1])]:Qe&&typeof Qe=="object"?[Number(Qe.time),Number(Qe.value)]:null).filter(Qe=>!!Qe&&Number.isFinite(Qe[0])&&Qe[0]>=0):[],zt=(et,Qe,xt,Rt,Qt)=>{if(!et.length||Rt<=0)return[];const ke=Math.max(Rt*5e3,Qt||0),Te=Q=>Q.reduce((Be,it)=>it>=0&&it<=ke+2e3?Be+1:Be,0),Ue=et.map(Q=>Number(Q||0)).filter(Q=>Number.isFinite(Q)&&Q>=0);if(!Ue.length)return[];const Fe=[Ue],rt=Ue.reduce((Q,Be)=>Math.max(Q,Be),0),st=Ue.reduce((Q,Be)=>Math.min(Q,Be),Number.POSITIVE_INFINITY);rt>ke*20&&Fe.push(Ue.map(Q=>Q/1e3)),rt<=ke*2&&st>=0&&rt>0&&rt<Math.max(120,Rt*5+10)&&Fe.push(Ue.map(Q=>Q*1e3));let be=Ue,ot=0,De=-1;return Fe.forEach(Q=>{const Be=Q.reduce((Lt,ft)=>Math.min(Lt,ft),Number.POSITIVE_INFINITY),it=new Set([0,...Qe,...xt]);if(Number.isFinite(Be)&&ke>0&&Be>ke){const Lt=Math.floor(Be/ke)*ke;it.add(Lt),it.add(Math.max(0,Lt-ke))}it.forEach(Lt=>{const ft=Q.map(Vt=>Vt-Lt),ge=Te(ft);ge>De&&(De=ge,ot=Lt,be=Q)})}),be.map(Q=>Q-ot).filter(Q=>Number.isFinite(Q)&&Q>=0)},qt=(et,Qe,xt,Rt,Qt)=>{const ke=zt(et,Qe,xt,Rt,Qt);return Array.from(new Set(ke.map(Te=>Math.floor(Te/5e3)).filter(Te=>Number.isFinite(Te)&&Te>=0&&Te<Rt)))};o.map(et=>({log:et,ts:Ci(et==null?void 0:et.details,et)})).sort((et,Qe)=>et.ts-Qe.ts).forEach(({log:et},Qe)=>{const xt=et==null?void 0:et.details;if(!xt)return;const Rt=E(xt.fightName||et.fightName||`Fight ${Qe+1}`),Qt=na(xt,et),ke=q(Rt,String(Qt||"")),Te={},Ue=Array.isArray(xt.players)?xt.players:[],Fe=Ue.flatMap(De=>{const Q=De==null?void 0:De.combatReplayData;return Array.isArray(Q)?Q.map(Be=>Number(Be==null?void 0:Be.start)):[Number(Q==null?void 0:Q.start)]}).filter(De=>Number.isFinite(De)&&De>=0);Ue.forEach(De=>{if(De!=null&&De.notInSquad)return;const Q=String((De==null?void 0:De.account)||(De==null?void 0:De.name)||"Unknown"),Be=String((De==null?void 0:De.character_name)||(De==null?void 0:De.display_name)||(De==null?void 0:De.name)||""),it=String((De==null?void 0:De.profession)||"Unknown"),Lt=`${Q}|${it}`,ft=Bt(De,xt),ge=Number(ft.peak||0),Vt=Ae(De),xe=Number(we(Vt,1)||0),Me=Number(we(Vt,5)||0),Xe=Number(we(Vt,30)||0),mt=Math.max(0,Math.ceil(Number((xt==null?void 0:xt.durationMS)||0)/5e3)),Ve=Math.max(0,Math.ceil(Vt.length/5)),Le=Math.max(mt,Ve),Je=$e(Vt,5),at=Array.from({length:Le},(Ct,vt)=>Number(Je[vt]||0)),kt=new Map,pn=Ct=>{if(!Ct||typeof Ct!="object"||Ct.indirectDamage)return;const vt=Number(Ct.totalDamage||0);if(!Number.isFinite(vt)||vt<=0)return;const Cn=Number(Ct.connectedHits||Ct.hits||0),tn=Ye(Ct.id,xt),ki=tn.name,gr=kt.get(ki)||{skillName:ki,damage:0,hits:0,icon:tn.icon};gr.damage+=vt,gr.hits+=Number.isFinite(Cn)?Cn:0,!gr.icon&&tn.icon&&(gr.icon=tn.icon),kt.set(ki,gr)},Ht=new Map;Array.isArray(De==null?void 0:De.targetDamageDist)&&De.targetDamageDist.forEach(Ct=>{Array.isArray(Ct)&&Ct.forEach(vt=>{Array.isArray(vt)&&vt.forEach(Cn=>{const tn=Number(Cn==null?void 0:Cn.id),ki=Number((Cn==null?void 0:Cn.totalDamage)||0);if(Number.isFinite(tn)){const gr=Ht.get(tn)||{damage:0,hits:0};gr.damage+=Number.isFinite(ki)?ki:0,gr.hits+=Number((Cn==null?void 0:Cn.connectedHits)||(Cn==null?void 0:Cn.hits)||0),Ht.set(tn,gr)}pn(Cn)})})}),!(xt!=null&&xt.detailedWvW)&&Array.isArray(De==null?void 0:De.totalDamageDist)&&De.totalDamageDist.forEach(Ct=>{Array.isArray(Ct)&&Ct.forEach(vt=>{const Cn=Number(vt==null?void 0:vt.id);if(!Number.isFinite(Cn)){pn(vt);return}const tn=Ht.get(Cn);if(!tn){pn(vt);return}const ki=Number((vt==null?void 0:vt.totalDamage)||0),gr=Number((vt==null?void 0:vt.connectedHits)||(vt==null?void 0:vt.hits)||0),Dl=ki-Number(tn.damage||0),$o=gr-Number(tn.hits||0);Dl<=0&&$o<=0||pn({...vt,totalDamage:Math.max(0,Dl),connectedHits:Math.max(0,$o),hits:Math.max(0,$o)})})});const ln=(()=>{const Ct=De==null?void 0:De.combatReplayData;return Array.isArray(Ct)?Ct.filter(vt=>vt&&typeof vt=="object"):Ct&&typeof Ct=="object"?[Ct]:[]})(),Ar=ln.map(Ct=>Number(Ct==null?void 0:Ct.start)).filter(Ct=>Number.isFinite(Ct)&&Ct>=0),Zt=ln.flatMap(Ct=>dt(Ct==null?void 0:Ct.down).map(([vt])=>Number(vt||0))),Jr=ln.flatMap(Ct=>dt(Ct==null?void 0:Ct.dead).map(([vt])=>Number(vt||0)));Te[Lt]={hit:ge,burst1s:xe,burst5s:Me,burst30s:Xe,skillName:ft.skillName,buckets5s:at,downIndices5s:qt(Zt,Ar,Fe,Le,Number((xt==null?void 0:xt.durationMS)||0)),deathIndices5s:qt(Jr,Ar,Fe,Le,Number((xt==null?void 0:xt.durationMS)||0)),skillRows:Array.from(kt.values()).sort((Ct,vt)=>vt.damage-Ct.damage).slice(0,50)};const Sn=ne.get(Lt)||{key:Lt,account:Q,displayName:Q,characterName:Be,profession:it,professionList:[it],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Sn.logs+=1,Sn.professionList.includes(it)||Sn.professionList.push(it),!Sn.characterName&&Be&&(Sn.characterName=Be),ge>Sn.peakHit&&(Sn.peakHit=ge,Sn.peakFightLabel=ke,Sn.peakSkillName=ft.skillName),xe>Sn.peak1s&&(Sn.peak1s=xe),Me>Sn.peak5s&&(Sn.peak5s=Me),Xe>Sn.peak30s&&(Sn.peak30s=Xe),ne.set(Lt,Sn)});const rt=Object.values(Te).reduce((De,Q)=>Math.max(De,Number((Q==null?void 0:Q.hit)||0)),0),st=Object.values(Te).reduce((De,Q)=>Math.max(De,Number((Q==null?void 0:Q.burst1s)||0)),0),be=Object.values(Te).reduce((De,Q)=>Math.max(De,Number((Q==null?void 0:Q.burst5s)||0)),0),ot=Object.values(Te).reduce((De,Q)=>Math.max(De,Number((Q==null?void 0:Q.burst30s)||0)),0);he.push({id:et.filePath||et.id||`fight-${Qe+1}`,shortLabel:`F${Qe+1}`,fullLabel:ke,timestamp:Ci(xt,et),values:Te,maxHit:rt,max1s:st,max5s:be,max30s:ot})});const an=Array.from(ne.values()).sort((et,Qe)=>Qe.peakHit!==et.peakHit?Qe.peakHit-et.peakHit:et.displayName.localeCompare(Qe.displayName));return{fights:he,players:an}})(),Nt=(()=>{const E=ke=>String(ke||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),P=ke=>E(ke).toLowerCase().split(/[^a-z0-9]+/i).map(Te=>Te.trim()).filter(Boolean).map(Te=>Te.length>3&&Te.endsWith("s")?Te.slice(0,-1):Te),q=(ke,Te)=>{const Ue=E(ke),Fe=E(Te);if(!Fe)return Ue;if(!Ue)return Fe;const rt=P(Ue),st=P(Fe),be=new Set(rt),ot=new Set(st),De=st.length>0&&st.every(Be=>be.has(Be)),Q=rt.length>0&&rt.every(Be=>ot.has(Be));return De||Q?Ue:`${Ue} - ${Fe}`},he=[],ne=new Map,Ae=(ke,Te)=>{const Ue=Number(ke);if(!Number.isFinite(Ue))return{name:String(ke||"Unknown Skill"),icon:void 0};const Fe=(Te==null?void 0:Te.skillMap)||{},rt=(Te==null?void 0:Te.buffMap)||{},st=(Fe==null?void 0:Fe[`s${Ue}`])||(Fe==null?void 0:Fe[`${Ue}`]);if(st!=null&&st.name)return{name:String(st.name),icon:st==null?void 0:st.icon};const be=(rt==null?void 0:rt[`b${Ue}`])||(rt==null?void 0:rt[`${Ue}`]);return be!=null&&be.name?{name:String(be.name),icon:be==null?void 0:be.icon}:{name:`Skill ${Ue}`,icon:void 0}},we=(ke,Te)=>{let Ue=0,Fe="";const rt=st=>{if(!st||typeof st!="object"||st.indirectDamage)return;const be=[Number(st.max),Number(st.maxDamage),Number(st.maxHit)].filter(De=>Number.isFinite(De)),ot=be.length>0?Math.max(...be):0;ot>Ue&&(Ue=ot,Fe=Ae(st.id,Te).name)};return Array.isArray(ke==null?void 0:ke.totalDamageDist)&&ke.totalDamageDist.forEach(st=>{Array.isArray(st)&&st.forEach(be=>rt(be))}),Array.isArray(ke==null?void 0:ke.targetDamageDist)&&ke.targetDamageDist.forEach(st=>{Array.isArray(st)&&st.forEach(be=>{Array.isArray(be)&&be.forEach(ot=>rt(ot))})}),{peak:Ue,skillName:Fe||"Unknown Skill"}},$e=ke=>{if(!Array.isArray(ke)||ke.length===0)return[];const Te=[];for(let Ue=0;Ue<ke.length;Ue+=1){const Fe=Number(ke[Ue]||0),rt=Ue>0?Number(ke[Ue-1]||0):0;Te.push(Math.max(0,Fe-rt))}return Te},Ye=ke=>{if(!Array.isArray(ke)||ke.length===0)return[];const Te=ke.reduce((Fe,rt)=>Math.max(Fe,Array.isArray(rt)?rt.length:0),0);if(Te<=0)return[];const Ue=new Array(Te).fill(0);return ke.forEach(Fe=>{if(Array.isArray(Fe))for(let rt=0;rt<Te;rt+=1)Ue[rt]+=Number(Fe[rt]||0)}),Ue},dt=ke=>{if(!Array.isArray(ke)||ke.length===0)return[];const Te=ke[0];if(typeof Te=="number")return ke.map(Ue=>Number(Ue||0));if(Array.isArray(Te)&&Te.length>0){if(typeof Te[0]=="number")return Te.map(Ue=>Number(Ue||0));if(Array.isArray(Te[0])){const Ue=Te.map(Fe=>Array.isArray(Fe)?Fe.map(rt=>Number(rt||0)):null).filter(Fe=>Array.isArray(Fe)&&Fe.length>0);if(Ue.length>0)return Ye(Ue)}}return[]},zt=ke=>{const Te=dt(ke==null?void 0:ke.powerDamage1S),Ue=dt(ke==null?void 0:ke.damage1S),Fe=Te.length>0?Te:Ue;return $e(Fe)},qt=(ke,Te)=>{const Ue=ke==null?void 0:ke.targetPowerDamage1S;if(!Array.isArray(Ue)||!Array.isArray(Ue[Te]))return[];const Fe=Ue[Te];if(!Array.isArray(Fe)||Fe.length===0)return[];if(typeof Fe[0]=="number")return Fe.map(rt=>Number(rt||0));if(Array.isArray(Fe[0])&&!Array.isArray(Fe[0][0]))return Fe[0].map(rt=>Number(rt||0));if(Array.isArray(Fe[0])&&Array.isArray(Fe[0][0])){const st=Fe[0].map(be=>Array.isArray(be)?be.map(ot=>Number(ot||0)):null).filter(be=>Array.isArray(be)&&be.length>0);return Ye(st)}return[]},an=(ke,Te)=>{if(!Array.isArray(ke)||ke.length===0||Te<=0)return 0;let Ue=0,Fe=0;for(let rt=0;rt<ke.length;rt+=1)Ue+=Number(ke[rt]||0),rt>=Te&&(Ue-=Number(ke[rt-Te]||0)),rt>=Te-1&&Ue>Fe&&(Fe=Ue);return Math.max(0,Fe)},et=(ke,Te)=>{if(!Array.isArray(ke)||ke.length===0||Te<=0)return[];const Ue=[];for(let Fe=0;Fe<ke.length;Fe+=Te){const rt=Math.min(Fe+Te,ke.length),st=ke.slice(Fe,rt).reduce((be,ot)=>be+Number(ot||0),0);Ue.push(st)}return Ue},Qe=ke=>Array.isArray(ke)?ke.map(Te=>Array.isArray(Te)?[Number(Te[0]),Number(Te[1])]:Te&&typeof Te=="object"?[Number(Te.time),Number(Te.value)]:null).filter(Te=>!!Te&&Number.isFinite(Te[0])&&Te[0]>=0):[],xt=(ke,Te,Ue,Fe,rt)=>{if(!ke.length||Fe<=0)return[];const st=Math.max(Fe*5e3,rt||0),be=ge=>ge.reduce((Vt,xe)=>xe>=0&&xe<=st+2e3?Vt+1:Vt,0),ot=ke.map(ge=>Number(ge||0)).filter(ge=>Number.isFinite(ge)&&ge>=0);if(!ot.length)return[];const De=[ot],Q=ot.reduce((ge,Vt)=>Math.max(ge,Vt),0),Be=ot.reduce((ge,Vt)=>Math.min(ge,Vt),Number.POSITIVE_INFINITY);Q>st*20&&De.push(ot.map(ge=>ge/1e3)),Q<=st*2&&Be>=0&&Q>0&&Q<Math.max(120,Fe*5+10)&&De.push(ot.map(ge=>ge*1e3));let it=ot,Lt=0,ft=-1;return De.forEach(ge=>{const Vt=ge.reduce((Me,Xe)=>Math.min(Me,Xe),Number.POSITIVE_INFINITY),xe=new Set([0,...Te,...Ue]);if(Number.isFinite(Vt)&&st>0&&Vt>st){const Me=Math.floor(Vt/st)*st;xe.add(Me),xe.add(Math.max(0,Me-st))}xe.forEach(Me=>{const Xe=ge.map(Ve=>Ve-Me),mt=be(Xe);mt>ft&&(ft=mt,Lt=Me,it=ge)})}),it.map(ge=>ge-Lt).filter(ge=>Number.isFinite(ge)&&ge>=0)},Rt=(ke,Te,Ue,Fe,rt)=>{const st=xt(ke,Te,Ue,Fe,rt);return Array.from(new Set(st.map(be=>Math.floor(be/5e3)).filter(be=>Number.isFinite(be)&&be>=0&&be<Fe)))};o.map(ke=>({log:ke,ts:Ci(ke==null?void 0:ke.details,ke)})).sort((ke,Te)=>ke.ts-Te.ts).forEach(({log:ke},Te)=>{const Ue=ke==null?void 0:ke.details;if(!Ue)return;const Fe=E(Ue.fightName||ke.fightName||`Fight ${Te+1}`),rt=na(Ue,ke),st=q(Fe,String(rt||"")),be={},De=(Array.isArray(Ue.players)?Ue.players:[]).filter(Le=>!(Le!=null&&Le.notInSquad)),Q=De.flatMap(Le=>{const Je=Le==null?void 0:Le.combatReplayData;return Array.isArray(Je)?Je.map(at=>Number(at==null?void 0:at.start)):[Number(Je==null?void 0:Je.start)]}).filter(Le=>Number.isFinite(Le)&&Le>=0),Be=De.flatMap(Le=>{const Je=Le==null?void 0:Le.combatReplayData;return(Array.isArray(Je)?Je:Je?[Je]:[]).flatMap(kt=>Qe(kt==null?void 0:kt.down).map(([pn])=>Number(pn||0)))}),it=De.flatMap(Le=>{const Je=Le==null?void 0:Le.combatReplayData;return(Array.isArray(Je)?Je:Je?[Je]:[]).flatMap(kt=>Qe(kt==null?void 0:kt.dead).map(([pn])=>Number(pn||0)))}),Lt=new Map,ft=new Map,ge=new Map;(Array.isArray(Ue.targets)?Ue.targets:[]).forEach((Le,Je)=>{if(!Le||Le.isFake||!Le.enemyPlayer)return;const at=W((Le==null?void 0:Le.profession)||(Le==null?void 0:Le.name)||(Le==null?void 0:Le.id))||"Unknown";ge.set(at,(ge.get(at)||0)+1);const kt=ft.get(at)||new Map;Array.isArray(Le==null?void 0:Le.totalDamageDist)&&Le.totalDamageDist.forEach(Zt=>{Array.isArray(Zt)&&Zt.forEach(Jr=>{if(!Jr||typeof Jr!="object"||Jr.indirectDamage)return;const Sn=Number(Jr.totalDamage||0);if(!Number.isFinite(Sn)||Sn<=0)return;const Ct=Number(Jr.connectedHits||Jr.hits||0),vt=Ae(Jr.id,Ue),Cn=vt.name,tn=kt.get(Cn)||{skillName:Cn,damage:0,hits:0,icon:vt.icon};tn.damage+=Sn,tn.hits+=Number.isFinite(Ct)?Ct:0,!tn.icon&&vt.icon&&(tn.icon=vt.icon),kt.set(Cn,tn)})}),ft.set(at,kt);const pn=Ye(De.map(Zt=>qt(Zt,Je))),Ht=pn.length>0?$e(pn):zt(Le),zn=we(Le,Ue);let ln=Lt.get(at);ln||(ln={perSecond:[],hit:0,skillName:""},Lt.set(at,ln)),Ht.length>ln.perSecond.length&&(ln.perSecond.length=Ht.length);for(let Zt=0;Zt<Ht.length;Zt+=1)ln.perSecond[Zt]=Number(ln.perSecond[Zt]||0)+Number(Ht[Zt]||0);const Ar=Number(zn.peak||0);Ar>ln.hit&&(ln.hit=Ar,ln.skillName=zn.skillName||"Unknown Skill")});const xe=Array.from(Lt.values()).some(Le=>Array.isArray(Le.perSecond)&&Le.perSecond.some(Je=>Number(Je||0)>0));if(Lt.size===0||!xe){const Le=Ye(De.map(at=>{const kt=dt(at==null?void 0:at.powerDamageTaken1S);return $e(kt)})),Je=Array.from(ge.values()).reduce((at,kt)=>at+Number(kt||0),0);Le.length>0&&Je>0&&ge.forEach((at,kt)=>{const pn=Number(at||0)/Je,Ht=Le.map(ln=>Number(ln||0)*pn),zn=Lt.get(kt);Lt.set(kt,{perSecond:Ht,hit:Number((zn==null?void 0:zn.hit)||0),skillName:String((zn==null?void 0:zn.skillName)||"")})})}Lt.forEach((Le,Je)=>{var vt;const at=Je,kt=Number(Le.hit||0),pn=Number(an(Le.perSecond,1)||0),Ht=Number(an(Le.perSecond,5)||0),zn=Number(an(Le.perSecond,30)||0),ln=Math.max(0,Math.ceil(Number((Ue==null?void 0:Ue.durationMS)||0)/5e3)),Ar=Math.max(0,Math.ceil(Le.perSecond.length/5)),Zt=Math.max(ln,Ar),Jr=et(Le.perSecond,5),Sn=Array.from({length:Zt},(Cn,tn)=>Number(Jr[tn]||0));be[at]={hit:kt,burst1s:pn,burst5s:Ht,burst30s:zn,skillName:Le.skillName||"Unknown Skill",buckets5s:Sn,downIndices5s:Rt(Be,[],Q,Zt,Number((Ue==null?void 0:Ue.durationMS)||0)),deathIndices5s:Rt(it,[],Q,Zt,Number((Ue==null?void 0:Ue.durationMS)||0)),skillRows:Array.from(((vt=ft.get(Je))==null?void 0:vt.values())||[]).sort((Cn,tn)=>tn.damage-Cn.damage).slice(0,50)};const Ct=ne.get(at)||{key:at,account:Je,displayName:Je,characterName:"",profession:Je,professionList:[Je],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Ct.logs+=1,kt>Ct.peakHit&&(Ct.peakHit=kt,Ct.peakFightLabel=st,Ct.peakSkillName=Le.skillName||"Unknown Skill"),pn>Ct.peak1s&&(Ct.peak1s=pn),Ht>Ct.peak5s&&(Ct.peak5s=Ht),zn>Ct.peak30s&&(Ct.peak30s=zn),ne.set(at,Ct)});const Me=Object.values(be).reduce((Le,Je)=>Math.max(Le,Number((Je==null?void 0:Je.hit)||0)),0),Xe=Object.values(be).reduce((Le,Je)=>Math.max(Le,Number((Je==null?void 0:Je.burst1s)||0)),0),mt=Object.values(be).reduce((Le,Je)=>Math.max(Le,Number((Je==null?void 0:Je.burst5s)||0)),0),Ve=Object.values(be).reduce((Le,Je)=>Math.max(Le,Number((Je==null?void 0:Je.burst30s)||0)),0);he.push({id:ke.filePath||ke.id||`fight-${Te+1}`,shortLabel:`F${Te+1}`,fullLabel:st,timestamp:Ci(Ue,ke),values:be,maxHit:Me,max1s:Xe,max5s:mt,max30s:Ve})});const Qt=Array.from(ne.values()).sort((ke,Te)=>Te.peakHit!==ke.peakHit?Te.peakHit-ke.peakHit:ke.displayName.localeCompare(Te.displayName));return{fights:he,players:Qt}})(),ht=Array.from(A.entries()).map(([E,P])=>{const q=D.get(E)||{},he=Array.from(P.values()).map(ne=>{var an,et;const Ae=Array.from(ne.professions||[]).filter(Qe=>Qe&&Qe!=="Unknown");let we=ne.profession||"Unknown";if(Ae.length>0){we=Ae[0];let Qe=((an=ne.professionTimeMs)==null?void 0:an[we])||0;Ae.forEach(xt=>{var Qt;const Rt=((Qt=ne.professionTimeMs)==null?void 0:Qt[xt])||0;Rt>Qe&&(Qe=Rt,we=xt)})}const $e=ne.durationMs||0,Ye=ne.totalMs/1e3,dt=$e>0?ne.totalMs/$e:0,zt=((et=M.get(ne.account))==null?void 0:et.supportActiveMs)||$e,qt=zt>0?ne.uptimeMs/zt:0;return{account:ne.account,profession:we,professionList:Ae,total:Ye,perSecond:dt,uptimePerSecond:qt,duration:$e/1e3}}).filter(ne=>ne.total>0||ne.perSecond>0);return{id:E,name:q.name||E,icon:q.icon,rows:he}}).filter(E=>E.rows.length>0),Tn=Array.from(fe.values()).map(E=>{const P=Array.from(E.skills.values()).sort((he,ne)=>ne.damage-he.damage),q={key:E.key,account:E.account,displayName:E.displayName,profession:E.profession,professionList:E.professionList,totalFightMs:E.totalFightMs,skills:P};return p&&(q.skillMap=P.reduce((he,ne)=>(he[ne.id]=ne,he),{})),q}).sort((E,P)=>E.displayName.localeCompare(P.displayName));return{total:x,wins:w,losses:b,avgSquadSize:Ce,avgEnemies:lt,squadKDR:Jt,enemyKDR:fn,totalSquadKills:j,totalSquadDeaths:S,totalEnemyKills:F,totalEnemyDeaths:O,leaderboards:nn,...jr,outgoingConditionSummary:Object.values(J).sort((E,P)=>P.damage-E.damage),incomingConditionSummary:Object.values(K).sort((E,P)=>P.damage-E.damage),outgoingConditionPlayers:Array.from(M.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.outgoingConditions})),incomingConditionPlayers:Array.from(M.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.incomingConditions})),topSkills:Lr,topIncomingSkills:qa,topSkillsByDamage:pr,topSkillsByDownContribution:Ha,playerSkillBreakdowns:Tn,topSkillsMetric:y,mapData:_c,timelineData:fd,boonTables:dd,offensePlayers:Array.from(M.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,offenseTotals:E.offenseTotals,offenseRateWeights:E.offenseRateWeights,totalFightMs:E.totalFightMs})),defensePlayers:Array.from(M.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,defenseTotals:E.defenseTotals,activeMs:E.defenseActiveMs,minionDamageTakenByMinion:E.defenseMinionDamageTaken})),damageMitigationPlayers:en,damageMitigationMinions:hn,supportPlayers:Array.from(M.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,supportTotals:E.supportTotals,activeMs:E.supportActiveMs})),healingPlayers:Array.from(M.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,healingTotals:E.healingTotals,activeMs:E.healingActiveMs})),mvp:kr,silver:Oc,bronze:Ws,squadClassData:Lc,enemyClassData:Y,fightBreakdown:ye,fightDiffMode:Ee,attendanceData:ct,squadCompByFight:_t,spikeDamage:rn,incomingStrikeDamage:Nt,specialTables:ht,topStatsPerSecond:vn,topStatsLeaderboardsPerSecond:bn,avgMvpScore:_o}})(),h=(()=>{const m=new Map,p=new Map,g=[],y=new Map,x=new Map;o.forEach(b=>{const N=b.details;if(!N)return;const C=N.skillMap||{},S=N.fightName||"Log",j=Ci(N,b)||Date.now(),O={id:b.filePath||b.id||S,label:S,timestamp:j,skillEntries:{},playerActiveSeconds:{},durationSeconds:N.durationMS?N.durationMS/1e3:0};(N.players||[]).forEach(T=>{if(T.notInSquad)return;const I=T.account||T.name||"Unknown",M=T.profession||"Unknown",G=`${I}|${M}`;let Z=p.get(G);Z||(Z={key:G,account:I,displayName:I,profession:M,professionList:[M],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(G,Z)),Z.logs++;const se=(Array.isArray(T.activeTimes)?T.activeTimes[0]:0)/1e3;Z.totalActiveSeconds=(Z.totalActiveSeconds||0)+se,O.playerActiveSeconds[G]=se,(T.rotation||[]).forEach(fe=>{var A,ae,k;if(!(fe!=null&&fe.id))return;const J=((A=fe.skills)==null?void 0:A.length)||0;if(J<=0)return;const K=`s${fe.id}`,le=((ae=C[K])==null?void 0:ae.name)||`Skill ${fe.id}`,D=(k=C[K])==null?void 0:k.icon;Z.skillTotals[K]=(Z.skillTotals[K]||0)+J,m.set(K,(m.get(K)||0)+J),y.set(K,le),D&&!x.has(K)&&x.set(K,D),O.skillEntries[K]||(O.skillEntries[K]={name:le,icon:D,players:{}}),!O.skillEntries[K].icon&&D&&(O.skillEntries[K].icon=D),O.skillEntries[K].players[G]=(O.skillEntries[K].players[G]||0)+J})}),g.push(O)});const w=Array.from(m.entries()).map(([b,N])=>({id:b,name:y.get(b)||b,total:N,icon:x.get(b)})).sort((b,N)=>N.total-b.total);return{logRecords:g,players:Array.from(p.values()),skillOptions:w,resUtilitySkills:[]}})();return{validLogs:o,stats:f,skillUsageData:h}},LU=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=v.useState({uploading:!1,message:null,url:null}),[c,d]=v.useState("idle"),f=()=>{const g=new Set;let y=null,x=null;e.forEach(T=>{const I=T.details;if(!I)return;const M=I.timeStartStd||I.timeStart||I.uploadTime||T.uploadTime,G=I.timeEndStd||I.timeEnd||I.uploadTime||T.uploadTime,Z=M?new Date(M):null,se=G?new Date(G):null;Z&&!Number.isNaN(Z.getTime())&&(!y||Z<y)&&(y=Z),se&&!Number.isNaN(se.getTime())&&(!x||se>x)&&(x=se),(I.players||[]).forEach(J=>{if(!(J!=null&&J.notInSquad)&&J!=null&&J.hasCommanderTag){const K=(J==null?void 0:J.name)||(J==null?void 0:J.account)||"Unknown";g.add(K)}})});const w=Array.from(g).sort((T,I)=>T.localeCompare(I)),b=y||new Date,N=x||b,C=b.toISOString(),S=N.toISOString(),j=`${b.toLocaleString()} - ${N.toLocaleString()}`,O=T=>String(T).padStart(2,"0");return{id:`${b.getFullYear()}${O(b.getMonth()+1)}${O(b.getDate())}-${O(b.getHours())}${O(b.getMinutes())}${O(b.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:w.length?w.join(", "):"Unknown Commander",commanders:w,dateStart:C,dateEnd:S,dateLabel:j,generatedAt:new Date().toISOString()}},h=()=>{var y;const g={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(g.fightDiffMode)&&g.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return g;try{const x=Hd({logs:e,statsViewSettings:r}),w=(y=x==null?void 0:x.stats)==null?void 0:y.fightDiffMode;if(Array.isArray(w)&&w.length>0)return{...g,fightDiffMode:w}}catch{}return g};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const g=f(),y=h();await s({meta:g,stats:y})}catch(g){console.error("[StatsView] Web upload failed:",g)}},handleDevMockUpload:async()=>{var g;if(!(a||!((g=window.electronAPI)!=null&&g.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const y=f(),x=h(),w=await window.electronAPI.mockWebReport({meta:y,stats:x});w!=null&&w.success?l({uploading:!1,message:"Local report ready.",url:w.url||null}):l({uploading:!1,message:(w==null?void 0:w.error)||"Local report failed.",url:null})}catch(y){l({uploading:!1,message:(y==null?void 0:y.message)||"Local report failed.",url:null})}}}}};function $U(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const FU=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function ml(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Hc=null;function GO(e={}){return Hc||(e.includeStyleProperties?(Hc=e.includeStyleProperties,Hc):(Hc=ml(window.getComputedStyle(document.documentElement)),Hc))}function Xp(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function RU(e){const t=Xp(e,"border-left-width"),n=Xp(e,"border-right-width");return e.clientWidth+t+n}function BU(e){const t=Xp(e,"border-top-width"),n=Xp(e,"border-bottom-width");return e.clientHeight+t+n}function YO(e,t={}){const n=t.width||RU(e),r=t.height||BU(e);return{width:n,height:r}}function zU(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const sa=16384;function UU(e){(e.width>sa||e.height>sa)&&(e.width>sa&&e.height>sa?e.width>e.height?(e.height*=sa/e.width,e.width=sa):(e.width*=sa/e.height,e.height=sa):e.width>sa?(e.height*=sa/e.width,e.width=sa):(e.width*=sa/e.height,e.height=sa))}function Qp(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function VU(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function WU(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),VU(i)}const Yi=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Yi(n,t)};function HU(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function qU(e,t){return GO(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function KU(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?HU(n):qU(n,r);return document.createTextNode(`${i}{${a}}`)}function w2(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=FU();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(KU(s,n,i,r)),t.appendChild(o)}function GU(e,t,n){w2(e,t,":before",n),w2(e,t,":after",n)}const k2="application/font-woff",S2="image/jpeg",YU={woff:k2,woff2:k2,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:S2,jpeg:S2,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function XU(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function q1(e){const t=XU(e).toLowerCase();return YU[t]||""}function QU(e){return e.split(/,/)[1]}function hb(e){return e.search(/^(data:)/)!==-1}function ZU(e,t){return`data:${t};base64,${e}`}async function XO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const gv={};function JU(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function K1(e,t,n){const r=JU(e,t,n.includeQueryParams);if(gv[r]!=null)return gv[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await XO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),QU(o)));i=ZU(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return gv[r]=i,i}async function e8(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Qp(t)}async function t8(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Qp(o)}const n=e.poster,r=q1(n),i=await K1(n,r,t);return Qp(i)}async function n8(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await j0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function r8(e,t){return Yi(e,HTMLCanvasElement)?e8(e):Yi(e,HTMLVideoElement)?t8(e,t):Yi(e,HTMLIFrameElement)?n8(e,t):e.cloneNode(QO(e))}const i8=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",QO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function a8(e,t,n){var r,i;if(QO(t))return t;let a=[];return i8(e)&&e.assignedNodes?a=ml(e.assignedNodes()):Yi(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=ml(e.contentDocument.body.childNodes):a=ml(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||Yi(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>j0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function s8(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):GO(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),Yi(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function o8(e,t){Yi(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Yi(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function l8(e,t){if(Yi(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function c8(e,t,n){return Yi(t,Element)&&(s8(e,t,n),GU(e,t,n),o8(e,t),l8(e,t)),t}async function u8(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await j0(c,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function j0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>r8(r,t)).then(r=>a8(e,r,t)).then(r=>c8(e,r,t)).then(r=>u8(r,t))}const ZO=/url\((['"]?)([^'"]+?)\1\)/g,d8=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,f8=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function m8(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function h8(e){const t=[];return e.replace(ZO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!hb(n))}async function p8(e,t,n,r,i){try{const a=n?$U(t,n):t,s=q1(t);let o;return i||(o=await K1(a,s,r)),e.replace(m8(t),`$1${o}$3`)}catch{}return e}function g8(e,{preferredFontFormat:t}){return t?e.replace(f8,n=>{for(;;){const[r,,i]=d8.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function JO(e){return e.search(ZO)!==-1}async function eI(e,t,n){if(!JO(e))return e;const r=g8(e,n);return h8(r).reduce((a,s)=>a.then(o=>p8(o,s,t,n)),Promise.resolve(r))}async function qc(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await eI(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function x8(e,t){await qc("background",e,t)||await qc("background-image",e,t),await qc("mask",e,t)||await qc("-webkit-mask",e,t)||await qc("mask-image",e,t)||await qc("-webkit-mask-image",e,t)}async function v8(e,t){const n=Yi(e,HTMLImageElement);if(!(n&&!hb(e.src))&&!(Yi(e,SVGImageElement)&&!hb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await K1(r,q1(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function y8(e,t){const r=ml(e.childNodes).map(i=>tI(i,t));await Promise.all(r).then(()=>e)}async function tI(e,t){Yi(e,Element)&&(await x8(e,t),await v8(e,t),await y8(e,t))}function b8(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const N2={};async function C2(e){let t=N2[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},N2[e]=t,t}async function j2(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),XO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function A2(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function w8(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{ml(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,c=C2(l).then(d=>j2(d,t)).then(d=>A2(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(C2(i.href).then(o=>j2(o,t)).then(o=>A2(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{ml(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function k8(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>JO(t.style.getPropertyValue("src")))}async function S8(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=ml(e.ownerDocument.styleSheets),r=await w8(n,t);return k8(r)}function nI(e){return e.trim().replace(/["']/g,"")}function N8(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(nI(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function C8(e,t){const n=await S8(e,t),r=N8(e);return(await Promise.all(n.filter(a=>r.has(nI(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return eI(a.cssText,s,t)}))).join(`
`)}async function j8(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await C8(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function A8(e,t={}){const{width:n,height:r}=YO(e,t),i=await j0(e,t,!0);return await j8(i,t),await tI(i,t),b8(i,t),await WU(i,n,r)}async function P8(e,t={}){const{width:n,height:r}=YO(e,t),i=await A8(e,t),a=await Qp(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||zU(),c=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=c*l,s.height=d*l,t.skipAutoScale||UU(s),s.style.width=`${c}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function T8(e,t={}){return(await P8(e,t)).toDataURL()}const E8=e=>{const[t,n]=v.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=c,globalThis.fetch=c;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],c=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var w;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const g=await c(p);if(!g)return;const y=m.src,x=m.srcset;m.src=g,m.srcset="",l.push(()=>{m.src=y,m.srcset=x});try{await((w=m.decode)==null?void 0:w.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const g=window.getComputedStyle(m).backgroundImage;if(!g||g==="none"||!g.includes("url("))return;const y=Array.from(g.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!y.length)return;let x=g,w=!1;for(const N of y){const C=N[1];if(!C)continue;const S=await c(C);S&&(x=x.replace(N[0],`url("${S}")`),w=!0)}if(!w)return;const b=m.style.backgroundImage;m.style.backgroundImage=x,l.push(()=>{m.style.backgroundImage=b})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(g=>setTimeout(g,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(g=>{g.dataset.prevDisplay=g.style.display,g.style.display="none"});let c;const d=await i(s);try{const g=s.scrollWidth,y=s.scrollHeight;c=await r(()=>T8(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:g,height:y,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(g=>{g.style.display=g.dataset.prevDisplay||"",delete g.dataset.prevDisplay})}const m=await(await(await fetch(c)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},qd=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},D8=e=>!!(e&&e.__statsPruned===!0),P2=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,i])=>{if(!i||typeof i!="object")return;const a={};typeof i.name=="string"&&(a.name=i.name),typeof i.icon=="string"&&(a.icon=i.icon),t!=null&&t.includeClassification&&typeof i.classification=="string"&&(a.classification=i.classification),t!=null&&t.includeStacking&&(typeof i.stacking=="boolean"?a.stacking=i.stacking:typeof i.stacking=="number"&&(a.stacking=!!i.stacking)),Object.keys(a).length>0&&(n[r]=a)}),n},T2=e=>{var n;const t=(n=e==null?void 0:e.statsAll)==null?void 0:n[0];return!t||typeof t!="object"?!1:t.distToCom!==void 0&&t.distToCom!=="Infinity"||t.stackDist!==void 0},M8=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const i=qd(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(i.positions=r.positions),i};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},E2=e=>{if(!e||typeof e!="object")return e;const t=qd(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=P2(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=P2(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,i=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!T2(a));t.players=n.map(a=>{const s=qd(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];s.minions=o.map(c=>qd(c,["name","totalDamageTakenDist"]));const l=i&&((a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||!(a!=null&&a.notInSquad)&&!T2(a));return s.combatReplayData=M8(a==null?void 0:a.combatReplayData,l),s})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>qd(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]))),t},O8=e=>{if(!e||typeof e!="object"||D8(e))return e;const t={...e};return e.details?t.details=E2(e.details):t.details=E2(e),t.__statsPruned=!0,t},I8=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=v.useState(()=>Hd(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[c,d]=v.useState(0),[f,h]=v.useState(0),[m,p]=v.useState(0),[g,y]=v.useState(0),[x,w]=v.useState(null),b=v.useRef(0),[N,C]=v.useState(0),S=v.useRef(null),j=v.useRef(null),[O,F]=v.useState(!1),T=v.useRef(null),I=v.useRef(null),M=v.useRef(0),G=v.useRef(0),Z=v.useRef(new Map),se=v.useRef(""),fe=v.useRef(void 0),J=v.useRef(""),K=v.useRef(0),[le,D]=v.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[A,ae]=v.useState(null),k=v.useRef(0),U=()=>{if(T.current!==null&&(window.clearTimeout(T.current),T.current=null),I.current!==null){const H=window.cancelIdleCallback;typeof H=="function"&&H(I.current),I.current=null}},W=(H,X)=>{const $=String((H==null?void 0:H.filePath)||(H==null?void 0:H.id)||`idx-${X}`),oe=H!=null&&H.details&&typeof H.details=="object"?H.details:null,L=Z.current.get($);if(L&&(oe&&L.sourceDetails===oe||!oe&&L.sourceLog===H))return L.pruned;const V=O8(H);return Z.current.set($,{sourceLog:H,sourceDetails:oe,pruned:V}),V},ee=v.useMemo(()=>{if(!r){se.current="",fe.current=void 0;return}const H={...r};delete H.topSkillsMetric;const X=JSON.stringify(H);return se.current!==X&&(se.current=X,fe.current=H),fe.current},[r]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!O&&s)return j.current||(j.current=new Worker(new URL(""+new URL("statsWorker-C0gQaABM.js",import.meta.url).href,import.meta.url),{type:"module"}),j.current.onmessage=H=>{var X;if(((X=H.data)==null?void 0:X.type)==="result"){const $=typeof H.data.token=="number"?H.data.token:null;if($!==null&&$!==b.current)return;v.startTransition(()=>{var ve;l(H.data.result),typeof H.data.computeId=="number"?d(H.data.computeId):d(Ne=>Ne+1),typeof H.data.logCount=="number"&&h(H.data.logCount),typeof H.data.token=="number"&&p(H.data.token),typeof H.data.completedAt=="number"&&y(H.data.completedAt),typeof H.data.flushId=="number"&&w(H.data.flushId);const oe=$===null||$===b.current,L=K.current,V=typeof H.data.logCount=="number"?H.data.logCount:0;if(oe){const Ne=typeof H.data.completedAt=="number"?H.data.completedAt:Date.now(),tt=((ve=H.data)==null?void 0:ve.diagnostics)||{},z=Math.max(0,Number(tt.computeMs||0)),Re=k.current>0?k.current:Ne,Ce=Math.max(0,Ne-Re),lt=Math.max(0,Ce-z);ae({mode:"worker",logsInPayload:Number(tt.logsInPayload||H.data.logCount||0),streamedLogs:Number(H.data.logCount||0),totalLogs:L,startedAt:Re,completedAt:Ne,streamMs:lt,computeMs:z,totalMs:Ce,flushId:typeof H.data.flushId=="number"?H.data.flushId:null,transferStripStats:tt.transferStripStats,counts:tt.counts,expectedLogCount:Number(tt.expectedLogCount||0),droppedLogMessages:Number(tt.droppedLogMessages||0)})}oe&&V>=L&&D(Ne=>({...Ne,active:L>0,phase:L>0?"settled":"idle",streamed:L,total:L,completedAt:typeof H.data.completedAt=="number"?H.data.completedAt:Date.now()}))})}},j.current.onerror=H=>{var X;console.warn("[StatsWorker] Worker error. Falling back to main thread.",H),(X=j.current)==null||X.terminate(),j.current=null,F(!0)},j.current.onmessageerror=H=>{var X;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",H),(X=j.current)==null||X.terminate(),j.current=null,F(!0)},S.current!==null&&j.current.postMessage({type:"flush",flushId:S.current,token:b.current})),()=>{var H;G.current+=1,U(),(H=j.current)==null||H.terminate(),j.current=null}},[O,s]),v.useEffect(()=>{var $;if(!j.current||O||!s)return;const H=G.current+1;G.current=H;let X=!1;try{K.current=e.length,k.current=Date.now(),ae(null),D({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const oe=b.current+1;b.current=oe,C(oe);const L=new Set;e.forEach((Re,Ce)=>{L.add(String((Re==null?void 0:Re.filePath)||(Re==null?void 0:Re.id)||`idx-${Ce}`))}),Z.current.forEach((Re,Ce)=>{L.has(Ce)||Z.current.delete(Ce)}),U(),j.current.postMessage({type:"reset",token:oe,totalLogs:e.length}),j.current.postMessage({type:"settings",token:oe,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}});let V=0;const ve=e.length,Ne=(Re,Ce=!1)=>{const lt=performance.now();if(!Ce&&lt-M.current<120&&V<ve)return;M.current=lt;const Jt=Math.min(V,ve);D(fn=>fn.active===ve>0&&fn.phase===Re&&fn.streamed===Jt&&fn.total===ve?fn:{...fn,active:ve>0,phase:Re,streamed:Jt,total:ve})},tt=()=>{if(X||G.current!==H||!j.current)return;const Re=window.requestIdleCallback;if(typeof Re=="function"){I.current=Re(Ce=>{I.current=null,z(Ce)},{timeout:120});return}T.current=window.setTimeout(()=>{T.current=null,z()},0)},z=Re=>{if(X||G.current!==H||!j.current)return;const Ce=!!(Re&&typeof Re.timeRemaining=="function"),lt=Ce?Math.max(0,Number(Re.timeRemaining()||0)):0,Jt=Ce?lt>12?4:lt>7?2:1:1;let fn=0;for(;fn<Jt&&V<ve;)j.current.postMessage({type:"log",token:oe,payload:W(e[V],V)}),V+=1,fn+=1;V<ve?(Ne("streaming"),tt()):(Ne("computing",!0),j.current.postMessage({type:"flush",token:oe}))};M.current=0,ve<=0?(Ne("computing",!0),j.current.postMessage({type:"flush",token:oe})):(Ne("streaming",!0),tt())}catch(oe){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",oe),U(),($=j.current)==null||$.terminate(),j.current=null,F(!0),D({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),ae(null)}return()=>{X=!0,U()}},[e,t,n,ee,i,s,O]);const te=v.useMemo(()=>{if(!O&&typeof Worker<"u"&&s)return null;const H=Date.now(),X=performance.now(),$=Hd({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}),oe=Math.max(0,performance.now()-X),L=Date.now();return{result:$,computeMs:oe,startedAt:H,completedAt:L}},[O,e,t,n,ee,i,s]),ie=v.useMemo(()=>{if(!O&&typeof Worker<"u"&&s)return"worker";const H=e[0],X=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(H==null?void 0:H.filePath)||(H==null?void 0:H.name)||"",lastLogPath:(X==null?void 0:X.filePath)||(X==null?void 0:X.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:se.current})},[O,s,e,t,i]);v.useEffect(()=>{if(!O&&typeof Worker<"u"&&s||J.current===ie)return;J.current=ie,d(X=>X+1),h(e.length),p(b.current);const H=Date.now();y(H),ae({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(te==null?void 0:te.startedAt)||H,completedAt:H,streamMs:0,computeMs:Math.max(0,Number((te==null?void 0:te.computeMs)||0)),totalMs:Math.max(0,Number((te==null?void 0:te.computeMs)||0)),flushId:null})},[ie,te,O,e.length,s]);const R=O||typeof Worker>"u"||!s?(te==null?void 0:te.result)??Hd({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}):o,B=!O&&typeof Worker<"u"&&s?le:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:R,computeTick:c,lastComputedLogCount:f,lastComputedToken:m,activeToken:N,lastComputedAt:g,lastComputedFlushId:x,aggregationProgress:B,aggregationDiagnostics:A,requestFlush:()=>{const H=Date.now();return S.current=H,j.current&&!O&&j.current.postMessage({type:"flush",flushId:H,token:b.current}),H}}},_8=e=>({apmSpecBuckets:v.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let c=!1;return l&&typeof l.autoAttack=="boolean"?c=l.autoAttack:c=U6(s),i.set(o,c),c};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const c=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(c)&&c>0?c:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,S])=>{const j=Number(S);if(!Number.isFinite(j)||j<=0)return;const O=r.get(C),F=(O==null?void 0:O.name)||C,T=O==null?void 0:O.icon,I=a(F,C);f+=j,I&&(h+=j);let M=l.skillMap.get(C);M||(M={id:C,name:F,icon:T,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,M)),!M.icon&&T&&(M.icon=T),M.totalCasts+=j;const G=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;M.playerCounts.set(G,j)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,g=p>0?f/p:0,y=Math.max(0,f-h),x=p>0?y/p:0,w=d>0?f/d:0,b=d>0?y/d:0,N={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:g,apmNoAuto:x,aps:w,apsNoAuto:b};l.playerRows.push(N)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,c=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?c/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?c/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(g=>{var N;const y=Number(((N=d.playerCounts)==null?void 0:N.get(g.key))||0);if(!Number.isFinite(y)||y<=0)return null;const x=Number(g.totalActiveSeconds||0),w=x>0?y/(x/60):0,b=x>0?y/x:0;return{...g,count:y,apm:w,aps:b}}).filter(Boolean).sort((g,y)=>y.apm-g.apm||String(g.displayName||"").localeCompare(String(y.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),L8=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const g=h.totalActiveSeconds||1;p=g>0?m/g:0}d.set(h.key,p)}),d},[e.players,t,r]),s=v.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const g=m.skillEntries[t];if(!g)return null;const y={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let x=!1,w=!1;if(Object.entries(g.players).forEach(([b,N])=>{var S;if(n.size>0&&!n.has(b))return;let C=N;if(f){const j=((S=m.playerActiveSeconds)==null?void 0:S[b])||0;C=j>0?N/j:0}y[b]=C,C>d&&(d=C),x=!0,w=!0}),n.size>0){if(!w)return null}else if(!x)return null;return n.forEach(b=>{y[b]===void 0&&(y[b]=0)}),y}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),c=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function rI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=rI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=rI(e))&&(r&&(r+=" "),r+=t);return r}var $8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function G1(e){if(typeof e!="string")return!1;var t=$8;return t.includes(e)}var F8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],R8=new Set(F8);function iI(e){return typeof e!="string"?!1:R8.has(e)}function aI(e){return typeof e=="string"&&e.startsWith("data-")}function Ba(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(iI(n)||aI(n))&&(t[n]=e[n]);return t}function Lu(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ba(t)}return typeof e=="object"&&!Array.isArray(e)?Ba(e):null}function Di(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(iI(n)||aI(n)||G1(n))&&(t[n]=e[n]);return t}function B8(e){return e==null?null:v.isValidElement(e)?Di(e.props):typeof e=="object"&&!Array.isArray(e)?Di(e):null}var z8=["children","width","height","viewBox","className","style","title","desc"];function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(null,arguments)}function U8(e,t){if(e==null)return{};var n,r,i=V8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function V8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Y1=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=U8(e,z8),f=a||{width:r,height:i,x:0,y:0},h=Pn("recharts-surface",s);return v.createElement("svg",pb({},Di(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),W8=["children","className"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gb.apply(null,arguments)}function H8(e,t){if(e==null)return{};var n,r,i=q8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function q8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xi=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=H8(e,W8),a=Pn("recharts-layer",r);return v.createElement("g",gb({className:a},Di(i),{ref:t}),n)}),sI=v.createContext(null),K8=()=>v.useContext(sI);function Vn(e){return function(){return e}}const oI=Math.cos,Zp=Math.sin,gs=Math.sqrt,Jp=Math.PI,A0=2*Jp,xb=Math.PI,vb=2*xb,Bl=1e-6,G8=vb-Bl;function lI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Y8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return lI;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class X8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?lI:Y8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Bl)if(!(Math.abs(f*l-c*d)>Bl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,g=l*l+c*c,y=m*m+p*p,x=Math.sqrt(g),w=Math.sqrt(h),b=a*Math.tan((xb-Math.acos((g+h-y)/(2*x*w)))/2),N=b/w,C=b/x;Math.abs(N-1)>Bl&&this._append`L${t+N*d},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Bl||Math.abs(this._y1-d)>Bl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%vb+vb),h>G8?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>Bl&&this._append`A${r},${r},0,${+(h>=xb)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function X1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new X8(t)}function Q1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cI(e){this._context=e}cI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function P0(e){return new cI(e)}function uI(e){return e[0]}function dI(e){return e[1]}function fI(e,t){var n=Vn(!0),r=null,i=P0,a=null,s=X1(o);e=typeof e=="function"?e:e===void 0?uI:Vn(e),t=typeof t=="function"?t:t===void 0?dI:Vn(t);function o(l){var c,d=(l=Q1(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Vn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Vn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Vn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Eh(e,t,n){var r=null,i=Vn(!0),a=null,s=P0,o=null,l=X1(c);e=typeof e=="function"?e:e===void 0?uI:Vn(+e),t=typeof t=="function"?t:Vn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?dI:Vn(+n);function c(f){var h,m,p,g=(f=Q1(f)).length,y,x=!1,w,b=new Array(g),N=new Array(g);for(a==null&&(o=s(w=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===x)if(x=!x)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(b[p],N[p]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+e(y,h,f),N[h]=+t(y,h,f),o.point(r?+r(y,h,f):b[h],n?+n(y,h,f):N[h]))}if(w)return o=null,w+""||null}function d(){return fI().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Vn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Vn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Vn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class mI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Q8(e){return new mI(e,!0)}function Z8(e){return new mI(e,!1)}const Z1={draw(e,t){const n=gs(t/Jp);e.moveTo(n,0),e.arc(0,0,n,0,A0)}},J8={draw(e,t){const n=gs(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},hI=gs(1/3),eV=hI*2,tV={draw(e,t){const n=gs(t/eV),r=n*hI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},nV={draw(e,t){const n=gs(t),r=-n/2;e.rect(r,r,n,n)}},rV=.8908130915292852,pI=Zp(Jp/10)/Zp(7*Jp/10),iV=Zp(A0/10)*pI,aV=-oI(A0/10)*pI,sV={draw(e,t){const n=gs(t*rV),r=iV*n,i=aV*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=A0*a/5,o=oI(s),l=Zp(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},xv=gs(3),oV={draw(e,t){const n=-gs(t/(xv*3));e.moveTo(0,n*2),e.lineTo(-xv*n,-n),e.lineTo(xv*n,-n),e.closePath()}},ja=-.5,Aa=gs(3)/2,yb=1/gs(12),lV=(yb/2+1)*3,cV={draw(e,t){const n=gs(t/lV),r=n/2,i=n*yb,a=r,s=n*yb+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(ja*r-Aa*i,Aa*r+ja*i),e.lineTo(ja*a-Aa*s,Aa*a+ja*s),e.lineTo(ja*o-Aa*l,Aa*o+ja*l),e.lineTo(ja*r+Aa*i,ja*i-Aa*r),e.lineTo(ja*a+Aa*s,ja*s-Aa*a),e.lineTo(ja*o+Aa*l,ja*l-Aa*o),e.closePath()}};function uV(e,t){let n=null,r=X1(i);e=typeof e=="function"?e:Vn(e||Z1),t=typeof t=="function"?t:Vn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Vn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Vn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function eg(){}function tg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function gI(e){this._context=e}gI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dV(e){return new gI(e)}function xI(e){this._context=e}xI.prototype={areaStart:eg,areaEnd:eg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:tg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fV(e){return new xI(e)}function vI(e){this._context=e}vI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:tg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mV(e){return new vI(e)}function yI(e){this._context=e}yI.prototype={areaStart:eg,areaEnd:eg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hV(e){return new yI(e)}function D2(e){return e<0?-1:1}function M2(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(D2(a)+D2(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function O2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function vv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function ng(e){this._context=e}ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vv(this,this._t0,O2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vv(this,O2(this,n=M2(this,e,t)),n);break;default:vv(this,this._t0,n=M2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function bI(e){this._context=new wI(e)}(bI.prototype=Object.create(ng.prototype)).point=function(e,t){ng.prototype.point.call(this,t,e)};function wI(e){this._context=e}wI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function pV(e){return new ng(e)}function gV(e){return new bI(e)}function kI(e){this._context=e}kI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=I2(e),i=I2(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function I2(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function xV(e){return new kI(e)}function T0(e,t){this._context=e,this._t=t}T0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function vV(e){return new T0(e,.5)}function yV(e){return new T0(e,0)}function bV(e){return new T0(e,1)}function pc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function wV(e,t){return e[t]}function kV(e){const t=[];return t.key=e,t}function SV(){var e=Vn([]),t=bb,n=pc,r=wV;function i(a){var s=Array.from(e.apply(this,arguments),kV),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=Q1(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Vn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Vn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?bb:typeof a=="function"?a:Vn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??pc,i):n},i}function NV(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}pc(e,t)}}function CV(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}pc(e,t)}}function jV(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],y=g[r][1]||0,x=g[r-1][1]||0;m+=y-x}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,pc(e,t)}}var E0={},SI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(SI);var J1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(J1);var D0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(D0);var M0={},NI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(NI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NI,n=D0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(M0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SI,n=J1,r=D0,i=M0;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(E0);var AV=E0.get;const gc=ps(AV);var PV=4;function il(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PV,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function xr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+il(o)+a:i+a},"")}var vi=e=>e===0?0:e>0?1:-1,Rs=e=>typeof e=="number"&&e!=+e,yo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Tt=e=>(typeof e=="number"||e instanceof Number)&&!Rs(e),Bs=e=>Tt(e)||typeof e=="string",TV=0,$f=e=>{var t=++TV;return"".concat(e||"").concat(t)},pa=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Tt(t)&&typeof t!="string")return r;var a;if(yo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return Rs(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},CI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function xi(e,t,n){return Tt(e)&&Tt(t)?il(e+n*(t-e)):t}function jI(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):gc(r,t))===n)}var zr=e=>e===null||typeof e>"u",mm=e=>zr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function EV(e){return e!=null}function hm(){}var DV=["type","size","sizeType"];function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(null,arguments)}function _2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(n),!0).forEach(function(r){MV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MV(e,t,n){return(t=OV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OV(e){var t=IV(e,"string");return typeof t=="symbol"?t:t+""}function IV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _V(e,t){if(e==null)return{};var n,r,i=LV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AI={symbolCircle:Z1,symbolCross:J8,symbolDiamond:tV,symbolSquare:nV,symbolStar:sV,symbolTriangle:oV,symbolWye:cV},$V=Math.PI/180,FV=e=>{var t="symbol".concat(mm(e));return AI[t]||Z1},RV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*$V;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},BV=(e,t)=>{AI["symbol".concat(mm(e))]=t},ek=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=_V(e,DV),a=L2(L2({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=FV(s),m=uV().type(h).size(RV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:c,cy:d}=a,f=Di(a);return Tt(c)&&Tt(d)&&Tt(n)?v.createElement("path",wb({},f,{className:Pn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};ek.registerSymbol=BV;var PI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,tk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{G1(i)&&(r[i]=a=>n[i](n,a))}),r},zV=(e,t,n)=>r=>(e(t,n,r),null),nk=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];G1(i)&&typeof a=="function"&&(r||(r={}),r[i]=zV(a,t,n))}),r};function $2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(n),!0).forEach(function(r){VV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VV(e,t,n){return(t=WV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WV(e){var t=HV(e,"string");return typeof t=="symbol"?t:t+""}function HV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ur(e,t){var n=UV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rg.apply(null,arguments)}function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(r){KV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KV(e,t,n){return(t=GV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GV(e){var t=YV(e,"string");return typeof t=="symbol"?t:t+""}function YV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ea=32,XV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function QV(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Ea/2,a=Ea/6,s=Ea/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Ea,y2:i,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ea,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ea/8,"h").concat(Ea,"v").concat(Ea*3/4,"h").concat(-Ea,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=qV({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(ek,{fill:o,cx:i,cy:i,size:Ea,sizeType:"diameter",type:l})}function ZV(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Ea,height:Ea},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=Pn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return v.createElement("li",rg({className:m,style:l,key:"legend-item-".concat(f)},nk(e,d,f)),v.createElement(Y1,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},v.createElement(QV,{data:d,iconType:s,inactiveColor:a})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var JV=e=>{var t=Ur(e,XV),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},v.createElement(ZV,rg({},t,{payload:n})))},TI={},EI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(EI);var DI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(DI);var rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(rk);var MI={},O0={},OI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(OI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OI;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(O0);var II={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(II);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O0,n=II;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(MI);var _I={},LI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(LI);var $I={},ik={},FI={},ak={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ak);var sk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(sk);var ok={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(ok);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ak,n=sk,r=ok;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,g,y,x,w,b){const N=h(p,g,y,x,w,b);return N!==void 0?!!N:a(p,g,m,b)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const y=p[g];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const y=d.get(p);if(h(y,g,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const y=f[g];let x=!1;for(let w=0;w<d.length;w++){if(p.has(w))continue;const b=d[w];let N=!1;if(h(b,y,g,d,f,m)&&(N=!0),N){p.add(w),x=!0;break}}if(!x)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(FI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FI;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(ik);var RI={},lk={},BI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(BI);var I0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(I0);var ck={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",N="[object BigUint64Array]",C="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",O="[object BigInt64Array]",F="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=F,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=j,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(ck);var zI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(zI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BI,n=I0,r=ck,i=sk,a=zI;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[x,w]of d)y.set(x,o(w,x,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const x of d)y.add(o(x,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),l(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),l(y,d,h,m,p),y}return d}function l(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const x=g[y],w=Object.getOwnPropertyDescriptor(d,x);(w==null||w.writable)&&(d[x]=o(f[x],x,h,m,p))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(lk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lk;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(RI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ik,n=RI;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})($I);var UI={},VI={},WI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lk,n=I0,r=ck;function i(a,s){return t.cloneDeepWith(a,(o,l,c,d)=>{const f=s==null?void 0:s(o,l,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(WI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WI;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(VI);var HI={},uk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(uk);var qI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(qI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J1,n=uk,r=qI,i=M0;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(HI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ik,n=D0,r=VI,i=E0,a=HI;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(UI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rk,n=LI,r=$I,i=UI;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(_I);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EI,n=DI,r=rk,i=MI,a=_I;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(TI);var e9=TI.uniqBy;const R2=ps(e9);function KI(e,t,n){return t===!0?R2(e,n):typeof t=="function"?R2(e,t):e}var GI={exports:{}},YI={},XI={exports:{}},QI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u=v;function t9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var n9=typeof Object.is=="function"?Object.is:t9,r9=$u.useState,i9=$u.useEffect,a9=$u.useLayoutEffect,s9=$u.useDebugValue;function o9(e,t){var n=t(),r=r9({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return a9(function(){i.value=n,i.getSnapshot=t,yv(i)&&a({inst:i})},[e,n,t]),i9(function(){return yv(i)&&a({inst:i}),e(function(){yv(i)&&a({inst:i})})},[e]),s9(n),n}function yv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!n9(e,n)}catch{return!0}}function l9(e,t){return t()}var c9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l9:o9;QI.useSyncExternalStore=$u.useSyncExternalStore!==void 0?$u.useSyncExternalStore:c9;XI.exports=QI;var u9=XI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0=v,d9=u9;function f9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var m9=typeof Object.is=="function"?Object.is:f9,h9=d9.useSyncExternalStore,p9=_0.useRef,g9=_0.useEffect,x9=_0.useMemo,v9=_0.useDebugValue;YI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=p9(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=x9(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,m9(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=h9(e,a[0],a[1]);return g9(function(){s.hasValue=!0,s.value=o},[o]),v9(o),o};GI.exports=YI;var y9=GI.exports,dk=v.createContext(null),b9=e=>e,Hn=()=>{var e=v.useContext(dk);return e?e.store.dispatch:b9},hp=()=>{},w9=()=>hp,k9=(e,t)=>e===t;function At(e){var t=v.useContext(dk);return y9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:w9,t?t.store.getState:hp,t?t.store.getState:hp,t?e:hp,k9)}function S9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function N9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function C9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var B2=e=>Array.isArray(e)?e:[e];function j9(e){const t=Array.isArray(e[0])?e[0]:e;return C9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function A9(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var P9=class{constructor(e){this.value=e}deref(){return this.value}},T9=typeof WeakRef<"u"?WeakRef:P9,E9=0,z2=1;function Dh(){return{s:E9,v:void 0,o:null,p:null}}function ZI(e,t={}){let n=Dh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(p);y===void 0?(o=Dh(),g.set(p,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(p);y===void 0?(o=Dh(),g.set(p,o)):o=y}}const c=o;let d;if(o.s===z2)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new T9(d):d}return c.s=z2,c.v=d,d}return s.clearCache=()=>{n=Dh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function D9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),S9(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=ZI,argsMemoizeOptions:p=[]}=d,g=B2(h),y=B2(p),x=j9(i),w=f(function(){return a++,c.apply(null,arguments)},...g),b=m(function(){s++;const C=A9(x,arguments);return o=w.apply(null,C),o},...y);return Object.assign(b,{resultFunc:c,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var pe=D9(ZI),M9=Object.assign((e,t=pe)=>{N9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>M9}),JI={},e5={},t5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(t5);var n5={},fk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(fk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(n5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t5,n=n5,r=M0;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let g=m;for(let y=0;y<p.length&&g!=null;++y)g=g[p[y]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(e5);var r5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(r5);var mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uk,n=O0,r=ak,i=ok;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(mk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e5,n=r5,r=mk;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(JI);var O9=JI.sortBy;const L0=ps(O9);var i5=e=>e.legend.settings,I9=e=>e.legend.size,_9=e=>e.legend.payload,L9=pe([_9,i5],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?L0(r,n):r});function $9(){return At(L9)}var Mh=1;function a5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Mh||Math.abs(s.left-t.left)>Mh||Math.abs(s.top-t.top)>Mh||Math.abs(s.width-t.width)>Mh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ii(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var F9=typeof Symbol=="function"&&Symbol.observable||"@@observable",U2=F9,bv=()=>Math.random().toString(36).substring(7).split("").join("."),R9={INIT:`@@redux/INIT${bv()}`,REPLACE:`@@redux/REPLACE${bv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${bv()}`},ig=R9;function hk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function s5(e,t,n){if(typeof e!="function")throw new Error(ii(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ii(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ii(1));return n(s5)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,x)=>{s.set(x,y)}))}function d(){if(l)throw new Error(ii(3));return i}function f(y){if(typeof y!="function")throw new Error(ii(4));if(l)throw new Error(ii(5));let x=!0;c();const w=o++;return s.set(w,y),function(){if(x){if(l)throw new Error(ii(6));x=!1,c(),s.delete(w),a=null}}}function h(y){if(!hk(y))throw new Error(ii(7));if(typeof y.type>"u")throw new Error(ii(8));if(typeof y.type!="string")throw new Error(ii(17));if(l)throw new Error(ii(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(w=>{w()}),y}function m(y){if(typeof y!="function")throw new Error(ii(10));r=y,h({type:ig.REPLACE})}function p(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ii(11));function w(){const N=x;N.next&&N.next(d())}return w(),{unsubscribe:y(w)}},[U2](){return this}}}return h({type:ig.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[U2]:p}}function B9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:ig.INIT})>"u")throw new Error(ii(12));if(typeof n(void 0,{type:ig.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ii(13))})}function o5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{B9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(ii(14));c[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function ag(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function z9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ii(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=ag(...o)(i.dispatch),{...i,dispatch:a}}}function l5(e){return hk(e)&&"type"in e&&typeof e.type=="string"}var c5=Symbol.for("immer-nothing"),V2=Symbol.for("immer-draftable"),Mi=Symbol.for("immer-state");function ns(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ma=Object,Fu=ma.getPrototypeOf,sg="constructor",$0="prototype",kb="configurable",og="enumerable",pp="writable",Ff="value",bo=e=>!!e&&!!e[Mi];function ds(e){var t;return e?u5(e)||R0(e)||!!e[V2]||!!((t=e[sg])!=null&&t[V2])||B0(e)||z0(e):!1}var U9=ma[$0][sg].toString(),W2=new WeakMap;function u5(e){if(!e||!pk(e))return!1;const t=Fu(e);if(t===null||t===ma[$0])return!0;const n=ma.hasOwnProperty.call(t,sg)&&t[sg];if(n===Object)return!0;if(!Zc(n))return!1;let r=W2.get(n);return r===void 0&&(r=Function.toString.call(n),W2.set(n,r)),r===U9}function F0(e,t,n=!0){pm(e)===0?(n?Reflect.ownKeys(e):ma.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function pm(e){const t=e[Mi];return t?t.type_:R0(e)?1:B0(e)?2:z0(e)?3:0}var H2=(e,t,n=pm(e))=>n===2?e.has(t):ma[$0].hasOwnProperty.call(e,t),Sb=(e,t,n=pm(e))=>n===2?e.get(t):e[t],lg=(e,t,n,r=pm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function V9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var R0=Array.isArray,B0=e=>e instanceof Map,z0=e=>e instanceof Set,pk=e=>typeof e=="object",Zc=e=>typeof e=="function",wv=e=>typeof e=="boolean";function W9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var eo=e=>e.copy_||e.base_,gk=e=>e.modified_?e.copy_:e.base_;function Nb(e,t){if(B0(e))return new Map(e);if(z0(e))return new Set(e);if(R0(e))return Array[$0].slice.call(e);const n=u5(e);if(t===!0||t==="class_only"&&!n){const r=ma.getOwnPropertyDescriptors(e);delete r[Mi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[pp]===!1&&(o[pp]=!0,o[kb]=!0),(o.get||o.set)&&(r[s]={[kb]:!0,[pp]:!0,[og]:o[og],[Ff]:e[s]})}return ma.create(Fu(e),r)}else{const r=Fu(e);if(r!==null&&n)return{...e};const i=ma.create(r);return ma.assign(i,e)}}function xk(e,t=!1){return U0(e)||bo(e)||!ds(e)||(pm(e)>1&&ma.defineProperties(e,{set:Oh,add:Oh,clear:Oh,delete:Oh}),ma.freeze(e),t&&F0(e,(n,r)=>{xk(r,!0)},!1)),e}function H9(){ns(2)}var Oh={[Ff]:H9};function U0(e){return e===null||!pk(e)?!0:ma.isFrozen(e)}var cg="MapSet",Cb="Patches",q2="ArrayMethods",d5={};function xc(e){const t=d5[e];return t||ns(0,e),t}var K2=e=>!!d5[e],Rf,f5=()=>Rf,q9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:K2(cg)?xc(cg):void 0,arrayMethodsPlugin_:K2(q2)?xc(q2):void 0});function G2(e,t){t&&(e.patchPlugin_=xc(Cb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jb(e){Ab(e),e.drafts_.forEach(K9),e.drafts_=null}function Ab(e){e===Rf&&(Rf=e.parent_)}var Y2=e=>Rf=q9(Rf,e);function K9(e){const t=e[Mi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function X2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Mi].modified_&&(jb(t),ns(4)),ds(e)&&(e=Q2(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Mi].base_,e,t)}else e=Q2(t,n);return G9(t,e,!0),jb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==c5?e:void 0}function Q2(e,t){if(U0(t))return t;const n=t[Mi];if(!n)return ug(t,e.handledSet_,e);if(!V0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);p5(n,e)}return n.copy_}function G9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xk(t,n)}function m5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var V0=(e,t)=>e.scope_===t,Y9=[];function h5(e,t,n,r){const i=eo(e),a=e.type_;if(r!==void 0&&Sb(i,r,a)===t){lg(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;F0(i,(l,c)=>{if(bo(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const s=e.draftLocations_.get(t)??Y9;for(const o of s)lg(i,o,n,a)}function X9(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!V0(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=gk(a);h5(e,a.draft_??a,s,n),p5(a,i)})}function p5(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}m5(e)}}function Q9(e,t,n){const{scope_:r}=e;if(bo(n)){const i=n[Mi];V0(i,r)&&i.callbacks_.push(function(){gp(e);const s=gk(i);h5(e,n,s,t)})}else ds(n)&&e.callbacks_.push(function(){const a=eo(e);e.type_===3?a.has(n)&&ug(n,r.handledSet_,r):Sb(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ug(Sb(e.copy_,t,e.type_),r.handledSet_,r)})}function ug(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||bo(e)||t.has(e)||!ds(e)||U0(e)||(t.add(e),F0(e,(r,i)=>{if(bo(i)){const a=i[Mi];if(V0(a,n)){const s=gk(a);lg(e,r,s,e.type_),m5(a)}}else ds(i)&&ug(i,t,n)})),e}function Z9(e,t){const n=R0(e),r={type_:n?1:0,scope_:t?t.scope_:f5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=dg;n&&(i=[r],a=Bf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var dg={get(e,t){if(t===Mi)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=eo(e);if(!H2(i,t,e.type_))return J9(e,i,t);const a=i[t];if(e.finalized_||!ds(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&W9(t))return a;if(a===kv(e.base_,t)){gp(e);const s=e.type_===1?+t:t,o=Tb(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in eo(e)},ownKeys(e){return Reflect.ownKeys(eo(e))},set(e,t,n){const r=g5(eo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=kv(eo(e),t),a=i==null?void 0:i[Mi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(V9(n,i)&&(n!==void 0||H2(e.base_,t,e.type_)))return!0;gp(e),Pb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Q9(e,t,n)),!0},deleteProperty(e,t){return gp(e),kv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Pb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=eo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[pp]:!0,[kb]:e.type_!==1||t!=="length",[og]:r[og],[Ff]:n[t]}},defineProperty(){ns(11)},getPrototypeOf(e){return Fu(e.base_)},setPrototypeOf(){ns(12)}},Bf={};for(let e in dg){let t=dg[e];Bf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Bf.deleteProperty=function(e,t){return Bf.set.call(this,e,t,void 0)};Bf.set=function(e,t,n){return dg.set.call(this,e[0],t,n,e[0])};function kv(e,t){const n=e[Mi];return(n?eo(n):e)[t]}function J9(e,t,n){var i;const r=g5(t,n);return r?Ff in r?r[Ff]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function g5(e,t){if(!(t in e))return;let n=Fu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Fu(n)}}function Pb(e){e.modified_||(e.modified_=!0,e.parent_&&Pb(e.parent_))}function gp(e){e.copy_||(e.assigned_=new Map,e.copy_=Nb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var eW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Zc(n)&&!Zc(r)){const s=r;r=n;const o=this;return function(c=s,...d){return o.produce(c,f=>r.call(this,f,...d))}}Zc(r)||ns(6),i!==void 0&&!Zc(i)&&ns(7);let a;if(ds(n)){const s=Y2(this),o=Tb(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?jb(s):Ab(s)}return G2(s,i),X2(a,s)}else if(!n||!pk(n)){if(a=r(n),a===void 0&&(a=n),a===c5&&(a=void 0),this.autoFreeze_&&xk(a,!0),i){const s=[],o=[];xc(Cb).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else ns(1,n)},this.produceWithPatches=(n,r)=>{if(Zc(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},wv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),wv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),wv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ds(t)||ns(8),bo(t)&&(t=os(t));const n=Y2(this),r=Tb(n,t,void 0);return r[Mi].isManual_=!0,Ab(n),r}finishDraft(t,n){const r=t&&t[Mi];(!r||!r.isManual_)&&ns(9);const{scope_:i}=r;return G2(i,n),X2(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=xc(Cb).applyPatches_;return bo(t)?i(t,n):this.produce(t,a=>i(a,n))}};function Tb(e,t,n,r){const[i,a]=B0(t)?xc(cg).proxyMap_(t,n):z0(t)?xc(cg).proxySet_(t,n):Z9(t,n);return((n==null?void 0:n.scope_)??f5()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?X9(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function os(e){return bo(e)||ns(10,e),x5(e)}function x5(e){if(!ds(e)||U0(e))return e;const t=e[Mi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Nb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Nb(e,!0);return F0(n,(i,a)=>{lg(n,i,x5(a))},r),t&&(t.finalized_=!1),n}var tW=new eW,v5=tW.produce;function y5(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var nW=y5(),rW=y5,iW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ag:ag.apply(null,arguments)};function za(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ga(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>l5(r)&&r.type===e,n}var b5=class Kd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kd.prototype)}static get[Symbol.species](){return Kd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kd(...t[0].concat(this)):new Kd(...t.concat(this))}};function Z2(e){return ds(e)?v5(e,()=>{}):e}function Ih(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function aW(e){return typeof e=="boolean"}var sW=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new b5;return n&&(aW(n)?s.push(nW):s.push(rW(n.extraArgument))),s},w5="RTK_autoBatch",nr=()=>e=>({payload:e,meta:{[w5]:!0}}),J2=e=>t=>{setTimeout(t,e)},k5=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:J2(10):e.type==="callback"?e.queueNotification:J2(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[w5]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},oW=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new b5(e);return r&&i.push(k5(typeof r=="object"?r:void 0)),i};function lW(e){const t=sW(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(hk(n))o=o5(n);else throw new Error(ga(1));let l;typeof r=="function"?l=r(t):l=t();let c=ag;i&&(c=iW({trace:!1,...typeof i=="object"&&i}));const d=z9(...l),f=oW(d);let h=typeof s=="function"?s(f):f();const m=c(...h);return s5(o,a,m)}function S5(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(ga(28));if(o in t)throw new Error(ga(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function cW(e){return typeof e=="function"}function uW(e,t){let[n,r,i]=S5(t),a;if(cW(e))a=()=>Z2(e());else{const o=Z2(e);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(bo(d)){const m=f(d,l);return m===void 0?d:m}else{if(ds(d))return v5(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var dW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fW=(e=21)=>{let t="",n=e;for(;n--;)t+=dW[Math.random()*64|0];return t},mW=Symbol.for("rtk-slice-createasyncthunk");function hW(e,t){return`${e}/${t}`}function pW({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[mW];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(ga(11));const o=(typeof i.reducers=="function"?i.reducers(xW()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,C){const S=typeof N=="string"?N:N.type;if(!S)throw new Error(ga(12));if(S in c.sliceCaseReducersByType)throw new Error(ga(13));return c.sliceCaseReducersByType[S]=C,d},addMatcher(N,C){return c.sliceMatchers.push({matcher:N,reducer:C}),d},exposeAction(N,C){return c.actionCreators[N]=C,d},exposeCaseReducer(N,C){return c.sliceCaseReducersByName[N]=C,d}};l.forEach(N=>{const C=o[N],S={reducerName:N,type:hW(a,N),createNotation:typeof i.reducers=="function"};yW(C)?wW(S,C,d,t):vW(S,C,d)});function f(){const[N={},C=[],S=void 0]=typeof i.extraReducers=="function"?S5(i.extraReducers):[i.extraReducers],j={...N,...c.sliceCaseReducersByType};return uW(i.initialState,O=>{for(let F in j)O.addCase(F,j[F]);for(let F of c.sliceMatchers)O.addMatcher(F.matcher,F.reducer);for(let F of C)O.addMatcher(F.matcher,F.reducer);S&&O.addDefaultCase(S)})}const h=N=>N,m=new Map,p=new WeakMap;let g;function y(N,C){return g||(g=f()),g(N,C)}function x(){return g||(g=f()),g.getInitialState()}function w(N,C=!1){function S(O){let F=O[N];return typeof F>"u"&&C&&(F=Ih(p,S,x)),F}function j(O=h){const F=Ih(m,C,()=>new WeakMap);return Ih(F,O,()=>{const T={};for(const[I,M]of Object.entries(i.selectors??{}))T[I]=gW(M,O,()=>Ih(p,O,x),C);return T})}return{reducerPath:N,getSelectors:j,get selectors(){return j(S)},selectSlice:S}}const b={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...w(s),injectInto(N,{reducerPath:C,...S}={}){const j=C??s;return N.inject({reducerPath:j,reducer:y},S),{...b,...w(j,!0)}}};return b}}function gW(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var Ji=pW();function xW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function vW({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!bW(r))throw new Error(ga(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?za(e,s):za(e))}function yW(e){return e._reducerDefinitionType==="asyncThunk"}function bW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function wW({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ga(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:s||_h,pending:o||_h,rejected:l||_h,settled:c||_h})}function _h(){}var kW="task",N5="listener",C5="completed",vk="cancelled",SW=`task-${vk}`,NW=`task-${C5}`,Eb=`${N5}-${vk}`,CW=`${N5}-${C5}`,W0=class{constructor(e){Vx(this,"name","TaskAbortError");Vx(this,"message");this.code=e,this.message=`${kW} ${vk} (reason: ${e})`}},yk=(e,t)=>{if(typeof e!="function")throw new TypeError(ga(32))},fg=()=>{},j5=(e,t=fg)=>(e.catch(t),e),A5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ac=e=>{if(e.aborted)throw new W0(e.reason)};function P5(e,t){let n=fg;return new Promise((r,i)=>{const a=()=>i(new W0(e.reason));if(e.aborted){a();return}n=A5(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=fg})}var jW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof W0?"cancelled":"rejected",error:n}}finally{t==null||t()}},mg=e=>t=>j5(P5(e,t).then(n=>(ac(e),n))),T5=e=>{const t=mg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Nu}=Object,ej={},H0="listenerMiddleware",AW=(e,t)=>{const n=r=>A5(e,()=>r.abort(e.reason));return(r,i)=>{yk(r);const a=new AbortController;n(a);const s=jW(async()=>{ac(e),ac(a.signal);const o=await r({pause:mg(a.signal),delay:T5(a.signal),signal:a.signal});return ac(a.signal),o},()=>a.abort(NW));return i!=null&&i.autoJoin&&t.push(s.catch(fg)),{result:mg(e)(s),cancel(){a.abort(SW)}}}},PW=(e,t)=>{const n=async(r,i)=>{ac(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await P5(t,Promise.race(o));return ac(t),l}finally{a()}};return(r,i)=>j5(n(r,i))},E5=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=za(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ga(21));return yk(a),{predicate:i,type:t,effect:a}},D5=Nu(e=>{const{type:t,predicate:n,effect:r}=E5(e);return{id:fW(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ga(22))}}},{withTypes:()=>D5}),tj=(e,t)=>{const{type:n,effect:r,predicate:i}=E5(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Db=e=>{e.pending.forEach(t=>{t.abort(Eb)})},TW=(e,t)=>()=>{for(const n of t.keys())Db(n);e.clear()},nj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},M5=Nu(za(`${H0}/add`),{withTypes:()=>M5}),EW=za(`${H0}/removeAll`),O5=Nu(za(`${H0}/remove`),{withTypes:()=>O5}),DW=(...e)=>{console.error(`${H0}/error`,...e)},gm=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=DW}=e;yk(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&Db(m)}),l=m=>{const p=tj(t,m)??D5(m);return o(p)};Nu(l,{withTypes:()=>l});const c=m=>{const p=tj(t,m);return p&&(p.unsubscribe(),m.cancelActive&&Db(p)),!!p};Nu(c,{withTypes:()=>c});const d=async(m,p,g,y)=>{const x=new AbortController,w=PW(l,x.signal),b=[];try{m.pending.add(x),r(m),await Promise.resolve(m.effect(p,Nu({},g,{getOriginalState:y,condition:(N,C)=>w(N,C).then(Boolean),take:w,delay:T5(x.signal),pause:mg(x.signal),extra:a,signal:x.signal,fork:AW(x.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,C,S)=>{N!==x&&(N.abort(Eb),S.delete(N))})},cancel:()=>{x.abort(Eb),m.pending.delete(x)},throwIfCancelled:()=>{ac(x.signal)}})))}catch(N){N instanceof W0||nj(s,N,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort(CW),i(m),m.pending.delete(x)}},f=TW(t,n);return{middleware:m=>p=>g=>{if(!l5(g))return p(g);if(M5.match(g))return l(g.payload);if(EW.match(g)){f();return}if(O5.match(g))return c(g.payload);let y=m.getState();const x=()=>{if(y===ej)throw new Error(ga(23));return y};let w;try{if(w=p(g),t.size>0){const b=m.getState(),N=Array.from(t.values());for(const C of N){let S=!1;try{S=C.predicate(g,b,y)}catch(j){S=!1,nj(s,j,{raisedBy:"predicate"})}S&&d(C,g,m,x)}}}finally{y=ej}return w},startListening:l,stopListening:c,clearListeners:f}};function ga(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var MW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},I5=Ji({name:"chartLayout",initialState:MW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:OW,setLayout:IW,setChartSize:_W,setScale:LW}=I5.actions,$W=I5.reducer;function _5(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function _r(e){return Number.isFinite(e)}function zs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(n),!0).forEach(function(r){FW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FW(e,t,n){return(t=RW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=BW(e,"string");return typeof t=="symbol"?t:t+""}function BW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zn(e,t,n){return zr(e)||zr(t)?n:Bs(t)?gc(e,t,n):typeof t=="function"?t(e):n}var zW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Tt(e[a]))return fu(fu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Tt(e[s]))return fu(fu({},e),{},{[s]:e[s]+(i||0)})}return e},Cl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",L5=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},$5=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&a&&a.length>=2?vi(a[0]-a[1])*2*g:g,f||h){var y=(f||h||[]).map((x,w)=>{var b=r?r.indexOf(x):x;return{coordinate:s(b)+g,value:x,offset:g,index:w}});return y.filter(x=>!Rs(x.coordinate))}return l&&c?c.map((x,w)=>({coordinate:s(x)+g,value:x,index:w,offset:g})):s.ticks&&d!=null?s.ticks(d).map((x,w)=>({coordinate:s(x)+g,value:x,offset:g,index:w})):s.domain().map((x,w)=>({coordinate:s(x)+g,value:r?r[x]:x,index:w,offset:g}))},ij=1e-4,UW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-ij,a=Math.max(r[0],r[1])+ij,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},VW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],h=Rs(d)?f:d;h>=0?(c[0]=a,c[1]=a+h,a=d):(c[0]=s,c[1]=s+h,s=d)}}}},WW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=Rs(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},HW={sign:VW,expand:NV,none:pc,silhouette:CV,wiggle:jV,positive:WW},qW=(e,t,n)=>{var r,i=(r=HW[n])!==null&&r!==void 0?r:pc,a=SV().keys(t).value((o,l)=>Number(Zn(o,l,0))).order(bb).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,d)=>{var f=Zn(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Tt(f[0])&&Tt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function aj(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!zr(i[t.dataKey])){var o=jI(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Zn(i,zr(s)?t.dataKey:s);return zr(l)?null:t.scale(l)}var KW=e=>{var t=e.flat(2).filter(Tt);return[Math.min(...t),Math.max(...t)]},GW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],YW=(e,t,n)=>{if(e!=null)return GW(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var d=_5(c,t,n),f=KW(d);return!_r(f[0])||!_r(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},sj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hg=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=L0(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function lj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return fu(fu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function q0(e,t){if(e)return String(e);if(typeof t=="string")return t}var XW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},QW=(e,t)=>t==="centric"?e.angle:e.radius,Ao=e=>e.layout.width,Po=e=>e.layout.height,ZW=e=>e.layout.scale,F5=e=>e.layout.margin,K0=pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),G0=pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),R5="data-recharts-item-index",B5="data-recharts-item-id",xm=60;function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(r){JW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JW(e,t,n){return(t=eH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eH(e){var t=tH(e,"string");return typeof t=="symbol"?t:t+""}function tH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nH=e=>e.brush.height;function rH(e){var t=G0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xm;return n+i}return n},0)}function iH(e){var t=G0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xm;return n+i}return n},0)}function aH(e){var t=K0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function sH(e){var t=K0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Qr=pe([Ao,Po,F5,nH,rH,iH,aH,sH,i5,I9],(e,t,n,r,i,a,s,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=Lh(Lh({},f),d),m=h.bottom;h.bottom+=r,h=zW(h,l,c);var p=e-h.left-h.right,g=t-h.top-h.bottom;return Lh(Lh({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),oH=pe(Qr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),z5=pe(Ao,Po,(e,t)=>({x:0,y:0,width:e,height:t})),lH=v.createContext(null),ea=()=>v.useContext(lH)!=null,Y0=e=>e.brush,X0=pe([Y0,Qr,F5],(e,t,n)=>({height:e.height,x:Tt(e.x)?e.x:t.left,y:Tt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Tt(e.width)?e.width:t.width})),U5={},V5={},W5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},y=()=>{d()},x=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const b=h==null;m(),l&&b&&d()};return x.schedule=m,x.cancel=g,x.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(W5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W5;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:c}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(V5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V5;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(U5);var cH=U5.throttle;const uH=ps(cH);var pg=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},H5=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=yo(r)?e:Number(r),l=yo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},dH={width:0,height:0,overflow:"visible"},fH={width:0,overflowX:"visible"},mH={height:0,overflowY:"visible"},hH={},pH=e=>{var{width:t,height:n}=e,r=yo(t),i=yo(n);return r&&i?dH:r?fH:i?mH:hH};function gH(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(null,arguments)}function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(r){xH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xH(e,t,n){return(t=vH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q5=v.createContext({width:-1,height:-1});function bH(e){return zs(e.width)&&zs(e.height)}function K5(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return bH(i)?v.createElement(q5.Provider,{value:i},t):null}var bk=()=>v.useContext(q5),wH=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=v.useRef(null),y=v.useRef();y.current=m,v.useImperativeHandle(t,()=>g.current);var[x,w]=v.useState({containerWidth:r.width,containerHeight:r.height}),b=v.useCallback((O,F)=>{w(T=>{var I=Math.round(O),M=Math.round(F);return T.containerWidth===I&&T.containerHeight===M?T:{containerWidth:I,containerHeight:M}})},[]);v.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return hm;var O=M=>{var G,{width:Z,height:se}=M[0].contentRect;b(Z,se),(G=y.current)===null||G===void 0||G.call(y,Z,se)};d>0&&(O=uH(O,d,{trailing:!0,leading:!1}));var F=new ResizeObserver(O),{width:T,height:I}=g.current.getBoundingClientRect();return b(T,I),F.observe(g.current),()=>{F.disconnect()}},[b,d]);var{containerWidth:N,containerHeight:C}=x;pg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:S,calculatedHeight:j}=H5(N,C,{width:i,height:a,aspect:n,maxHeight:l});return pg(S!=null&&S>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,j,i,a,s,o,n),v.createElement("div",{id:f?"".concat(f):void 0,className:Pn("recharts-responsive-container",h),style:dj(dj({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},v.createElement("div",{style:pH({width:i,height:a})},v.createElement(K5,{width:S,height:j},c)))}),vc=v.forwardRef((e,t)=>{var n=bk();if(zs(n.width)&&zs(n.height))return e.children;var{width:r,height:i}=gH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=H5(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Tt(a)&&Tt(s)?v.createElement(K5,{width:a,height:s},e.children):v.createElement(wH,Mb({},e,{width:r,height:i,ref:t}))});function G5(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Q0=()=>{var e,t=ea(),n=At(oH),r=At(X0),i=(e=At(Y0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},kH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Y5=()=>{var e;return(e=At(Qr))!==null&&e!==void 0?e:kH},wk=()=>At(Ao),kk=()=>At(Po),SH=()=>At(e=>e.layout.margin),$n=e=>e.layout.layoutType,vm=()=>At($n),NH=()=>{var e=vm();return e!==void 0},Z0=e=>{var t=Hn(),n=ea(),{width:r,height:i}=e,a=bk(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),v.useEffect(()=>{!n&&zs(s)&&zs(o)&&t(_W({width:s,height:o}))},[t,n,s,o]),null},X5=Symbol.for("immer-nothing"),fj=Symbol.for("immer-draftable"),ya=Symbol.for("immer-state");function rs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zf=Object.getPrototypeOf;function Ru(e){return!!e&&!!e[ya]}function yc(e){var t;return e?Q5(e)||Array.isArray(e)||!!e[fj]||!!((t=e.constructor)!=null&&t[fj])||ym(e)||ex(e):!1}var CH=Object.prototype.constructor.toString(),mj=new WeakMap;function Q5(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=mj.get(n);return r===void 0&&(r=Function.toString.call(n),mj.set(n,r)),r===CH}function gg(e,t,n=!0){J0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function J0(e){const t=e[ya];return t?t.type_:Array.isArray(e)?1:ym(e)?2:ex(e)?3:0}function Ob(e,t){return J0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Z5(e,t,n){const r=J0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function jH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ym(e){return e instanceof Map}function ex(e){return e instanceof Set}function zl(e){return e.copy_||e.base_}function Ib(e,t){if(ym(e))return new Map(e);if(ex(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Q5(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ya];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(zf(e),r)}else{const r=zf(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Sk(e,t=!1){return tx(e)||Ru(e)||!yc(e)||(J0(e)>1&&Object.defineProperties(e,{set:$h,add:$h,clear:$h,delete:$h}),Object.freeze(e),t&&Object.values(e).forEach(n=>Sk(n,!0))),e}function AH(){rs(2)}var $h={value:AH};function tx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var PH={};function bc(e){const t=PH[e];return t||rs(0,e),t}var Uf;function J5(){return Uf}function TH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hj(e,t){t&&(bc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _b(e){Lb(e),e.drafts_.forEach(EH),e.drafts_=null}function Lb(e){e===Uf&&(Uf=e.parent_)}function pj(e){return Uf=TH(Uf,e)}function EH(e){const t=e[ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ya].modified_&&(_b(t),rs(4)),yc(e)&&(e=xg(t,e),t.parent_||vg(t,e)),t.patches_&&bc("Patches").generateReplacementPatches_(n[ya].base_,e,t.patches_,t.inversePatches_)):e=xg(t,n,[]),_b(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==X5?e:void 0}function xg(e,t,n){if(tx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ya];if(!i)return gg(t,(a,s)=>xj(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return vg(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),gg(s,(l,c)=>xj(e,i,a,l,c,n,o),r),vg(e,a,!1),n&&e.patches_&&bc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function xj(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=tx(i);if(!(o&&!s)){if(Ru(i)){const l=a&&t&&t.type_!==3&&!Ob(t.assigned_,r)?a.concat(r):void 0,c=xg(e,i,l);if(Z5(n,r,c),Ru(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(yc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;xg(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ym(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&vg(e,i)}}}function vg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Sk(t,n)}function DH(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:J5(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Nk;n&&(i=[r],a=Vf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var Nk={get(e,t){if(t===ya)return e;const n=zl(e);if(!Ob(n,t))return MH(e,n,t);const r=n[t];return e.finalized_||!yc(r)?r:r===Sv(e.base_,t)?(Nv(e),e.copy_[t]=Fb(r,e)):r},has(e,t){return t in zl(e)},ownKeys(e){return Reflect.ownKeys(zl(e))},set(e,t,n){const r=e_(zl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Sv(zl(e),t),a=i==null?void 0:i[ya];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(jH(n,i)&&(n!==void 0||Ob(e.base_,t)))return!0;Nv(e),$b(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Sv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Nv(e),$b(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){rs(11)},getPrototypeOf(e){return zf(e.base_)},setPrototypeOf(){rs(12)}},Vf={};gg(Nk,(e,t)=>{Vf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vf.deleteProperty=function(e,t){return Vf.set.call(this,e,t,void 0)};Vf.set=function(e,t,n){return Nk.set.call(this,e[0],t,n,e[0])};function Sv(e,t){const n=e[ya];return(n?zl(n):e)[t]}function MH(e,t,n){var i;const r=e_(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function e_(e,t){if(!(t in e))return;let n=zf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=zf(n)}}function $b(e){e.modified_||(e.modified_=!0,e.parent_&&$b(e.parent_))}function Nv(e){e.copy_||(e.copy_=Ib(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var OH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&rs(6),r!==void 0&&typeof r!="function"&&rs(7);let i;if(yc(t)){const a=pj(this),s=Fb(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?_b(a):Lb(a)}return hj(a,r),gj(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===X5&&(i=void 0),this.autoFreeze_&&Sk(i,!0),r){const a=[],s=[];bc("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else rs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){yc(e)||rs(8),Ru(e)&&(e=IH(e));const t=pj(this),n=Fb(e,void 0);return n[ya].isManual_=!0,Lb(t),n}finishDraft(e,t){const n=e&&e[ya];(!n||!n.isManual_)&&rs(9);const{scope_:r}=n;return hj(r,t),gj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=bc("Patches").applyPatches_;return Ru(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Fb(e,t){const n=ym(e)?bc("MapSet").proxyMap_(e,t):ex(e)?bc("MapSet").proxySet_(e,t):DH(e,t);return(t?t.scope_:J5()).drafts_.push(n),n}function IH(e){return Ru(e)||rs(10,e),t_(e)}function t_(e){if(!yc(e)||tx(e))return e;const t=e[ya];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ib(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Ib(e,!0);return gg(n,(i,a)=>{Z5(n,i,t_(a))},r),t&&(t.finalized_=!1),n}var _H=new OH;_H.produce;var LH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},n_=Ji({name:"legend",initialState:LH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:nr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=os(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:nr()},removeLegendPayload:{reducer(e,t){var n=os(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:nr()}}}),{setLegendSize:vj,setLegendSettings:$H,addLegendPayload:r_,replaceLegendPayload:i_,removeLegendPayload:a_}=n_.actions,FH=n_.reducer,RH=["contextPayload"];function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rb.apply(null,arguments)}function yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(n),!0).forEach(function(r){BH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BH(e,t,n){return(t=zH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zH(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VH(e,t){if(e==null)return{};var n,r,i=WH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HH(e){return e.value}function qH(e){var{contextPayload:t}=e,n=VH(e,RH),r=KI(t,e.payloadUniqBy,HH),i=Bu(Bu({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(JV,i)}function KH(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Bu(Bu({},c),d)}function GH(e){var t=Hn();return v.useEffect(()=>{t($H(e))},[t,e]),null}function YH(e){var t=Hn();return v.useEffect(()=>(t(vj(e)),()=>{t(vj({width:0,height:0}))}),[t,e]),null}function XH(e,t,n,r){return e==="vertical"&&Tt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var QH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function s_(e){var t=Ur(e,QH),n=$9(),r=K8(),i=SH(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,d]=a5([n]),f=wk(),h=kk();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=XH(t.layout,s,a,m),g=l?o:Bu(Bu({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},KH(o,t,i,f,h,c)),o),y=l??r;if(y==null||n==null)return null;var x=v.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},v.createElement(GH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(YH,{width:c.width,height:c.height}),v.createElement(qH,Rb({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return Zu.createPortal(x,y)}s_.displayName="Legend";function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bb.apply(null,arguments)}function bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(n),!0).forEach(function(r){ZH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZH(e,t,n){return(t=JH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JH(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t7(e){return Array.isArray(e)&&Bs(e[0])&&Bs(e[1])?e.join(" ~ "):e}var n7=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},S=(o?L0(a,o):a).map((j,O)=>{if(j.type==="none")return null;var F=j.formatter||s||t7,{value:T,name:I}=j,M=T,G=I;if(F){var Z=F(T,I,j,O,a);if(Array.isArray(Z))[M,G]=Z;else if(Z!=null)M=Z;else return null}var se=Cv({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:se},Bs(G)?v.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Bs(G)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},M),v.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},S)}return null},p=Cv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=Cv({margin:0},i),y=!zr(d),x=y?d:"",w=Pn("recharts-default-tooltip",l),b=Pn("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(x=f(d,a));var N=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Bb({className:w,style:p},N),v.createElement("p",{className:b,style:g},v.isValidElement(x)?x:"".concat(x)),m())},Td="recharts-tooltip-wrapper",r7={visibility:"hidden"};function i7(e){var{coordinate:t,translateX:n,translateY:r}=e;return Pn(Td,{["".concat(Td,"-right")]:Tt(n)&&t&&Tt(t.x)&&n>=t.x,["".concat(Td,"-left")]:Tt(n)&&t&&Tt(t.x)&&n<t.x,["".concat(Td,"-bottom")]:Tt(r)&&t&&Tt(t.y)&&r>=t.y,["".concat(Td,"-top")]:Tt(r)&&t&&Tt(t.y)&&r<t.y})}function wj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&Tt(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var g=f+o,y=h+c;return g>y?Math.max(d,h):Math.max(f,h)}function a7(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function s7(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,d,f;return s.height>0&&s.width>0&&n?(d=wj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=wj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=a7({translateX:d,translateY:f,useTranslate3d:o})):c=r7,{cssProperties:c,cssClasses:i7({translateX:d,translateY:f,coordinate:n})}}function kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(n),!0).forEach(function(r){zb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zb(e,t,n){return(t=o7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o7(e){var t=l7(e,"string");return typeof t=="symbol"?t:t+""}function l7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class c7 extends v.PureComponent{constructor(){super(...arguments),zb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:w,cssProperties:b}=s7({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),N=x?{}:Fh(Fh({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=Fh(Fh({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:C,ref:y},a)}}var o_=()=>{var e;return(e=At(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ub.apply(null,arguments)}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(r){u7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u7(e,t,n){return(t=d7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d7(e){var t=f7(e,"string");return typeof t=="symbol"?t:t+""}function f7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cj={curveBasisClosed:fV,curveBasisOpen:mV,curveBasis:dV,curveBumpX:Q8,curveBumpY:Z8,curveLinearClosed:hV,curveLinear:P0,curveMonotoneX:pV,curveMonotoneY:gV,curveNatural:xV,curveStep:vV,curveStepAfter:bV,curveStepBefore:yV},yg=e=>_r(e.x)&&_r(e.y),jj=e=>e.base!=null&&yg(e.base)&&yg(e),Ed=e=>e.x,Dd=e=>e.y,m7=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(mm(e));return(n==="curveMonotone"||n==="curveBump")&&t?Cj["".concat(n).concat(t==="vertical"?"Y":"X")]:Cj[n]||P0},h7=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=m7(t,i),o=a?n.filter(yg):n,l;if(Array.isArray(r)){var c=n.map((m,p)=>Nj(Nj({},m),{},{base:r[p]}));i==="vertical"?l=Eh().y(Dd).x1(Ed).x0(m=>m.base.x):l=Eh().x(Ed).y1(Dd).y0(m=>m.base.y);var d=l.defined(jj).curve(s),f=a?c.filter(jj):c;return d(f)}i==="vertical"&&Tt(r)?l=Eh().y(Dd).x1(Ed).x0(r):Tt(r)?l=Eh().x(Ed).y1(Dd).y0(r):l=fI().x(Ed).y(Dd);var h=l.defined(yg).curve(s);return h(o)},Ck=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=vm();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?h7(s):r;return v.createElement("path",Ub({},Ba(e),tk(e),{className:Pn("recharts-curve",t),d:o===null?void 0:o,ref:i}))},p7=["x","y","top","left","width","height","className"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vb.apply(null,arguments)}function Aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(n),!0).forEach(function(r){x7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x7(e,t,n){return(t=v7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b7(e,t){if(e==null)return{};var n,r,i=w7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var k7=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),S7=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=b7(e,p7),c=g7({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Tt(t)||!Tt(n)||!Tt(a)||!Tt(s)||!Tt(r)||!Tt(i)?null:v.createElement("path",Vb({},Di(c),{className:Pn("recharts-cross",o),d:k7(t,n,a,s,r,i)}))};function N7(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(n),!0).forEach(function(r){C7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C7(e,t,n){return(t=j7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j7(e){var t=A7(e,"string");return typeof t=="symbol"?t:t+""}function A7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),l_=(e,t,n)=>e.map(r=>"".concat(P7(r)," ").concat(t,"ms ").concat(n)).join(","),T7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Wf=(e,t)=>Object.keys(t).reduce((n,r)=>Tj(Tj({},n),{},{[r]:e(r,t[r])}),{});function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){E7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E7(e,t,n){return(t=D7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D7(e){var t=M7(e,"string");return typeof t=="symbol"?t:t+""}function M7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bg=(e,t,n)=>e+(t-e)*n,Wb=e=>{var{from:t,to:n}=e;return t!==n},c_=(e,t,n)=>{var r=Wf((i,a)=>{if(Wb(a)){var[s,o]=e(a.from,a.to,a.velocity);return Rr(Rr({},a),{},{from:s,velocity:o})}return a},t);return n<1?Wf((i,a)=>Wb(a)&&r[i]!=null?Rr(Rr({},a),{},{velocity:bg(a.velocity,r[i].velocity,n),from:bg(a.from,r[i].from,n)}):a,t):c_(e,r,n-1)};function O7(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>Rr(Rr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Wf((h,m)=>m.from,o),c=()=>!Object.values(o).filter(Wb).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=c_(n,o,p),i(Rr(Rr(Rr({},e),t),l())),s=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function I7(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:Rr(Rr({},f),{},{[h]:[m,p]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/r,m=Wf((g,y)=>bg(...y,n(h)),l);if(a(Rr(Rr(Rr({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=Wf((g,y)=>bg(...y,n(1)),l);a(Rr(Rr(Rr({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const _7=(e,t,n,r,i,a)=>{var s=T7(e,t);return n==null?()=>(i(Rr(Rr({},e),t)),()=>{}):n.isStepper===!0?O7(e,t,n,s,i,a):I7(e,t,n,r,s,i,a)};var wg=1e-4,u_=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],d_=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Dj=(e,t)=>n=>{var r=u_(e,t);return d_(r,n)},L7=(e,t)=>n=>{var r=u_(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return d_(i,n)},$7=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},F7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=$7(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},R7=(e,t,n,r)=>{var i=Dj(e,n),a=Dj(t,r),s=L7(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<wg||p<wg)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},Mj=function(){return R7(...F7(...arguments))},B7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*n,d=l*r,f=l+(c-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<wg&&Math.abs(f)<wg?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},z7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Mj(e);case"spring":return B7();default:if(e.split("(")[0]==="cubic-bezier")return Mj(e)}return typeof e=="function"?e:null};function U7(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class V7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function W7(){return U7(new V7)}var H7=v.createContext(W7);function q7(e,t){var n=v.useContext(H7);return v.useMemo(()=>t??n(e),[e,t,n])}var K7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),nx={isSsr:K7()},G7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Oj={t:0},jv={t:1};function rx(e){var t=Ur(e,G7),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=n==="auto"?!nx.isSsr:n,f=q7(t.animationId,t.animationManager),[h,m]=v.useState(d?Oj:jv),p=v.useRef(null);return v.useEffect(()=>{d||m(jv)},[d]),v.useEffect(()=>{if(!d||!r)return hm;var g=_7(Oj,jv,z7(a),i,m,f.getTimeoutController()),y=()=>{p.current=g()};return f.start([l,s,y,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),c(h.t)}function ix(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef($f(t)),r=v.useRef(e);return r.current!==e&&(n.current=$f(t),r.current=e),n.current}var Y7=["radius"],X7=["radius"],Ij,_j,Lj,$j,Fj,Rj,Bj,zj,Uj,Vj;function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){Q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q7(e,t,n){return(t=Z7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z7(e){var t=J7(e,"string");return typeof t=="symbol"?t:t+""}function J7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kg.apply(null,arguments)}function qj(e,t){if(e==null)return{};var n,r,i=eq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function As(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Kj=(e,t,n,r,i)=>{var a=il(n),s=il(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=xr(Ij||(Ij=As(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=xr(_j||(_j=As(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=xr(Lj||(Lj=As(["L ",",",""])),e+n-c*h[1],t),h[1]>0&&(f+=xr($j||($j=As(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=xr(Fj||(Fj=As(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=xr(Rj||(Rj=As(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-c*h[2],t+r)),f+=xr(Bj||(Bj=As(["L ",",",""])),e+c*h[3],t+r),h[3]>0&&(f+=xr(zj||(zj=As(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f=xr(Uj||(Uj=As(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,d,e+c*g,t,e+n-c*g,t,g,g,d,e+n,t+l*g,e+n,t+r-l*g,g,g,d,e+n-c*g,t+r,e+c*g,t+r,g,g,d,e,t+r-l*g)}else f=xr(Vj||(Vj=As(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},Gj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f_=e=>{var t=Ur(e,Gj),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,y=v.useRef(o),x=v.useRef(l),w=v.useRef(a),b=v.useRef(s),N=v.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),C=ix(N,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var S=Pn("recharts-rectangle",d);if(!g){var j=Di(t),{radius:O}=j,F=qj(j,Y7);return v.createElement("path",kg({},F,{x:il(a),y:il(s),width:il(o),height:il(l),radius:typeof c=="number"?c:void 0,className:S,d:Kj(a,s,o,l,c)}))}var T=y.current,I=x.current,M=w.current,G=b.current,Z="0px ".concat(r===-1?1:r,"px"),se="".concat(r,"px 0px"),fe=l_(["strokeDasharray"],h,typeof f=="string"?f:Gj.animationEasing);return v.createElement(rx,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:g,begin:m},J=>{var K=xi(T,o,J),le=xi(I,l,J),D=xi(M,a,J),A=xi(G,s,J);n.current&&(y.current=K,x.current=le,w.current=D,b.current=A);var ae;p?J>0?ae={transition:fe,strokeDasharray:se}:ae={strokeDasharray:Z}:ae={strokeDasharray:se};var k=Di(t),{radius:U}=k,W=qj(k,X7);return v.createElement("path",kg({},W,{radius:typeof c=="number"?c:void 0,className:S,d:Kj(D,A,K,le,c),ref:n,style:Hj(Hj({},ae),t.style)}))})};function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(n),!0).forEach(function(r){tq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tq(e,t,n){return(t=nq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nq(e){var t=rq(e,"string");return typeof t=="symbol"?t:t+""}function rq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sg=Math.PI/180,iq=e=>e*180/Math.PI,Or=(e,t,n,r)=>({x:e+Math.cos(-Sg*r)*n,y:t+Math.sin(-Sg*r)*n}),m_=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},aq=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},sq=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=aq({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:iq(l),angleInRadian:l}},oq=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},lq=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},cq=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=sq({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=oq(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?Xj(Xj({},t),{},{radius:i,angle:lq(d,t)}):null};function h_(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Or(t,n,r,i),o=Or(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var Qj,Zj,Jj,eA,tA,nA,rA;function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(null,arguments)}function Xl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uq=(e,t)=>{var n=vi(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Rh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,d=Math.asin(o/c)/Sg,f=l?i:i+a*d,h=Or(t,n,c,f),m=Or(t,n,r,f),p=l?i-a*d:i,g=Or(t,n,c*Math.cos(d*Sg),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},p_=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=uq(a,s),l=a+o,c=Or(t,n,i,a),d=Or(t,n,i,l),f=xr(Qj||(Qj=Xl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Or(t,n,r,a),m=Or(t,n,r,l);f+=xr(Zj||(Zj=Xl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=xr(Jj||(Jj=Xl(["L ",","," Z"])),t,n);return f},dq=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=vi(c-l),{circleTangency:f,lineTangency:h,theta:m}=Rh({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:y}=Rh({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-m-y;if(x<0)return s?xr(eA||(eA=Xl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):p_({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w=xr(tA||(tA=Xl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(x>180),+(d<0),p.x,p.y,a,a,+(d<0),g.x,g.y);if(r>0){var{circleTangency:b,lineTangency:N,theta:C}=Rh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:S,lineTangency:j,theta:O}=Rh({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),F=o?Math.abs(l-c):Math.abs(l-c)-C-O;if(F<0&&a===0)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+=xr(nA||(nA=Xl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,a,a,+(d<0),S.x,S.y,r,r,+(F>180),+(d>0),b.x,b.y,a,a,+(d<0),N.x,N.y)}else w+=xr(rA||(rA=Xl(["L",",","Z"])),t,n);return w},fq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},g_=e=>{var t=Ur(e,fq),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=Pn("recharts-sector",f),m=a-i,p=pa(s,m,0,!0),g;return p>0&&Math.abs(c-d)<360?g=dq({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):g=p_({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),v.createElement("path",Hb({},Di(t),{className:h,d:g}))};function mq(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(PI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Or(r,i,a,o),c=Or(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return h_(t)}}var x_={},v_={},y_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(y_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y_;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(v_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mk,n=v_;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=r})(x_);var hq=x_.range;const b_=ps(hq);function hl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jk(e){let t,n,r;e.length!==2?(t=hl,n=(o,l)=>hl(e(o),l),r=(o,l)=>e(o)-l):(t=e===hl||e===pq?e:gq,n=e,r=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function gq(){return 0}function w_(e){return e===null?NaN:+e}function*xq(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const vq=jk(hl),bm=vq.right;jk(w_).center;class iA extends Map{constructor(t,n=wq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(aA(this,t))}has(t){return super.has(aA(this,t))}set(t,n){return super.set(yq(this,t),n)}delete(t){return super.delete(bq(this,t))}}function aA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function yq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function bq({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function wq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kq(e=hl){if(e===hl)return k_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function k_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Sq=Math.sqrt(50),Nq=Math.sqrt(10),Cq=Math.sqrt(2);function Ng(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Sq?10:a>=Nq?5:a>=Cq?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?Ng(e,t,n*2):[o,l,c]}function qb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Ng(t,e,n):Ng(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Kb(e,t,n){return t=+t,e=+e,n=+n,Ng(e,t,n)[2]}function Gb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Kb(t,e,n):Kb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function sA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function oA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function S_(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?k_:kq(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+h)),p=Math.min(r,Math.floor(t+(l-c)*f/l+h));S_(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(Md(e,n,t),i(e[r],a)>0&&Md(e,n,r);s<o;){for(Md(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Md(e,n,o):(++o,Md(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Md(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function jq(e,t,n){if(e=Float64Array.from(xq(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return oA(e);if(t>=1)return sA(e);var r,i=(r-1)*t,a=Math.floor(i),s=sA(S_(e,a).subarray(0,a+1)),o=oA(e.subarray(a+1));return s+(o-s)*(i-a)}}function Aq(e,t,n=w_){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function Pq(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Va(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function To(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Yb=Symbol("implicit");function Ak(){var e=new iA,t=[],n=[],r=Yb;function i(a){let s=e.get(a);if(s===void 0){if(r!==Yb)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new iA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ak(t,n).unknown(r)},Va.apply(i,arguments),i}function Pk(){var e=Ak().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=Pq(h).map(function(x){return p+a*x});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Pk(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Va.apply(f(),arguments)}function N_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return N_(t())},e}function Tq(){return N_(Pk.apply(null,arguments).paddingInner(1))}function Tk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function C_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wm(){}var Hf=.7,Cg=1/Hf,Cu="\\s*([+-]?\\d+)\\s*",qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Eq=/^#([0-9a-f]{3,8})$/,Dq=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),Mq=new RegExp(`^rgb\\(${$s},${$s},${$s}\\)$`),Oq=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${qf}\\)$`),Iq=new RegExp(`^rgba\\(${$s},${$s},${$s},${qf}\\)$`),_q=new RegExp(`^hsl\\(${qf},${$s},${$s}\\)$`),Lq=new RegExp(`^hsla\\(${qf},${$s},${$s},${qf}\\)$`),lA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tk(wm,Kf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cA,formatHex:cA,formatHex8:$q,formatHsl:Fq,formatRgb:uA,toString:uA});function cA(){return this.rgb().formatHex()}function $q(){return this.rgb().formatHex8()}function Fq(){return j_(this).formatHsl()}function uA(){return this.rgb().formatRgb()}function Kf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Eq.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?dA(t):n===3?new Hi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Dq.exec(e))?new Hi(t[1],t[2],t[3],1):(t=Mq.exec(e))?new Hi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Oq.exec(e))?Bh(t[1],t[2],t[3],t[4]):(t=Iq.exec(e))?Bh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_q.exec(e))?hA(t[1],t[2]/100,t[3]/100,1):(t=Lq.exec(e))?hA(t[1],t[2]/100,t[3]/100,t[4]):lA.hasOwnProperty(e)?dA(lA[e]):e==="transparent"?new Hi(NaN,NaN,NaN,0):null}function dA(e){return new Hi(e>>16&255,e>>8&255,e&255,1)}function Bh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Hi(e,t,n,r)}function Rq(e){return e instanceof wm||(e=Kf(e)),e?(e=e.rgb(),new Hi(e.r,e.g,e.b,e.opacity)):new Hi}function Xb(e,t,n,r){return arguments.length===1?Rq(e):new Hi(e,t,n,r??1)}function Hi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Tk(Hi,Xb,C_(wm,{brighter(e){return e=e==null?Cg:Math.pow(Cg,e),new Hi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hf:Math.pow(Hf,e),new Hi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hi(sc(this.r),sc(this.g),sc(this.b),jg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fA,formatHex:fA,formatHex8:Bq,formatRgb:mA,toString:mA}));function fA(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}`}function Bq(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}${Ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function mA(){const e=jg(this.opacity);return`${e===1?"rgb(":"rgba("}${sc(this.r)}, ${sc(this.g)}, ${sc(this.b)}${e===1?")":`, ${e})`}`}function jg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ql(e){return e=sc(e),(e<16?"0":"")+e.toString(16)}function hA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new is(e,t,n,r)}function j_(e){if(e instanceof is)return new is(e.h,e.s,e.l,e.opacity);if(e instanceof wm||(e=Kf(e)),!e)return new is;if(e instanceof is)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new is(s,o,l,e.opacity)}function zq(e,t,n,r){return arguments.length===1?j_(e):new is(e,t,n,r??1)}function is(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Tk(is,zq,C_(wm,{brighter(e){return e=e==null?Cg:Math.pow(Cg,e),new is(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hf:Math.pow(Hf,e),new is(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Hi(Av(e>=240?e-240:e+120,i,r),Av(e,i,r),Av(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new is(pA(this.h),zh(this.s),zh(this.l),jg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jg(this.opacity);return`${e===1?"hsl(":"hsla("}${pA(this.h)}, ${zh(this.s)*100}%, ${zh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pA(e){return e=(e||0)%360,e<0?e+360:e}function zh(e){return Math.max(0,Math.min(1,e||0))}function Av(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ek=e=>()=>e;function Uq(e,t){return function(n){return e+n*t}}function Vq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Wq(e){return(e=+e)==1?A_:function(t,n){return n-t?Vq(t,n,e):Ek(isNaN(t)?n:t)}}function A_(e,t){var n=t-e;return n?Uq(e,n):Ek(isNaN(e)?t:e)}const gA=function e(t){var n=Wq(t);function r(i,a){var s=n((i=Xb(i)).r,(a=Xb(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=A_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function Hq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function qq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Ju(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Gq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ag(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Yq(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ju(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Qb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pv=new RegExp(Qb.source,"g");function Xq(e){return function(){return e}}function Qq(e){return function(t){return e(t)+""}}function Zq(e,t){var n=Qb.lastIndex=Pv.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Qb.exec(e))&&(i=Pv.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Ag(r,i)})),n=Pv.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Qq(l[0].x):Xq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function Ju(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ek(t):(n==="number"?Ag:n==="string"?(r=Kf(t))?(t=r,gA):Zq:t instanceof Kf?gA:t instanceof Date?Gq:qq(t)?Hq:Array.isArray(t)?Kq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Yq:Ag)(e,t)}function Dk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Jq(e,t){t===void 0&&(t=e,e=Ju);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function eK(e){return function(){return e}}function Pg(e){return+e}var xA=[0,1];function Ti(e){return e}function Zb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:eK(isNaN(t)?NaN:.5)}function tK(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function nK(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Zb(i,r),a=n(s,a)):(r=Zb(r,i),a=n(a,s)),function(o){return a(r(o))}}function rK(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Zb(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=bm(e,o,1,r)-1;return a[l](i[l](o))}}function km(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ax(){var e=xA,t=xA,n=Ju,r,i,a,s=Ti,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==Ti&&(s=tK(e[0],e[h-1])),o=h>2?rK:nK,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(r),Ag)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Pg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=Dk,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Ti,d()):s!==Ti},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function Mk(){return ax()(Ti,Ti)}function iK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function zu(e){return e=Tg(Math.abs(e)),e?e[1]:NaN}function aK(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function sK(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var oK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gf(e){if(!(t=oK.exec(e)))throw new Error("invalid format: "+e);var t;return new Ok({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gf.prototype=Ok.prototype;function Ok(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ok.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lK(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Eg;function cK(e,t){var n=Tg(e,t);if(!n)return Eg=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(Eg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Tg(e,Math.max(0,t+a-1))[0]}function vA(e,t){var n=Tg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vA(e*100,t),r:vA,s:cK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bA(e){return e}var wA=Array.prototype.map,kA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uK(e){var t=e.grouping===void 0||e.thousands===void 0?bA:aK(wA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?bA:sK(wA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=Gf(f);var m=f.fill,p=f.align,g=f.sign,y=f.symbol,x=f.zero,w=f.width,b=f.comma,N=f.precision,C=f.trim,S=f.type;S==="n"?(b=!0,S="g"):yA[S]||(N===void 0&&(N=12),C=!0,S="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var j=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),O=(y==="$"?r:/[%p]/.test(S)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),F=yA[S],T=/[defgprs%]/.test(S);N=N===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function I(M){var G=j,Z=O,se,fe,J;if(S==="c")Z=F(M)+Z,M="";else{M=+M;var K=M<0||1/M<0;if(M=isNaN(M)?l:F(Math.abs(M),N),C&&(M=lK(M)),K&&+M==0&&g!=="+"&&(K=!1),G=(K?g==="("?g:o:g==="-"||g==="("?"":g)+G,Z=(S==="s"&&!isNaN(M)&&Eg!==void 0?kA[8+Eg/3]:"")+Z+(K&&g==="("?")":""),T){for(se=-1,fe=M.length;++se<fe;)if(J=M.charCodeAt(se),48>J||J>57){Z=(J===46?i+M.slice(se+1):M.slice(se))+Z,M=M.slice(0,se);break}}}b&&!x&&(M=t(M,1/0));var le=G.length+M.length+Z.length,D=le<w?new Array(w-le+1).join(m):"";switch(b&&x&&(M=t(D+M,D.length?w-Z.length:1/0),D=""),p){case"<":M=G+M+Z+D;break;case"=":M=G+D+M+Z;break;case"^":M=D.slice(0,le=D.length>>1)+G+M+Z+D.slice(le);break;default:M=D+G+M+Z;break}return a(M)}return I.toString=function(){return f+""},I}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(zu(h)/3)))*3,p=Math.pow(10,-m),g=c((f=Gf(f),f.type="f",f),{suffix:kA[8+m/3]});return function(y){return g(p*y)}}return{format:c,formatPrefix:d}}var Uh,Ik,P_;dK({thousands:",",grouping:[3],currency:["$",""]});function dK(e){return Uh=uK(e),Ik=Uh.format,P_=Uh.formatPrefix,Uh}function fK(e){return Math.max(0,-zu(Math.abs(e)))}function mK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zu(t)/3)))*3-zu(Math.abs(e)))}function hK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zu(t)-zu(e))+1}function T_(e,t,n,r){var i=Gb(e,t,n),a;switch(r=Gf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=mK(i,s))&&(r.precision=a),P_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=hK(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=fK(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ik(r)}function jl(e){var t=e.domain;return e.ticks=function(n){var r=t();return qb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return T_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=Kb(s,o,n),c===l)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function E_(){var e=Mk();return e.copy=function(){return km(e,E_())},Va.apply(e,arguments),jl(e)}function D_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Pg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return D_(e).unknown(t)},e=arguments.length?Array.from(e,Pg):[0,1],jl(n)}function M_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function SA(e){return Math.log(e)}function NA(e){return Math.exp(e)}function pK(e){return-Math.log(-e)}function gK(e){return-Math.exp(-e)}function xK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vK(e){return e===10?xK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CA(e){return(t,n)=>-e(-t,n)}function _k(e){const t=e(SA,NA),n=t.domain;let r=10,i,a;function s(){return i=yK(r),a=vK(r),n()[0]<0?(i=CA(i),a=CA(a),e(pK,gK)):e(SA,NA),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),p,g;const y=o==null?10:+o;let x=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}x.length*2<y&&(x=qb(c,d,y))}else x=qb(h,m,Math.min(m-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Gf(l)).precision==null&&(l.trim=!0),l=Ik(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(M_(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function O_(){const e=_k(ax()).domain([1,10]);return e.copy=()=>km(e,O_()).base(e.base()),Va.apply(e,arguments),e}function jA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lk(e){var t=1,n=e(jA(t),AA(t));return n.constant=function(r){return arguments.length?e(jA(t=+r),AA(t)):t},jl(n)}function I_(){var e=Lk(ax());return e.copy=function(){return km(e,I_()).constant(e.constant())},Va.apply(e,arguments)}function PA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wK(e){return e<0?-e*e:e*e}function $k(e){var t=e(Ti,Ti),n=1;function r(){return n===1?e(Ti,Ti):n===.5?e(bK,wK):e(PA(n),PA(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},jl(t)}function Fk(){var e=$k(ax());return e.copy=function(){return km(e,Fk()).exponent(e.exponent())},Va.apply(e,arguments),e}function kK(){return Fk.apply(null,arguments).exponent(.5)}function TA(e){return Math.sign(e)*e*e}function SK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function __(){var e=Mk(),t=[0,1],n=!1,r;function i(a){var s=SK(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(TA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Pg)).map(TA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return __(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Va.apply(i,arguments),jl(i)}function L_(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=Aq(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[bm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(hl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return L_().domain(e).range(t).unknown(r)},Va.apply(a,arguments)}function $_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[bm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return $_().domain([e,t]).range(i).unknown(a)},Va.apply(jl(s),arguments)}function F_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[bm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return F_().domain(e).range(t).unknown(n)},Va.apply(i,arguments)}const Tv=new Date,Ev=new Date;function Vr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Vr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Tv.setTime(+a),Ev.setTime(+s),e(Tv),e(Ev),Math.floor(n(Tv,Ev))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Dg=Vr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Dg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Dg);Dg.range;const so=1e3,La=so*60,oo=La*60,wo=oo*24,Rk=wo*7,EA=wo*30,Dv=wo*365,Zl=Vr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getUTCSeconds());Zl.range;const Bk=Vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*so)},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getMinutes());Bk.range;const zk=Vr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getUTCMinutes());zk.range;const Uk=Vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*so-e.getMinutes()*La)},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getHours());Uk.range;const Vk=Vr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getUTCHours());Vk.range;const Sm=Vr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*La)/wo,e=>e.getDate()-1);Sm.range;const sx=Vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wo,e=>e.getUTCDate()-1);sx.range;const R_=Vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wo,e=>Math.floor(e/wo));R_.range;function Pc(e){return Vr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*La)/Rk)}const ox=Pc(0),Mg=Pc(1),NK=Pc(2),CK=Pc(3),Uu=Pc(4),jK=Pc(5),AK=Pc(6);ox.range;Mg.range;NK.range;CK.range;Uu.range;jK.range;AK.range;function Tc(e){return Vr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Rk)}const lx=Tc(0),Og=Tc(1),PK=Tc(2),TK=Tc(3),Vu=Tc(4),EK=Tc(5),DK=Tc(6);lx.range;Og.range;PK.range;TK.range;Vu.range;EK.range;DK.range;const Wk=Vr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Wk.range;const Hk=Vr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Hk.range;const ko=Vr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ko.range;const So=Vr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());So.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});So.range;function B_(e,t,n,r,i,a){const s=[[Zl,1,so],[Zl,5,5*so],[Zl,15,15*so],[Zl,30,30*so],[a,1,La],[a,5,5*La],[a,15,15*La],[a,30,30*La],[i,1,oo],[i,3,3*oo],[i,6,6*oo],[i,12,12*oo],[r,1,wo],[r,2,2*wo],[n,1,Rk],[t,1,EA],[t,3,3*EA],[e,1,Dv]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),p=m?m.range(c,+d+1):[];return h?p.reverse():p}function l(c,d,f){const h=Math.abs(d-c)/f,m=jk(([,,y])=>y).right(s,h);if(m===s.length)return e.every(Gb(c/Dv,d/Dv,f));if(m===0)return Dg.every(Math.max(Gb(c,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[MK,OK]=B_(So,Hk,lx,R_,Vk,zk),[IK,_K]=B_(ko,Wk,ox,Sm,Uk,Bk);function Mv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ov(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Od(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function LK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Id(i),d=_d(i),f=Id(a),h=_d(a),m=Id(s),p=_d(s),g=Id(o),y=_d(o),x=Id(l),w=_d(l),b={a:J,A:K,b:le,B:D,c:null,d:LA,e:LA,f:aG,g:pG,G:xG,H:nG,I:rG,j:iG,L:z_,m:sG,M:oG,p:A,q:ae,Q:RA,s:BA,S:lG,u:cG,U:uG,V:dG,w:fG,W:mG,x:null,X:null,y:hG,Y:gG,Z:vG,"%":FA},N={a:k,A:U,b:W,B:ee,c:null,d:$A,e:$A,f:kG,g:MG,G:IG,H:yG,I:bG,j:wG,L:V_,m:SG,M:NG,p:te,q:ie,Q:RA,s:BA,S:CG,u:jG,U:AG,V:PG,w:TG,W:EG,x:null,X:null,y:DG,Y:OG,Z:_G,"%":FA},C={a:T,A:I,b:M,B:G,c:Z,d:IA,e:IA,f:ZK,g:OA,G:MA,H:_A,I:_A,j:GK,L:QK,m:KK,M:YK,p:F,q:qK,Q:eG,s:tG,S:XK,u:zK,U:UK,V:VK,w:BK,W:WK,x:se,X:fe,y:OA,Y:MA,Z:HK,"%":JK};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),N.x=S(n,N),N.X=S(r,N),N.c=S(t,N);function S(R,B){return function(H){var X=[],$=-1,oe=0,L=R.length,V,ve,Ne;for(H instanceof Date||(H=new Date(+H));++$<L;)R.charCodeAt($)===37&&(X.push(R.slice(oe,$)),(ve=DA[V=R.charAt(++$)])!=null?V=R.charAt(++$):ve=V==="e"?" ":"0",(Ne=B[V])&&(V=Ne(H,ve)),X.push(V),oe=$+1);return X.push(R.slice(oe,$)),X.join("")}}function j(R,B){return function(H){var X=Od(1900,void 0,1),$=O(X,R,H+="",0),oe,L;if($!=H.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(B&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(oe=Ov(Od(X.y,0,1)),L=oe.getUTCDay(),oe=L>4||L===0?Og.ceil(oe):Og(oe),oe=sx.offset(oe,(X.V-1)*7),X.y=oe.getUTCFullYear(),X.m=oe.getUTCMonth(),X.d=oe.getUTCDate()+(X.w+6)%7):(oe=Mv(Od(X.y,0,1)),L=oe.getDay(),oe=L>4||L===0?Mg.ceil(oe):Mg(oe),oe=Sm.offset(oe,(X.V-1)*7),X.y=oe.getFullYear(),X.m=oe.getMonth(),X.d=oe.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),L="Z"in X?Ov(Od(X.y,0,1)).getUTCDay():Mv(Od(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(L+5)%7:X.w+X.U*7-(L+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Ov(X)):Mv(X)}}function O(R,B,H,X){for(var $=0,oe=B.length,L=H.length,V,ve;$<oe;){if(X>=L)return-1;if(V=B.charCodeAt($++),V===37){if(V=B.charAt($++),ve=C[V in DA?B.charAt($++):V],!ve||(X=ve(R,H,X))<0)return-1}else if(V!=H.charCodeAt(X++))return-1}return X}function F(R,B,H){var X=c.exec(B.slice(H));return X?(R.p=d.get(X[0].toLowerCase()),H+X[0].length):-1}function T(R,B,H){var X=m.exec(B.slice(H));return X?(R.w=p.get(X[0].toLowerCase()),H+X[0].length):-1}function I(R,B,H){var X=f.exec(B.slice(H));return X?(R.w=h.get(X[0].toLowerCase()),H+X[0].length):-1}function M(R,B,H){var X=x.exec(B.slice(H));return X?(R.m=w.get(X[0].toLowerCase()),H+X[0].length):-1}function G(R,B,H){var X=g.exec(B.slice(H));return X?(R.m=y.get(X[0].toLowerCase()),H+X[0].length):-1}function Z(R,B,H){return O(R,t,B,H)}function se(R,B,H){return O(R,n,B,H)}function fe(R,B,H){return O(R,r,B,H)}function J(R){return s[R.getDay()]}function K(R){return a[R.getDay()]}function le(R){return l[R.getMonth()]}function D(R){return o[R.getMonth()]}function A(R){return i[+(R.getHours()>=12)]}function ae(R){return 1+~~(R.getMonth()/3)}function k(R){return s[R.getUTCDay()]}function U(R){return a[R.getUTCDay()]}function W(R){return l[R.getUTCMonth()]}function ee(R){return o[R.getUTCMonth()]}function te(R){return i[+(R.getUTCHours()>=12)]}function ie(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var B=S(R+="",b);return B.toString=function(){return R},B},parse:function(R){var B=j(R+="",!1);return B.toString=function(){return R},B},utcFormat:function(R){var B=S(R+="",N);return B.toString=function(){return R},B},utcParse:function(R){var B=j(R+="",!0);return B.toString=function(){return R},B}}}var DA={"-":"",_:" ",0:"0"},Zr=/^\s*\d+/,$K=/^%/,FK=/[\\^$*+?|[\]().{}]/g;function jn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function RK(e){return e.replace(FK,"\\$&")}function Id(e){return new RegExp("^(?:"+e.map(RK).join("|")+")","i")}function _d(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function BK(e,t,n){var r=Zr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function zK(e,t,n){var r=Zr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function UK(e,t,n){var r=Zr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function VK(e,t,n){var r=Zr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function WK(e,t,n){var r=Zr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function MA(e,t,n){var r=Zr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function OA(e,t,n){var r=Zr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function HK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qK(e,t,n){var r=Zr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function KK(e,t,n){var r=Zr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function IA(e,t,n){var r=Zr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function GK(e,t,n){var r=Zr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _A(e,t,n){var r=Zr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function YK(e,t,n){var r=Zr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function XK(e,t,n){var r=Zr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function QK(e,t,n){var r=Zr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ZK(e,t,n){var r=Zr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function JK(e,t,n){var r=$K.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function eG(e,t,n){var r=Zr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function tG(e,t,n){var r=Zr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function LA(e,t){return jn(e.getDate(),t,2)}function nG(e,t){return jn(e.getHours(),t,2)}function rG(e,t){return jn(e.getHours()%12||12,t,2)}function iG(e,t){return jn(1+Sm.count(ko(e),e),t,3)}function z_(e,t){return jn(e.getMilliseconds(),t,3)}function aG(e,t){return z_(e,t)+"000"}function sG(e,t){return jn(e.getMonth()+1,t,2)}function oG(e,t){return jn(e.getMinutes(),t,2)}function lG(e,t){return jn(e.getSeconds(),t,2)}function cG(e){var t=e.getDay();return t===0?7:t}function uG(e,t){return jn(ox.count(ko(e)-1,e),t,2)}function U_(e){var t=e.getDay();return t>=4||t===0?Uu(e):Uu.ceil(e)}function dG(e,t){return e=U_(e),jn(Uu.count(ko(e),e)+(ko(e).getDay()===4),t,2)}function fG(e){return e.getDay()}function mG(e,t){return jn(Mg.count(ko(e)-1,e),t,2)}function hG(e,t){return jn(e.getFullYear()%100,t,2)}function pG(e,t){return e=U_(e),jn(e.getFullYear()%100,t,2)}function gG(e,t){return jn(e.getFullYear()%1e4,t,4)}function xG(e,t){var n=e.getDay();return e=n>=4||n===0?Uu(e):Uu.ceil(e),jn(e.getFullYear()%1e4,t,4)}function vG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jn(t/60|0,"0",2)+jn(t%60,"0",2)}function $A(e,t){return jn(e.getUTCDate(),t,2)}function yG(e,t){return jn(e.getUTCHours(),t,2)}function bG(e,t){return jn(e.getUTCHours()%12||12,t,2)}function wG(e,t){return jn(1+sx.count(So(e),e),t,3)}function V_(e,t){return jn(e.getUTCMilliseconds(),t,3)}function kG(e,t){return V_(e,t)+"000"}function SG(e,t){return jn(e.getUTCMonth()+1,t,2)}function NG(e,t){return jn(e.getUTCMinutes(),t,2)}function CG(e,t){return jn(e.getUTCSeconds(),t,2)}function jG(e){var t=e.getUTCDay();return t===0?7:t}function AG(e,t){return jn(lx.count(So(e)-1,e),t,2)}function W_(e){var t=e.getUTCDay();return t>=4||t===0?Vu(e):Vu.ceil(e)}function PG(e,t){return e=W_(e),jn(Vu.count(So(e),e)+(So(e).getUTCDay()===4),t,2)}function TG(e){return e.getUTCDay()}function EG(e,t){return jn(Og.count(So(e)-1,e),t,2)}function DG(e,t){return jn(e.getUTCFullYear()%100,t,2)}function MG(e,t){return e=W_(e),jn(e.getUTCFullYear()%100,t,2)}function OG(e,t){return jn(e.getUTCFullYear()%1e4,t,4)}function IG(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Vu(e):Vu.ceil(e),jn(e.getUTCFullYear()%1e4,t,4)}function _G(){return"+0000"}function FA(){return"%"}function RA(e){return+e}function BA(e){return Math.floor(+e/1e3)}var Kc,H_,q_;LG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LG(e){return Kc=LK(e),H_=Kc.format,Kc.parse,q_=Kc.utcFormat,Kc.utcParse,Kc}function $G(e){return new Date(e)}function FG(e){return e instanceof Date?+e:+new Date(+e)}function qk(e,t,n,r,i,a,s,o,l,c){var d=Mk(),f=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),x=c("%a %d"),w=c("%b %d"),b=c("%B"),N=c("%Y");function C(S){return(l(S)<S?m:o(S)<S?p:s(S)<S?g:a(S)<S?y:r(S)<S?i(S)<S?x:w:n(S)<S?b:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,FG)):h().map($G)},d.ticks=function(S){var j=h();return e(j[0],j[j.length-1],S??10)},d.tickFormat=function(S,j){return j==null?C:c(j)},d.nice=function(S){var j=h();return(!S||typeof S.range!="function")&&(S=t(j[0],j[j.length-1],S??10)),S?h(M_(j,S)):d},d.copy=function(){return km(d,qk(e,t,n,r,i,a,s,o,l,c))},d}function RG(){return Va.apply(qk(IK,_K,ko,Wk,ox,Sm,Uk,Bk,Zl,H_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BG(){return Va.apply(qk(MK,OK,So,Hk,lx,sx,Vk,zk,Zl,q_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cx(){var e=0,t=1,n,r,i,a,s=Ti,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=d(Ju),c.rangeRound=d(Dk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function Al(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function K_(){var e=jl(cx()(Ti));return e.copy=function(){return Al(e,K_())},To.apply(e,arguments)}function G_(){var e=_k(cx()).domain([1,10]);return e.copy=function(){return Al(e,G_()).base(e.base())},To.apply(e,arguments)}function Y_(){var e=Lk(cx());return e.copy=function(){return Al(e,Y_()).constant(e.constant())},To.apply(e,arguments)}function Kk(){var e=$k(cx());return e.copy=function(){return Al(e,Kk()).exponent(e.exponent())},To.apply(e,arguments)}function zG(){return Kk.apply(null,arguments).exponent(.5)}function X_(){var e=[],t=Ti;function n(r){if(r!=null&&!isNaN(r=+r))return t((bm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(hl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>jq(e,a/r))},n.copy=function(){return X_(t).domain(e)},To.apply(n,arguments)}function ux(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,c=Ti,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(y){var x,w,b;return arguments.length?([x,w,b]=y,c=Jq(g,[x,w,b]),m):[c(0),c(.5),c(1)]}}return m.range=p(Ju),m.rangeRound=p(Dk),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function Q_(){var e=jl(ux()(Ti));return e.copy=function(){return Al(e,Q_())},To.apply(e,arguments)}function Z_(){var e=_k(ux()).domain([.1,1,10]);return e.copy=function(){return Al(e,Z_()).base(e.base())},To.apply(e,arguments)}function J_(){var e=Lk(ux());return e.copy=function(){return Al(e,J_()).constant(e.constant())},To.apply(e,arguments)}function Gk(){var e=$k(ux());return e.copy=function(){return Al(e,Gk()).exponent(e.exponent())},To.apply(e,arguments)}function UG(){return Gk.apply(null,arguments).exponent(.5)}const Gd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Pk,scaleDiverging:Q_,scaleDivergingLog:Z_,scaleDivergingPow:Gk,scaleDivergingSqrt:UG,scaleDivergingSymlog:J_,scaleIdentity:D_,scaleImplicit:Yb,scaleLinear:E_,scaleLog:O_,scaleOrdinal:Ak,scalePoint:Tq,scalePow:Fk,scaleQuantile:L_,scaleQuantize:$_,scaleRadial:__,scaleSequential:K_,scaleSequentialLog:G_,scaleSequentialPow:Kk,scaleSequentialQuantile:X_,scaleSequentialSqrt:zG,scaleSequentialSymlog:Y_,scaleSqrt:kK,scaleSymlog:I_,scaleThreshold:F_,scaleTime:RG,scaleUtc:BG,tickFormat:T_},Symbol.toStringTag,{value:"Module"}));var Pl=e=>e.chartData,Yk=pe([Pl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Xk=(e,t,n,r)=>r?Yk(e):Pl(e);function vl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(_r(t)&&_r(n))return!0}return!1}function zA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function eL(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(_r(n))i=n;else if(typeof n=="function")return;if(_r(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(vl(s))return s}}function VG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(vl(r))return zA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Tt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&sj.test(i)){var l=sj.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Tt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&oj.test(a)){var d=oj.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(vl(h))return t==null?h:zA(h,t,n)}}}var ed=1e9,WG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zk,ir=!0,Ua="[DecimalError] ",oc=Ua+"Invalid argument: ",Qk=Ua+"Exponent out of range: ",td=Math.floor,Ul=Math.pow,HG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,da,Gr=1e7,Xn=7,tL=9007199254740991,Ig=td(tL/Xn),bt={};bt.absoluteValue=bt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};bt.comparedTo=bt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Xn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};bt.dividedBy=bt.div=function(e){return uo(this,new this.constructor(e))};bt.dividedToIntegerBy=bt.idiv=function(e){var t=this,n=t.constructor;return Fn(uo(t,new n(e),0,1),n.precision)};bt.equals=bt.eq=function(e){return!this.cmp(e)};bt.exponent=function(){return Ir(this)};bt.greaterThan=bt.gt=function(e){return this.cmp(e)>0};bt.greaterThanOrEqualTo=bt.gte=function(e){return this.cmp(e)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(e){return this.cmp(e)<0};bt.lessThanOrEqualTo=bt.lte=function(e){return this.cmp(e)<1};bt.logarithm=bt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(da))throw Error(Ua+"NaN");if(n.s<1)throw Error(Ua+(n.s?"NaN":"-Infinity"));return n.eq(da)?new r(0):(ir=!1,t=uo(Yf(n,a),Yf(e,a),a),ir=!0,Fn(t,i))};bt.minus=bt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iL(t,e):nL(t,(e.s=-e.s,e))};bt.modulo=bt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ua+"NaN");return n.s?(ir=!1,t=uo(n,e,0,1).times(e),ir=!0,n.minus(t)):Fn(new r(n),i)};bt.naturalExponential=bt.exp=function(){return rL(this)};bt.naturalLogarithm=bt.ln=function(){return Yf(this)};bt.negated=bt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};bt.plus=bt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nL(t,e):iL(t,(e.s=-e.s,e))};bt.precision=bt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(oc+e);if(t=Ir(i)+1,r=i.d.length-1,n=r*Xn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};bt.squareRoot=bt.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ua+"NaN")}for(e=Ir(o),ir=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Is(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=td((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(uo(o,a,s+2)).times(.5),Is(a.d).slice(0,s)===(t=Is(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Fn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return ir=!0,Fn(r,n)};bt.times=bt.mul=function(e){var t,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%Gr|0,t=o/Gr|0;a[i]=(a[i]+t)%Gr|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,ir?Fn(e,f.precision):e};bt.toDecimalPlaces=bt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Us(e,0,ed),t===void 0?t=r.rounding:Us(t,0,8),Fn(n,e+Ir(n)+1,t))};bt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=wc(r,!0):(Us(e,0,ed),t===void 0?t=i.rounding:Us(t,0,8),r=Fn(new i(r),e+1,t),n=wc(r,!0,e+1)),n};bt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?wc(i):(Us(e,0,ed),t===void 0?t=a.rounding:Us(t,0,8),r=Fn(new a(i),e+Ir(i)+1,t),n=wc(r.abs(),!1,e+Ir(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};bt.toInteger=bt.toint=function(){var e=this,t=e.constructor;return Fn(new t(e),Ir(e)+1,t.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(da);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ua+"Infinity");return o}if(o.eq(da))return o;if(r=l.precision,e.eq(da))return Fn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=tL){for(i=new l(da),t=Math.ceil(r/Xn+4),ir=!1;n%2&&(i=i.times(o),VA(i.d,t)),n=td(n/2),n!==0;)o=o.times(o),VA(o.d,t);return ir=!0,e.s<0?new l(da).div(i):Fn(i,r)}}else if(a<0)throw Error(Ua+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,ir=!1,i=e.times(Yf(o,r+c)),ir=!0,i=rL(i),i.s=a,i};bt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ir(i),r=wc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Us(e,1,ed),t===void 0?t=a.rounding:Us(t,0,8),i=Fn(new a(i),e,t),n=Ir(i),r=wc(i,e<=n||n<=a.toExpNeg,e)),r};bt.toSignificantDigits=bt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Us(e,1,ed),t===void 0?t=r.rounding:Us(t,0,8)),Fn(new r(n),e,t)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ir(e),n=e.constructor;return wc(e,t<=n.toExpNeg||t>=n.toExpPos)};function nL(e,t){var n,r,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ir?Fn(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/Xn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Gr|0,l[a]%=Gr;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,ir?Fn(t,f):t}function Us(e,t,n){if(e!==~~e||e<t||e>n)throw Error(oc+e)}function Is(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=Xn-r.length,n&&(a+=Yo(n)),a+=r;s=e[t],r=s+"",n=Xn-r.length,n&&(a+=Yo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var uo=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Gr|0,s=a/Gr|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Gr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,m,p,g,y,x,w,b,N,C,S,j,O,F=r.constructor,T=r.s==i.s?1:-1,I=r.d,M=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(Ua+"Division by zero");for(l=r.e-i.e,j=M.length,C=I.length,m=new F(T),p=m.d=[],c=0;M[c]==(I[c]||0);)++c;if(M[c]>(I[c]||0)&&--l,a==null?w=a=F.precision:s?w=a+(Ir(r)-Ir(i))+1:w=a,w<0)return new F(0);if(w=w/Xn+2|0,c=0,j==1)for(d=0,M=M[0],w++;(c<C||d)&&w--;c++)b=d*Gr+(I[c]||0),p[c]=b/M|0,d=b%M|0;else{for(d=Gr/(M[0]+1)|0,d>1&&(M=e(M,d),I=e(I,d),j=M.length,C=I.length),N=j,g=I.slice(0,j),y=g.length;y<j;)g[y++]=0;O=M.slice(),O.unshift(0),S=M[0],M[1]>=Gr/2&&++S;do d=0,o=t(M,g,j,y),o<0?(x=g[0],j!=y&&(x=x*Gr+(g[1]||0)),d=x/S|0,d>1?(d>=Gr&&(d=Gr-1),f=e(M,d),h=f.length,y=g.length,o=t(f,g,h,y),o==1&&(d--,n(f,j<h?O:M,h))):(d==0&&(o=d=1),f=M.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),o==-1&&(y=g.length,o=t(M,g,j,y),o<1&&(d++,n(g,j<y?O:M,y))),y=g.length):o===0&&(d++,g=[0]),p[c++]=d,o&&g[0]?g[y++]=I[N]||0:(g=[I[N]],y=1);while((N++<C||g[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=l,Fn(m,s?a+Ir(m)+1:a)}}();function rL(e,t){var n,r,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(Ir(e)>16)throw Error(Qk+Ir(e));if(!e.s)return new d(da);for(ir=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(Ul(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(da),d.precision=o;;){if(i=Fn(i.times(e),o),n=n.times(++l),s=a.plus(uo(i,n,o)),Is(s.d).slice(0,o)===Is(a.d).slice(0,o)){for(;c--;)a=Fn(a.times(a),o);return d.precision=f,t==null?(ir=!0,Fn(a,f)):a}a=s}}function Ir(e){for(var t=e.e*Xn,n=e.d[0];n>=10;n/=10)t++;return t}function Iv(e,t,n){if(t>e.LN10.sd())throw ir=!0,n&&(e.precision=n),Error(Ua+"LN10 precision limit exceeded");return Fn(new e(e.LN10),t)}function Yo(e){for(var t="";e--;)t+="0";return t}function Yf(e,t){var n,r,i,a,s,o,l,c,d,f=1,h=10,m=e,p=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Ua+(m.s?"NaN":"-Infinity"));if(m.eq(da))return new g(0);if(t==null?(ir=!1,c=y):c=t,m.eq(10))return t==null&&(ir=!0),Iv(g,c);if(c+=h,g.precision=c,n=Is(p),r=n.charAt(0),a=Ir(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Is(m.d),r=n.charAt(0),f++;a=Ir(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return l=Iv(g,c+2,y).times(a+""),m=Yf(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(ir=!0,Fn(m,y)):m;for(o=s=m=uo(m.minus(da),m.plus(da),c),d=Fn(m.times(m),c),i=3;;){if(s=Fn(s.times(d),c),l=o.plus(uo(s,new g(i),c)),Is(l.d).slice(0,c)===Is(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(Iv(g,c+2,y).times(a+""))),o=uo(o,new g(f),c),g.precision=y,t==null?(ir=!0,Fn(o,y)):o;o=l,i+=2}}function UA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=td(n/Xn),e.d=[],r=(n+1)%Xn,n<0&&(r+=Xn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Xn;r<i;)e.d.push(+t.slice(r,r+=Xn));t=t.slice(r),r=Xn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ir&&(e.e>Ig||e.e<-Ig))throw Error(Qk+n)}else e.s=0,e.e=0,e.d=[0];return e}function Fn(e,t,n){var r,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=Xn,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Xn),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=Xn,i=r-Xn+s}if(n!==void 0&&(a=Ul(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Ul(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Ir(e),f.length=1,t=t-a-1,f[0]=Ul(10,(Xn-t%Xn)%Xn),e.e=td(-t/Xn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ul(10,Xn-r),f[d]=i>0?(c/Ul(10,s-i)%Ul(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==Gr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Gr)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(ir&&(e.e>Ig||e.e<-Ig))throw Error(Qk+Ir(e));return e}function iL(e,t){var n,r,i,a,s,o,l,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ir?Fn(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/Xn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Gr-1;--l[a],l[i]+=Gr}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,ir?Fn(t,m):t):new h(0)}function wc(e,t,n){var r,i=Ir(e),a=Is(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Yo(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Yo(-i-1)+a,n&&(r=n-s)>0&&(a+=Yo(r))):i>=s?(a+=Yo(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Yo(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Yo(r))),e.s<0?"-"+a:a}function VA(e,t){if(e.length>t)return e.length=t,!0}function aL(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(oc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return UA(s,a.toString())}else if(typeof a!="string")throw Error(oc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,HG.test(a))UA(s,a);else throw Error(oc+a)}if(i.prototype=bt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aL,i.config=i.set=qG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function qG(e){if(!e||typeof e!="object")throw Error(Ua+"Object expected");var t,n,r,i=["precision",1,ed,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(td(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(oc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(oc+n+": "+r);return this}var Zk=aL(WG);da=new Zk(1);const On=Zk;var KG=e=>e,sL={},oL=e=>e===sL,WA=e=>function t(){return arguments.length===0||arguments.length===1&&oL(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},lL=(e,t)=>e===1?t:WA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==sL).length;return a>=e?t(...r):lL(e-a,WA(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(d=>oL(d)?o.shift():d);return t(...c,...o)}))}),GG=e=>lL(e.length,e),Jb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},YG=GG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),XG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return KG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function cL(e){var t;return e===0?t=1:t=Math.floor(new On(e).abs().log(10).toNumber())+1,t}function uL(e,t,n){for(var r=new On(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var dL=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},fL=(e,t,n)=>{if(e.lte(0))return new On(0);var r=cL(e.toNumber()),i=new On(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new On(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new On(l.toNumber()):new On(Math.ceil(l.toNumber()))},QG=(e,t,n)=>{var r=new On(1),i=new On(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new On(10).pow(cL(e)-1),i=new On(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new On(Math.floor(e)))}else e===0?i=new On(Math.floor((t-1)/2)):n||(i=new On(Math.floor(e)));var s=Math.floor((t-1)/2),o=XG(YG(l=>i.add(new On(l-s).mul(r)).toNumber()),Jb);return o(0,t)},mL=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new On(0),tickMin:new On(0),tickMax:new On(0)};var s=fL(new On(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new On(0):(o=new On(t).add(n).div(2),o=o.sub(new On(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new On(n).sub(o).div(s).toNumber()),d=l+c+1;return d>r?mL(t,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new On(l).mul(s)),tickMax:o.add(new On(c).mul(s))})},ZG=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=dL([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Jb(0,i-1).map(()=>1/0)]:[...Jb(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return QG(o,i,a);var{step:d,tickMin:f,tickMax:h}=mL(o,l,s,a,0),m=uL(f,h.add(new On(.1).mul(d)),d);return n>r?m.reverse():m},JG=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=dL([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=fL(new On(o).sub(s).div(l-1),a,0),d=[...uL(new On(s),new On(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},eY=e=>e.rootProps.barCategoryGap,Nm=e=>e.rootProps.stackOffset,hL=e=>e.rootProps.reverseStackOrder,Jk=e=>e.options.chartName,eS=e=>e.rootProps.syncId,pL=e=>e.rootProps.syncMethod,tS=e=>e.options.eventEmitter,oi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},to={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ua={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},tY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:to.angleAxisId,includeHidden:!1,name:void 0,reversed:to.reversed,scale:to.scale,tick:to.tick,tickCount:void 0,ticks:void 0,type:to.type,unit:void 0},nY={allowDataOverflow:ua.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ua.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ua.scale,tick:ua.tick,tickCount:ua.tickCount,ticks:void 0,type:ua.type,unit:void 0},rY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:to.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:to.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:to.scale,tick:to.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},iY={allowDataOverflow:ua.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ua.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ua.scale,tick:ua.tick,tickCount:ua.tickCount,ticks:void 0,type:"category",unit:void 0},nS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?rY:tY,rS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?iY:nY,fx=e=>e.polarOptions,iS=pe([Ao,Po,Qr],m_),gL=pe([fx,iS],(e,t)=>{if(e!=null)return pa(e.innerRadius,t,0)}),xL=pe([fx,iS],(e,t)=>{if(e!=null)return pa(e.outerRadius,t,t*.8)}),aY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},vL=pe([fx],aY);pe([nS,vL],dx);var yL=pe([iS,gL,xL],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});pe([rS,yL],dx);var bL=pe([$n,fx,gL,xL,Ao,Po],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:pa(s,i,i/2),cy:pa(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),ar=(e,t)=>t,Cm=(e,t,n)=>n;function wL(e){return e==null?void 0:e.id}function kL(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=wL(o);c.forEach((f,h)=>{var m=a==null||i?h:String(Zn(f,a,null)),p=Zn(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[d]:p}),s.set(m,g)})}}),Array.from(s.values())}function aS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var mx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function hx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function sY(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Wr=e=>{var t=$n(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},nd=e=>e.tooltip.settings.axisId;function HA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(n),!0).forEach(function(r){oY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oY(e,t,n){return(t=lY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lY(e){var t=cY(e,"string");return typeof t=="symbol"?t:t+""}function cY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ew=[0,"auto"],qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},SL=(e,t)=>e.cartesianAxis.xAxis[t],Eo=(e,t)=>{var n=SL(e,t);return n??qr},Kr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ew,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xm},NL=(e,t)=>e.cartesianAxis.yAxis[t],Do=(e,t)=>{var n=NL(e,t);return n??Kr},uY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??uY},mr=(e,t,n)=>{switch(t){case"xAxis":return Eo(e,n);case"yAxis":return Do(e,n);case"zAxis":return sS(e,n);case"angleAxis":return nS(e,n);case"radiusAxis":return rS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},dY=(e,t,n)=>{switch(t){case"xAxis":return Eo(e,n);case"yAxis":return Do(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jm=(e,t,n)=>{switch(t){case"xAxis":return Eo(e,n);case"yAxis":return Do(e,n);case"angleAxis":return nS(e,n);case"radiusAxis":return rS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},CL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function oS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var jL=e=>e.graphicalItems.cartesianItems,fY=pe([ar,Cm],oS),lS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Am=pe([jL,mr,fY],lS,{memoizeOptions:{resultEqualityCheck:hx}}),AL=pe([Am],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(aS)),PL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),mY=pe([Am],PL),cS=e=>e.map(t=>t.data).filter(Boolean).flat(1),hY=pe([Am],cS,{memoizeOptions:{resultEqualityCheck:hx}}),uS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},dS=pe([hY,Xk],uS),fS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Zn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Zn(i,r)}))):e.map(r=>({value:r})),px=pe([dS,mr,Am],fS);function TL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function xp(e){if(Bs(e)||e instanceof Date){var t=Number(e);if(_r(t))return t}}function qA(e){if(Array.isArray(e)){var t=[xp(e[0]),xp(e[1])];return vl(t)?t:void 0}var n=xp(e);if(n!=null)return[n,n]}function No(e){return e.map(xp).filter(EV)}function pY(e,t,n){return!n||typeof t!="number"||Rs(t)?[]:n.length?No(n.flatMap(r=>{var i=Zn(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!_r(a)||!_r(s)))return[t-a,t+s]})):[]}var Hr=e=>{var t=Wr(e),n=nd(e);return jm(e,t,n)},Pm=pe([Hr],e=>e==null?void 0:e.dataKey),gY=pe([AL,Xk,Hr],kL),EL=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,d=c.map(wL);return[o,{stackedData:qW(e,d,n),graphicalItems:c}]}))},xY=pe([gY,AL,Nm,hL],EL),DL=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=YW(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},vY=pe([mr],e=>e.allowDataOverflow),mS=e=>{var t;if(e==null||!("domain"in e))return ew;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=No(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ew},hS=pe([mr],mS),pS=pe([hS,vY],eL),yY=pe([xY,Pl,ar,pS],DL,{memoizeOptions:{resultEqualityCheck:mx}}),gx=e=>e.errorBars,bY=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>TL(n,r)),Lg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},gS=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(x=>TL(i,x)),h=Zn(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=pY(o,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||g>s)&&(s=g)}var y=qA(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=qA(Zn(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),_r(a)&&_r(s))return[a,s]},wY=pe([dS,mr,mY,gx,ar],gS,{memoizeOptions:{resultEqualityCheck:mx}});function kY(e){var{value:t}=e;if(Bs(t)||t instanceof Date)return t}var SY=(e,t,n)=>{var r=e.map(kY).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&CI(r))?b_(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},ML=e=>e.referenceElements.dots,rd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),NY=pe([ML,ar,Cm],rd),OL=e=>e.referenceElements.areas,CY=pe([OL,ar,Cm],rd),IL=e=>e.referenceElements.lines,jY=pe([IL,ar,Cm],rd),_L=(e,t)=>{if(e!=null){var n=No(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},AY=pe(NY,ar,_L),LL=(e,t)=>{if(e!=null){var n=No(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},PY=pe([CY,ar],LL);function TY(e){var t;if(e.x!=null)return No([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:No(n)}function EY(e){var t;if(e.y!=null)return No([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:No(n)}var $L=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?TY(r):EY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},DY=pe([jY,ar],$L),MY=pe(AY,DY,PY,(e,t,n)=>Lg(e,n,t)),xS=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Lg(r,a,i):Lg(a,i);return VG(t,c,e.allowDataOverflow)},OY=pe([mr,hS,pS,yY,wY,MY,$n,ar],xS,{memoizeOptions:{resultEqualityCheck:mx}}),IY=[0,1],vS=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=Cl(t,a);if(c&&o==null){var d;return b_(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?SY(r,e,c):i==="expand"?IY:s}},yS=pe([mr,$n,dS,px,Nm,ar,OY],vS),FL=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(mm(a));return o in Gd?o:"point"}}},id=pe([mr,$n,CL,Jk,ar],FL);function _Y(e){if(e!=null){if(e in Gd)return Gd[e]();var t="scale".concat(mm(e));if(t in Gd)return Gd[t]()}}function bS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=_Y(t);if(i!=null){var a=i.domain(n).range(r);return UW(a),a}}}var wS=(e,t,n)=>{var r=mS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&vl(e))return ZG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&vl(e))return JG(e,t.tickCount,t.allowDecimals)}},kS=pe([yS,jm,id],wS),SS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&vl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},LY=pe([mr,yS,kS,ar],SS),$Y=pe(px,mr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(No(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/s}}),RL=pe($Y,$n,eY,Qr,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!_r(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=pa(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),FY=(e,t,n)=>{var r=Eo(e,t);return r==null||typeof r.padding!="string"?0:RL(e,"xAxis",t,n,r.padding)},RY=(e,t,n)=>{var r=Do(e,t);return r==null||typeof r.padding!="string"?0:RL(e,"yAxis",t,n,r.padding)},BY=pe(Eo,FY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),zY=pe(Do,RY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),UY=pe([Qr,BY,X0,Y0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),VY=pe([Qr,$n,zY,X0,Y0,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Tm=(e,t,n,r)=>{var i;switch(t){case"xAxis":return UY(e,n,r);case"yAxis":return VY(e,n,r);case"zAxis":return(i=sS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return vL(e);case"radiusAxis":return yL(e,n);default:return}},BL=pe([mr,Tm],dx),xx=pe([mr,id,LY,BL],bS);pe([Am,gx,ar],bY);function zL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var vx=(e,t)=>t,yx=(e,t,n)=>n,WY=pe(K0,vx,yx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zL)),HY=pe(G0,vx,yx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zL)),UL=(e,t)=>({width:e.width,height:t.height}),qY=(e,t)=>{var n=typeof t.width=="number"?t.width:xm;return{width:n,height:e.height}},KY=pe(Qr,Eo,UL),GY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},YY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},XY=pe(Po,Qr,WY,vx,yx,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=UL(t,o);s==null&&(s=GY(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),QY=pe(Ao,Qr,HY,vx,yx,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=qY(t,o);s==null&&(s=YY(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),ZY=(e,t)=>{var n=Eo(e,t);if(n!=null)return XY(e,n.orientation,n.mirror)},JY=pe([Qr,Eo,ZY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),eX=(e,t)=>{var n=Do(e,t);if(n!=null)return QY(e,n.orientation,n.mirror)},tX=pe([Qr,Do,eX,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),nX=pe(Qr,Do,(e,t)=>{var n=typeof t.width=="number"?t.width:xm;return{width:n,height:e.height}}),VL=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Cl(e,r),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&CI(l))return l}},NS=pe([$n,px,mr,ar],VL),WL=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Cl(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},CS=pe([$n,px,jm,ar],WL),KA=pe([$n,dY,id,xx,NS,CS,Tm,kS,ar],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var c=Cl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),rX=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var c=Cl(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?vi(a[0]-a[1])*2*p:p;var g=f||i;if(g){var y=g.map((x,w)=>{var b=s?s.indexOf(x):x;return{index:w,coordinate:r(b)+p,value:x,offset:p}});return y.filter(x=>_r(x.coordinate))}return c&&o?o.map((x,w)=>({coordinate:r(x)+p,value:x,index:w,offset:p})).filter(x=>_r(x.coordinate)):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,w)=>({coordinate:r(x)+p,value:s?s[x]:x,index:w,offset:p}))}},HL=pe([$n,jm,id,xx,kS,Tm,NS,CS,ar],rX),iX=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=Cl(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?vi(r[0]-r[1])*2*c:c,o&&a?a.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},qL=pe([$n,jm,xx,Tm,NS,CS,ar],iX),KL=pe(mr,xx,(e,t)=>{if(!(e==null||t==null))return _g(_g({},e),{},{scale:t})}),aX=pe([mr,id,yS,BL],bS);pe((e,t,n)=>sS(e,n),aX,(e,t)=>{if(!(e==null||t==null))return _g(_g({},e),{},{scale:t})});var sX=pe([$n,K0,G0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),GL=e=>e.options.defaultTooltipEventType,YL=e=>e.options.validateTooltipEventTypes;function XL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function jS(e,t){var n=GL(e),r=YL(e);return XL(t,n,r)}function oX(e){return At(t=>jS(t,e))}var QL=(e,t)=>{var n,r=Number(t);if(!(Rs(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},lX=e=>e.tooltip.settings,el={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cX={itemInteraction:{click:el,hover:el},axisInteraction:{click:el,hover:el},keyboardInteraction:el,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ZL=Ji({name:"tooltip",initialState:cX,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:nr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=os(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:nr()},removeTooltipEntrySettings:{reducer(e,t){var n=os(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:nr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:uX,replaceTooltipEntrySettings:dX,removeTooltipEntrySettings:fX,setTooltipSettingsState:mX,setActiveMouseOverItemIndex:JL,mouseLeaveItem:hX,mouseLeaveChart:e3,setActiveClickItemIndex:pX,setMouseOverAxisIndex:t3,setMouseClickAxisIndex:gX,setSyncInteraction:tw,setKeyboardInteraction:nw}=ZL.actions,xX=ZL.reducer;function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){vX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vX(e,t,n){return(t=yX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wX(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function kX(e){return e.index!=null}var n3=(e,t,n,r)=>{if(t==null)return el;var i=wX(e,t,n);if(i==null)return el;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(kX(i)){if(a)return Vh(Vh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Vh(Vh({},el),{},{coordinate:i.coordinate})};function SX(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function NX(e,t){var n=SX(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function CX(e,t,n){if(n==null||t==null)return!0;var r=Zn(e,t);return r==null||!vl(n)?!0:NX(r,n)}var AS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!_r(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||CX(c,n,r)?String(l):null},r3=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},i3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Em=e=>e.options.tooltipPayloadSearcher,ad=e=>e.tooltip;function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){jX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jX(e,t,n){return(t=AX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AX(e){var t=PX(e,"string");return typeof t=="symbol"?t:t+""}function PX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TX(e,t){return e??t}var a3=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:y}=m,x=TX(g,o),w=Array.isArray(x)?_5(x,c,d):x,b=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,N=y==null?void 0:y.nameKey,C;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?C=jI(w,r,i):C=a(w,t,l,N),Array.isArray(C))C.forEach(j=>{var O=XA(XA({},y),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(lj({tooltipEntrySettings:O,dataKey:j.dataKey,payload:j.payload,value:Zn(j.payload,j.dataKey),name:j.name}))});else{var S;h.push(lj({tooltipEntrySettings:y,dataKey:b,payload:C,value:Zn(C,b),name:(S=Zn(C,N))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return h},f)}},PS=pe([Hr,$n,CL,Jk,Wr],FL),EX=pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),DX=pe([Wr,nd],oS),sd=pe([EX,Hr,DX],lS,{memoizeOptions:{resultEqualityCheck:hx}}),MX=pe([sd],e=>e.filter(aS)),OX=pe([sd],cS,{memoizeOptions:{resultEqualityCheck:hx}}),od=pe([OX,Pl],uS),IX=pe([MX,Pl,Hr],kL),TS=pe([od,Hr,sd],fS),s3=pe([Hr],mS),_X=pe([Hr],e=>e.allowDataOverflow),o3=pe([s3,_X],eL),LX=pe([sd],e=>e.filter(aS)),$X=pe([IX,LX,Nm,hL],EL),FX=pe([$X,Pl,Wr,o3],DL),RX=pe([sd],PL),BX=pe([od,Hr,RX,gx,Wr],gS,{memoizeOptions:{resultEqualityCheck:mx}}),zX=pe([ML,Wr,nd],rd),UX=pe([zX,Wr],_L),VX=pe([OL,Wr,nd],rd),WX=pe([VX,Wr],LL),HX=pe([IL,Wr,nd],rd),qX=pe([HX,Wr],$L),KX=pe([UX,qX,WX],Lg),GX=pe([Hr,s3,o3,FX,BX,KX,$n,Wr],xS),Dm=pe([Hr,$n,od,TS,Nm,Wr,GX],vS),YX=pe([Dm,Hr,PS],wS),XX=pe([Hr,Dm,YX,Wr],SS),l3=e=>{var t=Wr(e),n=nd(e),r=!1;return Tm(e,t,n,r)},c3=pe([Hr,l3],dx),u3=pe([Hr,PS,XX,c3],bS),QX=pe([$n,TS,Hr,Wr],VL),ZX=pe([$n,TS,Hr,Wr],WL),JX=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=Cl(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?vi(i[0]-i[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},Mo=pe([$n,Hr,PS,u3,l3,QX,ZX,Wr],JX),ES=pe([GL,YL,lX],(e,t,n)=>XL(n.shared,e,t)),d3=e=>e.tooltip.settings.trigger,DS=e=>e.tooltip.settings.defaultIndex,Mm=pe([ad,ES,d3,DS],n3),Wu=pe([Mm,od,Pm,Dm],AS),f3=pe([Mo,Wu],QL),m3=pe([Mm],e=>{if(e)return e.dataKey}),eQ=pe([Mm],e=>{if(e)return e.graphicalItemId}),h3=pe([ad,ES,d3,DS],i3),tQ=pe([Ao,Po,$n,Qr,Mo,DS,h3,Em],r3),nQ=pe([Mm,tQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rQ=pe([Mm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),iQ=pe([h3,Wu,Pl,Pm,f3,Em,ES],a3),aQ=pe([iQ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){sQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sQ(e,t,n){return(t=oQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oQ(e){var t=lQ(e,"string");return typeof t=="symbol"?t:t+""}function lQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cQ=()=>At(Hr),uQ=()=>{var e=cQ(),t=At(Mo),n=At(u3);return hg(!e||!n?void 0:ZA(ZA({},e),{},{scale:n}),t)};function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(r){dQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dQ(e,t,n){return(t=fQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fQ(e){var t=mQ(e,"string");return typeof t=="symbol"?t:t+""}function mQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hQ=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},pQ=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Gc(Gc(Gc({},r),Or(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Gc(Gc(Gc({},r),Or(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function gQ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var p3=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,g=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||g==null))if(vi(p-m)!==vi(g-p)){var x=[];if(vi(g-p)===vi(i[1]-i[0])){y=g;var w=p+i[1]-i[0];x[0]=Math.min(w,(w+m)/2),x[1]=Math.max(w,(w+m)/2)}else{y=m;var b=g+i[1]-i[0];x[0]=Math.min(p,(b+p)/2),x[1]=Math.max(p,(b+p)/2)}var N=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>N[0]&&e<=N[1]||e>=x[0]&&e<=x[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var S=Math.min(m,g),j=Math.max(m,g);if(e>(S+p)/2&&e<=(j+p)/2){var O;return(O=n[o])===null||O===void 0?void 0:O.index}}}else if(t)for(var F=0;F<s;F++){var T=t[F];if(T!=null){var I=t[F+1],M=t[F-1];if(F===0&&I!=null&&e<=(T.coordinate+I.coordinate)/2||F===s-1&&M!=null&&e>(T.coordinate+M.coordinate)/2||F>0&&F<s-1&&M!=null&&I!=null&&e>(T.coordinate+M.coordinate)/2&&e<=(T.coordinate+I.coordinate)/2)return T.index}}return-1},xQ=()=>At(Jk),MS=(e,t)=>t,g3=(e,t,n)=>n,OS=(e,t,n,r)=>r,vQ=pe(Mo,e=>L0(e,t=>t.coordinate)),IS=pe([ad,MS,g3,OS],n3),_S=pe([IS,od,Pm,Dm],AS),yQ=(e,t,n)=>{if(t!=null){var r=ad(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},x3=pe([ad,MS,g3,OS],i3),$g=pe([Ao,Po,$n,Qr,Mo,OS,x3,Em],r3),bQ=pe([IS,$g],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),v3=pe([Mo,_S],QL),wQ=pe([x3,_S,Pl,Pm,v3,Em,MS],a3),kQ=pe([IS,_S],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),SQ=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&gQ(e,s)){var o=XW(e,t),l=p3(o,a,i,n,r),c=hQ(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},NQ=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=cq(e,n);if(o){var l=QW(o,t),c=p3(l,s,a,r,i),d=pQ(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},CQ=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?SQ(e,t,r,i,a,s,o):NQ(e,t,n,r,i,a,s)},jQ=pe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),AQ=pe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(oi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:sY}});function eP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(n),!0).forEach(function(r){PQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PQ(e,t,n){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DQ={},MQ={zIndexMap:Object.values(oi).reduce((e,t)=>tP(tP({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),DQ)},OQ=new Set(Object.values(oi));function IQ(e){return OQ.has(e)}var y3=Ji({name:"zIndex",initialState:MQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:nr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!IQ(n)&&delete e.zIndexMap[n])},prepare:nr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:nr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:nr()}}}),{registerZIndexPortal:_Q,unregisterZIndexPortal:LQ,registerZIndexPortalElement:$Q,unregisterZIndexPortalElement:FQ}=y3.actions,RQ=y3.reducer;function xs(e){var{zIndex:t,children:n}=e,r=NH(),i=r&&t!==void 0&&t!==0,a=ea(),s=Hn();v.useLayoutEffect(()=>i?(s(_Q({zIndex:t})),()=>{s(LQ({zIndex:t}))}):hm,[s,t,i]);var o=At(l=>jQ(l,t,a));return i?o?Zu.createPortal(n,o):null:n}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rw.apply(null,arguments)}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(r){BQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BQ(e,t,n){return(t=zQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zQ(e){var t=UQ(e,"string");return typeof t=="symbol"?t:t+""}function UQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function WQ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,g,y;if(d==="ScatterChart")p=f,g=S7,y=oi.cursorLine;else if(d==="BarChart")p=N7(o,f,a,s),g=f_,y=oi.cursorRectangle;else if(o==="radial"&&PI(f)){var{cx:x,cy:w,radius:b,startAngle:N,endAngle:C}=h_(f);p={cx:x,cy:w,startAngle:N,endAngle:C,innerRadius:b,outerRadius:b},g=g_,y=oi.cursorLine}else p={points:mq(o,f,a)},g=Ck,y=oi.cursorLine;var S=typeof l=="object"&&"className"in l?l.className:void 0,j=Wh(Wh(Wh(Wh({stroke:"#ccc",pointerEvents:"none"},a),p),Lu(l)),{},{payload:h,payloadIndex:m,className:Pn("recharts-tooltip-cursor",S)});return v.createElement(xs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},v.createElement(VQ,{cursor:l,cursorComp:g,cursorProps:j}))}function HQ(e){var t=uQ(),n=Y5(),r=vm(),i=xQ();return t==null||n==null||r==null||i==null?null:v.createElement(WQ,rw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var b3=v.createContext(null),qQ=()=>v.useContext(b3),w3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,p){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var N=y.length,C;for(b=0;b<N;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!w)for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];y[b].fn.apply(y[b].context,w)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,y=[],x=p.length;g<x;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(w3);var KQ=w3.exports;const GQ=ps(KQ);var Xf=new GQ,iw="recharts.syncEvent.tooltip",rP="recharts.syncEvent.brush";function k3(e,t){if(t){var n=Number.parseInt(t,10);if(!Rs(n))return e==null?void 0:e[n]}}var YQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},S3=Ji({name:"options",initialState:YQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),XQ=S3.reducer,{createEventEmitter:QQ}=S3.actions;function ZQ(e){return e.tooltip.syncInteraction}var JQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},N3=Ji({name:"chartData",initialState:JQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:iP,setDataStartEndIndexes:eZ,setComputedData:Xge}=N3.actions,tZ=N3.reducer,nZ=["x","y"];function aP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(n),!0).forEach(function(r){rZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rZ(e,t,n){return(t=iZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iZ(e){var t=aZ(e,"string");return typeof t=="symbol"?t:t+""}function aZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sZ(e,t){if(e==null)return{};var n,r,i=oZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lZ(){var e=At(eS),t=At(tS),n=Hn(),r=At(pL),i=At(Mo),a=vm(),s=Q0(),o=At(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return hm;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,y=sZ(m,nZ),{x,y:w,width:b,height:N}=d.payload.sourceViewBox,C=Yc(Yc({},y),{},{x:s.x+(b?(p-x)/b:0)*s.width,y:s.y+(N?(g-w)/N:0)*s.height});n(Yc(Yc({},d),{},{payload:Yc(Yc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var S;if(typeof r=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=r(i,j);S=i[O]}else r==="value"&&(S=i.find(fe=>String(fe.value)===d.payload.label));var{coordinate:F}=d.payload;if(S==null||d.payload.active===!1||F==null||s==null){n(tw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:I}=F,M=Math.min(T,s.x+s.width),G=Math.min(I,s.y+s.height),Z={x:a==="horizontal"?S.coordinate:M,y:a==="horizontal"?G:S.coordinate},se=tw({active:d.payload.active,coordinate:Z,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(se)}}};return Xf.on(iw,l),()=>{Xf.off(iw,l)}},[o,n,t,e,r,i,a,s])}function cZ(){var e=At(eS),t=At(tS),n=Hn();v.useEffect(()=>{if(e==null)return hm;var r=(i,a,s)=>{t!==s&&e===i&&n(eZ(a))};return Xf.on(rP,r),()=>{Xf.off(rP,r)}},[n,t,e])}function uZ(){var e=Hn();v.useEffect(()=>{e(QQ())},[e]),lZ(),cZ()}function dZ(e,t,n,r,i,a){var s=At(m=>yQ(m,e,t)),o=At(tS),l=At(eS),c=At(pL),d=At(ZQ),f=d==null?void 0:d.active,h=Q0();v.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=tw({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Xf.emit(iw,l,m,o)}},[f,n,s,i,r,o,l,c,a,h])}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(r){fZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fZ(e,t,n){return(t=mZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mZ(e){var t=hZ(e,"string");return typeof t=="symbol"?t:t+""}function hZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pZ(e){return e.dataKey}function gZ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(n7,t)}var lP=[],xZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kc(e){var t,n,r=Ur(e,xZ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:y,cursor:x,shared:w,trigger:b,defaultIndex:N,portal:C,axisId:S}=r,j=Hn(),O=typeof N=="number"?String(N):N;v.useEffect(()=>{j(mX({shared:w,trigger:b,axisId:S,active:i,defaultIndex:O}))},[j,w,b,S,i,O]);var F=Q0(),T=o_(),I=oX(w),{activeIndex:M,isActive:G}=(t=At(te=>kQ(te,I,b,O)))!==null&&t!==void 0?t:{},Z=At(te=>wQ(te,I,b,O)),se=At(te=>v3(te,I,b,O)),fe=At(te=>bQ(te,I,b,O)),J=Z,K=qQ(),le=(n=i??G)!==null&&n!==void 0?n:!1,[D,A]=a5([J,le]),ae=I==="axis"?se:void 0;dZ(I,b,fe,ae,M,le);var k=C??K;if(k==null||F==null||I==null)return null;var U=J??lP;le||(U=lP),c&&U.length&&(U=KI(U.filter(te=>te.value!=null&&(te.hide!==!0||r.includeHidden)),h,pZ));var W=U.length>0,ee=v.createElement(c7,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:le,coordinate:fe,hasPayload:W,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:F,wrapperStyle:y,lastBoundingBox:D,innerRef:A,hasPortalFromProps:!!C},gZ(l,oP(oP({},r),{},{payload:U,label:ae,active:le,activeIndex:M,coordinate:fe,accessibilityLayer:T})));return v.createElement(v.Fragment,null,Zu.createPortal(ee,k),le&&v.createElement(HQ,{cursor:x,tooltipEventType:I,coordinate:fe,payload:U,index:M}))}var Hu=e=>null;Hu.displayName="Cell";function vZ(e,t,n){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yZ(e){var t=bZ(e,"string");return typeof t=="symbol"?t:t+""}function bZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wZ{constructor(t){vZ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(r){SZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SZ(e,t,n){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NZ(e){var t=CZ(e,"string");return typeof t=="symbol"?t:t+""}function CZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jZ={cacheSize:2e3,enableCache:!0},C3=kZ({},jZ),uP=new wZ(C3.cacheSize),AZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dP="recharts_measurement_span";function PZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var fP=(e,t)=>{try{var n=document.getElementById(dP);n||(n=document.createElement("span"),n.setAttribute("id",dP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,AZ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},of=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nx.isSsr)return{width:0,height:0};if(!C3.enableCache)return fP(t,n);var r=PZ(t,n),i=uP.get(r);if(i)return i;var a=fP(t,n);return uP.set(r,a),a},j3;function TZ(e,t,n){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_Z=["cm","mm","pt","pc","in","Q","px"];function LZ(e){return _Z.includes(e)}var mu="NaN";function $Z(e,t){return e*IZ[t]}class si{static parse(t){var n,[,r,i]=(n=OZ.exec(t))!==null&&n!==void 0?n:[];return r==null?si.NaN:new si(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Rs(t)&&(this.unit=""),n!==""&&!MZ.test(n)&&(this.num=NaN,this.unit=""),LZ(n)&&(this.num=$Z(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new si(NaN,""):new si(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new si(NaN,""):new si(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new si(NaN,""):new si(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new si(NaN,""):new si(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Rs(this.num)}}j3=si;TZ(si,"NaN",new j3(NaN,""));function A3(e){if(e==null||e.includes(mu))return mu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=mP.exec(t))!==null&&n!==void 0?n:[],s=si.parse(r??""),o=si.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return mu;t=t.replace(mP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=hP.exec(t))!==null&&c!==void 0?c:[],m=si.parse(d??""),p=si.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return mu;t=t.replace(hP,g.toString())}return t}var pP=/\(([^()]*)\)/;function FZ(e){for(var t=e,n;(n=pP.exec(t))!=null;){var[,r]=n;t=t.replace(pP,A3(r))}return t}function RZ(e){var t=e.replace(/\s+/g,"");return t=FZ(t),t=A3(t),t}function BZ(e){try{return RZ(e)}catch{return mu}}function _v(e){var t=BZ(e.slice(5,-1));return t===mu?"":t}var zZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],UZ=["dx","dy","angle","className","breakAll"];function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aw.apply(null,arguments)}function gP(e,t){if(e==null)return{};var n,r,i=VZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var P3=/[ \f\n\r\t\v\u2028\u2029]+/,T3=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];zr(t)||(n?i=t.toString().split(""):i=t.toString().split(P3));var a=i.map(o=>({word:o,width:of(o,r).width})),s=n?0:of("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function WZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var E3=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),D3=e=>e.reduce((t,n)=>t.width>n.width?t:n),HZ="",xP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),c=T3({breakAll:n,style:r,children:l+HZ});if(!c)return[!1,[]];var d=E3(c.wordsWithComputedWidth,a,s,o),f=d.length>i||D3(d).width>Number(a);return[f,d]},qZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=Tt(a),d=String(s),f=E3(t,r,n,i);if(!c||i)return f;var h=f.length>a||D3(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,g=0,y;m<=p&&g<=d.length-1;){var x=Math.floor((m+p)/2),w=x-1,[b,N]=xP(d,w,l,o,a,r,n,i),[C]=xP(d,x,l,o,a,r,n,i);if(!b&&!C&&(m=x+1),b&&C&&(p=x-1),!b&&C){y=N;break}g++}return y||f},vP=e=>{var t=zr(e)?[]:e.toString().split(P3);return[{words:t,width:void 0}]},KZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!nx.isSsr){var o,l,c=T3({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return vP(r);return qZ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return vP(r)},M3="#808080",GZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:M3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},bx=v.forwardRef((e,t)=>{var n=Ur(e,GZ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=gP(n,zZ),h=v.useMemo(()=>KZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:g,className:y,breakAll:x}=f,w=gP(f,UZ);if(!Bs(r)||!Bs(i)||h.length===0)return null;var b=Number(r)+(Tt(m)?m:0),N=Number(i)+(Tt(p)?p:0);if(!_r(b)||!_r(N))return null;var C;switch(d){case"start":C=_v("calc(".concat(s,")"));break;case"middle":C=_v("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=_v("calc(".concat(h.length-1," * -").concat(a,")"));break}var S=[];if(l){var j=h[0].width,{width:O}=f;S.push("scale(".concat(Tt(O)&&Tt(j)?O/j:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(b,", ").concat(N,")")),S.length&&(w.transform=S.join(" ")),v.createElement("text",aw({},Di(w),{ref:t,x:b,y:N,className:Pn("recharts-text",y),textAnchor:c,fill:o.includes("url")?M3:o}),h.map((F,T)=>{var I=F.words.join(x?"":" ");return v.createElement("tspan",{x:b,dy:T===0?C:a,key:"".concat(I,"-").concat(T)},I)}))});bx.displayName="Text";var YZ=["labelRef"],XZ=["content"];function yP(e,t){if(e==null)return{};var n,r,i=QZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){ZZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZZ(e,t,n){return(t=JZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JZ(e){var t=eJ(e,"string");return typeof t=="symbol"?t:t+""}function eJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},no.apply(null,arguments)}var O3=v.createContext(null),tJ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return v.createElement(O3.Provider,{value:l},o)},I3=()=>{var e=v.useContext(O3),t=Q0();return e||G5(t)},nJ=v.createContext(null),rJ=()=>{var e=v.useContext(nJ),t=At(bL);return e||t},iJ=e=>{var{value:t,formatter:n}=e,r=zr(e.children)?t:e.children;return typeof n=="function"?n(r):r},LS=e=>e!=null&&typeof e=="function",aJ=(e,t)=>{var n=vi(t-e),r=Math.min(Math.abs(t-e),360);return n*r},sJ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(c+d)/2,g=aJ(f,h),y=g>=0?1:-1,x,w;switch(t){case"insideStart":x=f+y*a,w=m;break;case"insideEnd":x=h-y*a,w=!m;break;case"end":x=h+y*a,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=g<=0?w:!w;var b=Or(o,l,p,x),N=Or(o,l,p,x+(w?1:-1)*359),C="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),S=zr(e.id)?$f("recharts-radial-line-"):e.id;return v.createElement("text",no({},r,{dominantBaseline:"central",className:Pn("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:S,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(S)},n))},oJ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Or(r,i,s+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Or(r,i,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},sw=e=>"cx"in e&&Tt(e.cx),lJ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!sw(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=s,h=s+(l-c)/2,m=(f+h)/2,p=(l+c)/2,g=f+l/2,y=d>=0?1:-1,x=y*r,w=y>0?"end":"start",b=y>0?"start":"end",N=l>=0?1:-1,C=N*r,S=N>0?"end":"start",j=N>0?"start":"end";if(i==="top"){var O={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:w};return Sr(Sr({},O),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var F={x:h+c/2,y:o+d+x,textAnchor:"middle",verticalAnchor:b};return Sr(Sr({},F),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var T={x:m-C,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return Sr(Sr({},T),a?{width:Math.max(T.x-a.x,0),height:d}:{})}if(i==="right"){var I={x:m+p+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return Sr(Sr({},I),a?{width:Math.max(a.x+a.width-I.x,0),height:d}:{})}var M=a?{width:p,height:d}:{};return i==="insideLeft"?Sr({x:m+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},M):i==="insideRight"?Sr({x:m+p-C,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},M):i==="insideTop"?Sr({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:b},M):i==="insideBottom"?Sr({x:h+c/2,y:o+d-x,textAnchor:"middle",verticalAnchor:w},M):i==="insideTopLeft"?Sr({x:f+C,y:o+x,textAnchor:j,verticalAnchor:b},M):i==="insideTopRight"?Sr({x:f+l-C,y:o+x,textAnchor:S,verticalAnchor:b},M):i==="insideBottomLeft"?Sr({x:h+C,y:o+d-x,textAnchor:j,verticalAnchor:w},M):i==="insideBottomRight"?Sr({x:h+c-C,y:o+d-x,textAnchor:S,verticalAnchor:w},M):i&&typeof i=="object"&&(Tt(i.x)||yo(i.x))&&(Tt(i.y)||yo(i.y))?Sr({x:s+pa(i.x,p),y:o+pa(i.y,d),textAnchor:"end",verticalAnchor:"end"},M):Sr({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},cJ={angle:0,offset:5,zIndex:oi.label,position:"middle",textBreakAll:!1};function Xo(e){var t=Ur(e,cJ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,d=rJ(),f=I3(),h=r==="center"?f:d??f,m,p,g;if(n==null?m=h:sw(n)?m=n:m=G5(n),!m||zr(i)&&zr(a)&&!v.isValidElement(s)&&typeof s!="function")return null;var y=Sr(Sr({},t),{},{viewBox:m});if(v.isValidElement(s)){var{labelRef:x}=y,w=yP(y,YZ);return v.cloneElement(s,w)}if(typeof s=="function"){var{content:b}=y,N=yP(y,XZ);if(p=v.createElement(s,N),v.isValidElement(p))return p}else p=iJ(t);var C=Di(t);if(sw(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return sJ(t,r,p,C,m);g=oJ(m,t.offset,t.position)}else g=lJ(t,m);return v.createElement(xs,{zIndex:t.zIndex},v.createElement(bx,no({ref:c,className:Pn("recharts-label",o)},C,g,{textAnchor:WZ(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:l}),p))}Xo.displayName="Label";var uJ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Xo,no({key:"label-implicit"},r)):Bs(e)?v.createElement(Xo,no({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Xo?v.cloneElement(e,Sr({key:"label-implicit"},r)):v.createElement(Xo,no({key:"label-implicit",content:e},r)):LS(e)?v.createElement(Xo,no({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Xo,no({},e,{key:"label-implicit"},r)):null};function dJ(e){var{label:t,labelRef:n}=e,r=I3();return uJ(t,r,n)||null}var _3={},L3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(L3);var $3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})($3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L3,n=$3,r=O0;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(_3);var fJ=_3.last;const mJ=ps(fJ);var hJ=["valueAccessor"],pJ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fg.apply(null,arguments)}function wP(e,t){if(e==null)return{};var n,r,i=gJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xJ=e=>Array.isArray(e.value)?mJ(e.value):e.value,F3=v.createContext(void 0),vJ=F3.Provider,R3=v.createContext(void 0),yJ=R3.Provider;function bJ(){return v.useContext(F3)}function wJ(){return v.useContext(R3)}function vp(e){var{valueAccessor:t=xJ}=e,n=wP(e,hJ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=wP(n,pJ),c=bJ(),d=wJ(),f=c||d;return!f||!f.length?null:v.createElement(xs,{zIndex:o??oi.label},v.createElement(Xi,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=zr(r)?t(h,m):Zn(h&&h.payload,r),y=zr(a)?{}:{id:"".concat(a,"-").concat(m)};return v.createElement(Xo,Fg({key:"label-".concat(m)},Di(h),l,y,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}vp.displayName="LabelList";function B3(e){var{label:t}=e;return t?t===!0?v.createElement(vp,{key:"labelList-implicit"}):v.isValidElement(t)||LS(t)?v.createElement(vp,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(vp,Fg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ow.apply(null,arguments)}var z3=e=>{var{cx:t,cy:n,r,className:i}=e,a=Pn("recharts-dot",i);return Tt(t)&&Tt(n)&&Tt(r)?v.createElement("circle",ow({},Ba(e),tk(e),{className:a,cx:t,cy:n,r})):null},U3=e=>e.graphicalItems.polarItems,kJ=pe([ar,Cm],oS),wx=pe([U3,mr,kJ],lS),SJ=pe([wx],cS),kx=pe([SJ,Yk],uS),NJ=pe([kx,mr,wx],fS);pe([kx,mr,wx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=Zn(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Zn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var kP=()=>{},CJ=pe([kx,mr,wx,gx,ar],gS),jJ=pe([mr,hS,pS,kP,CJ,kP,$n,ar],xS),V3=pe([mr,$n,kx,NJ,Nm,ar,jJ],vS),AJ=pe([V3,mr,id],wS);pe([mr,V3,AJ,ar],SS);var PJ={radiusAxis:{},angleAxis:{}},W3=Ji({name:"polarAxis",initialState:PJ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Qge,removeRadiusAxis:Zge,addAngleAxis:Jge,removeAngleAxis:e0e}=W3.actions,TJ=W3.reducer;function SP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(n),!0).forEach(function(r){EJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EJ(e,t,n){return(t=DJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DJ(e){var t=MJ(e,"string");return typeof t=="symbol"?t:t+""}function MJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OJ=(e,t)=>t,$S=pe([U3,OJ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),IJ=[],FS=(e,t,n)=>(n==null?void 0:n.length)===0?IJ:n,H3=pe([Yk,$S,FS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>NP(NP({},t.presentationProps),a.props))),i!=null)return i}}),_J=pe([H3,$S,FS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=Zn(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:q0(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),LJ=pe([H3,$S,FS,Qr],(e,t,n,r)=>{if(!(t==null||e==null))return Yee({offset:r,pieSettings:t,displayedData:e,cells:n})}),q3={exports:{}},Bn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx=60103,Nx=60106,Om=60107,Im=60108,_m=60114,Lm=60109,$m=60110,Fm=60112,Rm=60113,RS=60120,Bm=60115,zm=60116,K3=60121,G3=60122,Y3=60117,X3=60129,Q3=60131;if(typeof Symbol=="function"&&Symbol.for){var ri=Symbol.for;Sx=ri("react.element"),Nx=ri("react.portal"),Om=ri("react.fragment"),Im=ri("react.strict_mode"),_m=ri("react.profiler"),Lm=ri("react.provider"),$m=ri("react.context"),Fm=ri("react.forward_ref"),Rm=ri("react.suspense"),RS=ri("react.suspense_list"),Bm=ri("react.memo"),zm=ri("react.lazy"),K3=ri("react.block"),G3=ri("react.server.block"),Y3=ri("react.fundamental"),X3=ri("react.debug_trace_mode"),Q3=ri("react.legacy_hidden")}function vs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Sx:switch(e=e.type,e){case Om:case _m:case Im:case Rm:case RS:return e;default:switch(e=e&&e.$$typeof,e){case $m:case Fm:case zm:case Bm:case Lm:return e;default:return t}}case Nx:return t}}}var $J=Lm,FJ=Sx,RJ=Fm,BJ=Om,zJ=zm,UJ=Bm,VJ=Nx,WJ=_m,HJ=Im,qJ=Rm;Bn.ContextConsumer=$m;Bn.ContextProvider=$J;Bn.Element=FJ;Bn.ForwardRef=RJ;Bn.Fragment=BJ;Bn.Lazy=zJ;Bn.Memo=UJ;Bn.Portal=VJ;Bn.Profiler=WJ;Bn.StrictMode=HJ;Bn.Suspense=qJ;Bn.isAsyncMode=function(){return!1};Bn.isConcurrentMode=function(){return!1};Bn.isContextConsumer=function(e){return vs(e)===$m};Bn.isContextProvider=function(e){return vs(e)===Lm};Bn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sx};Bn.isForwardRef=function(e){return vs(e)===Fm};Bn.isFragment=function(e){return vs(e)===Om};Bn.isLazy=function(e){return vs(e)===zm};Bn.isMemo=function(e){return vs(e)===Bm};Bn.isPortal=function(e){return vs(e)===Nx};Bn.isProfiler=function(e){return vs(e)===_m};Bn.isStrictMode=function(e){return vs(e)===Im};Bn.isSuspense=function(e){return vs(e)===Rm};Bn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Om||e===_m||e===X3||e===Im||e===Rm||e===RS||e===Q3||typeof e=="object"&&e!==null&&(e.$$typeof===zm||e.$$typeof===Bm||e.$$typeof===Lm||e.$$typeof===$m||e.$$typeof===Fm||e.$$typeof===Y3||e.$$typeof===K3||e[0]===G3)};Bn.typeOf=vs;q3.exports=Bn;var KJ=q3.exports,CP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",jP=null,Lv=null,Z3=e=>{if(e===jP&&Array.isArray(Lv))return Lv;var t=[];return v.Children.forEach(e,n=>{zr(n)||(KJ.isFragment(n)?t=t.concat(Z3(n.props.children)):t.push(n))}),Lv=t,jP=e,t};function J3(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>CP(i)):r=[CP(t)],Z3(e).forEach(i=>{var a=gc(i,"type.displayName")||gc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var e4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,t4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(t4);var GJ=t4.isPlainObject;const YJ=ps(GJ);var AP,PP,TP,EP,DP;function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(r){XJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XJ(e,t,n){return(t=QJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rg.apply(null,arguments)}function Ld(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var IP=(e,t,n,r,i)=>{var a=n-r,s;return s=xr(AP||(AP=Ld(["M ",",",""])),e,t),s+=xr(PP||(PP=Ld(["L ",",",""])),e+n,t),s+=xr(TP||(TP=Ld(["L ",",",""])),e+n-a/2,t+i),s+=xr(EP||(EP=Ld(["L ",",",""])),e+n-a/2-r,t+i),s+=xr(DP||(DP=Ld(["L ",","," Z"])),e,t),s},JJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eee=e=>{var t=Ur(e,JJ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=v.useRef(null),[m,p]=v.useState(-1),g=v.useRef(i),y=v.useRef(a),x=v.useRef(s),w=v.useRef(n),b=v.useRef(r),N=ix(e,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var Z=h.current.getTotalLength();Z&&p(Z)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=Pn("recharts-trapezoid",o);if(!f)return v.createElement("g",null,v.createElement("path",Rg({},Di(t),{className:C,d:IP(n,r,i,a,s)})));var S=g.current,j=y.current,O=x.current,F=w.current,T=b.current,I="0px ".concat(m===-1?1:m,"px"),M="".concat(m,"px 0px"),G=l_(["strokeDasharray"],c,l);return v.createElement(rx,{animationId:N,key:N,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},Z=>{var se=xi(S,i,Z),fe=xi(j,a,Z),J=xi(O,s,Z),K=xi(F,n,Z),le=xi(T,r,Z);h.current&&(g.current=se,y.current=fe,x.current=J,w.current=K,b.current=le);var D=Z>0?{transition:G,strokeDasharray:M}:{strokeDasharray:I};return v.createElement("path",Rg({},Di(t),{className:C,d:IP(K,le,se,fe,J),ref:h,style:OP(OP({},D),t.style)}))})},tee=["option","shapeType","activeClassName"];function nee(e,t){if(e==null)return{};var n,r,i=ree(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ree(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(r){iee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iee(e,t,n){return(t=aee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oee(e,t){return Bg(Bg({},t),e)}function lee(e,t){return e==="symbols"}function LP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(f_,n);case"trapezoid":return v.createElement(eee,n);case"sector":return v.createElement(g_,n);case"symbols":if(lee(t))return v.createElement(ek,n);break;case"curve":return v.createElement(Ck,n);default:return null}}function cee(e){return v.isValidElement(e)?e.props:e}function n4(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=nee(e,tee),a;if(v.isValidElement(t))a=v.cloneElement(t,Bg(Bg({},i),cee(t)));else if(typeof t=="function")a=t(i,i.index);else if(YJ(t)&&typeof t!="boolean"){var s=oee(t,i);a=v.createElement(LP,{shapeType:n,elementProps:s})}else{var o=i;a=v.createElement(LP,{shapeType:n,elementProps:o})}return i.isActive?v.createElement(Xi,{className:r},a):a}var uee=(e,t,n)=>{var r=Hn();return(i,a)=>s=>{e==null||e(i,a,s),r(JL({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},dee=e=>{var t=Hn();return(n,r)=>i=>{e==null||e(n,r,i),t(hX())}},fee=(e,t,n)=>{var r=Hn();return(i,a)=>s=>{e==null||e(i,a,s),r(pX({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function r4(e){var{tooltipEntrySettings:t}=e,n=Hn(),r=ea(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(uX(t)):i.current!==t&&n(dX({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(fX(i.current)),i.current=null)},[n]),null}function mee(e){var{legendPayload:t}=e,n=Hn(),r=ea(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(r_(t)):i.current!==t&&n(i_({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(a_(i.current)),i.current=null)},[n]),null}function hee(e){var{legendPayload:t}=e,n=Hn(),r=At($n),i=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(r_(t)):i.current!==t&&n(i_({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(a_(i.current)),i.current=null)},[n]),null}var $v,pee=()=>{var[e]=v.useState(()=>$f("uid-"));return e},gee=($v=CB.useId)!==null&&$v!==void 0?$v:pee;function xee(e,t){var n=gee();return t||(e?"".concat(e,"-").concat(n):n)}var vee=v.createContext(void 0),i4=e=>{var{id:t,type:n,children:r}=e,i=xee("recharts-".concat(n),t);return v.createElement(vee.Provider,{value:i},r(i))},yee={cartesianItems:[],polarItems:[]},a4=Ji({name:"graphicalItems",initialState:yee,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:nr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=os(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:nr()},removeCartesianGraphicalItem:{reducer(e,t){var n=os(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:nr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:nr()},removePolarGraphicalItem:{reducer(e,t){var n=os(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:nr()}}}),{addCartesianGraphicalItem:bee,replaceCartesianGraphicalItem:wee,removeCartesianGraphicalItem:kee,addPolarGraphicalItem:See,removePolarGraphicalItem:Nee}=a4.actions,Cee=a4.reducer,jee=e=>{var t=Hn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(bee(e)):n.current!==e&&t(wee({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(kee(n.current)),n.current=null)},[t]),null},Aee=v.memo(jee);function Pee(e){var t=Hn();return v.useLayoutEffect(()=>(t(See(e)),()=>{t(Nee(e))}),[t,e]),null}var Tee=["key"],Eee=["onMouseEnter","onClick","onMouseLeave"],Dee=["id"],Mee=["id"];function $P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(n),!0).forEach(function(r){Oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oee(e,t,n){return(t=Iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iee(e){var t=_ee(e,"string");return typeof t=="symbol"?t:t+""}function _ee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yl.apply(null,arguments)}function Cx(e,t){if(e==null)return{};var n,r,i=Lee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $ee(e){var t=v.useMemo(()=>J3(e.children,Hu),[e.children]),n=At(r=>_J(r,e.id,t));return n==null?null:v.createElement(hee,{legendPayload:n})}var Fee=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:q0(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:d}};return v.createElement(r4,{tooltipEntrySettings:f})}),Ree=(e,t)=>e>t?"start":e<t?"end":"middle",Bee=(e,t,n)=>pa(typeof t=="function"?t(e):t,n,n*.8),zee=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=m_(a,s),l=i+pa(e.cx,a,a/2),c=r+pa(e.cy,s,s/2),d=pa(e.innerRadius,o,0),f=Bee(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},Uee=(e,t)=>{var n=vi(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Vee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Wee=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Pn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=Cx(t,Tee);return v.createElement(Ck,yl({},i,{type:"linear",className:n}))},Hee=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var i=Pn("recharts-pie-label-text",Vee(e));return v.createElement(bx,yl({},t,{alignmentBaseline:"middle",className:i}),r)};function qee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=Ba(n),l=Lu(i),c=Lu(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Or(h.cx,h.cy,h.outerRadius+d,p),y=yr(yr(yr(yr({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:Ree(g.x,h.cx)},g),x=yr(yr(yr(yr({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[Or(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return v.createElement(xs,{zIndex:oi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},v.createElement(Xi,null,a&&Wee(a,x),Hee(i,y,Zn(h,s))))});return v.createElement(Xi,{className:"recharts-pie-labels"},f)}function Kee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?v.createElement(B3,{label:i}):v.createElement(qee,{sectors:t,props:n,showLabels:r})}function Gee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=At(Wu),l=At(m3),c=At(eQ),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=Cx(i,Eee),p=uee(d,i.dataKey,s),g=dee(h),y=fee(f,i.dataKey,s);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((x,w)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var b=c==null||c===s,N=String(w)===o&&(l==null||i.dataKey===l)&&b,C=o?r:null,S=n&&N?n:C,j=yr(yr({},x),{},{stroke:x.stroke,tabIndex:-1,[R5]:w,[B5]:s});return v.createElement(Xi,yl({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},nk(m,x,w),{onMouseEnter:p(x,w),onMouseLeave:g(x,w),onClick:y(x,w)}),v.createElement(n4,yl({option:a??S,index:w,shapeType:"sector",isActive:N},j)))}))}function Yee(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=Uee(o,l),p=Math.abs(m),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(S=>Zn(S,c,0)!==0).length,x=(p>=360?y:y-1)*g,w=p-y*h-x,b=r.reduce((S,j)=>{var O=Zn(j,c,0);return S+(Tt(O)?O:0)},0),N;if(b>0){var C;N=r.map((S,j)=>{var O=Zn(S,c,0),F=Zn(S,d,j),T=zee(n,a,S),I=(Tt(O)?O:0)/b,M,G=yr(yr({},S),i&&i[j]&&i[j].props);j?M=C.endAngle+vi(m)*g*(O!==0?1:0):M=o;var Z=M+vi(m)*((O!==0?h:0)+I*w),se=(M+Z)/2,fe=(T.innerRadius+T.outerRadius)/2,J=[{name:F,value:O,payload:G,dataKey:c,type:f,graphicalItemId:n.id}],K=Or(T.cx,T.cy,fe,se);return C=yr(yr(yr(yr({},n.presentationProps),{},{percent:I,cornerRadius:typeof s=="string"?parseFloat(s):s,name:F,tooltipPayload:J,midAngle:se,middleRadius:fe,tooltipPosition:K},G),T),{},{value:O,dataKey:c,startAngle:M,endAngle:Z,payload:G,paddingAngle:vi(m)*g}),C})}return N}function Xee(e){var{showLabels:t,sectors:n,children:r}=e,i=v.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return v.createElement(yJ,{value:t?i:void 0},r)}function Qee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=ix(t,"recharts-pie-"),p=n.current,[g,y]=v.useState(!1),x=v.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),w=v.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return v.createElement(Xee,{showLabels:!g,sectors:i},v.createElement(rx,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:x,key:m},b=>{var N=[],C=i&&i[0],S=C==null?void 0:C.startAngle;return i==null||i.forEach((j,O)=>{var F=p&&p[O],T=O>0?gc(j,"paddingAngle",0):0;if(F){var I=xi(F.endAngle-F.startAngle,j.endAngle-j.startAngle,b),M=yr(yr({},j),{},{startAngle:S+T,endAngle:S+I+T});N.push(M),S=M.endAngle}else{var{endAngle:G,startAngle:Z}=j,se=xi(0,G-Z,b),fe=yr(yr({},j),{},{startAngle:S+T,endAngle:S+se+T});N.push(fe),S=fe.endAngle}}),n.current=N,v.createElement(Xi,null,v.createElement(Gee,{sectors:N,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(Kee,{showLabels:!g,sectors:i,props:t}),t.children)}var Zee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:oi.area};function Jee(e){var{id:t}=e,n=Cx(e,Dee),{hide:r,className:i,rootTabIndex:a}=e,s=v.useMemo(()=>J3(e.children,Hu),[e.children]),o=At(d=>LJ(d,t,s)),l=v.useRef(null),c=Pn("recharts-pie",i);return r||o==null?(l.current=null,v.createElement(Xi,{tabIndex:a,className:c})):v.createElement(xs,{zIndex:e.zIndex},v.createElement(Fee,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(Xi,{tabIndex:a,className:c},v.createElement(Qee,{props:yr(yr({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function zg(e){var t=Ur(e,Zee),{id:n}=t,r=Cx(t,Mee),i=Ba(r);return v.createElement(i4,{id:n,type:"pie"},a=>v.createElement(v.Fragment,null,v.createElement(Pee,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),v.createElement($ee,yl({},r,{id:a})),v.createElement(Jee,yl({},r,{id:a}))))}zg.displayName="Pie";var ete=["points"];function FP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(n),!0).forEach(function(r){tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tte(e,t,n){return(t=nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nte(e){var t=rte(e,"string");return typeof t=="symbol"?t:t+""}function rte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ug.apply(null,arguments)}function ite(e,t){if(e==null)return{};var n,r,i=ate(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ate(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ste(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Pn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=ite(a,ete);return v.createElement(z3,Ug({},o,{className:i}))}function ote(e,t){return e==null?!1:t?!0:e.length===1}function lte(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=oi.scatter}=e;if(!ote(t,n))return null;var d=e4(n),f=B8(n),h=t.map((p,g)=>{var y,x,w=Fv(Fv(Fv({r:3},s),f),{},{index:g,cx:(y=p.x)!==null&&y!==void 0?y:void 0,cy:(x=p.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return v.createElement(ste,{key:"dot-".concat(g),option:n,dotProps:w,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(xs,{zIndex:c},v.createElement(Xi,Ug({className:r},m),h))}function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(r){cte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cte(e,t,n){return(t=ute(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ute(e){var t=dte(e,"string");return typeof t=="symbol"?t:t+""}function dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fte={xAxis:{},yAxis:{},zAxis:{}},s4=Ji({name:"cartesianAxis",initialState:fte,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:nr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:nr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:nr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:nr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:nr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:nr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:nr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:nr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:nr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=BP(BP({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:mte,replaceXAxis:hte,removeXAxis:pte,addYAxis:gte,replaceYAxis:xte,removeYAxis:vte,addZAxis:t0e,replaceZAxis:n0e,removeZAxis:r0e,updateYAxisWidth:yte}=s4.actions,bte=s4.reducer,wte=pe([Qr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),kte=pe([wte,Ao,Po],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),BS=()=>At(kte),Ste=()=>At(aQ);function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(r){Nte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nte(e,t,n){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=jte(e,"string");return typeof t=="symbol"?t:t+""}function jte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ate=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Rv(Rv(Rv({},o),Lu(i)),tk(i)),c;return v.isValidElement(i)?c=v.cloneElement(i,l):typeof i=="function"?c=i(l):c=v.createElement(z3,l),v.createElement(Xi,{className:"recharts-active-dot",clipPath:s},c)};function Pte(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=oi.activeDot}=e,o=At(Wu),l=Ste();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return zr(c)?null:v.createElement(xs,{zIndex:s},v.createElement(Ate,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var o4=e=>{var{chartData:t}=e,n=Hn(),r=ea();return v.useEffect(()=>r?()=>{}:(n(iP(t)),()=>{n(iP(void 0))}),[t,n,r]),null},UP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},l4=Ji({name:"brush",initialState:UP,reducers:{setBrushSettings(e,t){return t.payload==null?UP:t.payload}}}),{setBrushSettings:i0e}=l4.actions,Tte=l4.reducer;function Ete(e,t,n){return(t=Dte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dte(e){var t=Mte(e,"string");return typeof t=="symbol"?t:t+""}function Mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zS{static create(t){return new zS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Ete(zS,"EPS",1e-4);function Ote(e){return(e%180+180)%180}var Ite=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ote(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},_te={dots:[],areas:[],lines:[]},c4=Ji({name:"referenceElements",initialState:_te,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=os(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=os(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=os(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:a0e,removeDot:s0e,addArea:o0e,removeArea:l0e,addLine:c0e,removeLine:u0e}=c4.actions,Lte=c4.reducer,$te=v.createContext(void 0),Fte=e=>{var{children:t}=e,[n]=v.useState("".concat($f("recharts"),"-clip")),r=BS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return v.createElement($te.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function u4(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function Rte(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Ite(r,n)}function Bte(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Qf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function zte(e,t){return u4(e,t+1)}function Ute(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:u4(r,c)};var g=l,y,x=()=>(y===void 0&&(y=n(p,g)),y),w=p.coordinate,b=l===0||Qf(e,w,x,d,o);b||(l=0,d=s,c+=1),b&&(d=w+e*(x()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Vte(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var d=(s-1)%c,f=o,h=!0,m=function(){var w=r[p],b=p,N,C=()=>(N===void 0&&(N=n(w,b)),N),S=w.coordinate,j=p===d||Qf(e,S,C,f,l);if(!j)return h=!1,1;j&&(f=S+e*(C()/2+i))},p=d;p<s&&!m();p+=c);if(h){for(var g=[],y=d;y<s;y+=c)g.push(r[y]);return g}}return[]}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(r){Wte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wte(e,t,n){return(t=Hte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hte(e){var t=qte(e,"string");return typeof t=="symbol"?t:t+""}function qte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kte(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(h){var m=a[h],p,g=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var y=e*(m.coordinate+e*g()/2-l);a[h]=m=hi(hi({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=hi(hi({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=Qf(e,m.tickCoord,g,o,l);x&&(l=m.tickCoord-e*(g()/2+i),a[h]=hi(hi({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function Gte(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=hi(hi({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Qf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+i),s[o-1]=hi(hi({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,g=function(w){var b=s[w],N,C=()=>(N===void 0&&(N=n(b,w)),N);if(w===0){var S=e*(b.coordinate-e*C()/2-l);s[w]=b=hi(hi({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else s[w]=b=hi(hi({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=Qf(e,b.tickCoord,C,l,c);j&&(l=b.tickCoord+e*(C()/2+i),s[w]=hi(hi({},b),{},{isShow:!0}))}},y=0;y<p;y++)g(y);return s}function US(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Tt(l)||nx.isSsr){var h;return(h=zte(i,Tt(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?of(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(b,N)=>{var C=typeof c=="function"?c(b.value,N):b.value;return p==="width"?Rte(of(C,{fontSize:t,letterSpacing:n}),g,f):of(C,{fontSize:t,letterSpacing:n})[p]},x=i.length>=2?vi(i[1].coordinate-i[0].coordinate):1,w=Bte(a,x,p);return l==="equidistantPreserveStart"?Ute(x,w,y,i,s):l==="equidistantPreserveEnd"?Vte(x,w,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=Gte(x,w,y,i,s,l==="preserveStartEnd"):m=Kte(x,w,y,i,s),m.filter(b=>b.isShow))}var Yte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},Xte=["axisLine","width","height","className","hide","ticks","axisType"];function Qte(e,t){if(e==null)return{};var n,r,i=Zte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(null,arguments)}function WP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(n),!0).forEach(function(r){Jte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jte(e,t,n){return(t=ene(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ene(e){var t=tne(e,"string");return typeof t=="symbol"?t:t+""}function tne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:oi.axis};function nne(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Dr(Dr(Dr({},l),Ba(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=Dr(Dr({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=Dr(Dr({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return v.createElement("line",Sc({},c,{className:Pn("recharts-cartesian-axis-line",gc(o,"className"))}))}function rne(e,t,n,r,i,a,s,o,l){var c,d,f,h,m,p,g=o?-1:1,y=e.tickSize||s,x=Tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=n+ +!o*i,f=h-g*y,p=f-g*l,m=x;break;case"left":f=h=e.coordinate,d=t+ +!o*r,c=d-g*y,m=c-g*l,p=x;break;case"right":f=h=e.coordinate,d=t+ +o*r,c=d+g*y,m=c+g*l,p=x;break;default:c=d=e.coordinate,h=n+ +o*i,f=h+g*y,p=f+g*l,m=x;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function ine(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ane(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function sne(e){var{option:t,tickProps:n,value:r}=e,i,a=Pn(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,Dr(Dr({},n),{},{className:a}));else if(typeof t=="function")i=t(Dr(Dr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Pn(s,t==null?void 0:t.className)),i=v.createElement(bx,Sc({},n,{className:s}),r)}return i}var one=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:y,tickMargin:x,fontSize:w,letterSpacing:b,getTicksConfig:N,events:C,axisType:S}=e,j=US(Dr(Dr({},N),{},{ticks:n}),w,b),O=ine(d,f),F=ane(d,f),T=Ba(N),I=Lu(r),M={};typeof i=="object"&&(M=i);var G=Dr(Dr({},T),{},{fill:"none"},M),Z=j.map(J=>Dr({entry:J},rne(J,h,m,p,g,d,y,f,x))),se=Z.map(J=>{var{entry:K,line:le}=J;return v.createElement(Xi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},i&&v.createElement("line",Sc({},G,le,{className:Pn("recharts-cartesian-axis-tick-line",gc(i,"className"))})))}),fe=Z.map((J,K)=>{var{entry:le,tick:D}=J,A=Dr(Dr(Dr(Dr({textAnchor:O,verticalAnchor:F},T),{},{stroke:"none",fill:a},I),D),{},{index:K,payload:le,visibleTicksCount:j.length,tickFormatter:s,padding:l},c);return v.createElement(Xi,Sc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},nk(C,le,K)),r&&v.createElement(sne,{option:r,tickProps:A,value:"".concat(typeof s=="function"?s(le.value,K):le.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},fe.length>0&&v.createElement(xs,{zIndex:oi.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},fe)),se.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},se))}),lne=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=Qte(e,Xte),[d,f]=v.useState(""),[h,m]=v.useState(""),p=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return Yte({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=v.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=x;var w=x[0];if(w){var b=window.getComputedStyle(w),N=b.fontSize,C=b.letterSpacing;(N!==d||C!==h)&&(f(N),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(xs,{zIndex:e.zIndex},v.createElement(Xi,{className:Pn("recharts-cartesian-axis",a)},v.createElement(nne,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ba(e)}),v.createElement(one,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(tJ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(dJ,{label:e.label,labelRef:e.labelRef}),e.children)))}),VS=v.forwardRef((e,t)=>{var n=Ur(e,fo);return v.createElement(lne,Sc({},n,{ref:t}))});VS.displayName="CartesianAxis";var cne=["x1","y1","x2","y2","key"],une=["offset"],dne=["xAxisId","yAxisId"],fne=["xAxisId","yAxisId"];function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(n),!0).forEach(function(r){mne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mne(e,t,n){return(t=hne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hne(e){var t=pne(e,"string");return typeof t=="symbol"?t:t+""}function pne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl.apply(null,arguments)}function Vg(e,t){if(e==null)return{};var n,r,i=gne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return v.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function d4(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,d=Vg(n,cne),f=(i=Ba(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=Vg(f,une);r=v.createElement("line",Jl({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function vne(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Vg(e,dne),l=i.map((c,d)=>{var f=gi(gi({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return v.createElement(d4,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function yne(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Vg(e,fne),l=i.map((c,d)=>{var f=gi(gi({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return v.createElement(d4,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function bne(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function wne(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var kne=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return L5(US(gi(gi(gi({},fo),n),{},{ticks:$5(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Sne=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return L5(US(gi(gi(gi({},fo),n),{},{ticks:$5(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Nne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:oi.grid};function Zf(e){var t=wk(),n=kk(),r=Y5(),i=gi(gi({},Ur(e,Nne)),{},{x:Tt(e.x)?e.x:r.left,y:Tt(e.y)?e.y:r.top,width:Tt(e.width)?e.width:r.width,height:Tt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=ea(),g=At(F=>KA(F,"xAxis",a,p)),y=At(F=>KA(F,"yAxis",s,p));if(!zs(c)||!zs(d)||!Tt(o)||!Tt(l))return null;var x=i.verticalCoordinatesGenerator||kne,w=i.horizontalCoordinatesGenerator||Sne,{horizontalPoints:b,verticalPoints:N}=i;if((!b||!b.length)&&typeof w=="function"){var C=h&&h.length,S=w({yAxis:y?gi(gi({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);pg(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!N||!N.length)&&typeof x=="function"){var j=m&&m.length,O=x({xAxis:g?gi(gi({},g),{},{ticks:j?m:g.ticks}):void 0,width:t??c,height:n??d,offset:r},j?!0:f);pg(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(N=O)}return v.createElement(xs,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(xne,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(bne,Jl({},i,{horizontalPoints:b})),v.createElement(wne,Jl({},i,{verticalPoints:N})),v.createElement(vne,Jl({},i,{offset:r,horizontalPoints:b,xAxis:g,yAxis:y})),v.createElement(yne,Jl({},i,{offset:r,verticalPoints:N,xAxis:g,yAxis:y}))))}Zf.displayName="CartesianGrid";var Cne={},f4=Ji({name:"errorBars",initialState:Cne,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:d0e,replaceErrorBar:f0e,removeErrorBar:m0e}=f4.actions,jne=f4.reducer,Ane=["children"];function Pne(e,t){if(e==null)return{};var n,r,i=Tne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ene={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Dne=v.createContext(Ene);function Mne(e){var{children:t}=e,n=Pne(e,Ane);return v.createElement(Dne.Provider,{value:n},t)}function m4(e,t){var n,r,i=At(c=>Eo(c,e)),a=At(c=>Do(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:qr.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Kr.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function One(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=BS(),{needClipX:a,needClipY:s,needClip:o}=m4(t,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}var h4=(e,t,n,r)=>KL(e,"xAxis",t,r),p4=(e,t,n,r)=>qL(e,"xAxis",t,r),g4=(e,t,n,r)=>KL(e,"yAxis",n,r),x4=(e,t,n,r)=>qL(e,"yAxis",n,r),Ine=pe([$n,h4,g4,p4,x4],(e,t,n,r,i)=>Cl(e,"xAxis")?hg(t,r,!1):hg(n,i,!1)),_ne=(e,t,n,r,i)=>i;function Lne(e){return e.type==="line"}var $ne=pe([jL,_ne],(e,t)=>e.filter(Lne).find(n=>n.id===t)),Fne=pe([$n,h4,g4,p4,x4,$ne,Ine,Xk],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,d+1),m!=null)return Tre({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function Rne(e){var t=Lu(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var Bne={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=v;function zne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Une=typeof Object.is=="function"?Object.is:zne,Vne=Um.useSyncExternalStore,Wne=Um.useRef,Hne=Um.useEffect,qne=Um.useMemo,Kne=Um.useDebugValue;Bne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=Wne(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=qne(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,Une(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=Vne(e,a[0],a[1]);return Hne(function(){s.hasValue=!0,s.value=o},[o]),Kne(o),o};function Gne(e){e()}function Yne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Gne(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var qP={notify(){},get:()=>[]};function Xne(e,t){let n,r=qP,i=0,a=!1;function s(g){d();const y=r.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=Yne())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=qP)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var Qne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zne=Qne(),Jne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ere=Jne(),tre=()=>Zne||ere?v.useLayoutEffect:v.useEffect,nre=tre();function KP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function rre(e,t){if(KP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!KP(e[n[i]],t[n[i]]))return!1;return!0}var Bv=Symbol.for("react-redux-context"),zv=typeof globalThis<"u"?globalThis:{};function ire(){if(!v.createContext)return{};const e=zv[Bv]??(zv[Bv]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var are=ire();function sre(e){const{children:t,context:n,serverState:r,store:i}=e,a=v.useMemo(()=>{const l=Xne(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=v.useMemo(()=>i.getState(),[i]);nre(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||are;return v.createElement(o.Provider,{value:a},t)}var ore=sre,lre=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function cre(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function WS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(lre.has(r)){if(e[r]==null&&t[r]==null)continue;if(!rre(e[r],t[r]))return!1}else if(!cre(e[r],t[r]))return!1;return!0}var ure=["id"],dre=["type","layout","connectNulls","needClip","shape"],fre=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jf.apply(null,arguments)}function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(r){mre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mre(e,t,n){return(t=hre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hre(e){var t=pre(e,"string");return typeof t=="symbol"?t:t+""}function pre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HS(e,t){if(e==null)return{};var n,r,i=gre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xre=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:q0(n,t),payload:e}]},vre=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:q0(s,t),hide:o,type:c,color:r,unit:l,graphicalItemId:d}};return v.createElement(r4,{tooltipEntrySettings:f})}),v4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function yre(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var bre=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return v4(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[...yre(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function wre(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=HS(r,ure),c=Ba(l);return v.createElement(lte,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function kre(e){var{showLabels:t,children:n,points:r}=e,i=v.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ms(Ms({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(vJ,{value:t?i:void 0},n)}function YP(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,f=HS(a,dre),h=Ms(Ms({},Di(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(n4,Jf({shapeType:"curve",option:d},h,{pathRef:n})),v.createElement(wre,{points:r,clipPathId:t,props:a}))}function Sre(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Nre(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:y}=n,x=i.current,w=ix(s,"recharts-line-"),b=v.useRef(w),[N,C]=v.useState(!1),S=!N,j=v.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),O=v.useCallback(()=>{typeof y=="function"&&y(),C(!0)},[y]),F=Sre(r.current),T=v.useRef(0);b.current!==w&&(T.current=a.current,b.current=w);var I=T.current;return v.createElement(kre,{points:s,showLabels:S},n.children,v.createElement(rx,{animationId:w,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:O,key:w},M=>{var G=xi(I,F+I,M),Z=Math.min(G,F),se;if(l)if(o){var fe="".concat(o).split(/[,\s]+/gim).map(le=>parseFloat(le));se=bre(Z,F,fe)}else se=v4(F,Z);else se=o==null?void 0:String(o);if(M>0&&F>0&&(i.current=s,a.current=Math.max(a.current,Z)),x){var J=x.length/s.length,K=M===1?s:s.map((le,D)=>{var A=Math.floor(D*J);if(x[A]){var ae=x[A];return Ms(Ms({},le),{},{x:xi(ae.x,le.x,M),y:xi(ae.y,le.y,M)})}return h?Ms(Ms({},le),{},{x:xi(m*2,le.x,M),y:xi(p/2,le.y,M)}):Ms(Ms({},le),{},{x:le.x,y:le.y})});return i.current=K,v.createElement(YP,{props:n,points:K,clipPathId:t,pathRef:r,strokeDasharray:se})}return v.createElement(YP,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:se})}),v.createElement(B3,{label:n.label}))}function Cre(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),i=v.useRef(0),a=v.useRef(null);return v.createElement(Nre,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var jre=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Zn(e.payload,t)}};class Are extends v.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Pn("recharts-line",i),g=f,{r:y,strokeWidth:x}=Rne(n),w=e4(n),b=y*2+x,N=h?"url(#clipPath-".concat(w?"":"dots-").concat(g,")"):void 0;return v.createElement(xs,{zIndex:m},v.createElement(Xi,{className:p},h&&v.createElement("defs",null,v.createElement(One,{clipPathId:g,xAxisId:a,yAxisId:s}),!w&&v.createElement("clipPath",{id:"clipPath-dots-".concat(g)},v.createElement("rect",{x:l-b/2,y:o-b/2,width:c+b,height:d+b}))),v.createElement(Mne,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:jre,errorBarOffset:0},v.createElement(Cre,{props:this.props,clipPathId:g}))),v.createElement(Pte,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var y4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:oi.line,type:"linear"};function Pre(e){var t=Ur(e,y4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,y=HS(t,fre),{needClip:x}=m4(m,p),w=BS(),b=vm(),N=ea(),C=At(T=>Fne(T,m,p,N,g));if(b!=="horizontal"&&b!=="vertical"||C==null||w==null)return null;var{height:S,width:j,x:O,y:F}=w;return v.createElement(Are,Jf({},y,{id:g,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:b,height:S,width:j,left:O,top:F,needClip:x}))}function Tre(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=Zn(c,s);if(t==="horizontal"){var h=aj({axis:n,ticks:i,bandSize:o,entry:c,index:d}),m=zr(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:c}}var p=zr(f)?null:n.scale(f),g=aj({axis:r,ticks:a,bandSize:o,entry:c,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:c}}).filter(Boolean)}function Ere(e){var t=Ur(e,y4),n=ea();return v.createElement(i4,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(mee,{legendPayload:xre(t)}),v.createElement(vre,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(Aee,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Pre,Jf({},t,{id:r}))))}var ro=v.memo(Ere,WS);ro.displayName="Line";var Dre=["domain","range"],Mre=["domain","range"];function XP(e,t){if(e==null)return{};var n,r,i=Ore(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ore(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function b4(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=XP(e,Dre),{domain:a,range:s}=t,o=XP(t,Mre);return!QP(n,a)||!QP(r,s)?!1:WS(i,o)}var Ire=["dangerouslySetInnerHTML","ticks","scale"],_re=["id","scale"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(null,arguments)}function ZP(e,t){if(e==null)return{};var n,r,i=Lre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $re(e){var t=Hn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(mte(e)):n.current!==e&&t(hte({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(pte(n.current)),n.current=null)},[t]),null}var Fre=e=>{var{xAxisId:t,className:n}=e,r=At(z5),i=ea(),a="xAxis",s=At(x=>HL(x,a,t,i)),o=At(x=>KY(x,t)),l=At(x=>JY(x,t)),c=At(x=>SL(x,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=ZP(e,Ire),{id:p,scale:g}=c,y=ZP(c,_re);return v.createElement(VS,lw({},m,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:Pn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},Rre={allowDataOverflow:qr.allowDataOverflow,allowDecimals:qr.allowDecimals,allowDuplicatedCategory:qr.allowDuplicatedCategory,angle:qr.angle,axisLine:fo.axisLine,height:qr.height,hide:!1,includeHidden:qr.includeHidden,interval:qr.interval,minTickGap:qr.minTickGap,mirror:qr.mirror,orientation:qr.orientation,padding:qr.padding,reversed:qr.reversed,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,tickLine:fo.tickLine,tickSize:fo.tickSize,type:qr.type,xAxisId:0},Bre=e=>{var t=Ur(e,Rre);return v.createElement(v.Fragment,null,v.createElement($re,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Fre,t))},em=v.memo(Bre,b4);em.displayName="XAxis";var zre=["dangerouslySetInnerHTML","ticks","scale"],Ure=["id","scale"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cw.apply(null,arguments)}function JP(e,t){if(e==null)return{};var n,r,i=Vre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wre(e){var t=Hn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(gte(e)):n.current!==e&&t(xte({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(vte(n.current)),n.current=null)},[t]),null}var Hre=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=v.useRef(null),s=v.useRef(null),o=At(z5),l=ea(),c=Hn(),d="yAxis",f=At(S=>nX(S,t)),h=At(S=>tX(S,t)),m=At(S=>HL(S,d,t,l)),p=At(S=>NL(S,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||LS(i)||v.isValidElement(i)||p==null)){var S=a.current;if(S){var j=S.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&c(yte({id:t,width:j}))}}},[m,f,c,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:x}=e,w=JP(e,zre),{id:b,scale:N}=p,C=JP(p,Ure);return v.createElement(VS,cw({},w,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Pn("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},qre={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:Kr.allowDecimals,allowDuplicatedCategory:Kr.allowDuplicatedCategory,angle:Kr.angle,axisLine:fo.axisLine,hide:!1,includeHidden:Kr.includeHidden,interval:Kr.interval,minTickGap:Kr.minTickGap,mirror:Kr.mirror,orientation:Kr.orientation,padding:Kr.padding,reversed:Kr.reversed,scale:Kr.scale,tick:Kr.tick,tickCount:Kr.tickCount,tickLine:fo.tickLine,tickSize:fo.tickSize,type:Kr.type,width:Kr.width,yAxisId:0},Kre=e=>{var t=Ur(e,qre);return v.createElement(v.Fragment,null,v.createElement(Wre,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(Hre,t))},tm=v.memo(Kre,b4);tm.displayName="YAxis";var Gre=(e,t)=>t,qS=pe([Gre,$n,bL,Wr,c3,Mo,vQ,Qr],CQ),KS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},w4=za("mouseClick"),k4=gm();k4.startListening({actionCreator:w4,effect:(e,t)=>{var n=e.payload,r=qS(t.getState(),KS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(gX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var uw=za("mouseMove"),S4=gm(),Hh=null;S4.startListening({actionCreator:uw,effect:(e,t)=>{var n=e.payload;Hh!==null&&cancelAnimationFrame(Hh);var r=KS(n);Hh=requestAnimationFrame(()=>{var i=t.getState(),a=jS(i,i.tooltip.settings.shared);if(a==="axis"){var s=qS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(t3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(e3())}Hh=null})}});function Yre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var eT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},N4=Ji({name:"rootProps",initialState:eT,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:eT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Xre=N4.reducer,{updateOptions:Qre}=N4.actions,C4=Ji({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Zre}=C4.actions,Jre=C4.reducer,j4=za("keyDown"),A4=za("focus"),GS=gm();GS.startListening({actionCreator:j4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=AS(i,od(n),Pm(n),Dm(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Mo(n);if(a==="Enter"){var c=$g(n,"axis","hover",String(i.index));t.dispatch(nw({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=sX(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=$g(n,"axis","hover",String(m));t.dispatch(nw({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});GS.startListening({actionCreator:A4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=$g(n,"axis","hover",String(a));t.dispatch(nw({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ta=za("externalEvent"),P4=gm(),Uv=new Map;P4.startListening({actionCreator:Ta,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Uv.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:nQ(o),activeDataKey:m3(o),activeIndex:Wu(o),activeLabel:f3(o),activeTooltipIndex:Wu(o),isTooltipActive:rQ(o)};n(l,r)}finally{Uv.delete(i)}});Uv.set(i,s)}}});var eie=pe([ad],e=>e.tooltipItemPayloads),tie=pe([eie,Em,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),T4=za("touchMove"),E4=gm();E4.startListening({actionCreator:T4,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=jS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=qS(r,KS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(t3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(R5),f=(o=c.getAttribute(B5))!==null&&o!==void 0?o:void 0,h=sd(r).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=tie(r,d,f);t.dispatch(JL({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var nie=o5({brush:Tte,cartesianAxis:bte,chartData:tZ,errorBars:jne,graphicalItems:Cee,layout:$W,legend:FH,options:XQ,polarAxis:TJ,polarOptions:Jre,referenceElements:Lte,rootProps:Xre,tooltip:xX,zIndex:RQ}),rie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return lW({reducer:nie,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([k4.middleware,S4.middleware,GS.middleware,P4.middleware,E4.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(k5({type:"raf"}))},devTools:{serialize:{replacer:Yre},name:"recharts-".concat(n)}})};function D4(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ea(),a=v.useRef(null);if(i)return n;a.current==null&&(a.current=rie(t,r));var s=dk;return v.createElement(ore,{context:s,store:a.current},n)}function iie(e){var{layout:t,margin:n}=e,r=Hn(),i=ea();return v.useEffect(()=>{i||(r(IW(t)),r(OW(n)))},[r,i,t,n]),null}var M4=v.memo(iie,WS);function O4(e){var t=Hn();return v.useEffect(()=>{t(Qre(e))},[t,e]),null}function tT(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),i=Hn();return v.useLayoutEffect(()=>(r.current&&i($Q({zIndex:t,element:r.current,isPanorama:n})),()=>{i(FQ({zIndex:t,isPanorama:n}))}),[i,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function nT(e){var{children:t,isPanorama:n}=e,r=At(AQ);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return v.createElement(v.Fragment,null,i.map(s=>v.createElement(tT,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>v.createElement(tT,{key:s,zIndex:s,isPanorama:n})))}var aie=["children"];function sie(e,t){if(e==null)return{};var n,r,i=oie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wg.apply(null,arguments)}var lie={width:"100%",height:"100%",display:"block"},cie=v.forwardRef((e,t)=>{var n=wk(),r=kk(),i=o_();if(!zs(n)||!zs(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),v.createElement(Y1,Wg({},s,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:lie,ref:t}),a)}),uie=e=>{var{children:t}=e,n=At(X0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return v.createElement(Y1,{width:r,height:i,x:s,y:a},t)},rT=v.forwardRef((e,t)=>{var{children:n}=e,r=sie(e,aie),i=ea();return i?v.createElement(uie,null,v.createElement(nT,{isPanorama:!0},n)):v.createElement(cie,Wg({ref:t},r),v.createElement(nT,{isPanorama:!1},n))});function die(){var e=Hn(),[t,n]=v.useState(null),r=At(ZW);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;_r(a)&&a!==r&&e(LW(a))}},[t,e,r]),n}function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(r){mie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mie(e,t,n){return(t=hie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hie(e){var t=pie(e,"string");return typeof t=="symbol"?t:t+""}function pie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nc.apply(null,arguments)}var gie=()=>(uZ(),null);function Hg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var xie=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[a,s]=v.useState({containerWidth:Hg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Hg((r=e.style)===null||r===void 0?void 0:r.height)}),o=v.useCallback((c,d)=>{s(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=p=>{var{width:g,height:y}=p[0].contentRect;o(g,y)},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,o]);return v.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(Z0,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Nc({ref:l},e)))}),vie=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=v.useState({containerWidth:Hg(n),containerHeight:Hg(r)}),s=v.useCallback((l,c)=>{a(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return v.createElement(v.Fragment,null,v.createElement(Z0,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Nc({ref:o},e)))}),yie=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(Z0,{width:n,height:r}),v.createElement("div",Nc({ref:t},e)))}),bie=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return yo(n)||yo(r)?v.createElement(vie,Nc({},e,{ref:t})):v.createElement(yie,Nc({},e,{ref:t}))});function wie(e){return e===!0?xie:bie}var kie=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:y,width:x,responsive:w,dispatchTouchEvents:b=!0}=e,N=v.useRef(null),C=Hn(),[S,j]=v.useState(null),[O,F]=v.useState(null),T=die(),I=bk(),M=(I==null?void 0:I.width)>0?I.width:x,G=(I==null?void 0:I.height)>0?I.height:i,Z=v.useCallback(R=>{T(R),typeof t=="function"&&t(R),j(R),F(R),R!=null&&(N.current=R)},[T,t,j,F]),se=v.useCallback(R=>{C(w4(R)),C(Ta({handler:a,reactEvent:R}))},[C,a]),fe=v.useCallback(R=>{C(uw(R)),C(Ta({handler:c,reactEvent:R}))},[C,c]),J=v.useCallback(R=>{C(e3()),C(Ta({handler:d,reactEvent:R}))},[C,d]),K=v.useCallback(R=>{C(uw(R)),C(Ta({handler:f,reactEvent:R}))},[C,f]),le=v.useCallback(()=>{C(A4())},[C]),D=v.useCallback(R=>{C(j4(R.key))},[C]),A=v.useCallback(R=>{C(Ta({handler:s,reactEvent:R}))},[C,s]),ae=v.useCallback(R=>{C(Ta({handler:o,reactEvent:R}))},[C,o]),k=v.useCallback(R=>{C(Ta({handler:l,reactEvent:R}))},[C,l]),U=v.useCallback(R=>{C(Ta({handler:h,reactEvent:R}))},[C,h]),W=v.useCallback(R=>{C(Ta({handler:g,reactEvent:R}))},[C,g]),ee=v.useCallback(R=>{b&&C(T4(R)),C(Ta({handler:p,reactEvent:R}))},[C,b,p]),te=v.useCallback(R=>{C(Ta({handler:m,reactEvent:R}))},[C,m]),ie=wie(w);return v.createElement(b3.Provider,{value:S},v.createElement(sI.Provider,{value:O},v.createElement(ie,{width:M??(y==null?void 0:y.width),height:G??(y==null?void 0:y.height),className:Pn("recharts-wrapper",r),style:fie({position:"relative",cursor:"default",width:M,height:G},y),onClick:se,onContextMenu:A,onDoubleClick:ae,onFocus:le,onKeyDown:D,onMouseDown:k,onMouseEnter:fe,onMouseLeave:J,onMouseMove:K,onMouseUp:U,onTouchEnd:te,onTouchMove:ee,onTouchStart:W,ref:Z},v.createElement(gie,null),n)))}),Sie=["width","height","responsive","children","className","style","compact","title","desc"];function Nie(e,t){if(e==null)return{};var n,r,i=Cie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var I4=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=Nie(e,Sie),h=Ba(f);return l?v.createElement(v.Fragment,null,v.createElement(Z0,{width:n,height:r}),v.createElement(rT,{otherAttributes:h,title:c,desc:d},a)):v.createElement(kie,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(rT,{otherAttributes:h,title:c,desc:d,ref:t},v.createElement(Fte,null,a)))});function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dw.apply(null,arguments)}var jie={top:5,right:5,bottom:5,left:5},Aie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:jie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Pie=v.forwardRef(function(t,n){var r,i=Ur(t.categoricalChartProps,Aie),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(D4,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},v.createElement(o4,{chartData:c.data}),v.createElement(M4,{layout:i.layout,margin:i.margin}),v.createElement(O4,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(I4,dw({},i,{ref:n})))}),Tie=["axis"],qg=v.forwardRef((e,t)=>v.createElement(Pie,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tie,tooltipPayloadSearcher:k3,categoricalChartProps:e,ref:t}));function Eie(e){var t=Hn();return v.useEffect(()=>{t(Zre(e))},[t,e]),null}var Die=["layout"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fw.apply(null,arguments)}function Mie(e,t){if(e==null)return{};var n,r,i=Oie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Iie={top:5,right:5,bottom:5,left:5},_4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Iie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},_ie=v.forwardRef(function(t,n){var r,i=Ur(t.categoricalChartProps,_4),{layout:a}=i,s=Mie(i,Die),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(D4,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},v.createElement(o4,{chartData:i.data}),v.createElement(M4,{layout:a,margin:i.margin}),v.createElement(O4,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(Eie,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(I4,fw({},s,{ref:n})))});function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(r){Lie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lie(e,t,n){return(t=$ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ie(e){var t=Fie(e,"string");return typeof t=="symbol"?t:t+""}function Fie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rie=["item"],Bie=sT(sT({},_4),{},{layout:"centric",startAngle:0,endAngle:360}),mw=v.forwardRef((e,t)=>{var n=Ur(e,Bie);return v.createElement(_ie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Rie,tooltipPayloadSearcher:k3,categoricalChartProps:n,ref:t})});const An=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),oT="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",lf=new Map,ju=new Map,zie=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(lf.has(r)||ju.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&lf.set(r,s),s})();ju.set(r,i);try{await i}finally{ju.delete(r)}}))},Uie=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:lf.get(e)||oT:null});return v.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=lf.get(e);if(r){n(r);return}let i=!0;const a=ju.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&lf.set(e,l),l})();return ju.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(oT)}}).finally(()=>{ju.delete(e)}),()=>{i=!1}},[e]),t},Vie=(e,t,n,r)=>{const[i,a]=v.useState("bottom"),[s,o]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(O=>{let F=(O==null?void 0:O.parentElement)||null;for(;F;){const T=window.getComputedStyle(F),I=`${T.overflow}${T.overflowY}${T.overflowX}`;if(/(auto|scroll|hidden)/.test(I))return F;F=F.parentElement}return null})(c),g=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=g.bottom-f.bottom,x=f.top-g.top,w=y<h.height+8&&x>y?"top":"bottom";a(w);const b=6,N=f.left+f.width/2,C=g.left+b+h.width/2,S=g.right-b-h.width/2,j=Math.min(Math.max(N,C),S);o(j-N)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},Wie=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},L4=(e,t,n,r,i=8)=>{const[a,s]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const o=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,g=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),y=f.left+f.width/2,x=i+h.width/2,w=window.innerWidth-i-h.width/2,b=Math.min(Math.max(y,x),w);s({position:"fixed",top:g,left:b,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},Hie=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Yl(i||"Unknown"),s=r.length>1,[o,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=Vie(o,[r.length,f],c,d),p=Array.from(new Set(r.map(w=>ic(w||"Unknown")))).slice(0,4),g=p.length>1?`conic-gradient(${p.map((w,b)=>`${w} ${b*360/p.length}deg ${(b+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const y=h==="top"?"bottom-full mb-2":"top-full mt-2",x={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:g},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),u.jsxs("div",{ref:d,style:x,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${y} ${o?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(w=>{const b=Yl(w||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[b?u.jsx("img",{src:b,alt:w||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:w||"Unknown"})]},w)})})]})]})]})},qie=(e,t,n="w-4 h-4 object-contain")=>u.jsx(Hie,{profession:e,professionList:t,className:n}),Vv=({count:e,classCounts:t,label:n,className:r})=>{const i=Wie(t||{}),a=e>0,[s,o]=v.useState(!1),l=v.useRef(null),c=v.useRef(null),d=L4(s,[i.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&Zu.createPortal(u.jsxs("div",{ref:c,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${s?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const g=Yl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[g?u.jsx("img",{src:g,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},wr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i="",truncateText:a=!0})=>{const s=Uie(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[s?u.jsx("img",{src:s,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`${a?"truncate":""} ${i}`,children:e})]})},lT=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=v.useState(!1),o=v.useRef(null),l=v.useRef(null),c=L4(a,[n.length],o,l);return u.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{children:e}),i&&typeof document<"u"&&Zu.createPortal(u.jsxs("div",{ref:l,style:c,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${a?"block":"hidden"}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(wr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},Kie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:g,setSkillUsagePlayerFilter:y,skillUsageView:x,setSkillUsageView:w,skillUsageData:b,skillUsageSkillFilter:N,setSkillUsageSkillFilter:C,selectedSkillId:S,setSelectedSkillId:j,skillBarData:O,selectedSkillName:F,selectedSkillIcon:T,skillUsageReady:I,skillUsageAvailable:M,isSkillUsagePerSecond:G,skillChartData:Z,skillChartMaxY:se,playerTotalsForSkill:fe,hoveredSkillPlayer:J,setHoveredSkillPlayer:K,getLineStrokeColor:le,getLineDashForPlayer:D,formatSkillUsageValue:A,renderProfessionIcon:ae})=>u.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx($1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(An,{value:x,onChange:w,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[b.logRecords.length," ",b.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]})]}),o.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(k=>{const U=d.get(k);return U?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:U.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[U.logs," ",U.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(U.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(BO,{className:"w-3 h-3"})})]},U.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:g,onChange:k=>y(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(k=>{const U=h===k.profession,W=k.players.map(te=>te.key),ee=W.length>0&&W.every(te=>o.includes(te));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(U){m(null);return}m(k.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${U?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ae(k.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[k.players.length,"p"]}),U?u.jsx(fb,{className:"w-3.5 h-3.5"}):u.jsx(G6,{className:"w-3.5 h-3.5"})]})]})}),U&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[k.players.length," ",k.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(te=>{if(ee)return te.filter(R=>!W.includes(R));const ie=new Set(te);return W.forEach(R=>ie.add(R)),Array.from(ie)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:ee?"Clear All":"Select All"})]}),k.players.map(te=>{const ie=o.includes(te.key);return u.jsx("button",{type:"button",onClick:()=>p(te.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${ie?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:te.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[te.account,"  ",te.profession,"  ",te.logs," ",te.logs===1?"log":"logs"]})]}),ie&&u.jsx($O,{className:"w-4 h-4 text-cyan-300"})]})},te.key)})]})]},k.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${G?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:N,onChange:k=>C(k.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):O.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const k=O.reduce((U,W)=>Math.max(U,W.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:O.map((U,W)=>{const ee=Math.min(100,U.total/k*100),te=S===U.skillId;return u.jsxs("button",{type:"button",onClick:()=>j(U.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${te?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${W+1}`}),u.jsx(wr,{name:U.name,iconUrl:U.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:A(U.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${ee}%`,backgroundColor:U.color}})})]},U.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:I?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:F?u.jsx(wr,{name:F,iconUrl:T,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",G?"casts per second":"casts per log",")"]})]}),u.jsx(vc,{width:"100%",height:250,children:u.jsxs(qg,{data:Z,children:[u.jsx(Zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(em,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:k=>{const U=Z[k],W=String((U==null?void 0:U.shortLabel)??k);return W.length>20?`${W.slice(0,20)}`:W}}),u.jsx(tm,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,se)],allowDecimals:!1}),u.jsx(kc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:k,payload:U,label:W})=>{var R;if(!k||!U||U.length===0)return null;const ee=[...U].sort((B,H)=>(H.value||0)-(B.value||0)),te=ee[0],ie=((R=te==null?void 0:te.payload)==null?void 0:R.fullLabel)||W;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:ie}),u.jsx("div",{className:"space-y-1",children:ee.map(B=>{const H=String(B.name||""),X=d.get(H),$=(X==null?void 0:X.displayName)||H||"Player",oe=A(Number(B.value||0)),L=B.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:L},children:$}),u.jsx("span",{className:"text-gray-200 font-mono",children:oe})]},`${$}-${oe}`)})})]})}}),o.map(k=>{const U=J.includes(k),W=J.length>0,ee=le(k,U,W),te=D(k),ie=J.length>0&&!U;return u.jsx(ro,{dataKey:k,stroke:ee,strokeWidth:U?4:3,strokeDasharray:te,opacity:ie?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},k)})]})})]}),o.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((k,U)=>(fe.get(U)||0)-(fe.get(k)||0)).map(k=>{const U=d.get(k),W=fe.get(k)??0,ee=J.includes(k),te=J.length>0,ie=le(k,ee,te);return u.jsxs("button",{type:"button",onClick:()=>{K(R=>R.includes(k)?R.filter(B=>B!==k):[...R,k])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${ee?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":ee,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:ie,strokeWidth:"2",strokeDasharray:D(k),strokeLinecap:"round"})}),ae(U==null?void 0:U.profession,U==null?void 0:U.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(U==null?void 0:U.displayName)||k}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(U==null?void 0:U.logs)??0," ",((U==null?void 0:U.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:A(W)})]},k)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:M?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),Gie=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,i]=v.useState(0),[a,s]=v.useState(0),o=v.useRef(!1),l=v.useRef(0),c=v.useRef(0);v.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:b,clientWidth:N,scrollLeft:C}=h,S=b>N,j=n.current,O=(j==null?void 0:j.clientWidth)||0;if(!O){m=window.requestAnimationFrame(p);return}if(!S){i(O),s(0);return}const F=N/b,T=Math.max(20,Math.floor(O*F)),I=b-N,M=Math.max(0,O-T),G=I>0?Math.floor(C/I*M):0;i(T),s(G)};p();const g=()=>p(),y=new ResizeObserver(p);y.observe(h);const x=h.firstElementChild;x instanceof HTMLElement&&y.observe(x),n.current&&y.observe(n.current);const w=new MutationObserver(()=>p());return w.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",g),()=>{m&&window.cancelAnimationFrame(m),y.disconnect(),w.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",g)}},[e]),v.useEffect(()=>{const h=p=>{if(!o.current)return;const g=n.current,y=e.current;if(!g||!y)return;const x=g.getBoundingClientRect(),w=p.clientX-l.current,b=Math.max(0,x.width-r),N=Math.min(b,Math.max(0,c.current+w)),C=y.scrollWidth-y.clientWidth,S=b>0?N/b*C:0;y.scrollLeft=S},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const g=m.getBoundingClientRect(),y=h.clientX-g.left,x=Math.max(0,g.width-r),w=Math.min(x,Math.max(0,y-r/2)),b=p.scrollWidth-p.clientWidth;p.scrollLeft=x>0?w/x*b:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,c.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},fs=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const c=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?u.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),p&&u.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>u.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),u.jsx(Gie,{containerRef:c})]})},ms=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=v.useState(""),[o,l]=v.useState(!1),[c,d]=v.useState(0),f=v.useRef(null),h=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const x=w=>{f.current&&(f.current.contains(w.target)||l(!1))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=v.useMemo(()=>{const x=a.trim().toLowerCase();return x?e.filter(w=>w.label.toLowerCase().includes(x)).slice(0,50):e.slice(0,50)},[e,a]),g=v.useMemo(()=>{const x=new Map;return p.forEach((w,b)=>{x.set(`${w.type}-${w.id}`,b)}),x},[p]),y=v.useMemo(()=>{const x=p.filter(b=>b.type==="column"),w=p.filter(b=>b.type==="player");return{columns:x,players:w}},[p]);return v.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(x=>Math.min(Math.max(x,0),p.length-1))}},[p,o]),v.useEffect(()=>{if(!o)return;const x=p[c];if(!x)return;const w=`${x.type}-${x.id}`,b=m.current.get(w);b&&h.current&&b.scrollIntoView({block:"nearest"})},[c,p,o]),u.jsxs("div",{ref:f,className:`relative ${i}`,children:[u.jsx("input",{value:a,onChange:x=>{s(x.target.value),l(!0)},onKeyDown:x=>{if(!o&&(x.key==="ArrowDown"||x.key==="ArrowUp")){l(!0);return}if(o)if(x.key==="ArrowDown"){if(x.preventDefault(),p.length===0)return;d(w=>(w+1)%p.length)}else if(x.key==="ArrowUp"){if(x.preventDefault(),p.length===0)return;d(w=>(w-1+p.length)%p.length)}else if(x.key==="Enter"){x.preventDefault();const w=p[c];if(!w)return;r(w),s(""),l(!1)}else x.key==="Escape"&&(x.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[y.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),y.columns.map(x=>{const w=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:b=>{m.current.set(`${x.type}-${x.id}`,b)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const b=g.get(`${x.type}-${x.id}`);typeof b=="number"&&d(b)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${w?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]}),y.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),y.players.map(x=>{const w=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:b=>{m.current.set(`${x.type}-${x.id}`,b)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const b=g.get(`${x.type}-${x.id}`);typeof b=="number"&&d(b)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${w?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]})]})})]})},ur=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=v.useState(!1),c=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=h=>{c.current&&(c.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${i}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,u.jsx("span",{children:a}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},Yie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:g,setActiveApmSkillId:y,ALL_SKILLS_KEY:x,apmSkillSearch:w,setApmSkillSearch:b,activeApmSpecTable:N,activeApmSkill:C,isAllApmSkills:S,apmView:j,setApmView:O,formatApmValue:F,formatCastRateValue:T,formatCastCountValue:I,renderProfessionIcon:M})=>{var te;const[G,Z]=v.useState({key:"apm",dir:"desc"}),se=e==="apm-stats",[fe,J]=v.useState({columnId:"",dir:"desc"}),[K,le]=v.useState([]),[D,A]=v.useState([]),[ae,k]=v.useState({}),U=se?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,W=ie=>{Z(R=>({key:ie,dir:R.key===ie&&R.dir==="desc"?"asc":"desc"}))},ee=v.useMemo(()=>{const ie=[...(N==null?void 0:N.playerRows)||[]];return ie.sort((R,B)=>{const H=G.key==="apm"?Number(j==="perSecond"?R.aps:R.apm):Number(j==="perSecond"?R.apsNoAuto:R.apmNoAuto),X=G.key==="apm"?Number(j==="perSecond"?B.aps:B.apm):Number(j==="perSecond"?B.apsNoAuto:B.apmNoAuto);return(G.dir==="desc"?X-H:H-X)||String(R.displayName||"").localeCompare(String(B.displayName||""))}),ie},[N,G,j]);return u.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(z1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:w,onChange:ie=>b(ie.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:U,children:d.map(ie=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const R=f!==ie.profession;h(ie.profession),p(R?ie.profession:m===ie.profession?null:ie.profession),R&&(y(x),le([]),A([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===ie.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M(ie.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ie.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[ie.players.length,"p"]})})]})}),!se&&m===ie.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:ae[ie.profession]||"",onChange:R=>{const B=R.target.value;k(H=>({...H,[ie.profession]:B}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{h(ie.profession),y(x)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===ie.profession&&S?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(ie.skills||[]).filter(R=>{const B=(ae[ie.profession]||"").trim().toLowerCase();return B?String(R.name||"").toLowerCase().includes(B):!0}).map(R=>u.jsx("button",{type:"button",onClick:()=>{h(ie.profession),y(R.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===ie.profession&&g===R.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:R.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[R.icon?u.jsx("img",{src:R.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:R.name})]})},R.id)),(ie.skills||[]).filter(R=>{const B=(ae[ie.profession]||"").trim().toLowerCase();return B?String(R.name||"").toLowerCase().includes(B):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},ie.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:N?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[se&&(()=>{const ie=N.skills||[],R=(N.playerRows||[]).map($=>({id:$.key,label:$.displayName||$.account||$.key,icon:M($.profession,$.professionList,"w-3 h-3")})),B=ie.map($=>({id:$.id,label:$.name,icon:$.icon?u.jsx("img",{src:$.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),H=[...ie.map($=>({id:$.id,label:$.name,type:"column",icon:$.icon?u.jsx("img",{src:$.icon,alt:"",className:"h-4 w-4"}):void 0})),...(N.playerRows||[]).map($=>({id:$.key,label:$.displayName||$.account||$.key,type:"player",icon:M($.profession,$.professionList,"w-3 h-3")}))],X=new Set([...K.map($=>`column:${$}`),...D.map($=>`player:${$}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:H,selectedIds:X,onSelect:$=>{$.type==="column"?le(oe=>oe.includes($.id)?oe.filter(L=>L!==$.id):[...oe,$.id]):A(oe=>oe.includes($.id)?oe.filter(L=>L!==$.id):[...oe,$.id])},className:"w-full sm:w-64"}),u.jsx(ur,{options:B,selectedIds:K,onToggle:$=>{le(oe=>oe.includes($)?oe.filter(L=>L!==$):[...oe,$])},onClear:()=>le([]),buttonLabel:"Columns",buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:R,selectedIds:D,onToggle:$=>{A(oe=>oe.includes($)?oe.filter(L=>L!==$):[...oe,$])},onClear:()=>A([]),buttonLabel:"Players",buttonIcon:u.jsx(br,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:j,onChange:O,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(K.length>0||D.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{le([]),A([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),K.map($=>{var L;const oe=((L=ie.find(V=>V.id===$))==null?void 0:L.name)||$;return u.jsxs("button",{type:"button",onClick:()=>le(V=>V.filter(ve=>ve!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:oe}),u.jsx("span",{className:"text-gray-400",children:""})]},$)}),D.map($=>{var L;const oe=((L=R.find(V=>V.id===$))==null?void 0:L.label)||$;return u.jsxs("button",{type:"button",onClick:()=>A(V=>V.filter(ve=>ve!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:oe}),u.jsx("span",{className:"text-gray-400",children:""})]},$)})]})]})})(),se?(()=>{var $,oe;const ie=N.skills||[],R=K.length>0?ie.filter(L=>K.includes(L.id)):ie,B=D.length>0?(N.playerRows||[]).filter(L=>D.includes(L.key)):N.playerRows||[];if(ie.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const H=(($=R.find(L=>L.id===fe.columnId))==null?void 0:$.id)||((oe=R[0])==null?void 0:oe.id)||"",X=[...B].map(L=>{const V={},ve={};return R.forEach(Ne=>{var Re;const tt=Number(((Re=Ne.playerCounts)==null?void 0:Re.get(L.key))||0),z=j==="perSecond"?tt/Math.max(1,L.totalActiveSeconds||0):tt;ve[Ne.id]=z,V[Ne.id]=j==="perSecond"?T(z):I(z)}),{row:L,values:V,numericValues:ve}}).sort((L,V)=>{const ve=L.numericValues[H]??0,Ne=V.numericValues[H]??0;return(fe.dir==="desc"?Ne-ve:ve-Ne)||String(L.row.displayName||"").localeCompare(String(V.row.displayName||""))});return u.jsx(fs,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:H,sortDirection:fe.dir,onSortColumn:L=>{J(V=>({columnId:L,dir:V.columnId===L&&V.dir==="desc"?"asc":"desc"}))},columns:R.map(L=>({id:L.id,label:u.jsx(wr,{name:L.name,iconUrl:L.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:X.map((L,V)=>({id:`${N.profession}-${L.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),M(L.row.profession,L.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:L.row.displayName})]}),values:L.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M(N.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),S||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(wr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:S||!C?`${((te=N.playerRows)==null?void 0:te.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),S||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>W("apm"),className:`text-right transition-colors ${G.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM",G.key==="apm"?G.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>W("apmNoAuto"),className:`text-right transition-colors ${G.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM"," (No Auto)",G.key==="apmNoAuto"?G.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:j==="perSecond"?"APS":"APM"})]})]}),S||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ee.map((ie,R)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${R+1}`}),M(ie.profession,ie.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:ie.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:F(j==="perSecond"?ie.aps:ie.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:F(j==="perSecond"?ie.apsNoAuto:ie.apmNoAuto)})]},`${N.profession}-all-${ie.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((ie,R)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${R+1}`}),M(ie.profession,ie.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:ie.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:I(Number(ie.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:F(Number(j==="perSecond"?ie.aps||0:ie.apm||0))})]},`${N.profession}-${C.id}-${ie.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},Xie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:g,activePlayerSkillId:y,setActivePlayerSkillId:x,activeClassKey:w,setActiveClassKey:b,expandedClassKey:N,setExpandedClassKey:C,activeClassSkillId:S,setActiveClassSkillId:j,skillSearch:O,setSkillSearch:F,activePlayerBreakdown:T,activePlayerSkill:I,activeClassBreakdown:M,activeClassSkill:G,renderProfessionIcon:Z})=>{const se=d.length,fe=((T==null?void 0:T.skills)||[]).reduce((L,V)=>L+(V.damage||0),0),J=(M==null?void 0:M.players)||[],[K,le]=v.useState({key:"down",dir:"desc"}),D=e==="player-breakdown",[A,ae]=v.useState([]),[k,U]=v.useState([]),[W,ee]=v.useState({columnId:"",dir:"desc"}),[te,ie]=v.useState({}),[R,B]=v.useState({}),H=(L,V)=>{var Ne;if(!V)return null;const ve=(Ne=L.skillMap)==null?void 0:Ne[V];return ve||L.skills.find(tt=>tt.id===V)||null},X=D?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,$=v.useMemo(()=>{if(!M||!G)return J;const L=[...J];return L.sort((V,ve)=>{const Ne=H(V,G.id),tt=H(ve,G.id),z=Number((Ne==null?void 0:Ne.downContribution)||0),Re=Number((tt==null?void 0:tt.downContribution)||0),Ce=Number((Ne==null?void 0:Ne.damage)||0),lt=Number((tt==null?void 0:tt.damage)||0),Jt=V.totalFightMs>0?Ce/(V.totalFightMs/1e3):0,fn=ve.totalFightMs>0?lt/(ve.totalFightMs/1e3):0;let me=0;return K.key==="down"&&(me=z-Re),K.key==="damage"&&(me=Ce-lt),K.key==="dps"&&(me=Jt-fn),K.dir==="asc"?me:-me}),L},[M,J,G,K]),oe=L=>{le(V=>V.key!==L?{key:L,dir:"desc"}:{key:L,dir:V.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(F1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[se," ",se===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:D?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!D&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(L=>{const V=l===L.id;return u.jsx("button",{type:"button",onClick:()=>c(L.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${V?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:L.label},L.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:O,onChange:L=>F(L.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:X,children:(D?"class":l)==="player"?d.map(L=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const V=h!==L.key;V&&(x(null),ae([]),U([])),m(L.key),g(V?L.key:p===L.key?null:L.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===L.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Z(L.profession,L.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:L.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[L.skills.length," skills"]})})]})}),!D&&p===L.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:te[L.key]||"",onChange:V=>{const ve=V.target.value;ie(Ne=>({...Ne,[L.key]:ve}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),L.skills.filter(V=>{const ve=(te[L.key]||"").trim().toLowerCase();return ve?String(V.name||"").toLowerCase().includes(ve):!0}).map(V=>u.jsx("button",{type:"button",onClick:()=>{m(L.key),x(V.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===L.key&&y===V.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:V.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[V.icon?u.jsx("img",{src:V.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:V.name})]})},V.id)),L.skills.filter(V=>{const ve=(te[L.key]||"").trim().toLowerCase();return ve?String(V.name||"").toLowerCase().includes(ve):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},L.key)):f.map(L=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const V=w!==L.profession;V&&(j(null),ae([]),U([])),b(L.profession),C(V?L.profession:N===L.profession?null:L.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${w===L.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Z(L.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:L.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[L.players.length,"p"]})})]})}),!D&&N===L.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:R[L.profession]||"",onChange:V=>{const ve=V.target.value;B(Ne=>({...Ne,[L.profession]:ve}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),L.skills.filter(V=>{const ve=(R[L.profession]||"").trim().toLowerCase();return ve?String(V.name||"").toLowerCase().includes(ve):!0}).map(V=>u.jsx("button",{type:"button",onClick:()=>{b(L.profession),j(V.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${w===L.profession&&S===V.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:V.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[V.icon?u.jsx("img",{src:V.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:V.name})]})},V.id)),L.skills.filter(V=>{const ve=(R[L.profession]||"").trim().toLowerCase();return ve?String(V.name||"").toLowerCase().includes(ve):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},L.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(D?"class":l)==="player"?!T||!D&&!I?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[D&&(()=>{const L=T.skills||[],V=d.map(z=>({id:z.key,label:z.displayName||z.key,icon:Z(z.profession,z.professionList,"w-3 h-3")})),ve=L.map(z=>({id:z.id,label:z.name,icon:z.icon?u.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ne=[...L.map(z=>({id:z.id,label:z.name,type:"column",icon:z.icon?u.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(z=>({id:z.key,label:z.displayName||z.key,type:"player",icon:Z(z.profession,z.professionList,"w-3 h-3")}))],tt=new Set([...A.map(z=>`column:${z}`),...k.map(z=>`player:${z}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:Ne,selectedIds:tt,onSelect:z=>{z.type==="column"?ae(Re=>Re.includes(z.id)?Re.filter(Ce=>Ce!==z.id):[...Re,z.id]):U(Re=>Re.includes(z.id)?Re.filter(Ce=>Ce!==z.id):[...Re,z.id])},className:"w-full sm:w-64"}),u.jsx(ur,{options:ve,selectedIds:A,onToggle:z=>{ae(Re=>Re.includes(z)?Re.filter(Ce=>Ce!==z):[...Re,z])},onClear:()=>ae([]),buttonLabel:"Columns",buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:V,selectedIds:k,onToggle:z=>{U(Re=>Re.includes(z)?Re.filter(Ce=>Ce!==z):[...Re,z])},onClear:()=>U([]),buttonLabel:"Players",buttonIcon:u.jsx(br,{className:"h-3.5 w-3.5"})})]}),(A.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{ae([]),U([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(z=>{var Ce;const Re=((Ce=L.find(lt=>lt.id===z))==null?void 0:Ce.name)||z;return u.jsxs("button",{type:"button",onClick:()=>ae(lt=>lt.filter(Jt=>Jt!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Re}),u.jsx("span",{className:"text-gray-400",children:""})]},z)}),k.map(z=>{var Ce;const Re=((Ce=V.find(lt=>lt.id===z))==null?void 0:Ce.label)||z;return u.jsxs("button",{type:"button",onClick:()=>U(lt=>lt.filter(Jt=>Jt!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Re}),u.jsx("span",{className:"text-gray-400",children:""})]},z)})]})]})})(),D?(()=>{var z,Re;const L=T.skills||[],V=A.length>0?L.filter(Ce=>A.includes(Ce.id)):L,ve=k.length>0?d.filter(Ce=>k.includes(Ce.key)):d,Ne=((z=V.find(Ce=>Ce.id===W.columnId))==null?void 0:z.id)||((Re=V[0])==null?void 0:Re.id)||"",tt=ve.map(Ce=>{const lt={},Jt={};return V.forEach(fn=>{const me=H(Ce,fn.id),ze=Number((me==null?void 0:me.damage)||0);Jt[fn.id]=ze,lt[fn.id]=Ho(ze)}),{player:Ce,values:lt,numericValues:Jt}}).sort((Ce,lt)=>{const Jt=Ce.numericValues[Ne]??0,fn=lt.numericValues[Ne]??0;return(W.dir==="desc"?fn-Jt:Jt-fn)||String(Ce.player.displayName||"").localeCompare(String(lt.player.displayName||""))});return u.jsx(fs,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ne,sortDirection:W.dir,onSortColumn:Ce=>{ee(lt=>({columnId:Ce,dir:lt.columnId===Ce&&lt.dir==="desc"?"asc":"desc"}))},columns:V.map(Ce=>({id:Ce.id,label:u.jsx(wr,{name:Ce.name,iconUrl:Ce.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:tt.map((Ce,lt)=>({id:`${Ce.player.key}-${lt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:lt+1}),Z(Ce.player.profession,Ce.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Ce.player.displayName})]}),values:Ce.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[Z(T.profession,T.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(wr,{name:(I==null?void 0:I.name)||"",iconUrl:I==null?void 0:I.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.skills.length," skills | ",Ho(fe)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Ho((I==null?void 0:I.downContribution)||0)},{label:"Total Damage",value:Ho((I==null?void 0:I.damage)||0)},{label:"DPS",value:la(T.totalFightMs>0?((I==null?void 0:I.damage)||0)/(T.totalFightMs/1e3):0,1)}].map(L=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:L.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L.value})]},L.label))})]})]}):!M||!D&&!G?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[D&&(()=>{const L=M.skills||[],V=J.map(z=>({id:z.key,label:z.displayName||z.key,icon:Z(z.profession,z.professionList,"w-3 h-3")})),ve=L.map(z=>({id:z.id,label:z.name,icon:z.icon?u.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ne=[...L.map(z=>({id:z.id,label:z.name,type:"column",icon:z.icon?u.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4"}):void 0})),...J.map(z=>({id:z.key,label:z.displayName||z.key,type:"player",icon:Z(z.profession,z.professionList,"w-3 h-3")}))],tt=new Set([...A.map(z=>`column:${z}`),...k.map(z=>`player:${z}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:Ne,selectedIds:tt,onSelect:z=>{z.type==="column"?ae(Re=>Re.includes(z.id)?Re.filter(Ce=>Ce!==z.id):[...Re,z.id]):U(Re=>Re.includes(z.id)?Re.filter(Ce=>Ce!==z.id):[...Re,z.id])},className:"w-full sm:w-64"}),u.jsx(ur,{options:ve,selectedIds:A,onToggle:z=>{ae(Re=>Re.includes(z)?Re.filter(Ce=>Ce!==z):[...Re,z])},onClear:()=>ae([]),buttonLabel:"Columns",buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:V,selectedIds:k,onToggle:z=>{U(Re=>Re.includes(z)?Re.filter(Ce=>Ce!==z):[...Re,z])},onClear:()=>U([]),buttonLabel:"Players",buttonIcon:u.jsx(br,{className:"h-3.5 w-3.5"})})]}),(A.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{ae([]),U([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(z=>{var Ce;const Re=((Ce=L.find(lt=>lt.id===z))==null?void 0:Ce.name)||z;return u.jsxs("button",{type:"button",onClick:()=>ae(lt=>lt.filter(Jt=>Jt!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Re}),u.jsx("span",{className:"text-gray-400",children:""})]},z)}),k.map(z=>{var Ce;const Re=((Ce=V.find(lt=>lt.id===z))==null?void 0:Ce.label)||z;return u.jsxs("button",{type:"button",onClick:()=>U(lt=>lt.filter(Jt=>Jt!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Re}),u.jsx("span",{className:"text-gray-400",children:""})]},z)})]})]})})(),D?(()=>{var z,Re;const L=M.skills||[],V=A.length>0?L.filter(Ce=>A.includes(Ce.id)):L,ve=k.length>0?J.filter(Ce=>k.includes(Ce.key)):J,Ne=((z=V.find(Ce=>Ce.id===W.columnId))==null?void 0:z.id)||((Re=V[0])==null?void 0:Re.id)||"",tt=ve.map(Ce=>{const lt={},Jt={};return V.forEach(fn=>{const me=H(Ce,fn.id),ze=Number((me==null?void 0:me.damage)||0);Jt[fn.id]=ze,lt[fn.id]=Ho(ze)}),{player:Ce,values:lt,numericValues:Jt}}).sort((Ce,lt)=>{const Jt=Ce.numericValues[Ne]??0,fn=lt.numericValues[Ne]??0;return(W.dir==="desc"?fn-Jt:Jt-fn)||String(Ce.player.displayName||"").localeCompare(String(lt.player.displayName||""))});return u.jsx(fs,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ne,sortDirection:W.dir,onSortColumn:Ce=>{ee(lt=>({columnId:Ce,dir:lt.columnId===Ce&&lt.dir==="desc"?"asc":"desc"}))},columns:V.map(Ce=>({id:Ce.id,label:u.jsx(wr,{name:Ce.name,iconUrl:Ce.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:tt.map((Ce,lt)=>({id:`${Ce.player.key}-${lt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:lt+1}),Z(Ce.player.profession,Ce.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Ce.player.displayName})]}),values:Ce.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[Z(M.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:M.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(wr,{name:(G==null?void 0:G.name)||"",iconUrl:G==null?void 0:G.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[J.length," players | ",M.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>oe("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${K.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:K.key==="down"?K.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>oe("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${K.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:K.key==="damage"?K.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>oe("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${K.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:K.key==="dps"?K.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:$.map(L=>{const V=H(L,(G==null?void 0:G.id)||""),ve=Number((V==null?void 0:V.downContribution)||0),Ne=Number((V==null?void 0:V.damage)||0),tt=L.totalFightMs>0?Ne/(L.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Z(L.profession,L.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:L.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Ho(ve)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Ho(Ne)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:la(tt,1)})]},`${M.profession}-${L.key}`)})})]})]})})]})})]})},$4=({className:e})=>u.jsx(oU,{className:e,style:{transform:"rotate(45deg)"}}),Oo=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),hs=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),Qie=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:w})=>{var D;const[b,N]=v.useState({key:"value",dir:"desc"}),[C,S]=v.useState({columnId:((D=t[0])==null?void 0:D.id)||"value",dir:"desc"}),j=f==="offense-detailed",[O,F]=v.useState([]),[T,I]=v.useState([]),M=t.filter(A=>A.label.toLowerCase().includes(r.trim().toLowerCase())),G=t.map(A=>({id:A.id,label:A.label})),Z=G.filter(A=>A.label.toLowerCase().includes(r.trim().toLowerCase())),fe=O.length>0?t.filter(A=>O.includes(A.id)):t,J=Array.from(new Map(e.offensePlayers.map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:d(A.profession,A.professionList,"w-3 h-3")})),K=new Set([...O.map(A=>`column:${A}`),...T.map(A=>`player:${A}`)]),le=A=>{N(ae=>({key:A,dir:ae.key===A&&ae.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":g("offense-detailed"),"data-section-first":y("offense-detailed"),className:x("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx($4,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...G.map(A=>({...A,type:"column"})),...J.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?F(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id]):I(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id])},selectedIds:K,className:"w-full sm:w-64"}),u.jsx(ur,{options:Z,selectedIds:O,onToggle:A=>{F(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>F([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:J,selectedIds:T,onToggle:A=>{I(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:u.jsx(br,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{F([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(A=>{var k;const ae=((k=G.find(U=>U.id===A))==null?void 0:k.label)||A;return u.jsxs("button",{type:"button",onClick:()=>F(U=>U.filter(W=>W!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ae}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),T.map(A=>u.jsxs("button",{type:"button",onClick:()=>I(ae=>ae.filter(k=>k!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:M.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var ee,te;const A=ie=>Math.max(1,(ie.totalFightMs||0)/1e3),ae=(ie,R,B)=>{var H,X,$,oe,L;if(R==="downContributionPercent"){const V=((H=ie.offenseTotals)==null?void 0:H.downContribution)||0,ve=((X=ie.offenseTotals)==null?void 0:X.damage)||0;return ve>0?V/ve*100:0}if(B.isRate){const V=(($=ie.offenseRateWeights)==null?void 0:$[R])||0,ve=((oe=ie.offenseTotals)==null?void 0:oe[R])||0;return V>0?ve/V*100:0}return((L=ie.offenseTotals)==null?void 0:L[R])||0},k=(ie,R)=>{const B=n&&!R.isPercent&&o==="total"?0:2,H=c(ie,B);return R.isPercent?`${H}%`:H},U=((ee=fe.find(ie=>ie.id===C.columnId))==null?void 0:ee.id)||((te=fe[0])==null?void 0:te.id)||"",W=[...e.offensePlayers].filter(ie=>T.length===0||T.includes(ie.account)).map(ie=>{const R={},B={};return fe.forEach(H=>{const X=ae(ie,H.id,H),$=o==="total"||H.isPercent||H.isRate?X:o==="per1s"?X/A(ie):X*60/A(ie);B[H.id]=$,R[H.id]=k($,H)}),{row:ie,values:R,numericValues:B}}).sort((ie,R)=>{const B=ie.numericValues[U]??0,H=R.numericValues[U]??0;return(C.dir==="desc"?H-B:B-H)||String(ie.row.account||"").localeCompare(String(R.row.account||""))});return u.jsx(fs,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:U,sortDirection:C.dir,onSortColumn:ie=>{S(R=>({columnId:ie,dir:R.columnId===ie&&R.dir==="desc"?"asc":"desc"}))},columns:fe.map(ie=>({id:ie.id,label:ie.label,align:"right",minWidth:90})),rows:W.map((ie,R)=>({id:`${ie.row.account}-${R}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:R+1}),d(ie.row.profession,ie.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ie.row.account})]}),values:ie.values}))})})()})]}):u.jsx(Oo,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:A=>i(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${w} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:M.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):M.map(A=>u.jsx("button",{onClick:()=>s(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===A.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:A.label},A.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const A=t.find(ee=>ee.id===a)||t[0],ae=ee=>Math.max(1,(ee.totalFightMs||0)/1e3),k=ee=>{var te,ie,R,B,H;if(A.id==="downContributionPercent"){const X=((te=ee.offenseTotals)==null?void 0:te.downContribution)||0,$=((ie=ee.offenseTotals)==null?void 0:ie.damage)||0;return $>0?X/$*100:0}if(A.isRate){const X=((R=ee.offenseRateWeights)==null?void 0:R[A.id])||0,$=((B=ee.offenseTotals)==null?void 0:B[A.id])||0;return X>0?$/X*100:0}return((H=ee.offenseTotals)==null?void 0:H[A.id])||0},U=ee=>{const te=n&&!A.isPercent&&o==="total"?0:2,ie=c(ee,te);return A.isPercent?`${ie}%`:ie},W=[...e.offensePlayers].map(ee=>({...ee,total:k(ee),per1s:A.isPercent||A.isRate?k(ee):k(ee)/ae(ee),per60s:A.isPercent||A.isRate?k(ee):k(ee)*60/ae(ee)})).sort((ee,te)=>{const ie=b.key==="fightTime"?Number(ee.totalFightMs||0):Number(o==="total"?ee.total:o==="per1s"?ee.per1s:ee.per60s),R=b.key==="fightTime"?Number(te.totalFightMs||0):Number(o==="total"?te.total:o==="per1s"?te.per1s:te.per60s);return(b.dir==="desc"?R-ie:ie-R)||ee.account.localeCompare(te.account)});return u.jsx(hs,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(An,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>le("value"),className:`text-right transition-colors ${b.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>le("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:W.map((ee,te)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:te+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(ee.profession,ee.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ee.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ie=o==="total"?ee.total:o==="per1s"?ee.per1s:ee.per60s;return U(ie)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:ee.totalFightMs?`${(ee.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${A.id}-${ee.account}-${te}`))})})})()})})]})},Zie=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:b,sidebarListClass:N})=>{var D;const C=m==="conditions-outgoing",[S,j]=v.useState([]),[O,F]=v.useState([]),[T,I]=v.useState({columnId:"all",dir:"desc"}),M=A=>{if(!A)return 0;if(s!=="outgoing"){const W=Number(A.applicationsFromUptime);return Number.isFinite(W)&&W>0?W:Number(A.applications||0)}const ae=Number(A.applicationsFromUptime);if(Number.isFinite(ae)&&ae>0)return ae;const k=Number(A.applicationsFromBuffsActive);if(Number.isFinite(k)&&k>0)return k;const U=Number(A.applicationsFromBuffs);return Number.isFinite(U)&&U>0?U:Number(A.applications||0)},G=[...e||[]].sort((A,ae)=>(ae.damage||0)-(A.damage||0)),Z=G.filter(A=>A.name.toLowerCase().includes(n.trim().toLowerCase())),se=Z.map(A=>({id:A.name,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),J=S.length>0?G.filter(A=>S.includes(A.name)):G,K=Array.from(new Map((t||[]).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:h(A.profession,A.professionList,"w-3 h-3")})),le=new Set([...S.map(A=>`column:${A}`),...O.map(A=>`player:${A}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":x("conditions-outgoing"),"data-section-first":w("conditions-outgoing"),className:b("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?y():g("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]}),e&&e.length>0?C?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...G.map(A=>({id:A.name,label:A.name,type:"column"})),...K.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?j(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id]):F(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id])},selectedIds:le,className:"w-full sm:w-64"}),u.jsx(ur,{options:se,selectedIds:S,onToggle:A=>{j(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>j([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:K,selectedIds:O,onToggle:A=>{F(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>F([]),buttonLabel:"Players",buttonIcon:u.jsx(br,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(An,{value:c.key,onChange:A=>d({key:A,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Z.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const A=c.key,ae=[{id:"all",label:"All Conditions",icon:null},...J],k=(t||[]).filter(ee=>O.length===0||O.includes(ee.account)).map(ee=>{const te=ee.conditions||{},ie={},R={};return ae.forEach(B=>{if(B.id==="all"||B.name==="All Conditions"){const $=Object.values(te).reduce((L,V)=>{const ve=M(V);return L.applications+=Number(ve||0),L.damage+=Number((V==null?void 0:V.damage)||0),L},{applications:0,damage:0}),oe=A==="applications"?$.applications:$.damage;R.all=oe||0,ie.all=Math.round(oe||0).toLocaleString();return}const H=te[B.name],X=A==="applications"?M(H):Number((H==null?void 0:H.damage)||0);R[B.name]=Number(X||0),ie[B.name]=Math.round(X||0).toLocaleString()}),{player:ee,values:ie,numericValues:R}}).filter(ee=>Object.values(ee.values).some(te=>te!=="0")),U=["all",...J.map(ee=>ee.name)].includes(T.columnId)?T.columnId:"all",W=[...k].sort((ee,te)=>{const ie=ee.numericValues[U]??0,R=te.numericValues[U]??0;return(T.dir==="desc"?R-ie:ie-R)||String(ee.player.account||"").localeCompare(String(te.player.account||""))});return u.jsx(fs,{title:"Conditions - Dense View",subtitle:A==="applications"?"Applications":"Damage",sortColumnId:U,sortDirection:T.dir,onSortColumn:ee=>{I(te=>({columnId:ee,dir:te.columnId===ee&&te.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...J.map(ee=>({id:ee.name,label:u.jsx(wr,{name:ee.name,iconUrl:ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:W.map((ee,te)=>({id:`${ee.player.account}-${te}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:te+1}),h(ee.player.profession,ee.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ee.player.account})]}),values:ee.values}))})})()}),(S.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{j([]),F([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),S.map(A=>u.jsxs("button",{type:"button",onClick:()=>j(ae=>ae.filter(k=>k!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A)),O.map(A=>u.jsxs("button",{type:"button",onClick:()=>F(ae=>ae.filter(k=>k!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}):u.jsx(Oo,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:A=>r(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:Z.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),Z.map(A=>u.jsx("button",{type:"button",onClick:()=>a(A.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(wr,{name:A.name,iconUrl:A.icon,iconClassName:"h-5 w-5"})},A.name))]})})]}),content:u.jsx(hs,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":u.jsx(wr,{name:i,iconUrl:(D=e.find(A=>A.name===i))==null?void 0:D.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(An,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const ae=(t||[]).map(k=>{const U=k.conditions||{};if(i==="all"){const ee=Object.values(U).reduce((te,ie)=>{const R=M(ie);return te.applications+=Number(R||0),te.damage+=Number((ie==null?void 0:ie.damage)||0),te},{applications:0,damage:0});return{...k,applications:ee.applications,damage:ee.damage}}const W=U[i];return{...k,applications:M(W),damage:Number((W==null?void 0:W.damage)||0)}}).filter(k=>k.applications>0||k.damage>0).sort((k,U)=>{const W=c.key==="applications"?k.applications||0:k.damage||0,ee=c.key==="applications"?U.applications||0:U.damage||0,te=c.dir==="desc"?ee-W:W-ee;if(te!==0)return te;const ie=c.key==="applications"?(U.damage||0)-(k.damage||0):(U.applications||0)-(k.applications||0);return ie!==0?ie:String(k.account||"").localeCompare(String(U.account||""))});return ae.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):ae.map((k,U)=>{var $;const W=k.conditions||{};let ee={};i==="all"?Object.values(W).forEach(oe=>{const L=(oe==null?void 0:oe.skills)||{};Object.values(L).forEach(V=>{const ve=(V==null?void 0:V.name)||"Unknown",Ne=Number((V==null?void 0:V.hits)||0),tt=Number((V==null?void 0:V.damage)||0);if((!Number.isFinite(Ne)||Ne<=0)&&(!Number.isFinite(tt)||tt<=0))return;const z=ee[ve]||{name:ve,hits:0,damage:0,icon:V==null?void 0:V.icon};z.hits+=Number.isFinite(Ne)?Ne:0,z.damage+=Number.isFinite(tt)?tt:0,!z.icon&&(V!=null&&V.icon)&&(z.icon=V.icon),ee[ve]=z})}):ee=(($=W[i])==null?void 0:$.skills)||{};const te=Object.values(ee).filter(oe=>Number.isFinite(oe.hits)&&oe.hits>0).sort((oe,L)=>L.hits-oe.hits||oe.name.localeCompare(L.name)),ie=Object.values(ee).filter(oe=>Number.isFinite(oe.damage)&&oe.damage>0).sort((oe,L)=>L.damage-oe.damage||oe.name.localeCompare(L.name)),R=i==="all"&&te.length>0,B=i==="all"&&ie.length>0,H=Math.round(k.applications||0).toLocaleString(),X=Math.round(k.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R?u.jsx(lT,{value:H,label:"Condition Sources",items:te.map(oe=>({name:oe.name,iconUrl:oe.icon,value:Math.round(oe.hits).toLocaleString()})),className:"justify-end"}):H}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:B?u.jsx(lT,{value:X,label:"Condition Damage Sources",items:ie.map(oe=>({name:oe.name,iconUrl:oe.icon,value:Math.round(oe.damage).toLocaleString()})),className:"justify-end"}):X}):null]},`${k.account}-${U}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},Jie=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:g,expandedSectionClosing:y,openExpandedSection:x,closeExpandedSection:w,isSectionVisible:b,isFirstVisibleSection:N,sectionClass:C,sidebarListClass:S})=>{const[j,O]=v.useState({key:"value",dir:"desc"}),[F,T]=v.useState({columnId:"",dir:"desc"}),I=g==="boon-output",[M,G]=v.useState([]),[Z,se]=v.useState([]),fe=e.boonTables||[],K=M.length>0?fe.filter(k=>M.includes(k.id)):fe,le=l.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),D=Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:m(k.profession,k.professionList,"w-3 h-3")})),A=new Set([...M.map(k=>`column:${k}`),...Z.map(k=>`player:${k}`)]),ae=k=>{O(U=>({key:k,dir:U.key===k&&U.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":b("boon-output"),"data-section-first":N("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${g==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${y?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(U1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>g==="boon-output"?w():x("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":g==="boon-output"?"Close Boon Output":"Expand Boon Output",title:g==="boon-output"?"Close":"Expand",children:g==="boon-output"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):I?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...fe.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:m(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?G(U=>U.includes(k.id)?U.filter(W=>W!==k.id):[...U,k.id]):se(U=>U.includes(k.id)?U.filter(W=>W!==k.id):[...U,k.id])},selectedIds:A,className:"w-full sm:w-64"}),u.jsx(ur,{options:le,selectedIds:M,onToggle:k=>{G(U=>U.includes(k)?U.filter(W=>W!==k):[...U,k])},onClear:()=>G([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:D,selectedIds:Z,onToggle:k=>{se(U=>U.includes(k)?U.filter(W=>W!==k):[...U,k])},onClear:()=>se([]),buttonLabel:"Players",buttonIcon:u.jsx(br,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(An,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||Z.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{G([]),se([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>{var W;const U=((W=fe.find(ee=>ee.id===k))==null?void 0:W.name)||k;return u.jsxs("button",{type:"button",onClick:()=>G(ee=>ee.filter(te=>te!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),Z.map(k=>u.jsxs("button",{type:"button",onClick:()=>se(U=>U.filter(W=>W!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:fe.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var ie,R;const k=K,U=((ie=k.find(B=>B.id===F.columnId))==null?void 0:ie.id)||(a&&k.some(B=>B.id===a)?a:void 0)||((R=k[0])==null?void 0:R.id)||"",W=new Map,ee=new Map;k.forEach(B=>{const H=new Map;B.rows.forEach(X=>{const $=X.account||X.name||X.id;$&&(H.set($,X),ee.has($)||ee.set($,X))}),W.set(B.id,H)});const te=Array.from(ee.entries()).filter(([B])=>Z.length===0||Z.includes(String(B))).map(([B,H])=>{const X={};return k.forEach($=>{var L;const oe=(L=W.get($.id))==null?void 0:L.get(B);X[$.id]=oe?f(oe,t,$.stacking,r,{roundCountStats:p}):"-"}),{key:B,row:H,values:X}}).sort((B,H)=>{var Ne,tt;if(!U)return String(B.key).localeCompare(String(H.key));const X=k.find(z=>z.id===U),$=X?(Ne=W.get(X.id))==null?void 0:Ne.get(B.key):null,oe=X?(tt=W.get(X.id))==null?void 0:tt.get(H.key):null,L=$?h($,t,X==null?void 0:X.stacking,r):0,V=oe?h(oe,t,X==null?void 0:X.stacking,r):0;return(F.dir==="desc"?V-L:L-V)||String(B.key).localeCompare(String(H.key))});return u.jsx(fs,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:U,sortDirection:F.dir,onSortColumn:B=>{T(H=>({columnId:B,dir:H.columnId===B&&H.dir==="desc"?"asc":"desc"}))},columns:k.map(B=>({id:B.id,label:u.jsx(wr,{name:B.name,iconUrl:B.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:te.map((B,H)=>({id:`${B.key}-${H}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),m(B.row.profession,B.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.row.account||B.row.name||B.key})]}),values:B.values}))})})()})]}):u.jsx(Oo,{expanded:g==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${g==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${g==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:k=>d(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${g==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(k=>u.jsx("button",{onClick:()=>s(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(wr,{name:k.name,iconUrl:k.icon,iconClassName:"h-3.5 w-3.5"})},k.id))})]}),content:o?u.jsx(hs,{expanded:g==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(wr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(An,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(An,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ae("value"),className:`text-right transition-colors ${j.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",j.key==="value"?j.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ae("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...o.rows].sort((k,U)=>(()=>{const W=j.key==="fightTime"?Number(k.activeTimeMs||0):h(k,t,o.stacking,r),ee=j.key==="fightTime"?Number(U.activeTimeMs||0):h(U,t,o.stacking,r);return(j.dir==="desc"?ee-W:W-ee)||String(k.account||"").localeCompare(String(U.account||""))})()).map((k,U)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(k,t,o.stacking,r,{roundCountStats:p})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeTimeMs?`${(k.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${U}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},eae=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:w})=>{var U;const[b,N]=v.useState({key:"value",dir:"desc"}),[C,S]=v.useState("combined"),[j,O]=v.useState({columnId:((U=t[0])==null?void 0:U.id)||"value",dir:"desc"}),F=f==="defense-detailed",[T,I]=v.useState([]),[M,G]=v.useState([]),Z=t.filter(W=>W.label.toLowerCase().includes(n.trim().toLowerCase())),se=t.map(W=>({id:W.id,label:W.label})),fe=se.filter(W=>W.label.toLowerCase().includes(n.trim().toLowerCase())),K=T.length>0?t.filter(W=>T.includes(W.id)):t,le=Array.from(new Map(e.defensePlayers.map(W=>[W.account,W])).values()).map(W=>({id:W.account,label:W.account,icon:d(W.profession,W.professionList,"w-3 h-3")})),D=new Set([...T.map(W=>`column:${W}`),...M.map(W=>`player:${W}`)]),A=W=>{N(ee=>({key:W,dir:ee.key===W&&ee.dir==="desc"?"asc":"desc"}))},ae=W=>W==="minionDamageTaken",k=(W,ee)=>ee==="combined"?W.map(te=>({...te,minionList:Object.entries((te==null?void 0:te.minionDamageTakenByMinion)||{}).filter(([,ie])=>Number(ie||0)>0).sort((ie,R)=>Number(R[1]||0)-Number(ie[1]||0)).map(([ie])=>String(ie))})):W.flatMap(te=>{const ie=Object.entries((te==null?void 0:te.minionDamageTakenByMinion)||{}).filter(([,R])=>Number(R||0)>0).sort((R,B)=>Number(B[1]||0)-Number(R[1]||0));return ie.length===0?[]:ie.map(([R,B])=>({...te,minionName:String(R),defenseTotals:{...te.defenseTotals||{},minionDamageTaken:Number(B||0)}}))});return u.jsxs("div",{id:"defense-detailed","data-section-visible":g("defense-detailed"),"data-section-first":y("defense-detailed"),className:x("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(_u,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):F?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...se.map(W=>({...W,type:"column"})),...le.map(W=>({...W,type:"player"}))],onSelect:W=>{W.type==="column"?I(ee=>ee.includes(W.id)?ee.filter(te=>te!==W.id):[...ee,W.id]):G(ee=>ee.includes(W.id)?ee.filter(te=>te!==W.id):[...ee,W.id])},selectedIds:D,className:"w-full sm:w-64"}),u.jsx(ur,{options:fe,selectedIds:T,onToggle:W=>{I(ee=>ee.includes(W)?ee.filter(te=>te!==W):[...ee,W])},onClear:()=>I([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:le,selectedIds:M,onToggle:W=>{G(ee=>ee.includes(W)?ee.filter(te=>te!==W):[...ee,W])},onClear:()=>G([]),buttonLabel:"Players",buttonIcon:u.jsx(br,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),K.some(W=>ae(W.id))&&u.jsx(An,{value:C,onChange:W=>S(W),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||M.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{I([]),G([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(W=>{var te;const ee=((te=se.find(ie=>ie.id===W))==null?void 0:te.label)||W;return u.jsxs("button",{type:"button",onClick:()=>I(ie=>ie.filter(R=>R!==W)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ee}),u.jsx("span",{className:"text-gray-400",children:""})]},W)}),M.map(W=>u.jsxs("button",{type:"button",onClick:()=>G(ee=>ee.filter(te=>te!==W)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:W}),u.jsx("span",{className:"text-gray-400",children:""})]},W))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Z.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var H,X;const W=$=>Math.max(1,($.activeMs||0)/1e3),ee=($,oe)=>{const L=oe.isPercent,ve=c($,l&&!L&&s==="total"?0:2);return L?`${ve}%`:ve},te=((H=K.find($=>$.id===j.columnId))==null?void 0:H.id)||((X=K[0])==null?void 0:X.id)||"",ie=[...e.defensePlayers].filter($=>M.length===0||M.includes($.account)),B=[...K.some($=>ae($.id))?k(ie,C):ie].map($=>{const oe={},L={};return K.forEach(V=>{var z;const ve=((z=$.defenseTotals)==null?void 0:z[V.id])||0,Ne=V.isPercent,tt=s==="total"||Ne?ve:s==="per1s"?ve/W($):ve*60/W($);L[V.id]=tt,oe[V.id]=ee(tt,V)}),{row:$,values:oe,numericValues:L}}).sort(($,oe)=>{const L=$.numericValues[te]??0,V=oe.numericValues[te]??0;return(j.dir==="desc"?V-L:L-V)||String($.row.account||"").localeCompare(String(oe.row.account||""))});return u.jsx(fs,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:te,sortDirection:j.dir,onSortColumn:$=>{O(oe=>({columnId:$,dir:oe.columnId===$&&oe.dir==="desc"?"asc":"desc"}))},columns:K.map($=>({id:$.id,label:$.label,align:"right",minWidth:90})),rows:B.map(($,oe)=>({id:`${$.row.account}-${oe}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:oe+1}),d($.row.profession,$.row.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:$.row.account}),C==="combined"&&Array.isArray($.row.minionList)&&$.row.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:$.row.minionList.join(", ")}),C==="separate"&&$.row.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:$.row.minionName})]})]}),values:$.values}))})})()})]}):u.jsx(Oo,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:W=>r(W.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${w} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:Z.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):Z.map(W=>u.jsx("button",{onClick:()=>a(W.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===W.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:W.label},W.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const W=t.find(B=>B.id===i)||t[0],ee=B=>Math.max(1,(B.activeMs||0)/1e3),te=[...e.defensePlayers],R=[...ae(W.id)?k(te,C):te].map(B=>{var H,X,$;return{...B,total:((H=B.defenseTotals)==null?void 0:H[W.id])||0,per1s:(((X=B.defenseTotals)==null?void 0:X[W.id])||0)/ee(B),per60s:((($=B.defenseTotals)==null?void 0:$[W.id])||0)*60/ee(B)}}).sort((B,H)=>{const X=b.key==="fightTime"?Number(B.activeMs||0):Number(s==="total"?B.total:s==="per1s"?B.per1s:B.per60s),$=b.key==="fightTime"?Number(H.activeMs||0):Number(s==="total"?H.total:s==="per1s"?H.per1s:H.per60s);return(b.dir==="desc"?$-X:X-$)||B.account.localeCompare(H.account)});return u.jsx(hs,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:W.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${ae(W.id)?"justify-between":"justify-end"}`,children:[ae(W.id)&&u.jsx(An,{value:C,onChange:B=>S(B),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:u.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>A("value"),className:`text-right transition-colors ${b.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>A("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:R.map((B,H)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:H+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(B.profession,B.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:B.account}),ae(W.id)&&C==="combined"&&Array.isArray(B.minionList)&&B.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:B.minionList.join(", ")}),ae(W.id)&&C==="separate"&&B.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:B.minionName})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const X=s==="total"?B.total:s==="per1s"?B.per1s:B.per60s;return c(X,l&&s==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:B.activeMs?`${(B.activeMs/1e3).toFixed(1)}s`:"-"})]},`${W.id}-${B.account}-${H}`))})})})()})})]})},tae=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:b,sidebarListClass:N})=>{var H,X;const C=((H=t.find($=>$.id==="totalMitigation"))==null?void 0:H.id)||((X=t[0])==null?void 0:X.id)||"totalMitigation",[S,j]=v.useState({key:"value",dir:"desc"}),[O,F]=v.useState({columnId:C,dir:"desc"}),T=m==="defense-mitigation",[I,M]=v.useState([]),[G,Z]=v.useState([]),[se,fe]=v.useState([]),J=e.damageMitigationPlayers||[],K=e.damageMitigationMinions||[],le=l==="minions"?K:J,D=J.length>0||K.length>0,A=t.filter($=>$.label.toLowerCase().includes(n.trim().toLowerCase())),ae=t.map($=>({id:$.id,label:$.label})),k=ae.filter($=>$.label.toLowerCase().includes(n.trim().toLowerCase())),W=I.length>0?t.filter($=>I.includes($.id)):t,ee=Array.from(new Map(le.map($=>[$.account,$])).values()).map($=>({id:$.account,label:$.account,icon:h($.profession,$.professionList,"w-3 h-3")})),te=Array.from(new Map(K.map($=>[$.minion,$])).values()).filter($=>$==null?void 0:$.minion).map($=>({id:String($.minion),label:String($.minion)})),ie=new Set([...I.map($=>`column:${$}`),...G.map($=>`player:${$}`)]),R=$=>{j(oe=>({key:$,dir:oe.key===$&&oe.dir==="desc"?"asc":"desc"}))},B=$=>f($,d&&s==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":x("defense-mitigation"),"data-section-first":w("defense-mitigation"),className:b("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(V1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?y():g("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),D?T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...ae.map($=>({...$,type:"column"})),...ee.map($=>({...$,type:"player"}))],onSelect:$=>{$.type==="column"?M(oe=>oe.includes($.id)?oe.filter(L=>L!==$.id):[...oe,$.id]):Z(oe=>oe.includes($.id)?oe.filter(L=>L!==$.id):[...oe,$.id])},selectedIds:ie,className:"w-full sm:w-64"}),u.jsx(ur,{options:k,selectedIds:I,onToggle:$=>{M(oe=>oe.includes($)?oe.filter(L=>L!==$):[...oe,$])},onClear:()=>M([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:ee,selectedIds:G,onToggle:$=>{Z(oe=>oe.includes($)?oe.filter(L=>L!==$):[...oe,$])},onClear:()=>Z([]),buttonLabel:"Players",buttonIcon:u.jsx(br,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(ur,{options:te,selectedIds:se,onToggle:$=>{fe(oe=>oe.includes($)?oe.filter(L=>L!==$):[...oe,$])},onClear:()=>fe([]),buttonLabel:"Minions"}),u.jsx(An,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||G.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),Z([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map($=>{var L;const oe=((L=ae.find(V=>V.id===$))==null?void 0:L.label)||$;return u.jsxs("button",{type:"button",onClick:()=>M(V=>V.filter(ve=>ve!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:oe}),u.jsx("span",{className:"text-gray-400",children:""})]},$)}),G.map($=>u.jsxs("button",{type:"button",onClick:()=>Z(oe=>oe.filter(L=>L!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$}),u.jsx("span",{className:"text-gray-400",children:""})]},$))]}),l==="minions"&&se.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>fe([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),se.map($=>u.jsxs("button",{type:"button",onClick:()=>fe(oe=>oe.filter(L=>L!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$}),u.jsx("span",{className:"text-gray-400",children:""})]},$))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:le.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):A.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var V,ve;const $=Ne=>Math.max(1,(Ne.activeMs||0)/1e3),oe=((V=W.find(Ne=>Ne.id===O.columnId))==null?void 0:V.id)||((ve=W[0])==null?void 0:ve.id)||"",L=[...le].filter(Ne=>G.length===0||G.includes(Ne.account)).filter(Ne=>l!=="minions"||!se.length?!0:se.includes(String(Ne.minion||""))).map(Ne=>{const tt={},z={};return W.forEach(Re=>{var Jt;const Ce=((Jt=Ne.mitigationTotals)==null?void 0:Jt[Re.id])||0,lt=s==="total"?Ce:s==="per1s"?Ce/$(Ne):Ce*60/$(Ne);z[Re.id]=lt,tt[Re.id]=B(lt)}),{row:Ne,values:tt,numericValues:z}}).sort((Ne,tt)=>{const z=Ne.numericValues[oe]??0,Re=tt.numericValues[oe]??0;return(O.dir==="desc"?Re-z:z-Re)||String(Ne.row.account||"").localeCompare(String(tt.row.account||""))});return u.jsx(fs,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:oe,sortDirection:O.dir,onSortColumn:Ne=>{F(tt=>({columnId:Ne,dir:tt.columnId===Ne&&tt.dir==="desc"?"asc":"desc"}))},columns:W.map(Ne=>({id:Ne.id,label:Ne.label,align:"right",minWidth:90})),rows:L.map((Ne,tt)=>({id:`${Ne.row.account}-${Ne.row.minion||"player"}-${tt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:tt+1}),h(Ne.row.profession,Ne.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:Ne.row.account}),Ne.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Ne.row.minion})]})]}),values:Ne.values}))})})()})]}):u.jsx(Oo,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:$=>r($.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${N} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:A.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):A.map($=>u.jsx("button",{onClick:()=>a($.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===$.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:$.label},$.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const $=t.find(V=>V.id===i)||t[0],oe=V=>Math.max(1,(V.activeMs||0)/1e3),L=[...le].map(V=>{var ve,Ne,tt;return{...V,total:((ve=V.mitigationTotals)==null?void 0:ve[$.id])||0,per1s:(((Ne=V.mitigationTotals)==null?void 0:Ne[$.id])||0)/oe(V),per60s:(((tt=V.mitigationTotals)==null?void 0:tt[$.id])||0)*60/oe(V)}}).filter(V=>l!=="minions"||!se.length?!0:se.includes(String(V.minion||""))).sort((V,ve)=>{const Ne=S.key==="fightTime"?Number(V.activeMs||0):Number(s==="total"?V.total:s==="per1s"?V.per1s:V.per60s),tt=S.key==="fightTime"?Number(ve.activeMs||0):Number(s==="total"?ve.total:s==="per1s"?ve.per1s:ve.per60s);return(S.dir==="desc"?tt-Ne:Ne-tt)||V.account.localeCompare(ve.account)});return u.jsx(hs,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(An,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>R("value"),className:`text-right transition-colors ${S.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>R("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:L.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:L.map((V,ve)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ve+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(V.profession,V.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:V.account}),V.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:V.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Ne=s==="total"?V.total:s==="per1s"?V.per1s:V.per60s;return B(Ne)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:V.activeMs?`${(V.activeMs/1e3).toFixed(1)}s`:"-"})]},`${$.id}-${V.account}-${V.minion||"player"}-${ve}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},nae=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:b,sidebarListClass:N})=>{var ae;const[C,S]=v.useState({key:"value",dir:"desc"}),[j,O]=v.useState({columnId:((ae=t[0])==null?void 0:ae.id)||"value",dir:"desc"}),F=m==="support-detailed",[T,I]=v.useState([]),[M,G]=v.useState([]),Z=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),se=t.map(k=>({id:k.id,label:k.label})),fe=se.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),K=T.length>0?t.filter(k=>T.includes(k.id)):t,le=Array.from(new Map(e.supportPlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:h(k.profession,k.professionList,"w-3 h-3")})),D=new Set([...T.map(k=>`column:${k}`),...M.map(k=>`player:${k}`)]),A=k=>{S(U=>({key:k,dir:U.key===k&&U.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":x("support-detailed"),"data-section-first":w("support-detailed"),className:b("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(B1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?y():g("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):F?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...se.map(k=>({...k,type:"column"})),...le.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?I(U=>U.includes(k.id)?U.filter(W=>W!==k.id):[...U,k.id]):G(U=>U.includes(k.id)?U.filter(W=>W!==k.id):[...U,k.id])},selectedIds:D,className:"w-full sm:w-64"}),u.jsx(ur,{options:fe,selectedIds:T,onToggle:k=>{I(U=>U.includes(k)?U.filter(W=>W!==k):[...U,k])},onClear:()=>I([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:le,selectedIds:M,onToggle:k=>{G(U=>U.includes(k)?U.filter(W=>W!==k):[...U,k])},onClear:()=>G([]),buttonLabel:"Players",buttonIcon:u.jsx(br,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&u.jsx(An,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||M.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{I([]),G([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(k=>{var W;const U=((W=se.find(ee=>ee.id===k))==null?void 0:W.label)||k;return u.jsxs("button",{type:"button",onClick:()=>I(ee=>ee.filter(te=>te!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),M.map(k=>u.jsxs("button",{type:"button",onClick:()=>G(U=>U.filter(W=>W!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Z.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var ie,R;const k=(B,H)=>{var X,$,oe;if(H==="condiCleanse"){const L=((X=B.supportTotals)==null?void 0:X.condiCleanse)||0,V=(($=B.supportTotals)==null?void 0:$.condiCleanseSelf)||0;return l==="all"?L+V:L}return((oe=B.supportTotals)==null?void 0:oe[H])||0},U=B=>Math.max(1,(B.activeMs||0)/1e3),W=(B,H)=>{const X=B.isTime?1:d&&s==="total"?0:2;return f(H,X)},ee=((ie=K.find(B=>B.id===j.columnId))==null?void 0:ie.id)||((R=K[0])==null?void 0:R.id)||"",te=[...e.supportPlayers].filter(B=>M.length===0||M.includes(B.account)).map(B=>{const H={},X={};return K.forEach($=>{const oe=k(B,$.id),L=s==="total"?oe:s==="per1s"?oe/U(B):oe*60/U(B);X[$.id]=L,H[$.id]=W($,L)}),{row:B,values:H,numericValues:X}}).sort((B,H)=>{const X=B.numericValues[ee]??0,$=H.numericValues[ee]??0;return(j.dir==="desc"?$-X:X-$)||String(B.row.account||"").localeCompare(String(H.row.account||""))});return u.jsx(fs,{title:"Support - Dense View",subtitle:"Support",sortColumnId:ee,sortDirection:j.dir,onSortColumn:B=>{O(H=>({columnId:B,dir:H.columnId===B&&H.dir==="desc"?"asc":"desc"}))},columns:K.map(B=>({id:B.id,label:B.label,align:"right",minWidth:90})),rows:te.map((B,H)=>({id:`${B.row.account}-${H}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),h(B.row.profession,B.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.row.account})]}),values:B.values}))})})()})]}):u.jsx(Oo,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:Z.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):Z.map(k=>u.jsx("button",{onClick:()=>a(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(te=>te.id===i)||t[0],U=te=>{var ie,R,B;if(k.id==="condiCleanse"){const H=((ie=te.supportTotals)==null?void 0:ie.condiCleanse)||0,X=((R=te.supportTotals)==null?void 0:R.condiCleanseSelf)||0;return l==="all"?H+X:H}return((B=te.supportTotals)==null?void 0:B[k.id])||0},W=te=>Math.max(1,(te.activeMs||0)/1e3),ee=[...e.supportPlayers].map(te=>({...te,total:U(te),per1s:U(te)/W(te),per60s:U(te)*60/W(te)})).sort((te,ie)=>{const R=C.key==="fightTime"?Number(te.activeMs||0):Number(s==="total"?te.total:s==="per1s"?te.per1s:te.per60s),B=C.key==="fightTime"?Number(ie.activeMs||0):Number(s==="total"?ie.total:s==="per1s"?ie.per1s:ie.per60s);return(C.dir==="desc"?B-R:R-B)||te.account.localeCompare(ie.account)});return u.jsx(hs,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[k.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(An,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>A("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>A("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:ee.map((te,ie)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ie+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(te.profession,te.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:te.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const R=s==="total"?te.total:s==="per1s"?te.per1s:te.per60s,B=k.isTime?1:d&&s==="total"?0:2;return f(R,B)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:te.activeMs?`${(te.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${te.account}-${ie}`))})})})()})})]})},rae=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x})=>{var fe;const[w,b]=v.useState({key:"value",dir:"desc"}),[N,C]=v.useState({columnId:((fe=t[0])==null?void 0:fe.id)||"value",dir:"desc"}),S=f==="healing-stats",[j,O]=v.useState([]),[F,T]=v.useState([]),I=Array.from(new Map(e.healingPlayers.map(J=>[J.account,J])).values()).map(J=>({id:J.account,label:J.account,icon:d(J.profession,J.professionList,"w-3 h-3")})),M=new Set([...F.map(J=>`column:${J}`),...j.map(J=>`player:${J}`)]),G=t.map(J=>({id:J.id,label:J.label})),Z=F.length>0?t.filter(J=>F.includes(J.id)):t,se=J=>{b(K=>({key:J,dir:K.key===J&&K.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":g("healing-stats"),"data-section-first":y("healing-stats"),className:x("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(_O,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):S?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...G.map(J=>({...J,type:"column"})),...I.map(J=>({...J,type:"player"}))],onSelect:J=>{J.type==="column"?T(K=>K.includes(J.id)?K.filter(le=>le!==J.id):[...K,J.id]):O(K=>K.includes(J.id)?K.filter(le=>le!==J.id):[...K,J.id])},selectedIds:M,className:"w-full sm:w-64"}),u.jsx(An,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(ur,{options:G,selectedIds:F,onToggle:J=>{T(K=>K.includes(J)?K.filter(le=>le!==J):[...K,J])},onClear:()=>T([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(J=>({value:J.id,label:J.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(ur,{options:I,selectedIds:j,onToggle:J=>{O(K=>K.includes(J)?K.filter(le=>le!==J):[...K,J])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:u.jsx(br,{className:"h-3.5 w-3.5"})})]}),(F.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),F.map(J=>{var le;const K=((le=G.find(D=>D.id===J))==null?void 0:le.label)||J;return u.jsxs("button",{type:"button",onClick:()=>T(D=>D.filter(A=>A!==J)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:K}),u.jsx("span",{className:"text-gray-400",children:""})]},J)}),j.map(J=>u.jsxs("button",{type:"button",onClick:()=>O(K=>K.filter(le=>le!==J)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:J}),u.jsx("span",{className:"text-gray-400",children:""})]},J))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var A,ae;const J=k=>Math.max(1,(k.activeMs||0)/1e3),K=k=>{const U=k.baseField==="resUtility",W=U||i==="total"?"":i==="offSquad"?"offSquad":i;return U?s==="all"?"resUtility":`resUtility_${s}`:W?`${W}${k.baseField[0].toUpperCase()}${k.baseField.slice(1)}`:k.baseField},le=[...e.healingPlayers].filter(k=>j.length===0||j.includes(k.account)).filter(k=>Object.values(k.healingTotals||{}).some(U=>Number(U)>0)).map(k=>{const U={},W={};return Z.forEach(ee=>{var B;const te=K(ee),ie=Number(((B=k.healingTotals)==null?void 0:B[te])??0),R=ee.perSecond?ie/J(k):ie;W[ee.id]=R,U[ee.id]=c(R,ee.decimals)}),{row:k,values:U,numericValues:W}}).sort((k,U)=>{var R,B;const W=((R=Z.find(H=>H.id===N.columnId))==null?void 0:R.id)||((B=Z[0])==null?void 0:B.id)||"",ee=k.numericValues[W]??0,te=U.numericValues[W]??0;return(N.dir==="desc"?te-ee:ee-te)||String(k.row.account||"").localeCompare(String(U.row.account||""))}),D=((A=Z.find(k=>k.id===N.columnId))==null?void 0:A.id)||((ae=Z[0])==null?void 0:ae.id)||"";return u.jsx(fs,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:D,sortDirection:N.dir,onSortColumn:k=>{C(U=>({columnId:k,dir:U.columnId===k&&U.dir==="desc"?"asc":"desc"}))},columns:Z.map(k=>({id:k.id,label:k.label,align:"right",minWidth:90})),rows:le.map((k,U)=>({id:`${k.row.account}-${U}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:U+1}),d(k.row.profession,k.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.row.account})]}),values:k.values}))})})()})]}):u.jsx(Oo,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(J=>u.jsx("button",{onClick:()=>r(J.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===J.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:J.label},J.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const J=t.find(k=>k.id===n)||t[0],K=J.baseField==="resUtility",le=k=>Math.max(1,(k.activeMs||0)/1e3),D=K||i==="total"?"":i==="offSquad"?"offSquad":i,A=K?s==="all"?"resUtility":`resUtility_${s}`:D?`${D}${J.baseField[0].toUpperCase()}${J.baseField.slice(1)}`:J.baseField,ae=[...e.healingPlayers].filter(k=>Object.values(k.healingTotals||{}).some(U=>Number(U)>0)).map(k=>{var ee;const U=Number(((ee=k.healingTotals)==null?void 0:ee[A])??0),W=J.perSecond?U/le(k):U;return{...k,value:W}}).sort((k,U)=>{const W=w.key==="fightTime"?Number(k.activeMs||0):Number(k.value||0),ee=w.key==="fightTime"?Number(U.activeMs||0):Number(U.value||0);return(w.dir==="desc"?ee-W:W-ee)||k.account.localeCompare(U.account)});return u.jsx(hs,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:J.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[K&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(An,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(k=>({value:k.id,label:k.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!K&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(An,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>se("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[J.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>se("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:ae.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):ae.map((k,U)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(k.value,J.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeMs?`${(k.activeMs/1e3).toFixed(1)}s`:"-"})]},`${J.id}-${k.account}-${U}`))})})})()})})]})},iae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",aae=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,w]=v.useState("total"),[b,N]=v.useState("desc"),[C,S]=v.useState({columnId:"",dir:"desc"}),j=c==="special-buffs",[O,F]=v.useState([]),[T,I]=v.useState([]),M=e.specialTables||[],Z=O.length>0?M.filter(A=>O.includes(A.id)):M,se=r.map(A=>({id:A.id,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),fe=Array.from(new Map((e.specialTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:l(A.profession,A.professionList,"w-3 h-3")})),J=new Set([...O.map(A=>`column:${A}`),...T.map(A=>`player:${A}`)]),K=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const A=[...s.rows];return A.sort((ae,k)=>{const U=Number((ae==null?void 0:ae[x])??0),W=Number((k==null?void 0:k[x])??0),ee=b==="desc"?W-U:U-W;return ee!==0?ee:String((ae==null?void 0:ae.account)||"").localeCompare(String((k==null?void 0:k.account)||""))}),A},[s,x,b]),le=A=>{if(x===A){N(ae=>ae==="desc"?"asc":"desc");return}w(A),N("desc")},D=A=>x!==A?"":b==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:g("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(C0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...M.map(A=>({id:A.id,label:A.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,type:"player",icon:l(A.profession,A.professionList,"w-3 h-3")}))],onSelect:A=>{A.type==="column"?F(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id]):I(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id])},selectedIds:J,className:"w-full sm:w-64"}),u.jsx(ur,{options:se,selectedIds:O,onToggle:A=>{F(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>F([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:fe,selectedIds:T,onToggle:A=>{I(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:u.jsx(br,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:x,onChange:A=>w(A),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{F([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(A=>{var k;const ae=((k=M.find(U=>U.id===A))==null?void 0:k.name)||A;return u.jsxs("button",{type:"button",onClick:()=>F(U=>U.filter(W=>W!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ae}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),T.map(A=>u.jsxs("button",{type:"button",onClick:()=>I(ae=>ae.filter(k=>k!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:M.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var te,ie;const A=Z,ae=new Map,k=new Map;A.forEach(R=>{const B=new Map;R.rows.forEach(H=>{const X=H.account||H.name||H.id;X&&(B.set(X,H),k.has(X)||k.set(X,H))}),ae.set(R.id,B)});const U=Array.from(k.entries()).filter(([R])=>T.length===0||T.includes(String(R))).map(([R,B])=>{const H={},X={};return A.forEach($=>{var ve;const oe=(ve=ae.get($.id))==null?void 0:ve.get(R);if(!oe){H[$.id]="-",X[$.id]=0;return}if(x==="duration"){H[$.id]=oe.duration?`${oe.duration.toFixed(1)}s`:"-",X[$.id]=Number(oe.duration||0);return}const L=x==="total"?oe.total:oe.perSecond,V=x==="total"?0:1;X[$.id]=Number(L||0),H[$.id]=o(L||0,V)}),{key:R,row:B,values:H,numericValues:X}}),W=((te=A.find(R=>R.id===C.columnId))==null?void 0:te.id)||(i&&A.some(R=>R.id===i)?i:void 0)||((ie=A[0])==null?void 0:ie.id)||"",ee=[...U].sort((R,B)=>{if(!W)return String(R.key).localeCompare(String(B.key));const H=R.numericValues[W]??0,X=B.numericValues[W]??0;return(C.dir==="desc"?X-H:H-X)||String(R.key).localeCompare(String(B.key))});return u.jsx(fs,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:W,sortDirection:C.dir,onSortColumn:R=>{S(B=>({columnId:R,dir:B.columnId===R&&B.dir==="desc"?"asc":"desc"}))},columns:A.map(R=>({id:R.id,label:u.jsx(wr,{name:R.name,iconUrl:R.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ee.map((R,B)=>({id:`${R.key}-${B}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),l(R.row.profession,R.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:R.row.account||R.row.name||R.key})]}),values:R.values}))})})()})]}):u.jsx(Oo,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:A=>n(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(A=>u.jsx("button",{onClick:()=>a(A.id),title:A.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(wr,{name:iae(A.name),iconUrl:A.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},A.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(hs,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(wr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>le("total"),className:`text-right transition-colors ${x==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",D("total")]}),u.jsxs("button",{type:"button",onClick:()=>le("perSecond"),className:`text-right transition-colors ${x==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",D("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>le("duration"),className:`text-right transition-colors ${x==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",D("duration")]})]}),rows:u.jsx(u.Fragment,{children:K.map((A,ae)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ae+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(A.profession,A.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:A.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(A.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:o(A.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:A.duration?`${A.duration.toFixed(1)}s`:"-"})]},`${s.id}-${A.account}-${ae}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},sae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",oae=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,w]=v.useState("desc"),b=c==="sigil-relic-uptime",N=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((S,j)=>{const O=Number((S==null?void 0:S.uptimePerSecond)??(S==null?void 0:S.perSecond)??0),F=Number((j==null?void 0:j.uptimePerSecond)??(j==null?void 0:j.perSecond)??0),T=x==="desc"?F-O:O-F;return T!==0?T:String((S==null?void 0:S.account)||"").localeCompare(String((j==null?void 0:j.account)||""))}),C},[s,x]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:g("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(W1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]}),e?u.jsx(Oo,{expanded:b,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${b?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${b?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${b?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(wr,{name:sae(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(hs,{expanded:b,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(wr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>w(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",x==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:N.map((C,S)=>{const j=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:S+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(j,1),"%"]})]},`${s.id}-${C.account}-${S}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},lae=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:l})=>{const c=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=v.useState(""),[m,p]=v.useState(""),[g,y]=v.useState(null);v.useEffect(()=>{var G,Z,se;if(c.length===0){h(""),p("");return}const I=String(((G=c[0])==null?void 0:G.id)||""),M=String(((Z=c[1])==null?void 0:Z.id)||((se=c[0])==null?void 0:se.id)||"");h(fe=>fe&&c.some(J=>String(J.id)===fe)?fe:I),p(fe=>fe&&c.some(J=>String(J.id)===fe)?fe:M)},[c]);const x=v.useMemo(()=>c.find(I=>String(I.id)===String(f))||null,[c,f]),w=v.useMemo(()=>c.find(I=>String(I.id)===String(m))||null,[c,m]),b=v.useMemo(()=>{if(!x||!w)return[];const I=new Map,M=(G,Z,se,fe)=>{const J=String(G||"Unknown"),K=I.get(J)||{label:J,aDamage:0,aShare:0,bDamage:0,bShare:0};Z==="a"?(K.aDamage=Number(se||0),K.aShare=Number(fe||0)):(K.bDamage=Number(se||0),K.bShare=Number(fe||0)),I.set(J,K)};return(x.targetFocus||[]).forEach(G=>M(G.label,"a",G.damage,G.share)),(w.targetFocus||[]).forEach(G=>M(G.label,"b",G.damage,G.share)),Array.from(I.values()).map(G=>({...G,shareDelta:G.bShare-G.aShare})).sort((G,Z)=>Math.abs(Z.shareDelta)-Math.abs(G.shareDelta)||Z.bDamage+Z.aDamage-(G.bDamage+G.aDamage))},[x,w]),N=v.useMemo(()=>{if(!g)return b;const I=g.direction==="asc"?1:-1,M=g.key;return[...b].sort((G,Z)=>{const se=(Number(G[M])-Number(Z[M]))*I;return se!==0?se:G.label.localeCompare(Z.label)})},[b,g]),C=v.useMemo(()=>{if(!x||!w)return[];const I=new Map((x.squadMetrics||[]).map(Z=>[Z.metricId,Z])),M=new Map((w.squadMetrics||[]).map(Z=>[Z.metricId,Z]));return Array.from(new Set([...I.keys(),...M.keys()])).map(Z=>{const se=I.get(Z),fe=M.get(Z),J=!!((se==null?void 0:se.higherIsBetter)??(fe==null?void 0:fe.higherIsBetter)??!0),K=Number((se==null?void 0:se.value)||0),le=Number((fe==null?void 0:fe.value)||0);return{metricId:Z,metricLabel:String((se==null?void 0:se.metricLabel)||(fe==null?void 0:fe.metricLabel)||Z),higherIsBetter:J,a:se,b:fe,delta:le-K}})},[x,w]),S=I=>`${t((Number(I)||0)*100,1)}%`,j=I=>I==="squadKdr"?2:0,O=I=>{y(M=>!M||M.key!==I?{key:I,direction:"desc"}:{key:I,direction:M.direction==="desc"?"asc":"desc"})},F=I=>(g==null?void 0:g.key)===I?g.direction==="desc"?" ":" ":"",T=I=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(g==null?void 0:g.key)===I?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return u.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(L1,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),u.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]}),d?u.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[u.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),u.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):c.length<2?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:I=>h(I.target.value),children:c.map(I=>u.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-a-${I.id}`))})]}),u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:I=>p(I.target.value),children:c.map(I=>u.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-b-${I.id}`))})]})]}),u.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[u.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),u.jsxs("div",{children:["Target focus compares how your squad distributed damage ",u.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",u.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",u.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",u.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(hs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:b.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aDamage"),onClick:()=>O("aDamage"),children:[x==null?void 0:x.shortLabel," Damage",F("aDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aShare"),onClick:()=>O("aShare"),children:[x==null?void 0:x.shortLabel," Share",F("aShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bDamage"),onClick:()=>O("bDamage"),children:[w==null?void 0:w.shortLabel," Damage",F("bDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bShare"),onClick:()=>O("bShare"),children:[w==null?void 0:w.shortLabel," Share",F("bShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("shareDelta"),onClick:()=>O("shareDelta"),children:["Share Delta",F("shareDelta")]})})]})})]})}):null,rows:b.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:N.map(I=>u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.label}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.aDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:S(I.aShare)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.bDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:S(I.bShare)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${I.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[I.shareDelta>=0?"+":"",S(I.shareDelta)]})]},`focus-${I.label}`))})]})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[u.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),u.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(hs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),u.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),u.jsxs("th",{className:"text-right py-2 px-3",children:[w==null?void 0:w.shortLabel," Value"]}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:C.map(I=>{var Z,se;const M=I.higherIsBetter?I.delta>=0:I.delta<=0,G=j(I.metricId);return u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.metricLabel}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((Z=I.a)==null?void 0:Z.value)||0),G)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((se=I.b)==null?void 0:se.value)||0),G)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${M?"text-emerald-300":"text-red-300"}`,children:[I.delta>0?"+":"",t(I.delta,G)]})]},`performer-${I.metricId}`)})})]})}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},cae=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),uae=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=v.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),g=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(g)||g<=0||c.set(p,(c.get(p)||0)+g)})}),Array.from(c.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const g=Number(d);if(Number.isFinite(g)&&g>0)f=g>1e12?g:g*1e3;else{const y=Date.parse(d);Number.isFinite(y)&&y>0&&(f=y)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(An,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin===!0?"text-emerald-300":c.isWin===!1?"text-red-300":"text-amber-200"}`,children:c.isWin===!0?"Win":c.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Vv,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Vv,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Vv,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},cT={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},dae=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:c})=>{const d=cT[r]||cT.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},fae=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},uT=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},mae=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(rc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(X6,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(C0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Yp,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:uT(m.val,s)})]},p))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,g,y,x,w;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((g=m.data)==null?void 0:g.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((y=m.data)==null?void 0:y.profession)||"Unknown"})]})]}),(w=(x=m.data)==null?void 0:x.topStats)!=null&&w.some(b=>l(b.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(b=>l(b.name)).map((b,N)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:b.name}),u.jsx("span",{className:"tabular-nums leading-none",children:uT(b.val,s)})]},N))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,g=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,y=m?"":"Total ",x=m?" /s":"",w=[{icon:tU,title:`Down Contribution${x}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:_u,title:`${y}Barrier${x}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:_O,title:`${y}Healing${x}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:cU,title:`${y}Dodges${x}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:_f,title:`${y}Strips${x}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:J6,title:`${y}Cleanses${x}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:eU,title:`${y}CC${x}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:RO,title:`${y}Stab Gen${x}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:Y6,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],b=N=>!m||!Number.isFinite(N)?s(N):o(N,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:w.map(N=>{var F,T,I,M;const C=i==="all",S=fae((g==null?void 0:g[N.statKey])||[],N.higherIsBetter),j=S[0],O=j?{...N.data,value:Number(j.value||0),player:j.account||((F=N.data)==null?void 0:F.player)||"-",count:j.count||((T=N.data)==null?void 0:T.count)||0,profession:j.profession||((I=N.data)==null?void 0:I.profession)||"Unknown",professionList:j.professionList||((M=N.data)==null?void 0:M.professionList)||[]}:N.data;return u.jsx(dae,{...N,data:O,active:C,onClick:()=>a(G=>G==="all"?null:"all"),rows:S,formatValue:b,renderProfessionIcon:c},N.statKey)})})})()]}):null,hae=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",c=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=v.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((g,y)=>{const x=Number((g==null?void 0:g[c])||0);return Number((y==null?void 0:y[c])||0)-x||Number((y==null?void 0:y.hits)||0)-Number((g==null?void 0:g.hits)||0)||String((g==null?void 0:g.name)||"").localeCompare(String((y==null?void 0:y.name)||""))}),[o,d,f,e.topSkills,c]),m=v.useMemo(()=>Math.max(1,...h.map(g=>Number((g==null?void 0:g[c])||0))),[h,c]),p=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(_1,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(g=>{const y=(t||e.topSkillsMetric)===g.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(g.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${y?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:g.label},g.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[h.map((g,y)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(wr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(g[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(g[c]||0)/m*100}%`}})})]})]},`outgoing-${g.name||"unknown"}-${y}`)),h.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(H6,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((g,y)=>{var x;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(wr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(g.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${g.damage/(((x=e.topIncomingSkills[0])==null?void 0:x.damage)||1)*100}%`}})})]})]},`incoming-${g.name||"unknown"}-${y}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},pae=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(br,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(mw,{children:[u.jsx(zg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>u.jsx(Hu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(N0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(mw,{children:[u.jsx(zg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>u.jsx(Hu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},gae=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(br,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(qg,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(Zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(em,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(tm,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var f;const l=(f=o==null?void 0:o[0])==null?void 0:f.payload,c=(l==null?void 0:l.isWin)===!0?"Win":(l==null?void 0:l.isWin)===!1?"Loss":"Unknown";return`${typeof(l==null?void 0:l.label)=="string"&&l.label.trim().length>0?l.label:`Log ${s}`}  ${c}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(ro,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(ro,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),xae=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(R1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(mw,{children:[u.jsx(zg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>u.jsx(Hu,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(s_,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",u.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),dT=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:g,spikeMode:y,setSpikeMode:x,selectedSpikePlayerKey:w,setSelectedSpikePlayerKey:b,selectedSpikePlayer:N,spikeChartData:C,spikeChartMaxY:S,selectedSpikeFightIndex:j,setSelectedSpikeFightIndex:O,spikeDrilldownTitle:F,spikeDrilldownData:T,spikeDrilldownDownIndices:I,spikeDrilldownDeathIndices:M,spikeFightSkillRows:G=[],spikeFightSkillTitle:Z="Skill Damage (Selected Fight)",formatWithCommas:se,renderProfessionIcon:fe})=>{const[J,K]=v.useState(null),[le,D]=v.useState(null),A=L=>String(L||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),ae=s===e,k=N?ic(N.profession):"#fda4af",U=y==="hit"?"Highest Damage":y==="1s"?"1s Burst":y==="5s"?"5s Burst":"30s Burst",W=L=>y==="hit"?L.peakHit:y==="1s"?L.peak1s:y==="5s"?L.peak5s:L.peak30s,ee=g.flatMap(L=>L.players.map(V=>({...V,groupProfession:L.profession}))).sort((L,V)=>{const ve=W(V)-W(L);return ve!==0?ve:L.displayName.localeCompare(V.displayName)}),te=C.reduce((L,V)=>!L||V.damage>L.damage?V:L,null),ie=L=>{if(!Number.isFinite(L)||L<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(L))}catch{return""}},R=T.reduce((L,V)=>Math.max(L,Number(V.value||0)),0),B=Math.max(1,R),H=new Set(I),X=new Set(M),$=T.map((L,V)=>({...L,downMarker:H.has(V)?Math.max(Number(L.value||0),B*.88):null,deathMarker:X.has(V)?Math.max(Number(L.value||0),B*.96):null})),oe=L=>V=>{const ve=Number(V==null?void 0:V.cx),Ne=Number(V==null?void 0:V.cy),tt=Number(V==null?void 0:V.index);if(!Number.isFinite(ve)||!Number.isFinite(Ne)||!Number.isFinite(tt))return null;const z=(V==null?void 0:V.payload)||{},Re=L==="down"?z==null?void 0:z.downMarker:z==null?void 0:z.deathMarker;if(!Number.isFinite(Number(Re)))return null;const Ce=`${L}-${tt}`,lt=J===Ce,Jt=L==="down"?"#facc15":"#ef4444",fn=L==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{K(Ce),D({x:ve,y:Ne,kind:L,label:String((z==null?void 0:z.label)||"")})},onMouseLeave:()=>{K(me=>me===Ce?null:me),D(me=>(me==null?void 0:me.kind)===L&&(me==null?void 0:me.label)===String((z==null?void 0:z.label)||"")?null:me)},children:[u.jsx("circle",{cx:ve,cy:Ne,r:lt?10:7,fill:fn,opacity:lt?.35:.18}),u.jsx("circle",{cx:ve,cy:Ne,r:lt?7:5.5,fill:Jt,stroke:"#0f172a",strokeWidth:lt?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${ae?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:ae?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(_f,{className:`w-5 h-5 ${a}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${ae?"pr-10 md:pr-0":""}`,children:[u.jsx(An,{value:y,onChange:L=>x(L),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>ae?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${ae?"absolute top-2 right-2 md:static":""}`,"aria-label":ae?`Close ${t}`:`Expand ${t}`,title:ae?"Close":"Expand",children:ae?u.jsx(_i,{className:"w-4 h-4"}):u.jsx(Zi,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:L=>p(L.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:ee.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:ee.map(L=>{const V=w===L.key;return u.jsx("button",{type:"button",onClick:()=>b(L.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${V?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[fe(L.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:L.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:L.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[L.characterName||L.displayName,"  ",L.logs," ",L.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:se(W(L)||0,0)})]})},L.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",U]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!N||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(qg,{data:C,onClick:L=>{const V=Number(L==null?void 0:L.activeTooltipIndex);Number.isFinite(V)&&O(j===V?null:V)},children:[u.jsx(Zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(em,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(tm,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,S)],tickFormatter:L=>se(L,0)}),u.jsx(kc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(L,V)=>[se(Number(L||0),0),String(V||"")],labelFormatter:(L,V)=>{var tt;const ve=(tt=V==null?void 0:V[0])==null?void 0:tt.payload;if(!ve)return"";const Ne=A(ve.fullLabel||"");return y==="hit"&&ve.skillName?`${Ne}  ${ve.skillName}`:Ne}}),u.jsx(ro,{type:"monotone",dataKey:"damage",name:N.displayName,stroke:k,strokeWidth:3,dot:L=>{var Ne;const V=Number((Ne=L==null?void 0:L.payload)==null?void 0:Ne.index);if(!Number.isFinite(V))return null;const ve=j===V;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:tt=>{tt.stopPropagation(),O(ve?null:V)},children:[u.jsx("circle",{cx:L.cx,cy:L.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:L.cx,cy:L.cy,r:ve?4:3,fill:k,stroke:ve?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:ve?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(ro,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),N&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[fe(N.profession,N.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Highest Skill Damage":`Peak ${U}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:se(W(N)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const L=A((te==null?void 0:te.fullLabel)||N.peakFightLabel||"N/A"),V=ie(Number((te==null?void 0:te.timestamp)||0)),ve=V?`${V} - ${L}`:L;return y!=="hit"?ve:N.peakSkillName?`${N.peakSkillName}  ${ve}`:ve})()})]})]}),N&&j!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:F}),u.jsx("button",{type:"button",onClick:()=>O(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:T.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(qg,{data:$,children:[u.jsx(Zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(em,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(tm,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:L=>se(L,0)}),u.jsx(kc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(L,V)=>{const ve=String(V||"");return ve==="Down"?["Downed","Event"]:ve==="Death"?["Dead","Event"]:[se(Number(L||0),0),"Damage"]},labelFormatter:L=>String(L||"")}),u.jsx(ro,{type:"monotone",dataKey:"value",name:"Damage",stroke:k,strokeWidth:2.5,dot:y==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(ro,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:oe("down")}),u.jsx(ro,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:oe("death")})]})}),le&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,le.x)}px`,top:`${Math.max(8,le.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${le.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:le.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:le.label})]})]})})]}),N&&j!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${G.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:Z}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[G.length," ",G.length===1?"skill":"skills"]})]}),G.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:G.map((L,V)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:L.skillName,children:L.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:se(Number(L.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:se(Number(L.hits||0),0)})]},`${L.skillName}-${V}`))})]})]})]})},vae=10,qh=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},fT=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},yae=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},bae=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(""),[o,l]=v.useState("squad"),[c,d]=v.useState("desc"),f=a.trim().toLowerCase(),h=v.useMemo(()=>{const y=e.filter(w=>{if(!f)return!0;const b=String(w.account||"").toLowerCase(),N=(w.characterNames||[]).join(" ").toLowerCase(),C=(w.classTimes||[]).map(S=>String(S.profession||"").toLowerCase()).join(" ");return b.includes(f)||N.includes(f)||C.includes(f)}),x=w=>Number(o==="fight"?w.combatTimeMs??w.squadTimeMs??0:w.squadTimeMs??0);return[...y].sort((w,b)=>{const N=x(b)-x(w);return N!==0?c==="desc"?N:-N:String(w.account||"").localeCompare(String(b.account||""))})},[e,f,c,o]),m=y=>{if(o===y){d(x=>x==="desc"?"asc":"desc");return}l(y),d("desc")},p=h.length>vae,g=()=>{const y=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],x=h.map(j=>{const O=(j.classTimes||[]).map(F=>`${F.profession} (${qh(F.timeMs)})`).join("; ");return[j.account||"",(j.characterNames||[]).join(", "),O,fT(Number(j.combatTimeMs??j.squadTimeMs??0)),fT(j.squadTimeMs)]}),w=[y,...x].map(j=>j.map(O=>yae(String(O??""))).join(",")).join(`
`),b=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(b),C=document.createElement("a"),S=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=N,C.download=`attendance-ledger-${S}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(N)};return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(If,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[u.jsx("input",{value:a,onChange:y=>s(y.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),u.jsxs("button",{type:"button",onClick:g,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[u.jsx(Q6,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[h.map(y=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:y.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:y.characterNames.length>0?y.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.classTimes.length>0?y.classTimes.map(x=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?u.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:x.profession}),u.jsx("span",{className:"text-gray-400",children:qh(x.timeMs)})]},`${y.account}-${x.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:qh(Number(y.combatTimeMs??y.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:qh(y.squadTimeMs)})]},y.account)),h.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},wae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},kae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null),[o,l]=v.useState(""),c=o.trim().toLowerCase(),d=fm("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=v.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!c)return!1;const p=String(m.account||"").toLowerCase(),g=String(m.characterName||"").toLowerCase(),y=String(m.profession||"").toLowerCase();return p.includes(c)||g.includes(c)||y.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(br,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return u.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",wae(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,g)=>(()=>{const y=h(p);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${y?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?u.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:u.jsx("span",{className:"truncate min-w-0",children:p.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${g}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Sae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Nae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null);v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(c=>c.id===a))&&s(e[0].id)},[e,a]);const o=v.useMemo(()=>e.find(c=>c.id===a)||null,[e,a]),l=v.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[o]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(rl,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===a;return u.jsxs("button",{onClick:()=>s(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Sae(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(c.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,h)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${o.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Cae=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const h=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(LO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(rc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[i&&u.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(C0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:o,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(lU,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(aU,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},jae=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=v.useState("idle"),c=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(rU,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx($O,{className:"w-3 h-3"}),r==="errored"&&u.jsx(BO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},Aae=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Ps="space-y-1 pr-1 max-h-72 overflow-y-auto",Pae=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Tae=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],mT={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},Wv=[];function Eae({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,statsDataProgress:p,aggregationResult:g}){var KN,GN;const y=n||HO,x=r||mb,w=a||PU,b=x.showTopStats,N=x.showMvp,C=x.roundCountStats,S=x.topStatsMode||"total",[j,O]=v.useState(x.topSkillsMetric||"damage"),F=(i?x.topSkillsMetric:j)||"damage",T=w.uploading,I=w.message,M=w.url,G=w.buildStatus,Z=!c&&!1,[se,fe]=v.useState(!0),J=v.useCallback(_=>d?d(_):!0,[d]),K=!!g,{result:le,aggregationProgress:D,aggregationDiagnostics:A}=I8({logs:K?[]:e,precomputedStats:K?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),ae=g||le,k=(g==null?void 0:g.aggregationProgress)||D,U=(g==null?void 0:g.aggregationDiagnostics)||A,{stats:W,skillUsageData:ee}=ae,te=v.useMemo(()=>{const _=Math.max(0,Number((p==null?void 0:p.total)||e.length||0)),re=Math.min(_,Math.max(0,Number((p==null?void 0:p.pending)||0))),ue=Math.min(_,Math.max(0,Number((p==null?void 0:p.processed)||_-re))),Oe=Math.max(0,Number((p==null?void 0:p.unavailable)||0));if(!!(p!=null&&p.active)&&_>0&&re>0){const Dt=_>0?Math.max(1,Math.min(99,Math.round(ue/_*100))):0,Kt=Oe>0?`  ${Oe} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${ue} of ${_} fights prepared${Kt}`,progressPercent:Dt}}if(_>0&&Oe>=_)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${Oe} of ${_} fights could not be loaded from dps.report`,progressPercent:100};if(_>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const _e=Math.max(0,Number((k==null?void 0:k.total)||e.length||0));if(!(!!(k!=null&&k.active)&&(k==null?void 0:k.phase)!=="idle"&&(k==null?void 0:k.phase)!=="settled"&&_e>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const Ke=Math.min(Math.max(Number((k==null?void 0:k.streamed)||0),0),_e),ut=(k==null?void 0:k.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",Ze=(k==null?void 0:k.phase)==="streaming"?`${Ke} of ${_e} fights loaded`:"All fights loaded  calculating final totals",St=(k==null?void 0:k.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(Ke/_e*100))):99;return{active:!0,phaseLabel:ut,progressText:Ze,progressPercent:St}},[p,k,e.length]),ie=v.useMemo(()=>{if(!U)return"";const _=Oe=>{const Pe=Math.max(0,Number(Oe||0));return Pe>=1e4?`${(Pe/1e3).toFixed(1)}s`:Pe>=1e3?`${(Pe/1e3).toFixed(2)}s`:`${Math.round(Pe)}ms`},re=[`Load ${_(U.streamMs)}`,`Calculate ${_(U.computeMs)}`,`Total ${_(U.totalMs)}`],ue=U.transferStripStats;if(U.mode==="worker"&&ue){const Oe=Number(ue.spikeSkillRowsRemoved||0),Pe=Number(ue.incomingSkillRowsRemoved||0),_e=Number(ue.playerSkillMapsRemoved||0),ce=Oe+Pe+_e;ce>0&&re.push(`Cleaned up ${ce.toLocaleString()} temporary records`)}return U.mode==="worker"&&Number(U.droppedLogMessages||0)>0&&re.push(`Skipped ${Number(U.droppedLogMessages||0)} outdated updates`),re.join("  ")},[U]),R=te.active,B=te.phaseLabel,H=te.progressText,X=R&&te.progressPercent<100;v.useEffect(()=>{if(R){fe(!1);return}let _=!1;const re=()=>{_||fe(!0)},ue=window.requestIdleCallback;let Oe=null;return typeof ue=="function"?Oe=ue(()=>re(),{timeout:220}):Oe=window.setTimeout(re,60),()=>{if(_=!0,Oe!==null)if(typeof ue=="function"){const Pe=window.cancelIdleCallback;typeof Pe=="function"&&Pe(Oe)}else window.clearTimeout(Oe)}},[R]);const $=se&&!R,oe=$&&J("top-skills-outgoing"),L=$&&J("skill-usage"),V=$&&J("apm-stats"),ve=$&&J("spike-damage"),Ne=$&&J("incoming-strike-damage"),tt=$&&J("conditions-outgoing"),z=v.useMemo(()=>{var Ze,St,Dt,Kt,er,Wt;const _=W&&typeof W=="object"?W:{},re=Se=>Array.isArray(Se)?Se:[],ue=Se=>Se&&typeof Se=="object"?Se:{},Oe=(Se,pt)=>Se&&typeof Se=="object"?Se:pt,Pe={value:0,player:"-",profession:"Unknown",professionList:[],count:0},_e={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},ce={..._,total:Number(_.total||0),timelineData:re(_.timelineData),mapData:re(_.mapData),fightBreakdown:re(_.fightBreakdown),topSkills:re(_.topSkills),topIncomingSkills:re(_.topIncomingSkills),leaderboards:ue(_.leaderboards),topStatsPerSecond:ue(_.topStatsPerSecond),topStatsLeaderboardsPerSecond:ue(_.topStatsLeaderboardsPerSecond),maxDownContrib:Oe(_.maxDownContrib,Pe),maxBarrier:Oe(_.maxBarrier,Pe),maxHealing:Oe(_.maxHealing,Pe),maxDodges:Oe(_.maxDodges,Pe),maxStrips:Oe(_.maxStrips,Pe),maxCleanses:Oe(_.maxCleanses,Pe),maxCC:Oe(_.maxCC,Pe),maxStab:Oe(_.maxStab,Pe),closestToTag:Oe(_.closestToTag,Pe),mvp:{..._e,...ue(_.mvp),topStats:re((Ze=_==null?void 0:_.mvp)==null?void 0:Ze.topStats)},silver:Oe(_.silver,_e),bronze:Oe(_.bronze,_e),avgMvpScore:Number(_.avgMvpScore||0),offensePlayers:re(_.offensePlayers),defensePlayers:re(_.defensePlayers),damageMitigationPlayers:re(_.damageMitigationPlayers),damageMitigationMinions:re(_.damageMitigationMinions),supportPlayers:re(_.supportPlayers),healingPlayers:re(_.healingPlayers),boonTables:re(_.boonTables),specialTables:re(_.specialTables),outgoingConditionSummary:re(_.outgoingConditionSummary),outgoingConditionPlayers:re(_.outgoingConditionPlayers),incomingConditionSummary:re(_.incomingConditionSummary),incomingConditionPlayers:re(_.incomingConditionPlayers),squadClassData:re(_.squadClassData),enemyClassData:re(_.enemyClassData),attendanceData:re(_.attendanceData),squadCompByFight:re(_.squadCompByFight),fightDiffMode:re(_.fightDiffMode),playerSkillBreakdowns:re(_.playerSkillBreakdowns)},ut=re((St=ce.leaderboards)==null?void 0:St.downContrib).map(Se=>({...Se,value:Number((Se==null?void 0:Se.value)??0)})).filter(Se=>Number.isFinite(Se.value)).sort((Se,pt)=>pt.value-Se.value||String((Se==null?void 0:Se.account)||"").localeCompare(String((pt==null?void 0:pt.account)||"")))[0];return ut&&(ce.maxDownContrib={...ce.maxDownContrib||{},value:Number(ut.value||0),player:String(ut.account||((Dt=ce.maxDownContrib)==null?void 0:Dt.player)||"-"),count:Number(ut.count||((Kt=ce.maxDownContrib)==null?void 0:Kt.count)||0),profession:String(ut.profession||((er=ce.maxDownContrib)==null?void 0:er.profession)||"Unknown"),professionList:Array.isArray(ut.professionList)?ut.professionList:((Wt=ce.maxDownContrib)==null?void 0:Wt.professionList)||[]}),ce},[W]);v.useEffect(()=>{var Pe;if(!((Pe=window==null?void 0:window.electronAPI)!=null&&Pe.fetchImageAsDataUrl)||R)return;let _=!1;const re=()=>{if(_)return;const _e=new Set,ce=St=>{typeof St=="string"&&/^https?:\/\//i.test(St)&&_e.add(St)},Ke=St=>{St.forEach(Dt=>{ce(Dt==null?void 0:Dt.icon),ce(Dt==null?void 0:Dt.iconUrl)})};Ke(Array.isArray(z==null?void 0:z.topSkills)?z.topSkills:[]),Ke(Array.isArray(z==null?void 0:z.topIncomingSkills)?z.topIncomingSkills:[]),Ke(Array.isArray(z==null?void 0:z.topSkillsByDamage)?z.topSkillsByDamage:[]),Ke(Array.isArray(z==null?void 0:z.topSkillsByDownContribution)?z.topSkillsByDownContribution:[]),Ke(Array.isArray(z==null?void 0:z.outgoingConditionSummary)?z.outgoingConditionSummary:[]),Ke(Array.isArray(z==null?void 0:z.incomingConditionSummary)?z.incomingConditionSummary:[]),(Array.isArray(z==null?void 0:z.boonTables)?z.boonTables:[]).forEach(St=>{ce(St==null?void 0:St.icon)}),(Array.isArray(z==null?void 0:z.specialTables)?z.specialTables:[]).forEach(St=>{ce(St==null?void 0:St.icon)}),oe&&(Array.isArray(z==null?void 0:z.playerSkillBreakdowns)?z.playerSkillBreakdowns:[]).forEach(Dt=>{const Kt=Array.isArray(Dt==null?void 0:Dt.skills)?Dt.skills:[];Ke(Kt)}),_e.size>0&&zie(Array.from(_e))},ue=window.requestIdleCallback;let Oe=null;return typeof ue=="function"?Oe=ue(()=>re(),{timeout:500}):Oe=window.setTimeout(re,120),()=>{if(_=!0,Oe!==null)if(typeof ue=="function"){const _e=window.cancelIdleCallback;typeof _e=="function"&&_e(Oe)}else window.clearTimeout(Oe)}},[z,R,oe]);const Re=v.useMemo(()=>{const _=(l==null?void 0:l.skillUsageData)??ee;return{logRecords:Array.isArray(_==null?void 0:_.logRecords)?_.logRecords:[],players:Array.isArray(_==null?void 0:_.players)?_.players:[],skillOptions:Array.isArray(_==null?void 0:_.skillOptions)?_.skillOptions:[],resUtilitySkills:Array.isArray(_==null?void 0:_.resUtilitySkills)?_.resUtilitySkills:[]}},[ee,l==null?void 0:l.skillUsageData]),Ce=Re.players.length>0;v.useEffect(()=>{i||O(x.topSkillsMetric||"damage")},[x.topSkillsMetric,i]);const lt=_=>{if(i){i({...x,topSkillsMetric:_});return}O(_)},{scrollContainerRef:Jt}=dU(c,!0,X),{devMockUploadState:fn,webCopyStatus:me,setWebCopyStatus:ze,handleWebUpload:Mt,handleDevMockUpload:en}=LU({logs:e,stats:z,skillUsageData:Re,activeStatsViewSettings:r||mb,uiTheme:h||"classic",embedded:c,onWebUpload:s}),{sharing:hn,handleShare:hr}=E8(c),Dn={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},nn=_=>{const re=Dn[_];return re?y[re]>0:!0},[Wa,mn]=v.useState(null),[vn,bn]=v.useState(null),[ui,jr]=v.useState("totalBuffs"),[kr,Oc]=v.useState("total"),[Ws,_o]=v.useState(""),[pr,Ha]=v.useState(null),[Lr,qa]=v.useState(""),[Li,na]=v.useState(null),[ys,Ic]=v.useState(""),[ra,Ka]=v.useState(""),[Ga,ud]=v.useState(""),[Lo,_c]=v.useState(""),[dd,fd]=v.useState(""),[bs,Lc]=v.useState(""),[ws,$c]=v.useState(""),[Y,ye]=v.useState("outgoing"),[Ee,ct]=v.useState(""),[_t,Bt]=v.useState("damage"),[rn,Nt]=v.useState("damageTaken"),[ht,Tn]=v.useState("totalMitigation"),[E,P]=v.useState("all"),[q,he]=v.useState({key:"damage",dir:"desc"}),Ae=!(E!=="all"&&Pae.has(E)),we=Ae?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",$e=Ae?q:{key:"applications",dir:q.key==="applications"?q.dir:"desc"},[Ye,dt]=v.useState("condiCleanse"),[zt,qt]=v.useState("healing"),[an,et]=v.useState("total"),[Qe,xt]=v.useState("all"),[Rt,Qt]=v.useState("total"),[ke,Te]=v.useState("total"),[Ue,Fe]=v.useState("total"),[rt,st]=v.useState("total"),[be,ot]=v.useState("all"),[De,Q]=v.useState("squad"),[Be,it]=v.useState("player"),[Lt,ft]=v.useState(""),[ge,Vt]=v.useState(""),[xe,Me]=v.useState(null),[Xe,mt]=v.useState([]),[Ve,Le]=v.useState(null),[Je,at]=v.useState(null),[kt,pn]=v.useState("hit"),[Ht,zn]=v.useState(null),[ln,Ar]=v.useState(null),[Zt,Jr]=v.useState("hit"),[Sn,Ct]=v.useState([]),[vt,Cn]=v.useState(null),[tn,ki]=v.useState(!1),gr=v.useRef(null),[Dl,$o]=v.useState("sizes"),[Hs,Xm]=v.useState("total"),Qm=Hs==="perSecond",[Zm,Jm]=v.useState(null),[eh,Ie]=v.useState("total"),[qe,We]=v.useState(null),[nt,Et]=v.useState(null),[cn,_n]=v.useState(null),[$r,$i]=v.useState(""),[ei,ti]=v.useState(null),[Ya,Fo]=v.useState(null),[sr,Ml]=v.useState(null),[md,Sa]=v.useState(""),[Ro,th]=v.useState("player"),[ks,Fc]=v.useState(null),[nh,hd]=v.useState(null),[Na,qs]=v.useState(null),Fi=V?Re:mT,{apmSpecBuckets:Ri}=_8(Fi),Bi=v.useMemo(()=>oe?z.playerSkillBreakdowns||[]:Wv,[oe,z.playerSkillBreakdowns]),Ks=v.useMemo(()=>{const _=new Map;return Bi.forEach(re=>_.set(re.key,re)),_},[Bi]),Ca=v.useMemo(()=>{const _=new Map;return Bi.forEach(re=>{const ue=re.profession||"Unknown";_.has(ue)||_.set(ue,{profession:ue,players:[],skills:new Map});const Oe=_.get(ue);Oe.players.push(re),re.skills.forEach(Pe=>{var ce;const _e=Oe.skills.get(Pe.id)||{...Pe,damage:0,downContribution:0};_e.damage+=Number(Pe.damage||0),_e.downContribution+=Number(Pe.downContribution||0),!_e.icon&&Pe.icon&&(_e.icon=Pe.icon),(ce=_e.name)!=null&&ce.startsWith("Skill ")&&!Pe.name.startsWith("Skill ")&&(_e.name=Pe.name),Oe.skills.set(Pe.id,_e)})}),Array.from(_.values()).map(re=>{const ue=Array.from(re.skills.values()).sort((Pe,_e)=>_e.damage-Pe.damage),Oe=ue.reduce((Pe,_e)=>(Pe[_e.id]=_e,Pe),{});return{profession:re.profession,players:re.players,skills:ue,skillMap:Oe}}).sort((re,ue)=>re.profession.localeCompare(ue.profession))},[Bi]),Gs=ei&&Ks.get(ei)||null,dR=Gs&&sr&&(((KN=Gs.skillMap)==null?void 0:KN[sr])||Gs.skills.find(_=>_.id===sr))||null,Rx=v.useMemo(()=>{const _=new Map;return Ca.forEach(re=>_.set(re.profession,re)),_},[Ca]),Bo=ks&&Rx.get(ks)||null,fR=Bo&&Na&&((GN=Bo.skillMap)==null?void 0:GN[Na])||null,rh=(_,re)=>{if(!re)return null;const ue=Number(re.index);if(Number.isInteger(ue)&&ue>=0&&ue<_.length)return _[ue]||null;const Oe=String(re.fightId||"").trim();return Oe&&_.find(Pe=>String((Pe==null?void 0:Pe.id)||"").trim()===Oe)||null},zo=_=>{if(_&&typeof _=="object"){const ue=Number((_==null?void 0:_.damage)||0);return{hit:Number((_==null?void 0:_.hit)??ue),burst1s:Number((_==null?void 0:_.burst1s)||0),burst5s:Number((_==null?void 0:_.burst5s)||0),burst30s:Number((_==null?void 0:_.burst30s)||0),skillName:String((_==null?void 0:_.skillName)||""),buckets5s:Array.isArray(_==null?void 0:_.buckets5s)?_.buckets5s:void 0,downIndices5s:Array.isArray(_==null?void 0:_.downIndices5s)?_.downIndices5s:void 0,deathIndices5s:Array.isArray(_==null?void 0:_.deathIndices5s)?_.deathIndices5s:void 0,skillRows:Array.isArray(_==null?void 0:_.skillRows)?_.skillRows:void 0}}return{hit:Number(_||0),burst1s:0,burst5s:0,burst30s:0,skillName:"",buckets5s:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},ia=v.useMemo(()=>{if(!ve)return{fights:[],players:[]};const _=Se=>String(Se||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),re=Se=>_(Se).toLowerCase().split(/[^a-z0-9]+/i).map(pt=>pt.trim()).filter(Boolean).map(pt=>pt.length>3&&pt.endsWith("s")?pt.slice(0,-1):pt),ue=(Se,pt)=>{const de=_(Se),Ot=_(pt);if(!Ot)return de;if(!de)return Ot;const jt=re(de),Pt=re(Ot),It=new Set(jt),un=new Set(Pt),on=Pt.length>0&&Pt.every(wn=>It.has(wn)),yn=jt.length>0&&jt.every(wn=>un.has(wn));return on||yn?de:`${de} - ${Ot}`},Oe=Se=>{if(Se==null||Se==="")return 0;if(typeof Se=="number")return!Number.isFinite(Se)||Se<=0?0:Se>1e12?Se:Se*1e3;if(Se instanceof Date){const It=Se.getTime();return Number.isFinite(It)&&It>0?It:0}const pt=String(Se).trim();if(!pt)return 0;const de=Number(pt);if(Number.isFinite(de)&&de>0)return de>1e12?de:de*1e3;const Ot=Date.parse(pt);if(Number.isFinite(Ot)&&Ot>0)return Ot;const jt=pt.replace(/([+-]\d{2})$/,"$1:00"),Pt=Date.parse(jt);return Number.isFinite(Pt)&&Pt>0?Pt:0},Pe=(Se,pt)=>Oe((Se==null?void 0:Se.uploadTime)??(pt==null?void 0:pt.uploadTime)??(Se==null?void 0:Se.timeStartStd)??(Se==null?void 0:Se.timeStart)??(Se==null?void 0:Se.timeEndStd)??(Se==null?void 0:Se.timeEnd)),_e=z==null?void 0:z.spikeDamage,ce=Array.isArray(_e==null?void 0:_e.fights)?_e.fights:[],Ke=Array.isArray(_e==null?void 0:_e.players)?_e.players:[],ut=ce.some(Se=>(Se!=null&&Se.values&&typeof Se.values=="object"?Object.values(Se.values):[]).some(de=>de&&typeof de=="object"&&(Number(de.burst1s||0)>0||Number(de.burst5s||0)>0||Number(de.burst30s||0)>0)))||Ke.some(Se=>Number((Se==null?void 0:Se.peak1s)||0)>0||Number((Se==null?void 0:Se.peak5s)||0)>0||Number((Se==null?void 0:Se.peak30s)||0)>0);if((ce.length>0||Ke.length>0)&&(ut||e.length===0)){const Se=ce.map((de,Ot)=>{const jt=de!=null&&de.values&&typeof de.values=="object"?de.values:{};return{id:String((de==null?void 0:de.id)||`fight-${Ot+1}`),shortLabel:String((de==null?void 0:de.shortLabel)||`F${Ot+1}`),fullLabel:_((de==null?void 0:de.fullLabel)||`Fight ${Ot+1}`),timestamp:Number((de==null?void 0:de.timestamp)||0),values:jt,maxHit:Number((de==null?void 0:de.maxHit)??(de==null?void 0:de.maxDamage)??0),max1s:Number((de==null?void 0:de.max1s)||0),max5s:Number((de==null?void 0:de.max5s)||0),max30s:Number((de==null?void 0:de.max30s)||0)}}),pt=Ke.map(de=>({key:String((de==null?void 0:de.key)||""),account:String((de==null?void 0:de.account)||"Unknown"),displayName:String((de==null?void 0:de.displayName)||(de==null?void 0:de.account)||"Unknown"),characterName:String((de==null?void 0:de.characterName)||(de==null?void 0:de.name)||(de==null?void 0:de.character_name)||(de==null?void 0:de.display_name)||""),profession:String((de==null?void 0:de.profession)||"Unknown"),professionList:Array.isArray(de==null?void 0:de.professionList)?de.professionList.map(Ot=>String(Ot)):[],logs:Number((de==null?void 0:de.logs)||0),peakHit:Number((de==null?void 0:de.peakHit)||0),peak1s:Number((de==null?void 0:de.peak1s)||0),peak5s:Number((de==null?void 0:de.peak5s)||0),peak30s:Number((de==null?void 0:de.peak30s)||0),peakFightLabel:_((de==null?void 0:de.peakFightLabel)||""),peakSkillName:String((de==null?void 0:de.peakSkillName)||"")}));return{fights:Se,players:pt}}const St=(Se,pt)=>{const de=(pt==null?void 0:pt.skillMap)||{},Ot=(pt==null?void 0:pt.buffMap)||{};let jt=0,Pt="";const It=yn=>{const wn=Number(yn);if(!Number.isFinite(wn))return String(yn||"Unknown Skill");const Gt=(de==null?void 0:de[`s${wn}`])||(de==null?void 0:de[`${wn}`]);if(Gt!=null&&Gt.name)return String(Gt.name);const wt=(Ot==null?void 0:Ot[`b${wn}`])||(Ot==null?void 0:Ot[`${wn}`]);return wt!=null&&wt.name?String(wt.name):`Skill ${wn}`},un=yn=>{if(!yn||typeof yn!="object")return;const wn=[Number(yn.max),Number(yn.maxDamage),Number(yn.maxHit)].filter(wt=>Number.isFinite(wt)),Gt=wn.length>0?Math.max(...wn):0;Gt>jt&&(jt=Gt,Pt=It(yn.id))};let on=!1;return Array.isArray(Se==null?void 0:Se.targetDamageDist)&&Se.targetDamageDist.forEach(yn=>{Array.isArray(yn)&&yn.forEach(wn=>{Array.isArray(wn)&&wn.forEach(Gt=>{on=!0,un(Gt)})})}),(!on||jt<=0)&&Array.isArray(Se==null?void 0:Se.totalDamageDist)&&Se.totalDamageDist.forEach(yn=>{Array.isArray(yn)&&yn.forEach(wn=>un(wn))}),{peak:jt,skillName:Pt||"Unknown Skill"}},Dt=(Se,pt)=>{const de=Gt=>{if(!Array.isArray(Gt)||Gt.length===0)return[];const wt=[];for(let dn=0;dn<Gt.length;dn+=1){const Mn=Number(Gt[dn]||0),tr=dn>0?Number(Gt[dn-1]||0):0;wt.push(Math.max(0,Mn-tr))}return wt},Ot=(Gt,wt)=>{if(!Array.isArray(Gt)||Gt.length===0||wt<=0)return 0;let dn=0,Mn=0;for(let tr=0;tr<Gt.length;tr+=1)dn+=Number(Gt[tr]||0),tr>=wt&&(dn-=Number(Gt[tr-wt]||0)),tr>=wt-1&&dn>Mn&&(Mn=dn);return Math.max(0,Mn)},jt=Gt=>{if(!Array.isArray(Gt))return[];const wt=Gt.reduce((Mn,tr)=>Math.max(Mn,Array.isArray(tr)?tr.length:0),0);if(wt<=0)return[];const dn=new Array(wt).fill(0);return Gt.forEach(Mn=>{if(Array.isArray(Mn))for(let tr=0;tr<wt;tr+=1)dn[tr]+=Number(Mn[tr]||0)}),dn},Pt=Gt=>Array.isArray(Gt)?Gt.map(wt=>Number(wt||0)):null,un=(Gt=>{if(!Array.isArray(Gt)||Gt.length===0)return null;const wt=Gt[0];if(!Array.isArray(wt))return null;if(Array.isArray(wt[0])&&Array.isArray(wt[0][0]))return jt(wt);if(Array.isArray(wt[0])&&!Array.isArray(wt[0][0])){const dn=Gt.map(Mn=>Pt(Array.isArray(Mn)?Mn[0]:null)).filter(Mn=>Array.isArray(Mn)&&Mn.length>0);if(dn.length>0)return jt(dn)}return null})(Se==null?void 0:Se.targetDamage1S),on=Array.isArray(Se==null?void 0:Se.damage1S)&&Array.isArray(Se.damage1S[0])?Se.damage1S[0]:null,yn=un||(Array.isArray(on)?on.map(Gt=>Number(Gt||0)):[]),wn=de(yn);return Ot(wn,pt)},Kt=[],er=new Map;e.forEach(Se=>{const pt=Se==null?void 0:Se.details;if(!pt)return;const de=Kt.length+1,Ot=_(pt.fightName||Se.fightName||`Fight ${de}`),jt=pt.zone||pt.mapName||pt.map||pt.location||"",Pt=ue(Ot,String(jt||"")),It={};(Array.isArray(pt.players)?pt.players:[]).forEach(wt=>{if(wt!=null&&wt.notInSquad)return;const dn=String((wt==null?void 0:wt.account)||(wt==null?void 0:wt.name)||"Unknown"),Mn=String((wt==null?void 0:wt.character_name)||(wt==null?void 0:wt.display_name)||(wt==null?void 0:wt.name)||""),tr=String((wt==null?void 0:wt.profession)||"Unknown"),Ol=`${dn}|${tr}`,xd=St(wt,pt),uh=Number(xd.peak||0),zc=Number(Dt(wt,1)||0),Uc=Number(Dt(wt,5)||0),vd=Number(Dt(wt,30)||0);It[Ol]={hit:uh,burst1s:zc,burst5s:Uc,burst30s:vd,skillName:xd.skillName};const Pr=er.get(Ol)||{key:Ol,account:dn,displayName:dn,characterName:Mn,profession:tr,professionList:[tr],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Pr.logs+=1,Pr.professionList.includes(tr)||Pr.professionList.push(tr),!Pr.characterName&&Mn&&(Pr.characterName=Mn),uh>Pr.peakHit&&(Pr.peakHit=uh,Pr.peakFightLabel=Pt,Pr.peakSkillName=xd.skillName),zc>Pr.peak1s&&(Pr.peak1s=zc),Uc>Pr.peak5s&&(Pr.peak5s=Uc),vd>Pr.peak30s&&(Pr.peak30s=vd),er.set(Ol,Pr)});const on=Object.values(It).reduce((wt,dn)=>Math.max(wt,Number((dn==null?void 0:dn.hit)||0)),0),yn=Object.values(It).reduce((wt,dn)=>Math.max(wt,Number((dn==null?void 0:dn.burst1s)||0)),0),wn=Object.values(It).reduce((wt,dn)=>Math.max(wt,Number((dn==null?void 0:dn.burst5s)||0)),0),Gt=Object.values(It).reduce((wt,dn)=>Math.max(wt,Number((dn==null?void 0:dn.burst30s)||0)),0);Kt.push({id:Se.filePath||Se.id||`fight-${de}`,shortLabel:`F${de}`,fullLabel:Pt,timestamp:Pe(pt,Se),values:It,maxHit:on,max1s:yn,max5s:wn,max30s:Gt})});const Wt=Array.from(er.values()).sort((Se,pt)=>pt.peakHit!==Se.peakHit?pt.peakHit-Se.peakHit:Se.displayName.localeCompare(pt.displayName));return{fights:Kt,players:Wt}},[e,z,ve]),aa=v.useMemo(()=>{if(!Ne)return{fights:[],players:[]};const _=ce=>String(ce||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),re=z==null?void 0:z.incomingStrikeDamage,ue=Array.isArray(re==null?void 0:re.fights)?re.fights:[],Oe=Array.isArray(re==null?void 0:re.players)?re.players:[];if(ue.length===0&&Oe.length===0)return{fights:[],players:[]};const Pe=ue.map((ce,Ke)=>{const ut=ce!=null&&ce.values&&typeof ce.values=="object"?ce.values:{};return{id:String((ce==null?void 0:ce.id)||`fight-${Ke+1}`),shortLabel:String((ce==null?void 0:ce.shortLabel)||`F${Ke+1}`),fullLabel:_((ce==null?void 0:ce.fullLabel)||`Fight ${Ke+1}`),timestamp:Number((ce==null?void 0:ce.timestamp)||0),values:ut,maxHit:Number((ce==null?void 0:ce.maxHit)??(ce==null?void 0:ce.maxDamage)??0),max1s:Number((ce==null?void 0:ce.max1s)||0),max5s:Number((ce==null?void 0:ce.max5s)||0),max30s:Number((ce==null?void 0:ce.max30s)||0)}}),_e=Oe.map(ce=>({key:String((ce==null?void 0:ce.key)||""),account:String((ce==null?void 0:ce.account)||"Unknown"),displayName:String((ce==null?void 0:ce.displayName)||(ce==null?void 0:ce.account)||"Unknown"),characterName:String((ce==null?void 0:ce.characterName)||(ce==null?void 0:ce.name)||(ce==null?void 0:ce.character_name)||(ce==null?void 0:ce.display_name)||""),profession:String((ce==null?void 0:ce.profession)||"Unknown"),professionList:Array.isArray(ce==null?void 0:ce.professionList)?ce.professionList.map(Ke=>String(Ke)):[],logs:Number((ce==null?void 0:ce.logs)||0),peakHit:Number((ce==null?void 0:ce.peakHit)||0),peak1s:Number((ce==null?void 0:ce.peak1s)||0),peak5s:Number((ce==null?void 0:ce.peak5s)||0),peak30s:Number((ce==null?void 0:ce.peak30s)||0),peakFightLabel:_((ce==null?void 0:ce.peakFightLabel)||""),peakSkillName:String((ce==null?void 0:ce.peakSkillName)||"")}));return{fights:Pe,players:_e}},[z,Ne]),pd=v.useMemo(()=>{const _=new Map;return ia.players.forEach(re=>_.set(re.key,re)),_},[ia.players]),mR=v.useMemo(()=>{const _=Pe=>kt==="hit"?Pe.peakHit:kt==="1s"?Pe.peak1s:kt==="5s"?Pe.peak5s:Pe.peak30s,re=bs.trim().toLowerCase(),ue=re?ia.players.filter(Pe=>Pe.displayName.toLowerCase().includes(re)||Pe.account.toLowerCase().includes(re)||Pe.profession.toLowerCase().includes(re)):ia.players,Oe=new Map;return ue.forEach(Pe=>{const _e=Pe.profession||"Unknown",ce=Oe.get(_e)||[];ce.push(Pe),Oe.set(_e,ce)}),Array.from(Oe.entries()).map(([Pe,_e])=>({profession:Pe,players:[..._e].sort((ce,Ke)=>_(Ke)-_(ce)||ce.displayName.localeCompare(Ke.displayName))})).sort((Pe,_e)=>Pe.profession.localeCompare(_e.profession))},[ia.players,bs,kt]),hR=Ve&&pd.get(Ve)||null,Ss=v.useMemo(()=>{if(!Ve)return[];const _=ue=>ue?Number(kt==="hit"?ue.hit||0:kt==="1s"?ue.burst1s||0:kt==="5s"?ue.burst5s||0:ue.burst30s||0):0,re=ue=>Number(kt==="hit"?ue.maxHit||0:kt==="1s"?ue.max1s||0:kt==="5s"?ue.max5s||0:ue.max30s||0);return ia.fights.map((ue,Oe)=>({index:Oe,fightId:ue.id,shortLabel:ue.shortLabel,fullLabel:ue.fullLabel,timestamp:Number(ue.timestamp||0),damage:_(zo(ue.values[Ve])),maxDamage:re(ue),skillName:String(zo(ue.values[Ve]).skillName||"")}))},[ia.fights,Ve,kt]),pR=v.useMemo(()=>{const _=Ss.reduce((ue,Oe)=>Math.max(ue,Number(Oe.damage||0)),0),re=Ss.reduce((ue,Oe)=>Math.max(ue,Number(Oe.maxDamage||0)),0);return Math.max(1,_,re)},[Ss]),ih=v.useMemo(()=>{var XN,QN;const _=Je===null?null:Ss.find(je=>je.index===Je)||null;if(!_||!Ve)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const re=rh(ia.fights,_),[ue,Oe]=Ve.split("|"),Pe=e.find(je=>String((je==null?void 0:je.filePath)||(je==null?void 0:je.id)||"")===String(_.fightId||"")),_e=Pe==null?void 0:Pe.details,ce=je=>Array.isArray(je)?je.map(gt=>Array.isArray(gt)?[Number(gt[0]),Number(gt[1])]:gt&&typeof gt=="object"?[Number(gt.time),Number(gt.value)]:null).filter(gt=>!!gt&&Number.isFinite(gt[0])&&gt[0]>=0):[],Ke=je=>String(je||"").trim().toLowerCase(),ut=Ke(ue),Ze=Ke(Oe),St=pd.get(Ve),Dt=new Set([Ke(St==null?void 0:St.displayName),Ke(St==null?void 0:St.characterName),Ke(St==null?void 0:St.account)].filter(Boolean)),Kt=Array.isArray(_e==null?void 0:_e.players)&&((XN=_e.players.map(je=>{const gt=Ke(je==null?void 0:je.account),Yt=Ke(je==null?void 0:je.name),Gn=Ke(je==null?void 0:je.profession),En=!!gt&&gt===ut,Ln=!!Yt&&(Yt===ut||Dt.has(Yt)),zi=!!gt&&Dt.has(gt),Uo=!Ze||Gn===Ze;let Qa=0;return En&&(Qa+=100),Ln&&(Qa+=90),zi&&(Qa+=80),Uo&&(Qa+=20),{player:je,score:Qa}}).filter(je=>je.score>0).sort((je,gt)=>gt.score-je.score)[0])==null?void 0:XN.player)||null,er=(()=>{const je=Kt==null?void 0:Kt.combatReplayData;return Array.isArray(je)?je.filter(gt=>gt&&typeof gt=="object"):je&&typeof je=="object"?[je]:[]})(),Wt=er.flatMap(je=>ce(je==null?void 0:je.down).map(([gt])=>gt)),Se=er.flatMap(je=>ce(je==null?void 0:je.dead).map(([gt])=>gt)),pt=er.map(je=>Number(je==null?void 0:je.start)).filter(je=>Number.isFinite(je)&&je>=0),de=Array.isArray(_e==null?void 0:_e.players)?_e.players.flatMap(je=>{const gt=je==null?void 0:je.combatReplayData;return Array.isArray(gt)?gt.map(Yt=>Number(Yt==null?void 0:Yt.start)):[Number(gt==null?void 0:gt.start)]}).filter(je=>Number.isFinite(je)&&je>=0).reduce((je,gt)=>Math.min(je,gt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Ot=[0,Number((_e==null?void 0:_e.logStartOffset)||0),...pt,Number.isFinite(de)?de:0].filter(je=>Number.isFinite(je)&&je>=0),jt=je=>{const gt=Math.max(0,Math.floor(Number(je||0)/1e3)),Yt=Math.floor(gt/5)*5;return`${Yt}s-${Yt+5}s`},Pt=(je,gt)=>{if(je.length===0||gt.length===0)return[];const Yt=gt.length*5e3,Gn=or=>or.reduce((Cs,Vc)=>Vc>=0&&Vc<=Yt+2e3?Cs+1:Cs,0),En=[],Ln=je.map(or=>Number(or||0)).filter(or=>Number.isFinite(or)&&or>=0);if(Ln.length===0)return[];En.push(Ln);const zi=Ln.reduce((or,Cs)=>Math.max(or,Cs),0),Uo=Ln.reduce((or,Cs)=>Math.min(or,Cs),Number.POSITIVE_INFINITY);zi>Yt*20&&En.push(Ln.map(or=>or/1e3)),zi<=Yt*2&&Uo>=0&&zi>0&&zi<Math.max(120,gt.length*5+10)&&En.push(Ln.map(or=>or*1e3));let Qa=Ln,ZN=0,JN=-1;return En.forEach(or=>{const Cs=new Set(Ot),Vc=or.reduce((Il,Ux)=>Math.min(Il,Ux),Number.POSITIVE_INFINITY);if(Number.isFinite(Vc)&&Yt>0&&Vc>Yt){const Il=Math.floor(Vc/Yt)*Yt;Cs.add(Il),Cs.add(Math.max(0,Il-Yt))}Cs.forEach(Il=>{const Ux=or.map(sB=>sB-Il),eC=Gn(Ux);eC>JN&&(JN=eC,ZN=Il,Qa=or)})}),Qa.map(or=>or-ZN).filter(or=>Number.isFinite(or)&&or>=0)},It=(je,gt)=>{if(je.length===0||gt.length===0)return[];const Yt=Pt(gt,je),Gn=new Map;je.forEach(Ln=>{const zi=/^(\d+)s-/.exec(String(Ln));if(!zi)return;const Uo=Number(zi[1]);Number.isFinite(Uo)&&Gn.set(Uo,Ln)});const En=[];return Yt.forEach(Ln=>{const zi=Math.max(0,Math.floor(Number(Ln||0)/1e3)),Uo=Math.floor(zi/5)*5,Qa=Gn.get(Uo)||jt(Ln);je.includes(Qa)&&En.push(Qa)}),Array.from(new Set(En))},un=(je,gt)=>{if(je<=0||gt.length===0)return[];const Yt=Array.from({length:je},(Ln,zi)=>`${zi*5}s-${(zi+1)*5}s`),En=Pt(gt,Yt).map(Ln=>Math.floor(Math.max(0,Number(Ln||0))/5e3)).filter(Ln=>Number.isFinite(Ln)&&Ln>=0&&Ln<je);return Array.from(new Set(En))},on=zo((QN=re==null?void 0:re.values)==null?void 0:QN[Ve]),yn=Array.isArray(on==null?void 0:on.buckets5s)?(on==null?void 0:on.buckets5s)||[]:[],wn=Array.isArray(on==null?void 0:on.downIndices5s)?on.downIndices5s.map(je=>Number(je)).filter(je=>Number.isFinite(je)&&je>=0):[],Gt=Array.isArray(on==null?void 0:on.deathIndices5s)?on.deathIndices5s.map(je=>Number(je)).filter(je=>Number.isFinite(je)&&je>=0):[];if(yn.length>0){const je=Math.max(0,Math.ceil(Number((_e==null?void 0:_e.durationMS)||0)/5e3)),gt=Math.max(yn.length,je),Yt=Array.from({length:gt},(En,Ln)=>({label:`${Ln*5}s-${(Ln+1)*5}s`,value:Number(yn[Ln]||0)})),Gn=Yt.map(En=>En.label);return{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (5s Damage Buckets)`,data:Yt,downLabels:It(Gn,Wt),deathLabels:It(Gn,Se),downIndices:wn.length>0?wn.filter(En=>En<Yt.length):un(Yt.length,Wt),deathIndices:Gt.length>0?Gt.filter(En=>En<Yt.length):un(Yt.length,Se)}}const wt=_.shortLabel||"Fight";if(!_e||!Array.isArray(_e.players))return{title:`Fight Breakdown - ${wt}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const dn=_e.players.find(je=>String((je==null?void 0:je.account)||(je==null?void 0:je.name)||"Unknown")===ue&&String((je==null?void 0:je.profession)||"Unknown")===Oe);if(!dn)return{title:`Fight Breakdown - ${wt}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Mn=dn,tr=je=>{if(!Array.isArray(je)||je.length===0)return[];const gt=[];for(let Yt=0;Yt<je.length;Yt+=1){const Gn=Number(je[Yt]||0),En=Yt>0?Number(je[Yt-1]||0):0;gt.push(Math.max(0,Gn-En))}return gt},Ol=je=>{if(!Array.isArray(je))return[];const gt=je.reduce((Gn,En)=>Math.max(Gn,Array.isArray(En)?En.length:0),0);if(gt<=0)return[];const Yt=new Array(gt).fill(0);return je.forEach(Gn=>{if(Array.isArray(Gn))for(let En=0;En<gt;En+=1)Yt[En]+=Number(Gn[En]||0)}),Yt},xd=je=>Array.isArray(je)?je.map(gt=>Number(gt||0)):null,zc=(je=>{if(!Array.isArray(je)||je.length===0)return null;const gt=je[0];if(!Array.isArray(gt))return null;if(Array.isArray(gt[0])&&Array.isArray(gt[0][0]))return Ol(gt);if(Array.isArray(gt[0])&&!Array.isArray(gt[0][0])){const Yt=je.map(Gn=>xd(Array.isArray(Gn)?Gn[0]:null)).filter(Gn=>Array.isArray(Gn)&&Gn.length>0);if(Yt.length>0)return Ol(Yt)}return null})(Mn==null?void 0:Mn.targetDamage1S),Uc=Array.isArray(Mn==null?void 0:Mn.damage1S)&&Array.isArray(Mn.damage1S[0])?Mn.damage1S[0]:null,vd=zc||(Array.isArray(Uc)?Uc.map(je=>Number(je||0)):[]),Pr=tr(vd),yd=5,rB=Math.max(0,Math.ceil(Number((_e==null?void 0:_e.durationMS)||0)/(yd*1e3))),iB=Math.max(0,Math.ceil(Pr.length/yd)),aB=Math.max(rB,iB),bd=[];for(let je=0;je<aB;je+=1){const gt=je*yd,Yt=Math.min(gt+yd,Pr.length),Gn=Pr.slice(gt,Yt).reduce((En,Ln)=>En+Number(Ln||0),0);bd.push({label:`${gt}s-${gt+yd}s`,value:Gn})}const YN=bd.map(je=>je.label);return{title:`Fight Breakdown - ${wt} (5s Damage Buckets)`,data:bd,downLabels:It(YN,Wt),deathLabels:It(YN,Se),downIndices:un(bd.length,Wt),deathIndices:un(bd.length,Se)}},[Je,Ss,Ve,e,ia.fights,pd]),Bx=v.useMemo(()=>{const _=new Map;return aa.players.forEach(re=>_.set(re.key,re)),_},[aa.players]),gR=v.useMemo(()=>{const _=Pe=>Zt==="hit"?Pe.peakHit:Zt==="1s"?Pe.peak1s:Zt==="5s"?Pe.peak5s:Pe.peak30s,re=ws.trim().toLowerCase(),ue=re?aa.players.filter(Pe=>Pe.displayName.toLowerCase().includes(re)||Pe.account.toLowerCase().includes(re)||Pe.profession.toLowerCase().includes(re)):aa.players,Oe=new Map;return ue.forEach(Pe=>{const _e=Pe.profession||"Unknown",ce=Oe.get(_e)||[];ce.push(Pe),Oe.set(_e,ce)}),Array.from(Oe.entries()).map(([Pe,_e])=>({profession:Pe,players:[..._e].sort((ce,Ke)=>_(Ke)-_(ce)||ce.displayName.localeCompare(Ke.displayName))})).sort((Pe,_e)=>Pe.profession.localeCompare(_e.profession))},[aa.players,ws,Zt]),xR=Ht&&Bx.get(Ht)||null,Ns=v.useMemo(()=>{if(!Ht)return[];const _=ue=>ue?Number(Zt==="hit"?ue.hit||0:Zt==="1s"?ue.burst1s||0:Zt==="5s"?ue.burst5s||0:ue.burst30s||0):0,re=ue=>Number(Zt==="hit"?ue.maxHit||0:Zt==="1s"?ue.max1s||0:Zt==="5s"?ue.max5s||0:ue.max30s||0);return aa.fights.map((ue,Oe)=>({index:Oe,fightId:ue.id,shortLabel:ue.shortLabel,fullLabel:ue.fullLabel,timestamp:Number(ue.timestamp||0),damage:_(zo(ue.values[Ht])),maxDamage:re(ue),skillName:String(zo(ue.values[Ht]).skillName||"")}))},[aa.fights,Ht,Zt]),vR=v.useMemo(()=>{const _=Ns.reduce((ue,Oe)=>Math.max(ue,Number(Oe.damage||0)),0),re=Ns.reduce((ue,Oe)=>Math.max(ue,Number(Oe.maxDamage||0)),0);return Math.max(1,_,re)},[Ns]),ah=v.useMemo(()=>{var Ke;const _=ln===null?null:Ns.find(ut=>ut.index===ln)||null;if(!_||!Ht)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const re=rh(aa.fights,_),ue=zo((Ke=re==null?void 0:re.values)==null?void 0:Ke[Ht]),Oe=Array.isArray(ue==null?void 0:ue.buckets5s)?(ue==null?void 0:ue.buckets5s)||[]:[],Pe=Array.isArray(ue==null?void 0:ue.downIndices5s)?ue.downIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):[],_e=Array.isArray(ue==null?void 0:ue.deathIndices5s)?ue.deathIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):[];if(Oe.length>0){const ut=Oe.map((Ze,St)=>({label:`${St*5}s-${(St+1)*5}s`,value:Number(Ze||0)}));return{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (5s Damage Buckets)`,data:ut,downLabels:[],deathLabels:[],downIndices:Pe.filter(Ze=>Ze<ut.length),deathIndices:_e.filter(Ze=>Ze<ut.length)}}const ce=Number(Zt==="hit"?ue.hit||0:Zt==="1s"?ue.burst1s||0:Zt==="5s"?ue.burst5s||0:ue.burst30s||0);return ce>0?{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:ce}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${_.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[ln,Ns,Ht,aa.fights,Zt]),yR=v.useMemo(()=>{var ut;if(ln===null||!Ht)return[];const _=Ns.find(Ze=>Ze.index===ln);if(!_)return[];const re=rh(aa.fights,_),ue=zo((ut=re==null?void 0:re.values)==null?void 0:ut[Ht]),Pe=[...(ue==null?void 0:ue.skillRows)||[]].filter(Ze=>Number((Ze==null?void 0:Ze.damage)||0)>0).sort((Ze,St)=>Number(St.damage||0)-Number(Ze.damage||0)).slice(0,30);if(Pe.length>0)return Pe;const _e=e.find(Ze=>String((Ze==null?void 0:Ze.filePath)||(Ze==null?void 0:Ze.id)||"")===String(_.fightId||"")),ce=_e==null?void 0:_e.details;if(ce&&Ht){const Ze=new Set(Object.keys(hc)),St=Object.keys(hc).filter(de=>de&&de!=="Unknown").sort((de,Ot)=>Ot.length-de.length),Dt=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],Kt=de=>{if(!de)return"Unknown";const Ot=String(de).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(Ze.has(Ot))return Ot;const jt=Ot.toLowerCase();for(const It of St)if(jt.includes(It.toLowerCase()))return It;return Dt.find(It=>jt.includes(It.toLowerCase()))||Ot||"Unknown"},er=de=>{const Ot=Number(de);if(!Number.isFinite(Ot))return{name:String(de||"Unknown Skill"),icon:void 0};const jt=(ce==null?void 0:ce.skillMap)||{},Pt=(ce==null?void 0:ce.buffMap)||{},It=(jt==null?void 0:jt[`s${Ot}`])||(jt==null?void 0:jt[`${Ot}`]);if(It!=null&&It.name)return{name:String(It.name),icon:It==null?void 0:It.icon};const un=(Pt==null?void 0:Pt[`b${Ot}`])||(Pt==null?void 0:Pt[`${Ot}`]);return un!=null&&un.name?{name:String(un.name),icon:un==null?void 0:un.icon}:{name:`Skill ${Ot}`,icon:void 0}},Wt=new Map;(Array.isArray(ce==null?void 0:ce.targets)?ce.targets:[]).forEach(de=>{!de||de.isFake||de.enemyPlayer===!1||Kt((de==null?void 0:de.profession)||(de==null?void 0:de.name)||(de==null?void 0:de.id))!==Ht||Array.isArray(de==null?void 0:de.totalDamageDist)&&de.totalDamageDist.forEach(jt=>{Array.isArray(jt)&&jt.forEach(Pt=>{if(!Pt||typeof Pt!="object"||Pt.indirectDamage)return;const It=Number(Pt.totalDamage||0);if(!Number.isFinite(It)||It<=0)return;const un=Number(Pt.connectedHits||Pt.hits||0),on=er(Pt.id),yn=on.name,wn=Wt.get(yn)||{skillName:yn,damage:0,hits:0,icon:on.icon};wn.damage+=It,wn.hits+=Number.isFinite(un)?un:0,!wn.icon&&on.icon&&(wn.icon=on.icon),Wt.set(yn,wn)})})});const pt=Array.from(Wt.values()).filter(de=>Number((de==null?void 0:de.damage)||0)>0).sort((de,Ot)=>Number(Ot.damage||0)-Number(de.damage||0)).slice(0,30);if(pt.length>0)return pt}const Ke=Number((ue==null?void 0:ue.hit)||0);return Ke<=0?Pe:[{skillName:String((ue==null?void 0:ue.skillName)||"Unknown Skill"),damage:Ke,hits:1,icon:void 0}]},[ln,Ht,Ns,aa.fights,e]),bR=v.useMemo(()=>{var Ke;if(Je===null||!Ve)return[];const _=Ss.find(ut=>ut.index===Je);if(!_)return[];const re=rh(ia.fights,_),ue=zo((Ke=re==null?void 0:re.values)==null?void 0:Ke[Ve]),Pe=[...(ue==null?void 0:ue.skillRows)||[]].filter(ut=>Number((ut==null?void 0:ut.damage)||0)>0).sort((ut,Ze)=>Number(Ze.damage||0)-Number(ut.damage||0)).slice(0,30);if(Pe.length>0)return Pe;const _e=e.find(ut=>String((ut==null?void 0:ut.filePath)||(ut==null?void 0:ut.id)||"")===String(_.fightId||"")),ce=_e==null?void 0:_e.details;if(ce&&Ve){const[ut,Ze]=Ve.split("|"),St=Wt=>{const Se=Number(Wt);if(!Number.isFinite(Se))return{name:String(Wt||"Unknown Skill"),icon:void 0};const pt=(ce==null?void 0:ce.skillMap)||{},de=(ce==null?void 0:ce.buffMap)||{},Ot=(pt==null?void 0:pt[`s${Se}`])||(pt==null?void 0:pt[`${Se}`]);if(Ot!=null&&Ot.name)return{name:String(Ot.name),icon:Ot==null?void 0:Ot.icon};const jt=(de==null?void 0:de[`b${Se}`])||(de==null?void 0:de[`${Se}`]);return jt!=null&&jt.name?{name:String(jt.name),icon:jt==null?void 0:jt.icon}:{name:`Skill ${Se}`,icon:void 0}},Dt=new Map,er=(Array.isArray(ce==null?void 0:ce.players)?ce.players:[]).find(Wt=>{if(Wt!=null&&Wt.notInSquad)return!1;const Se=String((Wt==null?void 0:Wt.account)||(Wt==null?void 0:Wt.name)||""),pt=String((Wt==null?void 0:Wt.profession)||"Unknown"),de=Se===String(ut||""),Ot=pt===String(Ze||"");return de&&Ot})||null;if(er){const Wt=er,Se=jt=>{if(!jt||typeof jt!="object"||jt.indirectDamage)return;const Pt=Number(jt.totalDamage||0);if(!Number.isFinite(Pt)||Pt<=0)return;const It=Number(jt.connectedHits||jt.hits||0),un=St(jt.id),on=Dt.get(un.name)||{skillName:un.name,damage:0,hits:0,icon:un.icon};on.damage+=Pt,on.hits+=Number.isFinite(It)?It:0,!on.icon&&un.icon&&(on.icon=un.icon),Dt.set(un.name,on)},pt=new Map;Array.isArray(Wt==null?void 0:Wt.targetDamageDist)&&Wt.targetDamageDist.forEach(jt=>{Array.isArray(jt)&&jt.forEach(Pt=>{Array.isArray(Pt)&&Pt.forEach(It=>{const un=Number(It==null?void 0:It.id),on=Number((It==null?void 0:It.totalDamage)||0);if(Number.isFinite(un)){const yn=pt.get(un)||{damage:0,hits:0};yn.damage+=Number.isFinite(on)?on:0,yn.hits+=Number((It==null?void 0:It.connectedHits)||(It==null?void 0:It.hits)||0),pt.set(un,yn)}Se(It)})})}),!(ce!=null&&ce.detailedWvW)&&Array.isArray(Wt==null?void 0:Wt.totalDamageDist)&&Wt.totalDamageDist.forEach(jt=>{Array.isArray(jt)&&jt.forEach(Pt=>{const It=Number(Pt==null?void 0:Pt.id);if(!Number.isFinite(It)){Se(Pt);return}const un=pt.get(It);if(!un){Se(Pt);return}const on=Number((Pt==null?void 0:Pt.totalDamage)||0),yn=Number((Pt==null?void 0:Pt.connectedHits)||(Pt==null?void 0:Pt.hits)||0),wn=on-Number(un.damage||0),Gt=yn-Number(un.hits||0);wn<=0&&Gt<=0||Se({...Pt,totalDamage:Math.max(0,wn),connectedHits:Math.max(0,Gt),hits:Math.max(0,Gt)})})});const Ot=Array.from(Dt.values()).filter(jt=>Number((jt==null?void 0:jt.damage)||0)>0).sort((jt,Pt)=>Number(Pt.damage||0)-Number(jt.damage||0)).slice(0,30);if(Ot.length>0)return Ot}}return Pe},[Je,Ve,Ss,ia.fights,e]);v.useEffect(()=>{if(Bi.length===0){ei!==null&&ti(null),sr!==null&&Ml(null);return}if(!ei||!Ks.has(ei)){const _=Bi[0].key;ti(_),Fo(null)}},[Bi,Ks,ei,sr]),v.useEffect(()=>{if(!Gs||Gs.skills.length===0){sr!==null&&Ml(null);return}const _=Gs.skills.some(re=>re.id===sr);(!sr||!_)&&Ml(Gs.skills[0].id)},[Gs,sr]),v.useEffect(()=>{if(Ca.length===0){ks!==null&&Fc(null),Na!==null&&qs(null);return}if(!ks||!Rx.has(ks)){const _=Ca[0].profession;Fc(_),hd(null)}},[Ca,Rx,ks,Na]),v.useEffect(()=>{if(!Bo||Bo.skills.length===0){Na!==null&&qs(null);return}const _=Bo.skills.some(re=>re.id===Na);(!Na||!_)&&qs(Bo.skills[0].id)},[Bo,Na]),v.useEffect(()=>{if(ia.players.length===0){Ve!==null&&Le(null);return}(!Ve||!pd.has(Ve))&&Ve!==null&&Le(null)},[ia.players,pd,Ve]),v.useEffect(()=>{at(null)},[Ve,kt]),v.useEffect(()=>{if(Je===null)return;Ss.some(re=>re.index===Je)||at(null)},[Ss,Je]),v.useEffect(()=>{if(aa.players.length===0){Ht!==null&&zn(null);return}(!Ht||!Bx.has(Ht))&&Ht!==null&&zn(null)},[aa.players,Bx,Ht]),v.useEffect(()=>{Ar(null)},[Ht,Zt]),v.useEffect(()=>{if(ln===null)return;Ns.some(re=>re.index===ln)||Ar(null)},[Ns,ln]);const wR=v.useMemo(()=>new Set(Xe),[Xe]),sh=L?Re:mT,{playerMapByKey:Ys,playerTotalsForSkill:Rc,skillChartData:kR,skillChartMaxY:SR,groupedSkillUsagePlayers:NR}=L8({skillUsageData:sh,selectedSkillId:xe,selectedPlayers:wR,skillUsageView:Hs==="perSecond"?"perSecond":"total"}),LN=v.useMemo(()=>{const _=new Map,re=_e=>{_e.forEach(ce=>{const Ke=Qc(ce==null?void 0:ce.name)||(ce==null?void 0:ce.name);Ke&&ce!=null&&ce.icon&&!_.has(Ke)&&_.set(Ke,ce.icon)})},ue=_e=>{_e.forEach(ce=>{Object.entries((ce==null?void 0:ce.conditions)||{}).forEach(([Ke,ut])=>{const Ze=Qc(Ke)||Ke;ut!=null&&ut.icon&&!_.has(Ze)&&_.set(Ze,ut.icon)})})},Oe=_e=>{const ce=new Map;return _e.forEach(Ke=>{const ut=Qc(Ke==null?void 0:Ke.name)||(Ke==null?void 0:Ke.name);if(!ut)return;const Ze=ce.get(ut)||{name:ut,icon:(Ke==null?void 0:Ke.icon)||_.get(ut)||Th(ut),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Ze.applications+=Number((Ke==null?void 0:Ke.applications)||0),Ze.damage+=Number((Ke==null?void 0:Ke.damage)||0),Ke!=null&&Ke.applicationsFromUptime&&(Ze.applicationsFromUptime+=Number(Ke.applicationsFromUptime||0)),Ke!=null&&Ke.applicationsFromBuffs&&(Ze.applicationsFromBuffs+=Number(Ke.applicationsFromBuffs||0)),Ke!=null&&Ke.applicationsFromBuffsActive&&(Ze.applicationsFromBuffsActive+=Number(Ke.applicationsFromBuffsActive||0)),!Ze.icon&&(Ke!=null&&Ke.icon)&&(Ze.icon=Ke.icon),Ze.icon||(Ze.icon=Th(ut)),ce.set(ut,Ze)}),Array.from(ce.values())},Pe=_e=>_e.map(ce=>{const Ke={};return Object.entries((ce==null?void 0:ce.conditions)||{}).forEach(([ut,Ze])=>{const St=Qc(ut)||ut;if(!St)return;const Dt=Ke[St]||{icon:(Ze==null?void 0:Ze.icon)||_.get(St)||Th(St),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Dt.applications+=Number((Ze==null?void 0:Ze.applications)||0),Dt.damage+=Number((Ze==null?void 0:Ze.damage)||0),Ze!=null&&Ze.applicationsFromUptime&&(Dt.applicationsFromUptime+=Number(Ze.applicationsFromUptime||0)),Ze!=null&&Ze.applicationsFromBuffs&&(Dt.applicationsFromBuffs+=Number(Ze.applicationsFromBuffs||0)),Ze!=null&&Ze.applicationsFromBuffsActive&&(Dt.applicationsFromBuffsActive+=Number(Ze.applicationsFromBuffsActive||0)),!Dt.icon&&(Ze!=null&&Ze.icon)&&(Dt.icon=Ze.icon),Dt.icon||(Dt.icon=Th(St)),Object.values((Ze==null?void 0:Ze.skills)||{}).forEach(Kt=>{const er=(Kt==null?void 0:Kt.name)||"Unknown",Wt=Dt.skills[er]||{name:er,hits:0,damage:0,icon:Kt==null?void 0:Kt.icon};Wt.hits+=Number((Kt==null?void 0:Kt.hits)||0),Wt.damage+=Number((Kt==null?void 0:Kt.damage)||0),!Wt.icon&&(Kt!=null&&Kt.icon)&&(Wt.icon=Kt.icon),Dt.skills[er]=Wt}),Ke[St]=Dt}),{...ce,conditions:Ke}});return(_e,ce)=>(re(_e),ue(ce),{summary:Oe(_e),players:Pe(ce)})},[]),$N=tt?Y==="outgoing"?z.outgoingConditionSummary:z.incomingConditionSummary:Wv,FN=tt?Y==="outgoing"?z.outgoingConditionPlayers:z.incomingConditionPlayers:Wv,{summary:oh,players:CR}=v.useMemo(()=>LN($N||[],FN||[]),[LN,$N,FN]);v.useEffect(()=>{if(!tt||E==="all"||oh.some(re=>re.name===E))return;const _=Qc(E);_&&oh.some(re=>re.name===_)?P(_):P("all")},[E,oh,P,tt]);const jR=v.useMemo(()=>{const _={};return Rc.forEach((re,ue)=>{const Oe=Ys.get(ue);if(!Oe)return;const Pe=Oe.profession;(!_[Pe]||re>_[Pe])&&(_[Pe]=re)}),_},[Rc,Ys]),$t=J,qn=v.useCallback((_,re)=>{const ue=$t(_);return d?`${re} ${ue?"":"hidden"}`:`${re} transition-[opacity,transform] duration-700 ease-in-out ${ue?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[$t,d]),RN=v.useMemo(()=>Tae.find(_=>$t(_))||null,[$t]),Kn=v.useCallback(_=>_===RN,[RN]),AR=v.useMemo(()=>{const _=new Map,re=new Map;return Xe.forEach(ue=>{const Oe=Ys.get(ue);if(!Oe)return;const Pe=Rc.get(ue)??0,_e=re.get(Oe.profession)||[];_e.push({key:ue,total:Pe}),re.set(Oe.profession,_e)}),re.forEach(ue=>{ue.sort((Oe,Pe)=>Pe.total-Oe.total),ue.forEach((Oe,Pe)=>{_.set(Oe.key,Pe)})}),_},[Xe,Ys,Rc]),BN=["0","12 3","8 3","6 3","4 3","2 3"],PR=_=>{const re=Ys.get(_),ue=ic((re==null?void 0:re.profession)||""),Oe=Rc.get(_)??0,Pe=re!=null&&re.profession&&jR[re.profession]||1,ce=.35+(Pe>0?Oe/Pe:1)*.65;return lh(ue,ce)},TR=_=>{const re=AR.get(_)??0;return BN[re%BN.length]},ER=(_,re,ue)=>{if(!ue)return PR(_);const Oe=Ys.get(_),Pe=ic((Oe==null?void 0:Oe.profession)||"");return re?lh(Pe,1.2):lh(Pe,.5)},lh=(_,re)=>{const ue=_.replace("#","");if(ue.length!==6)return _;const Oe=Ze=>Math.max(0,Math.min(255,Ze)),Pe=Ze=>Number.parseInt(ue.slice(Ze,Ze+2),16),_e=Ze=>Oe(Math.round(Ze)).toString(16).padStart(2,"0"),ce=Pe(0),Ke=Pe(2),ut=Pe(4);return`#${_e(ce*re)}${_e(Ke*re)}${_e(ut*re)}`},zN=v.useMemo(()=>{const _=new Map;return sh.skillOptions.forEach(re=>{_.set(re.id,{name:re.name,icon:re.icon})}),_},[sh.skillOptions]),gd=v.useMemo(()=>{var Ze;if(Xe.length===0)return[];const _=new Map,re=new Map;let ue=0;Xe.forEach(St=>{const Dt=Ys.get(St);if(!Dt)return;ue+=Dt.totalActiveSeconds||0,Object.entries(Dt.skillTotals||{}).forEach(([er,Wt])=>{_.set(er,(_.get(er)||0)+Number(Wt||0))});const Kt=Dt.profession||"Unknown";re.set(Kt,(re.get(Kt)||0)+(Dt.totalActiveSeconds||0))});const Oe=ge.trim().toLowerCase(),Pe=Hs==="perSecond",_e=((Ze=Array.from(re.entries()).sort((St,Dt)=>Dt[1]-St[1])[0])==null?void 0:Ze[0])||"Unknown",ce=ic(_e),Ke="#64748b";return Array.from(_.entries()).map(([St,Dt])=>{const Kt=zN.get(St),er=(Kt==null?void 0:Kt.name)||St,Wt=Pe&&ue>0?Dt/ue:Dt;return{skillId:St,name:er,icon:Kt==null?void 0:Kt.icon,total:Wt}}).filter(St=>St.total>0&&(!Oe||St.name.toLowerCase().includes(Oe))).sort((St,Dt)=>Dt.total-St.total).map((St,Dt)=>({...St,color:Dt===0?ce:lh(ce,.85-Math.min(Dt*.06,.4))||Ke}))},[Xe,Ys,ge,Hs,zN]);v.useEffect(()=>{if(L){if(gd.length===0){xe!==null&&Me(null);return}(!xe||!gd.some(_=>_.skillId===xe))&&Me(gd[0].skillId)}},[gd,xe,Me,L]);const Bc=sh.skillOptions.find(_=>_.id===xe),DR=(Bc==null?void 0:Bc.name)||"",MR=(Bc==null?void 0:Bc.icon)||null,OR=Ce&&!!xe&&Xe.length>0,ch="__all__",IR=Ce&&Ri.length>0,Xs=v.useMemo(()=>Ri.find(_=>_.profession===qe)??null,[Ri,qe]),_R=cn===ch,LR=v.useMemo(()=>{var _;return((_=Xs==null?void 0:Xs.skills)==null?void 0:_.find(re=>re.id===cn))??null},[Xs,cn]);v.useEffect(()=>{if(Ri.length===0){qe!==null&&We(null),nt!==null&&Et(null);return}if(!qe||!Ri.some(_=>_.profession===qe)){const _=Ri[0].profession;We(_),Et(null)}},[Ri,qe,nt]),v.useEffect(()=>{if(!Xs||Xs.skills.length===0){cn!==null&&_n(null);return}const _=Xs.skills.some(re=>re.id===cn);(!cn||!_&&cn!==ch)&&_n(ch)},[Xs,cn]);const $R=_=>{mt(re=>re.includes(_)?re.filter(ue=>ue!==_):[...re,_])},FR=_=>{mt(re=>re.filter(ue=>ue!==_))},RR=v.useMemo(()=>{const _=Ws.trim().toLowerCase(),re=z.boonTables||[];return _?re.filter(ue=>ue.name.toLowerCase().includes(_)):re},[z.boonTables,Ws]),BR=v.useMemo(()=>vn?(z.boonTables||[]).find(_=>_.id===vn)??null:null,[z.boonTables,vn]),zR=v.useMemo(()=>{const _=Lr.trim().toLowerCase(),re=[...z.specialTables||[]].sort((ue,Oe)=>ue.name.localeCompare(Oe.name));return _?re.filter(ue=>ue.name.toLowerCase().includes(_)):re},[z.specialTables,Lr]),Xa=v.useMemo(()=>[...z.specialTables||[]].filter(re=>/\b(sigil|relic)\b/i.test(String((re==null?void 0:re.name)||""))).sort((re,ue)=>re.name.localeCompare(ue.name)),[z.specialTables]),UR=v.useMemo(()=>{const _=ys.trim().toLowerCase();return _?Xa.filter(re=>re.name.toLowerCase().includes(_)):Xa},[Xa,ys]),VR=v.useMemo(()=>pr?(z.specialTables||[]).find(_=>_.id===pr)??null:null,[z.specialTables,pr]),WR=v.useMemo(()=>Li?Xa.find(_=>_.id===Li)??null:null,[Xa,Li]);v.useEffect(()=>{!z.boonTables||z.boonTables.length===0||(!vn||!z.boonTables.some(_=>_.id===vn))&&bn(z.boonTables[0].id)},[z.boonTables,vn]),v.useEffect(()=>{!z.specialTables||z.specialTables.length===0||(!pr||!z.specialTables.some(_=>_.id===pr))&&Ha(z.specialTables[0].id)},[z.specialTables,pr]),v.useEffect(()=>{if(!Xa||Xa.length===0){Li!==null&&na(null);return}(!Li||!Xa.some(_=>_.id===Li))&&na(Xa[0].id)},[Xa,Li]),v.useEffect(()=>{const _=()=>{const ue=window.getSelection();ue&&ue.rangeCount>0&&ue.removeAllRanges()},re=ue=>{var Pe;const Oe=ue.target;(Pe=Oe==null?void 0:Oe.closest)!=null&&Pe.call(Oe,".recharts-wrapper")&&(ue.preventDefault(),_())};return document.addEventListener("selectstart",re),document.addEventListener("mousedown",re),document.addEventListener("mousemove",re),document.addEventListener("dragstart",re),()=>{document.removeEventListener("selectstart",re),document.removeEventListener("mousedown",re),document.removeEventListener("mousemove",re),document.removeEventListener("dragstart",re)}},[]);const Si=_=>{gr.current&&(window.clearTimeout(gr.current),gr.current=null),ki(!1),Cn(_)},ni=()=>{vt&&(gr.current&&window.clearTimeout(gr.current),ki(!0),gr.current=window.setTimeout(()=>{Cn(null),ki(!1),gr.current=null},160))};v.useEffect(()=>{if(!vt)return;const _=Oe=>{Oe.key==="Escape"&&ni()},re=document.body.style.overflow,ue=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",_),()=>{window.removeEventListener("keydown",_),document.body.style.overflow=re,document.documentElement.style.overflow=ue}},[vt]);const UN=(_,re)=>{const ue=((re==null?void 0:re.value)||0)-((_==null?void 0:_.value)||0);return ue!==0?ue:String((_==null?void 0:_.name)||"").localeCompare(String((re==null?void 0:re.name)||""))},VN=Array.isArray(z==null?void 0:z.squadClassData)?z.squadClassData:[],WN=Array.isArray(z==null?void 0:z.enemyClassData)?z.enemyClassData:[],HR=Array.isArray(z==null?void 0:z.attendanceData)?z.attendanceData:[],zx=Array.isArray(z==null?void 0:z.squadCompByFight)?z.squadCompByFight:[],HN=Array.isArray(z==null?void 0:z.fightBreakdown)?z.fightBreakdown:[],qR=v.useMemo(()=>{const _=new Map;return HN.forEach(re=>{const ue=String((re==null?void 0:re.id)||"");ue&&_.set(ue,re)}),zx.map(re=>{const ue=_.get(String((re==null?void 0:re.id)||""))||null;return{...re,enemyClassCounts:(ue==null?void 0:ue.enemyClassCounts)||{}}})},[zx,HN]),KR=v.useMemo(()=>[...VN].sort(UN),[VN]),GR=v.useMemo(()=>[...WN].sort(UN),[WN]),YR=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",XR=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${vt?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${vt?"":"backdrop-blur-2xl"}`,qN=c&&h!=="matte"&&h!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:c&&h==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,QR=X?{...qN||{},overflowY:"hidden"}:qN,ZR=_=>Hs==="perSecond"?_.toFixed(1):Math.round(_).toLocaleString(),JR=_=>_.toFixed(1),eB=_=>Math.round(_).toLocaleString(),tB=_=>typeof _=="number"&&Number.isFinite(_)?_.toFixed(1):"0.0",nB=Math.max(Math.max(0,Number(z.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((p==null?void 0:p.total)||0))),Ni=qie;return u.jsxs("div",{className:YR,children:[vt&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${tn?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:ni}),u.jsx(Cae,{embedded:c,dashboardTitle:f,totalLogs:nB,onBack:t,devMockAvailable:Z,devMockUploadState:fn,onDevMockUpload:en,uploadingWeb:T,onWebUpload:Mt,sharing:hn,canShareDiscord:m,onShare:hr}),u.jsx(jae,{embedded:c,webUploadMessage:I,webUploadUrl:M,webUploadBuildStatus:G,webCopyStatus:me,setWebCopyStatus:ze}),u.jsx(Aae,{embedded:c,devMockAvailable:Z,devMockUploadState:fn}),R&&u.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsx("div",{className:"stats-settling-banner__title font-semibold",children:B}),u.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:H})]}),te.active&&u.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:u.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${te.progressPercent}%`}})}),ie&&u.jsx("div",{className:"stats-settling-banner__meta mt-2 text-[11px] opacity-80",children:ie})]}),u.jsxs("div",{className:`${c?"":"flex-1 min-h-0 flex"} relative ${X?"stats-dashboard-loading-shell":""}`,children:[u.jsxs("div",{id:"stats-dashboard-container",ref:Jt,className:`${XR} ${c?"":"flex-1"} ${X?"stats-dashboard-scroll-lock":""}`,style:QR,children:[u.jsxs(u.Fragment,{children:[$t("overview")&&u.jsx(cae,{stats:z,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("fight-breakdown")&&u.jsx(uae,{stats:z,fightBreakdownTab:Dl,setFightBreakdownTab:$o,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("top-players")&&u.jsx(mae,{stats:z,showTopStats:b,showMvp:N,topStatsMode:S,expandedLeader:Wa,setExpandedLeader:mn,formatTopStatValue:Ho,formatWithCommas:la,isMvpStatEnabled:nn,renderProfessionIcon:Ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("top-skills-outgoing")&&u.jsx(hae,{stats:z,topSkillsMetric:F,onTopSkillsMetricChange:lt,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("squad-composition")&&u.jsx(pae,{sortedSquadClassData:KR,sortedEnemyClassData:GR,getProfessionIconPath:Yl,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("attendance-ledger")&&u.jsx(bae,{attendanceRows:HR,getProfessionIconPath:Yl,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("squad-comp-fight")&&u.jsx(kae,{fights:zx,getProfessionIconPath:Yl,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("fight-comp")&&u.jsx(Nae,{fights:qR,getProfessionIconPath:Yl,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("timeline")&&u.jsx(gae,{timelineData:z.timelineData,timelineFriendlyScope:De,setTimelineFriendlyScope:Q,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("map-distribution")&&u.jsx(xae,{mapData:z.mapData,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("offense-detailed")&&u.jsx(Qie,{stats:z,OFFENSE_METRICS:EO,roundCountStats:C,offenseSearch:ra,setOffenseSearch:Ka,activeOffenseStat:_t,setActiveOffenseStat:Bt,offenseViewMode:Rt,setOffenseViewMode:Qt,formatWithCommas:la,renderProfessionIcon:Ni,expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ps}),$t("player-breakdown")&&u.jsx(Xie,{expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ps,viewMode:Ro,setViewMode:th,playerSkillBreakdowns:Bi,classSkillBreakdowns:Ca,activePlayerKey:ei,setActivePlayerKey:ti,expandedPlayerKey:Ya,setExpandedPlayerKey:Fo,activePlayerSkillId:sr,setActivePlayerSkillId:Ml,activeClassKey:ks,setActiveClassKey:Fc,expandedClassKey:nh,setExpandedClassKey:hd,activeClassSkillId:Na,setActiveClassSkillId:qs,skillSearch:md,setSkillSearch:Sa,activePlayerBreakdown:Gs,activePlayerSkill:dR,activeClassBreakdown:Bo,activeClassSkill:fR,renderProfessionIcon:Ni}),$t("spike-damage")&&u.jsx(dT,{expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,spikePlayerFilter:bs,setSpikePlayerFilter:Lc,groupedSpikePlayers:mR,spikeMode:kt,setSpikeMode:pn,selectedSpikePlayerKey:Ve,setSelectedSpikePlayerKey:Le,selectedSpikePlayer:hR,spikeChartData:Ss,spikeChartMaxY:pR,selectedSpikeFightIndex:Je,setSelectedSpikeFightIndex:at,spikeDrilldownTitle:ih.title,spikeDrilldownData:ih.data,spikeDrilldownDownIndices:ih.downIndices,spikeDrilldownDeathIndices:ih.deathIndices,spikeFightSkillRows:bR,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:la,renderProfessionIcon:Ni}),$t("conditions-outgoing")&&u.jsx(Zie,{conditionSummary:oh,conditionPlayers:CR,conditionSearch:dd,setConditionSearch:fd,activeConditionName:E,setActiveConditionName:P,conditionDirection:Y,setConditionDirection:ye,conditionGridClass:we,effectiveConditionSort:$e,setConditionSort:he,showConditionDamage:Ae,renderProfessionIcon:Ni,expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ps}),$t("defense-detailed")&&u.jsx(eae,{stats:z,DEFENSE_METRICS:DO,defenseSearch:Ga,setDefenseSearch:ud,activeDefenseStat:rn,setActiveDefenseStat:Nt,defenseViewMode:ke,setDefenseViewMode:Te,roundCountStats:C,formatWithCommas:la,renderProfessionIcon:Ni,expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ps}),$t("incoming-strike-damage")&&u.jsx(dT,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,spikePlayerFilter:ws,setSpikePlayerFilter:$c,groupedSpikePlayers:gR,spikeMode:Zt,setSpikeMode:Jr,selectedSpikePlayerKey:Ht,setSelectedSpikePlayerKey:zn,selectedSpikePlayer:xR,spikeChartData:Ns,spikeChartMaxY:vR,selectedSpikeFightIndex:ln,setSelectedSpikeFightIndex:Ar,spikeDrilldownTitle:ah.title,spikeDrilldownData:ah.data,spikeDrilldownDownIndices:ah.downIndices,spikeDrilldownDeathIndices:ah.deathIndices,spikeFightSkillRows:yR,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:la,renderProfessionIcon:Ni}),$t("defense-mitigation")&&u.jsx(tae,{stats:z,DAMAGE_MITIGATION_METRICS:$6,damageMitigationSearch:Lo,setDamageMitigationSearch:_c,activeDamageMitigationStat:ht,setActiveDamageMitigationStat:Tn,damageMitigationViewMode:Ue,setDamageMitigationViewMode:Fe,damageMitigationScope:Be,setDamageMitigationScope:it,roundCountStats:C,formatWithCommas:la,renderProfessionIcon:Ni,expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ps}),$t("boon-output")&&u.jsx(Jie,{stats:z,activeBoonCategory:ui,setActiveBoonCategory:_=>jr(_),activeBoonMetric:kr,setActiveBoonMetric:Oc,activeBoonTab:vn,setActiveBoonTab:bn,activeBoonTable:BR,filteredBoonTables:RR,boonSearch:Ws,setBoonSearch:_o,formatBoonMetricDisplay:hU,getBoonMetricValue:VO,renderProfessionIcon:Ni,roundCountStats:C,expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ps}),$t("support-detailed")&&u.jsx(nae,{stats:z,SUPPORT_METRICS:MO,supportSearch:Ee,setSupportSearch:ct,activeSupportStat:Ye,setActiveSupportStat:dt,supportViewMode:rt,setSupportViewMode:st,cleanseScope:be,setCleanseScope:ot,roundCountStats:C,formatWithCommas:la,renderProfessionIcon:Ni,expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ps}),$t("healing-stats")&&u.jsx(rae,{stats:z,HEALING_METRICS:F6,activeHealingMetric:zt,setActiveHealingMetric:qt,healingCategory:an,setHealingCategory:et,activeResUtilitySkill:Qe,setActiveResUtilitySkill:xt,skillUsageData:Re,formatWithCommas:la,renderProfessionIcon:Ni,expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("fight-diff-mode")&&u.jsx(lae,{stats:z,formatWithCommas:la,expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn}),$t("special-buffs")&&u.jsx(aae,{stats:z,specialSearch:Lr,setSpecialSearch:qa,filteredSpecialTables:zR,activeSpecialTab:pr,setActiveSpecialTab:Ha,activeSpecialTable:VR,formatWithCommas:la,renderProfessionIcon:Ni,expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ps}),$t("sigil-relic-uptime")&&u.jsx(oae,{hasSigilRelicTables:Xa.length>0,sigilRelicSearch:ys,setSigilRelicSearch:Ic,filteredSigilRelicTables:UR,activeSigilRelicTab:Li,setActiveSigilRelicTab:na,activeSigilRelicTable:WR,formatWithCommas:la,renderProfessionIcon:Ni,expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ps}),$t("skill-usage")&&u.jsx(Kie,{expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,selectedPlayers:Xe,setSelectedPlayers:mt,removeSelectedPlayer:FR,playerMapByKey:Ys,groupedSkillUsagePlayers:NR,expandedSkillUsageClass:Zm,setExpandedSkillUsageClass:Jm,togglePlayerSelection:$R,skillUsagePlayerFilter:Lt,setSkillUsagePlayerFilter:ft,skillUsageView:Hs,setSkillUsageView:Xm,skillUsageData:Re,skillUsageSkillFilter:ge,setSkillUsageSkillFilter:Vt,selectedSkillId:xe,setSelectedSkillId:Me,skillBarData:gd,selectedSkillName:DR,selectedSkillIcon:MR,skillUsageReady:OR,skillUsageAvailable:Ce,isSkillUsagePerSecond:Qm,skillChartData:kR,skillChartMaxY:SR,playerTotalsForSkill:Rc,hoveredSkillPlayer:Sn,setHoveredSkillPlayer:Ct,getLineStrokeColor:ER,getLineDashForPlayer:TR,formatSkillUsageValue:ZR,renderProfessionIcon:Ni}),$t("apm-stats")&&u.jsx(Yie,{expandedSection:vt,expandedSectionClosing:tn,openExpandedSection:Si,closeExpandedSection:ni,isSectionVisible:$t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ps,apmSpecAvailable:IR,skillUsageAvailable:Ce,apmSpecTables:Ri,activeApmSpec:qe,setActiveApmSpec:We,expandedApmSpec:nt,setExpandedApmSpec:Et,activeApmSkillId:cn,setActiveApmSkillId:_n,ALL_SKILLS_KEY:ch,apmSkillSearch:$r,setApmSkillSearch:$i,activeApmSpecTable:Xs,activeApmSkill:LR,isAllApmSkills:_R,apmView:eh,setApmView:Ie,formatApmValue:tB,formatCastRateValue:JR,formatCastCountValue:eB,renderProfessionIcon:Ni})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]}),X&&u.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const Dae="Arcane",YS="CRT",Kg="MatteSlate",Gg="KineticPaper",cf="KineticPaperDark",yp={id:Dae,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Mae={id:Kg,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Oae={id:Gg,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},Iae={id:cf,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},_ae=[yp,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Lae={id:YS,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Yd=[..._ae,Lae,Mae,Oae,Iae];function $ae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Fae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Rae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Bae={};function hT(e,t){return(Bae.jsx?Rae:Fae).test(e)}const zae=/[ \t\n\f\r]/g;function Uae(e){return typeof e=="object"?e.type==="text"?pT(e.value):!1:pT(e)}function pT(e){return e.replace(zae,"")===""}class Vm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Vm.prototype.normal={};Vm.prototype.property={};Vm.prototype.space=void 0;function F4(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Vm(n,r,t)}function hw(e){return e.toLowerCase()}class ta{constructor(t,n){this.attribute=n,this.property=t}}ta.prototype.attribute="";ta.prototype.booleanish=!1;ta.prototype.boolean=!1;ta.prototype.commaOrSpaceSeparated=!1;ta.prototype.commaSeparated=!1;ta.prototype.defined=!1;ta.prototype.mustUseProperty=!1;ta.prototype.number=!1;ta.prototype.overloadedBoolean=!1;ta.prototype.property="";ta.prototype.spaceSeparated=!1;ta.prototype.space=void 0;let Vae=0;const sn=Ec(),Er=Ec(),pw=Ec(),Ge=Ec(),Un=Ec(),Au=Ec(),oa=Ec();function Ec(){return 2**++Vae}const gw=Object.freeze(Object.defineProperty({__proto__:null,boolean:sn,booleanish:Er,commaOrSpaceSeparated:oa,commaSeparated:Au,number:Ge,overloadedBoolean:pw,spaceSeparated:Un},Symbol.toStringTag,{value:"Module"})),Hv=Object.keys(gw);class XS extends ta{constructor(t,n,r,i){let a=-1;if(super(t,n),gT(this,"space",i),typeof r=="number")for(;++a<Hv.length;){const s=Hv[a];gT(this,Hv[a],(r&gw[s])===gw[s])}}}XS.prototype.defined=!0;function gT(e,t,n){n&&(e[t]=n)}function ld(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new XS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[hw(r)]=r,n[hw(a.attribute)]=r}return new Vm(t,n,e.space)}const R4=ld({properties:{ariaActiveDescendant:null,ariaAtomic:Er,ariaAutoComplete:null,ariaBusy:Er,ariaChecked:Er,ariaColCount:Ge,ariaColIndex:Ge,ariaColSpan:Ge,ariaControls:Un,ariaCurrent:null,ariaDescribedBy:Un,ariaDetails:null,ariaDisabled:Er,ariaDropEffect:Un,ariaErrorMessage:null,ariaExpanded:Er,ariaFlowTo:Un,ariaGrabbed:Er,ariaHasPopup:null,ariaHidden:Er,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Un,ariaLevel:Ge,ariaLive:null,ariaModal:Er,ariaMultiLine:Er,ariaMultiSelectable:Er,ariaOrientation:null,ariaOwns:Un,ariaPlaceholder:null,ariaPosInSet:Ge,ariaPressed:Er,ariaReadOnly:Er,ariaRelevant:null,ariaRequired:Er,ariaRoleDescription:Un,ariaRowCount:Ge,ariaRowIndex:Ge,ariaRowSpan:Ge,ariaSelected:Er,ariaSetSize:Ge,ariaSort:null,ariaValueMax:Ge,ariaValueMin:Ge,ariaValueNow:Ge,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function B4(e,t){return t in e?e[t]:t}function z4(e,t){return B4(e,t.toLowerCase())}const Wae=ld({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Au,acceptCharset:Un,accessKey:Un,action:null,allow:null,allowFullScreen:sn,allowPaymentRequest:sn,allowUserMedia:sn,alt:null,as:null,async:sn,autoCapitalize:null,autoComplete:Un,autoFocus:sn,autoPlay:sn,blocking:Un,capture:null,charSet:null,checked:sn,cite:null,className:Un,cols:Ge,colSpan:null,content:null,contentEditable:Er,controls:sn,controlsList:Un,coords:Ge|Au,crossOrigin:null,data:null,dateTime:null,decoding:null,default:sn,defer:sn,dir:null,dirName:null,disabled:sn,download:pw,draggable:Er,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:sn,formTarget:null,headers:Un,height:Ge,hidden:pw,high:Ge,href:null,hrefLang:null,htmlFor:Un,httpEquiv:Un,id:null,imageSizes:null,imageSrcSet:null,inert:sn,inputMode:null,integrity:null,is:null,isMap:sn,itemId:null,itemProp:Un,itemRef:Un,itemScope:sn,itemType:Un,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:sn,low:Ge,manifest:null,max:null,maxLength:Ge,media:null,method:null,min:null,minLength:Ge,multiple:sn,muted:sn,name:null,nonce:null,noModule:sn,noValidate:sn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:sn,optimum:Ge,pattern:null,ping:Un,placeholder:null,playsInline:sn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:sn,referrerPolicy:null,rel:Un,required:sn,reversed:sn,rows:Ge,rowSpan:Ge,sandbox:Un,scope:null,scoped:sn,seamless:sn,selected:sn,shadowRootClonable:sn,shadowRootDelegatesFocus:sn,shadowRootMode:null,shape:null,size:Ge,sizes:null,slot:null,span:Ge,spellCheck:Er,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ge,step:null,style:null,tabIndex:Ge,target:null,title:null,translate:null,type:null,typeMustMatch:sn,useMap:null,value:Er,width:Ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Un,axis:null,background:null,bgColor:null,border:Ge,borderColor:null,bottomMargin:Ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:sn,declare:sn,event:null,face:null,frame:null,frameBorder:null,hSpace:Ge,leftMargin:Ge,link:null,longDesc:null,lowSrc:null,marginHeight:Ge,marginWidth:Ge,noResize:sn,noHref:sn,noShade:sn,noWrap:sn,object:null,profile:null,prompt:null,rev:null,rightMargin:Ge,rules:null,scheme:null,scrolling:Er,standby:null,summary:null,text:null,topMargin:Ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:sn,disableRemotePlayback:sn,prefix:null,property:null,results:Ge,security:null,unselectable:null},space:"html",transform:z4}),Hae=ld({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:oa,accentHeight:Ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ge,amplitude:Ge,arabicForm:null,ascent:Ge,attributeName:null,attributeType:null,azimuth:Ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ge,by:null,calcMode:null,capHeight:Ge,className:Un,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ge,diffuseConstant:Ge,direction:null,display:null,dur:null,divisor:Ge,dominantBaseline:null,download:sn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ge,enableBackground:null,end:null,event:null,exponent:Ge,externalResourcesRequired:null,fill:null,fillOpacity:Ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Au,g2:Au,glyphName:Au,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ge,horizOriginX:Ge,horizOriginY:Ge,id:null,ideographic:Ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ge,k:Ge,k1:Ge,k2:Ge,k3:Ge,k4:Ge,kernelMatrix:oa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ge,overlineThickness:Ge,paintOrder:null,panose1:null,path:null,pathLength:Ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Un,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ge,pointsAtY:Ge,pointsAtZ:Ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:oa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:oa,rev:oa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:oa,requiredFeatures:oa,requiredFonts:oa,requiredFormats:oa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ge,specularExponent:Ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ge,strikethroughThickness:Ge,string:null,stroke:null,strokeDashArray:oa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ge,strokeOpacity:Ge,strokeWidth:null,style:null,surfaceScale:Ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:oa,tabIndex:Ge,tableValues:null,target:null,targetX:Ge,targetY:Ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:oa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ge,underlineThickness:Ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ge,values:null,vAlphabetic:Ge,vMathematical:Ge,vectorEffect:null,vHanging:Ge,vIdeographic:Ge,version:null,vertAdvY:Ge,vertOriginX:Ge,vertOriginY:Ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:B4}),U4=ld({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),V4=ld({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:z4}),W4=ld({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),qae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Kae=/[A-Z]/g,xT=/-[a-z]/g,Gae=/^data[-\w.:]+$/i;function Yae(e,t){const n=hw(t);let r=t,i=ta;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Gae.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(xT,Qae);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!xT.test(a)){let s=a.replace(Kae,Xae);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=XS}return new i(r,t)}function Xae(e){return"-"+e.toLowerCase()}function Qae(e){return e.charAt(1).toUpperCase()}const Zae=F4([R4,Wae,U4,V4,W4],"html"),QS=F4([R4,Hae,U4,V4,W4],"svg");function Jae(e){return e.join(" ").trim()}var ZS={},vT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ese=/\n/g,tse=/^\s*/,nse=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,rse=/^:\s*/,ise=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ase=/^[;\s]*/,sse=/^\s+|\s+$/g,ose=`
`,yT="/",bT="*",Hl="",lse="comment",cse="declaration";function use(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(ese);g&&(n+=g.length);var y=p.lastIndexOf(ose);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new s(p),c(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(tse)}function d(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=a();if(!(yT!=e.charAt(0)||bT!=e.charAt(1))){for(var g=2;Hl!=e.charAt(g)&&(bT!=e.charAt(g)||yT!=e.charAt(g+1));)++g;if(g+=2,Hl===e.charAt(g-1))return o("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:lse,comment:y})}}function h(){var p=a(),g=l(nse);if(g){if(f(),!l(rse))return o("property missing ':'");var y=l(ise),x=p({type:cse,property:wT(g[0].replace(vT,Hl)),value:y?wT(y[0].replace(vT,Hl)):Hl});return l(ase),x}}function m(){var p=[];d(p);for(var g;g=h();)g!==!1&&(p.push(g),d(p));return p}return c(),m()}function wT(e){return e?e.replace(sse,Hl):Hl}var dse=use,fse=Np&&Np.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ZS,"__esModule",{value:!0});ZS.default=hse;const mse=fse(dse);function hse(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,mse.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var jx={};Object.defineProperty(jx,"__esModule",{value:!0});jx.camelCase=void 0;var pse=/^--[a-zA-Z0-9_-]+$/,gse=/-([a-z])/g,xse=/^[^-]+$/,vse=/^-(webkit|moz|ms|o|khtml)-/,yse=/^-(ms)-/,bse=function(e){return!e||xse.test(e)||pse.test(e)},wse=function(e,t){return t.toUpperCase()},kT=function(e,t){return"".concat(t,"-")},kse=function(e,t){return t===void 0&&(t={}),bse(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(yse,kT):e=e.replace(vse,kT),e.replace(gse,wse))};jx.camelCase=kse;var Sse=Np&&Np.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Nse=Sse(ZS),Cse=jx;function xw(e,t){var n={};return!e||typeof e!="string"||(0,Nse.default)(e,function(r,i){r&&i&&(n[(0,Cse.camelCase)(r,t)]=i)}),n}xw.default=xw;var jse=xw;const Ase=ps(jse),H4=q4("end"),JS=q4("start");function q4(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Pse(e){const t=JS(e),n=H4(e);if(t&&n)return{start:t,end:n}}function uf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ST(e.position):"start"in e||"end"in e?ST(e):"line"in e||"column"in e?vw(e):""}function vw(e){return NT(e&&e.line)+":"+NT(e&&e.column)}function ST(e){return vw(e&&e.start)+"-"+vw(e&&e.end)}function NT(e){return e&&typeof e=="number"?e:1}class wi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=uf(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}wi.prototype.file="";wi.prototype.name="";wi.prototype.reason="";wi.prototype.message="";wi.prototype.stack="";wi.prototype.column=void 0;wi.prototype.line=void 0;wi.prototype.ancestors=void 0;wi.prototype.cause=void 0;wi.prototype.fatal=void 0;wi.prototype.place=void 0;wi.prototype.ruleId=void 0;wi.prototype.source=void 0;const eN={}.hasOwnProperty,Tse=new Map,Ese=/[A-Z]/g,Dse=new Set(["table","tbody","thead","tfoot","tr"]),Mse=new Set(["td","th"]),K4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Ose(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=zse(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Bse(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?QS:Zae,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=G4(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function G4(e,t,n){if(t.type==="element")return Ise(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return _se(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return $se(e,t,n);if(t.type==="mdxjsEsm")return Lse(e,t);if(t.type==="root")return Fse(e,t,n);if(t.type==="text")return Rse(e,t)}function Ise(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=QS,e.schema=i),e.ancestors.push(t);const a=X4(e,t.tagName,!1),s=Use(e,t);let o=nN(e,t);return Dse.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!Uae(l):!0})),Y4(e,s,a,t),tN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function _se(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}nm(e,t.position)}function Lse(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);nm(e,t.position)}function $se(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=QS,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:X4(e,t.name,!0),s=Vse(e,t),o=nN(e,t);return Y4(e,s,a,t),tN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Fse(e,t,n){const r={};return tN(r,nN(e,t)),e.create(t,e.Fragment,r,n)}function Rse(e,t){return t.value}function Y4(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function tN(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Bse(e,t,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:t;return o?c(a,s,o):c(a,s)}}function zse(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=JS(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Use(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&eN.call(t.properties,i)){const a=Wse(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Mse.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Vse(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else nm(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else nm(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function nN(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Tse;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=G4(e,a,s);o!==void 0&&n.push(o)}return n}function Wse(e,t,n){const r=Yae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?$ae(n):Jae(n)),r.property==="style"){let i=typeof n=="object"?n:Hse(e,String(n));return e.stylePropertyNameCase==="css"&&(i=qse(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?qae[r.property]||r.property:r.attribute,n]}}function Hse(e,t){try{return Ase(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new wi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=K4+"#cannot-parse-style-attribute",i}}function X4(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=hT(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=hT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return eN.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);nm(e)}function nm(e,t){const n=new wi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=K4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function qse(e){const t={};let n;for(n in e)eN.call(e,n)&&(t[Kse(n)]=e[n]);return t}function Kse(e){let t=e.replace(Ese,Gse);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Gse(e){return"-"+e.toLowerCase()}const qv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Yse={};function rN(e,t){const n=Yse,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Q4(e,r,i)}function Q4(e,t,n){if(Xse(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return CT(e.children,t,n)}return Array.isArray(e)?CT(e,t,n):""}function CT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Q4(e[i],t,n);return r.join("")}function Xse(e){return!!(e&&typeof e=="object")}const jT=document.createElement("i");function iN(e){const t="&"+e+";";jT.innerHTML=t;const n=jT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function xa(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Ia(e,t){return e.length>0?(xa(e,e.length,0,t),e):t}const AT={}.hasOwnProperty;function Z4(e){const t={};let n=-1;for(;++n<e.length;)Qse(t,e[n]);return t}function Qse(e,t){let n;for(n in t){const i=(AT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){AT.call(i,s)||(i[s]=[]);const o=a[s];Zse(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Zse(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);xa(e,0,0,r)}function J4(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ls(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Pi=Tl(/[A-Za-z]/),yi=Tl(/[\dA-Za-z]/),Jse=Tl(/[#-'*+\--9=?A-Z^-~]/);function Yg(e){return e!==null&&(e<32||e===127)}const yw=Tl(/\d/),eoe=Tl(/[\dA-Fa-f]/),toe=Tl(/[!-/:-@[-`{-~]/);function Ft(e){return e!==null&&e<-2}function Rn(e){return e!==null&&(e<0||e===32)}function gn(e){return e===-2||e===-1||e===32}const Ax=Tl(new RegExp("\\p{P}|\\p{S}","u")),Cc=Tl(/\s/);function Tl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function cd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&yi(e.charCodeAt(n+1))&&yi(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function kn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return gn(l)?(e.enter(n),o(l)):t(l)}function o(l){return gn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const noe={tokenize:roe};function roe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),kn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Ft(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const ioe={tokenize:aoe},PT={tokenize:soe};function aoe(e){const t=this,n=[];let r=0,i,a,s;return o;function o(b){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,l,c)(b)}return c(b)}function l(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const N=t.events.length;let C=N,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}x(r);let j=N;for(;j<t.events.length;)t.events[j][1].end={...S},j++;return xa(t.events,C+1,0,t.events.slice(N)),t.events.length=j,c(b)}return o(b)}function c(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(PT,d,f)(b)}function d(b){return i&&w(),x(r),h(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(b)}function h(b){return t.containerState={},e.attempt(PT,m,p)(b)}function m(b){return r++,n.push([t.currentConstruct,t.containerState]),h(b)}function p(b){if(b===null){i&&w(),x(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(b)}function g(b){if(b===null){y(e.exit("chunkFlow"),!0),x(0),e.consume(b);return}return Ft(b)?(e.consume(b),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(b),g)}function y(b,N){const C=t.sliceStream(b);if(N&&C.push(null),b.previous=a,a&&(a.next=b),a=b,i.defineSkip(b.start),i.write(C),t.parser.lazy[b.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const j=t.events.length;let O=j,F,T;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(F){T=t.events[O][1].end;break}F=!0}for(x(r),S=j;S<t.events.length;)t.events[S][1].end={...T},S++;xa(t.events,O+1,0,t.events.slice(j)),t.events.length=S}}function x(b){let N=n.length;for(;N-- >b;){const C=n[N];t.containerState=C[1],C[0].exit.call(t,e)}n.length=b}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function soe(e,t,n){return kn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qu(e){if(e===null||Rn(e)||Cc(e))return 1;if(Ax(e))return 2}function Px(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const bw={name:"attention",resolveAll:ooe,tokenize:loe};function ooe(e,t){let n=-1,r,i,a,s,o,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};TT(f,-l),TT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Ia(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Ia(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=Ia(c,Px(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Ia(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Ia(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,xa(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function loe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=qu(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),d=qu(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function TT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const coe={name:"autolink",tokenize:uoe};function uoe(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Pi(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||yi(m)?(r=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||yi(m))&&r++<32?(e.consume(m),o):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Yg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):Jse(m)?(e.consume(m),c):n(m)}function d(m){return yi(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||yi(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const Wm={partial:!0,tokenize:doe};function doe(e,t,n){return r;function r(a){return gn(a)?kn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ft(a)?t(a):n(a)}}const e$={continuation:{tokenize:moe},exit:hoe,name:"blockQuote",tokenize:foe};function foe(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return gn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function moe(e,t,n){const r=this;return i;function i(s){return gn(s)?kn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(e$,t,n)(s)}}function hoe(e){e.exit("blockQuote")}const t$={name:"characterEscape",tokenize:poe};function poe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return toe(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const n$={name:"characterReference",tokenize:goe};function goe(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=yi,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=eoe,d):(e.enter("characterReferenceValue"),a=7,s=yw,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===yi&&!iN(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const ET={partial:!0,tokenize:voe},DT={concrete:!0,name:"codeFenced",tokenize:xoe};function xoe(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(S){return c(S)}function c(S){const j=r.events[r.events.length-1];return a=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===o?(s++,e.consume(S),d):s<3?n(S):(e.exit("codeFencedFenceSequence"),gn(S)?kn(e,f,"whitespace")(S):f(S))}function f(S){return S===null||Ft(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(ET,g,N)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||Ft(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(S)):gn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),kn(e,m,"whitespace")(S)):S===96&&S===o?n(S):(e.consume(S),h)}function m(S){return S===null||Ft(S)?f(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||Ft(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(S)):S===96&&S===o?n(S):(e.consume(S),p)}function g(S){return e.attempt(i,N,y)(S)}function y(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),x}function x(S){return a>0&&gn(S)?kn(e,w,"linePrefix",a+1)(S):w(S)}function w(S){return S===null||Ft(S)?e.check(ET,g,N)(S):(e.enter("codeFlowValue"),b(S))}function b(S){return S===null||Ft(S)?(e.exit("codeFlowValue"),w(S)):(e.consume(S),b)}function N(S){return e.exit("codeFenced"),t(S)}function C(S,j,O){let F=0;return T;function T(se){return S.enter("lineEnding"),S.consume(se),S.exit("lineEnding"),I}function I(se){return S.enter("codeFencedFence"),gn(se)?kn(S,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):M(se)}function M(se){return se===o?(S.enter("codeFencedFenceSequence"),G(se)):O(se)}function G(se){return se===o?(F++,S.consume(se),G):F>=s?(S.exit("codeFencedFenceSequence"),gn(se)?kn(S,Z,"whitespace")(se):Z(se)):O(se)}function Z(se){return se===null||Ft(se)?(S.exit("codeFencedFence"),j(se)):O(se)}}}function voe(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Kv={name:"codeIndented",tokenize:boe},yoe={partial:!0,tokenize:woe};function boe(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),kn(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):Ft(c)?e.attempt(yoe,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||Ft(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function woe(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Ft(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):kn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Ft(s)?i(s):n(s)}}const koe={name:"codeText",previous:Noe,resolve:Soe,tokenize:Coe};function Soe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Noe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Coe(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Ft(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Ft(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class joe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&$d(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),$d(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),$d(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);$d(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);$d(this.left,n.reverse())}}}function $d(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function r$(e){const t={};let n=-1,r,i,a,s,o,l,c;const d=new joe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Aoe(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return xa(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Aoe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,m=n,p=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const x=o.slice(y[h],y[h+1]),w=a.pop();l.push([w,w+x.length-1]),e.splice(w,2,x)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const Poe={resolve:Eoe,tokenize:Doe},Toe={partial:!0,tokenize:Moe};function Eoe(e){return r$(e),e}function Doe(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Ft(o)?e.check(Toe,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Moe(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),kn(e,a,"linePrefix")}function a(s){if(s===null||Ft(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function i$(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||Yg(x)?n(x):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(o),h(x)):x===null||x===60||Ft(x)?n(x):(e.consume(x),x===92?p:m)}function p(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function g(x){return!d&&(x===null||x===41||Rn(x))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(x)):d<c&&x===40?(e.consume(x),d++,g):x===41?(e.consume(x),d--,g):x===null||x===32||x===40||Yg(x)?n(x):(e.consume(x),x===92?y:g)}function y(x){return x===40||x===41||x===92?(e.consume(x),g):g(x)}}function a$(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Ft(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Ft(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!gn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function s$(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===s?(e.exit(a),l(s)):h===null?n(h):Ft(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),kn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||Ft(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function df(e,t){let n;return r;function r(i){return Ft(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):gn(i)?kn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Ooe={name:"definition",tokenize:_oe},Ioe={partial:!0,tokenize:Loe};function _oe(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return a$.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=ls(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Rn(m)?df(e,c)(m):c(m)}function c(m){return i$(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Ioe,f,f)(m)}function f(m){return gn(m)?kn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Ft(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Loe(e,t,n){return r;function r(o){return Rn(o)?df(e,i)(o):n(o)}function i(o){return s$(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return gn(o)?kn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Ft(o)?t(o):n(o)}}const $oe={name:"hardBreakEscape",tokenize:Foe};function Foe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Ft(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Roe={name:"headingAtx",resolve:Boe,tokenize:zoe};function Boe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},xa(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function zoe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Rn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Ft(d)?(e.exit("atxHeading"),t(d)):gn(d)?kn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Rn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const Uoe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],MT=["pre","script","style","textarea"],Voe={concrete:!0,name:"htmlFlow",resolveTo:qoe,tokenize:Koe},Woe={partial:!0,tokenize:Yoe},Hoe={partial:!0,tokenize:Goe};function qoe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Koe(e,t,n){const r=this;let i,a,s,o,l;return c;function c(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),a=!0,g):k===63?(e.consume(k),i=3,r.interrupt?t:D):Pi(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function h(k){return k===45?(e.consume(k),i=2,m):k===91?(e.consume(k),i=5,o=0,p):Pi(k)?(e.consume(k),i=4,r.interrupt?t:D):n(k)}function m(k){return k===45?(e.consume(k),r.interrupt?t:D):n(k)}function p(k){const U="CDATA[";return k===U.charCodeAt(o++)?(e.consume(k),o===U.length?r.interrupt?t:M:p):n(k)}function g(k){return Pi(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function y(k){if(k===null||k===47||k===62||Rn(k)){const U=k===47,W=s.toLowerCase();return!U&&!a&&MT.includes(W)?(i=1,r.interrupt?t(k):M(k)):Uoe.includes(s.toLowerCase())?(i=6,U?(e.consume(k),x):r.interrupt?t(k):M(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?w(k):b(k))}return k===45||yi(k)?(e.consume(k),s+=String.fromCharCode(k),y):n(k)}function x(k){return k===62?(e.consume(k),r.interrupt?t:M):n(k)}function w(k){return gn(k)?(e.consume(k),w):T(k)}function b(k){return k===47?(e.consume(k),T):k===58||k===95||Pi(k)?(e.consume(k),N):gn(k)?(e.consume(k),b):T(k)}function N(k){return k===45||k===46||k===58||k===95||yi(k)?(e.consume(k),N):C(k)}function C(k){return k===61?(e.consume(k),S):gn(k)?(e.consume(k),C):b(k)}function S(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,j):gn(k)?(e.consume(k),S):O(k)}function j(k){return k===l?(e.consume(k),l=null,F):k===null||Ft(k)?n(k):(e.consume(k),j)}function O(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Rn(k)?C(k):(e.consume(k),O)}function F(k){return k===47||k===62||gn(k)?b(k):n(k)}function T(k){return k===62?(e.consume(k),I):n(k)}function I(k){return k===null||Ft(k)?M(k):gn(k)?(e.consume(k),I):n(k)}function M(k){return k===45&&i===2?(e.consume(k),fe):k===60&&i===1?(e.consume(k),J):k===62&&i===4?(e.consume(k),A):k===63&&i===3?(e.consume(k),D):k===93&&i===5?(e.consume(k),le):Ft(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Woe,ae,G)(k)):k===null||Ft(k)?(e.exit("htmlFlowData"),G(k)):(e.consume(k),M)}function G(k){return e.check(Hoe,Z,ae)(k)}function Z(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),se}function se(k){return k===null||Ft(k)?G(k):(e.enter("htmlFlowData"),M(k))}function fe(k){return k===45?(e.consume(k),D):M(k)}function J(k){return k===47?(e.consume(k),s="",K):M(k)}function K(k){if(k===62){const U=s.toLowerCase();return MT.includes(U)?(e.consume(k),A):M(k)}return Pi(k)&&s.length<8?(e.consume(k),s+=String.fromCharCode(k),K):M(k)}function le(k){return k===93?(e.consume(k),D):M(k)}function D(k){return k===62?(e.consume(k),A):k===45&&i===2?(e.consume(k),D):M(k)}function A(k){return k===null||Ft(k)?(e.exit("htmlFlowData"),ae(k)):(e.consume(k),A)}function ae(k){return e.exit("htmlFlow"),t(k)}}function Goe(e,t,n){const r=this;return i;function i(s){return Ft(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function Yoe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Wm,t,n)}}const Xoe={name:"htmlText",tokenize:Qoe};function Qoe(e,t,n){const r=this;let i,a,s;return o;function o(D){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(D),l}function l(D){return D===33?(e.consume(D),c):D===47?(e.consume(D),C):D===63?(e.consume(D),b):Pi(D)?(e.consume(D),O):n(D)}function c(D){return D===45?(e.consume(D),d):D===91?(e.consume(D),a=0,p):Pi(D)?(e.consume(D),w):n(D)}function d(D){return D===45?(e.consume(D),m):n(D)}function f(D){return D===null?n(D):D===45?(e.consume(D),h):Ft(D)?(s=f,J(D)):(e.consume(D),f)}function h(D){return D===45?(e.consume(D),m):f(D)}function m(D){return D===62?fe(D):D===45?h(D):f(D)}function p(D){const A="CDATA[";return D===A.charCodeAt(a++)?(e.consume(D),a===A.length?g:p):n(D)}function g(D){return D===null?n(D):D===93?(e.consume(D),y):Ft(D)?(s=g,J(D)):(e.consume(D),g)}function y(D){return D===93?(e.consume(D),x):g(D)}function x(D){return D===62?fe(D):D===93?(e.consume(D),x):g(D)}function w(D){return D===null||D===62?fe(D):Ft(D)?(s=w,J(D)):(e.consume(D),w)}function b(D){return D===null?n(D):D===63?(e.consume(D),N):Ft(D)?(s=b,J(D)):(e.consume(D),b)}function N(D){return D===62?fe(D):b(D)}function C(D){return Pi(D)?(e.consume(D),S):n(D)}function S(D){return D===45||yi(D)?(e.consume(D),S):j(D)}function j(D){return Ft(D)?(s=j,J(D)):gn(D)?(e.consume(D),j):fe(D)}function O(D){return D===45||yi(D)?(e.consume(D),O):D===47||D===62||Rn(D)?F(D):n(D)}function F(D){return D===47?(e.consume(D),fe):D===58||D===95||Pi(D)?(e.consume(D),T):Ft(D)?(s=F,J(D)):gn(D)?(e.consume(D),F):fe(D)}function T(D){return D===45||D===46||D===58||D===95||yi(D)?(e.consume(D),T):I(D)}function I(D){return D===61?(e.consume(D),M):Ft(D)?(s=I,J(D)):gn(D)?(e.consume(D),I):F(D)}function M(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),i=D,G):Ft(D)?(s=M,J(D)):gn(D)?(e.consume(D),M):(e.consume(D),Z)}function G(D){return D===i?(e.consume(D),i=void 0,se):D===null?n(D):Ft(D)?(s=G,J(D)):(e.consume(D),G)}function Z(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||Rn(D)?F(D):(e.consume(D),Z)}function se(D){return D===47||D===62||Rn(D)?F(D):n(D)}function fe(D){return D===62?(e.consume(D),e.exit("htmlTextData"),e.exit("htmlText"),t):n(D)}function J(D){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),K}function K(D){return gn(D)?kn(e,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):le(D)}function le(D){return e.enter("htmlTextData"),s(D)}}const aN={name:"labelEnd",resolveAll:tle,resolveTo:nle,tokenize:rle},Zoe={tokenize:ile},Joe={tokenize:ale},ele={tokenize:sle};function tle(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&xa(e,0,e.length,n),e}function nle(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=Ia(o,e.slice(a+1,a+r+3)),o=Ia(o,[["enter",d,t]]),o=Ia(o,Px(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=Ia(o,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),o=Ia(o,e.slice(s+1)),o=Ia(o,[["exit",l,t]]),xa(e,a,e.length,o),e}function rle(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(ls(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(Zoe,d,s?d:f)(h):h===91?e.attempt(Joe,d,s?c:f)(h):s?d(h):f(h)}function c(h){return e.attempt(ele,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function ile(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Rn(f)?df(e,a)(f):a(f)}function a(f){return f===41?d(f):i$(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Rn(f)?df(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?s$(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Rn(f)?df(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function ale(e,t,n){const r=this;return i;function i(o){return a$.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(ls(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function sle(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const ole={name:"labelStartImage",resolveAll:aN.resolveAll,tokenize:lle};function lle(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const cle={name:"labelStartLink",resolveAll:aN.resolveAll,tokenize:ule};function ule(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Gv={name:"lineEnding",tokenize:dle};function dle(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),kn(e,t,"linePrefix")}}const bp={name:"thematicBreak",tokenize:fle};function fle(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Ft(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),gn(c)?kn(e,o,"whitespace")(c):o(c))}}const Ui={continuation:{tokenize:gle},exit:vle,name:"list",tokenize:ple},mle={partial:!0,tokenize:yle},hle={partial:!0,tokenize:xle};function ple(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:yw(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(bp,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return yw(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Wm,r.interrupt?n:d,e.attempt(mle,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return gn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function gle(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Wm,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,kn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!gn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(hle,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,kn(e,e.attempt(Ui,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function xle(e,t,n){const r=this;return kn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function vle(e){e.exit(this.containerState.type)}function yle(e,t,n){const r=this;return kn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!gn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const OT={name:"setextUnderline",resolveTo:ble,tokenize:wle};function ble(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function wle(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),gn(c)?kn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Ft(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const kle={tokenize:Sle};function Sle(e){const t=this,n=e.attempt(Wm,r,e.attempt(this.parser.constructs.flowInitial,i,kn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Poe,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Nle={resolveAll:l$()},Cle=o$("string"),jle=o$("text");function o$(e){return{resolveAll:l$(e==="text"?Ale:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function l$(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Ale(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Ple={42:Ui,43:Ui,45:Ui,48:Ui,49:Ui,50:Ui,51:Ui,52:Ui,53:Ui,54:Ui,55:Ui,56:Ui,57:Ui,62:e$},Tle={91:Ooe},Ele={[-2]:Kv,[-1]:Kv,32:Kv},Dle={35:Roe,42:bp,45:[OT,bp],60:Voe,61:OT,95:bp,96:DT,126:DT},Mle={38:n$,92:t$},Ole={[-5]:Gv,[-4]:Gv,[-3]:Gv,33:ole,38:n$,42:bw,60:[coe,Xoe],91:cle,92:[$oe,t$],93:aN,95:bw,96:koe},Ile={null:[bw,Nle]},_le={null:[42,95]},Lle={null:[]},$le=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_le,contentInitial:Tle,disable:Lle,document:Ple,flow:Dle,flowInitial:Ele,insideSpan:Ile,string:Mle,text:Ole},Symbol.toStringTag,{value:"Module"}));function Fle(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:j(C),check:j(S),consume:w,enter:b,exit:N,interrupt:j(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(I){return s=Ia(s,I),y(),s[s.length-1]!==null?[]:(O(t,0),c.events=Px(a,c.events,c),c.events)}function h(I,M){return Ble(m(I),M)}function m(I){return Rle(s,I)}function p(){const{_bufferIndex:I,_index:M,line:G,column:Z,offset:se}=r;return{_bufferIndex:I,_index:M,line:G,column:Z,offset:se}}function g(I){i[I.line]=I.column,T()}function y(){let I;for(;r._index<s.length;){const M=s[r._index];if(typeof M=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<M.length;)x(M.charCodeAt(r._bufferIndex));else x(M)}}function x(I){d=d(I)}function w(I){Ft(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,T()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=I}function b(I,M){const G=M||{};return G.type=I,G.start=p(),c.events.push(["enter",G,c]),o.push(G),G}function N(I){const M=o.pop();return M.end=p(),c.events.push(["exit",M,c]),M}function C(I,M){O(I,M.from)}function S(I,M){M.restore()}function j(I,M){return G;function G(Z,se,fe){let J,K,le,D;return Array.isArray(Z)?ae(Z):"tokenize"in Z?ae([Z]):A(Z);function A(ee){return te;function te(ie){const R=ie!==null&&ee[ie],B=ie!==null&&ee.null,H=[...Array.isArray(R)?R:R?[R]:[],...Array.isArray(B)?B:B?[B]:[]];return ae(H)(ie)}}function ae(ee){return J=ee,K=0,ee.length===0?fe:k(ee[K])}function k(ee){return te;function te(ie){return D=F(),le=ee,ee.partial||(c.currentConstruct=ee),ee.name&&c.parser.constructs.disable.null.includes(ee.name)?W():ee.tokenize.call(M?Object.assign(Object.create(c),M):c,l,U,W)(ie)}}function U(ee){return I(le,D),se}function W(ee){return D.restore(),++K<J.length?k(J[K]):fe}}}function O(I,M){I.resolveAll&&!a.includes(I)&&a.push(I),I.resolve&&xa(c.events,M,c.events.length-M,I.resolve(c.events.slice(M),c)),I.resolveTo&&(c.events=I.resolveTo(c.events,c))}function F(){const I=p(),M=c.previous,G=c.currentConstruct,Z=c.events.length,se=Array.from(o);return{from:Z,restore:fe};function fe(){r=I,c.previous=M,c.currentConstruct=G,c.events.length=Z,o=se,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Rle(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function Ble(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function zle(e){const r={constructs:Z4([$le,...(e||{}).extensions||[]]),content:i(noe),defined:[],document:i(ioe),flow:i(kle),lazy:{},string:i(Cle),text:i(jle)};return r;function i(a){return s;function s(o){return Fle(r,a,o)}}}function Ule(e){for(;!r$(e););return e}const IT=/[\0\t\n\r]/g;function Vle(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(IT.lastIndex=f,c=IT.exec(a),h=c&&c.index!==void 0?c.index:a.length,m=a.charCodeAt(h),!c){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Wle=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Hle(e){return e.replace(Wle,qle)}function qle(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return J4(n.slice(a?2:1),a?16:10)}return iN(n)||e}const c$={}.hasOwnProperty;function Kle(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Gle(n)(Ule(zle(n).document().write(Vle()(e,t,!0))))}function Gle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(tt),autolinkProtocol:F,autolinkEmail:F,atxHeading:a(L),blockQuote:a(B),characterEscape:F,characterReference:F,codeFenced:a(H),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(H,s),codeText:a(X,s),codeTextData:F,data:F,codeFlowValue:F,definition:a($),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(oe),hardBreakEscape:a(V),hardBreakTrailing:a(V),htmlFlow:a(ve,s),htmlFlowData:F,htmlText:a(ve,s),htmlTextData:F,image:a(Ne),label:s,link:a(tt),listItem:a(Re),listItemValue:h,listOrdered:a(z,f),listUnordered:a(z),paragraph:a(Ce),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(L),strong:a(lt),thematicBreak:a(fn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:R,autolinkProtocol:ie,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:W,characterReferenceMarkerNumeric:W,characterReferenceValue:ee,characterReference:te,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(x),codeText:l(se),codeTextData:T,data:T,definition:l(),definitionDestinationString:N,definitionLabelString:w,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l(G),htmlFlowData:T,htmlText:l(Z),htmlTextData:T,image:l(J),label:le,labelText:K,lineEnding:I,link:l(fe),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:U,resourceDestinationString:D,resourceTitleString:A,resource:ae,setextHeading:l(O),setextHeadingLineSequence:j,setextHeadingText:S,strong:l(),thematicBreak:l()}};u$(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(me){let ze={type:"root",children:[]};const Mt={stack:[ze],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:d,data:n},en=[];let hn=-1;for(;++hn<me.length;)if(me[hn][1].type==="listOrdered"||me[hn][1].type==="listUnordered")if(me[hn][0]==="enter")en.push(hn);else{const hr=en.pop();hn=i(me,hr,hn)}for(hn=-1;++hn<me.length;){const hr=t[me[hn][0]];c$.call(hr,me[hn][1].type)&&hr[me[hn][1].type].call(Object.assign({sliceSerialize:me[hn][2].sliceSerialize},Mt),me[hn][1])}if(Mt.tokenStack.length>0){const hr=Mt.tokenStack[Mt.tokenStack.length-1];(hr[1]||_T).call(Mt,void 0,hr[0])}for(ze.position={start:Wo(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:Wo(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},hn=-1;++hn<t.transforms.length;)ze=t.transforms[hn](ze)||ze;return ze}function i(me,ze,Mt){let en=ze-1,hn=-1,hr=!1,Dn,nn,Wa,mn;for(;++en<=Mt;){const vn=me[en];switch(vn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{vn[0]==="enter"?hn++:hn--,mn=void 0;break}case"lineEndingBlank":{vn[0]==="enter"&&(Dn&&!mn&&!hn&&!Wa&&(Wa=en),mn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mn=void 0}if(!hn&&vn[0]==="enter"&&vn[1].type==="listItemPrefix"||hn===-1&&vn[0]==="exit"&&(vn[1].type==="listUnordered"||vn[1].type==="listOrdered")){if(Dn){let bn=en;for(nn=void 0;bn--;){const ui=me[bn];if(ui[1].type==="lineEnding"||ui[1].type==="lineEndingBlank"){if(ui[0]==="exit")continue;nn&&(me[nn][1].type="lineEndingBlank",hr=!0),ui[1].type="lineEnding",nn=bn}else if(!(ui[1].type==="linePrefix"||ui[1].type==="blockQuotePrefix"||ui[1].type==="blockQuotePrefixWhitespace"||ui[1].type==="blockQuoteMarker"||ui[1].type==="listItemIndent"))break}Wa&&(!nn||Wa<nn)&&(Dn._spread=!0),Dn.end=Object.assign({},nn?me[nn][1].start:vn[1].end),me.splice(nn||en,0,["exit",Dn,vn[2]]),en++,Mt++}if(vn[1].type==="listItemPrefix"){const bn={type:"listItem",_spread:!1,start:Object.assign({},vn[1].start),end:void 0};Dn=bn,me.splice(en,0,["enter",bn,vn[2]]),en++,Mt++,Wa=void 0,mn=!0}}}return me[ze][1]._spread=hr,Mt}function a(me,ze){return Mt;function Mt(en){o.call(this,me(en),en),ze&&ze.call(this,en)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(me,ze,Mt){this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([ze,Mt||void 0]),me.position={start:Wo(ze.start),end:void 0}}function l(me){return ze;function ze(Mt){me&&me.call(this,Mt),c.call(this,Mt)}}function c(me,ze){const Mt=this.stack.pop(),en=this.tokenStack.pop();if(en)en[0].type!==me.type&&(ze?ze.call(this,me,en[0]):(en[1]||_T).call(this,me,en[0]));else throw new Error("Cannot close `"+me.type+"` ("+uf({start:me.start,end:me.end})+"): its not open");Mt.position.end=Wo(me.end)}function d(){return rN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(me){if(this.data.expectingFirstListItemValue){const ze=this.stack[this.stack.length-2];ze.start=Number.parseInt(this.sliceSerialize(me),10),this.data.expectingFirstListItemValue=void 0}}function m(){const me=this.resume(),ze=this.stack[this.stack.length-1];ze.lang=me}function p(){const me=this.resume(),ze=this.stack[this.stack.length-1];ze.meta=me}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const me=this.resume(),ze=this.stack[this.stack.length-1];ze.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const me=this.resume(),ze=this.stack[this.stack.length-1];ze.value=me.replace(/(\r?\n|\r)$/g,"")}function w(me){const ze=this.resume(),Mt=this.stack[this.stack.length-1];Mt.label=ze,Mt.identifier=ls(this.sliceSerialize(me)).toLowerCase()}function b(){const me=this.resume(),ze=this.stack[this.stack.length-1];ze.title=me}function N(){const me=this.resume(),ze=this.stack[this.stack.length-1];ze.url=me}function C(me){const ze=this.stack[this.stack.length-1];if(!ze.depth){const Mt=this.sliceSerialize(me).length;ze.depth=Mt}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function j(me){const ze=this.stack[this.stack.length-1];ze.depth=this.sliceSerialize(me).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function F(me){const Mt=this.stack[this.stack.length-1].children;let en=Mt[Mt.length-1];(!en||en.type!=="text")&&(en=Jt(),en.position={start:Wo(me.start),end:void 0},Mt.push(en)),this.stack.push(en)}function T(me){const ze=this.stack.pop();ze.value+=this.sliceSerialize(me),ze.position.end=Wo(me.end)}function I(me){const ze=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Mt=ze.children[ze.children.length-1];Mt.position.end=Wo(me.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ze.type)&&(F.call(this,me),T.call(this,me))}function M(){this.data.atHardBreak=!0}function G(){const me=this.resume(),ze=this.stack[this.stack.length-1];ze.value=me}function Z(){const me=this.resume(),ze=this.stack[this.stack.length-1];ze.value=me}function se(){const me=this.resume(),ze=this.stack[this.stack.length-1];ze.value=me}function fe(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const ze=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=ze,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function J(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const ze=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=ze,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function K(me){const ze=this.sliceSerialize(me),Mt=this.stack[this.stack.length-2];Mt.label=Hle(ze),Mt.identifier=ls(ze).toLowerCase()}function le(){const me=this.stack[this.stack.length-1],ze=this.resume(),Mt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Mt.type==="link"){const en=me.children;Mt.children=en}else Mt.alt=ze}function D(){const me=this.resume(),ze=this.stack[this.stack.length-1];ze.url=me}function A(){const me=this.resume(),ze=this.stack[this.stack.length-1];ze.title=me}function ae(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function U(me){const ze=this.resume(),Mt=this.stack[this.stack.length-1];Mt.label=ze,Mt.identifier=ls(this.sliceSerialize(me)).toLowerCase(),this.data.referenceType="full"}function W(me){this.data.characterReferenceType=me.type}function ee(me){const ze=this.sliceSerialize(me),Mt=this.data.characterReferenceType;let en;Mt?(en=J4(ze,Mt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):en=iN(ze);const hn=this.stack[this.stack.length-1];hn.value+=en}function te(me){const ze=this.stack.pop();ze.position.end=Wo(me.end)}function ie(me){T.call(this,me);const ze=this.stack[this.stack.length-1];ze.url=this.sliceSerialize(me)}function R(me){T.call(this,me);const ze=this.stack[this.stack.length-1];ze.url="mailto:"+this.sliceSerialize(me)}function B(){return{type:"blockquote",children:[]}}function H(){return{type:"code",lang:null,meta:null,value:""}}function X(){return{type:"inlineCode",value:""}}function $(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function oe(){return{type:"emphasis",children:[]}}function L(){return{type:"heading",depth:0,children:[]}}function V(){return{type:"break"}}function ve(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function tt(){return{type:"link",title:null,url:"",children:[]}}function z(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function Re(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function Ce(){return{type:"paragraph",children:[]}}function lt(){return{type:"strong",children:[]}}function Jt(){return{type:"text",value:""}}function fn(){return{type:"thematicBreak"}}}function Wo(e){return{line:e.line,column:e.column,offset:e.offset}}function u$(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?u$(e,r):Yle(e,r)}}function Yle(e,t){let n;for(n in t)if(c$.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function _T(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+uf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+uf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+uf({start:t.start,end:t.end})+") is still open")}function Xle(e){const t=this;t.parser=n;function n(r){return Kle(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Qle(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Zle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Jle(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function ece(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tce(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nce(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=cd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function rce(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ice(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function d$(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function ace(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return d$(e,t);const i={src:cd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function sce(e,t){const n={src:cd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function oce(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function lce(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return d$(e,t);const i={href:cd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function cce(e,t){const n={href:cd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function uce(e,t,n){const r=e.all(t),i=n?dce(n):f$(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function dce(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=f$(n[r])}return t}function f$(e){const t=e.spread;return t??e.children.length>1}function fce(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function mce(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hce(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function pce(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gce(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=JS(t.children[1]),l=H4(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function xce(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),c.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function vce(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const LT=9,$T=32;function yce(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(FT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(FT(t.slice(i),i>0,!1)),a.join("")}function FT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===LT||a===$T;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===LT||a===$T;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function bce(e,t){const n={type:"text",value:yce(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function wce(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const kce={blockquote:Qle,break:Zle,code:Jle,delete:ece,emphasis:tce,footnoteReference:nce,heading:rce,html:ice,imageReference:ace,image:sce,inlineCode:oce,linkReference:lce,link:cce,listItem:uce,list:fce,paragraph:mce,root:hce,strong:pce,table:gce,tableCell:vce,tableRow:xce,text:bce,thematicBreak:wce,toml:Kh,yaml:Kh,definition:Kh,footnoteDefinition:Kh};function Kh(){}const m$=-1,Tx=0,ff=1,Xg=2,sN=3,oN=4,lN=5,cN=6,h$=7,p$=8,RT=typeof self=="object"?self:globalThis,Sce=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case Tx:case m$:return n(s,i);case ff:{const o=n([],i);for(const l of s)o.push(r(l));return o}case Xg:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case sN:return n(new Date(s),i);case oN:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case lN:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case cN:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case h$:{const{name:o,message:l}=s;return n(new RT[o](l),i)}case p$:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new RT[a](s),i)};return r},BT=e=>Sce(new Map,e)(0),Xc="",{toString:Nce}={},{keys:Cce}=Object,Fd=e=>{const t=typeof e;if(t!=="object"||!e)return[Tx,t];const n=Nce.call(e).slice(8,-1);switch(n){case"Array":return[ff,Xc];case"Object":return[Xg,Xc];case"Date":return[sN,Xc];case"RegExp":return[oN,Xc];case"Map":return[lN,Xc];case"Set":return[cN,Xc];case"DataView":return[ff,n]}return n.includes("Array")?[ff,n]:n.includes("Error")?[h$,n]:[Xg,n]},Gh=([e,t])=>e===Tx&&(t==="function"||t==="symbol"),jce=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Fd(s);switch(o){case Tx:{let d=s;switch(l){case"bigint":o=p$,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([m$],s)}return i([o,d],s)}case ff:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case Xg:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Cce(s))(e||!Gh(Fd(s[h])))&&d.push([a(h),a(s[h])]);return f}case sN:return i([o,s.toISOString()],s);case oN:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case lN:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Gh(Fd(h))||Gh(Fd(m))))&&d.push([a(h),a(m)]);return f}case cN:{const d=[],f=i([o,d],s);for(const h of s)(e||!Gh(Fd(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},zT=(e,{json:t,lossy:n}={})=>{const r=[];return jce(!(t||n),!!t,new Map,r)(e),r},Qg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?BT(zT(e,t)):structuredClone(e):(e,t)=>BT(zT(e,t));function Ace(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Pce(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Tce(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ace,r=e.options.footnoteBackLabel||Pce,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=cd(f.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,m);typeof w=="string"&&(w={type:"text",value:w}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const w=y.children[y.children.length-1];w&&w.type==="text"?w.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Qg(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Ex=function(e){if(e==null)return Oce;if(typeof e=="function")return Dx(e);if(typeof e=="object")return Array.isArray(e)?Ece(e):Dce(e);if(typeof e=="string")return Mce(e);throw new Error("Expected function, string, or object as test")};function Ece(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ex(e[n]);return Dx(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Dce(e){const t=e;return Dx(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Mce(e){return Dx(t);function t(n){return n&&n.type===e}}function Dx(e){return t;function t(n,r,i){return!!(Ice(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Oce(){return!0}function Ice(e){return e!==null&&typeof e=="object"&&"type"in e}const g$=[],_ce=!0,ww=!1,Lce="skip";function x$(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=Ex(i),s=r?-1:1;o(e,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=g$,p,g,y;if((!t||a(l,c,d[d.length-1]||void 0))&&(m=$ce(n(l,d)),m[0]===ww))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==Lce)for(g=(r?x.children.length:-1)+s,y=d.concat(x);g>-1&&g<x.children.length;){const w=x.children[g];if(p=o(w,g,y)(),p[0]===ww)return p;g=typeof p[1]=="number"?p[1]:g+s}}return m}}}function $ce(e){return Array.isArray(e)?e:typeof e=="number"?[_ce,e]:e==null?g$:[e]}function uN(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),x$(e,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const kw={}.hasOwnProperty,Fce={};function Rce(e,t){const n=t||Fce,r=new Map,i=new Map,a=new Map,s={...kce,...n.handlers},o={all:c,applyData:zce,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:Bce,wrap:Vce};return uN(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(kw.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,x=Qg(y);return x.children=o.all(d),x}return Qg(d)}return(o.options.unknownHandler||Uce)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=UT(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=UT(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function Bce(e,t){e.position&&(t.position=Pse(e))}function zce(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Qg(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Uce(e,t){const n=t.data||{},r="value"in t&&!(kw.call(n,"hProperties")||kw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Vce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function UT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function VT(e,t){const n=Rce(e,t),r=n.one(e,void 0),i=Tce(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Wce(e,t){return e&&"run"in e?async function(n,r){const i=VT(n,{file:r,...t});await e.run(i,r)}:function(n,r){return VT(n,{file:r,...e||t})}}function WT(e){if(e)throw e}var wp=Object.prototype.hasOwnProperty,v$=Object.prototype.toString,HT=Object.defineProperty,qT=Object.getOwnPropertyDescriptor,KT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):v$.call(t)==="[object Array]"},GT=function(t){if(!t||v$.call(t)!=="[object Object]")return!1;var n=wp.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&wp.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||wp.call(t,i)},YT=function(t,n){HT&&n.name==="__proto__"?HT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},XT=function(t,n){if(n==="__proto__")if(wp.call(t,n)){if(qT)return qT(t,n).value}else return;return t[n]},Hce=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=XT(o,n),i=XT(t,n),o!==i&&(d&&i&&(GT(i)||(a=KT(i)))?(a?(a=!1,s=r&&KT(r)?r:[]):s=r&&GT(r)?r:{},YT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&YT(o,{name:n,newValue:i}));return o};const Yv=ps(Hce);function Sw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function qce(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?Kce(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Kce(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const Ds={basename:Gce,dirname:Yce,extname:Xce,join:Qce,sep:"/"};function Gce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Hm(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function Yce(e){if(Hm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Xce(e){Hm(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Qce(...e){let t=-1,n;for(;++t<e.length;)Hm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Zce(n)}function Zce(e){Hm(e);const t=e.codePointAt(0)===47;let n=Jce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Jce(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Hm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const eue={cwd:tue};function tue(){return"/"}function Nw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function nue(e){if(typeof e=="string")e=new URL(e);else if(!Nw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return rue(e)}function rue(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Xv=["history","path","basename","stem","extname","dirname"];class y${constructor(t){let n;t?Nw(t)?n={path:t}:typeof t=="string"||iue(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":eue.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Xv.length;){const a=Xv[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Xv.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ds.basename(this.path):void 0}set basename(t){Zv(t,"basename"),Qv(t,"basename"),this.path=Ds.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ds.dirname(this.path):void 0}set dirname(t){QT(this.basename,"dirname"),this.path=Ds.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ds.extname(this.path):void 0}set extname(t){if(Qv(t,"extname"),QT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ds.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Nw(t)&&(t=nue(t)),Zv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ds.basename(this.path,this.extname):void 0}set stem(t){Zv(t,"stem"),Qv(t,"stem"),this.path=Ds.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new wi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Qv(e,t){if(e&&e.includes(Ds.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ds.sep+"`")}function Zv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function QT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function iue(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const aue=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},sue={}.hasOwnProperty;class dN extends aue{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=qce()}copy(){const t=new dN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Yv(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(ty("data",this.frozen),this.namespace[t]=n,this):sue.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ty("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Yh(t),r=this.parser||this.Parser;return Jv("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Jv("process",this.parser||this.Parser),ey("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Yh(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const m=f,p=r.stringify(m,h);cue(p)?h.value=p:h.result=p,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Jv("processSync",this.parser||this.Parser),ey("processSync",this.compiler||this.Compiler),this.process(t,i),JT("processSync","process",n),r;function i(a,s){n=!0,WT(a),r=s}}run(t,n,r){ZT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Yh(n);i.run(t,l,c);function c(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),JT("runSync","run",r),i;function a(s,o){WT(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Yh(n),i=this.compiler||this.Compiler;return ey("stringify",i),ZT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(ty("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=Yv(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[m,...p]=d;const g=r[h][1];Sw(g)&&Sw(m)&&(m=Yv(!0,g,m)),r[h]=[c,m,...p]}}}}const oue=new dN().freeze();function Jv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ey(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ty(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ZT(e){if(!Sw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function JT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Yh(e){return lue(e)?e:new y$(e)}function lue(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function cue(e){return typeof e=="string"||uue(e)}function uue(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const due="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",eE=[],tE={allowDangerousHtml:!0},fue=/^(https?|ircs?|mailto|xmpp)$/i,mue=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function hue(e){const t=pue(e),n=gue(e);return xue(t.runSync(t.parse(n),n),e)}function pue(e){const t=e.rehypePlugins||eE,n=e.remarkPlugins||eE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...tE}:tE;return oue().use(Xle).use(n).use(Wce,r).use(t)}function gue(e){const t=e.children||"",n=new y$;return typeof t=="string"&&(n.value=t),n}function xue(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||vue;for(const d of mue)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+due+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),uN(e,c),Ose(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in qv)if(Object.hasOwn(qv,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=qv[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function vue(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||fue.test(e.slice(0,t))?e:""}function nE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function yue(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function bue(e,t,n){const i=Ex((n||{}).ignore||[]),a=wue(t);let s=-1;for(;++s<a.length;)x$(e,"text",o);function o(c,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const y=f.children.indexOf(c);let x=!1,w=[];h.lastIndex=0;let b=h.exec(c.value);for(;b;){const N=b.index,C={index:b.index,input:b.input,stack:[...d,c]};let S=m(...b,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?h.lastIndex=N+1:(p!==N&&w.push({type:"text",value:c.value.slice(p,N)}),Array.isArray(S)?w.push(...S):S&&w.push(S),p=N+b[0].length,x=!0),!h.global)break;b=h.exec(c.value)}return x?(p<c.value.length&&w.push({type:"text",value:c.value.slice(p)}),f.children.splice(y,1,...w)):w=[c],y+w.length}}function wue(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([kue(i[0]),Sue(i[1])])}return t}function kue(e){return typeof e=="string"?new RegExp(yue(e),"g"):e}function Sue(e){return typeof e=="function"?e:function(){return e}}const ny="phrasing",ry=["autolink","link","image","label"];function Nue(){return{transforms:[Due],enter:{literalAutolink:jue,literalAutolinkEmail:iy,literalAutolinkHttp:iy,literalAutolinkWww:iy},exit:{literalAutolink:Eue,literalAutolinkEmail:Tue,literalAutolinkHttp:Aue,literalAutolinkWww:Pue}}}function Cue(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ny,notInConstruct:ry},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ny,notInConstruct:ry},{character:":",before:"[ps]",after:"\\/",inConstruct:ny,notInConstruct:ry}]}}function jue(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function iy(e){this.config.enter.autolinkProtocol.call(this,e)}function Aue(e){this.config.exit.autolinkProtocol.call(this,e)}function Pue(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Tue(e){this.config.exit.autolinkEmail.call(this,e)}function Eue(e){this.exit(e)}function Due(e){bue(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Mue],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Oue]],{ignore:["link","linkReference"]})}function Mue(e,t,n,r,i){let a="";if(!b$(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!Iue(n)))return!1;const s=_ue(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Oue(e,t,n,r){return!b$(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Iue(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function _ue(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=nE(e,"(");let a=nE(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function b$(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Cc(n)||Ax(n))&&(!t||n!==47)}w$.peek=Wue;function Lue(){this.buffer()}function $ue(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Fue(){this.buffer()}function Rue(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Bue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ls(this.sliceSerialize(e)).toLowerCase(),n.label=t}function zue(e){this.exit(e)}function Uue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ls(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Vue(e){this.exit(e)}function Wue(){return"["}function w$(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function Hue(){return{enter:{gfmFootnoteCallString:Lue,gfmFootnoteCall:$ue,gfmFootnoteDefinitionLabelString:Fue,gfmFootnoteDefinition:Rue},exit:{gfmFootnoteCallString:Bue,gfmFootnoteCall:zue,gfmFootnoteDefinitionLabelString:Uue,gfmFootnoteDefinition:Vue}}}function que(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:w$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?k$:Kue))),c(),l}}function Kue(e,t,n){return t===0?e:k$(e,t,n)}function k$(e,t,n){return(n?"":"    ")+e}const Gue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];S$.peek=Jue;function Yue(){return{canContainEols:["delete"],enter:{strikethrough:Que},exit:{strikethrough:Zue}}}function Xue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Gue}],handlers:{delete:S$}}}function Que(e){this.enter({type:"delete",children:[]},e)}function Zue(e){this.exit(e)}function S$(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function Jue(){return"~"}function ede(e){return e.length}function tde(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||ede,a=[],s=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const g=[],y=[];let x=-1;for(e[d].length>c&&(c=e[d].length);++x<e[d].length;){const w=nde(e[d][x]);if(n.alignDelimiters!==!1){const b=i(w);y[x]=b,(l[x]===void 0||b>l[x])&&(l[x]=b)}g.push(w)}s[d]=g,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=rE(r[f]);else{const g=rE(r);for(;++f<c;)a[f]=g}f=-1;const h=[],m=[];for(;++f<c;){const g=a[f];let y="",x="";g===99?(y=":",x=":"):g===108?y=":":g===114&&(x=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-x.length);const b=y+"-".repeat(w)+x;n.alignDelimiters!==!1&&(w=y.length+w+x.length,w>l[f]&&(l[f]=w),m[f]=w),h[f]=b}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const g=s[d],y=o[d];f=-1;const x=[];for(;++f<c;){const w=g[f]||"";let b="",N="";if(n.alignDelimiters!==!1){const C=l[f]-(y[f]||0),S=a[f];S===114?b=" ".repeat(C):S===99?C%2?(b=" ".repeat(C/2+.5),N=" ".repeat(C/2-.5)):(b=" ".repeat(C/2),N=b):N=" ".repeat(C)}n.delimiterStart!==!1&&!f&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||f)&&x.push(" "),n.alignDelimiters!==!1&&x.push(b),x.push(w),n.alignDelimiters!==!1&&x.push(N),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&x.push("|")}p.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function nde(e){return e==null?"":String(e)}function rE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function rde(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),ide);return i(),s}function ide(e,t,n){return">"+(n?"":" ")+e}function ade(e,t){return iE(e,t.inConstruct,!0)&&!iE(e,t.notInConstruct,!1)}function iE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function aE(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&ade(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function sde(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function ode(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function lde(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function cde(e,t,n,r){const i=lde(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(ode(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,ude);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(sde(a,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),c(),d}function ude(e,t,n){return(n?"":"    ")+e}function fN(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function dde(e,t,n,r){const i=fN(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function fde(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function rm(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Zg(e,t,n){const r=qu(e),i=qu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}N$.peek=mde;function N$(e,t,n,r){const i=fde(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Zg(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=rm(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Zg(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+rm(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function mde(e,t,n){return n.options.emphasis||"*"}function hde(e,t){let n=!1;return uN(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ww}),!!((!e.depth||e.depth<3)&&rN(e)&&(t.options.setext||n))}function pde(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(hde(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=rm(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}C$.peek=gde;function C$(e){return e.value||""}function gde(){return"<"}j$.peek=xde;function j$(e,t,n,r){const i=fN(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function xde(){return"!"}A$.peek=vde;function A$(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function vde(){return"!"}P$.peek=yde;function P$(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function yde(){return"`"}function T$(e,t){const n=rN(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}E$.peek=bde;function E$(e,t,n,r){const i=fN(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(T$(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function bde(e,t,n){return T$(e,n)?"<":"["}D$.peek=wde;function D$(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function wde(){return"["}function mN(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function kde(e){const t=mN(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Sde(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function M$(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Nde(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?Sde(n):mN(n);const o=e.ordered?s==="."?")":".":kde(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),M$(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c}function Cde(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function jde(e,t,n,r){const i=Cde(n);let a=n.bulletCurrent||mN(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return l(),c;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function Ade(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const Pde=Ex(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Tde(e,t,n,r){return(e.children.some(function(s){return Pde(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Ede(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}O$.peek=Dde;function O$(e,t,n,r){const i=Ede(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Zg(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=rm(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Zg(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+rm(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Dde(e,t,n){return n.options.strong||"*"}function Mde(e,t,n,r){return n.safe(e.value,r)}function Ode(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Ide(e,t,n){const r=(M$(n)+(n.options.ruleSpaces?" ":"")).repeat(Ode(n));return n.options.ruleSpaces?r.slice(0,-1):r}const I$={blockquote:rde,break:aE,code:cde,definition:dde,emphasis:N$,hardBreak:aE,heading:pde,html:C$,image:j$,imageReference:A$,inlineCode:P$,link:E$,linkReference:D$,list:Nde,listItem:jde,paragraph:Ade,root:Tde,strong:O$,text:Mde,thematicBreak:Ide};function _de(){return{enter:{table:Lde,tableData:sE,tableHeader:sE,tableRow:Fde},exit:{codeText:Rde,table:$de,tableData:ay,tableHeader:ay,tableRow:ay}}}function Lde(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function $de(e){this.exit(e),this.data.inTable=void 0}function Fde(e){this.enter({type:"tableRow",children:[]},e)}function ay(e){this.exit(e)}function sE(e){this.enter({type:"tableCell",children:[]},e)}function Rde(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Bde));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Bde(e,t){return t==="|"?t:e}function zde(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,g,y){return c(d(m,g,y),m.align)}function o(m,p,g,y){const x=f(m,g,y),w=c([x]);return w.slice(0,w.indexOf(`
`))}function l(m,p,g,y){const x=g.enter("tableCell"),w=g.enter("phrasing"),b=g.containerPhrasing(m,{...y,before:a,after:a});return w(),x(),b}function c(m,p){return tde(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const y=m.children;let x=-1;const w=[],b=p.enter("table");for(;++x<y.length;)w[x]=f(y[x],p,g);return b(),w}function f(m,p,g){const y=m.children;let x=-1;const w=[],b=p.enter("tableRow");for(;++x<y.length;)w[x]=l(y[x],m,p,g);return b(),w}function h(m,p,g){let y=I$.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function Ude(){return{exit:{taskListCheckValueChecked:oE,taskListCheckValueUnchecked:oE,paragraph:Wde}}}function Vde(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Hde}}}function oE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Wde(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Hde(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=I$.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+s}}function qde(){return[Nue(),Hue(),Yue(),_de(),Ude()]}function Kde(e){return{extensions:[Cue(),que(e),Xue(),zde(e),Vde()]}}const Gde={tokenize:efe,partial:!0},_$={tokenize:tfe,partial:!0},L$={tokenize:nfe,partial:!0},$$={tokenize:rfe,partial:!0},Yde={tokenize:ife,partial:!0},F$={name:"wwwAutolink",tokenize:Zde,previous:B$},R$={name:"protocolAutolink",tokenize:Jde,previous:z$},Io={name:"emailAutolink",tokenize:Qde,previous:U$},Vs={};function Xde(){return{text:Vs}}let _l=48;for(;_l<123;)Vs[_l]=Io,_l++,_l===58?_l=65:_l===91&&(_l=97);Vs[43]=Io;Vs[45]=Io;Vs[46]=Io;Vs[95]=Io;Vs[72]=[Io,R$];Vs[104]=[Io,R$];Vs[87]=[Io,F$];Vs[119]=[Io,F$];function Qde(e,t,n){const r=this;let i,a;return s;function s(f){return!Cw(f)||!U$.call(r,r.previous)||hN(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return Cw(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(Yde,d,c)(f):f===45||f===95||yi(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Pi(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Zde(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!B$.call(r,r.previous)||hN(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Gde,e.attempt(_$,e.attempt(L$,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Jde(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&z$.call(r,r.previous)&&!hN(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Pi(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||Yg(f)||Rn(f)||Cc(f)||Ax(f)?n(f):e.attempt(_$,e.attempt(L$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function efe(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function tfe(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check($$,l,o)(c):c===null||Rn(c)||Cc(c)||c!==45&&Ax(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function nfe(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check($$,t,a)(s):s===null||Rn(s)||Cc(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function rfe(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Rn(o)||Cc(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Rn(o)||Cc(o)?t(o):r(o)}function a(o){return Pi(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Pi(o)?(e.consume(o),s):n(o)}}function ife(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return yi(a)?n(a):t(a)}}function B$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Rn(e)}function z$(e){return!Pi(e)}function U$(e){return!(e===47||Cw(e))}function Cw(e){return e===43||e===45||e===46||e===95||yi(e)}function hN(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const afe={tokenize:mfe,partial:!0};function sfe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:ufe,continuation:{tokenize:dfe},exit:ffe}},text:{91:{name:"gfmFootnoteCall",tokenize:cfe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:ofe,resolveTo:lfe}}}}function ofe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=ls(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function lfe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function cfe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Rn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(ls(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Rn(f)||(s=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function ufe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Rn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=ls(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Rn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),kn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function dfe(e,t,n){return e.check(Wm,t,e.attempt(afe,t,n))}function ffe(e){e.exit("gfmFootnoteDefinition")}function mfe(e,t,n){const r=this;return kn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function hfe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&xa(h,h.length,0,Px(m,s.slice(c+1,l),o)),xa(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),xa(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,d=this.events;let f=0;return h;function h(p){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=qu(c);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const y=s.exit("strikethroughSequenceTemporary"),x=qu(p);return y._open=!x||x===2&&!!g,y._close=!g||g===2&&!!x,o(p)}}}class pfe{constructor(){this.map=[]}add(t,n,r){gfe(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function gfe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function xfe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function vfe(){return{flow:{null:{name:"table",tokenize:yfe,resolveAll:bfe}}}}function yfe(e,t,n){const r=this;let i=0,a=0,s;return o;function o(T){let I=r.events.length-1;for(;I>-1;){const Z=r.events[I][1].type;if(Z==="lineEnding"||Z==="linePrefix")I--;else break}const M=I>-1?r.events[I][1].type:null,G=M==="tableHead"||M==="tableRow"?S:l;return G===S&&r.parser.lazy[r.now().line]?n(T):G(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),c(T)}function c(T){return T===124||(s=!0,a+=1),d(T)}function d(T){return T===null?n(T):Ft(T)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),m):n(T):gn(T)?kn(e,d,"whitespace")(T):(a+=1,s&&(s=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(T)))}function f(T){return T===null||T===124||Rn(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?h:f)}function h(T){return T===92||T===124?(e.consume(T),f):f(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(e.enter("tableDelimiterRow"),s=!1,gn(T)?kn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?y(T):T===124?(s=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),g):C(T)}function g(T){return gn(T)?kn(e,y,"whitespace")(T):y(T)}function y(T){return T===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),x):T===45?(a+=1,x(T)):T===null||Ft(T)?N(T):C(T)}function x(T){return T===45?(e.enter("tableDelimiterFiller"),w(T)):C(T)}function w(T){return T===45?(e.consume(T),w):T===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(T))}function b(T){return gn(T)?kn(e,N,"whitespace")(T):N(T)}function N(T){return T===124?p(T):T===null||Ft(T)?!s||i!==a?C(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):C(T)}function C(T){return n(T)}function S(T){return e.enter("tableRow"),j(T)}function j(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),j):T===null||Ft(T)?(e.exit("tableRow"),t(T)):gn(T)?kn(e,j,"whitespace")(T):(e.enter("data"),O(T))}function O(T){return T===null||T===124||Rn(T)?(e.exit("data"),j(T)):(e.consume(T),T===92?F:O)}function F(T){return T===92||T===124?(e.consume(T),O):O(T)}}function bfe(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,d,f;const h=new pfe;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(lE(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=Xh(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=Xh(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=Xh(h,t,a,i,n,f)):s[1]!==0&&(f=Xh(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&lE(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=xfe(t.events,n))}return e}function Xh(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Jc(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Jc(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=Jc(t.events,n[2]),d=Jc(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Jc(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function lE(e,t,n,r,i){const a=[],s=Jc(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Jc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const wfe={name:"tasklistCheck",tokenize:Sfe};function kfe(){return{text:{91:wfe}}}function Sfe(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Rn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Ft(l)?t(l):gn(l)?e.check({tokenize:Nfe},t,n)(l):n(l)}}function Nfe(e,t,n){return kn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Cfe(e){return Z4([Xde(),sfe(),hfe(e),vfe(),kfe()])}const jfe={};function Afe(e){const t=this,n=e||jfe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Cfe(n)),a.push(qde()),s.push(Kde(n))}const sy='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',V$=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Mx=v.createContext({}),pN=v.createContext(null),Ox=typeof document<"u",Pfe=Ox?v.useLayoutEffect:v.useEffect,W$=v.createContext({strict:!1}),gN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Tfe="framerAppearId",H$="data-"+gN(Tfe);function Efe(e,t,n,r){const{visualElement:i}=v.useContext(Mx),a=v.useContext(W$),s=v.useContext(pN),o=v.useContext(V$).reducedMotion,l=v.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,s)});const d=v.useRef(!!(n[H$]&&!window.HandoffComplete));return Pfe(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function hu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Dfe(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):hu(n)&&(n.current=r))},[t])}function im(e){return typeof e=="string"||Array.isArray(e)}function Ix(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const xN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vN=["initial",...xN];function _x(e){return Ix(e.animate)||vN.some(t=>im(e[t]))}function q$(e){return!!(_x(e)||e.variants)}function Mfe(e,t){if(_x(e)){const{initial:n,animate:r}=e;return{initial:n===!1||im(n)?n:void 0,animate:im(r)?r:void 0}}return e.inherit!==!1?t:{}}function Ofe(e){const{initial:t,animate:n}=Mfe(e,v.useContext(Mx));return v.useMemo(()=>({initial:t,animate:n}),[cE(t),cE(n)])}function cE(e){return Array.isArray(e)?e.join(" "):e}const uE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},am={};for(const e in uE)am[e]={isEnabled:t=>uE[e].some(n=>!!t[n])};function Ife(e){for(const t in e)am[t]={...am[t],...e[t]}}const K$=v.createContext({}),G$=v.createContext({}),_fe=Symbol.for("motionComponentSymbol");function Lfe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Ife(e);function a(o,l){let c;const d={...v.useContext(V$),...o,layoutId:$fe(o)},{isStatic:f}=d,h=Ofe(o),m=r(o,f);if(!f&&Ox){h.visualElement=Efe(i,m,d,t);const p=v.useContext(G$),g=v.useContext(W$).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,g,e,p))}return v.createElement(Mx.Provider,{value:h},c&&h.visualElement?v.createElement(c,{visualElement:h.visualElement,...d}):null,n(i,o,Dfe(m,h.visualElement,l),m,f,h.visualElement))}const s=v.forwardRef(a);return s[_fe]=i,s}function $fe({layoutId:e}){const t=v.useContext(K$).id;return t&&e!==void 0?t+"-"+e:e}function Ffe(e){function t(r,i={}){return Lfe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Rfe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yN(e){return typeof e!="string"||e.includes("-")?!1:!!(Rfe.indexOf(e)>-1||/[A-Z]/.test(e))}const Jg={};function Bfe(e){Object.assign(Jg,e)}const qm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dc=new Set(qm);function Y$(e,{layout:t,layoutId:n}){return Dc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Jg[e]||e==="opacity")}const Qi=e=>!!(e&&e.getVelocity),zfe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ufe=qm.length;function Vfe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<Ufe;s++){const o=qm[s];if(e[o]!==void 0){const l=zfe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const X$=e=>t=>typeof t=="string"&&t.startsWith(e),Q$=X$("--"),jw=X$("var(--"),Wfe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Hfe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bl=(e,t,n)=>Math.min(Math.max(n,e),t),Mc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},mf={...Mc,transform:e=>bl(0,1,e)},Qh={...Mc,default:1},hf=e=>Math.round(e*1e5)/1e5,Lx=/(-)?([\d]*\.?[\d])+/g,Z$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,qfe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Km(e){return typeof e=="string"}const Gm=e=>({test:t=>Km(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),qo=Gm("deg"),Fs=Gm("%"),Ut=Gm("px"),Kfe=Gm("vh"),Gfe=Gm("vw"),dE={...Fs,parse:e=>Fs.parse(e)/100,transform:e=>Fs.transform(e*100)},fE={...Mc,transform:Math.round},J$={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,size:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,rotate:qo,rotateX:qo,rotateY:qo,rotateZ:qo,scale:Qh,scaleX:Qh,scaleY:Qh,scaleZ:Qh,skew:qo,skewX:qo,skewY:qo,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:mf,originX:dE,originY:dE,originZ:Ut,zIndex:fE,fillOpacity:mf,strokeOpacity:mf,numOctaves:fE};function bN(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(Q$(f)){a[f]=h;continue}const m=J$[f],p=Hfe(h,m);if(Dc.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=Vfe(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const wN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eF(e,t,n){for(const r in t)!Qi(t[r])&&!Y$(r,n)&&(e[r]=t[r])}function Yfe({transformTemplate:e},t,n){return v.useMemo(()=>{const r=wN();return bN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Xfe(e,t,n){const r=e.style||{},i={};return eF(i,r,e),Object.assign(i,Yfe(e,t,n)),e.transformValues?e.transformValues(i):i}function Qfe(e,t,n){const r={},i=Xfe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Zfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function e0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Zfe.has(e)}let tF=e=>!e0(e);function Jfe(e){e&&(tF=t=>t.startsWith("on")?!e0(t):e(t))}try{Jfe(require("@emotion/is-prop-valid").default)}catch{}function eme(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(tF(i)||n===!0&&e0(i)||!t&&!e0(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function mE(e,t,n){return typeof e=="string"?e:Ut.transform(t+n*e)}function tme(e,t,n){const r=mE(t,e.x,e.width),i=mE(n,e.y,e.height);return`${r} ${i}`}const nme={offset:"stroke-dashoffset",array:"stroke-dasharray"},rme={offset:"strokeDashoffset",array:"strokeDasharray"};function ime(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?nme:rme;e[a.offset]=Ut.transform(-r);const s=Ut.transform(t),o=Ut.transform(n);e[a.array]=`${s} ${o}`}function kN(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,f,h){if(bN(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=tme(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&ime(m,s,o,l,!1)}const nF=()=>({...wN(),attrs:{}}),SN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ame(e,t,n,r){const i=v.useMemo(()=>{const a=nF();return kN(a,t,{enableHardwareAcceleration:!1},SN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};eF(a,e.style,e),i.style={...a,...i.style}}return i}function sme(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(yN(n)?ame:Qfe)(r,a,s,n),d={...eme(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=v.useMemo(()=>Qi(f)?f.get():f,[f]);return v.createElement(n,{...d,children:h})}}function rF(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const iF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aF(e,t,n,r){rF(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(iF.has(i)?i:gN(i),t.attrs[i])}function NN(e,t){const{style:n}=e,r={};for(const i in n)(Qi(n[i])||t.style&&Qi(t.style[i])||Y$(i,e))&&(r[i]=n[i]);return r}function sF(e,t){const n=NN(e,t);for(const r in e)if(Qi(e[r])||Qi(t[r])){const i=qm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function CN(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function ome(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const t0=e=>Array.isArray(e),lme=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),cme=e=>t0(e)?e[e.length-1]||0:e;function kp(e){const t=Qi(e)?e.get():e;return lme(t)?t.toValue():t}function ume({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:dme(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const oF=e=>(t,n)=>{const r=v.useContext(Mx),i=v.useContext(pN),a=()=>ume(e,t,r,i);return n?a():ome(a)};function dme(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=kp(a[h]);let{initial:s,animate:o}=e;const l=_x(e),c=q$(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!Ix(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=CN(e,m);if(!p)return;const{transitionEnd:g,transition:y,...x}=p;for(const w in x){let b=x[w];if(Array.isArray(b)){const N=d?b.length-1:0;b=b[N]}b!==null&&(i[w]=b)}for(const w in g)i[w]=g[w]}),i}const Cr=e=>e;class hE{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function fme(e){let t=new hE,n=new hE,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const f=d&&i,h=f?t:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Zh=["prepare","read","update","preRender","render","postRender"],mme=40;function hme(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Zh.reduce((f,h)=>(f[h]=fme(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,mme),1),i.timestamp=f,i.isProcessing=!0,Zh.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Zh.reduce((f,h)=>{const m=a[h];return f[h]=(p,g=!1,y=!1)=>(n||l(),m.schedule(p,g,y)),f},{}),cancel:f=>Zh.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:Jn,cancel:Co,state:mi,steps:oy}=hme(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cr,!0),pme={useVisualState:oF({scrapeMotionValuesFromProps:sF,createRenderState:nF,onMount:(e,t,{renderState:n,latestValues:r})=>{Jn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Jn.render(()=>{kN(n,r,{enableHardwareAcceleration:!1},SN(t.tagName),e.transformTemplate),aF(t,n)})}})},gme={useVisualState:oF({scrapeMotionValuesFromProps:NN,createRenderState:wN})};function xme(e,{forwardMotionProps:t=!1},n,r){return{...yN(e)?pme:gme,preloadedFeatures:n,useRender:sme(t),createVisualElement:r,Component:e}}function lo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const lF=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function $x(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const vme=e=>t=>lF(t)&&e(t,$x(t));function mo(e,t,n,r){return lo(e,t,vme(n),r)}const yme=(e,t)=>n=>t(e(n)),pl=(...e)=>e.reduce(yme);function cF(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const pE=cF("dragHorizontal"),gE=cF("dragVertical");function uF(e){let t=!1;if(e==="y")t=gE();else if(e==="x")t=pE();else{const n=pE(),r=gE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function dF(){const e=uF(!0);return e?(e(),!1):!0}class El{constructor(t){this.isMounted=!1,this.node=t}update(){}}function xE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||dF())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&Jn.update(()=>o[r](a,s))};return mo(e.current,n,i,{passive:!e.getProps()[r]})}class bme extends El{mount(){this.unmount=pl(xE(this.node,!0),xE(this.node,!1))}unmount(){}}class wme extends El{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pl(lo(this.node.current,"focus",()=>this.onFocus()),lo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fF=(e,t)=>t?e===t?!0:fF(e,t.parentElement):!1;function ly(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,$x(n))}class kme extends El{constructor(){super(...arguments),this.removeStartListeners=Cr,this.removeEndListeners=Cr,this.removeAccessibleListeners=Cr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=mo(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Jn.update(()=>{!f&&!fF(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=mo(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=pl(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||ly("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Jn.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=lo(this.node.current,"keyup",s),ly("down",(o,l)=>{this.startPress(o,l)})},n=lo(this.node.current,"keydown",t),r=()=>{this.isPressing&&ly("cancel",(a,s)=>this.cancelPress(a,s))},i=lo(this.node.current,"blur",r);this.removeAccessibleListeners=pl(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Jn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dF()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Jn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=mo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=lo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Aw=new WeakMap,cy=new WeakMap,Sme=e=>{const t=Aw.get(e.target);t&&t(e)},Nme=e=>{e.forEach(Sme)};function Cme({root:e,...t}){const n=e||document;cy.has(n)||cy.set(n,{});const r=cy.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Nme,{root:e,...t})),r[i]}function jme(e,t,n){const r=Cme(t);return Aw.set(e,n),r.observe(e),()=>{Aw.delete(e),r.unobserve(e)}}const Ame={some:0,all:1};class Pme extends El{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ame[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return jme(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Tme(t,n))&&this.startObserver()}unmount(){}}function Tme({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Eme={inView:{Feature:Pme},tap:{Feature:kme},focus:{Feature:wme},hover:{Feature:bme}};function mF(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Dme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Mme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Fx(e,t,n){const r=e.getProps();return CN(r,t,n!==void 0?n:r.custom,Dme(e),Mme(e))}let jN=Cr;const lc=e=>e*1e3,ho=e=>e/1e3,Ome={current:!1},hF=e=>Array.isArray(e)&&typeof e[0]=="number";function pF(e){return!!(!e||typeof e=="string"&&gF[e]||hF(e)||Array.isArray(e)&&e.every(pF))}const Xd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,gF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xd([0,.65,.55,1]),circOut:Xd([.55,0,1,.45]),backIn:Xd([.31,.01,.66,-.59]),backOut:Xd([.33,1.53,.69,.99])};function xF(e){if(e)return hF(e)?Xd(e):Array.isArray(e)?e.map(xF):gF[e]}function Ime(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=xF(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function _me(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const vF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Lme=1e-7,$me=12;function Fme(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=vF(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>Lme&&++o<$me);return s}function Ym(e,t,n,r){if(e===t&&n===r)return Cr;const i=a=>Fme(a,0,1,e,n);return a=>a===0||a===1?a:vF(i(a),t,r)}const Rme=Ym(.42,0,1,1),Bme=Ym(0,0,.58,1),yF=Ym(.42,0,.58,1),zme=e=>Array.isArray(e)&&typeof e[0]!="number",bF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wF=e=>t=>1-e(1-t),AN=e=>1-Math.sin(Math.acos(e)),kF=wF(AN),Ume=bF(AN),SF=Ym(.33,1.53,.69,.99),PN=wF(SF),Vme=bF(PN),Wme=e=>(e*=2)<1?.5*PN(e):.5*(2-Math.pow(2,-10*(e-1))),Hme={linear:Cr,easeIn:Rme,easeInOut:yF,easeOut:Bme,circIn:AN,circInOut:Ume,circOut:kF,backIn:PN,backInOut:Vme,backOut:SF,anticipate:Wme},vE=e=>{if(Array.isArray(e)){jN(e.length===4);const[t,n,r,i]=e;return Ym(t,n,r,i)}else if(typeof e=="string")return Hme[e];return e},TN=(e,t)=>n=>!!(Km(n)&&qfe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),NF=(e,t,n)=>r=>{if(!Km(r))return r;const[i,a,s,o]=r.match(Lx);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},qme=e=>bl(0,255,e),uy={...Mc,transform:e=>Math.round(qme(e))},ec={test:TN("rgb","red"),parse:NF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+uy.transform(e)+", "+uy.transform(t)+", "+uy.transform(n)+", "+hf(mf.transform(r))+")"};function Kme(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Pw={test:TN("#"),parse:Kme,transform:ec.transform},pu={test:TN("hsl","hue"),parse:NF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Fs.transform(hf(t))+", "+Fs.transform(hf(n))+", "+hf(mf.transform(r))+")"},ji={test:e=>ec.test(e)||Pw.test(e)||pu.test(e),parse:e=>ec.test(e)?ec.parse(e):pu.test(e)?pu.parse(e):Pw.parse(e),transform:e=>Km(e)?e:e.hasOwnProperty("red")?ec.transform(e):pu.transform(e)},cr=(e,t,n)=>-n*e+n*t+e;function dy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Gme({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=dy(l,o,e+1/3),a=dy(l,o,e),s=dy(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const fy=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Yme=[Pw,ec,pu],Xme=e=>Yme.find(t=>t.test(e));function yE(e){const t=Xme(e);let n=t.parse(e);return t===pu&&(n=Gme(n)),n}const CF=(e,t)=>{const n=yE(e),r=yE(t),i={...n};return a=>(i.red=fy(n.red,r.red,a),i.green=fy(n.green,r.green,a),i.blue=fy(n.blue,r.blue,a),i.alpha=cr(n.alpha,r.alpha,a),ec.transform(i))};function Qme(e){var t,n;return isNaN(e)&&Km(e)&&(((t=e.match(Lx))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Z$))===null||n===void 0?void 0:n.length)||0)>0}const jF={regex:Wfe,countKey:"Vars",token:"${v}",parse:Cr},AF={regex:Z$,countKey:"Colors",token:"${c}",parse:ji.parse},PF={regex:Lx,countKey:"Numbers",token:"${n}",parse:Mc.parse};function my(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function n0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&my(n,jF),my(n,AF),my(n,PF),n}function TF(e){return n0(e).values}function EF(e){const{values:t,numColors:n,numVars:r,tokenised:i}=n0(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(jF.token,s[l]):l<r+n?o=o.replace(AF.token,ji.transform(s[l])):o=o.replace(PF.token,hf(s[l]));return o}}const Zme=e=>typeof e=="number"?0:e;function Jme(e){const t=TF(e);return EF(e)(t.map(Zme))}const wl={test:Qme,parse:TF,createTransformer:EF,getAnimatableNone:Jme},DF=(e,t)=>n=>`${n>0?t:e}`;function MF(e,t){return typeof e=="number"?n=>cr(e,t,n):ji.test(e)?CF(e,t):e.startsWith("var(")?DF(e,t):IF(e,t)}const OF=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>MF(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},ehe=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=MF(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},IF=(e,t)=>{const n=wl.createTransformer(t),r=n0(e),i=n0(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?pl(OF(r.values,i.values),n):DF(e,t)},sm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},bE=(e,t)=>n=>cr(e,t,n);function the(e){return typeof e=="number"?bE:typeof e=="string"?ji.test(e)?CF:IF:Array.isArray(e)?OF:typeof e=="object"?ehe:bE}function nhe(e,t,n){const r=[],i=n||the(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Cr:t;o=pl(l,o)}r.push(o)}return r}function _F(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(jN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=nhe(t,r,i),o=s.length,l=c=>{let d=0;if(o>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=sm(e[d],e[d+1],c);return s[d](f)};return n?c=>l(bl(e[0],e[a-1],c)):l}function rhe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=sm(0,t,r);e.push(cr(n,1,i))}}function ihe(e){const t=[0];return rhe(t,e.length-1),t}function ahe(e,t){return e.map(n=>n*t)}function she(e,t){return e.map(()=>t||yF).splice(0,e.length-1)}function r0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=zme(r)?r.map(vE):vE(r),a={done:!1,value:t[0]},s=ahe(n&&n.length===t.length?n:ihe(t),e),o=_F(s,t,{ease:Array.isArray(i)?i:she(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function LF(e,t){return t?e*(1e3/t):0}const ohe=5;function $F(e,t,n){const r=Math.max(t-ohe,0);return LF(n-e(r),t-r)}const hy=.001,lhe=.01,che=10,uhe=.05,dhe=1;function fhe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=bl(uhe,dhe,s),e=bl(lhe,che,ho(e)),s<1?(i=c=>{const d=c*s,f=d*e,h=d-n,m=Tw(c,s),p=Math.exp(-f);return hy-h/m*p},a=c=>{const f=c*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),g=Tw(Math.pow(c,2),s);return(-i(c)+hy>0?-1:1)*((h-m)*p)/g}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-hy+d*f},a=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const o=5/e,l=hhe(i,a,o);if(e=lc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const mhe=12;function hhe(e,t,n){let r=n;for(let i=1;i<mhe;i++)r=r-e(r)/t(r);return r}function Tw(e,t){return e*Math.sqrt(1-t*t)}const phe=["duration","bounce"],ghe=["stiffness","damping","mass"];function wE(e,t){return t.some(n=>e[n]!==void 0)}function xhe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!wE(e,ghe)&&wE(e,phe)){const n=fhe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function FF({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=xhe({...r,velocity:-ho(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*c)),g=a-i,y=ho(Math.sqrt(o/c)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let w;if(p<1){const b=Tw(y,p);w=N=>{const C=Math.exp(-p*y*N);return a-C*((m+p*y*g)/b*Math.sin(b*N)+g*Math.cos(b*N))}}else if(p===1)w=b=>a-Math.exp(-y*b)*(g+(m+y*g)*b);else{const b=y*Math.sqrt(p*p-1);w=N=>{const C=Math.exp(-p*y*N),S=Math.min(b*N,300);return a-C*((m+p*y*g)*Math.sinh(S)+b*g*Math.cosh(S))/b}}return{calculatedDuration:h&&d||null,next:b=>{const N=w(b);if(h)s.done=b>=d;else{let C=m;b!==0&&(p<1?C=$F(w,b,N):C=0);const S=Math.abs(C)<=n,j=Math.abs(a-N)<=t;s.done=S&&j}return s.value=s.done?a:N,s}}}function kE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=O=>o!==void 0&&O<o||l!==void 0&&O>l,p=O=>o===void 0?l:l===void 0||Math.abs(o-O)<Math.abs(l-O)?o:l;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const w=O=>-g*Math.exp(-O/r),b=O=>x+w(O),N=O=>{const F=w(O),T=b(O);h.done=Math.abs(F)<=c,h.value=h.done?x:T};let C,S;const j=O=>{m(h.value)&&(C=O,S=FF({keyframes:[h.value,p(h.value)],velocity:$F(b,O,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:O=>{let F=!1;return!S&&C===void 0&&(F=!0,N(O),j(O)),C!==void 0&&O>C?S.next(O-C):(!F&&N(O),h)}}}const vhe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Jn.update(t,!0),stop:()=>Co(t),now:()=>mi.isProcessing?mi.timestamp:performance.now()}},SE=2e4;function NE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<SE;)t+=n,r=e.next(t);return t>=SE?1/0:t}const yhe={decay:kE,inertia:kE,tween:r0,keyframes:r0,spring:FF};function i0({autoplay:e=!0,delay:t=0,driver:n=vhe,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,g,y;const x=()=>{y=new Promise(A=>{g=A})};x();let w;const b=yhe[i]||r0;let N;b!==r0&&typeof r[0]!="number"&&(N=_F([0,100],r,{clamp:!1}),r=[0,100]);const C=b({...h,keyframes:r});let S;o==="mirror"&&(S=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let j="idle",O=null,F=null,T=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=NE(C));const{calculatedDuration:I}=C;let M=1/0,G=1/0;I!==null&&(M=I+s,G=M*(a+1)-s);let Z=0;const se=A=>{if(F===null)return;m>0&&(F=Math.min(F,A)),m<0&&(F=Math.min(A-G/m,F)),O!==null?Z=O:Z=Math.round(A-F)*m;const ae=Z-t*(m>=0?1:-1),k=m>=0?ae<0:ae>G;Z=Math.max(ae,0),j==="finished"&&O===null&&(Z=G);let U=Z,W=C;if(a){const R=Math.min(Z,G)/M;let B=Math.floor(R),H=R%1;!H&&R>=1&&(H=1),H===1&&B--,B=Math.min(B,a+1),!!(B%2)&&(o==="reverse"?(H=1-H,s&&(H-=s/M)):o==="mirror"&&(W=S)),U=bl(0,1,H)*M}const ee=k?{done:!1,value:r[0]}:W.next(U);N&&(ee.value=N(ee.value));let{done:te}=ee;!k&&I!==null&&(te=m>=0?Z>=G:Z<=0);const ie=O===null&&(j==="finished"||j==="running"&&te);return f&&f(ee.value),ie&&K(),ee},fe=()=>{w&&w.stop(),w=void 0},J=()=>{j="idle",fe(),g(),x(),F=T=null},K=()=>{j="finished",d&&d(),fe(),g()},le=()=>{if(p)return;w||(w=n(se));const A=w.now();l&&l(),O!==null?F=A-O:(!F||j==="finished")&&(F=A),j==="finished"&&x(),T=F,O=null,j="running",w.start()};e&&le();const D={then(A,ae){return y.then(A,ae)},get time(){return ho(Z)},set time(A){A=lc(A),Z=A,O!==null||!w||m===0?O=A:F=w.now()-A/m},get duration(){const A=C.calculatedDuration===null?NE(C):C.calculatedDuration;return ho(A)},get speed(){return m},set speed(A){A===m||!w||(m=A,D.time=ho(Z))},get state(){return j},play:le,pause:()=>{j="paused",O=Z},stop:()=>{p=!0,j!=="idle"&&(j="idle",c&&c(),J())},cancel:()=>{T!==null&&se(T),J()},complete:()=>{j="finished"},sample:A=>(F=0,se(A))};return D}function bhe(e){let t;return()=>(t===void 0&&(t=e()),t)}const whe=bhe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),khe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Jh=10,She=2e4,Nhe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!pF(t.ease);function Che(e,t,{onUpdate:n,onComplete:r,...i}){if(!(whe()&&khe.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,c=!1;const d=()=>{l=new Promise(b=>{o=b})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Nhe(t,i)){const b=i0({...i,repeat:0,delay:0});let N={done:!1,value:f[0]};const C=[];let S=0;for(;!N.done&&S<She;)N=b.sample(S),C.push(N.value),S+=Jh;p=void 0,f=C,h=S-Jh,m="linear"}const g=Ime(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),y=()=>{c=!1,g.cancel()},x=()=>{c=!0,Jn.update(y),o(),d()};return g.onfinish=()=>{c||(e.set(_me(f,i)),r&&r(),x())},{then(b,N){return l.then(b,N)},attachTimeline(b){return g.timeline=b,g.onfinish=null,Cr},get time(){return ho(g.currentTime||0)},set time(b){g.currentTime=lc(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return ho(h)},play:()=>{s||(g.play(),Co(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const N=i0({...i,autoplay:!1});e.setWithVelocity(N.sample(b-Jh).value,N.sample(b).value,Jh)}x()},complete:()=>{c||g.finish()},cancel:x}}function jhe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Cr,pause:Cr,stop:Cr,then:a=>(a(),Promise.resolve()),cancel:Cr,complete:Cr});return t?i0({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Ahe={type:"spring",stiffness:500,damping:25,restSpeed:10},Phe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),The={type:"keyframes",duration:.8},Ehe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dhe=(e,{keyframes:t})=>t.length>2?The:Dc.has(e)?e.startsWith("scale")?Phe(t[1]):Ahe:Ehe,Ew=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(wl.test(t)||t==="0")&&!t.startsWith("url(")),Mhe=new Set(["brightness","contrast","saturate","opacity"]);function Ohe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Lx)||[];if(!r)return e;const i=n.replace(r,"");let a=Mhe.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Ihe=/([a-z-]*)\(.*?\)/g,Dw={...wl,getAnimatableNone:e=>{const t=e.match(Ihe);return t?t.map(Ohe).join(" "):e}},_he={...J$,color:ji,backgroundColor:ji,outlineColor:ji,fill:ji,stroke:ji,borderColor:ji,borderTopColor:ji,borderRightColor:ji,borderBottomColor:ji,borderLeftColor:ji,filter:Dw,WebkitFilter:Dw},EN=e=>_he[e];function RF(e,t){let n=EN(e);return n!==Dw&&(n=wl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const BF=e=>/^0[^.\s]+$/.test(e);function Lhe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||BF(e)}function $he(e,t,n,r){const i=Ew(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),Lhe(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];a[d]=RF(t,o)}return a}function Fhe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function DN(e,t){return e[t]||e.default||e}const Rhe={skipAnimations:!1},MN=(e,t,n,r={})=>i=>{const a=DN(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-lc(s);const l=$he(t,e,n,a),c=l[0],d=l[l.length-1],f=Ew(e,c),h=Ew(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(Fhe(a)||(m={...m,...Dhe(e,m)}),m.duration&&(m.duration=lc(m.duration)),m.repeatDelay&&(m.repeatDelay=lc(m.repeatDelay)),!f||!h||Ome.current||a.type===!1||Rhe.skipAnimations)return jhe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Che(t,e,m);if(p)return p}return i0(m)};function a0(e){return!!(Qi(e)&&e.add)}const zF=e=>/^\-?\d*\.?\d+$/.test(e);function ON(e,t){e.indexOf(t)===-1&&e.push(t)}function IN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class _N{constructor(){this.subscriptions=[]}add(t){return ON(this.subscriptions,t),()=>IN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bhe=e=>!isNaN(parseFloat(e));class zhe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=mi;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,Jn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Jn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Bhe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new _N);const r=this.events[t].add(n);return t==="change"?()=>{r(),Jn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?LF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ku(e,t){return new zhe(e,t)}const UF=e=>t=>t.test(e),Uhe={test:e=>e==="auto",parse:e=>e},VF=[Mc,Ut,Fs,qo,Gfe,Kfe,Uhe],Rd=e=>VF.find(UF(e)),Vhe=[...VF,ji,wl],Whe=e=>Vhe.find(UF(e));function Hhe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ku(n))}function qhe(e,t){const n=Fx(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=cme(a[s]);Hhe(e,s,o)}}function Khe(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(zF(d)||BF(d))?d=parseFloat(d):!Whe(d)&&wl.test(c)&&(d=RF(l,c)),e.addValue(l,Ku(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function Ghe(e,t){return t?(t[e]||t.default||t).from:void 0}function Yhe(e,t,n){const r={};for(const i in e){const a=Ghe(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function Xhe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Qhe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function WF(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&Xhe(d,f))continue;const p={delay:n,elapsed:0,...DN(a||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[H$];if(x){const w=window.HandoffAppearAnimations(x,f,h,Jn);w!==null&&(p.elapsed=w,p.isHandoff=!0)}}let g=!p.isHandoff&&!Qhe(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(MN(f,h,m,e.shouldReduceMotion&&Dc.has(f)?{type:!1}:p));const y=h.animation;a0(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&qhe(e,s)}),c}function Mw(e,t,n={}){const r=Fx(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(WF(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return Zhe(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function Zhe(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(Jhe).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(Mw(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function Jhe(e,t){return e.sortNodePosition(t)}function epe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Mw(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=Mw(e,t,n);else{const i=typeof t=="function"?Fx(e,t,n.custom):t;r=Promise.all(WF(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const tpe=[...xN].reverse(),npe=xN.length;function rpe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>epe(e,n,r)))}function ipe(e){let t=rpe(e);const n=spe();let r=!0;const i=(l,c)=>{const d=Fx(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},g=1/0;for(let x=0;x<npe;x++){const w=tpe[x],b=n[w],N=d[w]!==void 0?d[w]:f[w],C=im(N),S=w===c?b.isActive:null;S===!1&&(g=x);let j=N===f[w]&&N!==d[w]&&C;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),b.protectedKeys={...p},!b.isActive&&S===null||!N&&!b.prevProp||Ix(N)||typeof N=="boolean")continue;let F=ape(b.prevProp,N)||w===c&&b.isActive&&!j&&C||x>g&&C,T=!1;const I=Array.isArray(N)?N:[N];let M=I.reduce(i,{});S===!1&&(M={});const{prevResolvedValues:G={}}=b,Z={...G,...M},se=fe=>{F=!0,m.has(fe)&&(T=!0,m.delete(fe)),b.needsAnimating[fe]=!0};for(const fe in Z){const J=M[fe],K=G[fe];if(p.hasOwnProperty(fe))continue;let le=!1;t0(J)&&t0(K)?le=!mF(J,K):le=J!==K,le?J!==void 0?se(fe):m.add(fe):J!==void 0&&m.has(fe)?se(fe):b.protectedKeys[fe]=!0}b.prevProp=N,b.prevResolvedValues=M,b.isActive&&(p={...p,...M}),r&&e.blockInitialAnimation&&(F=!1),F&&(!j||T)&&h.push(...I.map(fe=>({animation:fe,options:{type:w,...l}})))}if(m.size){const x={};m.forEach(w=>{const b=e.getBaseTarget(w);b!==void 0&&(x[w]=b)}),h.push({animation:x})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function ape(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mF(t,e):!1}function Ll(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function spe(){return{animate:Ll(!0),whileInView:Ll(),whileHover:Ll(),whileTap:Ll(),whileDrag:Ll(),whileFocus:Ll(),exit:Ll()}}class ope extends El{constructor(t){super(t),t.animationState||(t.animationState=ipe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Ix(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let lpe=0;class cpe extends El{constructor(){super(...arguments),this.id=lpe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const upe={animation:{Feature:ope},exit:{Feature:cpe}},CE=(e,t)=>Math.abs(e-t);function dpe(e,t){const n=CE(e.x,t.x),r=CE(e.y,t.y);return Math.sqrt(n**2+r**2)}class HF{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=gy(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=dpe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:g}=mi;this.history.push({...p,timestamp:g});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=py(h,this.transformPagePoint),Jn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=gy(f.type==="pointercancel"?this.lastMoveEventInfo:py(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),p&&p(f,y)},!lF(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=$x(t),o=py(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=mi;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,gy(o,this.history)),this.removeListeners=pl(mo(this.contextWindow,"pointermove",this.handlePointerMove),mo(this.contextWindow,"pointerup",this.handlePointerUp),mo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Co(this.updatePoint)}}function py(e,t){return t?{point:t(e.point)}:e}function jE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gy({point:e},t){return{point:e,delta:jE(e,qF(t)),offset:jE(e,fpe(t)),velocity:mpe(t,.1)}}function fpe(e){return e[0]}function qF(e){return e[e.length-1]}function mpe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=qF(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>lc(t)));)n--;if(!r)return{x:0,y:0};const a=ho(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ba(e){return e.max-e.min}function Ow(e,t=0,n=.01){return Math.abs(e-t)<=n}function AE(e,t,n,r=.5){e.origin=r,e.originPoint=cr(t.min,t.max,e.origin),e.scale=ba(n)/ba(t),(Ow(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=cr(n.min,n.max,e.origin)-e.originPoint,(Ow(e.translate)||isNaN(e.translate))&&(e.translate=0)}function pf(e,t,n,r){AE(e.x,t.x,n.x,r?r.originX:void 0),AE(e.y,t.y,n.y,r?r.originY:void 0)}function PE(e,t,n){e.min=n.min+t.min,e.max=e.min+ba(t)}function hpe(e,t,n){PE(e.x,t.x,n.x),PE(e.y,t.y,n.y)}function TE(e,t,n){e.min=t.min-n.min,e.max=e.min+ba(t)}function gf(e,t,n){TE(e.x,t.x,n.x),TE(e.y,t.y,n.y)}function ppe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?cr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?cr(n,e,r.max):Math.min(e,n)),e}function EE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function gpe(e,{top:t,left:n,bottom:r,right:i}){return{x:EE(e.x,n,i),y:EE(e.y,t,r)}}function DE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function xpe(e,t){return{x:DE(e.x,t.x),y:DE(e.y,t.y)}}function vpe(e,t){let n=.5;const r=ba(e),i=ba(t);return i>r?n=sm(t.min,t.max-r,e.min):r>i&&(n=sm(e.min,e.max-i,t.min)),bl(0,1,n)}function ype(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Iw=.35;function bpe(e=Iw){return e===!1?e=0:e===!0&&(e=Iw),{x:ME(e,"left","right"),y:ME(e,"top","bottom")}}function ME(e,t,n){return{min:OE(e,t),max:OE(e,n)}}function OE(e,t){return typeof e=="number"?e:e[t]||0}const IE=()=>({translate:0,scale:1,origin:0,originPoint:0}),gu=()=>({x:IE(),y:IE()}),_E=()=>({min:0,max:0}),Tr=()=>({x:_E(),y:_E()});function Da(e){return[e("x"),e("y")]}function KF({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function wpe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kpe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function xy(e){return e===void 0||e===1}function _w({scale:e,scaleX:t,scaleY:n}){return!xy(e)||!xy(t)||!xy(n)}function Vl(e){return _w(e)||GF(e)||e.z||e.rotate||e.rotateX||e.rotateY}function GF(e){return LE(e.x)||LE(e.y)}function LE(e){return e&&e!=="0%"}function s0(e,t,n){const r=e-n,i=t*r;return n+i}function $E(e,t,n,r,i){return i!==void 0&&(e=s0(e,i,r)),s0(e,n,r)+t}function Lw(e,t=0,n=1,r,i){e.min=$E(e.min,t,n,r,i),e.max=$E(e.max,t,n,r,i)}function YF(e,{x:t,y:n}){Lw(e.x,t.translate,t.scale,t.originPoint),Lw(e.y,n.translate,n.scale,n.originPoint)}function Spe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&xu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,YF(e,s)),r&&Vl(a.latestValues)&&xu(e,a.latestValues))}t.x=FE(t.x),t.y=FE(t.y)}function FE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Qo(e,t){e.min=e.min+t,e.max=e.max+t}function RE(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=cr(e.min,e.max,a);Lw(e,t[n],t[r],s,t.scale)}const Npe=["x","scaleX","originX"],Cpe=["y","scaleY","originY"];function xu(e,t){RE(e.x,t,Npe),RE(e.y,t,Cpe)}function XF(e,t){return KF(kpe(e.getBoundingClientRect(),t))}function jpe(e,t,n){const r=XF(e,n),{scroll:i}=t;return i&&(Qo(r.x,i.offset.x),Qo(r.y,i.offset.y)),r}const QF=({current:e})=>e?e.ownerDocument.defaultView:null,Ape=new WeakMap;class Ppe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($x(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uF(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Da(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Fs.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[y];b&&(x=ba(b)*(parseFloat(x)/100))}}this.originPoint[y]=x}),p&&Jn.update(()=>p(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Tpe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Da(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new HF(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:QF(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Jn.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!ep(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=ppe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&hu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=gpe(i.layoutBox,n):this.constraints=!1,this.elastic=bpe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Da(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=ype(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!hu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=jpe(r,i.root,this.visualElement.getTransformPagePoint());let s=xpe(i.layout.layoutBox,a);if(n){const o=n(wpe(s));this.hasMutatedConstraints=!!o,o&&(s=KF(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Da(d=>{if(!ep(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(MN(t,r,0,n))}stopAnimation(){Da(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Da(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Da(n=>{const{drag:r}=this.getProps();if(!ep(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-cr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Da(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=vpe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Da(s=>{if(!ep(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(cr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Ape.set(this.visualElement,this);const t=this.visualElement.current,n=mo(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();hu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=lo(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Da(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=Iw,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function ep(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Tpe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Epe extends El{constructor(t){super(t),this.removeGroupControls=Cr,this.removeListeners=Cr,this.controls=new Ppe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cr}unmount(){this.removeGroupControls(),this.removeListeners()}}const BE=e=>(t,n)=>{e&&Jn.update(()=>e(t,n))};class Dpe extends El{constructor(){super(...arguments),this.removePointerDownListener=Cr}onPointerDown(t){this.session=new HF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QF(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:BE(t),onStart:BE(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Jn.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=mo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Mpe(){const e=v.useContext(pN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=v.useId();return v.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Sp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ut.test(e))e=parseFloat(e);else return e;const n=zE(e,t.target.x),r=zE(e,t.target.y);return`${n}% ${r}%`}},Ope={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=wl.parse(e);if(i.length>5)return r;const a=wl.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=cr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class Ipe extends l0.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;Bfe(_pe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Sp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||Jn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ZF(e){const[t,n]=Mpe(),r=v.useContext(K$);return l0.createElement(Ipe,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(G$),isPresent:t,safeToRemove:n})}const _pe={borderRadius:{...Bd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bd,borderTopRightRadius:Bd,borderBottomLeftRadius:Bd,borderBottomRightRadius:Bd,boxShadow:Ope},JF=["TopLeft","TopRight","BottomLeft","BottomRight"],Lpe=JF.length,UE=e=>typeof e=="string"?parseFloat(e):e,VE=e=>typeof e=="number"||Ut.test(e);function $pe(e,t,n,r,i,a){i?(e.opacity=cr(0,n.opacity!==void 0?n.opacity:1,Fpe(r)),e.opacityExit=cr(t.opacity!==void 0?t.opacity:1,0,Rpe(r))):a&&(e.opacity=cr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Lpe;s++){const o=`border${JF[s]}Radius`;let l=WE(t,o),c=WE(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||VE(l)===VE(c)?(e[o]=Math.max(cr(UE(l),UE(c),r),0),(Fs.test(c)||Fs.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=cr(t.rotate||0,n.rotate||0,r))}function WE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Fpe=eR(0,.5,kF),Rpe=eR(.5,.95,Cr);function eR(e,t,n){return r=>r<e?0:r>t?1:n(sm(e,t,r))}function HE(e,t){e.min=t.min,e.max=t.max}function Pa(e,t){HE(e.x,t.x),HE(e.y,t.y)}function qE(e,t,n,r,i){return e-=t,e=s0(e,1/n,r),i!==void 0&&(e=s0(e,1/i,r)),e}function Bpe(e,t=0,n=1,r=.5,i,a=e,s=e){if(Fs.test(t)&&(t=parseFloat(t),t=cr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=cr(a.min,a.max,r);e===a&&(o-=t),e.min=qE(e.min,t,n,o,i),e.max=qE(e.max,t,n,o,i)}function KE(e,t,[n,r,i],a,s){Bpe(e,t[n],t[r],t[i],t.scale,a,s)}const zpe=["x","scaleX","originX"],Upe=["y","scaleY","originY"];function GE(e,t,n,r){KE(e.x,t,zpe,n?n.x:void 0,r?r.x:void 0),KE(e.y,t,Upe,n?n.y:void 0,r?r.y:void 0)}function YE(e){return e.translate===0&&e.scale===1}function tR(e){return YE(e.x)&&YE(e.y)}function Vpe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function nR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function XE(e){return ba(e.x)/ba(e.y)}class Wpe{constructor(){this.members=[]}add(t){ON(this.members,t),t.scheduleRender()}remove(t){if(IN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QE(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const Hpe=(e,t)=>e.depth-t.depth;class qpe{constructor(){this.children=[],this.isDirty=!1}add(t){ON(this.children,t),this.isDirty=!0}remove(t){IN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Hpe),this.isDirty=!1,this.children.forEach(t)}}function Kpe(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Co(r),e(a-t))};return Jn.read(r,!0),()=>Co(r)}function Gpe(e){window.MotionDebug&&window.MotionDebug.record(e)}function Ype(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Xpe(e,t,n){const r=Qi(e)?e:Ku(e);return r.start(MN("",r,t,n)),r.animation}const ZE=["","X","Y","Z"],Qpe={visibility:"hidden"},JE=1e3;let Zpe=0;const Wl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Zpe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wl.totalNodes=Wl.resolvedTargetDeltas=Wl.recalculatedProjection=0,this.nodes.forEach(tge),this.nodes.forEach(sge),this.nodes.forEach(oge),this.nodes.forEach(nge),Gpe(Wl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qpe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new _N),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Ype(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Kpe(h,250),Sp.hasAnimatedSinceResize&&(Sp.hasAnimatedSinceResize=!1,this.nodes.forEach(tD))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||fge,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),w=!this.targetLayout||!nR(this.targetLayout,p)||m,b=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const N={...DN(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||tD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Co(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lge),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eD);return}this.isUpdating||this.nodes.forEach(ige),this.isUpdating=!1,this.nodes.forEach(age),this.nodes.forEach(Jpe),this.nodes.forEach(ege),this.clearAllSnapshots();const o=performance.now();mi.delta=bl(0,1e3/60,o-mi.timestamp),mi.timestamp=o,mi.isProcessing=!0,oy.update.process(mi),oy.preRender.process(mi),oy.render.process(mi),mi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(rge),this.sharedNodes.forEach(cge)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!tR(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(o||Vl(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),mge(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Tr();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Qo(o.x,l.offset.x),Qo(o.y,l.offset.y)),o}removeElementScroll(s){const o=Tr();Pa(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Pa(o,s);const{scroll:h}=this.root;h&&(Qo(o.x,-h.offset.x),Qo(o.y,-h.offset.y))}Qo(o.x,d.offset.x),Qo(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Tr();Pa(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Vl(d.latestValues)&&xu(l,d.latestValues)}return Vl(this.latestValues)&&xu(l,this.latestValues),l}removeTransform(s){const o=Tr();Pa(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Vl(c.latestValues))continue;_w(c.latestValues)&&c.updateSnapshot();const d=Tr(),f=c.measurePageBox();Pa(d,f),GE(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Vl(this.latestValues)&&GE(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=mi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),gf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tr(),this.targetWithTransforms=Tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hpe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pa(this.target,this.layout.layoutBox),YF(this.target,this.targetDelta)):Pa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),gf(this.relativeTargetOrigin,this.target,m.target),Pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_w(this.parent.latestValues)||GF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===mi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Pa(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Spe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=gu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=gu(),this.projectionDeltaWithTransform=gu());const g=this.projectionTransform;pf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=QE(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Wl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=gu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Tr(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,y=this.getStack(),x=!y||y.members.length<=1,w=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(dge));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const C=N/1e3;nD(f.x,s.x,C),nD(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uge(this.relativeTarget,this.relativeTargetOrigin,h,C),b&&Vpe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Tr()),Pa(b,this.relativeTarget)),g&&(this.animationValues=d,$pe(d,c,this.latestValues,C,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Co(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jn.update(()=>{Sp.hasAnimatedSinceResize=!0,this.currentAnimation=Xpe(0,JE,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&iR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Tr();const f=ba(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=ba(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Pa(o,l),xu(o,d),pf(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Wpe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<ZE.length;d++){const f="rotate"+ZE[d];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Qpe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=kp(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=kp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Vl(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=QE(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Jg){if(h[g]===void 0)continue;const{correct:y,applyTo:x}=Jg[g],w=c.transform==="none"?h[g]:y(h[g],f);if(x){const b=x.length;for(let N=0;N<b;N++)c[x[N]]=w}else c[g]=w}return this.options.layoutId&&(c.pointerEvents=f===this?kp(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(eD),this.root.sharedNodes.clear()}}}function Jpe(e){e.updateLayout()}function ege(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?Da(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=ba(h);h.min=r[f].min,h.max=h.min+m}):iR(a,n.layoutBox,r)&&Da(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=ba(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=gu();pf(o,r,n.layoutBox);const l=gu();s?pf(l,e.applyTransform(i,!0),n.measuredBox):pf(l,r,n.layoutBox);const c=!tR(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Tr();gf(p,n.layoutBox,h.layoutBox);const g=Tr();gf(g,r,m.layoutBox),nR(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function tge(e){Wl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nge(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rge(e){e.clearSnapshot()}function eD(e){e.clearMeasurements()}function ige(e){e.isLayoutDirty=!1}function age(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sge(e){e.resolveTargetDelta()}function oge(e){e.calcProjection()}function lge(e){e.resetRotation()}function cge(e){e.removeLeadSnapshot()}function nD(e,t,n){e.translate=cr(t.translate,0,n),e.scale=cr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rD(e,t,n,r){e.min=cr(t.min,n.min,r),e.max=cr(t.max,n.max,r)}function uge(e,t,n,r){rD(e.x,t.x,n.x,r),rD(e.y,t.y,n.y,r)}function dge(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const fge={duration:.45,ease:[.4,0,.1,1]},iD=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),aD=iD("applewebkit/")&&!iD("chrome/")?Math.round:Cr;function sD(e){e.min=aD(e.min),e.max=aD(e.max)}function mge(e){sD(e.x),sD(e.y)}function iR(e,t,n){return e==="position"||e==="preserve-aspect"&&!Ow(XE(t),XE(n),.2)}const hge=rR({attachResizeListener:(e,t)=>lo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vy={current:void 0},aR=rR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vy.current){const e=new hge({});e.mount(window),e.setOptions({layoutScroll:!0}),vy.current=e}return vy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pge={pan:{Feature:Dpe},drag:{Feature:Epe,ProjectionNode:aR,MeasureLayout:ZF}},gge=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xge(e){const t=gge.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function $w(e,t,n=1){const[r,i]=xge(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return zF(s)?parseFloat(s):s}else return jw(i)?$w(i,t,n+1):i}function vge(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!jw(a))return;const s=$w(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!jw(a))continue;const s=$w(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const yge=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),sR=e=>yge.has(e),bge=e=>Object.keys(e).some(sR),oD=e=>e===Mc||e===Ut,lD=(e,t)=>parseFloat(e.split(", ")[t]),cD=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return lD(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?lD(a[1],e):0}},wge=new Set(["x","y","z"]),kge=qm.filter(e=>!wge.has(e));function Sge(e){const t=[];return kge.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Gu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:cD(4,13),y:cD(5,14)};Gu.translateX=Gu.x;Gu.translateY=Gu.y;const Nge=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=Gu[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(o[c]),e[c]=Gu[c](l,a)}),e},Cge=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(sR);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Rd(d);const h=t[l];let m;if(t0(h)){const p=h.length,g=h[0]===null?1:0;d=h[g],f=Rd(d);for(let y=g;y<p&&h[y]!==null;y++)m?jN(Rd(h[y])===m):m=Rd(h[y])}else m=Rd(h);if(f!==m)if(oD(f)&&oD(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Ut&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(s||(a=Sge(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Nge(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Ox&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function jge(e,t,n,r){return bge(t)?Cge(e,t,n,r):{target:t,transitionEnd:r}}const Age=(e,t,n,r)=>{const i=vge(e,t,r);return t=i.target,r=i.transitionEnd,jge(e,t,n,r)},Fw={current:null},oR={current:!1};function Pge(){if(oR.current=!0,!!Ox)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Fw.current=e.matches;e.addListener(t),t()}else Fw.current=!1}function Tge(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(Qi(a))e.addValue(i,a),a0(r)&&r.add(i);else if(Qi(s))e.addValue(i,Ku(a,{owner:e})),a0(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Ku(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const uD=new WeakMap,lR=Object.keys(am),Ege=lR.length,dD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Dge=vN.length;class Mge{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Jn.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=_x(n),this.isVariantNode=q$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&Qi(h)&&(h.set(o[f],!1),a0(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,uD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oR.current||Pge(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uD.delete(this.current),this.projection&&this.projection.unmount(),Co(this.notifyUpdate),Co(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Dc.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Jn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<Ege;l++){const c=lR[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=am[c];h&&(s=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&hu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dD.length;r++){const i=dD[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Tge(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Dge;r++){const i=vN[r],a=this.props[i];(im(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ku(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=CN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Qi(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new _N),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class cR extends Mge{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=Yhe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){Khe(this,r,s);const o=Age(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function Oge(e){return window.getComputedStyle(e)}class Ige extends cR{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Dc.has(n)){const r=EN(n);return r&&r.default||0}else{const r=Oge(t),i=(Q$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return XF(t,n)}build(t,n,r,i){bN(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return NN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Qi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){rF(t,n,r,i)}}class _ge extends cR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Dc.has(n)){const r=EN(n);return r&&r.default||0}return n=iF.has(n)?n:gN(n),t.getAttribute(n)}measureInstanceViewportBox(){return Tr()}scrapeMotionValuesFromProps(t,n){return sF(t,n)}build(t,n,r,i){kN(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){aF(t,n,r,i)}mount(t){this.isSVGTag=SN(t.tagName),super.mount(t)}}const Lge=(e,t)=>yN(e)?new _ge(t,{enableHardwareAcceleration:!1}):new Ige(t,{enableHardwareAcceleration:!0}),$ge={layout:{ProjectionNode:aR,MeasureLayout:ZF}},Fge={...upe,...Eme,...pge,...$ge},Ts=Ffe((e,t)=>xme(e,t,Fge,Lge));function Rge({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:g,children:y}){return e?u.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:x=>x.target===x.currentTarget&&t(),children:u.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),onFocus:s,onBlur:x=>o(x.relatedTarget),onKeyDown:x=>{x.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((x,w)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:b=>{b.preventDefault(),c(x)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:x.section}),u.jsx("div",{className:"truncate",children:d(x.text,n)})]},`${x.hitId}-${w}-${x.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(_i,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[h.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((x,w)=>{const b=x.id===m;return u.jsxs("button",{"data-toc-active":b?"true":"false",className:`proof-of-work-toc-item ${x.level===1?"proof-of-work-toc-item--l1":x.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${b?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":x.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(x),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${b?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:x.text})]},`${x.id}-${x.level}-${w}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:g,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:y})})]})})]})}):null}const $l="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",Rw="arcbridge_web_theme_override",fD="arcbridge_web_kinetic_font_override",mD="__default__",uR=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},hD=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},Bge=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},zge=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},Uge=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},Bw=e=>e?e===YS?!0:Yd.some(t=>t.id===e):!1,Vge=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&Bw(t))return t;const n=uR(Rw);if(!n)return null;try{const r=JSON.parse(n),i=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return i&&Bw(i)?i:null}catch{return null}},pD=(e,t)=>e?e===Kg?"matte":e===Gg||e===cf?"kinetic":e===YS?"crt":t==="modern"||t==="classic"?t:"classic":t,gD=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},Wge=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},xD=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Hge=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,c=`${l} ${n-l}`,d=n-i;return i+=l,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:c,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},qge=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function Kge(){var $c;const e=Vge(),[t,n]=v.useState(null),[r,i]=v.useState(null),[a,s]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(""),[f,h]=v.useState(null),[m,p]=v.useState(null),[g,y]=v.useState(!1),[x,w]=v.useState(!1),[b,N]=v.useState(()=>pD(e,"classic")),[C,S]=v.useState("classic"),[j,O]=v.useState(yp.id),[F,T]=v.useState(e),I=v.useMemo(()=>{const Y=new URLSearchParams(window.location.search),ye=Y.get("themeId")||Y.get("theme");return ye&&Bw(ye)?ye:null},[]),[M,G]=v.useState("default"),[Z,se]=v.useState(!1),[fe,J]=v.useState(!1),[K,le]=v.useState(!1),[D,A]=v.useState(""),[ae,k]=v.useState(""),[U,W]=v.useState([]),[ee,te]=v.useState(!1),[ie,R]=v.useState("overview"),[B,H]=v.useState("kdr"),[X,$]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),oe=v.useRef(null),L=v.useRef(null),V=v.useRef(null),ve=v.useRef(null),Ne=v.useRef(null),tt=v.useRef(null),z=v.useRef(new Map),Re=v.useRef(null),Ce=v.useRef(null),lt=v.useMemo(()=>{let Y=window.location.pathname||"/";const ye=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return Y.endsWith("/index.html")&&(Y=Y.slice(0,-11)),Y.includes("/reports/")&&(Y=Y.replace(/\/reports\/[^/]+\/?$/,"")),ye&&(Y=Y.replace(/^\/web\/web(?=\/|$)/,"/web")),Y.endsWith("/")||(Y=`${Y}/`),Y},[]),Jt=v.useMemo(()=>new URL(lt,window.location.origin).toString(),[lt]),fn=v.useMemo(()=>I?zge(Jt,I):Jt,[I,Jt]),me=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),ze=v.useMemo(()=>{const ye=[lt,"./","/"],Ee=[];return ye.forEach(ct=>{let _t=ct||"/";_t!=="./"&&!_t.endsWith("/")&&(_t=`${_t}/`),Ee.includes(_t)||Ee.push(_t)}),Ee},[lt,me]),[Mt,en]=v.useState(ze[0]||"/"),hn=Y=>{var ye;return typeof Y=="string"||typeof Y=="number"?String(Y):Array.isArray(Y)?Y.map(hn).join(""):Y&&typeof Y=="object"&&"props"in Y?hn((ye=Y.props)==null?void 0:ye.children):""},hr=Y=>{const ye=xD(Y||"section")||"section",Ee=z.current,ct=(Ee.get(ye)??0)+1;return Ee.set(ye,ct),ct===1?ye:`${ye}-${ct}`},Dn=v.useMemo(()=>{const Y=sy.split(`
`),ye=new Map,Ee=[],ct=_t=>{const Bt=xD(_t||"section")||"section",rn=(ye.get(Bt)??0)+1;return ye.set(Bt,rn),rn===1?Bt:`${Bt}-${rn}`};for(const _t of Y){const Bt=/^(#{1,3})\s+(.*)\s*$/.exec(_t);if(!Bt)continue;const rn=Bt[1].length,Nt=Bt[2].trim();Nt&&Ee.push({level:rn,text:Nt,id:ct(Nt)})}return Ee},[sy]),nn=(Y,ye)=>{const Ee=Y==="./"?"./":Y.endsWith("/")?Y:`${Y}/`,ct=String(ye||"").replace(/^\/+/,"");return`${Ee}${ct}`};v.useEffect(()=>{const Y=uR(fD);(Y==="original"||Y==="default")&&G(Y)},[]),v.useEffect(()=>{const Y=F||j,ye=Yd.find(Ee=>Ee.id===Y)||yp;h(ye)},[F,j]),v.useEffect(()=>{if(!F){N(C);return}N(pD(F,C))},[F,C]),v.useEffect(()=>{en(ze[0]||"/");let Y=!0;return(async()=>{for(const Ee of ze)try{if((await fetch(nn(Ee,"ui-theme.json"),{cache:"no-store"})).ok){Y&&en(Ee);return}}catch{}})(),()=>{Y=!1}},[ze]);const Wa=(Y,ye)=>{const Ee=ye.trim();if(!Ee)return Y;const ct=Y.toLowerCase(),_t=Ee.toLowerCase(),Bt=ct.indexOf(_t);if(Bt===-1)return Y;const rn=Y.slice(0,Bt),Nt=Y.slice(Bt,Bt+Ee.length),ht=Y.slice(Bt+Ee.length);return u.jsxs(u.Fragment,{children:[rn,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:Nt}),ht]})},mn=(Y,ye)=>{const Ee=L.current;if(!Ee)return;let ct=Ee.querySelector(`[data-search-hit="${Y}"]`);if(!ct&&ye){const _t=ye.trim().replace(/\s+/g," "),Bt=Array.from(Ee.querySelectorAll("h1, h2, h3, p, li, code"));ct=Bt.find(rn=>(rn.textContent||"").trim().replace(/\s+/g," ")===_t)||null,ct||(ct=Bt.find(rn=>(rn.textContent||"").toLowerCase().includes(_t.toLowerCase()))||null)}ct&&requestAnimationFrame(()=>{const _t=Ee.getBoundingClientRect(),Bt=ct.getBoundingClientRect(),rn=Math.max(0,Ee.scrollTop+(Bt.top-_t.top)-12);Ee.scrollTop=rn,ct.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),tt.current&&window.clearTimeout(tt.current),tt.current=window.setTimeout(()=>{ct.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},vn=Y=>{const ye=L.current,Ee=Y.trim().toLowerCase();if(!ye||Ee.length<2){W([]);return}const ct=Array.from(ye.querySelectorAll("h1, h2, h3, p, li, code"));ct.forEach(rn=>rn.removeAttribute("data-search-hit"));const _t=[];let Bt=0;ct.forEach((rn,Nt)=>{const ht=(rn.textContent||"").trim();if(ht&&ht.toLowerCase().includes(Ee)){let Tn="";for(let E=Nt;E>=0;E-=1){const P=ct[E];if(P&&["H1","H2","H3"].includes(P.tagName)){Tn=(P.textContent||"").trim();break}}rn.setAttribute("data-search-hit",String(Bt)),_t.push({index:Nt,text:ht,section:Tn||"Unlabeled Section",hitId:Bt}),Bt+=1}}),W(_t.slice(0,12))};v.useEffect(()=>{var ye;if(!K)return;A(((ye=Dn[0])==null?void 0:ye.id)||"");const Y=Ee=>{var _t;const ct=Ee.target;ct&&((_t=V.current)!=null&&_t.contains(ct)||(te(!1),W([])))};return window.addEventListener("mousedown",Y),()=>{window.removeEventListener("mousedown",Y)}},[K,Dn]),v.useEffect(()=>{if(!K){A("");return}const Y=L.current;if(!Y)return;let ye=0;const Ee=()=>{var ne;const _t=Array.from(Y.querySelectorAll("[data-heading-id]"));if(_t.length===0)return;const rn=Y.getBoundingClientRect().top+18,Nt=_t.map((Ae,we)=>({index:we,id:Ae.dataset.headingId||Ae.id||"",top:Ae.getBoundingClientRect().top})).filter(Ae=>!!Ae.id);if(Nt.length===0)return;let ht=0,Tn=!1;for(const Ae of Nt){if(Ae.top<=rn){ht=Ae.index,Tn=!0;continue}Tn||(ht=Ae.index);break}Y.scrollTop+Y.clientHeight>=Y.scrollHeight-2&&(ht=Math.max(0,Nt.length-1));const P=Dn[ht],q=((ne=Nt[ht])==null?void 0:ne.id)||"",he=(P==null?void 0:P.id)||q;he&&A(he)};Ee();const ct=()=>{ye&&cancelAnimationFrame(ye),ye=requestAnimationFrame(Ee)};return Y.addEventListener("scroll",ct,{passive:!0}),window.addEventListener("resize",ct),()=>{ye&&cancelAnimationFrame(ye),Y.removeEventListener("scroll",ct),window.removeEventListener("resize",ct)}},[K,Dn]);const bn=v.useMemo(()=>[{id:"overview",label:"Overview",icon:nU,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:rc},{id:"fight-breakdown",label:"Fight Breakdown",icon:rl},{id:"top-players",label:"Top Players",icon:rc},{id:"top-skills-outgoing",label:"Top Skills",icon:_1},{id:"squad-composition",label:"Classes",icon:br},{id:"timeline",label:"Squad vs Enemy Size",icon:br},{id:"map-distribution",label:"Map Distribution",icon:R1}]},{id:"roster",label:"Roster Intel",icon:If,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:If},{id:"squad-comp-fight",label:"Squad Comp",icon:br},{id:"fight-comp",label:"Fight Comp",icon:rl}]},{id:"offense",label:"Offensive Stats",icon:rl,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:$4},{id:"player-breakdown",label:"Player Breakdown",icon:F1},{id:"spike-damage",label:"Spike Damage",icon:_f},{id:"conditions-outgoing",label:"Conditions",icon:N0}]},{id:"defense",label:"Defensive Stats",icon:_u,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:_u},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:_f},{id:"defense-mitigation",label:"Damage Mitigation",icon:V1},{id:"boon-output",label:"Boon Output",icon:U1},{id:"support-detailed",label:"Support Detailed",icon:B1},{id:"healing-stats",label:"Healing Stats",icon:FO}]},{id:"other",label:"Other Metrics",icon:C0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:L1},{id:"special-buffs",label:"Special Buffs",icon:Yp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:W1},{id:"skill-usage",label:"Skill Usage",icon:$1},{id:"apm-stats",label:"APM Breakdown",icon:z1}]}],[]),ui=v.useMemo(()=>{const Y=new Map;return bn.forEach(ye=>{Y.set(ye.id.toLowerCase(),ye.id),(ye.sectionIds||[]).forEach(Ee=>Y.set(String(Ee).toLowerCase(),ye.id)),(ye.items||[]).forEach(Ee=>Y.set(String(Ee.id).toLowerCase(),ye.id))}),Y.set("report-top","overview"),Y.set("overview","overview"),Y.set("kdr","overview"),Y},[bn]),jr=v.useMemo(()=>bn.find(Y=>Y.id===ie)||bn[0],[bn,ie]),kr=b==="kinetic",Oc=v.useMemo(()=>{const ye=((jr==null?void 0:jr.sectionIds)||((jr==null?void 0:jr.items)||[]).map(Ee=>Ee.id)).map(Ee=>Ee==="kdr"?"overview":Ee);return new Set(ye)},[jr]),Ws=Y=>{if(Y==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const ye=Y==="kdr"?"overview":Y,Ee=ye==="overview"&&Y!=="kdr"?"report-top":ye,ct=document.getElementById(Ee);if(!ct||!(ct.getAttribute("data-section-visible")!=="false")||!ct.offsetParent)return!1;const Bt=ct.getBoundingClientRect();if(Bt.height<=0)return!1;let rn=0;if(Ee==="stats-view-top"){const ht=document.getElementById("report-top");ht&&(rn=ht.getBoundingClientRect().height+12)}const Nt=Bt.top+window.scrollY-12-rn;return window.scrollTo({top:Math.max(0,Nt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Ee}`),!0},_o=(Y,ye=0)=>{Ws(Y)||ye>=12||window.setTimeout(()=>{requestAnimationFrame(()=>_o(Y,ye+1))},40)};v.useEffect(()=>{if(!t)return;const Y=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(Ee=>{Ee.scrollHeight})});return()=>cancelAnimationFrame(Y)},[t]),v.useEffect(()=>{const Y=Re.current;if(!Y)return;let ye=0;const Ee=()=>{if(Ws(Y)){Re.current=null;return}if(ye+=1,ye>=20){Re.current=null;return}window.setTimeout(()=>requestAnimationFrame(Ee),40)};requestAnimationFrame(Ee)},[ie]),v.useEffect(()=>{const Y=()=>{var Bt,rn;const ye=(window.location.hash||"").replace(/^#/,"").trim();if(!ye)return;let Ee=ye;try{Ee=decodeURIComponent(ye)}catch{Ee=ye}const ct=Ee.toLowerCase(),_t=ui.get(ct);if(_t){if(R(_t),$(()=>{const Nt={};return bn.forEach(ht=>{Nt[ht.id]=ht.id===_t}),Nt}),ct==="report-top")H("kdr");else{const Nt=bn.find(ht=>ht.id.toLowerCase()===ct);H(((rn=(Bt=Nt==null?void 0:Nt.items)==null?void 0:Bt[0])==null?void 0:rn.id)||ct)}Re.current=ct==="report-top"?"kdr":ct}};return Y(),window.addEventListener("hashchange",Y),()=>{window.removeEventListener("hashchange",Y)}},[ui,bn]);const pr=b==="matte",Ha=f??yp,Lr=kr&&Ha.id===cf,qa=kr?Lr?"142, 155, 214":"90, 80, 68":Ha.rgb,Li=pr?"#d8e1eb":kr?Lr?"#f0d8a9":"#24211d":"var(--accent)",na={"--accent":`rgb(${qa})`,"--accent-rgb":qa,"--accent-soft":`rgba(${qa}, ${kr?Lr?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${qa}, ${kr?Lr?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${qa}, ${kr?Lr?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${qa}, ${kr?Lr?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${qa}, ${kr?Lr?"0.08":"0.04":"0.08"})`},ys=b==="modern"||b==="matte"||b==="kinetic",Ic=Ha.pattern?pr||kr?void 0:ys?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Ha.pattern}`:Ha.pattern:void 0,ra=kr?{backgroundImage:"none",backgroundColor:Lr?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:Lr?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:pr?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:ys?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var rn;let Y=!0;const Ee=new URLSearchParams(window.location.search).get("report")||((rn=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:rn[1])||null,ct=Ee?`${lt}reports/${Ee}/report.json`:`${lt}report.json`;Ee&&l(ct);const _t=Nt=>{var E,P,q;const ht=new Set((((E=Nt==null?void 0:Nt.meta)==null?void 0:E.commanders)||[]).map(he=>String(he)));if(ht.size===0)return Nt;const Tn=Nt.stats;return(P=Tn==null?void 0:Tn.leaderboards)!=null&&P.closestToTag&&(Tn.leaderboards.closestToTag=Tn.leaderboards.closestToTag.map(he=>ht.has(String(he==null?void 0:he.account))?{...he,value:0}:he)),(q=Tn==null?void 0:Tn.closestToTag)!=null&&q.player&&ht.has(String(Tn.closestToTag.player))&&(Tn.closestToTag={...Tn.closestToTag,value:0}),Nt},Bt=Nt=>{var q,he,ne,Ae,we;const ht=Nt==null?void 0:Nt.stats;if(!ht||typeof ht!="object")return Nt;const Tn=Array.isArray((q=ht==null?void 0:ht.leaderboards)==null?void 0:q.downContrib)?ht.leaderboards.downContrib:[];if(!Tn.length)return Nt;const P=Tn.map($e=>({...$e,value:Number(($e==null?void 0:$e.value)??0)})).filter($e=>Number.isFinite($e.value)).sort(($e,Ye)=>Ye.value-$e.value||String(($e==null?void 0:$e.account)||"").localeCompare(String((Ye==null?void 0:Ye.account)||"")))[0];return P&&(ht.maxDownContrib={...ht.maxDownContrib||{},value:Number(P.value||0),player:String(P.account||((he=ht.maxDownContrib)==null?void 0:he.player)||"-"),count:Number(P.count||((ne=ht.maxDownContrib)==null?void 0:ne.count)||0),profession:String(P.profession||((Ae=ht.maxDownContrib)==null?void 0:Ae.profession)||"Unknown"),professionList:Array.isArray(P.professionList)?P.professionList:((we=ht.maxDownContrib)==null?void 0:we.professionList)||[]}),Nt};return fetch(ct,{cache:"no-store"}).then(Nt=>Nt.ok?Nt.json():Promise.reject()).then(Nt=>{var Tn,E,P,q,he;if(!Y)return;const ht=Bt(_t(Nt));if(n(ht),!F){const ne=(Tn=ht==null?void 0:ht.stats)==null?void 0:Tn.uiTheme;ne==="modern"||ne==="classic"||ne==="crt"||ne==="matte"||ne==="kinetic"?S(ne):((E=ht==null?void 0:ht.stats)==null?void 0:E.webThemeId)===Kg?S("matte"):(((P=ht==null?void 0:ht.stats)==null?void 0:P.webThemeId)===Gg||((q=ht==null?void 0:ht.stats)==null?void 0:q.webThemeId)===cf)&&S("kinetic"),typeof((he=ht==null?void 0:ht.stats)==null?void 0:he.webThemeId)=="string"&&ht.stats.webThemeId&&O(ht.stats.webThemeId)}}).catch(()=>{if(Ee){if(!Y)return;s("Report not found yet. It may still be deploying.")}fetch(`${lt}reports/index.json`,{cache:"no-store"}).then(Nt=>Nt.ok?Nt.json():Promise.reject()).then(Nt=>{Y&&i(Array.isArray(Nt)?Nt:[])}).catch(()=>{Y&&s("No report data found.")})}),()=>{Y=!1}},[lt,F]),v.useEffect(()=>{if(t){const Y=t.meta.dateLabel||gD(t.meta.dateStart,t.meta.dateEnd);document.title=Y?`ArcBridge  ${t.meta.title}  ${Y}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),v.useEffect(()=>{var ye;if(F)return;const Y=(ye=t==null?void 0:t.stats)==null?void 0:ye.webThemeId;typeof Y=="string"&&Y&&O(Y)},[t,F]),v.useEffect(()=>{const Y=document.body;Y.classList.add("web-report"),Y.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),pr?Y.classList.add("theme-matte"):b==="modern"?Y.classList.add("theme-modern"):b==="crt"?Y.classList.add("theme-crt"):b==="kinetic"?(Y.classList.add("theme-kinetic"),Lr&&Y.classList.add("theme-kinetic-dark"),M==="original"&&Y.classList.add("theme-kinetic-font-original")):Y.classList.add("theme-classic")},[b,pr,Lr,M]),v.useEffect(()=>{var ye;if(F||me&&((ye=t==null?void 0:t.stats)!=null&&ye.webThemeId))return;let Y=!0;return fetch(nn(Mt,"theme.json"),{cache:"no-store"}).then(Ee=>Ee.ok?Ee.json():Promise.reject()).then(Ee=>{Y&&typeof(Ee==null?void 0:Ee.id)=="string"&&Ee.id&&O(Ee.id)}).catch(()=>{}),()=>{Y=!1}},[Mt,me,t,F]),v.useEffect(()=>{var Bt,rn;if(F)return;const Y=(Bt=t==null?void 0:t.stats)==null?void 0:Bt.webThemeId,ye=(rn=t==null?void 0:t.stats)==null?void 0:rn.uiTheme;if((ye==="modern"||ye==="classic"||ye==="crt"||ye==="matte"||ye==="kinetic")&&!(Y===Kg&&ye!=="matte"||(Y===Gg||Y===cf)&&ye!=="kinetic"||Y==="CRT"&&ye!=="crt"))return;let _t=!0;return fetch(nn(Mt,"ui-theme.json"),{cache:"no-store"}).then(Nt=>Nt.ok?Nt.json():Promise.reject()).then(Nt=>{if(!_t)return;const ht=Nt==null?void 0:Nt.theme;(ht==="modern"||ht==="classic"||ht==="crt"||ht==="matte"||ht==="kinetic")&&S(ht)}).catch(()=>{}),()=>{_t=!1}},[Mt,t,F]),v.useEffect(()=>{let Y=!0;return fetch(nn(Mt,"logo.json"),{cache:"no-store"}).then(ye=>ye.ok?ye.json():Promise.reject()).then(ye=>{if(!Y)return;const Ee="svg/ArcBridge.svg",ct=ye!=null&&ye.path?String(ye.path):Ee,_t=ye!=null&&ye.updatedAt?String(ye.updatedAt):"",Bt=nn(Mt,ct),rn=_t?`${Bt}?v=${encodeURIComponent(_t)}`:Bt;p(rn),y(!(ye!=null&&ye.path)||ct===Ee)}).catch(()=>{Y&&(p(null),y(!1))}),()=>{Y=!1}},[Mt]);const Ka=v.useMemo(()=>r?[...r].sort((Y,ye)=>{const Ee=new Date(Y.dateEnd||Y.dateStart).getTime();return new Date(ye.dateEnd||ye.dateStart).getTime()-Ee}):[],[r]),Ga=v.useMemo(()=>{if(!Ka.length)return[];const Y=c.trim().toLowerCase();return Y?Ka.filter(ye=>{var _t;const Ee=((_t=ye.commanders)==null?void 0:_t.join(" "))||"";return`${ye.title} ${Ee} ${ye.dateLabel}`.toLowerCase().includes(Y)}):Ka},[Ka,c]),ud=Y=>{if(!Y){Bge(Rw);return}hD(Rw,JSON.stringify({themeId:Y}))},Lo=Y=>{const ye=Y===mD?null:Y;ye&&!Yd.some(Ee=>Ee.id===ye)||(T(ye),ud(ye),se(!1))},_c=Y=>{G(Y),hD(fD,Y),J(!1)};v.useEffect(()=>{const Y=Ee=>{if(!ve.current)return;const ct=Ee.target;ve.current.contains(ct)||Ne.current&&Ne.current.contains(ct)||(se(!1),J(!1))},ye=Ee=>{Ee.key==="Escape"&&(se(!1),J(!1))};return window.addEventListener("mousedown",Y),window.addEventListener("keydown",ye),()=>{window.removeEventListener("mousedown",Y),window.removeEventListener("keydown",ye)}},[]),v.useEffect(()=>()=>{Ce.current!==null&&(cancelAnimationFrame(Ce.current),Ce.current=null)},[]);const dd=v.useMemo(()=>{if(!F)return"Default";const Y=Yd.find(ye=>ye.id===F);return(Y==null?void 0:Y.label)||"Default"},[F]),fd=u.jsxs("div",{className:"relative flex items-center gap-2",ref:ve,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>se(Y=>!Y),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:dd}),u.jsx("span",{className:`transition-transform ${Z?"rotate-180":""}`,children:""})]}),Z&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Lo(mD),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Yd.map(Y=>u.jsx("button",{type:"button",onClick:()=>Lo(Y.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${F===Y.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:Y.label},Y.id))]})]}),bs=kr?u.jsxs("div",{className:"relative flex items-center gap-2",ref:Ne,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),u.jsxs("button",{type:"button",onClick:()=>J(Y=>!Y),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:M==="original"?"Original App":"Kinetic Default"}),u.jsx("span",{className:`transition-transform ${fe?"rotate-180":""}`,children:""})]}),fe&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>_c("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${M==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),u.jsx("button",{type:"button",onClick:()=>_c("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${M==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,Lc=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:fd}),bs&&u.jsx("div",{className:"min-w-[160px]",children:bs}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:Y=>{Y.preventDefault(),le(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),ws=u.jsxs(Rge,{isOpen:K,onClose:()=>le(!1),searchValue:ae,searchFocused:ee,searchResults:U,onSearchChange:Y=>{k(Y),requestAnimationFrame(()=>vn(Y))},onSearchFocus:()=>{te(!0),requestAnimationFrame(()=>vn(ae))},onSearchBlur:Y=>{var ye;Y&&((ye=V.current)!=null&&ye.contains(Y))||te(!1)},onSearchEnter:()=>{U.length>0&&mn(U[0].hitId,U[0].text)},onSearchResultMouseDown:Y=>{te(!0),mn(Y.hitId,Y.text)},renderHighlightedMatch:Wa,searchRef:V,tocItems:Dn,activeTocId:D,onTocClick:Y=>{const ye=L.current;if(!ye)return;let Ee=ye.querySelector(`[data-heading-id="${Y.id}"]`);if(!Ee){const ct=Y.text.trim().replace(/\s+/g," ");Ee=Array.from(ye.querySelectorAll("h1, h2, h3")).find(Bt=>(Bt.textContent||"").trim().replace(/\s+/g," ")===ct)||null}Ee&&(A(Y.id),requestAnimationFrame(()=>{const ct=ye.getBoundingClientRect(),_t=Ee.getBoundingClientRect(),Bt=ye.scrollTop+(_t.top-ct.top)-12;ye.scrollTop=Math.max(0,Bt)}))},contentRef:L,children:[(z.current=new Map,null),u.jsx(hue,{remarkPlugins:[Afe],components:{h1:({children:Y})=>{const ye=hn(Y),Ee=hr(ye);return u.jsx("h1",{id:Ee,"data-heading-id":Ee,className:"text-2xl font-bold text-white scroll-mt-6",children:Y})},h2:({children:Y})=>{const ye=hn(Y),Ee=hr(ye);return u.jsx("h2",{id:Ee,"data-heading-id":Ee,className:"text-xl font-semibold text-white scroll-mt-6",children:Y})},h3:({children:Y})=>{const ye=hn(Y),Ee=hr(ye);return u.jsx("h3",{id:Ee,"data-heading-id":Ee,className:"text-lg font-semibold text-white scroll-mt-6",children:Y})},p:({children:Y})=>u.jsx("p",{className:"leading-6 text-gray-200",children:Y}),ul:({children:Y})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:Y}),ol:({children:Y})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:Y}),li:({children:Y})=>u.jsx("li",{className:"leading-6",children:Y}),blockquote:({children:Y})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:Y}),a:({href:Y,children:ye})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:Y,target:"_blank",rel:"noreferrer",children:ye}),table:({children:Y})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:Y})}),th:({children:Y})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:Y}),td:({children:Y})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:Y}),pre:({children:Y})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:Y}),code:Y=>{const{inline:ye,children:Ee}=Y;return ye===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Ee}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Ee})}},children:sy})]});if(t){const Y=nn(Mt,"svg/ArcBridge.svg"),ye=()=>{Ce.current!==null&&(cancelAnimationFrame(Ce.current),Ce.current=null);const P=window.scrollY||window.pageYOffset||0;if(P<=1){window.scrollTo({top:0,behavior:"auto"});return}const q=320,he=performance.now(),ne=Ae=>{const we=Ae-he,$e=Math.min(1,we/q),Ye=1-Math.pow(1-$e,3),dt=Math.max(0,Math.round(P*(1-Ye)));window.scrollTo({top:dt,behavior:"auto"}),$e<1?Ce.current=requestAnimationFrame(ne):(Ce.current=null,window.scrollTo({top:0,behavior:"auto"}))};Ce.current=requestAnimationFrame(ne)},Ee=P=>{$(()=>{const q={};return bn.forEach(he=>{q[he.id]=he.id===P}),q})},ct=P=>{var he,ne;Re.current=null,R(P);const q=bn.find(Ae=>Ae.id===P);H(((ne=(he=q==null?void 0:q.items)==null?void 0:he[0])==null?void 0:ne.id)||"kdr"),ye()},_t=P=>{if(!!!X[P]){Ee(P),ct(P);return}if(P!==ie){ct(P);return}$(he=>({...he,[P]:!1}))},Bt=(P,q)=>{X[P]||Ee(P),H(q);const he=P===ie;he||(Re.current=q,R(P),requestAnimationFrame(()=>_o(q))),he&&requestAnimationFrame(()=>_o(q))},rn=P=>{const q=P.currentTarget;if(!(q.scrollHeight>q.clientHeight)){window.scrollBy({top:P.deltaY,behavior:"auto"}),P.preventDefault();return}const ne=q.scrollTop<=0,Ae=q.scrollTop+q.clientHeight>=q.scrollHeight-1;(ne&&P.deltaY<0||Ae&&P.deltaY>0)&&(window.scrollBy({top:P.deltaY,behavior:"auto"}),P.preventDefault())},Nt=P=>{const q=oe.current;if(!q)return;const he=P.target;if(!he||!q.contains(he))return;let ne=he;for(;ne&&ne!==q;){const we=window.getComputedStyle(ne).overflowY;if((we==="auto"||we==="scroll")&&ne.scrollHeight>ne.clientHeight+1){const Ye=ne.scrollTop<=0,dt=ne.scrollTop+ne.clientHeight>=ne.scrollHeight-1;(P.deltaY<0&&Ye||P.deltaY>0&&dt)&&(window.scrollBy({top:P.deltaY,behavior:"auto"}),P.preventDefault());return}ne=ne.parentElement}},ht=P=>{const q=Math.max(0,6-P);return{accordionDuration:.5+q*.07,itemDuration:.34+q*.035,stagger:.05+q*.01,delayChildren:.06+q*.015}},Tn=P=>{const q=ht(P);return{open:{transition:{staggerChildren:q.stagger,delayChildren:q.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,q.stagger*.7),staggerDirection:-1}}}},E={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:pr?"var(--bg-base)":kr?Lr?"#2b3048":"#d8d1c5":ys?"#0f141c":"#0f172a",backgroundImage:pr?"none":Ic,...na},children:[!pr&&!kr&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>w(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${x?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:fn,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:rn,children:bn.map(P=>{const q=P.icon,he=P.id===ie,ne=!!X[P.id],Ae=ht(P.items.length),we=Tn(P.items.length);return u.jsxs(Ts.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>_t(P.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${he?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(q,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:P.label}),u.jsx(Ts.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:ne?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(fb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Ts.div,{initial:!1,animate:ne?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Ae.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Ts.div,{variants:we,initial:!1,animate:ne?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:P.items.map($e=>{const Ye=$e.icon;return u.jsxs(Ts.button,{variants:E,transition:{duration:Ae.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Bt(P.id,$e.id),w(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${B===$e.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Ye,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),$e.label]},$e.id)})})},`${P.id}-submenu-mobile`)]},P.id)})})]})}),u.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:Li,maskImage:`url(${Y})`,WebkitMaskImage:`url(${Y})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:rn,children:bn.map(P=>{const q=P.icon,he=P.id===ie,ne=!!X[P.id],Ae=ht(P.items.length),we=Tn(P.items.length);return u.jsxs(Ts.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>_t(P.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${he?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(q,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:P.label}),u.jsx(Ts.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:ne?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(fb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Ts.div,{initial:!1,animate:ne?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Ae.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Ts.div,{variants:we,initial:!1,animate:ne?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:P.items.map($e=>{const Ye=$e.icon;return u.jsxs(Ts.button,{variants:E,transition:{duration:Ae.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Bt(P.id,$e.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${B===$e.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Ye,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),$e.label]},$e.id)})})},`${P.id}-submenu-desktop`)]},P.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:fn,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${$l} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:ra,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(g?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Li,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||gD(t.meta.dateStart,t.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>w(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(u2,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(K6,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(br,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(RO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((jr==null?void 0:jr.items)||[]).map(P=>{const q=P.icon;return u.jsxs("button",{onClick:()=>Bt((jr==null?void 0:jr.id)||"overview",P.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${B===P.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(q,{className:"w-3 h-3 text-[color:var(--accent)]"})}),P.label]},`chip-${P.id}`)})})]}),u.jsx("div",{ref:oe,onWheelCapture:Nt,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(Eae,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:($c=t.stats)==null?void 0:$c.statsViewSettings,embedded:!0,uiTheme:b,sectionVisibility:P=>Oc.has(P),dashboardTitle:`Statistics Dashboard - ${(jr==null?void 0:jr.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:Lc})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:fn,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(LO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(u2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(q6,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),ws]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:pr?"var(--bg-base)":kr?Lr?"#2b3048":"#d8d1c5":ys?"#0f141c":"#0f172a",backgroundImage:pr?"none":Ic,...na},children:[!pr&&!kr&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${$l} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:ra,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(g?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Li,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Ga.length," Reports"]})})]}),u.jsxs("div",{className:`${$l} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:ra,children:[u.jsx("input",{type:"search",value:c,onChange:Y=>d(Y.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Ga.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Ka.length})]})]}),a&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:ra,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:a}),o&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:o})]})]}),!a&&!r&&u.jsx("div",{className:`${$l} p-6 text-gray-300`,style:ra,children:"Loading reports..."}),Ga.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Ga.map(Y=>{var ye,Ee,ct,_t;return u.jsx("a",{href:Uge(Jt,Y.id,I),className:`${$l} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:ra,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:Y.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:Wge(Y.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(br,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:Y.commanders.length?Y.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(ye=Y.summary)!=null&&ye.mapSlices&&Y.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(Hge,{slices:Y.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(qge,{value:(Ee=Y.summary)==null?void 0:Ee.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((ct=Y.summary)==null?void 0:ct.avgSquadSize)??"--"," / ",((_t=Y.summary)==null?void 0:_t.avgEnemySize)??"--"]})]}),u.jsx(Z6,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},Y.id)})}),!a&&r&&Ka.length===0&&u.jsx("div",{className:`${$l} p-6 text-gray-300`,style:ra,children:"No reports uploaded yet."}),!a&&r&&Ka.length>0&&Ga.length===0&&u.jsx("div",{className:`${$l} p-6 text-gray-300`,style:ra,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:Lc})]}),ws]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");yy.createRoot(document.getElementById("root")).render(u.jsx(l0.StrictMode,{children:u.jsx(Kge,{})}));
