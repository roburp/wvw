(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var S6=Object.defineProperty,N6=(e,t,n)=>t in e?S6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TN=(e,t,n)=>N6(e,typeof t!="symbol"?t+"":t,n);function j6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var V5={exports:{}},Bg={},W5={exports:{}},an={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Qf=Symbol.for("react.element"),C6=Symbol.for("react.portal"),A6=Symbol.for("react.fragment"),M6=Symbol.for("react.strict_mode"),E6=Symbol.for("react.profiler"),P6=Symbol.for("react.provider"),T6=Symbol.for("react.context"),O6=Symbol.for("react.forward_ref"),D6=Symbol.for("react.suspense"),I6=Symbol.for("react.memo"),_6=Symbol.for("react.lazy"),ON=Symbol.iterator;function L6(e){return e===null||typeof e!="object"?null:(e=ON&&e[ON]||e["@@iterator"],typeof e=="function"?e:null)}var q5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H5=Object.assign,K5={};function qu(e,t,n){this.props=e,this.context=t,this.refs=K5,this.updater=n||q5}qu.prototype.isReactComponent={};qu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Y5(){}Y5.prototype=qu.prototype;function xw(e,t,n){this.props=e,this.context=t,this.refs=K5,this.updater=n||q5}var ww=xw.prototype=new Y5;ww.constructor=xw;H5(ww,qu.prototype);ww.isPureReactComponent=!0;var DN=Array.isArray,G5=Object.prototype.hasOwnProperty,kw={current:null},X5={key:!0,ref:!0,__self:!0,__source:!0};function Q5(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)G5.call(t,r)&&!X5.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:Qf,type:e,key:i,ref:o,props:a,_owner:kw.current}}function F6(e,t){return{$$typeof:Qf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qf}function R6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var IN=/\/+/g;function Cy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R6(""+e.key):t.toString(36)}function _m(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qf:case C6:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Cy(o,0):r,DN(a)?(n="",e!=null&&(n=e.replace(IN,"$&/")+"/"),_m(a,t,n,"",function(c){return c})):a!=null&&(Sw(a)&&(a=F6(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(IN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",DN(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Cy(i,s);o+=_m(i,t,n,l,a)}else if(l=L6(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Cy(i,s++),o+=_m(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hp(e,t,n){if(e==null)return e;var r=[],a=0;return _m(e,r,"","",function(i){return t.call(n,i,a++)}),r}function $6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $a={current:null},Lm={transition:null},B6={ReactCurrentDispatcher:$a,ReactCurrentBatchConfig:Lm,ReactCurrentOwner:kw};function Z5(){throw Error("act(...) is not supported in production builds of React.")}an.Children={map:Hp,forEach:function(e,t,n){Hp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hp(e,function(){t++}),t},toArray:function(e){return Hp(e,function(t){return t})||[]},only:function(e){if(!Sw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};an.Component=qu;an.Fragment=A6;an.Profiler=E6;an.PureComponent=xw;an.StrictMode=M6;an.Suspense=D6;an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B6;an.act=Z5;an.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=H5({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=kw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)G5.call(t,l)&&!X5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Qf,type:e.type,key:a,ref:i,props:r,_owner:o}};an.createContext=function(e){return e={$$typeof:T6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:P6,_context:e},e.Consumer=e};an.createElement=Q5;an.createFactory=function(e){var t=Q5.bind(null,e);return t.type=e,t};an.createRef=function(){return{current:null}};an.forwardRef=function(e){return{$$typeof:O6,render:e}};an.isValidElement=Sw;an.lazy=function(e){return{$$typeof:_6,_payload:{_status:-1,_result:e},_init:$6}};an.memo=function(e,t){return{$$typeof:I6,type:e,compare:t===void 0?null:t}};an.startTransition=function(e){var t=Lm.transition;Lm.transition={};try{e()}finally{Lm.transition=t}};an.unstable_act=Z5;an.useCallback=function(e,t){return $a.current.useCallback(e,t)};an.useContext=function(e){return $a.current.useContext(e)};an.useDebugValue=function(){};an.useDeferredValue=function(e){return $a.current.useDeferredValue(e)};an.useEffect=function(e,t){return $a.current.useEffect(e,t)};an.useId=function(){return $a.current.useId()};an.useImperativeHandle=function(e,t,n){return $a.current.useImperativeHandle(e,t,n)};an.useInsertionEffect=function(e,t){return $a.current.useInsertionEffect(e,t)};an.useLayoutEffect=function(e,t){return $a.current.useLayoutEffect(e,t)};an.useMemo=function(e,t){return $a.current.useMemo(e,t)};an.useReducer=function(e,t,n){return $a.current.useReducer(e,t,n)};an.useRef=function(e){return $a.current.useRef(e)};an.useState=function(e){return $a.current.useState(e)};an.useSyncExternalStore=function(e,t,n){return $a.current.useSyncExternalStore(e,t,n)};an.useTransition=function(){return $a.current.useTransition()};an.version="18.3.1";W5.exports=an;var v=W5.exports;const zg=vo(v),z6=j6({__proto__:null,default:zg},[v]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var U6=v,V6=Symbol.for("react.element"),W6=Symbol.for("react.fragment"),q6=Object.prototype.hasOwnProperty,H6=U6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K6={key:!0,ref:!0,__self:!0,__source:!0};function J5(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)q6.call(t,r)&&!K6.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:V6,type:e,key:i,ref:o,props:a,_owner:H6.current}}Bg.Fragment=W6;Bg.jsx=J5;Bg.jsxs=J5;V5.exports=Bg;var u=V5.exports,eb={},eP={exports:{}},ji={},tP={exports:{}},nP={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(B,re){var k=B.length;B.push(re);e:for(;0<k;){var O=k-1>>>1,M=B[O];if(0<a(M,re))B[O]=re,B[k]=M,k=O;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var re=B[0],k=B.pop();if(k!==re){B[0]=k;e:for(var O=0,M=B.length,N=M>>>1;O<N;){var V=2*(O+1)-1,Q=B[V],H=V+1,G=B[H];if(0>a(Q,k))H<M&&0>a(G,Q)?(B[O]=G,B[H]=k,O=H):(B[O]=Q,B[V]=k,O=V);else if(H<M&&0>a(G,k))B[O]=G,B[H]=k,O=H;else break e}}return re}function a(B,re){var k=B.sortIndex-re.sortIndex;return k!==0?k:B.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,p=3,m=!1,h=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var re=n(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=B)r(c),re.sortIndex=re.expirationTime,t(l,re);else break;re=n(c)}}function S(B){if(y=!1,w(B),!h)if(n(l)!==null)h=!0,ce(C);else{var re=n(c);re!==null&&$(S,re.startTime-B)}}function C(B,re){h=!1,y&&(y=!1,g(T),T=-1),m=!0;var k=p;try{for(w(re),f=n(l);f!==null&&(!(f.expirationTime>re)||B&&!P());){var O=f.callback;if(typeof O=="function"){f.callback=null,p=f.priorityLevel;var M=O(f.expirationTime<=re);re=e.unstable_now(),typeof M=="function"?f.callback=M:f===n(l)&&r(l),w(re)}else r(l);f=n(l)}if(f!==null)var N=!0;else{var V=n(c);V!==null&&$(S,V.startTime-re),N=!1}return N}finally{f=null,p=k,m=!1}}var j=!1,A=null,T=-1,L=5,E=-1;function P(){return!(e.unstable_now()-E<L)}function I(){if(A!==null){var B=e.unstable_now();E=B;var re=!0;try{re=A(!0,B)}finally{re?U():(j=!1,A=null)}}else j=!1}var U;if(typeof b=="function")U=function(){b(I)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ee=Y.port2;Y.port1.onmessage=I,U=function(){ee.postMessage(null)}}else U=function(){x(I,0)};function ce(B){A=B,j||(j=!0,U())}function $(B,re){T=x(function(){B(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,ce(C))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var re=3;break;default:re=p}var k=p;p=re;try{return B()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,re){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var k=p;p=B;try{return re()}finally{p=k}},e.unstable_scheduleCallback=function(B,re,k){var O=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?O+k:O):k=O,B){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=k+M,B={id:d++,callback:re,priorityLevel:B,startTime:k,expirationTime:M,sortIndex:-1},k>O?(B.sortIndex=k,t(c,B),n(l)===null&&B===n(c)&&(y?(g(T),T=-1):y=!0,$(S,k-O))):(B.sortIndex=M,t(l,B),h||m||(h=!0,ce(C))),B},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(B){var re=p;return function(){var k=p;p=re;try{return B.apply(this,arguments)}finally{p=k}}}})(nP);tP.exports=nP;var Y6=tP.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var G6=v,ki=Y6;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rP=new Set,of={};function jc(e,t){Nu(e,t),Nu(e+"Capture",t)}function Nu(e,t){for(of[e]=t,e=0;e<t.length;e++)rP.add(t[e])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tb=Object.prototype.hasOwnProperty,X6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_N={},LN={};function Q6(e){return tb.call(LN,e)?!0:tb.call(_N,e)?!1:X6.test(e)?LN[e]=!0:(_N[e]=!0,!1)}function Z6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function J6(e,t,n,r){if(t===null||typeof t>"u"||Z6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ba(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ma={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ma[e]=new Ba(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ma[t]=new Ba(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ma[e]=new Ba(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ma[e]=new Ba(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ma[e]=new Ba(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ma[e]=new Ba(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ma[e]=new Ba(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ma[e]=new Ba(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ma[e]=new Ba(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nw=/[\-:]([a-z])/g;function jw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nw,jw);ma[t]=new Ba(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nw,jw);ma[t]=new Ba(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nw,jw);ma[t]=new Ba(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ma[e]=new Ba(e,1,!1,e.toLowerCase(),null,!1,!1)});ma.xlinkHref=new Ba("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ma[e]=new Ba(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cw(e,t,n,r){var a=ma.hasOwnProperty(t)?ma[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(J6(t,n,a,r)&&(n=null),r||a===null?Q6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bs=G6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kp=Symbol.for("react.element"),Xc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),nb=Symbol.for("react.profiler"),aP=Symbol.for("react.provider"),iP=Symbol.for("react.context"),Mw=Symbol.for("react.forward_ref"),rb=Symbol.for("react.suspense"),ab=Symbol.for("react.suspense_list"),Ew=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),oP=Symbol.for("react.offscreen"),FN=Symbol.iterator;function fd(e){return e===null||typeof e!="object"?null:(e=FN&&e[FN]||e["@@iterator"],typeof e=="function"?e:null)}var hr=Object.assign,Ay;function Id(e){if(Ay===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ay=t&&t[1]||""}return`
`+Ay+e}var My=!1;function Ey(e,t){if(!e||My)return"";My=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{My=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Id(e):""}function e$(e){switch(e.tag){case 5:return Id(e.type);case 16:return Id("Lazy");case 13:return Id("Suspense");case 19:return Id("SuspenseList");case 0:case 2:case 15:return e=Ey(e.type,!1),e;case 11:return e=Ey(e.type.render,!1),e;case 1:return e=Ey(e.type,!0),e;default:return""}}function ib(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qc:return"Fragment";case Xc:return"Portal";case nb:return"Profiler";case Aw:return"StrictMode";case rb:return"Suspense";case ab:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iP:return(e.displayName||"Context")+".Consumer";case aP:return(e._context.displayName||"Context")+".Provider";case Mw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ew:return t=e.displayName||null,t!==null?t:ib(e.type)||"Memo";case Us:t=e._payload,e=e._init;try{return ib(e(t))}catch{}}return null}function t$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ib(t);case 8:return t===Aw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n$(e){var t=sP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yp(e){e._valueTracker||(e._valueTracker=n$(e))}function lP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ob(e,t){var n=t.checked;return hr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function RN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cP(e,t){t=t.checked,t!=null&&Cw(e,"checked",t,!1)}function sb(e,t){cP(e,t);var n=dl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lb(e,t.type,n):t.hasOwnProperty("defaultValue")&&lb(e,t.type,dl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $N(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lb(e,t,n){(t!=="number"||sh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _d=Array.isArray;function mu(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dl(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function cb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return hr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function BN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ze(92));if(_d(n)){if(1<n.length)throw Error(ze(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dl(n)}}function uP(e,t){var n=dl(t.value),r=dl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ub(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gp,fP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gp=Gp||document.createElement("div"),Gp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r$=["Webkit","ms","Moz","O"];Object.keys(zd).forEach(function(e){r$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zd[t]=zd[e]})});function pP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zd.hasOwnProperty(e)&&zd[e]?(""+t).trim():t+"px"}function mP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=pP(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var a$=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function db(e,t){if(t){if(a$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function fb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pb=null;function Pw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mb=null,hu=null,gu=null;function UN(e){if(e=ep(e)){if(typeof mb!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=Hg(t),mb(e.stateNode,e.type,t))}}function hP(e){hu?gu?gu.push(e):gu=[e]:hu=e}function gP(){if(hu){var e=hu,t=gu;if(gu=hu=null,UN(e),t)for(e=0;e<t.length;e++)UN(t[e])}}function yP(e,t){return e(t)}function vP(){}var Py=!1;function bP(e,t,n){if(Py)return e(t,n);Py=!0;try{return yP(e,t,n)}finally{Py=!1,(hu!==null||gu!==null)&&(vP(),gP())}}function lf(e,t){var n=e.stateNode;if(n===null)return null;var r=Hg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ze(231,t,typeof n));return n}var hb=!1;if(ls)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){hb=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{hb=!1}function i$(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ud=!1,lh=null,ch=!1,gb=null,o$={onError:function(e){Ud=!0,lh=e}};function s$(e,t,n,r,a,i,o,s,l){Ud=!1,lh=null,i$.apply(o$,arguments)}function l$(e,t,n,r,a,i,o,s,l){if(s$.apply(this,arguments),Ud){if(Ud){var c=lh;Ud=!1,lh=null}else throw Error(ze(198));ch||(ch=!0,gb=c)}}function Cc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function VN(e){if(Cc(e)!==e)throw Error(ze(188))}function c$(e){var t=e.alternate;if(!t){if(t=Cc(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return VN(a),e;if(i===r)return VN(a),t;i=i.sibling}throw Error(ze(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?e:t}function wP(e){return e=c$(e),e!==null?kP(e):null}function kP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kP(e);if(t!==null)return t;e=e.sibling}return null}var SP=ki.unstable_scheduleCallback,WN=ki.unstable_cancelCallback,u$=ki.unstable_shouldYield,d$=ki.unstable_requestPaint,Er=ki.unstable_now,f$=ki.unstable_getCurrentPriorityLevel,Tw=ki.unstable_ImmediatePriority,NP=ki.unstable_UserBlockingPriority,uh=ki.unstable_NormalPriority,p$=ki.unstable_LowPriority,jP=ki.unstable_IdlePriority,Ug=null,Io=null;function m$(e){if(Io&&typeof Io.onCommitFiberRoot=="function")try{Io.onCommitFiberRoot(Ug,e,void 0,(e.current.flags&128)===128)}catch{}}var so=Math.clz32?Math.clz32:y$,h$=Math.log,g$=Math.LN2;function y$(e){return e>>>=0,e===0?32:31-(h$(e)/g$|0)|0}var Xp=64,Qp=4194304;function Ld(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=Ld(s):(i&=o,i!==0&&(r=Ld(i)))}else o=n&~a,o!==0?r=Ld(o):i!==0&&(r=Ld(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-so(t),a=1<<n,r|=e[n],t&=~a;return r}function v$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-so(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=v$(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function yb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function CP(){var e=Xp;return Xp<<=1,!(Xp&4194240)&&(Xp=64),e}function Ty(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-so(t),e[t]=n}function x$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-so(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Ow(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-so(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Pn=0;function AP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var MP,Dw,EP,PP,TP,vb=!1,Zp=[],el=null,tl=null,nl=null,cf=new Map,uf=new Map,Ks=[],w$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qN(e,t){switch(e){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":cf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uf.delete(t.pointerId)}}function md(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ep(t),t!==null&&Dw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function k$(e,t,n,r,a){switch(t){case"focusin":return el=md(el,e,t,n,r,a),!0;case"dragenter":return tl=md(tl,e,t,n,r,a),!0;case"mouseover":return nl=md(nl,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return cf.set(i,md(cf.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,uf.set(i,md(uf.get(i)||null,e,t,n,r,a)),!0}return!1}function OP(e){var t=Hl(e.target);if(t!==null){var n=Cc(t);if(n!==null){if(t=n.tag,t===13){if(t=xP(n),t!==null){e.blockedOn=t,TP(e.priority,function(){EP(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pb=r,n.target.dispatchEvent(r),pb=null}else return t=ep(n),t!==null&&Dw(t),e.blockedOn=n,!1;t.shift()}return!0}function HN(e,t,n){Fm(e)&&n.delete(t)}function S$(){vb=!1,el!==null&&Fm(el)&&(el=null),tl!==null&&Fm(tl)&&(tl=null),nl!==null&&Fm(nl)&&(nl=null),cf.forEach(HN),uf.forEach(HN)}function hd(e,t){e.blockedOn===t&&(e.blockedOn=null,vb||(vb=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,S$)))}function df(e){function t(a){return hd(a,e)}if(0<Zp.length){hd(Zp[0],e);for(var n=1;n<Zp.length;n++){var r=Zp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(el!==null&&hd(el,e),tl!==null&&hd(tl,e),nl!==null&&hd(nl,e),cf.forEach(t),uf.forEach(t),n=0;n<Ks.length;n++)r=Ks[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ks.length&&(n=Ks[0],n.blockedOn===null);)OP(n),n.blockedOn===null&&Ks.shift()}var yu=bs.ReactCurrentBatchConfig,fh=!0;function N$(e,t,n,r){var a=Pn,i=yu.transition;yu.transition=null;try{Pn=1,Iw(e,t,n,r)}finally{Pn=a,yu.transition=i}}function j$(e,t,n,r){var a=Pn,i=yu.transition;yu.transition=null;try{Pn=4,Iw(e,t,n,r)}finally{Pn=a,yu.transition=i}}function Iw(e,t,n,r){if(fh){var a=bb(e,t,n,r);if(a===null)zy(e,t,r,ph,n),qN(e,r);else if(k$(a,e,t,n,r))r.stopPropagation();else if(qN(e,r),t&4&&-1<w$.indexOf(e)){for(;a!==null;){var i=ep(a);if(i!==null&&MP(i),i=bb(e,t,n,r),i===null&&zy(e,t,r,ph,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else zy(e,t,r,null,n)}}var ph=null;function bb(e,t,n,r){if(ph=null,e=Pw(r),e=Hl(e),e!==null)if(t=Cc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ph=e,null}function DP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f$()){case Tw:return 1;case NP:return 4;case uh:case p$:return 16;case jP:return 536870912;default:return 16}default:return 16}}var Xs=null,_w=null,Rm=null;function IP(){if(Rm)return Rm;var e,t=_w,n=t.length,r,a="value"in Xs?Xs.value:Xs.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Rm=a.slice(e,1<r?1-r:void 0)}function $m(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jp(){return!0}function KN(){return!1}function Ci(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jp:KN,this.isPropagationStopped=KN,this}return hr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jp)},persist:function(){},isPersistent:Jp}),t}var Hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lw=Ci(Hu),Jf=hr({},Hu,{view:0,detail:0}),C$=Ci(Jf),Oy,Dy,gd,Vg=hr({},Jf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gd&&(gd&&e.type==="mousemove"?(Oy=e.screenX-gd.screenX,Dy=e.screenY-gd.screenY):Dy=Oy=0,gd=e),Oy)},movementY:function(e){return"movementY"in e?e.movementY:Dy}}),YN=Ci(Vg),A$=hr({},Vg,{dataTransfer:0}),M$=Ci(A$),E$=hr({},Jf,{relatedTarget:0}),Iy=Ci(E$),P$=hr({},Hu,{animationName:0,elapsedTime:0,pseudoElement:0}),T$=Ci(P$),O$=hr({},Hu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D$=Ci(O$),I$=hr({},Hu,{data:0}),GN=Ci(I$),_$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F$[e])?!!t[e]:!1}function Fw(){return R$}var $$=hr({},Jf,{key:function(e){if(e.key){var t=_$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$m(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fw,charCode:function(e){return e.type==="keypress"?$m(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$m(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B$=Ci($$),z$=hr({},Vg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XN=Ci(z$),U$=hr({},Jf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fw}),V$=Ci(U$),W$=hr({},Hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),q$=Ci(W$),H$=hr({},Vg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K$=Ci(H$),Y$=[9,13,27,32],Rw=ls&&"CompositionEvent"in window,Vd=null;ls&&"documentMode"in document&&(Vd=document.documentMode);var G$=ls&&"TextEvent"in window&&!Vd,_P=ls&&(!Rw||Vd&&8<Vd&&11>=Vd),QN=" ",ZN=!1;function LP(e,t){switch(e){case"keyup":return Y$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zc=!1;function X$(e,t){switch(e){case"compositionend":return FP(t);case"keypress":return t.which!==32?null:(ZN=!0,QN);case"textInput":return e=t.data,e===QN&&ZN?null:e;default:return null}}function Q$(e,t){if(Zc)return e==="compositionend"||!Rw&&LP(e,t)?(e=IP(),Rm=_w=Xs=null,Zc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _P&&t.locale!=="ko"?null:t.data;default:return null}}var Z$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z$[e.type]:t==="textarea"}function RP(e,t,n,r){hP(r),t=mh(t,"onChange"),0<t.length&&(n=new Lw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wd=null,ff=null;function J$(e){GP(e,0)}function Wg(e){var t=tu(e);if(lP(t))return e}function eB(e,t){if(e==="change")return t}var $P=!1;if(ls){var _y;if(ls){var Ly="oninput"in document;if(!Ly){var e2=document.createElement("div");e2.setAttribute("oninput","return;"),Ly=typeof e2.oninput=="function"}_y=Ly}else _y=!1;$P=_y&&(!document.documentMode||9<document.documentMode)}function t2(){Wd&&(Wd.detachEvent("onpropertychange",BP),ff=Wd=null)}function BP(e){if(e.propertyName==="value"&&Wg(ff)){var t=[];RP(t,ff,e,Pw(e)),bP(J$,t)}}function tB(e,t,n){e==="focusin"?(t2(),Wd=t,ff=n,Wd.attachEvent("onpropertychange",BP)):e==="focusout"&&t2()}function nB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wg(ff)}function rB(e,t){if(e==="click")return Wg(t)}function aB(e,t){if(e==="input"||e==="change")return Wg(t)}function iB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fo=typeof Object.is=="function"?Object.is:iB;function pf(e,t){if(fo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!tb.call(t,a)||!fo(e[a],t[a]))return!1}return!0}function n2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r2(e,t){var n=n2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n2(n)}}function zP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UP(){for(var e=window,t=sh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sh(e.document)}return t}function $w(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oB(e){var t=UP(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zP(n.ownerDocument.documentElement,n)){if(r!==null&&$w(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=r2(n,i);var o=r2(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sB=ls&&"documentMode"in document&&11>=document.documentMode,Jc=null,xb=null,qd=null,wb=!1;function a2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wb||Jc==null||Jc!==sh(r)||(r=Jc,"selectionStart"in r&&$w(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qd&&pf(qd,r)||(qd=r,r=mh(xb,"onSelect"),0<r.length&&(t=new Lw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jc)))}function em(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var eu={animationend:em("Animation","AnimationEnd"),animationiteration:em("Animation","AnimationIteration"),animationstart:em("Animation","AnimationStart"),transitionend:em("Transition","TransitionEnd")},Fy={},VP={};ls&&(VP=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function qg(e){if(Fy[e])return Fy[e];if(!eu[e])return e;var t=eu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in VP)return Fy[e]=t[n];return e}var WP=qg("animationend"),qP=qg("animationiteration"),HP=qg("animationstart"),KP=qg("transitionend"),YP=new Map,i2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(e,t){YP.set(e,t),jc(t,[e])}for(var Ry=0;Ry<i2.length;Ry++){var $y=i2[Ry],lB=$y.toLowerCase(),cB=$y[0].toUpperCase()+$y.slice(1);yl(lB,"on"+cB)}yl(WP,"onAnimationEnd");yl(qP,"onAnimationIteration");yl(HP,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(KP,"onTransitionEnd");Nu("onMouseEnter",["mouseout","mouseover"]);Nu("onMouseLeave",["mouseout","mouseover"]);Nu("onPointerEnter",["pointerout","pointerover"]);Nu("onPointerLeave",["pointerout","pointerover"]);jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jc("onBeforeInput",["compositionend","keypress","textInput","paste"]);jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fd));function o2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,l$(r,t,void 0,e),e.currentTarget=null}function GP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;o2(a,s,c),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;o2(a,s,c),i=l}}}if(ch)throw e=gb,ch=!1,gb=null,e}function Xn(e,t){var n=t[Cb];n===void 0&&(n=t[Cb]=new Set);var r=e+"__bubble";n.has(r)||(XP(t,e,2,!1),n.add(r))}function By(e,t,n){var r=0;t&&(r|=4),XP(n,e,r,t)}var tm="_reactListening"+Math.random().toString(36).slice(2);function mf(e){if(!e[tm]){e[tm]=!0,rP.forEach(function(n){n!=="selectionchange"&&(uB.has(n)||By(n,!1,e),By(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tm]||(t[tm]=!0,By("selectionchange",!1,t))}}function XP(e,t,n,r){switch(DP(t)){case 1:var a=N$;break;case 4:a=j$;break;default:a=Iw}n=a.bind(null,t,n,e),a=void 0,!hb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function zy(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=Hl(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}bP(function(){var c=i,d=Pw(n),f=[];e:{var p=YP.get(e);if(p!==void 0){var m=Lw,h=e;switch(e){case"keypress":if($m(n)===0)break e;case"keydown":case"keyup":m=B$;break;case"focusin":h="focus",m=Iy;break;case"focusout":h="blur",m=Iy;break;case"beforeblur":case"afterblur":m=Iy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=YN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=M$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=V$;break;case WP:case qP:case HP:m=T$;break;case KP:m=q$;break;case"scroll":m=C$;break;case"wheel":m=K$;break;case"copy":case"cut":case"paste":m=D$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=XN}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=lf(b,g),S!=null&&y.push(hf(b,S,w)))),x)break;b=b.return}0<y.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==pb&&(h=n.relatedTarget||n.fromElement)&&(Hl(h)||h[cs]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=c,h=h?Hl(h):null,h!==null&&(x=Cc(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=c),m!==h)){if(y=YN,S="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=XN,S="onPointerLeave",g="onPointerEnter",b="pointer"),x=m==null?p:tu(m),w=h==null?p:tu(h),p=new y(S,b+"leave",m,n,d),p.target=x,p.relatedTarget=w,S=null,Hl(d)===c&&(y=new y(g,b+"enter",h,n,d),y.target=w,y.relatedTarget=x,S=y),x=S,m&&h)t:{for(y=m,g=h,b=0,w=y;w;w=zc(w))b++;for(w=0,S=g;S;S=zc(S))w++;for(;0<b-w;)y=zc(y),b--;for(;0<w-b;)g=zc(g),w--;for(;b--;){if(y===g||g!==null&&y===g.alternate)break t;y=zc(y),g=zc(g)}y=null}else y=null;m!==null&&s2(f,p,m,y,!1),h!==null&&x!==null&&s2(f,x,h,y,!0)}}e:{if(p=c?tu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=eB;else if(JN(p))if($P)C=aB;else{C=nB;var j=tB}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=rB);if(C&&(C=C(e,c))){RP(f,C,n,d);break e}j&&j(e,p,c),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&lb(p,"number",p.value)}switch(j=c?tu(c):window,e){case"focusin":(JN(j)||j.contentEditable==="true")&&(Jc=j,xb=c,qd=null);break;case"focusout":qd=xb=Jc=null;break;case"mousedown":wb=!0;break;case"contextmenu":case"mouseup":case"dragend":wb=!1,a2(f,n,d);break;case"selectionchange":if(sB)break;case"keydown":case"keyup":a2(f,n,d)}var A;if(Rw)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Zc?LP(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(_P&&n.locale!=="ko"&&(Zc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Zc&&(A=IP()):(Xs=d,_w="value"in Xs?Xs.value:Xs.textContent,Zc=!0)),j=mh(c,T),0<j.length&&(T=new GN(T,e,null,n,d),f.push({event:T,listeners:j}),A?T.data=A:(A=FP(n),A!==null&&(T.data=A)))),(A=G$?X$(e,n):Q$(e,n))&&(c=mh(c,"onBeforeInput"),0<c.length&&(d=new GN("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=A))}GP(f,t)})}function hf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mh(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=lf(e,n),i!=null&&r.unshift(hf(e,i,a)),i=lf(e,t),i!=null&&r.push(hf(e,i,a))),e=e.return}return r}function zc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function s2(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,a?(l=lf(n,i),l!=null&&o.unshift(hf(n,l,s))):a||(l=lf(n,i),l!=null&&o.push(hf(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var dB=/\r\n?/g,fB=/\u0000|\uFFFD/g;function l2(e){return(typeof e=="string"?e:""+e).replace(dB,`
`).replace(fB,"")}function nm(e,t,n){if(t=l2(t),l2(e)!==t&&n)throw Error(ze(425))}function hh(){}var kb=null,Sb=null;function Nb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jb=typeof setTimeout=="function"?setTimeout:void 0,pB=typeof clearTimeout=="function"?clearTimeout:void 0,c2=typeof Promise=="function"?Promise:void 0,mB=typeof queueMicrotask=="function"?queueMicrotask:typeof c2<"u"?function(e){return c2.resolve(null).then(e).catch(hB)}:jb;function hB(e){setTimeout(function(){throw e})}function Uy(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),df(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);df(t)}function rl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function u2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ku=Math.random().toString(36).slice(2),Oo="__reactFiber$"+Ku,gf="__reactProps$"+Ku,cs="__reactContainer$"+Ku,Cb="__reactEvents$"+Ku,gB="__reactListeners$"+Ku,yB="__reactHandles$"+Ku;function Hl(e){var t=e[Oo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cs]||n[Oo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=u2(e);e!==null;){if(n=e[Oo])return n;e=u2(e)}return t}e=n,n=e.parentNode}return null}function ep(e){return e=e[Oo]||e[cs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function Hg(e){return e[gf]||null}var Ab=[],nu=-1;function vl(e){return{current:e}}function Jn(e){0>nu||(e.current=Ab[nu],Ab[nu]=null,nu--)}function Un(e,t){nu++,Ab[nu]=e.current,e.current=t}var fl={},Na=vl(fl),Qa=vl(!1),cc=fl;function ju(e,t){var n=e.type.contextTypes;if(!n)return fl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Za(e){return e=e.childContextTypes,e!=null}function gh(){Jn(Qa),Jn(Na)}function d2(e,t,n){if(Na.current!==fl)throw Error(ze(168));Un(Na,t),Un(Qa,n)}function QP(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ze(108,t$(e)||"Unknown",a));return hr({},n,r)}function yh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fl,cc=Na.current,Un(Na,e),Un(Qa,Qa.current),!0}function f2(e,t,n){var r=e.stateNode;if(!r)throw Error(ze(169));n?(e=QP(e,t,cc),r.__reactInternalMemoizedMergedChildContext=e,Jn(Qa),Jn(Na),Un(Na,e)):Jn(Qa),Un(Qa,n)}var Ko=null,Kg=!1,Vy=!1;function ZP(e){Ko===null?Ko=[e]:Ko.push(e)}function vB(e){Kg=!0,ZP(e)}function bl(){if(!Vy&&Ko!==null){Vy=!0;var e=0,t=Pn;try{var n=Ko;for(Pn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ko=null,Kg=!1}catch(a){throw Ko!==null&&(Ko=Ko.slice(e+1)),SP(Tw,bl),a}finally{Pn=t,Vy=!1}}return null}var ru=[],au=0,vh=null,bh=0,Fi=[],Ri=0,uc=null,Zo=1,Jo="";function Rl(e,t){ru[au++]=bh,ru[au++]=vh,vh=e,bh=t}function JP(e,t,n){Fi[Ri++]=Zo,Fi[Ri++]=Jo,Fi[Ri++]=uc,uc=e;var r=Zo;e=Jo;var a=32-so(r)-1;r&=~(1<<a),n+=1;var i=32-so(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Zo=1<<32-so(t)+a|n<<a|r,Jo=i+e}else Zo=1<<i|n<<a|r,Jo=e}function Bw(e){e.return!==null&&(Rl(e,1),JP(e,1,0))}function zw(e){for(;e===vh;)vh=ru[--au],ru[au]=null,bh=ru[--au],ru[au]=null;for(;e===uc;)uc=Fi[--Ri],Fi[Ri]=null,Jo=Fi[--Ri],Fi[Ri]=null,Zo=Fi[--Ri],Fi[Ri]=null}var bi=null,yi=null,or=!1,ro=null;function eT(e,t){var n=Bi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function p2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bi=e,yi=rl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bi=e,yi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=uc!==null?{id:Zo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bi=e,yi=null,!0):!1;default:return!1}}function Mb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eb(e){if(or){var t=yi;if(t){var n=t;if(!p2(e,t)){if(Mb(e))throw Error(ze(418));t=rl(n.nextSibling);var r=bi;t&&p2(e,t)?eT(r,n):(e.flags=e.flags&-4097|2,or=!1,bi=e)}}else{if(Mb(e))throw Error(ze(418));e.flags=e.flags&-4097|2,or=!1,bi=e}}}function m2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bi=e}function rm(e){if(e!==bi)return!1;if(!or)return m2(e),or=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nb(e.type,e.memoizedProps)),t&&(t=yi)){if(Mb(e))throw tT(),Error(ze(418));for(;t;)eT(e,t),t=rl(t.nextSibling)}if(m2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yi=rl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yi=null}}else yi=bi?rl(e.stateNode.nextSibling):null;return!0}function tT(){for(var e=yi;e;)e=rl(e.nextSibling)}function Cu(){yi=bi=null,or=!1}function Uw(e){ro===null?ro=[e]:ro.push(e)}var bB=bs.ReactCurrentBatchConfig;function yd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,e))}return e}function am(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function h2(e){var t=e._init;return t(e._payload)}function nT(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=sl(g,b),g.index=0,g.sibling=null,g}function i(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,b,w,S){return b===null||b.tag!==6?(b=Xy(w,g.mode,S),b.return=g,b):(b=a(b,w),b.return=g,b)}function l(g,b,w,S){var C=w.type;return C===Qc?d(g,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Us&&h2(C)===b.type)?(S=a(b,w.props),S.ref=yd(g,b,w),S.return=g,S):(S=Hm(w.type,w.key,w.props,null,g.mode,S),S.ref=yd(g,b,w),S.return=g,S)}function c(g,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Qy(w,g.mode,S),b.return=g,b):(b=a(b,w.children||[]),b.return=g,b)}function d(g,b,w,S,C){return b===null||b.tag!==7?(b=nc(w,g.mode,S,C),b.return=g,b):(b=a(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Xy(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kp:return w=Hm(b.type,b.key,b.props,null,g.mode,w),w.ref=yd(g,null,b),w.return=g,w;case Xc:return b=Qy(b,g.mode,w),b.return=g,b;case Us:var S=b._init;return f(g,S(b._payload),w)}if(_d(b)||fd(b))return b=nc(b,g.mode,w,null),b.return=g,b;am(g,b)}return null}function p(g,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:s(g,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kp:return w.key===C?l(g,b,w,S):null;case Xc:return w.key===C?c(g,b,w,S):null;case Us:return C=w._init,p(g,b,C(w._payload),S)}if(_d(w)||fd(w))return C!==null?null:d(g,b,w,S,null);am(g,w)}return null}function m(g,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,s(b,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kp:return g=g.get(S.key===null?w:S.key)||null,l(b,g,S,C);case Xc:return g=g.get(S.key===null?w:S.key)||null,c(b,g,S,C);case Us:var j=S._init;return m(g,b,w,j(S._payload),C)}if(_d(S)||fd(S))return g=g.get(w)||null,d(b,g,S,C,null);am(b,S)}return null}function h(g,b,w,S){for(var C=null,j=null,A=b,T=b=0,L=null;A!==null&&T<w.length;T++){A.index>T?(L=A,A=null):L=A.sibling;var E=p(g,A,w[T],S);if(E===null){A===null&&(A=L);break}e&&A&&E.alternate===null&&t(g,A),b=i(E,b,T),j===null?C=E:j.sibling=E,j=E,A=L}if(T===w.length)return n(g,A),or&&Rl(g,T),C;if(A===null){for(;T<w.length;T++)A=f(g,w[T],S),A!==null&&(b=i(A,b,T),j===null?C=A:j.sibling=A,j=A);return or&&Rl(g,T),C}for(A=r(g,A);T<w.length;T++)L=m(A,g,T,w[T],S),L!==null&&(e&&L.alternate!==null&&A.delete(L.key===null?T:L.key),b=i(L,b,T),j===null?C=L:j.sibling=L,j=L);return e&&A.forEach(function(P){return t(g,P)}),or&&Rl(g,T),C}function y(g,b,w,S){var C=fd(w);if(typeof C!="function")throw Error(ze(150));if(w=C.call(w),w==null)throw Error(ze(151));for(var j=C=null,A=b,T=b=0,L=null,E=w.next();A!==null&&!E.done;T++,E=w.next()){A.index>T?(L=A,A=null):L=A.sibling;var P=p(g,A,E.value,S);if(P===null){A===null&&(A=L);break}e&&A&&P.alternate===null&&t(g,A),b=i(P,b,T),j===null?C=P:j.sibling=P,j=P,A=L}if(E.done)return n(g,A),or&&Rl(g,T),C;if(A===null){for(;!E.done;T++,E=w.next())E=f(g,E.value,S),E!==null&&(b=i(E,b,T),j===null?C=E:j.sibling=E,j=E);return or&&Rl(g,T),C}for(A=r(g,A);!E.done;T++,E=w.next())E=m(A,g,T,E.value,S),E!==null&&(e&&E.alternate!==null&&A.delete(E.key===null?T:E.key),b=i(E,b,T),j===null?C=E:j.sibling=E,j=E);return e&&A.forEach(function(I){return t(g,I)}),or&&Rl(g,T),C}function x(g,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Qc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kp:e:{for(var C=w.key,j=b;j!==null;){if(j.key===C){if(C=w.type,C===Qc){if(j.tag===7){n(g,j.sibling),b=a(j,w.props.children),b.return=g,g=b;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Us&&h2(C)===j.type){n(g,j.sibling),b=a(j,w.props),b.ref=yd(g,j,w),b.return=g,g=b;break e}n(g,j);break}else t(g,j);j=j.sibling}w.type===Qc?(b=nc(w.props.children,g.mode,S,w.key),b.return=g,g=b):(S=Hm(w.type,w.key,w.props,null,g.mode,S),S.ref=yd(g,b,w),S.return=g,g=S)}return o(g);case Xc:e:{for(j=w.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(g,b.sibling),b=a(b,w.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=Qy(w,g.mode,S),b.return=g,g=b}return o(g);case Us:return j=w._init,x(g,b,j(w._payload),S)}if(_d(w))return h(g,b,w,S);if(fd(w))return y(g,b,w,S);am(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(g,b.sibling),b=a(b,w),b.return=g,g=b):(n(g,b),b=Xy(w,g.mode,S),b.return=g,g=b),o(g)):n(g,b)}return x}var Au=nT(!0),rT=nT(!1),xh=vl(null),wh=null,iu=null,Vw=null;function Ww(){Vw=iu=wh=null}function qw(e){var t=xh.current;Jn(xh),e._currentValue=t}function Pb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vu(e,t){wh=e,Vw=iu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ga=!0),e.firstContext=null)}function Wi(e){var t=e._currentValue;if(Vw!==e)if(e={context:e,memoizedValue:t,next:null},iu===null){if(wh===null)throw Error(ze(308));iu=e,wh.dependencies={lanes:0,firstContext:e}}else iu=iu.next=e;return t}var Kl=null;function Hw(e){Kl===null?Kl=[e]:Kl.push(e)}function aT(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Hw(t)):(n.next=a.next,a.next=n),t.interleaved=n,us(e,r)}function us(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vs=!1;function Kw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function al(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,vn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,us(e,n)}return a=r.interleaved,a===null?(t.next=t,Hw(r)):(t.next=a.next,a.next=t),r.interleaved=t,us(e,n)}function Bm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ow(e,n)}}function g2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function kh(e,t,n,r){var a=e.updateQueue;Vs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=c=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,y=s;switch(p=t,m=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=hr({},f,p);break e;case 2:Vs=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);fc|=o,e.lanes=o,e.memoizedState=f}}function y2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ze(191,a));a.call(r)}}}var tp={},_o=vl(tp),yf=vl(tp),vf=vl(tp);function Yl(e){if(e===tp)throw Error(ze(174));return e}function Yw(e,t){switch(Un(vf,t),Un(yf,e),Un(_o,tp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ub(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ub(t,e)}Jn(_o),Un(_o,t)}function Mu(){Jn(_o),Jn(yf),Jn(vf)}function oT(e){Yl(vf.current);var t=Yl(_o.current),n=ub(t,e.type);t!==n&&(Un(yf,e),Un(_o,n))}function Gw(e){yf.current===e&&(Jn(_o),Jn(yf))}var dr=vl(0);function Sh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wy=[];function Xw(){for(var e=0;e<Wy.length;e++)Wy[e]._workInProgressVersionPrimary=null;Wy.length=0}var zm=bs.ReactCurrentDispatcher,qy=bs.ReactCurrentBatchConfig,dc=0,mr=null,Ur=null,na=null,Nh=!1,Hd=!1,bf=0,xB=0;function ha(){throw Error(ze(321))}function Qw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fo(e[n],t[n]))return!1;return!0}function Zw(e,t,n,r,a,i){if(dc=i,mr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zm.current=e===null||e.memoizedState===null?NB:jB,e=n(r,a),Hd){i=0;do{if(Hd=!1,bf=0,25<=i)throw Error(ze(301));i+=1,na=Ur=null,t.updateQueue=null,zm.current=CB,e=n(r,a)}while(Hd)}if(zm.current=jh,t=Ur!==null&&Ur.next!==null,dc=0,na=Ur=mr=null,Nh=!1,t)throw Error(ze(300));return e}function Jw(){var e=bf!==0;return bf=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return na===null?mr.memoizedState=na=e:na=na.next=e,na}function qi(){if(Ur===null){var e=mr.alternate;e=e!==null?e.memoizedState:null}else e=Ur.next;var t=na===null?mr.memoizedState:na.next;if(t!==null)na=t,Ur=e;else{if(e===null)throw Error(ze(310));Ur=e,e={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},na===null?mr.memoizedState=na=e:na=na.next=e}return na}function xf(e,t){return typeof t=="function"?t(e):t}function Hy(e){var t=qi(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=Ur,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,c=i;do{var d=c.lane;if((dc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,mr.lanes|=d,fc|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=s,fo(r,t.memoizedState)||(Ga=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,mr.lanes|=i,fc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ky(e){var t=qi(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);fo(i,t.memoizedState)||(Ga=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function sT(){}function lT(e,t){var n=mr,r=qi(),a=t(),i=!fo(r.memoizedState,a);if(i&&(r.memoizedState=a,Ga=!0),r=r.queue,e1(dT.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||na!==null&&na.memoizedState.tag&1){if(n.flags|=2048,wf(9,uT.bind(null,n,r,a,t),void 0,null),ra===null)throw Error(ze(349));dc&30||cT(n,t,a)}return a}function cT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uT(e,t,n,r){t.value=n,t.getSnapshot=r,fT(t)&&pT(e)}function dT(e,t,n){return n(function(){fT(t)&&pT(e)})}function fT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fo(e,n)}catch{return!0}}function pT(e){var t=us(e,1);t!==null&&lo(t,e,1,-1)}function v2(e){var t=Eo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xf,lastRenderedState:e},t.queue=e,e=e.dispatch=SB.bind(null,mr,e),[t.memoizedState,e]}function wf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mT(){return qi().memoizedState}function Um(e,t,n,r){var a=Eo();mr.flags|=e,a.memoizedState=wf(1|t,n,void 0,r===void 0?null:r)}function Yg(e,t,n,r){var a=qi();r=r===void 0?null:r;var i=void 0;if(Ur!==null){var o=Ur.memoizedState;if(i=o.destroy,r!==null&&Qw(r,o.deps)){a.memoizedState=wf(t,n,i,r);return}}mr.flags|=e,a.memoizedState=wf(1|t,n,i,r)}function b2(e,t){return Um(8390656,8,e,t)}function e1(e,t){return Yg(2048,8,e,t)}function hT(e,t){return Yg(4,2,e,t)}function gT(e,t){return Yg(4,4,e,t)}function yT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vT(e,t,n){return n=n!=null?n.concat([e]):null,Yg(4,4,yT.bind(null,t,e),n)}function t1(){}function bT(e,t){var n=qi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xT(e,t){var n=qi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wT(e,t,n){return dc&21?(fo(n,t)||(n=CP(),mr.lanes|=n,fc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ga=!0),e.memoizedState=n)}function wB(e,t){var n=Pn;Pn=n!==0&&4>n?n:4,e(!0);var r=qy.transition;qy.transition={};try{e(!1),t()}finally{Pn=n,qy.transition=r}}function kT(){return qi().memoizedState}function kB(e,t,n){var r=ol(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ST(e))NT(t,n);else if(n=aT(e,t,n,r),n!==null){var a=La();lo(n,e,r,a),jT(n,t,r)}}function SB(e,t,n){var r=ol(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ST(e))NT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,fo(s,o)){var l=t.interleaved;l===null?(a.next=a,Hw(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=aT(e,t,a,r),n!==null&&(a=La(),lo(n,e,r,a),jT(n,t,r))}}function ST(e){var t=e.alternate;return e===mr||t!==null&&t===mr}function NT(e,t){Hd=Nh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ow(e,n)}}var jh={readContext:Wi,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},NB={readContext:Wi,useCallback:function(e,t){return Eo().memoizedState=[e,t===void 0?null:t],e},useContext:Wi,useEffect:b2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Um(4194308,4,yT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Um(4194308,4,e,t)},useInsertionEffect:function(e,t){return Um(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kB.bind(null,mr,e),[r.memoizedState,e]},useRef:function(e){var t=Eo();return e={current:e},t.memoizedState=e},useState:v2,useDebugValue:t1,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=v2(!1),t=e[0];return e=wB.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mr,a=Eo();if(or){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=t(),ra===null)throw Error(ze(349));dc&30||cT(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,b2(dT.bind(null,r,i,e),[e]),r.flags|=2048,wf(9,uT.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Eo(),t=ra.identifierPrefix;if(or){var n=Jo,r=Zo;n=(r&~(1<<32-so(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jB={readContext:Wi,useCallback:bT,useContext:Wi,useEffect:e1,useImperativeHandle:vT,useInsertionEffect:hT,useLayoutEffect:gT,useMemo:xT,useReducer:Hy,useRef:mT,useState:function(){return Hy(xf)},useDebugValue:t1,useDeferredValue:function(e){var t=qi();return wT(t,Ur.memoizedState,e)},useTransition:function(){var e=Hy(xf)[0],t=qi().memoizedState;return[e,t]},useMutableSource:sT,useSyncExternalStore:lT,useId:kT,unstable_isNewReconciler:!1},CB={readContext:Wi,useCallback:bT,useContext:Wi,useEffect:e1,useImperativeHandle:vT,useInsertionEffect:hT,useLayoutEffect:gT,useMemo:xT,useReducer:Ky,useRef:mT,useState:function(){return Ky(xf)},useDebugValue:t1,useDeferredValue:function(e){var t=qi();return Ur===null?t.memoizedState=e:wT(t,Ur.memoizedState,e)},useTransition:function(){var e=Ky(xf)[0],t=qi().memoizedState;return[e,t]},useMutableSource:sT,useSyncExternalStore:lT,useId:kT,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){t=hr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tb(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:hr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gg={isMounted:function(e){return(e=e._reactInternals)?Cc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=La(),a=ol(e),i=rs(r,a);i.payload=t,n!=null&&(i.callback=n),t=al(e,i,a),t!==null&&(lo(t,e,a,r),Bm(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=La(),a=ol(e),i=rs(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=al(e,i,a),t!==null&&(lo(t,e,a,r),Bm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=La(),r=ol(e),a=rs(n,r);a.tag=2,t!=null&&(a.callback=t),t=al(e,a,r),t!==null&&(lo(t,e,r,n),Bm(t,e,r))}};function x2(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!pf(n,r)||!pf(a,i):!0}function CT(e,t,n){var r=!1,a=fl,i=t.contextType;return typeof i=="object"&&i!==null?i=Wi(i):(a=Za(t)?cc:Na.current,r=t.contextTypes,i=(r=r!=null)?ju(e,a):fl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function w2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gg.enqueueReplaceState(t,t.state,null)}function Ob(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Kw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Wi(i):(i=Za(t)?cc:Na.current,a.context=ju(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Tb(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Gg.enqueueReplaceState(a,a.state,null),kh(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Eu(e,t){try{var n="",r=t;do n+=e$(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Yy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Db(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var AB=typeof WeakMap=="function"?WeakMap:Map;function AT(e,t,n){n=rs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ah||(Ah=!0,Ub=r),Db(e,t)},n}function MT(e,t,n){n=rs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Db(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Db(e,t),typeof r!="function"&&(il===null?il=new Set([this]):il.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function k2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new AB;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=zB.bind(null,e,t,n),t.then(e,e))}function S2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function N2(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rs(-1,1),t.tag=2,al(n,t,1))),n.lanes|=1),e)}var MB=bs.ReactCurrentOwner,Ga=!1;function Da(e,t,n,r){t.child=e===null?rT(t,null,n,r):Au(t,e.child,n,r)}function j2(e,t,n,r,a){n=n.render;var i=t.ref;return vu(t,a),r=Zw(e,t,n,r,i,a),n=Jw(),e!==null&&!Ga?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ds(e,t,a)):(or&&n&&Bw(t),t.flags|=1,Da(e,t,r,a),t.child)}function C2(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!c1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ET(e,t,i,r,a)):(e=Hm(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pf,n(o,r)&&e.ref===t.ref)return ds(e,t,a)}return t.flags|=1,e=sl(i,r),e.ref=t.ref,e.return=t,t.child=e}function ET(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(pf(i,r)&&e.ref===t.ref)if(Ga=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Ga=!0);else return t.lanes=e.lanes,ds(e,t,a)}return Ib(e,t,n,r,a)}function PT(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(su,mi),mi|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Un(su,mi),mi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Un(su,mi),mi|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Un(su,mi),mi|=r;return Da(e,t,a,n),t.child}function TT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ib(e,t,n,r,a){var i=Za(n)?cc:Na.current;return i=ju(t,i),vu(t,a),n=Zw(e,t,n,r,i,a),r=Jw(),e!==null&&!Ga?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ds(e,t,a)):(or&&r&&Bw(t),t.flags|=1,Da(e,t,n,a),t.child)}function A2(e,t,n,r,a){if(Za(n)){var i=!0;yh(t)}else i=!1;if(vu(t,a),t.stateNode===null)Vm(e,t),CT(t,n,r),Ob(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wi(c):(c=Za(n)?cc:Na.current,c=ju(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&w2(t,o,r,c),Vs=!1;var p=t.memoizedState;o.state=p,kh(t,r,o,a),l=t.memoizedState,s!==r||p!==l||Qa.current||Vs?(typeof d=="function"&&(Tb(t,n,d,r),l=t.memoizedState),(s=Vs||x2(t,n,s,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,iT(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:to(t.type,s),o.props=c,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wi(l):(l=Za(n)?cc:Na.current,l=ju(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&w2(t,o,r,l),Vs=!1,p=t.memoizedState,o.state=p,kh(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||Qa.current||Vs?(typeof m=="function"&&(Tb(t,n,m,r),h=t.memoizedState),(c=Vs||x2(t,n,c,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _b(e,t,n,r,i,a)}function _b(e,t,n,r,a,i){TT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&f2(t,n,!1),ds(e,t,i);r=t.stateNode,MB.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Au(t,e.child,null,i),t.child=Au(t,null,s,i)):Da(e,t,s,i),t.memoizedState=r.state,a&&f2(t,n,!0),t.child}function OT(e){var t=e.stateNode;t.pendingContext?d2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&d2(e,t.context,!1),Yw(e,t.containerInfo)}function M2(e,t,n,r,a){return Cu(),Uw(a),t.flags|=256,Da(e,t,n,r),t.child}var Lb={dehydrated:null,treeContext:null,retryLane:0};function Fb(e){return{baseLanes:e,cachePool:null,transitions:null}}function DT(e,t,n){var r=t.pendingProps,a=dr.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Un(dr,a&1),e===null)return Eb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zg(o,r,0,null),e=nc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fb(n),t.memoizedState=Lb,e):n1(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return EB(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=sl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=sl(s,i):(i=nc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Fb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Lb,r}return i=e.child,e=i.sibling,r=sl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function n1(e,t){return t=Zg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function im(e,t,n,r){return r!==null&&Uw(r),Au(t,e.child,null,n),e=n1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EB(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Yy(Error(ze(422))),im(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Zg({mode:"visible",children:r.children},a,0,null),i=nc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Au(t,e.child,null,o),t.child.memoizedState=Fb(o),t.memoizedState=Lb,i);if(!(t.mode&1))return im(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(ze(419)),r=Yy(i,r,void 0),im(e,t,o,r)}if(s=(o&e.childLanes)!==0,Ga||s){if(r=ra,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,us(e,a),lo(r,e,a,-1))}return l1(),r=Yy(Error(ze(421))),im(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=UB.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,yi=rl(a.nextSibling),bi=t,or=!0,ro=null,e!==null&&(Fi[Ri++]=Zo,Fi[Ri++]=Jo,Fi[Ri++]=uc,Zo=e.id,Jo=e.overflow,uc=t),t=n1(t,r.children),t.flags|=4096,t)}function E2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pb(e.return,t,n)}function Gy(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function IT(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Da(e,t,r.children,n),r=dr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&E2(e,n,t);else if(e.tag===19)E2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Un(dr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Sh(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Gy(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Sh(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Gy(t,!0,n,null,i);break;case"together":Gy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ds(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,n=sl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function PB(e,t,n){switch(t.tag){case 3:OT(t),Cu();break;case 5:oT(t);break;case 1:Za(t.type)&&yh(t);break;case 4:Yw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Un(xh,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Un(dr,dr.current&1),t.flags|=128,null):n&t.child.childLanes?DT(e,t,n):(Un(dr,dr.current&1),e=ds(e,t,n),e!==null?e.sibling:null);Un(dr,dr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return IT(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Un(dr,dr.current),r)break;return null;case 22:case 23:return t.lanes=0,PT(e,t,n)}return ds(e,t,n)}var _T,Rb,LT,FT;_T=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rb=function(){};LT=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Yl(_o.current);var i=null;switch(n){case"input":a=ob(e,a),r=ob(e,r),i=[];break;case"select":a=hr({},a,{value:void 0}),r=hr({},r,{value:void 0}),i=[];break;case"textarea":a=cb(e,a),r=cb(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hh)}db(n,r);var o;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(of.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(s=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(of.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xn("scroll",e),i||s===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};FT=function(e,t,n,r){n!==r&&(t.flags|=4)};function vd(e,t){if(!or)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ga(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TB(e,t,n){var r=t.pendingProps;switch(zw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ga(t),null;case 1:return Za(t.type)&&gh(),ga(t),null;case 3:return r=t.stateNode,Mu(),Jn(Qa),Jn(Na),Xw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ro!==null&&(qb(ro),ro=null))),Rb(e,t),ga(t),null;case 5:Gw(t);var a=Yl(vf.current);if(n=t.type,e!==null&&t.stateNode!=null)LT(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ze(166));return ga(t),null}if(e=Yl(_o.current),rm(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Oo]=t,r[gf]=i,e=(t.mode&1)!==0,n){case"dialog":Xn("cancel",r),Xn("close",r);break;case"iframe":case"object":case"embed":Xn("load",r);break;case"video":case"audio":for(a=0;a<Fd.length;a++)Xn(Fd[a],r);break;case"source":Xn("error",r);break;case"img":case"image":case"link":Xn("error",r),Xn("load",r);break;case"details":Xn("toggle",r);break;case"input":RN(r,i),Xn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xn("invalid",r);break;case"textarea":BN(r,i),Xn("invalid",r)}db(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&nm(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&nm(r.textContent,s,e),a=["children",""+s]):of.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Xn("scroll",r)}switch(n){case"input":Yp(r),$N(r,i,!0);break;case"textarea":Yp(r),zN(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hh)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Oo]=t,e[gf]=r,_T(e,t,!1,!1),t.stateNode=e;e:{switch(o=fb(n,r),n){case"dialog":Xn("cancel",e),Xn("close",e),a=r;break;case"iframe":case"object":case"embed":Xn("load",e),a=r;break;case"video":case"audio":for(a=0;a<Fd.length;a++)Xn(Fd[a],e);a=r;break;case"source":Xn("error",e),a=r;break;case"img":case"image":case"link":Xn("error",e),Xn("load",e),a=r;break;case"details":Xn("toggle",e),a=r;break;case"input":RN(e,r),a=ob(e,r),Xn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=hr({},r,{value:void 0}),Xn("invalid",e);break;case"textarea":BN(e,r),a=cb(e,r),Xn("invalid",e);break;default:a=r}db(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?mP(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fP(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sf(e,l):typeof l=="number"&&sf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(of.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Xn("scroll",e):l!=null&&Cw(e,i,l,o))}switch(n){case"input":Yp(e),$N(e,r,!1);break;case"textarea":Yp(e),zN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?mu(e,!!r.multiple,i,!1):r.defaultValue!=null&&mu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ga(t),null;case 6:if(e&&t.stateNode!=null)FT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ze(166));if(n=Yl(vf.current),Yl(_o.current),rm(t)){if(r=t.stateNode,n=t.memoizedProps,r[Oo]=t,(i=r.nodeValue!==n)&&(e=bi,e!==null))switch(e.tag){case 3:nm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Oo]=t,t.stateNode=r}return ga(t),null;case 13:if(Jn(dr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(or&&yi!==null&&t.mode&1&&!(t.flags&128))tT(),Cu(),t.flags|=98560,i=!1;else if(i=rm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ze(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ze(317));i[Oo]=t}else Cu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ga(t),i=!1}else ro!==null&&(qb(ro),ro=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dr.current&1?Wr===0&&(Wr=3):l1())),t.updateQueue!==null&&(t.flags|=4),ga(t),null);case 4:return Mu(),Rb(e,t),e===null&&mf(t.stateNode.containerInfo),ga(t),null;case 10:return qw(t.type._context),ga(t),null;case 17:return Za(t.type)&&gh(),ga(t),null;case 19:if(Jn(dr),i=t.memoizedState,i===null)return ga(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)vd(i,!1);else{if(Wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sh(e),o!==null){for(t.flags|=128,vd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Un(dr,dr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Er()>Pu&&(t.flags|=128,r=!0,vd(i,!1),t.lanes=4194304)}else{if(!r)if(e=Sh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!or)return ga(t),null}else 2*Er()-i.renderingStartTime>Pu&&n!==1073741824&&(t.flags|=128,r=!0,vd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Er(),t.sibling=null,n=dr.current,Un(dr,r?n&1|2:n&1),t):(ga(t),null);case 22:case 23:return s1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mi&1073741824&&(ga(t),t.subtreeFlags&6&&(t.flags|=8192)):ga(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function OB(e,t){switch(zw(t),t.tag){case 1:return Za(t.type)&&gh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mu(),Jn(Qa),Jn(Na),Xw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gw(t),null;case 13:if(Jn(dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));Cu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jn(dr),null;case 4:return Mu(),null;case 10:return qw(t.type._context),null;case 22:case 23:return s1(),null;case 24:return null;default:return null}}var om=!1,ba=!1,DB=typeof WeakSet=="function"?WeakSet:Set,dt=null;function ou(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wr(e,t,r)}else n.current=null}function RT(e,t,n){try{n()}catch(r){wr(e,t,r)}}var P2=!1;function IB(e,t){if(kb=fh,e=UP(),$w(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sb={focusedElem:e,selectionRange:n},fh=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){t=dt;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,x=h.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:to(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(S){wr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}return h=P2,P2=!1,h}function Kd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&RT(t,n,i)}a=a.next}while(a!==r)}}function Xg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $b(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $T(e){var t=e.alternate;t!==null&&(e.alternate=null,$T(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Oo],delete t[gf],delete t[Cb],delete t[gB],delete t[yB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BT(e){return e.tag===5||e.tag===3||e.tag===4}function T2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hh));else if(r!==4&&(e=e.child,e!==null))for(Bb(e,t,n),e=e.sibling;e!==null;)Bb(e,t,n),e=e.sibling}function zb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zb(e,t,n),e=e.sibling;e!==null;)zb(e,t,n),e=e.sibling}var ua=null,no=!1;function Rs(e,t,n){for(n=n.child;n!==null;)zT(e,t,n),n=n.sibling}function zT(e,t,n){if(Io&&typeof Io.onCommitFiberUnmount=="function")try{Io.onCommitFiberUnmount(Ug,n)}catch{}switch(n.tag){case 5:ba||ou(n,t);case 6:var r=ua,a=no;ua=null,Rs(e,t,n),ua=r,no=a,ua!==null&&(no?(e=ua,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ua.removeChild(n.stateNode));break;case 18:ua!==null&&(no?(e=ua,n=n.stateNode,e.nodeType===8?Uy(e.parentNode,n):e.nodeType===1&&Uy(e,n),df(e)):Uy(ua,n.stateNode));break;case 4:r=ua,a=no,ua=n.stateNode.containerInfo,no=!0,Rs(e,t,n),ua=r,no=a;break;case 0:case 11:case 14:case 15:if(!ba&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&RT(n,t,o),a=a.next}while(a!==r)}Rs(e,t,n);break;case 1:if(!ba&&(ou(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){wr(n,t,s)}Rs(e,t,n);break;case 21:Rs(e,t,n);break;case 22:n.mode&1?(ba=(r=ba)||n.memoizedState!==null,Rs(e,t,n),ba=r):Rs(e,t,n);break;default:Rs(e,t,n)}}function O2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new DB),t.forEach(function(r){var a=VB.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function eo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:ua=s.stateNode,no=!1;break e;case 3:ua=s.stateNode.containerInfo,no=!0;break e;case 4:ua=s.stateNode.containerInfo,no=!0;break e}s=s.return}if(ua===null)throw Error(ze(160));zT(i,o,a),ua=null,no=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){wr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UT(t,e),t=t.sibling}function UT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(eo(t,e),jo(e),r&4){try{Kd(3,e,e.return),Xg(3,e)}catch(y){wr(e,e.return,y)}try{Kd(5,e,e.return)}catch(y){wr(e,e.return,y)}}break;case 1:eo(t,e),jo(e),r&512&&n!==null&&ou(n,n.return);break;case 5:if(eo(t,e),jo(e),r&512&&n!==null&&ou(n,n.return),e.flags&32){var a=e.stateNode;try{sf(a,"")}catch(y){wr(e,e.return,y)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&cP(a,i),fb(s,o);var c=fb(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?mP(a,f):d==="dangerouslySetInnerHTML"?fP(a,f):d==="children"?sf(a,f):Cw(a,d,f,c)}switch(s){case"input":sb(a,i);break;case"textarea":uP(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?mu(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?mu(a,!!i.multiple,i.defaultValue,!0):mu(a,!!i.multiple,i.multiple?[]:"",!1))}a[gf]=i}catch(y){wr(e,e.return,y)}}break;case 6:if(eo(t,e),jo(e),r&4){if(e.stateNode===null)throw Error(ze(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){wr(e,e.return,y)}}break;case 3:if(eo(t,e),jo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{df(t.containerInfo)}catch(y){wr(e,e.return,y)}break;case 4:eo(t,e),jo(e);break;case 13:eo(t,e),jo(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(i1=Er())),r&4&&O2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ba=(c=ba)||d,eo(t,e),ba=c):eo(t,e),jo(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(dt=e,d=e.child;d!==null;){for(f=dt=d;dt!==null;){switch(p=dt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Kd(4,p,p.return);break;case 1:ou(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){wr(r,n,y)}}break;case 5:ou(p,p.return);break;case 22:if(p.memoizedState!==null){I2(f);continue}}m!==null?(m.return=p,dt=m):I2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=pP("display",o))}catch(y){wr(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){wr(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:eo(t,e),jo(e),r&4&&O2(e);break;case 21:break;default:eo(t,e),jo(e)}}function jo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(BT(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(sf(a,""),r.flags&=-33);var i=T2(e);zb(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=T2(e);Bb(e,s,o);break;default:throw Error(ze(161))}}catch(l){wr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _B(e,t,n){dt=e,VT(e)}function VT(e,t,n){for(var r=(e.mode&1)!==0;dt!==null;){var a=dt,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||om;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||ba;s=om;var c=ba;if(om=o,(ba=l)&&!c)for(dt=a;dt!==null;)o=dt,l=o.child,o.tag===22&&o.memoizedState!==null?_2(a):l!==null?(l.return=o,dt=l):_2(a);for(;i!==null;)dt=i,VT(i),i=i.sibling;dt=a,om=s,ba=c}D2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,dt=i):D2(e)}}function D2(e){for(;dt!==null;){var t=dt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ba||Xg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ba)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&y2(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}y2(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&df(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}ba||t.flags&512&&$b(t)}catch(p){wr(t,t.return,p)}}if(t===e){dt=null;break}if(n=t.sibling,n!==null){n.return=t.return,dt=n;break}dt=t.return}}function I2(e){for(;dt!==null;){var t=dt;if(t===e){dt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,dt=n;break}dt=t.return}}function _2(e){for(;dt!==null;){var t=dt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xg(4,t)}catch(l){wr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){wr(t,a,l)}}var i=t.return;try{$b(t)}catch(l){wr(t,i,l)}break;case 5:var o=t.return;try{$b(t)}catch(l){wr(t,o,l)}}}catch(l){wr(t,t.return,l)}if(t===e){dt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,dt=s;break}dt=t.return}}var LB=Math.ceil,Ch=bs.ReactCurrentDispatcher,r1=bs.ReactCurrentOwner,Ui=bs.ReactCurrentBatchConfig,vn=0,ra=null,Fr=null,pa=0,mi=0,su=vl(0),Wr=0,kf=null,fc=0,Qg=0,a1=0,Yd=null,Ya=null,i1=0,Pu=1/0,Ho=null,Ah=!1,Ub=null,il=null,sm=!1,Qs=null,Mh=0,Gd=0,Vb=null,Wm=-1,qm=0;function La(){return vn&6?Er():Wm!==-1?Wm:Wm=Er()}function ol(e){return e.mode&1?vn&2&&pa!==0?pa&-pa:bB.transition!==null?(qm===0&&(qm=CP()),qm):(e=Pn,e!==0||(e=window.event,e=e===void 0?16:DP(e.type)),e):1}function lo(e,t,n,r){if(50<Gd)throw Gd=0,Vb=null,Error(ze(185));Zf(e,n,r),(!(vn&2)||e!==ra)&&(e===ra&&(!(vn&2)&&(Qg|=n),Wr===4&&Ys(e,pa)),Ja(e,r),n===1&&vn===0&&!(t.mode&1)&&(Pu=Er()+500,Kg&&bl()))}function Ja(e,t){var n=e.callbackNode;b$(e,t);var r=dh(e,e===ra?pa:0);if(r===0)n!==null&&WN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&WN(n),t===1)e.tag===0?vB(L2.bind(null,e)):ZP(L2.bind(null,e)),mB(function(){!(vn&6)&&bl()}),n=null;else{switch(AP(r)){case 1:n=Tw;break;case 4:n=NP;break;case 16:n=uh;break;case 536870912:n=jP;break;default:n=uh}n=QT(n,WT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function WT(e,t){if(Wm=-1,qm=0,vn&6)throw Error(ze(327));var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=dh(e,e===ra?pa:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Eh(e,r);else{t=r;var a=vn;vn|=2;var i=HT();(ra!==e||pa!==t)&&(Ho=null,Pu=Er()+500,tc(e,t));do try{$B();break}catch(s){qT(e,s)}while(!0);Ww(),Ch.current=i,vn=a,Fr!==null?t=0:(ra=null,pa=0,t=Wr)}if(t!==0){if(t===2&&(a=yb(e),a!==0&&(r=a,t=Wb(e,a))),t===1)throw n=kf,tc(e,0),Ys(e,r),Ja(e,Er()),n;if(t===6)Ys(e,r);else{if(a=e.current.alternate,!(r&30)&&!FB(a)&&(t=Eh(e,r),t===2&&(i=yb(e),i!==0&&(r=i,t=Wb(e,i))),t===1))throw n=kf,tc(e,0),Ys(e,r),Ja(e,Er()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ze(345));case 2:$l(e,Ya,Ho);break;case 3:if(Ys(e,r),(r&130023424)===r&&(t=i1+500-Er(),10<t)){if(dh(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){La(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=jb($l.bind(null,e,Ya,Ho),t);break}$l(e,Ya,Ho);break;case 4:if(Ys(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-so(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Er()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LB(r/1960))-r,10<r){e.timeoutHandle=jb($l.bind(null,e,Ya,Ho),r);break}$l(e,Ya,Ho);break;case 5:$l(e,Ya,Ho);break;default:throw Error(ze(329))}}}return Ja(e,Er()),e.callbackNode===n?WT.bind(null,e):null}function Wb(e,t){var n=Yd;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),e=Eh(e,t),e!==2&&(t=Ya,Ya=n,t!==null&&qb(t)),e}function qb(e){Ya===null?Ya=e:Ya.push.apply(Ya,e)}function FB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!fo(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ys(e,t){for(t&=~a1,t&=~Qg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-so(t),r=1<<n;e[n]=-1,t&=~r}}function L2(e){if(vn&6)throw Error(ze(327));bu();var t=dh(e,0);if(!(t&1))return Ja(e,Er()),null;var n=Eh(e,t);if(e.tag!==0&&n===2){var r=yb(e);r!==0&&(t=r,n=Wb(e,r))}if(n===1)throw n=kf,tc(e,0),Ys(e,t),Ja(e,Er()),n;if(n===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$l(e,Ya,Ho),Ja(e,Er()),null}function o1(e,t){var n=vn;vn|=1;try{return e(t)}finally{vn=n,vn===0&&(Pu=Er()+500,Kg&&bl())}}function pc(e){Qs!==null&&Qs.tag===0&&!(vn&6)&&bu();var t=vn;vn|=1;var n=Ui.transition,r=Pn;try{if(Ui.transition=null,Pn=1,e)return e()}finally{Pn=r,Ui.transition=n,vn=t,!(vn&6)&&bl()}}function s1(){mi=su.current,Jn(su)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pB(n)),Fr!==null)for(n=Fr.return;n!==null;){var r=n;switch(zw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gh();break;case 3:Mu(),Jn(Qa),Jn(Na),Xw();break;case 5:Gw(r);break;case 4:Mu();break;case 13:Jn(dr);break;case 19:Jn(dr);break;case 10:qw(r.type._context);break;case 22:case 23:s1()}n=n.return}if(ra=e,Fr=e=sl(e.current,null),pa=mi=t,Wr=0,kf=null,a1=Qg=fc=0,Ya=Yd=null,Kl!==null){for(t=0;t<Kl.length;t++)if(n=Kl[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Kl=null}return e}function qT(e,t){do{var n=Fr;try{if(Ww(),zm.current=jh,Nh){for(var r=mr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Nh=!1}if(dc=0,na=Ur=mr=null,Hd=!1,bf=0,r1.current=null,n===null||n.return===null){Wr=1,kf=t,Fr=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=pa,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=S2(o);if(m!==null){m.flags&=-257,N2(m,o,s,i,t),m.mode&1&&k2(i,c,t),t=m,l=c;var h=t.updateQueue;if(h===null){var y=new Set;y.add(l),t.updateQueue=y}else h.add(l);break e}else{if(!(t&1)){k2(i,c,t),l1();break e}l=Error(ze(426))}}else if(or&&s.mode&1){var x=S2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),N2(x,o,s,i,t),Uw(Eu(l,s));break e}}i=l=Eu(l,s),Wr!==4&&(Wr=2),Yd===null?Yd=[i]:Yd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=AT(i,l,t);g2(i,g);break e;case 1:s=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(il===null||!il.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=MT(i,s,t);g2(i,S);break e}}i=i.return}while(i!==null)}YT(n)}catch(C){t=C,Fr===n&&n!==null&&(Fr=n=n.return);continue}break}while(!0)}function HT(){var e=Ch.current;return Ch.current=jh,e===null?jh:e}function l1(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),ra===null||!(fc&268435455)&&!(Qg&268435455)||Ys(ra,pa)}function Eh(e,t){var n=vn;vn|=2;var r=HT();(ra!==e||pa!==t)&&(Ho=null,tc(e,t));do try{RB();break}catch(a){qT(e,a)}while(!0);if(Ww(),vn=n,Ch.current=r,Fr!==null)throw Error(ze(261));return ra=null,pa=0,Wr}function RB(){for(;Fr!==null;)KT(Fr)}function $B(){for(;Fr!==null&&!u$();)KT(Fr)}function KT(e){var t=XT(e.alternate,e,mi);e.memoizedProps=e.pendingProps,t===null?YT(e):Fr=t,r1.current=null}function YT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=OB(n,t),n!==null){n.flags&=32767,Fr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wr=6,Fr=null;return}}else if(n=TB(n,t,mi),n!==null){Fr=n;return}if(t=t.sibling,t!==null){Fr=t;return}Fr=t=e}while(t!==null);Wr===0&&(Wr=5)}function $l(e,t,n){var r=Pn,a=Ui.transition;try{Ui.transition=null,Pn=1,BB(e,t,n,r)}finally{Ui.transition=a,Pn=r}return null}function BB(e,t,n,r){do bu();while(Qs!==null);if(vn&6)throw Error(ze(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(x$(e,i),e===ra&&(Fr=ra=null,pa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sm||(sm=!0,QT(uh,function(){return bu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ui.transition,Ui.transition=null;var o=Pn;Pn=1;var s=vn;vn|=4,r1.current=null,IB(e,n),UT(n,e),oB(Sb),fh=!!kb,Sb=kb=null,e.current=n,_B(n),d$(),vn=s,Pn=o,Ui.transition=i}else e.current=n;if(sm&&(sm=!1,Qs=e,Mh=a),i=e.pendingLanes,i===0&&(il=null),m$(n.stateNode),Ja(e,Er()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ah)throw Ah=!1,e=Ub,Ub=null,e;return Mh&1&&e.tag!==0&&bu(),i=e.pendingLanes,i&1?e===Vb?Gd++:(Gd=0,Vb=e):Gd=0,bl(),null}function bu(){if(Qs!==null){var e=AP(Mh),t=Ui.transition,n=Pn;try{if(Ui.transition=null,Pn=16>e?16:e,Qs===null)var r=!1;else{if(e=Qs,Qs=null,Mh=0,vn&6)throw Error(ze(331));var a=vn;for(vn|=4,dt=e.current;dt!==null;){var i=dt,o=i.child;if(dt.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(dt=c;dt!==null;){var d=dt;switch(d.tag){case 0:case 11:case 15:Kd(8,d,i)}var f=d.child;if(f!==null)f.return=d,dt=f;else for(;dt!==null;){d=dt;var p=d.sibling,m=d.return;if($T(d),d===c){dt=null;break}if(p!==null){p.return=m,dt=p;break}dt=m}}}var h=i.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}dt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,dt=o;else e:for(;dt!==null;){if(i=dt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kd(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,dt=g;break e}dt=i.return}}var b=e.current;for(dt=b;dt!==null;){o=dt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,dt=w;else e:for(o=b;dt!==null;){if(s=dt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Xg(9,s)}}catch(C){wr(s,s.return,C)}if(s===o){dt=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,dt=S;break e}dt=s.return}}if(vn=a,bl(),Io&&typeof Io.onPostCommitFiberRoot=="function")try{Io.onPostCommitFiberRoot(Ug,e)}catch{}r=!0}return r}finally{Pn=n,Ui.transition=t}}return!1}function F2(e,t,n){t=Eu(n,t),t=AT(e,t,1),e=al(e,t,1),t=La(),e!==null&&(Zf(e,1,t),Ja(e,t))}function wr(e,t,n){if(e.tag===3)F2(e,e,n);else for(;t!==null;){if(t.tag===3){F2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(il===null||!il.has(r))){e=Eu(n,e),e=MT(t,e,1),t=al(t,e,1),e=La(),t!==null&&(Zf(t,1,e),Ja(t,e));break}}t=t.return}}function zB(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=La(),e.pingedLanes|=e.suspendedLanes&n,ra===e&&(pa&n)===n&&(Wr===4||Wr===3&&(pa&130023424)===pa&&500>Er()-i1?tc(e,0):a1|=n),Ja(e,t)}function GT(e,t){t===0&&(e.mode&1?(t=Qp,Qp<<=1,!(Qp&130023424)&&(Qp=4194304)):t=1);var n=La();e=us(e,t),e!==null&&(Zf(e,t,n),Ja(e,n))}function UB(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),GT(e,n)}function VB(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(t),GT(e,n)}var XT;XT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qa.current)Ga=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ga=!1,PB(e,t,n);Ga=!!(e.flags&131072)}else Ga=!1,or&&t.flags&1048576&&JP(t,bh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vm(e,t),e=t.pendingProps;var a=ju(t,Na.current);vu(t,n),a=Zw(null,t,r,e,a,n);var i=Jw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Za(r)?(i=!0,yh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Kw(t),a.updater=Gg,t.stateNode=a,a._reactInternals=t,Ob(t,r,e,n),t=_b(null,t,r,!0,i,n)):(t.tag=0,or&&i&&Bw(t),Da(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vm(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=qB(r),e=to(r,e),a){case 0:t=Ib(null,t,r,e,n);break e;case 1:t=A2(null,t,r,e,n);break e;case 11:t=j2(null,t,r,e,n);break e;case 14:t=C2(null,t,r,to(r.type,e),n);break e}throw Error(ze(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Ib(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),A2(e,t,r,a,n);case 3:e:{if(OT(t),e===null)throw Error(ze(387));r=t.pendingProps,i=t.memoizedState,a=i.element,iT(e,t),kh(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Eu(Error(ze(423)),t),t=M2(e,t,r,n,a);break e}else if(r!==a){a=Eu(Error(ze(424)),t),t=M2(e,t,r,n,a);break e}else for(yi=rl(t.stateNode.containerInfo.firstChild),bi=t,or=!0,ro=null,n=rT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cu(),r===a){t=ds(e,t,n);break e}Da(e,t,r,n)}t=t.child}return t;case 5:return oT(t),e===null&&Eb(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Nb(r,a)?o=null:i!==null&&Nb(r,i)&&(t.flags|=32),TT(e,t),Da(e,t,o,n),t.child;case 6:return e===null&&Eb(t),null;case 13:return DT(e,t,n);case 4:return Yw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Au(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),j2(e,t,r,a,n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:return Da(e,t,t.pendingProps.children,n),t.child;case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Un(xh,r._currentValue),r._currentValue=o,i!==null)if(fo(i.value,o)){if(i.children===a.children&&!Qa.current){t=ds(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=rs(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Pb(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ze(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Pb(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Da(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,vu(t,n),a=Wi(a),r=r(a),t.flags|=1,Da(e,t,r,n),t.child;case 14:return r=t.type,a=to(r,t.pendingProps),a=to(r.type,a),C2(e,t,r,a,n);case 15:return ET(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Vm(e,t),t.tag=1,Za(r)?(e=!0,yh(t)):e=!1,vu(t,n),CT(t,r,a),Ob(t,r,a,n),_b(null,t,r,!0,e,n);case 19:return IT(e,t,n);case 22:return PT(e,t,n)}throw Error(ze(156,t.tag))};function QT(e,t){return SP(e,t)}function WB(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(e,t,n,r){return new WB(e,t,n,r)}function c1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qB(e){if(typeof e=="function")return c1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mw)return 11;if(e===Ew)return 14}return 2}function sl(e,t){var n=e.alternate;return n===null?(n=Bi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hm(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")c1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qc:return nc(n.children,a,i,t);case Aw:o=8,a|=8;break;case nb:return e=Bi(12,n,t,a|2),e.elementType=nb,e.lanes=i,e;case rb:return e=Bi(13,n,t,a),e.elementType=rb,e.lanes=i,e;case ab:return e=Bi(19,n,t,a),e.elementType=ab,e.lanes=i,e;case oP:return Zg(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aP:o=10;break e;case iP:o=9;break e;case Mw:o=11;break e;case Ew:o=14;break e;case Us:o=16,r=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=Bi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function nc(e,t,n,r){return e=Bi(7,e,r,t),e.lanes=n,e}function Zg(e,t,n,r){return e=Bi(22,e,r,t),e.elementType=oP,e.lanes=n,e.stateNode={isHidden:!1},e}function Xy(e,t,n){return e=Bi(6,e,null,t),e.lanes=n,e}function Qy(e,t,n){return t=Bi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function HB(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ty(0),this.expirationTimes=Ty(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ty(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function u1(e,t,n,r,a,i,o,s,l){return e=new HB(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kw(i),e}function KB(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ZT(e){if(!e)return fl;e=e._reactInternals;e:{if(Cc(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Za(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var n=e.type;if(Za(n))return QP(e,n,t)}return t}function JT(e,t,n,r,a,i,o,s,l){return e=u1(n,r,!0,e,a,i,o,s,l),e.context=ZT(null),n=e.current,r=La(),a=ol(n),i=rs(r,a),i.callback=t??null,al(n,i,a),e.current.lanes=a,Zf(e,a,r),Ja(e,r),e}function Jg(e,t,n,r){var a=t.current,i=La(),o=ol(a);return n=ZT(n),t.context===null?t.context=n:t.pendingContext=n,t=rs(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=al(a,t,o),e!==null&&(lo(e,a,o,i),Bm(e,a,o)),o}function Ph(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function R2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function d1(e,t){R2(e,t),(e=e.alternate)&&R2(e,t)}function YB(){return null}var eO=typeof reportError=="function"?reportError:function(e){console.error(e)};function f1(e){this._internalRoot=e}e0.prototype.render=f1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));Jg(e,t,null,null)};e0.prototype.unmount=f1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pc(function(){Jg(null,e,null,null)}),t[cs]=null}};function e0(e){this._internalRoot=e}e0.prototype.unstable_scheduleHydration=function(e){if(e){var t=PP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ks.length&&t!==0&&t<Ks[n].priority;n++);Ks.splice(n,0,e),n===0&&OP(e)}};function p1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function t0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $2(){}function GB(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=Ph(o);i.call(c)}}var o=JT(t,r,e,0,null,!1,!1,"",$2);return e._reactRootContainer=o,e[cs]=o.current,mf(e.nodeType===8?e.parentNode:e),pc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var c=Ph(l);s.call(c)}}var l=u1(e,0,!1,null,null,!1,!1,"",$2);return e._reactRootContainer=l,e[cs]=l.current,mf(e.nodeType===8?e.parentNode:e),pc(function(){Jg(t,l,n,r)}),l}function n0(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Ph(o);s.call(l)}}Jg(t,o,e,a)}else o=GB(n,t,e,a,r);return Ph(o)}MP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ld(t.pendingLanes);n!==0&&(Ow(t,n|1),Ja(t,Er()),!(vn&6)&&(Pu=Er()+500,bl()))}break;case 13:pc(function(){var r=us(e,1);if(r!==null){var a=La();lo(r,e,1,a)}}),d1(e,1)}};Dw=function(e){if(e.tag===13){var t=us(e,134217728);if(t!==null){var n=La();lo(t,e,134217728,n)}d1(e,134217728)}};EP=function(e){if(e.tag===13){var t=ol(e),n=us(e,t);if(n!==null){var r=La();lo(n,e,t,r)}d1(e,t)}};PP=function(){return Pn};TP=function(e,t){var n=Pn;try{return Pn=e,t()}finally{Pn=n}};mb=function(e,t,n){switch(t){case"input":if(sb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Hg(r);if(!a)throw Error(ze(90));lP(r),sb(r,a)}}}break;case"textarea":uP(e,n);break;case"select":t=n.value,t!=null&&mu(e,!!n.multiple,t,!1)}};yP=o1;vP=pc;var XB={usingClientEntryPoint:!1,Events:[ep,tu,Hg,hP,gP,o1]},bd={findFiberByHostInstance:Hl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QB={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wP(e),e===null?null:e.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||YB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{Ug=lm.inject(QB),Io=lm}catch{}}ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XB;ji.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p1(t))throw Error(ze(200));return KB(e,t,null,n)};ji.createRoot=function(e,t){if(!p1(e))throw Error(ze(299));var n=!1,r="",a=eO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=u1(e,1,!1,null,null,n,!1,r,a),e[cs]=t.current,mf(e.nodeType===8?e.parentNode:e),new f1(t)};ji.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=wP(t),e=e===null?null:e.stateNode,e};ji.flushSync=function(e){return pc(e)};ji.hydrate=function(e,t,n){if(!t0(t))throw Error(ze(200));return n0(null,e,t,!0,n)};ji.hydrateRoot=function(e,t,n){if(!p1(e))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=eO;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=JT(t,null,e,1,n??null,a,!1,i,o),e[cs]=t.current,mf(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new e0(t)};ji.render=function(e,t,n){if(!t0(t))throw Error(ze(200));return n0(null,e,t,!1,n)};ji.unmountComponentAtNode=function(e){if(!t0(e))throw Error(ze(40));return e._reactRootContainer?(pc(function(){n0(null,null,e,!1,function(){e._reactRootContainer=null,e[cs]=null})}),!0):!1};ji.unstable_batchedUpdates=o1;ji.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!t0(n))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return n0(e,t,n,!1,r)};ji.version="18.3.1-next-f1338f8080-20240426";function tO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tO)}catch(e){console.error(e)}}tO(),eP.exports=ji;var Yu=eP.exports,B2=Yu;eb.createRoot=B2.createRoot,eb.hydrateRoot=B2.hydrateRoot;const ZB=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),nO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],rO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],JB=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],aO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],ez=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],tz=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],nz=new Set([10244]),rz=(e,t)=>{var n;if(nz.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return tz.some(i=>a.includes(i))},az=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},cm=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},iO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,oO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},pi=(e,t=2)=>Number.isFinite(e)?iO()&&Math.abs(e)>=1e4?oO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Bs=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return iO()&&t>=1e4?oO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var iz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qt=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},c)=>v.createElement("svg",{ref:c,...iz,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${oz(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},sO=Qt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),sz=Qt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),m1=Qt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),lO=Qt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),lz=Qt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),cz=Qt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),cO=Qt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Hb=Qt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),uz=Qt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),po=Qt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),dz=Qt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),fz=Qt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),pz=Qt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Sf=Qt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),mz=Qt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),h1=Qt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),hz=Qt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),uO=Qt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),gz=Qt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),g1=Qt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),yz=Qt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),y1=Qt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),vz=Qt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),v1=Qt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),ri=Qt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),z2=Qt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),bz=Qt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),xz=Qt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),wz=Qt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),dO=Qt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Tu=Qt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),r0=Qt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),a0=Qt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Th=Qt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),kz=Qt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Zs=Qt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),rc=Qt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Sz=Qt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Sr=Qt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Nz=Qt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),fO=Qt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),za=Qt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nf=Qt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),b1=({className:e})=>u.jsx(bz,{className:e,strokeWidth:3.2}),np=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},x1=({className:e=""})=>{const t=np("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},w1=({className:e=""})=>{const t=np("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},k1=({className:e=""})=>{const t=np("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},S1=({className:e=""})=>{const t=np("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},jz=[{id:"overview",label:"Overview",icon:rc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:rc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Zs},{id:"top-players",label:"Top Players",icon:rc},{id:"top-skills-outgoing",label:"Top Skills",icon:m1},{id:"squad-composition",label:"Classes",icon:Sr},{id:"timeline",label:"Squad vs Enemy",icon:Sr},{id:"map-distribution",label:"Map Distribution",icon:v1}]},{id:"roster",label:"Roster Intel",icon:Sf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Sf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Sr},{id:"fight-comp",label:"Fight Comp",icon:Zs}]},{id:"offense",label:"Offensive Stats",icon:Zs,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Zs},{id:"player-breakdown",label:"Player Breakdown",icon:y1},{id:"spike-damage",label:"Spike Damage",icon:Nf},{id:"conditions-outgoing",label:"Conditions",icon:r0}]},{id:"defense",label:"Defensive Stats",icon:Tu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:wz},{id:"defense-detailed",label:"Defense Detailed",icon:Tu},{id:"defense-mitigation",label:"Damage Mitigation",icon:k1},{id:"support-detailed",label:"Support Detailed",icon:b1},{id:"healing-stats",label:"Healing Stats",icon:uO},{id:"boon-output",label:"Boon Output",icon:w1}]},{id:"other",label:"Other Metrics",icon:Th,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:h1},{id:"special-buffs",label:"Special Buffs",icon:Th},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:S1},{id:"skill-usage",label:"Skill Usage",icon:g1},{id:"apm-stats",label:"APM Breakdown",icon:x1}]}],Cz=(e,t=!0)=>{const[n,r]=v.useState(!1),[a,i]=v.useState("overview"),o=v.useRef(null),s=v.useRef(null),l=v.useRef(0),c=v.useMemo(()=>jz,[]),d=v.useMemo(()=>c.flatMap(m=>m.items),[c]),f=m=>{const h=m==="kdr"?"overview":m,y=o.current,x=document.getElementById(h);if(y&&x){const g=y.getBoundingClientRect(),b=x.getBoundingClientRect().top-g.top+y.scrollTop,w=Math.max(0,y.scrollHeight-y.clientHeight),S=Math.min(Math.max(b-16,0),w);y.scrollTo({top:S,behavior:"smooth"}),i(h)}else x&&(x.scrollIntoView({behavior:"smooth",block:"start"}),i(h));r(!1)};v.useEffect(()=>{if(e)return;const m=h=>{const y=o.current;if(!y)return;const x=h.target;if(!(x instanceof Element&&x.closest("[data-stats-mobile-nav]"))&&!(x instanceof Node&&y.contains(x))&&h.deltaY!==0&&!(y.scrollHeight<=y.clientHeight)){if(l.current+=h.deltaY,s.current===null){const g=()=>{const b=l.current;if(Math.abs(b)<.5){l.current=0,s.current=null;return}const w=b*.2;l.current=b-w,y.scrollBy({top:w,behavior:"auto"}),s.current=requestAnimationFrame(g)};s.current=requestAnimationFrame(g)}h.preventDefault()}};return window.addEventListener("wheel",m,{passive:!1}),()=>{window.removeEventListener("wheel",m),s.current!==null&&(cancelAnimationFrame(s.current),s.current=null),l.current=0}},[e]);const p=m=>{var h;const y=Math.max(0,d.findIndex(b=>b.id===a)),x=Math.min(Math.max(y+m,0),d.length-1),g=(h=d[x])==null?void 0:h.id;g&&f(g)};return v.useEffect(()=>{if(!t)return;const m=o.current;if(!m)return;let h=0;const y=()=>{var g;const b=m.getBoundingClientRect().top;let w=((g=d[0])==null?void 0:g.id)||"overview";d.forEach(S=>{const C=document.getElementById(S.id);C&&C.getBoundingClientRect().top-b<=24&&(w=S.id)}),i(S=>S===w?S:w)},x=()=>{h&&cancelAnimationFrame(h),h=requestAnimationFrame(y)};return y(),m.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{h&&cancelAnimationFrame(h),m.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[d,t]),{mobileNavOpen:n,setMobileNavOpen:r,activeNavId:a,setActiveNavId:i,scrollContainerRef:o,tocGroups:c,tocItems:d,scrollToSection:f,stepSection:p}},U2=["selfBuffs","groupBuffs","squadBuffs"],qo=(e,t,n=0)=>t?e/t:n,V2=e=>e!=null&&e.classification?e.classification==="Boon":!0,pO=e=>`b${e}`,Az=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},mO=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},Mz=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let p=1;t==="groupBuffs"?p=qo(i-a,a,1):t==="squadBuffs"?p=qo(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?qo(d,r):qo(d,r)*100,h=n?qo(f,r):qo(f,r)*100;else{const y=qo(d,r)/(p||1),x=qo(f,r)/(p||1);m=n?y:y*100,h=n?x:x*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},hO=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=Mz(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?qo(a,o):i},Ez=(e,t,n,r,a)=>{const i=hO(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,c=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${c}%`:c},Pz=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,c=new Map;s.forEach(d=>{const f=d.group??0;c.set(f,(c.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=c.get(m)||1,y=Az(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const x=n.get(f);x.profession=p,p!=="Unknown"&&(x.professions.add(p),x.professionTimeMs[p]=(x.professionTimeMs[p]||0)+y),x.activeTimeMs+=y,x.numFights+=1,x.groupSupported+=h,x.squadSupported+=l,U2.forEach(g=>{(d[g]||[]).forEach(b=>{var w,S,C,j;if(typeof(b==null?void 0:b.id)!="number")return;const A=pO(b.id),T=o[A];if(!V2(T))return;const L=(T==null?void 0:T.stacking)??!1,E=((S=(w=b.buffData)==null?void 0:w[0])==null?void 0:S.generation)??0,P=((j=(C=b.buffData)==null?void 0:C[0])==null?void 0:j.wasted)??0,{generationMs:I,wastedMs:U}=mO(g,L,E,P,i,h,l);!I&&!U||(t.has(A)||t.set(A,T||{}),x.boons[A]||(x.boons[A]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),x.boons[A][g].generationMs+=I,x.boons[A][g].wastedMs+=U)})})})}),{boonTables:Array.from(t.keys()).filter(r=>V2(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!U2.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const c=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(c.length>0){d=c[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;c.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:c,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},W2=(e,t,n,r,a,i,o={})=>{var s,l,c,d;const f=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[pO(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,y=((d=(c=f.buffData)==null?void 0:c[0])==null?void 0:d.wasted)??0;return mO(t,m,h,y,r,a,i)},Tz={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},Oz={methods:Tz},Dz=Oz,N1="count",Iz=e=>(e||0)/1e3,_z=(e,t)=>{var n;if(!e)return 0;const r=(n=Dz.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},gO=(e,t,n)=>n==="duration"?Iz(t):n==="tiered"?_z(e,t):e;function Lz(e,t=N1){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return gO(a,i,t)}function Fz(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,c=W2(s,"selfBuffs",1122,n,l,i,r),d=W2(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function Rz(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function $z(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function Bz(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const q2=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},H2=(e,t=N1)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return gO(a,i,t)},K2=e=>Rz(e),Y2=e=>Bz(e),G2=e=>$z(e),X2=(e,t=N1)=>Lz(e,t),zz=(e,t)=>Fz(e,t),Uz="count",yO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Kb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},Vz={uploading:!1,message:null,url:null,buildStatus:"idle"},Q2=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),vO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},um=e=>{if(e)return vO[e]},jf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=Q2.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=Q2.get(a);if(i)return i}return null},Kc=e=>jf(e),bO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=jf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(vO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Km=(e,t,n)=>{var r;if(t&&n){const a=(r=n[`b${t}`])==null?void 0:r.name,i=jf(a);if(i)return i}return e?jf(e):null},Wz=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},qz=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},Hz=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},Kz=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||Wz,o=bO(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(y=>{y&&y.forEach(x=>{if(!x.id)return;let g=`Skill ${x.id}`,b;r&&(r[`s${x.id}`]?(g=r[`s${x.id}`].name||g,b=r[`s${x.id}`].icon||b):r[`${x.id}`]&&(g=r[`${x.id}`].name||g,b=r[`${x.id}`].icon||b));const w=Km(g,x.id,a);if(!w)return;const S=a==null?void 0:a[`b${x.id}`],C=S==null?void 0:S.name,j=o.get(w)||(S==null?void 0:S.icon),A=g.startsWith("Skill ")?C||w:g,T=b||(S==null?void 0:S.icon),L=Number(x.connectedHits??0),E=Number(x.hits??0),P=L>0?L:E,I=Number(x.totalDamage??0);if(!Number.isFinite(P)&&!Number.isFinite(I))return;const U=l[w]||{name:w,icon:j,applications:0,damage:0};U.applications+=Number.isFinite(P)?P:0,U.damage+=Number.isFinite(I)?I:0,!U.icon&&j&&(U.icon=j),l[w]=U;const Y=s[h][w]||{icon:j,applications:0,damage:0,skills:{}};Y.applications+=Number.isFinite(P)?P:0,Y.damage+=Number.isFinite(I)?I:0;const ee=Y.skills[A]||{name:A,hits:0,damage:0,icon:T};ee.hits+=Number.isFinite(P)?P:0,ee.damage+=Number.isFinite(I)?I:0,!ee.icon&&T&&(ee.icon=T),Y.skills[A]=ee,!Y.icon&&j&&(Y.icon=j),s[h][w]=Y})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&c.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const y=Number(h==null?void 0:h.id);if(!Number.isFinite(y))return;const x=a==null?void 0:a[`b${y}`],g=jf(x==null?void 0:x.name);if(!g||x!=null&&x.classification&&x.classification!=="Condition")return;const b=g;if(!b)return;const w=h.statesPerSource||{};p+=1,Object.entries(w).forEach(([S,C])=>{var j;const A=c.get(S);if(!A)return;f+=1;const T=qz(C),L=Hz(C);d+=T;const E=((j=s[A])==null?void 0:j[b])||{applications:0,damage:0,skills:{}};E.applicationsFromBuffs=(E.applicationsFromBuffs||0)+T,E.applicationsFromBuffsActive=(E.applicationsFromBuffsActive||0)+L,s[A]=s[A]||{},s[A][b]=E;const P=l[b]||{name:b,applications:0,damage:0};P.applicationsFromBuffs=(P.applicationsFromBuffs||0)+T,P.applicationsFromBuffsActive=(P.applicationsFromBuffsActive||0)+L,l[b]=P})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Cf={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},Yz={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function ac(e){return Cf[e]||Cf.Unknown}function Gz(e){return e?Yz[e]||e:"Unknown"}function Gl(e){if(!e)return null;const t=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",n=Cf[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=Gz(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const Xz=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},Ta=(e,t)=>Xz((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Ym=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.filter(f=>f.details&&f.details.players&&f.details.players.length>0),o=r||Kb,s=n||yO,l=f=>{if(!f||typeof f!="object")return f;const p=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!p||p.length===0)return f;const m=w=>Array.isArray(w)&&w.some(S=>S&&Number(S.count)>0),h=new Map,y=new Map;e.forEach(w=>{var S;const C=(w==null?void 0:w.filePath)||(w==null?void 0:w.id);C&&h.set(String(C),w);const j=(w==null?void 0:w.permalink)||((S=w==null?void 0:w.details)==null?void 0:S.permalink);typeof j=="string"&&j.trim()&&y.set(j.trim(),w)});const x=p.map(w=>{var S;if(!w||typeof w!="object")return w;const C=w.id?String(w.id):"",j=typeof w.permalink=="string"?w.permalink.trim():"",A=(C?h.get(C):void 0)||(j?y.get(j):void 0);if(!A)return w;let T=w;if(Number(w.timestamp)<=0){const E=Ta(A==null?void 0:A.details,A);E&&(T={...T,timestamp:E})}const L=(S=A==null?void 0:A.details)==null?void 0:S.teamBreakdown;return m(L)&&(T={...T,teamBreakdown:L}),T}),g=Array.isArray(f.fightDiffMode)?f.fightDiffMode:[],b=g.some(w=>Array.isArray(w==null?void 0:w.targetFocus)&&w.targetFocus.some(S=>Number((S==null?void 0:S.damage)||0)>0||Number((S==null?void 0:S.hits)||0)>0))?g:x.map((w,S)=>{const C=w&&typeof w.enemyClassCounts=="object"&&w.enemyClassCounts?w.enemyClassCounts:{},j=Object.entries(C).map(([ce,$])=>({label:String(ce||"Unknown"),count:Number($||0)})).filter(ce=>ce.count>0).sort((ce,$)=>$.count-ce.count||ce.label.localeCompare($.label)),A=j.reduce((ce,$)=>ce+$.count,0),T=j.map(ce=>({label:ce.label,damage:ce.count,hits:0,share:A>0?ce.count/A:0})),L=Number((w==null?void 0:w.enemyDowns)||0),E=Number((w==null?void 0:w.enemyDeaths)||0),P=Number((w==null?void 0:w.alliesDown)||0),I=Number((w==null?void 0:w.alliesDead)||0),U=Number((w==null?void 0:w.totalOutgoingDamage)||0),Y=Number((w==null?void 0:w.totalIncomingDamage)||0),ee=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:w!=null&&w.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((w==null?void 0:w.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((w==null?void 0:w.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:I>0?E/I:E},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:E},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:L},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:I},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:P},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:U-Y},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:U},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Y},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((w==null?void 0:w.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((w==null?void 0:w.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((w==null?void 0:w.alliesRevived)||0)}];return{id:String((w==null?void 0:w.id)||`fight-${S+1}`),shortLabel:`F${S+1}`,fullLabel:`${String((w==null?void 0:w.mapName)||(w==null?void 0:w.label)||"Unknown Map")}  ${String((w==null?void 0:w.duration)||"--:--")}`,mapName:String((w==null?void 0:w.mapName)||""),timestamp:Number((w==null?void 0:w.timestamp)||0),duration:String((w==null?void 0:w.duration)||"--:--"),isWin:!!(w!=null&&w.isWin),targetFocus:T,squadMetrics:ee}});return{...f,fightBreakdown:x,fightDiffMode:b}},c=(()=>{if(t)return l(t);const f=a||Uz,p=o.topSkillDamageSource||"target",m=o.topSkillsMetric||"damage",h=i.length;let y=0,x=0,g=0,b=0,w=0,S=0,C=0,j=0;const A=D=>{const q=((D==null?void 0:D.players)||[]).filter(Le=>!Le.notInSquad);let te=0,we=0,Z=0,Ie=0;return q.forEach(Le=>{var st;const yt=(st=Le.defenses)==null?void 0:st[0];if(!yt)return;const ht=Number(yt.downCount||0),Bt=Number(yt.deadCount||0);te+=ht+Bt,Z+=Bt}),q.forEach(Le=>{!Le.statsTargets||Le.statsTargets.length===0||Le.statsTargets.forEach(st=>{const yt=st==null?void 0:st[0];if(!yt)return;const ht=Number(yt.downed||0),Bt=Number(yt.killed||0);we+=ht+Bt,Ie+=Bt})}),{squadDownsDeaths:te,enemyDownsDeaths:we,squadDeaths:Z,enemyDeaths:Ie}},T=D=>{const{squadDownsDeaths:q,enemyDownsDeaths:te}=A(D);return q>0||te>0?te>q:typeof(D==null?void 0:D.success)=="boolean"?D.success:!1},L=new Map,E=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),P={},I={},U=new Map,Y={},ee={},ce={},$=new Map,B=new Map,re=new Set(Object.keys(Cf)),k=Object.keys(Cf).filter(D=>D&&D!=="Unknown").sort((D,q)=>q.length-D.length),O=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],M=D=>{if(!D)return"Unknown";const q=String(D).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(re.has(q))return q;const te=q.toLowerCase();for(const we of k)if(te.includes(we.toLowerCase()))return we;return O.find(we=>te.includes(we.toLowerCase()))||q||"Unknown"},N=D=>D!=null&&D.classification?D.classification==="Boon":!0,V=new Map,Q=new Map,H=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),G=D=>{const q=Number(D);return Number.isFinite(q)?q:0},J=D=>{const q=String(D).split("|"),te=q[0]||"Unknown",we=M(q[1]||"Unknown"),Z=q[2]||te||"Unknown";return{name:te,profession:we,account:Z}},_=(D,q,te)=>{let we=D.get(q);return we?te.profession&&!we.professionList.includes(te.profession)&&we.professionList.push(te.profession):(we={account:te.account,name:te.name,profession:te.profession,professionList:te.profession?[te.profession]:[],activeMs:0,mitigationTotals:H()},D.set(q,we)),we},ne=(D,q,te)=>{let we=D.get(q);return we?te.profession&&!we.professionList.includes(te.profession)&&we.professionList.push(te.profession):(we={account:te.account,name:te.name,profession:te.profession,professionList:te.profession?[te.profession]:[],activeMs:0,mitigationTotals:H(),minion:te.minion},D.set(q,we)),we},ge=(D,q)=>{D.totalHits+=G((q==null?void 0:q.skill_hits)??(q==null?void 0:q.skillHits)),D.blocked+=G(q==null?void 0:q.blocked),D.evaded+=G(q==null?void 0:q.evaded),D.glanced+=G(q==null?void 0:q.glanced),D.missed+=G(q==null?void 0:q.missed),D.invulned+=G(q==null?void 0:q.invulned),D.interrupted+=G(q==null?void 0:q.interrupted),D.totalMitigation+=G((q==null?void 0:q.avoided_damage)??(q==null?void 0:q.avoidedDamage)),D.minMitigation+=G((q==null?void 0:q.min_avoided_damage)??(q==null?void 0:q.minAvoidedDamage))},R=D=>Object.values(D).some(q=>q>0),ae=(D,q,te)=>{var we,Z,Ie,Le;const st=`s${D}`;if((we=q==null?void 0:q[st])!=null&&we.name)return q[st].name;if((Z=q==null?void 0:q[String(D)])!=null&&Z.name)return q[String(D)].name;const yt=`b${D}`;return(Ie=te==null?void 0:te[yt])!=null&&Ie.name?te[yt].name:(Le=te==null?void 0:te[String(D)])!=null&&Le.name?te[String(D)].name:`Unknown Skill ${D}`},W=new Map,F=D=>{const q=W.get(D);if(!q)return{hasSkill:!1,avg:1,min:1,hits:0};const te=q.connectedHits||0,we=te>0?q.totalDamage/te:0,Z=q.minCount>0?q.minTotal/q.minCount:0;return{hasSkill:!0,avg:we,min:Z,hits:te}},le="Ashtonlightstone.9145",xe="Illusionary Warden",Je=[],ue=[],Ke=[],Fe=[],gt=new Map,Wt=new Map,On=(D,q,te)=>{const we=D.get(q)||H();return we.totalHits+=te.totalHits,we.blocked+=te.blocked,we.evaded+=te.evaded,we.glanced+=te.glanced,we.missed+=te.missed,we.invulned+=te.invulned,we.interrupted+=te.interrupted,D.set(q,we),we};i.forEach(D=>{const q=D.details;q&&(q.targets||[]).forEach(te=>{const we=(te==null?void 0:te.totalDamageDist)||[],Z=Array.isArray(we)?we[0]:null;Z==null||Z.forEach(Ie=>{if(!(Ie!=null&&Ie.id))return;const Le=Number(Ie.id),st=W.get(Le)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};st.totalDamage+=Number(Ie.totalDamage||0),st.connectedHits+=Number(Ie.connectedHits||0);const yt=Number.isFinite(Number(Ie.min))?Number(Ie.min):0;st.minTotal+=yt,st.minCount+=1,W.set(Le,st)})})}),i.forEach((D,q)=>{var te,we;const Z=D.details;if(!Z)return;const Ie=Z.players,Le=Z.targets||[],st=Z.skillMap||{},yt=Z.buffMap||{},ht=new Map,Bt=new Map;Le.forEach(z=>{const oe=(z==null?void 0:z.totalDamageDist)||[],je=Array.isArray(oe)?oe[0]:null;je==null||je.forEach(Ce=>{var ve;if(!(Ce!=null&&Ce.id))return;const $e=Number(Ce.id),Qe=((ve=st==null?void 0:st[$e])==null?void 0:ve.name)||Ce.name||Ce.skillName||String($e),He=ht.get($e)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};He.totalDamage+=Number(Ce.totalDamage||0),He.connectedHits+=Number(Ce.connectedHits||0);const zt=Number.isFinite(Number(Ce.min))?Number(Ce.min):0;He.minTotal+=zt,He.minCount+=1,ht.set($e,He);const Yt=Bt.get(Qe)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Yt.totalDamage+=Number(Ce.totalDamage||0),Yt.connectedHits+=Number(Ce.connectedHits||0);const Vt=Number.isFinite(Number(Ce.min))?Number(Ce.min):0;Yt.minTotal+=Vt,Yt.minCount+=1,Bt.set(Qe,Yt)})});const hn=z=>{const oe=ht.get(z);if(!oe||oe.connectedHits<=0)return{avg:1,min:1};const je=oe.connectedHits>0?oe.totalDamage/oe.connectedHits:0,Ce=oe.minCount>0?oe.minTotal/oe.minCount:je;return{avg:je||1,min:Ce||1}},on=z=>{const oe=Bt.get(z);if(!oe||oe.connectedHits<=0)return{avg:1,min:1};const je=oe.connectedHits>0?oe.totalDamage/oe.connectedHits:0,Ce=oe.minCount>0?oe.minTotal/oe.minCount:je;return{avg:je||1,min:Ce||1}},Ze=Z.combatReplayMetaData||{},qe=(Ze==null?void 0:Ze.inchToPixel)>0?Ze.inchToPixel:1,ot=(Ze==null?void 0:Ze.pollingRate)>0?Ze.pollingRate:1,At=5e3,Ht=z=>Array.isArray(z)?z.map(oe=>Array.isArray(oe)?[Number(oe[0]),Number(oe[1])]:null).filter(oe=>!!oe&&Number.isFinite(oe[0])):[];let pe=[],Ne=Z.durationMS||0,ke=!1;const Be=Ie.find(z=>(z==null?void 0:z.hasCommanderTag)&&!(z!=null&&z.notInSquad));(te=Be==null?void 0:Be.combatReplayData)!=null&&te.positions&&(pe=Be.combatReplayData.positions,Ht(Be.combatReplayData.dead).forEach(([z])=>{z>0&&(ke=!0,Ne=Math.min(Ne,z))}));const me=z=>{var oe;const je=(oe=z.statsAll)==null?void 0:oe[0];if((je==null?void 0:je.distToCom)!==void 0&&(je==null?void 0:je.distToCom)!=="Infinity")return Math.round(Number(je.distToCom));if((je==null?void 0:je.stackDist)!==void 0)return Math.round(Number(je.stackDist))||0;if(z.hasCommanderTag)return 0;const Ce=z.combatReplayData;if(!(Ce!=null&&Ce.positions)||!pe.length)return 0;const ve=Ce.positions,$e=Ht(Ce.dead),Qe=Ht(Ce.down),He=Math.floor((Ce.start||0)/ot);let zt=0;if($e.length&&Qe.length)for(const[Yt]of $e){if(Yt<0)continue;const Vt=Math.max(0,Math.floor(Yt/ot))-He;for(const[lt,Gt]of Qe){if(Yt!==Gt)continue;const ct=ke&&lt>Ne?Math.max(1,Math.floor(Ne/ot)):Vt,tn=Math.max(0,Math.min(ct,ve.length,pe.length));if(tn<=0)continue;let Lt=0;for(let jt=0;jt<tn;jt++){const[Te,be]=ve[jt],[xt,Ct]=pe[jt];Lt+=Math.hypot(Te-xt,be-Ct)}zt=Math.round(Lt/tn/qe)}}return zt},_e=Ie.filter(z=>!z.notInSquad);g+=_e.length,b+=Le.filter(z=>!z.isFake).length,zz(Ie,{durationMS:Z.durationMS,buffMap:Z.buffMap});const{squadDeaths:Me,enemyDeaths:vt}=A(Z);w+=Me,S+=vt,j+=Me,C+=vt,T(Z)?y++:x++;const tt=Z.skillMap?Number((we=Object.keys(Z.skillMap).find(z=>{var oe,je;return((je=(oe=Z.skillMap)==null?void 0:oe[z])==null?void 0:je.name)==="Battle Standard"}))==null?void 0:we.replace(/^s/,"")):null;Ie.forEach((z,oe)=>{var je,Ce,ve,$e,Qe,He,zt,Yt,Vt,lt,Gt,ct,tn;if(z.notInSquad)return;const Lt=z.account||"Unknown",jt=Lt!=="Unknown"?Lt:z.name||"Unknown",Te=z.name||"Unknown";L.has(jt)||L.set(jt,{name:Te,account:jt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:z.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const be=L.get(jt);if(z.hasCommanderTag&&(be.isCommander=!0),Te!=="Unknown"&&be.characterNames.add(String(Te)),z.profession&&z.profession!=="Unknown"){be.profession=z.profession,be.professions.add(z.profession);const Oe=Array.isArray(z.activeTimes)&&typeof z.activeTimes[0]=="number"?z.activeTimes[0]:Z.durationMS||0;be.professionTimeMs[z.profession]=(be.professionTimeMs[z.profession]||0)+Oe}be.logsJoined++,be.downContrib+=K2(z),be.cleanses+=q2(z),be.strips+=H2(z,f),be.healing+=Y2(z),be.barrier+=G2(z),be.cc+=X2(z,f),be.stab+=z.stabGeneration||0;const xt=me(z);xt<=At&&(be.totalDist+=xt,be.distCount++),(je=z.defenses)!=null&&je[0]&&(be.dodges+=z.defenses[0].dodgeCount||0,be.downs+=z.defenses[0].downCount||0,be.deaths+=z.defenses[0].deadCount||0),Z.durationMS&&(be.totalFightMs+=Z.durationMS);const Ct=Array.isArray(z.activeTimes)&&typeof z.activeTimes[0]=="number"?z.activeTimes[0]:Z.durationMS||0;be.squadActiveMs+=Ct;const Kt=Ta(Z,D),wn=Number((Z==null?void 0:Z.durationMS)||0);Kt>0&&((be.firstSeenFightTs<=0||Kt<be.firstSeenFightTs)&&(be.firstSeenFightTs=Kt),be.lastSeenFightTs<=0||Kt>be.lastSeenFightTs?(be.lastSeenFightTs=Kt,be.lastSeenFightDurationMs=wn):Kt===be.lastSeenFightTs&&wn>be.lastSeenFightDurationMs&&(be.lastSeenFightDurationMs=wn)),be.defenseActiveMs+=Ct,be.supportActiveMs+=Ct,be.healingActiveMs+=Ct,Array.isArray(z.buffUptimes)&&z.buffUptimes.length>0&&z.buffUptimes.forEach(Oe=>{var Ge,ut,Mt,Sn,Kn,Cn;if(typeof(Oe==null?void 0:Oe.id)!="number")return;const yr=`b${Oe.id}`,Zt=((Ge=Z.buffMap)==null?void 0:Ge[yr])||((ut=Z.buffMap)==null?void 0:ut[String(Oe.id)]);if(!Zt||N(Zt))return;const In=Number(((Sn=(Mt=Oe.buffData)==null?void 0:Mt[0])==null?void 0:Sn.uptime)??0),Mi=Number(((Cn=(Kn=Oe.buffData)==null?void 0:Kn[0])==null?void 0:Cn.presence)??0);if((!Number.isFinite(In)||In<=0)&&(!Number.isFinite(Mi)||Mi<=0))return;const Ds=(Zt==null?void 0:Zt.stacking)??!1,Ic=(Ds?Number.isFinite(In)?In:0:Number.isFinite(In)?In/100:0)*Ct,ui=Ds?Mi:In,ld=Math.min(Math.max(Number.isFinite(ui)?ui:0,0),100)/100*Ct,El=Number.isFinite(Ic)&&Ic>0,_c=Number.isFinite(ld)&&ld>0;if(!El&&!_c)return;const Va=Kc(Zt==null?void 0:Zt.name);if(Va&&ZB.has(Va)&&(!(Zt!=null&&Zt.classification)||Zt.classification==="Condition")){const Lc=Ic/1e3,qa=Zt==null?void 0:Zt.icon,Pl=Y[Va]||{name:Va,icon:qa,applications:0,damage:0};Pl.applicationsFromUptime=(Pl.applicationsFromUptime||0)+Lc,!Pl.icon&&qa&&(Pl.icon=qa),Y[Va]=Pl;const Ma=be.outgoingConditions[Va]||{applications:0,damage:0,skills:{},icon:qa};Ma.applicationsFromUptime=(Ma.applicationsFromUptime||0)+Lc,!Ma.icon&&qa&&(Ma.icon=qa),be.outgoingConditions[Va]=Ma;const Pi=ee[Va]||{name:Va,icon:qa,applications:0,damage:0};Pi.applicationsFromUptime=(Pi.applicationsFromUptime||0)+Lc,!Pi.icon&&qa&&(Pi.icon=qa),ee[Va]=Pi;const Tl=be.incomingConditions[Va]||{applications:0,damage:0,skills:{},icon:qa};Tl.applicationsFromUptime=(Tl.applicationsFromUptime||0)+Lc,!Tl.icon&&qa&&(Tl.icon=qa),be.incomingConditions[Va]=Tl}$.has(yr)||$.set(yr,{name:Zt==null?void 0:Zt.name,stacking:Ds,icon:Zt==null?void 0:Zt.icon}),B.has(yr)||B.set(yr,new Map);const zp=B.get(yr),Wa=be.account||z.account||z.name||"Unknown";let Ei=zp.get(Wa);Ei||(Ei={account:Wa,profession:be.profession||z.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},zp.set(Wa,Ei));const Xi=z.profession||be.profession;Xi&&Xi!=="Unknown"&&(Ei.professions.add(Xi),Ei.professionTimeMs[Xi]=(Ei.professionTimeMs[Xi]||0)+Ct,Ei.profession=Xi),Ei.totalMs+=El?Ic:0,Ei.uptimeMs+=_c?ld:0,Ei.durationMs+=Ct}),(Ce=z.defenses)!=null&&Ce[0]&&rO.forEach(Oe=>{const Ge=Number(z.defenses[0][Oe.field]??0);Number.isFinite(Ge)&&(be.defenseTotals[Oe.id]=(be.defenseTotals[Oe.id]||0)+Ge)}),(ve=z.support)!=null&&ve[0]&&aO.forEach(Oe=>{let Ge=Number(z.support[0][Oe.field]??0);Number.isFinite(Ge)&&(E.has(Oe.field)&&Ge>999999&&(Ge=0),be.supportTotals[Oe.id]=(be.supportTotals[Oe.id]||0)+Ge)});const zr=(Oe,Ge)=>{Number.isFinite(Ge)&&(be.healingTotals[Oe]=(be.healingTotals[Oe]||0)+Ge)},oa=(Oe,Ge)=>Array.isArray(Oe)?Oe.reduce((ut,Mt)=>ut+Number((Mt==null?void 0:Mt[Ge])??0),0):0,Zr=(Oe,Ge,ut)=>{if(!Number.isFinite(ut)||ut<=0)return;const Mt=Ie[Ge],Sn=Ge===oe,Kn=Mt==null?void 0:Mt.notInSquad,Cn=!Kn,yr=Cn&&(Mt==null?void 0:Mt.group)!=null&&Mt.group===z.group;zr(Oe,ut),Cn&&zr(`squad${Oe[0].toUpperCase()}${Oe.slice(1)}`,ut),yr&&zr(`group${Oe[0].toUpperCase()}${Oe.slice(1)}`,ut),Sn&&zr(`self${Oe[0].toUpperCase()}${Oe.slice(1)}`,ut),Kn&&zr(`offSquad${Oe[0].toUpperCase()}${Oe.slice(1)}`,ut)};if(Array.isArray(z.rotation)){let Oe=0;z.rotation.forEach(Ge=>{var ut;if(!(Ge!=null&&Ge.id)||!rz(Ge.id,Z.skillMap))return;const Mt=((ut=Ge.skills)==null?void 0:ut.length)||0;Mt>0&&(Oe+=Mt,zr(`resUtility_s${Ge.id}`,Mt))}),Oe>0&&zr("resUtility",Oe)}const Ai=($e=z.extHealingStats)==null?void 0:$e.outgoingHealingAllies;Array.isArray(Ai)&&Ai.forEach((Oe,Ge)=>{const ut=oa(Oe,"healing"),Mt=oa(Oe,"downedHealing");Zr("healing",Ge,ut),Zr("downedHealing",Ge,Mt)});const Dc=(Qe=z.extBarrierStats)==null?void 0:Qe.outgoingBarrierAllies;Array.isArray(Dc)&&Dc.forEach((Oe,Ge)=>{const ut=oa(Oe,"barrier");Zr("barrier",Ge,ut)});const Ps=(He=z.statsAll)==null?void 0:He[0],ko=(zt=z.dpsAll)==null?void 0:zt[0],Bp=(Yt=z.support)==null?void 0:Yt[0];if(nO.forEach(Oe=>{if(Oe.id==="downContributionPercent"||!Oe.field)return;let Ge=0,ut=0;Oe.source==="dpsAll"&&ko?Ge=Number(ko[Oe.field]??0):Oe.source==="statsAll"&&Ps?(Ge=Number(Ps[Oe.field]??0),ut=Number(Ps[Oe.denomField||Oe.weightField||"connectedDamageCount"]??0)):Oe.source==="support"&&Bp?Ge=Number(Bp[Oe.field]??0):z.statsTargets&&z.statsTargets.forEach(Mt=>{Mt!=null&&Mt[0]&&(Ge+=Number(Mt[0][Oe.field]??0),ut+=Number(Mt[0][Oe.denomField||Oe.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ge)&&(be.offenseTotals[Oe.id]=(be.offenseTotals[Oe.id]||0)+Ge,Oe.isRate&&ut>0&&(be.offenseRateWeights[Oe.id]=(be.offenseRateWeights[Oe.id]||0)+ut))}),z.targetDamageDist&&Number.isFinite(tt)){const Oe=z.targetDamageDist.flatMap(Ge=>Ge||[]).flatMap(Ge=>Ge||[]).reduce((Ge,ut)=>ut!=null&&ut.id&&ut.id===tt?Ge+((ut==null?void 0:ut.connectedHits)||0):Ge,0);be.offenseTotals.battleStandardHits=(be.offenseTotals.battleStandardHits||0)+Oe}be.revives+=((lt=(Vt=z.support)==null?void 0:Vt[0])==null?void 0:lt.resurrects)||0,ko&&(be.damage+=ko.damage||0,be.dps+=ko.dps||0);const So=Oe=>{var Ge,ut,Mt,Sn;let Kn=`Skill ${Oe.id}`;const Cn=((Ge=Z.skillMap)==null?void 0:Ge[`s${Oe.id}`])||((ut=Z.skillMap)==null?void 0:ut[`${Oe.id}`]);let yr=Cn==null?void 0:Cn.icon;if(Cn!=null&&Cn.name&&(Kn=Cn.name),Kn.startsWith("Skill ")){const Zt=Km(Kn,Oe.id,Z.buffMap);Zt&&(Kn=Zt,yr=((Sn=(Mt=Z.buffMap)==null?void 0:Mt[`b${Oe.id}`])==null?void 0:Sn.icon)||yr)}return{name:Kn,icon:yr}},Ts=Oe=>{if(!(Oe!=null&&Oe.id))return;const{name:Ge,icon:ut}=So(Oe);P[Oe.id]||(P[Oe.id]={name:Ge,icon:ut,damage:0,hits:0,downContribution:0}),P[Oe.id].name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(P[Oe.id].name=Ge),!P[Oe.id].icon&&ut&&(P[Oe.id].icon=ut),P[Oe.id].damage+=Oe.totalDamage,P[Oe.id].hits+=Oe.connectedHits,P[Oe.id].downContribution+=Number(Oe.downContribution||0)},sd=z.account||z.name||"Unknown",Os=z.profession||"Unknown",si=`${sd}|${Os}`;let li=U.get(si);li||(li={key:si,account:sd,displayName:sd,profession:Os,professionList:[Os],totalFightMs:0,skills:new Map},U.set(si,li)),li.professionList.includes(Os)||li.professionList.push(Os),li.totalFightMs+=Z.durationMS||0;const ci=Oe=>{if(!(Oe!=null&&Oe.id))return;const{name:Ge,icon:ut}=So(Oe),Mt=`s${Oe.id}`;let Sn=li.skills.get(Mt);Sn||(Sn={id:Mt,name:Ge,icon:ut,damage:0,downContribution:0},li.skills.set(Mt,Sn)),Sn.name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(Sn.name=Ge),!Sn.icon&&ut&&(Sn.icon=ut),Sn.damage+=Number(Oe.totalDamage||0),Sn.downContribution+=Number(Oe.downContribution||0)};if(p==="total")(Gt=z.totalDamageDist)==null||Gt.forEach(Oe=>{Oe==null||Oe.forEach(Ge=>{Ts(Ge),ci(Ge)})});else{const Oe=new Map;(ct=z.targetDamageDist)==null||ct.forEach(Ge=>{Ge==null||Ge.forEach(ut=>{ut==null||ut.forEach(Mt=>{const Sn=Number(Mt==null?void 0:Mt.id);if(Number.isFinite(Sn)){const Kn=Oe.get(Sn)||{damage:0,hits:0,downContribution:0};Kn.damage+=Number((Mt==null?void 0:Mt.totalDamage)||0),Kn.hits+=Number((Mt==null?void 0:Mt.connectedHits)||0),Kn.downContribution+=Number((Mt==null?void 0:Mt.downContribution)||0),Oe.set(Sn,Kn)}Ts(Mt),ci(Mt)})})}),!(Z!=null&&Z.detailedWvW)&&((tn=z.totalDamageDist)==null||tn.forEach(Ge=>{Ge==null||Ge.forEach(ut=>{const Mt=Number(ut==null?void 0:ut.id);if(!Number.isFinite(Mt))return;const Sn=Oe.get(Mt);if(!Sn){Ts(ut),ci(ut);return}const Kn=Number((ut==null?void 0:ut.totalDamage)||0),Cn=Number((ut==null?void 0:ut.connectedHits)||0),yr=Number((ut==null?void 0:ut.downContribution)||0),Zt=Kn-Number(Sn.damage||0),In=Cn-Number(Sn.hits||0),Mi=yr-Number(Sn.downContribution||0);if(Zt<=0&&In<=0&&Mi<=0)return;const Ds={...ut,totalDamage:Math.max(0,Zt),connectedHits:Math.max(0,In),downContribution:Math.max(0,Mi)};Ts(Ds),ci(Ds)})}))}z.totalDamageTaken&&z.totalDamageTaken.forEach(Oe=>{Oe==null||Oe.forEach(Ge=>{var ut,Mt,Sn,Kn;if(!(Ge!=null&&Ge.id))return;let Cn=`Skill ${Ge.id}`;const yr=((ut=Z.skillMap)==null?void 0:ut[`s${Ge.id}`])||((Mt=Z.skillMap)==null?void 0:Mt[`${Ge.id}`]);let Zt=yr==null?void 0:yr.icon;if(yr!=null&&yr.name&&(Cn=yr.name),Cn.startsWith("Skill ")){const In=Km(Cn,Ge.id,Z.buffMap);In&&(Cn=In,Zt=((Kn=(Sn=Z.buffMap)==null?void 0:Sn[`b${Ge.id}`])==null?void 0:Kn.icon)||Zt)}I[Ge.id]||(I[Ge.id]={name:Cn,icon:Zt,damage:0,hits:0}),(!I[Ge.id].name.startsWith("Skill ")||Cn.startsWith("Skill "))&&(I[Ge.id].name=Cn),!I[Ge.id].icon&&Zt&&(I[Ge.id].icon=Zt),I[Ge.id].damage+=Ge.totalDamage,I[Ge.id].hits+=Ge.hits})})}),Le.forEach(z=>{if(z!=null&&z.isFake)return;const oe=M((z==null?void 0:z.profession)||(z==null?void 0:z.name)||(z==null?void 0:z.id));oe&&(ce[oe]=(ce[oe]||0)+1)});const at=Kz({players:Ie,targets:Le,skillMap:Z.skillMap,buffMap:Z.buffMap,getPlayerKey:z=>z.account&&z.account!=="Unknown"?z.account:z.name||null}),qt=bO(Z.buffMap);Object.entries(at.playerConditions).forEach(([z,oe])=>{const je=L.get(z);je&&Object.entries(oe).forEach(([Ce,ve])=>{const $e=je.outgoingConditions[Ce]||{applications:0,damage:0,skills:{},icon:ve.icon};$e.applications+=Number(ve.applications||0),$e.damage+=Number(ve.damage||0),ve.applicationsFromBuffs&&($e.applicationsFromBuffs=($e.applicationsFromBuffs||0)+ve.applicationsFromBuffs),ve.applicationsFromBuffsActive&&($e.applicationsFromBuffsActive=($e.applicationsFromBuffsActive||0)+ve.applicationsFromBuffsActive),Object.entries(ve.skills||{}).forEach(([Qe,He])=>{const zt=$e.skills[Qe]||{name:He.name,hits:0,damage:0,icon:He.icon};zt.hits+=Number(He.hits||0),zt.damage+=Number(He.damage||0),!zt.icon&&He.icon&&(zt.icon=He.icon),$e.skills[Qe]=zt}),!$e.icon&&ve.icon&&($e.icon=ve.icon),je.outgoingConditions[Ce]=$e})}),Object.entries(at.summary).forEach(([z,oe])=>{const je=Y[z]||{name:oe.name||z,icon:oe.icon,applications:0,damage:0};je.applications+=Number(oe.applications||0),je.damage+=Number(oe.damage||0),oe.applicationsFromBuffs&&(je.applicationsFromBuffs=(je.applicationsFromBuffs||0)+oe.applicationsFromBuffs),oe.applicationsFromBuffsActive&&(je.applicationsFromBuffsActive=(je.applicationsFromBuffsActive||0)+oe.applicationsFromBuffsActive),!je.icon&&oe.icon&&(je.icon=oe.icon),Y[z]=je}),_e.forEach(z=>{const oe=z.account&&z.account!=="Unknown"?z.account:z.name||"Unknown",je=L.get(oe);!je||!z.totalDamageTaken||z.totalDamageTaken.forEach(Ce=>Ce==null?void 0:Ce.forEach(ve=>{var $e,Qe,He,zt,Yt,Vt;if(!(ve!=null&&ve.id))return;let lt=`Skill ${ve.id}`;const Gt=(($e=Z.skillMap)==null?void 0:$e[`s${ve.id}`])||((Qe=Z.skillMap)==null?void 0:Qe[`${ve.id}`]);Gt!=null&&Gt.name&&(lt=Gt.name);const ct=Km(lt,ve.id,Z.buffMap);if(!ct)return;const tn=(zt=(He=Z.buffMap)==null?void 0:He[`b${ve.id}`])==null?void 0:zt.name,Lt=qt.get(ct)||((Vt=(Yt=Z.buffMap)==null?void 0:Yt[`b${ve.id}`])==null?void 0:Vt.icon),jt=(Gt==null?void 0:Gt.icon)||Lt;lt.startsWith("Skill ")&&(tn||ct)&&(lt=tn||ct);const Te=Number(ve.hits??0),be=Number(ve.totalDamage??0),xt=ee[ct]||{name:ct,icon:Lt,applications:0,damage:0};xt.applications+=Number.isFinite(Te)?Te:0,xt.damage+=Number.isFinite(be)?be:0,!xt.icon&&Lt&&(xt.icon=Lt),ee[ct]=xt;const Ct=je.incomingConditions[ct]||{applications:0,damage:0,skills:{},icon:Lt};Ct.applications+=Number.isFinite(Te)?Te:0,Ct.damage+=Number.isFinite(be)?be:0;const Kt=Ct.skills[lt]||{name:lt,hits:0,damage:0,icon:jt};Kt.hits+=Number.isFinite(Te)?Te:0,Kt.damage+=Number.isFinite(be)?be:0,!Kt.icon&&jt&&(Kt.icon=jt),Ct.skills[lt]=Kt,!Ct.icon&&Lt&&(Ct.icon=Lt),je.incomingConditions[ct]=Ct}))});const xn=Z.player_damage_mitigation||Z.playerDamageMitigation,Dn=xn&&typeof xn=="object"&&Object.keys(xn).length>0;Dn&&Object.entries(xn).forEach(([z,oe])=>{if(!oe||typeof oe!="object")return;const je=J(z),Ce=_(V,je.account,je);Object.values(oe).forEach(ve=>{G((ve==null?void 0:ve.avoided_damage)??(ve==null?void 0:ve.avoidedDamage))<=0||ge(Ce.mitigationTotals,ve)})});const nr=Z.player_minion_damage_mitigation||Z.playerMinionDamageMitigation,bt=nr&&typeof nr=="object"&&Object.keys(nr).length>0;bt&&Object.entries(nr).forEach(([z,oe])=>{if(!oe||typeof oe!="object")return;const je=J(z);Object.entries(oe).forEach(([Ce,ve])=>{if(!ve||typeof ve!="object")return;const $e=`${je.account}::${Ce}`,Qe=ne(Q,$e,{...je,minion:String(Ce||"Unknown")});Object.values(ve).forEach(He=>{ge(Qe.mitigationTotals,He)})})}),(!Dn||!bt)&&(Dn||_e.forEach(z=>{const oe=(z==null?void 0:z.totalDamageTaken)||[];if(!Array.isArray(oe)||oe.length===0)return;const je=z.account||z.name||"Unknown",Ce={account:je,name:z.name||je,profession:M(z.profession||"Unknown")};_(V,je,Ce);const ve=Z.skillMap||{},$e=Z.buffMap||{},Qe=Array.isArray(oe)?oe[0]:null;if(Qe==null||Qe.forEach(He=>{if(!(He!=null&&He.id))return;const zt=G(He.blocked),Yt=G(He.evaded),Vt=G(He.glance??He.glanced),lt=G(He.missed),Gt=G(He.invulned),ct=G(He.interrupted),tn=G(He.hits??He.connectedHits),Lt=Number(He.id),jt=ae(Lt,ve,$e);if(On(gt,`${je}::${Lt}`,{totalHits:tn,blocked:zt,evaded:Yt,glanced:Vt,missed:lt,invulned:Gt,interrupted:ct}),je===le){const Te=W.get(Lt),be=F(Lt),xt=be.hasSkill?be.hits>0?be.avg:0:1,Ct=be.hasSkill?be.min||0:1,Kt=be.hits>0?Vt*xt/2+(zt+Yt+lt+Gt+ct)*xt:0,wn=be.hits>0?Vt*Ct/2+(zt+Yt+lt+Gt+ct)*Ct:0;Ke.push({logId:D.filePath||D.id||q,skillId:He.id,skillName:jt,blocked:zt,evaded:Yt,glanced:Vt,missed:lt,invulned:Gt,interrupted:ct,totalAvoids:zt+Yt+Vt+lt+Gt+ct,avg:xt,min:Ct,enemyHits:(Te==null?void 0:Te.connectedHits)??0,enemyTotalDmg:(Te==null?void 0:Te.totalDamage)??0,avoidDmg:Kt,avoidMinDmg:wn})}}),je===le){const He=(zt,Yt)=>{let Vt=0,lt=0,Gt=0;if(!Array.isArray(zt))return{total:Vt,minTotal:lt,hits:Gt};for(const ct of zt){if(!(ct!=null&&ct.id))continue;const tn=G(ct.blocked),Lt=G(ct.evaded),jt=G(ct.glance??ct.glanced),Te=G(ct.missed),be=G(ct.invulned),xt=G(ct.interrupted),Ct=ae(Number(ct.id),st,yt),Kt=Yt(Number(ct.id),Ct);(Kt.hits??0)>0&&(Vt+=jt*Kt.avg/2+(tn+Lt+Te+be+xt)*Kt.avg,lt+=jt*Kt.min/2+(tn+Lt+Te+be+xt)*Kt.min),Gt+=G(ct.hits??ct.connectedHits)}return{total:Vt,minTotal:lt,hits:Gt}};Fe.push({logId:D.filePath||D.id||q,variant:"current_global_name_taken0",...He(Qe,(zt,Yt)=>{const Vt=F(zt),lt=Vt.hasSkill?Vt.hits>0?Vt.avg:0:1,Gt=Vt.hasSkill?Vt.min||0:1;return{avg:lt,min:Gt,hits:Vt.hits}})})}}),bt||_e.forEach(z=>{const oe=(z==null?void 0:z.minions)||[];if(!Array.isArray(oe)||oe.length===0)return;const je=z.account||z.name||"Unknown",Ce={account:je,name:z.name||je,profession:M(z.profession||"Unknown")},ve=Z.skillMap||{},$e=Z.buffMap||{};oe.forEach(Qe=>{const He=(Qe==null?void 0:Qe.totalDamageTakenDist)||[];if(!Array.isArray(He)||He.length===0)return;let zt=String((Qe==null?void 0:Qe.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";zt.toUpperCase().includes("UNKNOWN")&&(zt="Unknown");const Yt=`${je}::${zt}`;ne(Q,Yt,{...Ce,minion:zt});const Vt=Array.isArray(He)?He[0]:null;if(Vt==null||Vt.forEach(lt=>{if(!(lt!=null&&lt.id))return;const Gt=G(lt.blocked),ct=G(lt.evaded),tn=G(lt.glance??lt.glanced),Lt=G(lt.missed),jt=G(lt.invulned),Te=G(lt.interrupted),be=G(lt.hits??lt.connectedHits),xt=Number(lt.id),Ct=ae(xt,ve,$e);if(On(Wt,`${Yt}::${xt}`,{totalHits:be,blocked:Gt,evaded:ct,glanced:tn,missed:Lt,invulned:jt,interrupted:Te}),je===le&&zt===xe){const Kt=W.get(xt),wn=F(xt),zr=wn.hasSkill?wn.hits>0?wn.avg:0:1,oa=wn.hasSkill?wn.min||0:1,Zr=wn.hits>0?tn*zr/2+(Gt+ct+Lt+jt+Te)*zr:0,Ai=wn.hits>0?tn*oa/2+(Gt+ct+Lt+jt+Te)*oa:0;Je.push({logId:D.filePath||D.id||q,skillId:lt.id,skillName:Ct,blocked:Gt,evaded:ct,glanced:tn,missed:Lt,invulned:jt,interrupted:Te,totalAvoids:Gt+ct+tn+Lt+jt+Te,avg:zr,min:oa,enemyHits:(Kt==null?void 0:Kt.connectedHits)??0,enemyTotalDmg:(Kt==null?void 0:Kt.totalDamage)??0,avoidDmg:Zr,avoidMinDmg:Ai})}}),je===le&&zt===xe){const lt=(Lt,jt)=>{let Te=0,be=0,xt=0;if(!Array.isArray(Lt))return{total:Te,minTotal:be,hits:xt};for(const Ct of Lt){if(!(Ct!=null&&Ct.id))continue;const Kt=G(Ct.blocked),wn=G(Ct.evaded),zr=G(Ct.glance??Ct.glanced),oa=G(Ct.missed),Zr=G(Ct.invulned),Ai=G(Ct.interrupted),Dc=ae(Number(Ct.id),st,yt),{avg:Ps,min:ko}=jt(Number(Ct.id),Dc);G(Ct.hits??Ct.connectedHits)>0&&(Te+=zr*Ps/2+(Kt+wn+oa+Zr+Ai)*Ps,be+=zr*ko/2+(Kt+wn+oa+Zr+Ai)*ko),xt+=G(Ct.hits??Ct.connectedHits)}return{total:Te,minTotal:be,hits:xt}},Gt=Array.isArray(He)?He[0]||[]:[],ct=Array.isArray(He)?He.flat():[],tn=Array.isArray(Qe==null?void 0:Qe.totalDamageTaken)?Qe.totalDamageTaken[0]||[]:[];ue.push({logId:D.filePath||D.id||q,variant:"current_global_name_dist0",...lt(Gt,(Lt,jt)=>{const Te=F(Lt),be=Te.hasSkill?Te.hits>0?Te.avg:0:1,xt=Te.hasSkill&&Te.min||0;return{avg:be,min:xt}})}),ue.push({logId:D.filePath||D.id||q,variant:"local_name_dist0",...lt(Gt,(Lt,jt)=>on(jt))}),ue.push({logId:D.filePath||D.id||q,variant:"local_id_dist0",...lt(Gt,Lt=>hn(Lt))}),ue.push({logId:D.filePath||D.id||q,variant:"global_name_alllists",...lt(ct,(Lt,jt)=>{const Te=F(Lt),be=Te.hasSkill?Te.hits>0?Te.avg:0:1,xt=Te.hasSkill&&Te.min||0;return{avg:be,min:xt}})}),ue.push({logId:D.filePath||D.id||q,variant:"global_name_taken0",...lt(tn,(Lt,jt)=>{const Te=F(Lt),be=Te.hasSkill?Te.hits>0?Te.avg:0:1,xt=Te.hasSkill&&Te.min||0;return{avg:be,min:xt}})})}})}))}),Je.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(Je),ue.length>0&&console.table(ue),console.groupEnd()),Ke.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(Ke),Fe.length>0&&console.table(Fe),console.groupEnd());const Wn=(D,q)=>{const te=new Map,we=Z=>{let Ie=te.get(Z);return Ie||(Ie=H(),te.set(Z,Ie)),Ie};q.forEach((Z,Ie)=>{const Le=Ie.lastIndexOf("::"),st=Le>-1?Ie.slice(0,Le):Ie,yt=Le>-1?Number(Ie.slice(Le+2)):Number.NaN,ht=Number.isFinite(yt)?F(yt):{hasSkill:!1,avg:0,min:0,hits:0};if(!ht.hasSkill||ht.hits<=0)return;const Bt=ht.avg,hn=ht.min,on=Z.glanced*Bt/2+(Z.blocked+Z.evaded+Z.missed+Z.invulned+Z.interrupted)*Bt,Ze=Z.glanced*hn/2+(Z.blocked+Z.evaded+Z.missed+Z.invulned+Z.interrupted)*hn;if(on<=0)return;const qe=we(st);qe.totalHits+=Z.totalHits,qe.blocked+=Z.blocked,qe.evaded+=Z.evaded,qe.glanced+=Z.glanced,qe.missed+=Z.missed,qe.invulned+=Z.invulned,qe.interrupted+=Z.interrupted,qe.totalMitigation+=on,qe.minMitigation+=Ze}),D.forEach((Z,Ie)=>{const Le=te.get(Ie)||H();Z.mitigationTotals.totalHits=Le.totalHits,Z.mitigationTotals.blocked=Le.blocked,Z.mitigationTotals.evaded=Le.evaded,Z.mitigationTotals.glanced=Le.glanced,Z.mitigationTotals.missed=Le.missed,Z.mitigationTotals.invulned=Le.invulned,Z.mitigationTotals.interrupted=Le.interrupted,Z.mitigationTotals.totalMitigation=Le.totalMitigation,Z.mitigationTotals.minMitigation=Le.minMitigation})};Wn(V,gt),Wn(Q,Wt);const he=h>0?Math.round(g/h):0,Pe=h>0?Math.round(b/h):0,Pt=w>0?(S/w).toFixed(2):S>0?"":"0.00",$t=C>0?(j/C).toFixed(2):j>0?"":"0.00",un=(D,q)=>{const te=D.filter(Ie=>Number.isFinite(Ie.value)&&(q?Ie.value>0:Ie.value>=0)).sort((Ie,Le)=>{const st=q?Le.value-Ie.value:Ie.value-Le.value;return st!==0?st:Ie.account.localeCompare(Le.account)});let we=null,Z=0;return te.map((Ie,Le)=>((we===null||Ie.value!==we)&&(Z=Le+1,we=Ie.value),{rank:Z,...Ie}))},jr=Array.from(L.values()).map(D=>{const q=Array.from(D.professions).filter(te=>te!=="Unknown");if(D.professionList=q,q.length>0){let te=q[0],we=D.professionTimeMs[te]||0;q.forEach(Z=>{const Ie=D.professionTimeMs[Z]||0;Ie>we&&(we=Ie,te=Z)}),D.profession=te}return{key:D.account,stat:D}}),Ca=D=>{const q=L.get(D.account);if(!q){const Z=D.professionList.length>0?D.professionList:D.profession?[D.profession]:[];return{...D,professionList:Z}}const te=q.professionList&&q.professionList.length>0?q.professionList:Array.from(q.professions||[]).filter(Z=>Z&&Z!=="Unknown"),we=q.profession||D.profession;return{...D,profession:we,professionList:te.length>0?te:we?[we]:[],activeMs:q.defenseActiveMs||q.totalFightMs||D.activeMs}},qn=Array.from(V.values()).map(Ca).filter(D=>R(D.mitigationTotals)).sort((D,q)=>D.account.localeCompare(q.account)),Ua=Array.from(Q.values()).map(Ca).filter(D=>D.mitigationTotals.totalMitigation>0).sort((D,q)=>{const te=D.account.localeCompare(q.account);return te!==0?te:String(D.minion||"").localeCompare(String(q.minion||""))}),Tr=(D,q)=>{switch(q){case"downContrib":return D.downContrib;case"barrier":return D.barrier;case"healing":return D.healing;case"dodges":return D.dodges;case"strips":return D.strips;case"cleanses":return D.cleanses;case"cc":return D.cc;case"stability":return D.stab;case"revives":return D.revives;case"dps":return D.dps;case"damage":return D.damage;case"participation":return D.logsJoined;case"closestToTag":return!D.isCommander&&D.distCount>0?D.totalDist/D.distCount:Number.POSITIVE_INFINITY;default:return 0}},yn=(D,q)=>un(jr.map(({stat:te})=>({account:te.account,profession:te.profession,professionList:te.professionList,value:Tr(te,D),count:te.logsJoined})),q),dn={downContrib:yn("downContrib",!0),barrier:yn("barrier",!0),healing:yn("healing",!0),dodges:yn("dodges",!0),strips:yn("strips",!0),cleanses:yn("cleanses",!0),cc:yn("cc",!0),stability:yn("stability",!0),revives:yn("revives",!0),participation:yn("participation",!0),dps:yn("dps",!0),damage:yn("damage",!0),closestToTag:yn("closestToTag",!1).filter(D=>Number.isFinite(D.value))},Xr={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},bn=D=>{const q=D==null?void 0:D[0];return{value:(q==null?void 0:q.value)??0,player:(q==null?void 0:q.account)??"-",count:(q==null?void 0:q.count)??0,profession:(q==null?void 0:q.profession)??"Unknown",professionList:(q==null?void 0:q.professionList)??[]}},Cr={maxDownContrib:bn([]),maxBarrier:bn([]),maxHealing:bn([]),maxDodges:bn([]),maxStrips:bn([]),maxCleanses:bn([]),maxCC:bn([]),maxStab:bn([]),closestToTag:bn([])},cr={},Vo=(D,q)=>{if(q==="closestToTag")return Tr(D,q);const te=Math.max(1,(D.totalFightMs||0)/1e3);return Tr(D,q)/te};Object.values(Xr).forEach(D=>{const q=D!=="closestToTag";cr[D]=un(jr.map(({stat:te})=>({account:te.account,profession:te.profession,professionList:te.professionList,value:Vo(te,D),count:te.logsJoined})),q)}),Cr.maxDownContrib=bn(cr.downContrib),Cr.maxBarrier=bn(cr.barrier),Cr.maxHealing=bn(cr.healing),Cr.maxDodges=bn(cr.dodges),Cr.maxStrips=bn(cr.strips),Cr.maxCleanses=bn(cr.cleanses),Cr.maxCC=bn(cr.cc),Cr.maxStab=bn(cr.stability),Cr.closestToTag=bn(cr.closestToTag);const Cl={maxDownContrib:bn(dn.downContrib),maxBarrier:bn(dn.barrier),maxHealing:bn(dn.healing),maxDodges:bn(dn.dodges),maxStrips:bn(dn.strips),maxCleanses:bn(dn.cleanses),maxCC:bn(dn.cc),maxStab:bn(dn.stability),closestToTag:bn(dn.closestToTag)};let Ms={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Es,Oc,Al=0;if(o!=null&&o.showMvp){const D={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},q=Ie=>{const Le=D[Ie];return Le?Number(s[Le]||0)>0:!1},te=[],we=Ie=>[...Ie||[]].filter(Le=>q(Le==null?void 0:Le.name)).sort((Le,st)=>st.ratio-Le.ratio||Le.rank-st.rank||Le.name.localeCompare(st.name)).slice(0,3),Z=Ie=>{var Le;if(!Ie)return;const st=we(Ie.contribs);return{...Ie,player:Ie.name,reason:((Le=st[0])==null?void 0:Le.name)||"Top Performance",topStats:st}};jr.forEach(({stat:Ie})=>{let Le=0;const st=[],yt=(ht,Bt,hn,on,Ze=!0)=>{var qe,ot;if(hn<=0)return;const At=((qe=Bt[0])==null?void 0:qe.value)||0;if(At&&Number.isFinite(ht)&&(Ze?ht>0:ht<Number.POSITIVE_INFINITY)){const Ht=Ze?ht/At:At/ht;Le+=Ht*hn;const pe=((ot=Bt.find(Ne=>Ne.account===Ie.account))==null?void 0:ot.rank)||0;st.push({name:on,ratio:Ht,val:ht.toLocaleString(),rank:pe})}};yt(Ie.downContrib,dn.downContrib,s.downContribution,"Down Contribution"),yt(Ie.healing,dn.healing,s.healing,"Healing"),yt(Ie.cleanses,dn.cleanses,s.cleanses,"Cleanses"),yt(Ie.strips,dn.strips,s.strips,"Strips"),yt(Ie.stab,dn.stability,s.stability,"Stability"),yt(Ie.cc,dn.cc,s.cc,"CC"),yt(Ie.revives,dn.revives,s.revives,"Revives"),yt(Tr(Ie,"closestToTag"),dn.closestToTag,s.distanceToTag,"Distance to Tag",!1),yt(Ie.logsJoined,dn.participation,s.participation,"Participation"),yt(Ie.dodges,dn.dodges,s.dodging,"Dodging"),yt(Ie.dps,dn.dps,s.dps,"DPS"),yt(Ie.damage,dn.damage,s.damage,"Damage"),te.push({...Ie,score:Le,contribs:st.filter(ht=>q(ht.name))})}),te.sort((Ie,Le)=>Le.score-Ie.score),te[0]&&te[0].score>0&&(Ms=Z(te[0])||Ms),Es=Z(te[1]),Oc=Z(te[2]),Al=te.length>0?te.reduce((Ie,Le)=>Ie+Le.score,0)/te.length:0}const Ml=Object.values(P).sort((D,q)=>q.damage-D.damage||q.hits-D.hits||String(D.name||"").localeCompare(String(q.name||""))).slice(0,25),K=Object.values(P).sort((D,q)=>q.downContribution-D.downContribution||q.hits-D.hits||String(D.name||"").localeCompare(String(q.name||""))).slice(0,25),fe=m==="downContribution"?K:Ml,De=Object.values(I).sort((D,q)=>q.damage-D.damage).slice(0,25),et=D=>{const q=String(D).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),te=q.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return te?`${te[1]} Borderlands`:q||"Unknown"},Tt=(D,q)=>et((D==null?void 0:D.zone)||(D==null?void 0:D.mapName)||(D==null?void 0:D.map)||(D==null?void 0:D.location)||(D==null?void 0:D.fightName)||(q==null?void 0:q.fightName)||(q==null?void 0:q.encounterName)||"Unknown"),Ot=(D,q)=>{const te=(q==null?void 0:q.permalink)||(D==null?void 0:D.permalink);if(typeof te=="string"&&te.trim().length>0)return te.trim();const we=D==null?void 0:D.uploadLinks;if(!Array.isArray(we))return"";for(const Z of we){if(typeof Z=="string"&&Z.trim().length>0)return Z.trim();if(Z&&typeof Z=="object"){const Ie=Z.permalink||Z.link||Z.url||Z.reportLink;if(typeof Ie=="string"&&Ie.trim().length>0)return Ie.trim()}}return""},rt={};i.forEach(D=>{const q=Tt(D==null?void 0:D.details,D);rt[q]=(rt[q]||0)+1});const fn=Object.entries(rt).map(([D,q])=>{const te=String(D).trim(),we=/eternal battlegrounds|^ebg$/i.test(te);let Z="#64748b";return we?Z="#ffffff":/red/i.test(te)?Z="#ef4444":/blue/i.test(te)?Z="#3b82f6":/green/i.test(te)&&(Z="#22c55e"),{name:D,value:q,color:Z}}).sort((D,q)=>q.value-D.value),{boonTables:jn}=Pz(i),Ar=i.map((D,q)=>{var te,we;const Z=((te=D.details)==null?void 0:te.players)||[];return{index:q+1,label:`Log ${q+1}`,timestamp:Ta(D.details,D),squadCount:Z.filter(Ie=>!Ie.notInSquad).length,friendlyCount:Z.length,enemies:((we=D.details)==null?void 0:we.targets).filter(Ie=>!Ie.isFake).length}}).sort((D,q)=>D.timestamp-q.timestamp),pn={};Array.from(L.values()).forEach(D=>{D.profession&&D.profession!=="Unknown"&&(pn[D.profession]=(pn[D.profession]||0)+1)});const Re=Object.entries(pn).map(([D,q])=>({name:D,value:q,color:ac(D)})).sort((D,q)=>q.value-D.value),mt={};Object.keys(ce).length===0&&i.forEach(D=>{var q,te;(te=(q=D.details)==null?void 0:q.targets)==null||te.forEach(we=>{if(we.isFake)return;const Z=we.profession&&we.profession!=="Unknown"?we.profession:we.name||we.id||"Unknown",Ie=M(Z);mt[Ie]=(mt[Ie]||0)+1})});const mn=Object.keys(ce).length>0?ce:mt,nn=Object.entries(mn).map(([D,q])=>({name:D,value:q,color:ac(D)})).sort((D,q)=>q.value-D.value),Hn=i.map((D,q)=>({log:D,originalIndex:q})).sort((D,q)=>Ta(D.log.details,D.log)-Ta(q.log.details,q.log)),Aa=Hn.map(({log:D},q)=>{const te=D.details;if(!te)return null;const we=te.players||[],Z=we.filter(me=>!me.notInSquad),Ie=we.filter(me=>me.notInSquad),Le=(te.targets||[]).filter(me=>!me.isFake),st=Z.reduce((me,_e)=>{var Me,vt;return me+(((vt=(Me=_e.dpsAll)==null?void 0:Me[0])==null?void 0:vt.damage)||0)},0),yt=Z.reduce((me,_e)=>{var Me,vt;return me+(((vt=(Me=_e.defenses)==null?void 0:Me[0])==null?void 0:vt.damageTaken)||0)},0),{enemyDeaths:ht,enemyDownsDeaths:Bt}=A(te),hn=T(te),on=Ta(te,D),Ze=Tt(te,D),qe=me=>{if(!me||typeof me!="object")return;const _e=me.teamID??me.teamId??me.team??me.teamColor??me.team_color;if(_e!=null)return _e;const Me=Object.keys(me).find(vt=>/^team/i.test(vt));return Me?me[Me]:void 0},ot=(me,_e)=>{const Me={};return me.forEach(vt=>{const tt=_e(vt),at=M(tt);at&&(Me[at]=(Me[at]||0)+1)}),Me},At=ot(Z,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)),Ht=ot(Ie,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)),pe=ot(Le,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)||(me==null?void 0:me.id)),Ne=new Set;Z.forEach(me=>{const _e=qe(me);_e!=null&&Ne.add(String(_e))});const ke=new Map;Le.forEach(me=>{if((me==null?void 0:me.enemyPlayer)===!1)return;const _e=qe(me);if(_e==null)return;const Me=String(_e);Ne.has(Me)||ke.set(Me,(ke.get(Me)||0)+1)});const Be=Array.from(ke.entries()).sort((me,_e)=>{const Me=_e[1]-me[1];return Me!==0?Me:me[0].localeCompare(_e[0],void 0,{numeric:!0})}).slice(0,3).map(([me,_e])=>({teamId:me,count:_e}));return{id:D.filePath||`fight-${q}`,label:D.encounterName||`Fight ${q+1}`,permalink:Ot(te,D),timestamp:on,mapName:Ze,duration:cm(te.durationMS),isWin:hn,squadCount:Z.length,allyCount:Ie.length,enemyCount:Le.length,teamBreakdown:Be,alliesDown:Z.reduce((me,_e)=>{var Me,vt;return me+(((vt=(Me=_e.defenses)==null?void 0:Me[0])==null?void 0:vt.downCount)||0)},0),alliesDead:Z.reduce((me,_e)=>{var Me,vt;return me+(((vt=(Me=_e.defenses)==null?void 0:Me[0])==null?void 0:vt.deadCount)||0)},0),alliesRevived:Z.reduce((me,_e)=>{var Me,vt;return Number(((vt=(Me=_e.statsAll)==null?void 0:Me[0])==null?void 0:vt.saved)||0)>0?me+1:me},0),rallies:0,enemyDeaths:ht,enemyDowns:Math.max(0,Bt-ht),totalOutgoingDamage:st,totalIncomingDamage:yt,incomingBarrierAbsorbed:Z.reduce((me,_e)=>{var Me,vt;return me+(((vt=(Me=_e.defenses)==null?void 0:Me[0])==null?void 0:vt.damageBarrier)||0)},0),outgoingBarrierAbsorbed:Z.reduce((me,_e)=>{var Me;const vt=(Me=_e.extBarrierStats)==null?void 0:Me.outgoingBarrier;if(!Array.isArray(vt))return me;let tt=0;return vt.forEach(at=>{if(Array.isArray(at)){at.forEach(qt=>{tt+=Number((qt==null?void 0:qt.barrier)||0)});return}tt+=Number((at==null?void 0:at.barrier)||0)}),me+tt},0),squadClassCountsFight:At,allyClassCountsFight:Ht,enemyClassCounts:pe}}).filter(Boolean),Qr=Hn.map(({log:D},q)=>{const te=D.details;if(!te)return null;const we=(Array.isArray(te.players)?te.players:[]).filter(z=>!z.notInSquad),Z=Array.isArray(te.targets)?te.targets:[],Ie=Ta(te,D),Le=Tt(te,D),st=Number(te.durationMS||0),{squadDownsDeaths:yt,enemyDownsDeaths:ht,squadDeaths:Bt,enemyDeaths:hn}=A(te),on=new Map,Ze=(z,oe,je)=>{const Ce=on.get(z)||{label:z,damage:0,hits:0};Ce.damage+=oe,Ce.hits+=je,on.set(z,Ce)};if(we.forEach(z=>{(Array.isArray(z==null?void 0:z.statsTargets)?z.statsTargets:[]).forEach((oe,je)=>{const Ce=Array.isArray(oe)?oe[0]:oe,ve=Number((Ce==null?void 0:Ce.damage)??(Ce==null?void 0:Ce.totalDmg)??(Ce==null?void 0:Ce.connectedDmg)??0),$e=Number((Ce==null?void 0:Ce.connectedHits)??(Ce==null?void 0:Ce.connectedDamageCount)??(Ce==null?void 0:Ce.hits)??0);if(ve<=0&&$e<=0)return;const Qe=Z[je];if(Qe!=null&&Qe.isFake)return;const He=(Qe==null?void 0:Qe.profession)||(Qe==null?void 0:Qe.name)||(Qe==null?void 0:Qe.id)||`Target ${je+1}`,zt=M(He);Ze(zt||String(He),ve,$e)})}),on.size===0){const z=new Map,oe=je=>{if(!Array.isArray(je)||je.length===0)return[];const Ce=je[0];if(Array.isArray(Ce)&&Array.isArray(Ce[0])){if(typeof Ce[0][0]=="number")return Ce;if(Array.isArray(Ce[0])&&typeof Ce[0][0]=="number")return je.map(ve=>Array.isArray(ve)?ve[0]||[]:[])}return[]};we.forEach(je=>{oe(je==null?void 0:je.targetDamage1S).forEach((Ce,ve)=>{if(!Array.isArray(Ce)||Ce.length===0)return;const $e=Ce.map(He=>Number(He)).filter(He=>Number.isFinite(He)&&He>=0);if($e.length===0)return;const Qe=Math.max(0,$e[$e.length-1]||0);Qe<=0||z.set(ve,(z.get(ve)||0)+Qe)})}),z.forEach((je,Ce)=>{if(je<=0)return;const ve=Z[Ce];if(ve!=null&&ve.isFake)return;const $e=(ve==null?void 0:ve.profession)||(ve==null?void 0:ve.name)||(ve==null?void 0:ve.id)||`Target ${Ce+1}`,Qe=M($e);Ze(Qe||String($e),je,0)})}if(on.size===0&&Z.forEach((z,oe)=>{if(z!=null&&z.isFake)return;const je=Array.isArray(z==null?void 0:z.totalDamageTaken)?z.totalDamageTaken:Array.isArray(z==null?void 0:z.totalDamageDist)?z.totalDamageDist:[];let Ce=0,ve=0;if(je.forEach(He=>{Ce+=Number((He==null?void 0:He.totalDamage)||(He==null?void 0:He.damage)||0),ve+=Number((He==null?void 0:He.connectedHits)||(He==null?void 0:He.hits)||0)}),Ce<=0&&Number((z==null?void 0:z.damageTaken)||0)>0&&(Ce=Number(z.damageTaken||0)),Ce<=0&&ve<=0)return;const $e=(z==null?void 0:z.profession)||(z==null?void 0:z.name)||(z==null?void 0:z.id)||`Target ${oe+1}`,Qe=M($e);Ze(Qe||String($e),Ce,ve)}),on.size===0){const z=new Map;Z.forEach((oe,je)=>{if(oe!=null&&oe.isFake)return;const Ce=(oe==null?void 0:oe.profession)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.id)||`Target ${je+1}`,ve=M(Ce)||String(Ce);z.set(ve,(z.get(ve)||0)+1)}),z.forEach((oe,je)=>{oe>0&&Ze(je,oe,0)})}const qe=Array.from(on.values()).sort((z,oe)=>oe.damage-z.damage||oe.hits-z.hits||z.label.localeCompare(oe.label)),ot=qe.reduce((z,oe)=>z+oe.damage,0),At=qe.map(z=>({label:z.label,damage:z.damage,hits:z.hits,share:ot>0?z.damage/ot:0})),Ht=Z.filter(z=>!(z!=null&&z.isFake)).length,pe=we.length,Ne=we.reduce((z,oe)=>{var je,Ce;return z+Number(((Ce=(je=oe==null?void 0:oe.dpsAll)==null?void 0:je[0])==null?void 0:Ce.damage)||0)},0),ke=we.reduce((z,oe)=>{var je,Ce;return z+Number(((Ce=(je=oe==null?void 0:oe.defenses)==null?void 0:je[0])==null?void 0:Ce.damageTaken)||0)},0),Be=we.reduce((z,oe)=>{var je,Ce;return z+Number(((Ce=(je=oe==null?void 0:oe.defenses)==null?void 0:je[0])==null?void 0:Ce.damageBarrier)||0)},0),me=we.reduce((z,oe)=>{var je;const Ce=(je=oe==null?void 0:oe.extBarrierStats)==null?void 0:je.outgoingBarrier;if(!Array.isArray(Ce))return z;let ve=0;return Ce.forEach($e=>{Array.isArray($e)?$e.forEach(Qe=>{ve+=Number((Qe==null?void 0:Qe.barrier)||0)}):ve+=Number(($e==null?void 0:$e.barrier)||0)}),z+ve},0),_e=we.reduce((z,oe)=>{var je,Ce;return Number(((Ce=(je=oe==null?void 0:oe.statsAll)==null?void 0:je[0])==null?void 0:Ce.saved)||0)>0?z+1:z},0),Me=we.reduce((z,oe)=>z+Number(q2(oe)||0),0),vt=we.reduce((z,oe)=>z+Number(H2(oe)||0),0),tt=we.reduce((z,oe)=>z+Number((oe==null?void 0:oe.stabGeneration)||0),0),at=we.reduce((z,oe)=>z+Number(Y2(oe)||0),0),qt=we.reduce((z,oe)=>z+Number(G2(oe)||0),0),xn=we.reduce((z,oe)=>z+Number(X2(oe)||0),0),Dn=we.reduce((z,oe)=>z+Number(K2(oe)||0),0),nr=Bt>0?hn/Bt:hn,bt=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:T(te)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:pe},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Ht},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:nr},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:hn},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,ht-hn)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Bt},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,yt-Bt)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Ne-ke},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Ne},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:ke},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:Me},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:vt},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:tt},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:at},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:qt},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Be},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:me},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:xn},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:Dn},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:_e}];return{id:D.filePath||D.id||`fight-${q+1}`,shortLabel:`F${q+1}`,fullLabel:`${Le||D.encounterName||"Unknown Map"}  ${cm(st)}`,mapName:Le,timestamp:Ie,duration:cm(st),isWin:T(te),targetFocus:At,squadMetrics:bt}}).filter(Boolean),Wo=Array.from(L.values()).map(D=>{const q=Object.entries(D.professionTimeMs||{}).map(([te,we])=>({profession:te,timeMs:Number(we||0)})).filter(te=>te.profession&&te.profession!=="Unknown"&&te.timeMs>0).sort((te,we)=>{const Z=we.timeMs-te.timeMs;return Z!==0?Z:te.profession.localeCompare(we.profession)});return{account:D.account||"Unknown",characterNames:Array.from(D.characterNames||[]).filter(Boolean).sort((te,we)=>te.localeCompare(we)),classTimes:q,combatTimeMs:Number(D.squadActiveMs||D.totalFightMs||0),squadTimeMs:(()=>{const te=Number(D.firstSeenFightTs||0),we=Number(D.lastSeenFightTs||0),Z=Math.max(0,Number(D.lastSeenFightDurationMs||0));return te>0&&we>0?Math.max(0,we+Z-te):Number(D.squadActiveMs||D.totalFightMs||0)})()}}).filter(D=>D.account&&D.account!=="Unknown").sort((D,q)=>{const te=q.squadTimeMs-D.squadTimeMs;return te!==0?te:String(D.account).localeCompare(String(q.account))}),od=i.map(D=>D).sort((D,q)=>Ta(D.details,D)-Ta(q.details,q)).map((D,q)=>{const te=D==null?void 0:D.details,we=Array.isArray(te==null?void 0:te.players)?te.players.filter(Le=>!(Le!=null&&Le.notInSquad)):[],Z=new Map;we.forEach(Le=>{const st=Number(Le==null?void 0:Le.group),yt=Number.isFinite(st)&&st>0?st:0;Z.has(yt)||Z.set(yt,{party:yt,players:[],classCounts:{}});const ht=M((Le==null?void 0:Le.profession)||(Le==null?void 0:Le.name)||"Unknown"),Bt=String((Le==null?void 0:Le.account)||"Unknown"),hn=String((Le==null?void 0:Le.name)||(Le==null?void 0:Le.character_name)||""),on=!!(Le!=null&&Le.hasCommanderTag),Ze=Z.get(yt);Ze.players.push({account:Bt,characterName:hn,profession:ht,isCommander:on}),Ze.classCounts[ht]=(Ze.classCounts[ht]||0)+1});const Ie=Array.from(Z.values()).map(Le=>({...Le,players:Le.players.sort((st,yt)=>{const ht=+!!yt.isCommander-+!!st.isCommander;if(ht!==0)return ht;const Bt=String(st.profession).localeCompare(String(yt.profession));return Bt!==0?Bt:String(st.account).localeCompare(String(yt.account))})})).sort((Le,st)=>Le.party===0&&st.party!==0?1:st.party===0&&Le.party!==0?-1:Le.party-st.party);return{id:String((D==null?void 0:D.filePath)||(D==null?void 0:D.id)||`fight-${q+1}`),label:`F${q+1}`,timestamp:Ta(te,D),mapName:Tt(te,D),duration:cm(Number((te==null?void 0:te.durationMS)||0)),parties:Ie}}),vy=(D,q)=>{const te=(q==null?void 0:q.skillMap)||{},we=(q==null?void 0:q.buffMap)||{};let Z=0,Ie="";const Le=ht=>{const Bt=Number(ht);if(!Number.isFinite(Bt))return String(ht||"Unknown Skill");const hn=(te==null?void 0:te[`s${Bt}`])||(te==null?void 0:te[`${Bt}`]);if(hn!=null&&hn.name)return String(hn.name);const on=(we==null?void 0:we[`b${Bt}`])||(we==null?void 0:we[`${Bt}`]);return on!=null&&on.name?String(on.name):`Skill ${Bt}`},st=ht=>{if(!ht||typeof ht!="object")return;const Bt=[Number(ht.max),Number(ht.maxDamage),Number(ht.maxHit)].filter(on=>Number.isFinite(on)),hn=Bt.length>0?Math.max(...Bt):0;hn>Z&&(Z=hn,Ie=Le(ht.id))};let yt=!1;return Array.isArray(D==null?void 0:D.targetDamageDist)&&D.targetDamageDist.forEach(ht=>{Array.isArray(ht)&&ht.forEach(Bt=>{Array.isArray(Bt)&&Bt.forEach(hn=>{yt=!0,st(hn)})})}),(!yt||Z<=0)&&Array.isArray(D==null?void 0:D.totalDamageDist)&&D.totalDamageDist.forEach(ht=>{Array.isArray(ht)&&ht.forEach(Bt=>st(Bt))}),{peak:Z,skillName:Ie||"Unknown Skill"}},by=(()=>{const D=Ze=>String(Ze||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),q=Ze=>D(Ze).toLowerCase().split(/[^a-z0-9]+/i).map(qe=>qe.trim()).filter(Boolean).map(qe=>qe.length>3&&qe.endsWith("s")?qe.slice(0,-1):qe),te=(Ze,qe)=>{const ot=D(Ze),At=D(qe);if(!At)return ot;if(!ot)return At;const Ht=q(ot),pe=q(At),Ne=new Set(Ht),ke=new Set(pe),Be=pe.length>0&&pe.every(_e=>Ne.has(_e)),me=Ht.length>0&&Ht.every(_e=>ke.has(_e));return Be||me?ot:`${ot} - ${At}`},we=[],Z=new Map,Ie=Ze=>{const qe=ke=>{if(!Array.isArray(ke)||ke.length===0)return[];const Be=[];for(let me=0;me<ke.length;me+=1){const _e=Number(ke[me]||0),Me=me>0?Number(ke[me-1]||0):0;Be.push(Math.max(0,_e-Me))}return Be},ot=ke=>{if(!Array.isArray(ke))return[];const Be=ke.reduce((_e,Me)=>Math.max(_e,Array.isArray(Me)?Me.length:0),0);if(Be<=0)return[];const me=new Array(Be).fill(0);return ke.forEach(_e=>{if(Array.isArray(_e))for(let Me=0;Me<Be;Me+=1)me[Me]+=Number(_e[Me]||0)}),me},At=ke=>Array.isArray(ke)?ke.map(Be=>Number(Be||0)):null,Ht=(ke=>{if(!Array.isArray(ke)||ke.length===0)return null;const Be=ke[0];if(!Array.isArray(Be))return null;if(Array.isArray(Be[0])&&Array.isArray(Be[0][0]))return ot(Be);if(Array.isArray(Be[0])&&!Array.isArray(Be[0][0])){const me=ke.map(_e=>At(Array.isArray(_e)?_e[0]:null)).filter(_e=>Array.isArray(_e)&&_e.length>0);if(me.length>0)return ot(me)}return null})(Ze==null?void 0:Ze.targetDamage1S),pe=Array.isArray(Ze==null?void 0:Ze.damage1S)&&Array.isArray(Ze.damage1S[0])?Ze.damage1S[0]:null,Ne=Ht||(Array.isArray(pe)?pe.map(ke=>Number(ke||0)):[]);return qe(Ne)},Le=(Ze,qe)=>{if(!Array.isArray(Ze)||Ze.length===0||qe<=0)return 0;let ot=0,At=0;for(let Ht=0;Ht<Ze.length;Ht+=1)ot+=Number(Ze[Ht]||0),Ht>=qe&&(ot-=Number(Ze[Ht-qe]||0)),Ht>=qe-1&&ot>At&&(At=ot);return Math.max(0,At)},st=(Ze,qe)=>{if(!Array.isArray(Ze)||Ze.length===0||qe<=0)return[];const ot=[];for(let At=0;At<Ze.length;At+=qe){const Ht=Math.min(At+qe,Ze.length),pe=Ze.slice(At,Ht).reduce((Ne,ke)=>Ne+Number(ke||0),0);ot.push(pe)}return ot},yt=(Ze,qe)=>{const ot=Number(Ze);if(!Number.isFinite(ot))return{name:String(Ze||"Unknown Skill"),icon:void 0};const At=(qe==null?void 0:qe.skillMap)||{},Ht=(qe==null?void 0:qe.buffMap)||{},pe=(At==null?void 0:At[`s${ot}`])||(At==null?void 0:At[`${ot}`]);if(pe!=null&&pe.name)return{name:String(pe.name),icon:pe==null?void 0:pe.icon};const Ne=(Ht==null?void 0:Ht[`b${ot}`])||(Ht==null?void 0:Ht[`${ot}`]);return Ne!=null&&Ne.name?{name:String(Ne.name),icon:Ne==null?void 0:Ne.icon}:{name:`Skill ${ot}`,icon:void 0}},ht=Ze=>Array.isArray(Ze)?Ze.map(qe=>Array.isArray(qe)?[Number(qe[0]),Number(qe[1])]:qe&&typeof qe=="object"?[Number(qe.time),Number(qe.value)]:null).filter(qe=>!!qe&&Number.isFinite(qe[0])&&qe[0]>=0):[],Bt=(Ze,qe,ot,At,Ht)=>{if(!Ze.length||At<=0)return[];const pe=Math.max(At*5e3,Ht||0),Ne=at=>at.reduce((qt,xn)=>xn>=0&&xn<=pe+2e3?qt+1:qt,0),ke=Ze.map(at=>Number(at||0)).filter(at=>Number.isFinite(at)&&at>=0);if(!ke.length)return[];const Be=[ke],me=ke.reduce((at,qt)=>Math.max(at,qt),0),_e=ke.reduce((at,qt)=>Math.min(at,qt),Number.POSITIVE_INFINITY);me>pe*20&&Be.push(ke.map(at=>at/1e3)),me<=pe*2&&_e>=0&&me>0&&me<Math.max(120,At*5+10)&&Be.push(ke.map(at=>at*1e3));let Me=ke,vt=0,tt=-1;return Be.forEach(at=>{const qt=at.reduce((Dn,nr)=>Math.min(Dn,nr),Number.POSITIVE_INFINITY),xn=new Set([0,...qe,...ot]);if(Number.isFinite(qt)&&pe>0&&qt>pe){const Dn=Math.floor(qt/pe)*pe;xn.add(Dn),xn.add(Math.max(0,Dn-pe))}xn.forEach(Dn=>{const nr=at.map(z=>z-Dn),bt=Ne(nr);bt>tt&&(tt=bt,vt=Dn,Me=at)})}),Me.map(at=>at-vt).filter(at=>Number.isFinite(at)&&at>=0)},hn=(Ze,qe,ot,At,Ht)=>{const pe=Bt(Ze,qe,ot,At,Ht);return Array.from(new Set(pe.map(Ne=>Math.floor(Ne/5e3)).filter(Ne=>Number.isFinite(Ne)&&Ne>=0&&Ne<At)))};i.map(Ze=>({log:Ze,ts:Ta(Ze==null?void 0:Ze.details,Ze)})).sort((Ze,qe)=>Ze.ts-qe.ts).forEach(({log:Ze},qe)=>{const ot=Ze==null?void 0:Ze.details;if(!ot)return;const At=D(ot.fightName||Ze.fightName||`Fight ${qe+1}`),Ht=Tt(ot,Ze),pe=te(At,String(Ht||"")),Ne={},ke=Array.isArray(ot.players)?ot.players:[],Be=ke.flatMap(tt=>{const at=tt==null?void 0:tt.combatReplayData;return Array.isArray(at)?at.map(qt=>Number(qt==null?void 0:qt.start)):[Number(at==null?void 0:at.start)]}).filter(tt=>Number.isFinite(tt)&&tt>=0);ke.forEach(tt=>{if(tt!=null&&tt.notInSquad)return;const at=String((tt==null?void 0:tt.account)||(tt==null?void 0:tt.name)||"Unknown"),qt=String((tt==null?void 0:tt.character_name)||(tt==null?void 0:tt.display_name)||(tt==null?void 0:tt.name)||""),xn=String((tt==null?void 0:tt.profession)||"Unknown"),Dn=`${at}|${xn}`,nr=vy(tt,ot),bt=Number(nr.peak||0),z=Ie(tt),oe=Number(Le(z,1)||0),je=Number(Le(z,5)||0),Ce=Number(Le(z,30)||0),ve=Math.max(0,Math.ceil(Number((ot==null?void 0:ot.durationMS)||0)/5e3)),$e=Math.max(0,Math.ceil(z.length/5)),Qe=Math.max(ve,$e),He=st(z,5),zt=Array.from({length:Qe},(Te,be)=>Number(He[be]||0)),Yt=new Map,Vt=Te=>{if(!Te||typeof Te!="object"||Te.indirectDamage)return;const be=Number(Te.totalDamage||0);if(!Number.isFinite(be)||be<=0)return;const xt=Number(Te.connectedHits||Te.hits||0),Ct=yt(Te.id,ot),Kt=Ct.name,wn=Yt.get(Kt)||{skillName:Kt,damage:0,hits:0,icon:Ct.icon};wn.damage+=be,wn.hits+=Number.isFinite(xt)?xt:0,!wn.icon&&Ct.icon&&(wn.icon=Ct.icon),Yt.set(Kt,wn)},lt=new Map;Array.isArray(tt==null?void 0:tt.targetDamageDist)&&tt.targetDamageDist.forEach(Te=>{Array.isArray(Te)&&Te.forEach(be=>{Array.isArray(be)&&be.forEach(xt=>{const Ct=Number(xt==null?void 0:xt.id),Kt=Number((xt==null?void 0:xt.totalDamage)||0);if(Number.isFinite(Ct)){const wn=lt.get(Ct)||{damage:0,hits:0};wn.damage+=Number.isFinite(Kt)?Kt:0,wn.hits+=Number((xt==null?void 0:xt.connectedHits)||(xt==null?void 0:xt.hits)||0),lt.set(Ct,wn)}Vt(xt)})})}),!(ot!=null&&ot.detailedWvW)&&Array.isArray(tt==null?void 0:tt.totalDamageDist)&&tt.totalDamageDist.forEach(Te=>{Array.isArray(Te)&&Te.forEach(be=>{const xt=Number(be==null?void 0:be.id);if(!Number.isFinite(xt)){Vt(be);return}const Ct=lt.get(xt);if(!Ct){Vt(be);return}const Kt=Number((be==null?void 0:be.totalDamage)||0),wn=Number((be==null?void 0:be.connectedHits)||(be==null?void 0:be.hits)||0),zr=Kt-Number(Ct.damage||0),oa=wn-Number(Ct.hits||0);zr<=0&&oa<=0||Vt({...be,totalDamage:Math.max(0,zr),connectedHits:Math.max(0,oa),hits:Math.max(0,oa)})})});const Gt=(()=>{const Te=tt==null?void 0:tt.combatReplayData;return Array.isArray(Te)?Te.filter(be=>be&&typeof be=="object"):Te&&typeof Te=="object"?[Te]:[]})(),ct=Gt.map(Te=>Number(Te==null?void 0:Te.start)).filter(Te=>Number.isFinite(Te)&&Te>=0),tn=Gt.flatMap(Te=>ht(Te==null?void 0:Te.down).map(([be])=>Number(be||0))),Lt=Gt.flatMap(Te=>ht(Te==null?void 0:Te.dead).map(([be])=>Number(be||0)));Ne[Dn]={hit:bt,burst1s:oe,burst5s:je,burst30s:Ce,skillName:nr.skillName,buckets5s:zt,downIndices5s:hn(tn,ct,Be,Qe,Number((ot==null?void 0:ot.durationMS)||0)),deathIndices5s:hn(Lt,ct,Be,Qe,Number((ot==null?void 0:ot.durationMS)||0)),skillRows:Array.from(Yt.values()).sort((Te,be)=>be.damage-Te.damage).slice(0,50)};const jt=Z.get(Dn)||{key:Dn,account:at,displayName:at,characterName:qt,profession:xn,professionList:[xn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};jt.logs+=1,jt.professionList.includes(xn)||jt.professionList.push(xn),!jt.characterName&&qt&&(jt.characterName=qt),bt>jt.peakHit&&(jt.peakHit=bt,jt.peakFightLabel=pe,jt.peakSkillName=nr.skillName),oe>jt.peak1s&&(jt.peak1s=oe),je>jt.peak5s&&(jt.peak5s=je),Ce>jt.peak30s&&(jt.peak30s=Ce),Z.set(Dn,jt)});const me=Object.values(Ne).reduce((tt,at)=>Math.max(tt,Number((at==null?void 0:at.hit)||0)),0),_e=Object.values(Ne).reduce((tt,at)=>Math.max(tt,Number((at==null?void 0:at.burst1s)||0)),0),Me=Object.values(Ne).reduce((tt,at)=>Math.max(tt,Number((at==null?void 0:at.burst5s)||0)),0),vt=Object.values(Ne).reduce((tt,at)=>Math.max(tt,Number((at==null?void 0:at.burst30s)||0)),0);we.push({id:Ze.filePath||Ze.id||`fight-${qe+1}`,shortLabel:`F${qe+1}`,fullLabel:pe,timestamp:Ta(ot,Ze),values:Ne,maxHit:me,max1s:_e,max5s:Me,max30s:vt})});const on=Array.from(Z.values()).sort((Ze,qe)=>qe.peakHit!==Ze.peakHit?qe.peakHit-Ze.peakHit:Ze.displayName.localeCompare(qe.displayName));return{fights:we,players:on}})(),xy=(()=>{const D=pe=>String(pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),q=pe=>D(pe).toLowerCase().split(/[^a-z0-9]+/i).map(Ne=>Ne.trim()).filter(Boolean).map(Ne=>Ne.length>3&&Ne.endsWith("s")?Ne.slice(0,-1):Ne),te=(pe,Ne)=>{const ke=D(pe),Be=D(Ne);if(!Be)return ke;if(!ke)return Be;const me=q(ke),_e=q(Be),Me=new Set(me),vt=new Set(_e),tt=_e.length>0&&_e.every(qt=>Me.has(qt)),at=me.length>0&&me.every(qt=>vt.has(qt));return tt||at?ke:`${ke} - ${Be}`},we=[],Z=new Map,Ie=(pe,Ne)=>{const ke=Number(pe);if(!Number.isFinite(ke))return{name:String(pe||"Unknown Skill"),icon:void 0};const Be=(Ne==null?void 0:Ne.skillMap)||{},me=(Ne==null?void 0:Ne.buffMap)||{},_e=(Be==null?void 0:Be[`s${ke}`])||(Be==null?void 0:Be[`${ke}`]);if(_e!=null&&_e.name)return{name:String(_e.name),icon:_e==null?void 0:_e.icon};const Me=(me==null?void 0:me[`b${ke}`])||(me==null?void 0:me[`${ke}`]);return Me!=null&&Me.name?{name:String(Me.name),icon:Me==null?void 0:Me.icon}:{name:`Skill ${ke}`,icon:void 0}},Le=(pe,Ne)=>{let ke=0,Be="";const me=_e=>{if(!_e||typeof _e!="object"||_e.indirectDamage)return;const Me=[Number(_e.max),Number(_e.maxDamage),Number(_e.maxHit)].filter(tt=>Number.isFinite(tt)),vt=Me.length>0?Math.max(...Me):0;vt>ke&&(ke=vt,Be=Ie(_e.id,Ne).name)};return Array.isArray(pe==null?void 0:pe.totalDamageDist)&&pe.totalDamageDist.forEach(_e=>{Array.isArray(_e)&&_e.forEach(Me=>me(Me))}),Array.isArray(pe==null?void 0:pe.targetDamageDist)&&pe.targetDamageDist.forEach(_e=>{Array.isArray(_e)&&_e.forEach(Me=>{Array.isArray(Me)&&Me.forEach(vt=>me(vt))})}),{peak:ke,skillName:Be||"Unknown Skill"}},st=pe=>{if(!Array.isArray(pe)||pe.length===0)return[];const Ne=[];for(let ke=0;ke<pe.length;ke+=1){const Be=Number(pe[ke]||0),me=ke>0?Number(pe[ke-1]||0):0;Ne.push(Math.max(0,Be-me))}return Ne},yt=pe=>{if(!Array.isArray(pe)||pe.length===0)return[];const Ne=pe.reduce((Be,me)=>Math.max(Be,Array.isArray(me)?me.length:0),0);if(Ne<=0)return[];const ke=new Array(Ne).fill(0);return pe.forEach(Be=>{if(Array.isArray(Be))for(let me=0;me<Ne;me+=1)ke[me]+=Number(Be[me]||0)}),ke},ht=pe=>{if(!Array.isArray(pe)||pe.length===0)return[];const Ne=pe[0];if(typeof Ne=="number")return pe.map(ke=>Number(ke||0));if(Array.isArray(Ne)&&Ne.length>0){if(typeof Ne[0]=="number")return Ne.map(ke=>Number(ke||0));if(Array.isArray(Ne[0])){const ke=Ne.map(Be=>Array.isArray(Be)?Be.map(me=>Number(me||0)):null).filter(Be=>Array.isArray(Be)&&Be.length>0);if(ke.length>0)return yt(ke)}}return[]},Bt=pe=>{const Ne=ht(pe==null?void 0:pe.powerDamage1S),ke=ht(pe==null?void 0:pe.damage1S),Be=Ne.length>0?Ne:ke;return st(Be)},hn=(pe,Ne)=>{const ke=pe==null?void 0:pe.targetPowerDamage1S;if(!Array.isArray(ke)||!Array.isArray(ke[Ne]))return[];const Be=ke[Ne];if(!Array.isArray(Be)||Be.length===0)return[];if(typeof Be[0]=="number")return Be.map(me=>Number(me||0));if(Array.isArray(Be[0])&&!Array.isArray(Be[0][0]))return Be[0].map(me=>Number(me||0));if(Array.isArray(Be[0])&&Array.isArray(Be[0][0])){const me=Be[0].map(_e=>Array.isArray(_e)?_e.map(Me=>Number(Me||0)):null).filter(_e=>Array.isArray(_e)&&_e.length>0);return yt(me)}return[]},on=(pe,Ne)=>{if(!Array.isArray(pe)||pe.length===0||Ne<=0)return 0;let ke=0,Be=0;for(let me=0;me<pe.length;me+=1)ke+=Number(pe[me]||0),me>=Ne&&(ke-=Number(pe[me-Ne]||0)),me>=Ne-1&&ke>Be&&(Be=ke);return Math.max(0,Be)},Ze=(pe,Ne)=>{if(!Array.isArray(pe)||pe.length===0||Ne<=0)return[];const ke=[];for(let Be=0;Be<pe.length;Be+=Ne){const me=Math.min(Be+Ne,pe.length),_e=pe.slice(Be,me).reduce((Me,vt)=>Me+Number(vt||0),0);ke.push(_e)}return ke},qe=pe=>Array.isArray(pe)?pe.map(Ne=>Array.isArray(Ne)?[Number(Ne[0]),Number(Ne[1])]:Ne&&typeof Ne=="object"?[Number(Ne.time),Number(Ne.value)]:null).filter(Ne=>!!Ne&&Number.isFinite(Ne[0])&&Ne[0]>=0):[],ot=(pe,Ne,ke,Be,me)=>{if(!pe.length||Be<=0)return[];const _e=Math.max(Be*5e3,me||0),Me=bt=>bt.reduce((z,oe)=>oe>=0&&oe<=_e+2e3?z+1:z,0),vt=pe.map(bt=>Number(bt||0)).filter(bt=>Number.isFinite(bt)&&bt>=0);if(!vt.length)return[];const tt=[vt],at=vt.reduce((bt,z)=>Math.max(bt,z),0),qt=vt.reduce((bt,z)=>Math.min(bt,z),Number.POSITIVE_INFINITY);at>_e*20&&tt.push(vt.map(bt=>bt/1e3)),at<=_e*2&&qt>=0&&at>0&&at<Math.max(120,Be*5+10)&&tt.push(vt.map(bt=>bt*1e3));let xn=vt,Dn=0,nr=-1;return tt.forEach(bt=>{const z=bt.reduce((je,Ce)=>Math.min(je,Ce),Number.POSITIVE_INFINITY),oe=new Set([0,...Ne,...ke]);if(Number.isFinite(z)&&_e>0&&z>_e){const je=Math.floor(z/_e)*_e;oe.add(je),oe.add(Math.max(0,je-_e))}oe.forEach(je=>{const Ce=bt.map($e=>$e-je),ve=Me(Ce);ve>nr&&(nr=ve,Dn=je,xn=bt)})}),xn.map(bt=>bt-Dn).filter(bt=>Number.isFinite(bt)&&bt>=0)},At=(pe,Ne,ke,Be,me)=>{const _e=ot(pe,Ne,ke,Be,me);return Array.from(new Set(_e.map(Me=>Math.floor(Me/5e3)).filter(Me=>Number.isFinite(Me)&&Me>=0&&Me<Be)))};i.map(pe=>({log:pe,ts:Ta(pe==null?void 0:pe.details,pe)})).sort((pe,Ne)=>pe.ts-Ne.ts).forEach(({log:pe},Ne)=>{const ke=pe==null?void 0:pe.details;if(!ke)return;const Be=D(ke.fightName||pe.fightName||`Fight ${Ne+1}`),me=Tt(ke,pe),_e=te(Be,String(me||"")),Me={},vt=(Array.isArray(ke.players)?ke.players:[]).filter(ve=>!(ve!=null&&ve.notInSquad)),tt=vt.flatMap(ve=>{const $e=ve==null?void 0:ve.combatReplayData;return Array.isArray($e)?$e.map(Qe=>Number(Qe==null?void 0:Qe.start)):[Number($e==null?void 0:$e.start)]}).filter(ve=>Number.isFinite(ve)&&ve>=0),at=vt.flatMap(ve=>{const $e=ve==null?void 0:ve.combatReplayData;return(Array.isArray($e)?$e:$e?[$e]:[]).flatMap(Qe=>qe(Qe==null?void 0:Qe.down).map(([He])=>Number(He||0)))}),qt=vt.flatMap(ve=>{const $e=ve==null?void 0:ve.combatReplayData;return(Array.isArray($e)?$e:$e?[$e]:[]).flatMap(Qe=>qe(Qe==null?void 0:Qe.dead).map(([He])=>Number(He||0)))}),xn=new Map,Dn=new Map,nr=new Map;(Array.isArray(ke.targets)?ke.targets:[]).forEach((ve,$e)=>{if(!ve||ve.isFake||!ve.enemyPlayer)return;const Qe=M((ve==null?void 0:ve.profession)||(ve==null?void 0:ve.name)||(ve==null?void 0:ve.id))||"Unknown";nr.set(Qe,(nr.get(Qe)||0)+1);const He=Dn.get(Qe)||new Map;Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(ct=>{Array.isArray(ct)&&ct.forEach(tn=>{if(!tn||typeof tn!="object"||tn.indirectDamage)return;const Lt=Number(tn.totalDamage||0);if(!Number.isFinite(Lt)||Lt<=0)return;const jt=Number(tn.connectedHits||tn.hits||0),Te=Ie(tn.id,ke),be=Te.name,xt=He.get(be)||{skillName:be,damage:0,hits:0,icon:Te.icon};xt.damage+=Lt,xt.hits+=Number.isFinite(jt)?jt:0,!xt.icon&&Te.icon&&(xt.icon=Te.icon),He.set(be,xt)})}),Dn.set(Qe,He);const zt=yt(vt.map(ct=>hn(ct,$e))),Yt=zt.length>0?st(zt):Bt(ve),Vt=Le(ve,ke);let lt=xn.get(Qe);lt||(lt={perSecond:[],hit:0,skillName:""},xn.set(Qe,lt)),Yt.length>lt.perSecond.length&&(lt.perSecond.length=Yt.length);for(let ct=0;ct<Yt.length;ct+=1)lt.perSecond[ct]=Number(lt.perSecond[ct]||0)+Number(Yt[ct]||0);const Gt=Number(Vt.peak||0);Gt>lt.hit&&(lt.hit=Gt,lt.skillName=Vt.skillName||"Unknown Skill")});const bt=Array.from(xn.values()).some(ve=>Array.isArray(ve.perSecond)&&ve.perSecond.some($e=>Number($e||0)>0));if(xn.size===0||!bt){const ve=yt(vt.map(Qe=>{const He=ht(Qe==null?void 0:Qe.powerDamageTaken1S);return st(He)})),$e=Array.from(nr.values()).reduce((Qe,He)=>Qe+Number(He||0),0);ve.length>0&&$e>0&&nr.forEach((Qe,He)=>{const zt=Number(Qe||0)/$e,Yt=ve.map(lt=>Number(lt||0)*zt),Vt=xn.get(He);xn.set(He,{perSecond:Yt,hit:Number((Vt==null?void 0:Vt.hit)||0),skillName:String((Vt==null?void 0:Vt.skillName)||"")})})}xn.forEach((ve,$e)=>{var Qe;const He=$e,zt=Number(ve.hit||0),Yt=Number(on(ve.perSecond,1)||0),Vt=Number(on(ve.perSecond,5)||0),lt=Number(on(ve.perSecond,30)||0),Gt=Math.max(0,Math.ceil(Number((ke==null?void 0:ke.durationMS)||0)/5e3)),ct=Math.max(0,Math.ceil(ve.perSecond.length/5)),tn=Math.max(Gt,ct),Lt=Ze(ve.perSecond,5),jt=Array.from({length:tn},(be,xt)=>Number(Lt[xt]||0));Me[He]={hit:zt,burst1s:Yt,burst5s:Vt,burst30s:lt,skillName:ve.skillName||"Unknown Skill",buckets5s:jt,downIndices5s:At(at,[],tt,tn,Number((ke==null?void 0:ke.durationMS)||0)),deathIndices5s:At(qt,[],tt,tn,Number((ke==null?void 0:ke.durationMS)||0)),skillRows:Array.from(((Qe=Dn.get($e))==null?void 0:Qe.values())||[]).sort((be,xt)=>xt.damage-be.damage).slice(0,50)};const Te=Z.get(He)||{key:He,account:$e,displayName:$e,characterName:"",profession:$e,professionList:[$e],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Te.logs+=1,zt>Te.peakHit&&(Te.peakHit=zt,Te.peakFightLabel=_e,Te.peakSkillName=ve.skillName||"Unknown Skill"),Yt>Te.peak1s&&(Te.peak1s=Yt),Vt>Te.peak5s&&(Te.peak5s=Vt),lt>Te.peak30s&&(Te.peak30s=lt),Z.set(He,Te)});const z=Object.values(Me).reduce((ve,$e)=>Math.max(ve,Number(($e==null?void 0:$e.hit)||0)),0),oe=Object.values(Me).reduce((ve,$e)=>Math.max(ve,Number(($e==null?void 0:$e.burst1s)||0)),0),je=Object.values(Me).reduce((ve,$e)=>Math.max(ve,Number(($e==null?void 0:$e.burst5s)||0)),0),Ce=Object.values(Me).reduce((ve,$e)=>Math.max(ve,Number(($e==null?void 0:$e.burst30s)||0)),0);we.push({id:pe.filePath||pe.id||`fight-${Ne+1}`,shortLabel:`F${Ne+1}`,fullLabel:_e,timestamp:Ta(ke,pe),values:Me,maxHit:z,max1s:oe,max5s:je,max30s:Ce})});const Ht=Array.from(Z.values()).sort((pe,Ne)=>Ne.peakHit!==pe.peakHit?Ne.peakHit-pe.peakHit:pe.displayName.localeCompare(Ne.displayName));return{fights:we,players:Ht}})(),wy=Array.from(B.entries()).map(([D,q])=>{const te=$.get(D)||{},we=Array.from(q.values()).map(Z=>{var Ie,Le;const st=Array.from(Z.professions||[]).filter(qe=>qe&&qe!=="Unknown");let yt=Z.profession||"Unknown";if(st.length>0){yt=st[0];let qe=((Ie=Z.professionTimeMs)==null?void 0:Ie[yt])||0;st.forEach(ot=>{var At;const Ht=((At=Z.professionTimeMs)==null?void 0:At[ot])||0;Ht>qe&&(qe=Ht,yt=ot)})}const ht=Z.durationMs||0,Bt=Z.totalMs/1e3,hn=ht>0?Z.totalMs/ht:0,on=((Le=L.get(Z.account))==null?void 0:Le.supportActiveMs)||ht,Ze=on>0?Z.uptimeMs/on:0;return{account:Z.account,profession:yt,professionList:st,total:Bt,perSecond:hn,uptimePerSecond:Ze,duration:ht/1e3}}).filter(Z=>Z.total>0||Z.perSecond>0);return{id:D,name:te.name||D,icon:te.icon,rows:we}}).filter(D=>D.rows.length>0),ky=Array.from(U.values()).map(D=>{const q=Array.from(D.skills.values()).sort((we,Z)=>Z.damage-we.damage),te=q.reduce((we,Z)=>(we[Z.id]=Z,we),{});return{key:D.key,account:D.account,displayName:D.displayName,profession:D.profession,professionList:D.professionList,totalFightMs:D.totalFightMs,skills:q,skillMap:te}}).sort((D,q)=>D.displayName.localeCompare(q.displayName));return{total:h,wins:y,losses:x,avgSquadSize:he,avgEnemies:Pe,squadKDR:Pt,enemyKDR:$t,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:j,totalEnemyDeaths:C,leaderboards:dn,...Cl,outgoingConditionSummary:Object.values(Y).sort((D,q)=>q.damage-D.damage),incomingConditionSummary:Object.values(ee).sort((D,q)=>q.damage-D.damage),outgoingConditionPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.outgoingConditions})),incomingConditionPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.incomingConditions})),topSkills:fe,topIncomingSkills:De,topSkillsByDamage:Ml,topSkillsByDownContribution:K,playerSkillBreakdowns:ky,topSkillsMetric:m,mapData:fn,timelineData:Ar,boonTables:jn,offensePlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,offenseTotals:D.offenseTotals,offenseRateWeights:D.offenseRateWeights,totalFightMs:D.totalFightMs})),defensePlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,defenseTotals:D.defenseTotals,activeMs:D.defenseActiveMs})),damageMitigationPlayers:qn,damageMitigationMinions:Ua,supportPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,supportTotals:D.supportTotals,activeMs:D.supportActiveMs})),healingPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,healingTotals:D.healingTotals,activeMs:D.healingActiveMs})),mvp:Ms,silver:Es,bronze:Oc,squadClassData:Re,enemyClassData:nn,fightBreakdown:Aa,fightDiffMode:Qr,attendanceData:Wo,squadCompByFight:od,spikeDamage:by,incomingStrikeDamage:xy,specialTables:wy,topStatsPerSecond:Cr,topStatsLeaderboardsPerSecond:cr,avgMvpScore:Al}})(),d=(()=>{const f=new Map,p=new Map,m=[],h=new Map,y=new Map;i.forEach(g=>{const b=g.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=Ta(b,g)||Date.now(),j={id:g.filePath||g.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(A=>{if(A.notInSquad)return;const T=A.account||A.name||"Unknown",L=A.profession||"Unknown",E=`${T}|${L}`;let P=p.get(E);P||(P={key:E,account:T,displayName:T,profession:L,professionList:[L],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(E,P)),P.logs++;const I=(Array.isArray(A.activeTimes)?A.activeTimes[0]:0)/1e3;P.totalActiveSeconds=(P.totalActiveSeconds||0)+I,j.playerActiveSeconds[E]=I,(A.rotation||[]).forEach(U=>{var Y,ee,ce;if(!(U!=null&&U.id))return;const $=((Y=U.skills)==null?void 0:Y.length)||0;if($<=0)return;const B=`s${U.id}`,re=((ee=w[B])==null?void 0:ee.name)||`Skill ${U.id}`,k=(ce=w[B])==null?void 0:ce.icon;P.skillTotals[B]=(P.skillTotals[B]||0)+$,f.set(B,(f.get(B)||0)+$),h.set(B,re),k&&!y.has(B)&&y.set(B,k),j.skillEntries[B]||(j.skillEntries[B]={name:re,icon:k,players:{}}),!j.skillEntries[B].icon&&k&&(j.skillEntries[B].icon=k),j.skillEntries[B].players[E]=(j.skillEntries[B].players[E]||0)+$})}),m.push(j)});const x=Array.from(f.entries()).map(([g,b])=>({id:g,name:h.get(g)||g,total:b,icon:y.get(g)})).sort((g,b)=>b.total-g.total);return{logRecords:m,players:Array.from(p.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:i,stats:c,skillUsageData:d}},Qz=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=v.useState({uploading:!1,message:null,url:null}),[c,d]=v.useState("idle"),f=()=>{const m=new Set;let h=null,y=null;e.forEach(A=>{const T=A.details;if(!T)return;const L=T.timeStartStd||T.timeStart||T.uploadTime||A.uploadTime,E=T.timeEndStd||T.timeEnd||T.uploadTime||A.uploadTime,P=L?new Date(L):null,I=E?new Date(E):null;P&&!Number.isNaN(P.getTime())&&(!h||P<h)&&(h=P),I&&!Number.isNaN(I.getTime())&&(!y||I>y)&&(y=I),(T.players||[]).forEach(U=>{if(!(U!=null&&U.notInSquad)&&U!=null&&U.hasCommanderTag){const Y=(U==null?void 0:U.name)||(U==null?void 0:U.account)||"Unknown";m.add(Y)}})});const x=Array.from(m).sort((A,T)=>A.localeCompare(T)),g=h||new Date,b=y||g,w=g.toISOString(),S=b.toISOString(),C=`${g.toLocaleString()} - ${b.toLocaleString()}`,j=A=>String(A).padStart(2,"0");return{id:`${g.getFullYear()}${j(g.getMonth()+1)}${j(g.getDate())}-${j(g.getHours())}${j(g.getMinutes())}${j(g.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:x.length?x.join(", "):"Unknown Commander",commanders:x,dateStart:w,dateEnd:S,dateLabel:C,generatedAt:new Date().toISOString()}},p=()=>{var m;const h={...t,skillUsageData:n,statsViewSettings:r,uiTheme:a};if(Array.isArray(h.fightDiffMode)&&h.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return h;try{const y=Ym({logs:e,statsViewSettings:r}),x=(m=y==null?void 0:y.stats)==null?void 0:m.fightDiffMode;if(Array.isArray(x)&&x.length>0)return{...h,fightDiffMode:x}}catch{}return h};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const m=f(),h=p();await o({meta:m,stats:h})}catch(m){console.error("[StatsView] Web upload failed:",m)}},handleDevMockUpload:async()=>{var m;if(!(i||!((m=window.electronAPI)!=null&&m.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const h=f(),y=p(),x=await window.electronAPI.mockWebReport({meta:h,stats:y});x!=null&&x.success?l({uploading:!1,message:"Local report ready.",url:x.url||null}):l({uploading:!1,message:(x==null?void 0:x.error)||"Local report failed.",url:null})}catch(h){l({uploading:!1,message:(h==null?void 0:h.message)||"Local report failed.",url:null})}}}}};function Zz(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const Jz=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function ll(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let xd=null;function xO(e={}){return xd||(e.includeStyleProperties?(xd=e.includeStyleProperties,xd):(xd=ll(window.getComputedStyle(document.documentElement)),xd))}function Oh(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function eU(e){const t=Oh(e,"border-left-width"),n=Oh(e,"border-right-width");return e.clientWidth+t+n}function tU(e){const t=Oh(e,"border-top-width"),n=Oh(e,"border-bottom-width");return e.clientHeight+t+n}function wO(e,t={}){const n=t.width||eU(e),r=t.height||tU(e);return{width:n,height:r}}function nU(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const di=16384;function rU(e){(e.width>di||e.height>di)&&(e.width>di&&e.height>di?e.width>e.height?(e.height*=di/e.width,e.width=di):(e.width*=di/e.height,e.height=di):e.width>di?(e.height*=di/e.width,e.width=di):(e.width*=di/e.height,e.height=di))}function Dh(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function aU(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function iU(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),aU(a)}const ei=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ei(n,t)};function oU(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function sU(e,t){return xO(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function lU(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?oU(n):sU(n,r);return document.createTextNode(`${a}{${i}}`)}function Z2(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=Jz();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(lU(o,n,a,r)),t.appendChild(s)}function cU(e,t,n){Z2(e,t,":before",n),Z2(e,t,":after",n)}const J2="application/font-woff",ej="image/jpeg",uU={woff:J2,woff2:J2,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ej,jpeg:ej,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function dU(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function j1(e){const t=dU(e).toLowerCase();return uU[t]||""}function fU(e){return e.split(/,/)[1]}function Yb(e){return e.search(/^(data:)/)!==-1}function pU(e,t){return`data:${t};base64,${e}`}async function kO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const Zy={};function mU(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function C1(e,t,n){const r=mU(e,t,n.includeQueryParams);if(Zy[r]!=null)return Zy[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await kO(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),fU(s)));a=pU(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return Zy[r]=a,a}async function hU(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Dh(t)}async function gU(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return Dh(s)}const n=e.poster,r=j1(n),a=await C1(n,r,t);return Dh(a)}async function yU(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await i0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function vU(e,t){return ei(e,HTMLCanvasElement)?hU(e):ei(e,HTMLVideoElement)?gU(e,t):ei(e,HTMLIFrameElement)?yU(e,t):e.cloneNode(SO(e))}const bU=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",SO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function xU(e,t,n){var r,a;if(SO(t))return t;let i=[];return bU(e)&&e.assignedNodes?i=ll(e.assignedNodes()):ei(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=ll(e.contentDocument.body.childNodes):i=ll(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||ei(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>i0(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function wU(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):xO(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),ei(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function kU(e,t){ei(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ei(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function SU(e,t){if(ei(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function NU(e,t,n){return ei(t,Element)&&(wU(e,t,n),cU(e,t,n),kU(e,t),SU(e,t)),t}async function jU(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await i0(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function i0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>vU(r,t)).then(r=>xU(e,r,t)).then(r=>NU(e,r,t)).then(r=>jU(r,t))}const NO=/url\((['"]?)([^'"]+?)\1\)/g,CU=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,AU=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function MU(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function EU(e){const t=[];return e.replace(NO,(n,r,a)=>(t.push(a),n)),t.filter(n=>!Yb(n))}async function PU(e,t,n,r,a){try{const i=n?Zz(t,n):t,o=j1(t);let s;return a||(s=await C1(i,o,r)),e.replace(MU(t),`$1${s}$3`)}catch{}return e}function TU(e,{preferredFontFormat:t}){return t?e.replace(AU,n=>{for(;;){const[r,,a]=CU.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function jO(e){return e.search(NO)!==-1}async function CO(e,t,n){if(!jO(e))return e;const r=TU(e,n);return EU(r).reduce((a,i)=>a.then(o=>PU(o,i,t,n)),Promise.resolve(r))}async function Uc(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await CO(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function OU(e,t){await Uc("background",e,t)||await Uc("background-image",e,t),await Uc("mask",e,t)||await Uc("-webkit-mask",e,t)||await Uc("mask-image",e,t)||await Uc("-webkit-mask-image",e,t)}async function DU(e,t){const n=ei(e,HTMLImageElement);if(!(n&&!Yb(e.src))&&!(ei(e,SVGImageElement)&&!Yb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await C1(r,j1(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(c){o(c)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function IU(e,t){const n=ll(e.childNodes).map(r=>AO(r,t));await Promise.all(n).then(()=>e)}async function AO(e,t){ei(e,Element)&&(await OU(e,t),await DU(e,t),await IU(e,t))}function _U(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const tj={};async function nj(e){let t=tj[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},tj[e]=t,t}async function rj(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),kO(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function aj(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function LU(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{ll(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,c=nj(l).then(d=>rj(d,t)).then(d=>aj(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(nj(a.href).then(s=>rj(s,t)).then(s=>aj(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{ll(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function FU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>jO(t.style.getPropertyValue("src")))}async function RU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=ll(e.ownerDocument.styleSheets),r=await LU(n,t);return FU(r)}function MO(e){return e.trim().replace(/["']/g,"")}function $U(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(MO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function BU(e,t){const n=await RU(e,t),r=$U(e);return(await Promise.all(n.filter(a=>r.has(MO(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return CO(a.cssText,i,t)}))).join(`
`)}async function zU(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await BU(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function UU(e,t={}){const{width:n,height:r}=wO(e,t),a=await i0(e,t,!0);return await zU(a,t),await AO(a,t),_U(a,t),await iU(a,n,r)}async function VU(e,t={}){const{width:n,height:r}=wO(e,t),a=await UU(e,t),i=await Dh(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||nU(),c=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=c*l,o.height=d*l,t.skipAutoScale||rU(o),o.style.width=`${c}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function WU(e,t={}){return(await VU(e,t)).toDataURL()}const qU=e=>{const[t,n]=v.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=c,globalThis.fetch=c;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],c=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const y=await c(h);if(!y)return;const x=p.src,g=p.srcset;p.src=y,p.srcset="",l.push(()=>{p.src=x,p.srcset=g});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let y=m,x=!1;for(const b of h){const w=b[1];if(!w)continue;const S=await c(w);S&&(y=y.replace(b[0],`url("${S}")`),x=!0)}if(!x)return;const g=p.style.backgroundImage;p.style.backgroundImage=y,l.push(()=>{p.style.backgroundImage=g})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const c=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>WU(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{c(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},HU=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.length>8,[o,s]=v.useState(()=>Ym(typeof Worker<"u"&&i?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[l,c]=v.useState(0),[d,f]=v.useState(0),[p,m]=v.useState(0),[h,y]=v.useState(0),[x,g]=v.useState(null),b=v.useRef(0),[w,S]=v.useState(0),C=v.useRef(null),j=v.useRef(null),[A,T]=v.useState(!1),L=v.useRef(null),E=v.useRef(""),P=v.useRef(void 0),I=v.useRef(""),U=v.useMemo(()=>{if(!r){E.current="",P.current=void 0;return}const $={...r};delete $.topSkillsMetric;const B=JSON.stringify($);return E.current!==B&&(E.current=B,P.current=$),P.current},[r]),Y=v.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}),[e,t,n,U,a]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!A&&i)return j.current||(j.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-rADSbIxs-gvfKRnUq.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),j.current.onmessage=$=>{var B;((B=$.data)==null?void 0:B.type)==="result"&&(s($.data.result),typeof $.data.computeId=="number"?c($.data.computeId):c(re=>re+1),typeof $.data.logCount=="number"&&f($.data.logCount),typeof $.data.token=="number"&&m($.data.token),typeof $.data.completedAt=="number"&&y($.data.completedAt),typeof $.data.flushId=="number"&&g($.data.flushId))},j.current.onerror=$=>{var B;console.warn("[StatsWorker] Worker error. Falling back to main thread.",$),(B=j.current)==null||B.terminate(),j.current=null,T(!0)},j.current.onmessageerror=$=>{var B;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",$),(B=j.current)==null||B.terminate(),j.current=null,T(!0)},C.current!==null&&j.current.postMessage({type:"flush",flushId:C.current})),()=>{var $;($=j.current)==null||$.terminate(),j.current=null}},[A,i]),v.useEffect(()=>{var $;if(!(!j.current||A||!i))try{b.current+=1,S(b.current),j.current.postMessage({type:"reset",token:b.current}),j.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}}),L.current&&(window.clearTimeout(L.current),L.current=null);let B=0;const re=()=>{if(!j.current)return;const k=5;for(let O=0;O<k&&B<e.length;O+=1,B+=1)j.current.postMessage({type:"log",payload:e[B]});B<e.length?L.current=window.setTimeout(re,0):(L.current=null,j.current.postMessage({type:"flush"}))};re()}catch(B){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",B),($=j.current)==null||$.terminate(),j.current=null,T(!0)}},[Y,e,t,n,U,a,i]);const ee=v.useMemo(()=>!A&&typeof Worker<"u"&&i?null:Ym({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}),[A,e,t,n,U,a,i]),ce=v.useMemo(()=>{if(!A&&typeof Worker<"u"&&i)return"worker";const $=e[0],B=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:($==null?void 0:$.filePath)||($==null?void 0:$.name)||"",lastLogPath:(B==null?void 0:B.filePath)||(B==null?void 0:B.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:a||null,settingsKey:E.current})},[A,i,e,t,a]);return v.useEffect(()=>{!A&&typeof Worker<"u"&&i||I.current!==ce&&(I.current=ce,c($=>$+1),f(e.length),m(b.current),y(Date.now()))},[ce,A,e.length,i]),{result:A||typeof Worker>"u"||!i?ee??Ym({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}):o,computeTick:l,lastComputedLogCount:d,lastComputedToken:p,activeToken:w,lastComputedAt:h,lastComputedFlushId:x,requestFlush:()=>{const $=Date.now();return C.current=$,j.current&&!A&&j.current.postMessage({type:"flush",flushId:$}),$}}},KU=e=>({apmSpecBuckets:v.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=az(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),c=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=c;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,C])=>{const j=Number(C);if(!Number.isFinite(j)||j<=0)return;const A=n.get(S),T=(A==null?void 0:A.name)||S,L=A==null?void 0:A.icon,E=a(T,S);d+=j,E&&(f+=j);let P=s.skillMap.get(S);P||(P={id:S,name:T,icon:L,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,P)),!P.icon&&L&&(P.icon=L),P.totalCasts+=j;const I=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;P.playerCounts.set(I,j)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=c/60,h=m>0?d/m:0,y=Math.max(0,d-f),x=m>0?y/m:0,g=c>0?d/c:0,b=c>0?y/c:0,w={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:c,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:x,aps:g,apsNoAuto:b};s.playerRows.push(w)}),t.forEach(i=>{i.playerRows.sort((c,d)=>d.apm-c.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(c=>{const d=i.playerRows.map(h=>{var y;const x=Number(((y=c.playerCounts)==null?void 0:y.get(h.key))||0);if(!Number.isFinite(x)||x<=0)return null;const g=Number(h.totalActiveSeconds||0),b=g>0?x/(g/60):0,w=g>0?x/g:0;return{...h,count:x,apm:b,aps:w}}).filter(Boolean).sort((h,y)=>y.apm-h.apm||String(h.displayName||"").localeCompare(String(y.displayName||""))),f=Number(c.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...c,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((c,d)=>d.totalCasts-c.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),YU=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const y=p.totalActiveSeconds||1;h=y>0?m/y:0}d.set(p.key,h)}),d},[e.players,t,r]),o=v.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const y={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let x=!1,g=!1;if(Object.entries(h.players).forEach(([b,w])=>{var S;if(n.size>0&&!n.has(b))return;let C=w;if(f){const j=((S=p.playerActiveSeconds)==null?void 0:S[b])||0;C=j>0?w/j:0}y[b]=C,C>d&&(d=C),x=!0,g=!0}),n.size>0){if(!g)return null}else if(!x)return null;return n.forEach(b=>{y[b]===void 0&&(y[b]=0)}),y}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),c=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function EO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=EO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=EO(e))&&(r&&(r+=" "),r+=t);return r}var GU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function A1(e){if(typeof e!="string")return!1;var t=GU;return t.includes(e)}var XU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QU=new Set(XU);function PO(e){return typeof e!="string"?!1:QU.has(e)}function TO(e){return typeof e=="string"&&e.startsWith("data-")}function Hi(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(PO(n)||TO(n))&&(t[n]=e[n]);return t}function Ou(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Hi(t)}return typeof e=="object"&&!Array.isArray(e)?Hi(e):null}function Fa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(PO(n)||TO(n)||A1(n))&&(t[n]=e[n]);return t}function ZU(e){return e==null?null:v.isValidElement(e)?Fa(e.props):typeof e=="object"&&!Array.isArray(e)?Fa(e):null}var JU=["children","width","height","viewBox","className","style","title","desc"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}function e8(e,t){if(e==null)return{};var n,r,a=t8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function t8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var M1=v.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:c}=e,d=e8(e,JU),f=i||{width:r,height:a,x:0,y:0},p=Nn("recharts-surface",o);return v.createElement("svg",Gb({},Fa(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),n8=["children","className"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}function r8(e,t){if(e==null)return{};var n,r,a=a8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ti=v.forwardRef((e,t)=>{var{children:n,className:r}=e,a=r8(e,n8),i=Nn("recharts-layer",r);return v.createElement("g",Xb({className:i},Fa(a),{ref:t}),n)}),OO=v.createContext(null),i8=()=>v.useContext(OO);function Qn(e){return function(){return e}}const DO=Math.cos,Ih=Math.sin,bo=Math.sqrt,_h=Math.PI,o0=2*_h,Qb=Math.PI,Zb=2*Qb,Bl=1e-6,o8=Zb-Bl;function IO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function s8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IO;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class l8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IO:s8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Bl)if(!(Math.abs(f*l-c*d)>Bl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,y=l*l+c*c,x=m*m+h*h,g=Math.sqrt(y),b=Math.sqrt(p),w=i*Math.tan((Qb-Math.acos((y+p-x)/(2*g*b)))/2),S=w/b,C=w/g;Math.abs(S-1)>Bl&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Bl||Math.abs(this._y1-d)>Bl)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%Zb+Zb),p>o8?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:p>Bl&&this._append`A${r},${r},0,${+(p>=Qb)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function E1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new l8(t)}function P1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _O(e){this._context=e}_O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function s0(e){return new _O(e)}function LO(e){return e[0]}function FO(e){return e[1]}function RO(e,t){var n=Qn(!0),r=null,a=s0,i=null,o=E1(s);e=typeof e=="function"?e:e===void 0?LO:Qn(e),t=typeof t=="function"?t:t===void 0?FO:Qn(t);function s(l){var c,d=(l=P1(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,c,l),+t(f,c,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Qn(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Qn(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qn(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function dm(e,t,n){var r=null,a=Qn(!0),i=null,o=s0,s=null,l=E1(c);e=typeof e=="function"?e:e===void 0?LO:Qn(+e),t=typeof t=="function"?t:Qn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?FO:Qn(+n);function c(f){var p,m,h,y=(f=P1(f)).length,x,g=!1,b,w=new Array(y),S=new Array(y);for(i==null&&(s=o(b=l())),p=0;p<=y;++p){if(!(p<y&&a(x=f[p],p,f))===g)if(g=!g)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(w[h],S[h]);s.lineEnd(),s.areaEnd()}g&&(w[p]=+e(x,p,f),S[p]=+t(x,p,f),s.point(r?+r(x,p,f):w[p],n?+n(x,p,f):S[p]))}if(b)return s=null,b+""||null}function d(){return RO().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Qn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Qn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Qn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Qn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Qn(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}class $O{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function c8(e){return new $O(e,!0)}function u8(e){return new $O(e,!1)}const T1={draw(e,t){const n=bo(t/_h);e.moveTo(n,0),e.arc(0,0,n,0,o0)}},d8={draw(e,t){const n=bo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},BO=bo(1/3),f8=BO*2,p8={draw(e,t){const n=bo(t/f8),r=n*BO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},m8={draw(e,t){const n=bo(t),r=-n/2;e.rect(r,r,n,n)}},h8=.8908130915292852,zO=Ih(_h/10)/Ih(7*_h/10),g8=Ih(o0/10)*zO,y8=-DO(o0/10)*zO,v8={draw(e,t){const n=bo(t*h8),r=g8*n,a=y8*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=o0*i/5,s=DO(o),l=Ih(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},Jy=bo(3),b8={draw(e,t){const n=-bo(t/(Jy*3));e.moveTo(0,n*2),e.lineTo(-Jy*n,-n),e.lineTo(Jy*n,-n),e.closePath()}},Ti=-.5,Oi=bo(3)/2,Jb=1/bo(12),x8=(Jb/2+1)*3,w8={draw(e,t){const n=bo(t/x8),r=n/2,a=n*Jb,i=r,o=n*Jb+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Ti*r-Oi*a,Oi*r+Ti*a),e.lineTo(Ti*i-Oi*o,Oi*i+Ti*o),e.lineTo(Ti*s-Oi*l,Oi*s+Ti*l),e.lineTo(Ti*r+Oi*a,Ti*a-Oi*r),e.lineTo(Ti*i+Oi*o,Ti*o-Oi*i),e.lineTo(Ti*s+Oi*l,Ti*l-Oi*s),e.closePath()}};function k8(e,t){let n=null,r=E1(a);e=typeof e=="function"?e:Qn(e||T1),t=typeof t=="function"?t:Qn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Qn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Qn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Lh(){}function Fh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function UO(e){this._context=e}UO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S8(e){return new UO(e)}function VO(e){this._context=e}VO.prototype={areaStart:Lh,areaEnd:Lh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N8(e){return new VO(e)}function WO(e){this._context=e}WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j8(e){return new WO(e)}function qO(e){this._context=e}qO.prototype={areaStart:Lh,areaEnd:Lh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function C8(e){return new qO(e)}function ij(e){return e<0?-1:1}function oj(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(ij(i)+ij(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function sj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ev(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Rh(e){this._context=e}Rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ev(this,this._t0,sj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ev(this,sj(this,n=oj(this,e,t)),n);break;default:ev(this,this._t0,n=oj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function HO(e){this._context=new KO(e)}(HO.prototype=Object.create(Rh.prototype)).point=function(e,t){Rh.prototype.point.call(this,t,e)};function KO(e){this._context=e}KO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function A8(e){return new Rh(e)}function M8(e){return new HO(e)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=lj(e),a=lj(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function lj(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function E8(e){return new YO(e)}function l0(e,t){this._context=e,this._t=t}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function P8(e){return new l0(e,.5)}function T8(e){return new l0(e,0)}function O8(e){return new l0(e,1)}function mc(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function ex(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function D8(e,t){return e[t]}function I8(e){const t=[];return t.key=e,t}function _8(){var e=Qn([]),t=ex,n=mc,r=D8;function a(i){var o=Array.from(e.apply(this,arguments),I8),s,l=o.length,c=-1,d;for(const f of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,i)]).data=f;for(s=0,d=P1(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Qn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Qn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?ex:typeof i=="function"?i:Qn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??mc,a):n},a}function L8(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}mc(e,t)}}function F8(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}mc(e,t)}}function R8(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var y=e[t[h]],x=y[r][1]||0,g=y[r-1][1]||0;m+=x-g}l+=f,c+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=c/l)}a[r-1][1]+=a[r-1][0]=n,mc(e,t)}}var c0={},GO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(GO);var O1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(O1);var u0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(u0);var d0={},XO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(XO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XO,n=u0;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",c="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];c?f==="\\"&&s+1<o?(s++,l+=a[s]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(d0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GO,n=O1,r=u0,a=d0;function i(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?c:d}}}function o(s,l,c){if(l.length===0)return c;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=i})(c0);var $8=c0.get;const hc=vo($8);var B8=4;function Js(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function xr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Js(s)+i:a+i},"")}var ka=e=>e===0?0:e>0?1:-1,Ro=e=>typeof e=="number"&&e!=+e,fs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,kt=e=>(typeof e=="number"||e instanceof Number)&&!Ro(e),$o=e=>kt(e)||typeof e=="string",z8=0,Af=e=>{var t=++z8;return"".concat(e||"").concat(t)},Vi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!kt(e)&&typeof e!="string")return n;var a;if(fs(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return Ro(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},QO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function wa(e,t,n){return kt(e)&&kt(t)?Js(e+n*(t-e)):t}function ZO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):hc(r,t))===n)}var qr=e=>e===null||typeof e>"u",rp=e=>qr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function U8(e){return e!=null}function ap(){}var V8=["type","size","sizeType"];function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tx.apply(null,arguments)}function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(r){W8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W8(e,t,n){return(t=q8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q8(e){var t=H8(e,"string");return typeof t=="symbol"?t:t+""}function H8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K8(e,t){if(e==null)return{};var n,r,a=Y8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Y8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JO={symbolCircle:T1,symbolCross:d8,symbolDiamond:p8,symbolSquare:m8,symbolStar:v8,symbolTriangle:b8,symbolWye:w8},G8=Math.PI/180,X8=e=>{var t="symbol".concat(rp(e));return JO[t]||T1},Q8=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*G8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Z8=(e,t)=>{JO["symbol".concat(rp(e))]=t},D1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=K8(e,V8),i=uj(uj({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=X8(o),m=k8().type(p).size(Q8(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:c,cy:d}=i,f=Fa(i);return kt(c)&&kt(d)&&kt(n)?v.createElement("path",tx({},f,{className:Nn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:s()})):null};D1.registerSymbol=Z8;var eD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,I1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{A1(a)&&(r[a]=i=>n[a](n,i))}),r},J8=(e,t,n)=>r=>(e(t,n,r),null),_1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];A1(a)&&typeof i=="function"&&(r||(r={}),r[a]=J8(i,t,n))}),r};function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function e7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(n),!0).forEach(function(r){t7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t7(e,t,n){return(t=n7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n7(e){var t=r7(e,"string");return typeof t=="symbol"?t:t+""}function r7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t){var n=e7({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(null,arguments)}function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function a7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(n),!0).forEach(function(r){i7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i7(e,t,n){return(t=o7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o7(e){var t=s7(e,"string");return typeof t=="symbol"?t:t+""}function s7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _i=32,l7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function c7(e){var{data:t,iconType:n,inactiveColor:r}=e,a=_i/2,i=_i/6,o=_i/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:_i,y2:a,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(_i,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(_i/8,"h").concat(_i,"v").concat(_i*3/4,"h").concat(-_i,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=a7({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(D1,{fill:s,cx:a,cy:a,size:_i,sizeType:"diameter",type:l})}function u7(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:_i,height:_i},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=Nn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,y=p?p(d.value,d,f):d.value;return v.createElement("li",$h({className:m,style:l,key:"legend-item-".concat(f)},_1(e,d,f)),v.createElement(M1,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(y," legend icon")},v.createElement(c7,{data:d,iconType:o,inactiveColor:i})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},y))})}var d7=e=>{var t=Hr(e,l7),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},v.createElement(u7,$h({},t,{payload:n})))},tD={},nD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(nD);var rD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(rD);var L1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(L1);var aD={},f0={},iD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(iD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iD;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(f0);var oD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(oD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0,n=oD;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(aD);var sD={},lD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c0;function n(r){return function(a){return t.get(a,r)}}e.property=n})(lD);var cD={},F1={},uD={},R1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(R1);var $1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})($1);var B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(B1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R1,n=$1,r=B1;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,y,x,g,b,w){const S=p(h,y,x,g,b,w);return S!==void 0?!!S:i(h,y,m,w)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return c(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<h.length;y++){const x=h[y];if(!n.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!p(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,y]of f.entries()){const x=d.get(h);if(p(x,y,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let y=0;y<f.length;y++){const x=f[y];let g=!1;for(let b=0;b<d.length;b++){if(h.has(b))continue;const w=d[b];let S=!1;if(p(w,x,y,d,f,m)&&(S=!0),S){h.add(b),g=!0;break}}if(!g)return!1}return!0}function c(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=c})(uD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uD;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(F1);var dD={},z1={},fD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(fD);var p0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(p0);var U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",y="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",j="[object Int16Array]",A="[object Int32Array]",T="[object BigInt64Array]",L="[object Float32Array]",E="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=y,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=L,e.float64ArrayTag=E,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=A,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(U1);var pD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(pD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fD,n=p0,r=U1,a=$1,i=pD;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const y=h==null?void 0:h(d,f,p,m);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[g,b]of d)x.set(g,s(b,g,p,m,h));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const g of d)x.add(s(g,void 0,p,m,h));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),l(x,d,p,m,h),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,p,m,h),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),l(x,d,p,m,h),x}return d}function l(d,f,p=d,m,h){const y=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<y.length;x++){const g=y[x],b=Object.getOwnPropertyDescriptor(d,g);(b==null||b.writable)&&(d[g]=s(f[g],g,p,m,h))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(z1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(dD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1,n=dD;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(cD);var mD={},hD={},gD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,n=p0,r=U1;function a(i,o){return t.cloneDeepWith(i,(s,l,c,d)=>{const f=o==null?void 0:o(s,l,c,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,c,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(gD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gD;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(hD);var yD={},V1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(V1);var vD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(vD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O1,n=V1,r=vD,a=d0;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(yD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1,n=u0,r=hD,a=c0,i=yD;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const d=a.get(c,s);return d===void 0?i.has(c,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(mD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L1,n=lD,r=cD,a=mD;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(sD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nD,n=rD,r=L1,a=aD,i=sD;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(tD);var f7=tD.uniqBy;const pj=vo(f7);function bD(e,t,n){return t===!0?pj(e,n):typeof t=="function"?pj(e,t):e}var xD={exports:{}},wD={},kD={exports:{}},SD={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Du=v;function p7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var m7=typeof Object.is=="function"?Object.is:p7,h7=Du.useState,g7=Du.useEffect,y7=Du.useLayoutEffect,v7=Du.useDebugValue;function b7(e,t){var n=t(),r=h7({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return y7(function(){a.value=n,a.getSnapshot=t,tv(a)&&i({inst:a})},[e,n,t]),g7(function(){return tv(a)&&i({inst:a}),e(function(){tv(a)&&i({inst:a})})},[e]),v7(n),n}function tv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!m7(e,n)}catch{return!0}}function x7(e,t){return t()}var w7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x7:b7;SD.useSyncExternalStore=Du.useSyncExternalStore!==void 0?Du.useSyncExternalStore:w7;kD.exports=SD;var k7=kD.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var m0=v,S7=k7;function N7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var j7=typeof Object.is=="function"?Object.is:N7,C7=S7.useSyncExternalStore,A7=m0.useRef,M7=m0.useEffect,E7=m0.useMemo,P7=m0.useDebugValue;wD.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=A7(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=E7(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,j7(d,m))return h;var y=r(m);return a!==void 0&&a(h,y)?(d=m,h):(d=m,f=y)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=C7(e,i[0],i[1]);return M7(function(){o.hasValue=!0,o.value=s},[s]),P7(s),s};xD.exports=wD;var T7=xD.exports,W1=v.createContext(null),O7=e=>e,Vn=()=>{var e=v.useContext(W1);return e?e.store.dispatch:O7},Gm=()=>{},D7=()=>Gm,I7=(e,t)=>e===t;function wt(e){var t=v.useContext(W1);return T7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:D7,t?t.store.getState:Gm,t?t.store.getState:Gm,t?e:Gm,I7)}function _7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function L7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function F7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var mj=e=>Array.isArray(e)?e:[e];function R7(e){const t=Array.isArray(e[0])?e[0]:e;return F7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $7(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var B7=class{constructor(e){this.value=e}deref(){return this.value}},z7=typeof WeakRef<"u"?WeakRef:B7,U7=0,hj=1;function fm(){return{s:U7,v:void 0,o:null,p:null}}function ND(e,t={}){let n=fm();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(h);x===void 0?(l=fm(),y.set(h,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(h);x===void 0?(l=fm(),y.set(h,l)):l=x}}const d=l;let f;if(l.s===hj)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new z7(f):f}return d.s=hj,d.v=f,f}return o.clearCache=()=>{n=fm(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function V7(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),_7(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=ND,argsMemoizeOptions:h=[]}=d,y=mj(p),x=mj(h),g=R7(a),b=f(function(){return i++,c.apply(null,arguments)},...y),w=m(function(){o++;const S=$7(g,arguments);return s=b.apply(null,S),s},...x);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var de=V7(ND),W7=Object.assign((e,t=de)=>{L7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>W7}),jD={},CD={},AD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(AD);var MD={},q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(q1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(MD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AD,n=MD,r=d0;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let h=p;for(let y=0;y<m.length&&h!=null;++y)h=h[m[y]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const y=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=a})(CD);var ED={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const d=s[c];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(ED);var H1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,n=f0,r=R1,a=B1;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(H1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CD,n=ED,r=H1;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(jD);var q7=jD.sortBy;const h0=vo(q7);var PD=e=>e.legend.settings,H7=e=>e.legend.size,K7=e=>e.legend.payload,Y7=de([K7,PD],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?h0(r,n):r});function G7(){return wt(Y7)}var pm=1;function TD(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>pm||Math.abs(o.left-t.left)>pm||Math.abs(o.top-t.top)>pm||Math.abs(o.width-t.width)>pm)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ca(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var X7=typeof Symbol=="function"&&Symbol.observable||"@@observable",gj=X7,nv=()=>Math.random().toString(36).substring(7).split("").join("."),Q7={INIT:`@@redux/INIT${nv()}`,REPLACE:`@@redux/REPLACE${nv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nv()}`},Bh=Q7;function K1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function OD(e,t,n){if(typeof e!="function")throw new Error(ca(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ca(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ca(1));return n(OD)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((y,x)=>{o.set(x,y)}))}function d(){if(l)throw new Error(ca(3));return a}function f(y){if(typeof y!="function")throw new Error(ca(4));if(l)throw new Error(ca(5));let x=!0;c();const g=s++;return o.set(g,y),function(){if(x){if(l)throw new Error(ca(6));x=!1,c(),o.delete(g),i=null}}}function p(y){if(!K1(y))throw new Error(ca(7));if(typeof y.type>"u")throw new Error(ca(8));if(typeof y.type!="string")throw new Error(ca(17));if(l)throw new Error(ca(9));try{l=!0,a=r(a,y)}finally{l=!1}return(i=o).forEach(x=>{x()}),y}function m(y){if(typeof y!="function")throw new Error(ca(10));r=y,p({type:Bh.REPLACE})}function h(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ca(11));function g(){const b=x;b.next&&b.next(d())}return g(),{unsubscribe:y(g)}},[gj](){return this}}}return p({type:Bh.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[gj]:h}}function Z7(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Bh.INIT})>"u")throw new Error(ca(12));if(typeof n(void 0,{type:Bh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ca(13))})}function DD(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{Z7(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(ca(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function zh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function J7(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(ca(15))};const o={getState:a.getState,dispatch:(l,...c)=>i(l,...c)},s=e.map(l=>l(o));return i=zh(...s)(a.dispatch),{...a,dispatch:i}}}function ID(e){return K1(e)&&"type"in e&&typeof e.type=="string"}var _D=Symbol.for("immer-nothing"),yj=Symbol.for("immer-draftable"),Ra=Symbol.for("immer-state");function ao(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vi=Object,Iu=vi.getPrototypeOf,Uh="constructor",g0="prototype",nx="configurable",Vh="enumerable",Xm="writable",Mf="value",ps=e=>!!e&&!!e[Ra];function mo(e){var t;return e?LD(e)||v0(e)||!!e[yj]||!!((t=e[Uh])!=null&&t[yj])||b0(e)||x0(e):!1}var eV=vi[g0][Uh].toString(),vj=new WeakMap;function LD(e){if(!e||!Y1(e))return!1;const t=Iu(e);if(t===null||t===vi[g0])return!0;const n=vi.hasOwnProperty.call(t,Uh)&&t[Uh];if(n===Object)return!0;if(!Yc(n))return!1;let r=vj.get(n);return r===void 0&&(r=Function.toString.call(n),vj.set(n,r)),r===eV}function y0(e,t,n=!0){ip(e)===0?(n?Reflect.ownKeys(e):vi.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function ip(e){const t=e[Ra];return t?t.type_:v0(e)?1:b0(e)?2:x0(e)?3:0}var bj=(e,t,n=ip(e))=>n===2?e.has(t):vi[g0].hasOwnProperty.call(e,t),rx=(e,t,n=ip(e))=>n===2?e.get(t):e[t],Wh=(e,t,n,r=ip(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function tV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var v0=Array.isArray,b0=e=>e instanceof Map,x0=e=>e instanceof Set,Y1=e=>typeof e=="object",Yc=e=>typeof e=="function",rv=e=>typeof e=="boolean";function nV(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Yo=e=>e.copy_||e.base_,G1=e=>e.modified_?e.copy_:e.base_;function ax(e,t){if(b0(e))return new Map(e);if(x0(e))return new Set(e);if(v0(e))return Array[g0].slice.call(e);const n=LD(e);if(t===!0||t==="class_only"&&!n){const r=vi.getOwnPropertyDescriptors(e);delete r[Ra];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[Xm]===!1&&(s[Xm]=!0,s[nx]=!0),(s.get||s.set)&&(r[o]={[nx]:!0,[Xm]:!0,[Vh]:s[Vh],[Mf]:e[o]})}return vi.create(Iu(e),r)}else{const r=Iu(e);if(r!==null&&n)return{...e};const a=vi.create(r);return vi.assign(a,e)}}function X1(e,t=!1){return w0(e)||ps(e)||!mo(e)||(ip(e)>1&&vi.defineProperties(e,{set:mm,add:mm,clear:mm,delete:mm}),vi.freeze(e),t&&y0(e,(n,r)=>{X1(r,!0)},!1)),e}function rV(){ao(2)}var mm={[Mf]:rV};function w0(e){return e===null||!Y1(e)?!0:vi.isFrozen(e)}var qh="MapSet",ix="Patches",xj="ArrayMethods",FD={};function gc(e){const t=FD[e];return t||ao(0,e),t}var wj=e=>!!FD[e],Ef,RD=()=>Ef,aV=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:wj(qh)?gc(qh):void 0,arrayMethodsPlugin_:wj(xj)?gc(xj):void 0});function kj(e,t){t&&(e.patchPlugin_=gc(ix),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ox(e){sx(e),e.drafts_.forEach(iV),e.drafts_=null}function sx(e){e===Ef&&(Ef=e.parent_)}var Sj=e=>Ef=aV(Ef,e);function iV(e){const t=e[Ra];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Nj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ra].modified_&&(ox(t),ao(4)),mo(e)&&(e=jj(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Ra].base_,e,t)}else e=jj(t,n);return oV(t,e,!0),ox(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_D?e:void 0}function jj(e,t){if(w0(t))return t;const n=t[Ra];if(!n)return Hh(t,e.handledSet_,e);if(!k0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);zD(n,e)}return n.copy_}function oV(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&X1(t,n)}function $D(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var k0=(e,t)=>e.scope_===t,sV=[];function BD(e,t,n,r){const a=Yo(e),i=e.type_;if(r!==void 0&&rx(a,r,i)===t){Wh(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;y0(a,(l,c)=>{if(ps(c)){const d=s.get(c)||[];d.push(l),s.set(c,d)}})}const o=e.draftLocations_.get(t)??sV;for(const s of o)Wh(a,s,n,i)}function lV(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!k0(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=G1(i);BD(e,i.draft_??i,o,n),zD(i,r)})}function zD(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}$D(e)}}function cV(e,t,n){const{scope_:r}=e;if(ps(n)){const a=n[Ra];k0(a,r)&&a.callbacks_.push(function(){Qm(e);const i=G1(a);BD(e,n,i,t)})}else mo(n)&&e.callbacks_.push(function(){const a=Yo(e);e.type_===3?a.has(n)&&Hh(n,r.handledSet_,r):rx(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Hh(rx(e.copy_,t,e.type_),r.handledSet_,r)})}function Hh(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ps(e)||t.has(e)||!mo(e)||w0(e)||(t.add(e),y0(e,(r,a)=>{if(ps(a)){const i=a[Ra];if(k0(i,n)){const o=G1(i);Wh(e,r,o,e.type_),$D(i)}}else mo(a)&&Hh(a,t,n)})),e}function uV(e,t){const n=v0(e),r={type_:n?1:0,scope_:t?t.scope_:RD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=Kh;n&&(a=[r],i=Pf);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var Kh={get(e,t){if(t===Ra)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Yo(e);if(!bj(a,t,e.type_))return dV(e,a,t);const i=a[t];if(e.finalized_||!mo(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&nV(t))return i;if(i===av(e.base_,t)){Qm(e);const o=e.type_===1?+t:t,s=cx(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in Yo(e)},ownKeys(e){return Reflect.ownKeys(Yo(e))},set(e,t,n){const r=UD(Yo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=av(Yo(e),t),i=a==null?void 0:a[Ra];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(tV(n,a)&&(n!==void 0||bj(e.base_,t,e.type_)))return!0;Qm(e),lx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),cV(e,t,n)),!0},deleteProperty(e,t){return Qm(e),av(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),lx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Yo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Xm]:!0,[nx]:e.type_!==1||t!=="length",[Vh]:r[Vh],[Mf]:n[t]}},defineProperty(){ao(11)},getPrototypeOf(e){return Iu(e.base_)},setPrototypeOf(){ao(12)}},Pf={};for(let e in Kh){let t=Kh[e];Pf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Pf.deleteProperty=function(e,t){return Pf.set.call(this,e,t,void 0)};Pf.set=function(e,t,n){return Kh.set.call(this,e[0],t,n,e[0])};function av(e,t){const n=e[Ra];return(n?Yo(n):e)[t]}function dV(e,t,n){var r;const a=UD(t,n);return a?Mf in a?a[Mf]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function UD(e,t){if(!(t in e))return;let n=Iu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Iu(n)}}function lx(e){e.modified_||(e.modified_=!0,e.parent_&&lx(e.parent_))}function Qm(e){e.copy_||(e.assigned_=new Map,e.copy_=ax(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var fV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(Yc(t)&&!Yc(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}Yc(n)||ao(6),r!==void 0&&!Yc(r)&&ao(7);let a;if(mo(t)){const i=Sj(this),o=cx(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?ox(i):sx(i)}return kj(i,r),Nj(a,i)}else if(!t||!Y1(t)){if(a=n(t),a===void 0&&(a=t),a===_D&&(a=void 0),this.autoFreeze_&&X1(a,!0),r){const i=[],o=[];gc(ix).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else ao(1,t)},this.produceWithPatches=(t,n)=>{if(Yc(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},rv(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),rv(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),rv(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){mo(e)||ao(8),ps(e)&&(e=co(e));const t=Sj(this),n=cx(t,e,void 0);return n[Ra].isManual_=!0,sx(t),n}finishDraft(e,t){const n=e&&e[Ra];(!n||!n.isManual_)&&ao(9);const{scope_:r}=n;return kj(r,t),Nj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=gc(ix).applyPatches_;return ps(e)?r(e,t):this.produce(e,a=>r(a,t))}};function cx(e,t,n,r){const[a,i]=b0(t)?gc(qh).proxyMap_(t,n):x0(t)?gc(qh).proxySet_(t,n):uV(t,n);return((n==null?void 0:n.scope_)??RD()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?lV(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function co(e){return ps(e)||ao(10,e),VD(e)}function VD(e){if(!mo(e)||w0(e))return e;const t=e[Ra];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ax(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ax(e,!0);return y0(n,(a,i)=>{Wh(n,a,VD(i))},r),t&&(t.finalized_=!1),n}var pV=new fV,WD=pV.produce;function qD(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var mV=qD(),hV=qD,gV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zh:zh.apply(null,arguments)};function Ki(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(xi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>ID(r)&&r.type===e,n}var HD=class Rd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Rd.prototype)}static get[Symbol.species](){return Rd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Rd(...t[0].concat(this)):new Rd(...t.concat(this))}};function Cj(e){return mo(e)?WD(e,()=>{}):e}function hm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function yV(e){return typeof e=="boolean"}var vV=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new HD;return t&&(yV(t)?i.push(mV):i.push(hV(t.extraArgument))),i},KD="RTK_autoBatch",ir=()=>e=>({payload:e,meta:{[KD]:!0}}),Aj=e=>t=>{setTimeout(t,e)},YD=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Aj(10):e.type==="callback"?e.queueNotification:Aj(e.timeout),c=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[KD]),i=!a,i&&(o||(o=!0,l(c))),r.dispatch(d)}finally{a=!0}}})},bV=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new HD(e);return n&&r.push(YD(typeof n=="object"?n:void 0)),r};function xV(e){const t=vV(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(K1(n))s=DD(n);else throw new Error(xi(1));let l;typeof r=="function"?l=r(t):l=t();let c=zh;a&&(c=gV({trace:!1,...typeof a=="object"&&a}));const d=J7(...l),f=bV(d);let p=typeof o=="function"?o(f):f();const m=c(...p);return OD(s,i,m)}function GD(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(xi(28));if(s in t)throw new Error(xi(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function wV(e){return typeof e=="function"}function kV(e,t){let[n,r,a]=GD(t),i;if(wV(e))i=()=>Cj(e());else{const s=Cj(e);i=()=>s}function o(s=i(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,f)=>{if(f)if(ps(d)){const p=f(d,l);return p===void 0?d:p}else{if(mo(d))return WD(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var SV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",NV=(e=21)=>{let t="",n=e;for(;n--;)t+=SV[Math.random()*64|0];return t},jV=Symbol.for("rtk-slice-createasyncthunk");function CV(e,t){return`${e}/${t}`}function AV({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[jV];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(xi(11));const o=(typeof r.reducers=="function"?r.reducers(EV()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,S){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(xi(12));if(C in l.sliceCaseReducersByType)throw new Error(xi(13));return l.sliceCaseReducersByType[C]=S,c},addMatcher(w,S){return l.sliceMatchers.push({matcher:w,reducer:S}),c},exposeAction(w,S){return l.actionCreators[w]=S,c},exposeCaseReducer(w,S){return l.sliceCaseReducersByName[w]=S,c}};s.forEach(w=>{const S=o[w],C={reducerName:w,type:CV(a,w),createNotation:typeof r.reducers=="function"};TV(S)?DV(C,S,c,n):PV(C,S,c)});function d(){const[w={},S=[],C=void 0]=typeof r.extraReducers=="function"?GD(r.extraReducers):[r.extraReducers],j={...w,...l.sliceCaseReducersByType};return kV(r.initialState,A=>{for(let T in j)A.addCase(T,j[T]);for(let T of l.sliceMatchers)A.addMatcher(T.matcher,T.reducer);for(let T of S)A.addMatcher(T.matcher,T.reducer);C&&A.addDefaultCase(C)})}const f=w=>w,p=new Map,m=new WeakMap;let h;function y(w,S){return h||(h=d()),h(w,S)}function x(){return h||(h=d()),h.getInitialState()}function g(w,S=!1){function C(A){let T=A[w];return typeof T>"u"&&S&&(T=hm(m,C,x)),T}function j(A=f){const T=hm(p,S,()=>new WeakMap);return hm(T,A,()=>{const L={};for(const[E,P]of Object.entries(r.selectors??{}))L[E]=MV(P,A,()=>hm(m,A,x),S);return L})}return{reducerPath:w,getSelectors:j,get selectors(){return j(C)},selectSlice:C}}const b={name:a,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...g(i),injectInto(w,{reducerPath:S,...C}={}){const j=S??i;return w.inject({reducerPath:j,reducer:y},C),{...b,...g(j,!0)}}};return b}}function MV(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var ai=AV();function EV(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function PV({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!OV(r))throw new Error(xi(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Ki(e,o):Ki(e))}function TV(e){return e._reducerDefinitionType==="asyncThunk"}function OV(e){return e._reducerDefinitionType==="reducerWithPrepare"}function DV({type:e,reducerName:t},n,r,a){if(!a)throw new Error(xi(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||gm,pending:s||gm,rejected:l||gm,settled:c||gm})}function gm(){}var IV="task",XD="listener",QD="completed",Q1="cancelled",_V=`task-${Q1}`,LV=`task-${QD}`,ux=`${XD}-${Q1}`,FV=`${XD}-${QD}`,S0=class{constructor(e){TN(this,"name","TaskAbortError"),TN(this,"message"),this.code=e,this.message=`${IV} ${Q1} (reason: ${e})`}},Z1=(e,t)=>{if(typeof e!="function")throw new TypeError(xi(32))},Yh=()=>{},ZD=(e,t=Yh)=>(e.catch(t),e),JD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ic=e=>{if(e.aborted)throw new S0(e.reason)};function e3(e,t){let n=Yh;return new Promise((r,a)=>{const i=()=>a(new S0(e.reason));if(e.aborted){i();return}n=JD(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Yh})}var RV=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof S0?"cancelled":"rejected",error:n}}finally{t==null||t()}},Gh=e=>t=>ZD(e3(e,t).then(n=>(ic(e),n))),t3=e=>{const t=Gh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:xu}=Object,Mj={},N0="listenerMiddleware",$V=(e,t)=>{const n=r=>JD(e,()=>r.abort(e.reason));return(r,a)=>{Z1(r);const i=new AbortController;n(i);const o=RV(async()=>{ic(e),ic(i.signal);const s=await r({pause:Gh(i.signal),delay:t3(i.signal),signal:i.signal});return ic(i.signal),s},()=>i.abort(LV));return a!=null&&a.autoJoin&&t.push(o.catch(Yh)),{result:Gh(e)(o),cancel(){i.abort(_V)}}}},BV=(e,t)=>{const n=async(r,a)=>{ic(t);let i=()=>{};const o=[new Promise((s,l)=>{let c=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{c(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await e3(t,Promise.race(o));return ic(t),s}finally{i()}};return(r,a)=>ZD(n(r,a))},n3=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=Ki(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(xi(21));return Z1(i),{predicate:a,type:t,effect:i}},r3=xu(e=>{const{type:t,predicate:n,effect:r}=n3(e);return{id:NV(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(xi(22))}}},{withTypes:()=>r3}),Ej=(e,t)=>{const{type:n,effect:r,predicate:a}=n3(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},dx=e=>{e.pending.forEach(t=>{t.abort(ux)})},zV=(e,t)=>()=>{for(const n of t.keys())dx(n);e.clear()},Pj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},a3=xu(Ki(`${N0}/add`),{withTypes:()=>a3}),UV=Ki(`${N0}/removeAll`),i3=xu(Ki(`${N0}/remove`),{withTypes:()=>i3}),VV=(...e)=>{console.error(`${N0}/error`,...e)},op=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=VV}=e;Z1(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&dx(p)}),l=p=>{const m=Ej(t,p)??r3(p);return s(m)};xu(l,{withTypes:()=>l});const c=p=>{const m=Ej(t,p);return m&&(m.unsubscribe(),p.cancelActive&&dx(m)),!!m};xu(c,{withTypes:()=>c});const d=async(p,m,h,y)=>{const x=new AbortController,g=BV(l,x.signal),b=[];try{p.pending.add(x),r(p),await Promise.resolve(p.effect(m,xu({},h,{getOriginalState:y,condition:(w,S)=>g(w,S).then(Boolean),take:g,delay:t3(x.signal),pause:Gh(x.signal),extra:i,signal:x.signal,fork:$V(x.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,S,C)=>{w!==x&&(w.abort(ux),C.delete(w))})},cancel:()=>{x.abort(ux),p.pending.delete(x)},throwIfCancelled:()=>{ic(x.signal)}})))}catch(w){w instanceof S0||Pj(o,w,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort(FV),a(p),p.pending.delete(x)}},f=zV(t,n);return{middleware:p=>m=>h=>{if(!ID(h))return m(h);if(a3.match(h))return l(h.payload);if(UV.match(h)){f();return}if(i3.match(h))return c(h.payload);let y=p.getState();const x=()=>{if(y===Mj)throw new Error(xi(23));return y};let g;try{if(g=m(h),t.size>0){const b=p.getState(),w=Array.from(t.values());for(const S of w){let C=!1;try{C=S.predicate(h,b,y)}catch(j){C=!1,Pj(o,j,{raisedBy:"predicate"})}C&&d(S,h,p,x)}}}finally{y=Mj}return g},startListening:l,stopListening:c,clearListeners:f}};function xi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WV={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},o3=ai({name:"chartLayout",initialState:WV,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:qV,setLayout:HV,setChartSize:KV,setScale:YV}=o3.actions,GV=o3.reducer;function s3(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Br(e){return Number.isFinite(e)}function Bo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){XV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XV(e,t,n){return(t=QV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QV(e){var t=ZV(e,"string");return typeof t=="symbol"?t:t+""}function ZV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function er(e,t,n){return qr(e)||qr(t)?n:$o(t)?hc(e,t,n):typeof t=="function"?t(e):n}var JV=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&kt(e[i]))return lu(lu({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&kt(e[o]))return lu(lu({},e),{},{[o]:e[o]+(a||0)})}return e},xl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",l3=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},c3=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(y=m==="angleAxis"&&i&&i.length>=2?ka(i[0]-i[1])*2*y:y,f||p){var x=(f||p||[]).map((g,b)=>{var w=r?r.indexOf(g):g;return{coordinate:o(w)+y,value:g,offset:y,index:b}});return x.filter(g=>!Ro(g.coordinate))}return l&&c?c.map((g,b)=>({coordinate:o(g)+y,value:g,index:b,offset:y})):o.ticks&&d!=null?o.ticks(d).map((g,b)=>({coordinate:o(g)+y,value:g,offset:y,index:b})):o.domain().map((g,b)=>({coordinate:o(g)+y,value:r?r[g]:g,index:b,offset:y}))},Oj=1e-4,e9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Oj,i=Math.max(r[0],r[1])+Oj,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},t9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],c=l==null?void 0:l[a];if(c!=null){var d=c[1],f=c[0],p=Ro(d)?f:d;p>=0?(c[0]=i,c[1]=i+p,i=d):(c[0]=o,c[1]=o+p,o=d)}}}},n9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var c=Ro(l[1])?l[0]:l[1];c>=0?(l[0]=i,l[1]=i+c,i=l[1]):(l[0]=0,l[1]=0)}}}},r9={sign:t9,expand:L8,none:mc,silhouette:F8,wiggle:R8,positive:n9},a9=(e,t,n)=>{var r,a=(r=r9[n])!==null&&r!==void 0?r:mc,i=_8().keys(t).value((s,l)=>Number(er(s,l,0))).order(ex).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((c,d)=>{var f=er(e[d],t[l],0);Array.isArray(f)&&f.length===2&&kt(f[0])&&kt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function Dj(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qr(a[t.dataKey])){var s=ZO(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=er(a,qr(o)?t.dataKey:o);return qr(l)?null:t.scale(l)}var i9=e=>{var t=e.flat(2).filter(kt);return[Math.min(...t),Math.max(...t)]},o9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],s9=(e,t,n)=>{if(e!=null)return o9(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,c)=>{var d=s3(c,t,n),f=i9(d);return!Br(f[0])||!Br(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},Ij=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_j=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fx=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=h0(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function Lj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return lu(lu({},t),{},{dataKey:n,payload:r,value:a,name:i})}function j0(e,t){if(e)return String(e);if(typeof t=="string")return t}var l9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},c9=(e,t)=>t==="centric"?e.angle:e.radius,xs=e=>e.layout.width,ws=e=>e.layout.height,u9=e=>e.layout.scale,u3=e=>e.layout.margin,C0=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),A0=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),d3="data-recharts-item-index",f3="data-recharts-item-id",sp=60;function Fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ym(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(n),!0).forEach(function(r){d9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d9(e,t,n){return(t=f9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f9(e){var t=p9(e,"string");return typeof t=="symbol"?t:t+""}function p9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m9=e=>e.brush.height;function h9(e){var t=A0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:sp;return n+a}return n},0)}function g9(e){var t=A0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:sp;return n+a}return n},0)}function y9(e){var t=C0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function v9(e){var t=C0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var aa=de([xs,ws,u3,m9,h9,g9,y9,v9,PD,H7],(e,t,n,r,a,i,o,s,l,c)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=ym(ym({},f),d),m=p.bottom;p.bottom+=r,p=JV(p,l,c);var h=e-p.left-p.right,y=t-p.top-p.bottom;return ym(ym({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(y,0)})}),b9=de(aa,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),p3=de(xs,ws,(e,t)=>({x:0,y:0,width:e,height:t})),x9=v.createContext(null),ii=()=>v.useContext(x9)!=null,M0=e=>e.brush,E0=de([M0,aa,u3],(e,t,n)=>({height:e.height,x:kt(e.x)?e.x:t.left,y:kt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:kt(e.width)?e.width:t.width})),m3={},h3={},g3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{c&&d(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{h(),o=void 0,s=null},x=()=>{d()},g=function(...b){if(a!=null&&a.aborted)return;o=this,s=b;const w=p==null;m(),l&&w&&d()};return g.schedule=m,g.cancel=y,g.flush=x,a==null||a.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(g3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g3;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let d,f=null;const p=t.debounce(function(...y){d=r.apply(this,y),f=null},a,{edges:c}),m=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,y),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,y),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(h3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h3;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(m3);var w9=m3.throttle;const k9=vo(w9);var Xh=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},y3=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=fs(r)?e:Number(r),l=fs(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},S9={width:0,height:0,overflow:"visible"},N9={width:0,overflowX:"visible"},j9={height:0,overflowY:"visible"},C9={},A9=e=>{var{width:t,height:n}=e,r=fs(t),a=fs(n);return r&&a?S9:r?N9:a?j9:C9};function M9(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},px.apply(null,arguments)}function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(n),!0).forEach(function(r){E9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E9(e,t,n){return(t=P9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P9(e){var t=T9(e,"string");return typeof t=="symbol"?t:t+""}function T9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v3=v.createContext({width:-1,height:-1});function O9(e){return Bo(e.width)&&Bo(e.height)}function b3(e){var{children:t,width:n,height:r}=e,a=v.useMemo(()=>({width:n,height:r}),[n,r]);return O9(a)?v.createElement(v3.Provider,{value:a},t):null}var J1=()=>v.useContext(v3),D9=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,y=v.useRef(null),x=v.useRef();x.current=m,v.useImperativeHandle(t,()=>y.current);var[g,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),w=v.useCallback((T,L)=>{b(E=>{var P=Math.round(T),I=Math.round(L);return E.containerWidth===P&&E.containerHeight===I?E:{containerWidth:P,containerHeight:I}})},[]);v.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return ap;var T=I=>{var U,{width:Y,height:ee}=I[0].contentRect;w(Y,ee),(U=x.current)===null||U===void 0||U.call(x,Y,ee)};d>0&&(T=k9(T,d,{trailing:!0,leading:!1}));var L=new ResizeObserver(T),{width:E,height:P}=y.current.getBoundingClientRect();return w(E,P),L.observe(y.current),()=>{L.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=g;Xh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:A}=y3(S,C,{width:a,height:i,aspect:n,maxHeight:l});return Xh(j!=null&&j>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,A,a,i,o,s,n),v.createElement("div",{id:f?"".concat(f):void 0,className:Nn("recharts-responsive-container",p),style:$j($j({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:y},v.createElement("div",{style:A9({width:a,height:i})},v.createElement(b3,{width:j,height:A},c)))}),yc=v.forwardRef((e,t)=>{var n=J1();if(Bo(n.width)&&Bo(n.height))return e.children;var{width:r,height:a}=M9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=y3(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return kt(i)&&kt(o)?v.createElement(b3,{width:i,height:o},e.children):v.createElement(D9,px({},e,{width:r,height:a,ref:t}))});function x3(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var P0=()=>{var e,t=ii(),n=wt(b9),r=wt(E0),a=(e=wt(M0))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},I9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},w3=()=>{var e;return(e=wt(aa))!==null&&e!==void 0?e:I9},ek=()=>wt(xs),tk=()=>wt(ws),_9=()=>wt(e=>e.layout.margin),Tn=e=>e.layout.layoutType,lp=()=>wt(Tn),L9=()=>{var e=lp();return e!==void 0},T0=e=>{var t=Vn(),n=ii(),{width:r,height:a}=e,i=J1(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),v.useEffect(()=>{!n&&Bo(o)&&Bo(s)&&t(KV({width:o,height:s}))},[t,n,o,s]),null},k3=Symbol.for("immer-nothing"),Bj=Symbol.for("immer-draftable"),Si=Symbol.for("immer-state");function io(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tf=Object.getPrototypeOf;function _u(e){return!!e&&!!e[Si]}function vc(e){var t;return e?S3(e)||Array.isArray(e)||!!e[Bj]||!!((t=e.constructor)!=null&&t[Bj])||cp(e)||D0(e):!1}var F9=Object.prototype.constructor.toString(),zj=new WeakMap;function S3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=zj.get(n);return r===void 0&&(r=Function.toString.call(n),zj.set(n,r)),r===F9}function Qh(e,t,n=!0){O0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function O0(e){const t=e[Si];return t?t.type_:Array.isArray(e)?1:cp(e)?2:D0(e)?3:0}function mx(e,t){return O0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function N3(e,t,n){const r=O0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function R9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cp(e){return e instanceof Map}function D0(e){return e instanceof Set}function zl(e){return e.copy_||e.base_}function hx(e,t){if(cp(e))return new Map(e);if(D0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=S3(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Si];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Tf(e),r)}else{const r=Tf(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function nk(e,t=!1){return I0(e)||_u(e)||!vc(e)||(O0(e)>1&&Object.defineProperties(e,{set:vm,add:vm,clear:vm,delete:vm}),Object.freeze(e),t&&Object.values(e).forEach(n=>nk(n,!0))),e}function $9(){io(2)}var vm={value:$9};function I0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var B9={};function bc(e){const t=B9[e];return t||io(0,e),t}var Of;function j3(){return Of}function z9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Uj(e,t){t&&(bc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function gx(e){yx(e),e.drafts_.forEach(U9),e.drafts_=null}function yx(e){e===Of&&(Of=e.parent_)}function Vj(e){return Of=z9(Of,e)}function U9(e){const t=e[Si];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Wj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Si].modified_&&(gx(t),io(4)),vc(e)&&(e=Zh(t,e),t.parent_||Jh(t,e)),t.patches_&&bc("Patches").generateReplacementPatches_(n[Si].base_,e,t.patches_,t.inversePatches_)):e=Zh(t,n,[]),gx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==k3?e:void 0}function Zh(e,t,n){if(I0(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Si];if(!a)return Qh(t,(i,o)=>qj(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Jh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),Qh(o,(l,c)=>qj(e,a,i,l,c,n,s),r),Jh(e,i,!1),n&&e.patches_&&bc("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function qj(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=I0(a);if(!(s&&!o)){if(_u(a)){const l=i&&t&&t.type_!==3&&!mx(t.assigned_,r)?i.concat(r):void 0,c=Zh(e,a,l);if(N3(n,r,c),_u(c))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(vc(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;Zh(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(cp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Jh(e,a)}}}function Jh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nk(t,n)}function V9(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:j3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=rk;n&&(a=[r],i=Df);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var rk={get(e,t){if(t===Si)return e;const n=zl(e);if(!mx(n,t))return W9(e,n,t);const r=n[t];return e.finalized_||!vc(r)?r:r===iv(e.base_,t)?(ov(e),e.copy_[t]=bx(r,e)):r},has(e,t){return t in zl(e)},ownKeys(e){return Reflect.ownKeys(zl(e))},set(e,t,n){const r=C3(zl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=iv(zl(e),t),i=a==null?void 0:a[Si];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(R9(n,a)&&(n!==void 0||mx(e.base_,t)))return!0;ov(e),vx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return iv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ov(e),vx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){io(11)},getPrototypeOf(e){return Tf(e.base_)},setPrototypeOf(){io(12)}},Df={};Qh(rk,(e,t)=>{Df[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Df.deleteProperty=function(e,t){return Df.set.call(this,e,t,void 0)};Df.set=function(e,t,n){return rk.set.call(this,e[0],t,n,e[0])};function iv(e,t){const n=e[Si];return(n?zl(n):e)[t]}function W9(e,t,n){var r;const a=C3(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function C3(e,t){if(!(t in e))return;let n=Tf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Tf(n)}}function vx(e){e.modified_||(e.modified_=!0,e.parent_&&vx(e.parent_))}function ov(e){e.copy_||(e.copy_=hx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var q9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}typeof n!="function"&&io(6),r!==void 0&&typeof r!="function"&&io(7);let a;if(vc(t)){const i=Vj(this),o=bx(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?gx(i):yx(i)}return Uj(i,r),Wj(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===k3&&(a=void 0),this.autoFreeze_&&nk(a,!0),r){const i=[],o=[];bc("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else io(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vc(e)||io(8),_u(e)&&(e=H9(e));const t=Vj(this),n=bx(e,void 0);return n[Si].isManual_=!0,yx(t),n}finishDraft(e,t){const n=e&&e[Si];(!n||!n.isManual_)&&io(9);const{scope_:r}=n;return Uj(r,t),Wj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=bc("Patches").applyPatches_;return _u(e)?r(e,t):this.produce(e,a=>r(a,t))}};function bx(e,t){const n=cp(e)?bc("MapSet").proxyMap_(e,t):D0(e)?bc("MapSet").proxySet_(e,t):V9(e,t);return(t?t.scope_:j3()).drafts_.push(n),n}function H9(e){return _u(e)||io(10,e),A3(e)}function A3(e){if(!vc(e)||I0(e))return e;const t=e[Si];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=hx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=hx(e,!0);return Qh(n,(a,i)=>{N3(n,a,A3(i))},r),t&&(t.finalized_=!1),n}var K9=new q9;K9.produce;var Y9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},M3=ai({name:"legend",initialState:Y9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ir()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=co(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:ir()},removeLegendPayload:{reducer(e,t){var n=co(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ir()}}}),{setLegendSize:Hj,setLegendSettings:G9,addLegendPayload:E3,replaceLegendPayload:P3,removeLegendPayload:T3}=M3.actions,X9=M3.reducer,Q9=["contextPayload"];function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xx.apply(null,arguments)}function Kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(n),!0).forEach(function(r){Z9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z9(e,t,n){return(t=J9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J9(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tW(e,t){if(e==null)return{};var n,r,a=nW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rW(e){return e.value}function aW(e){var{contextPayload:t}=e,n=tW(e,Q9),r=bD(t,e.payloadUniqBy,rW),a=Lu(Lu({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,a):typeof e.content=="function"?v.createElement(e.content,a):v.createElement(d7,a)}function iW(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-i.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Lu(Lu({},c),d)}function oW(e){var t=Vn();return v.useEffect(()=>{t(G9(e))},[t,e]),null}function sW(e){var t=Vn();return v.useEffect(()=>(t(Hj(e)),()=>{t(Hj({width:0,height:0}))}),[t,e]),null}function lW(e,t,n,r){return e==="vertical"&&kt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var cW={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function O3(e){var t=Hr(e,cW),n=G7(),r=i8(),a=_9(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[c,d]=TD([n]),f=ek(),p=tk();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=lW(t.layout,o,i,m),y=l?s:Lu(Lu({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},iW(s,t,a,f,p,c)),s),x=l??r;if(x==null||n==null)return null;var g=v.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},v.createElement(oW,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(sW,{width:c.width,height:c.height}),v.createElement(aW,xx({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return Yu.createPortal(g,x)}O3.displayName="Legend";function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wx.apply(null,arguments)}function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(n),!0).forEach(function(r){uW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uW(e,t,n){return(t=dW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dW(e){var t=fW(e,"string");return typeof t=="symbol"?t:t+""}function fW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pW(e){return Array.isArray(e)&&$o(e[0])&&$o(e[1])?e.join(" ~ "):e}var mW=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var C={padding:0,margin:0},j=(s?h0(i,s):i).map((A,T)=>{if(A.type==="none")return null;var L=A.formatter||o||pW,{value:E,name:P}=A,I=E,U=P;if(L){var Y=L(E,P,A,T,i);if(Array.isArray(Y))[I,U]=Y;else if(Y!=null)I=Y;else return null}var ee=sv({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:ee},$o(U)?v.createElement("span",{className:"recharts-tooltip-item-name"},U):null,$o(U)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},I),v.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},j)}return null},h=sv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=sv({margin:0},a),x=!qr(d),g=x?d:"",b=Nn("recharts-default-tooltip",l),w=Nn("recharts-tooltip-label",c);x&&f&&i!==void 0&&i!==null&&(g=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",wx({className:b,style:h},S),v.createElement("p",{className:w,style:y},v.isValidElement(g)?g:"".concat(g)),m())},wd="recharts-tooltip-wrapper",hW={visibility:"hidden"};function gW(e){var{coordinate:t,translateX:n,translateY:r}=e;return Nn(wd,{["".concat(wd,"-right")]:kt(n)&&t&&kt(t.x)&&n>=t.x,["".concat(wd,"-left")]:kt(n)&&t&&kt(t.x)&&n<t.x,["".concat(wd,"-bottom")]:kt(r)&&t&&kt(t.y)&&r>=t.y,["".concat(wd,"-top")]:kt(r)&&t&&kt(t.y)&&r<t.y})}function Gj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&kt(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(c==null)return 0;var y=f+s,x=p+c;return y>x?Math.max(d,p):Math.max(f,p)}function yW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function vW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,d,f;return o.height>0&&o.width>0&&n?(d=Gj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Gj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=yW({translateX:d,translateY:f,useTranslate3d:s})):c=hW,{cssProperties:c,cssClasses:gW({translateX:d,translateY:f,coordinate:n})}}function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(n),!0).forEach(function(r){kx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kx(e,t,n){return(t=bW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wW extends v.PureComponent{constructor(){super(...arguments),kx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),kx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:y,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:w}=vW({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),S=g?{}:bm(bm({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),C=bm(bm({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:x},i)}}var D3=()=>{var e;return(e=wt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sx.apply(null,arguments)}function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(r){kW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kW(e,t,n){return(t=SW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SW(e){var t=NW(e,"string");return typeof t=="symbol"?t:t+""}function NW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jj={curveBasisClosed:N8,curveBasisOpen:j8,curveBasis:S8,curveBumpX:c8,curveBumpY:u8,curveLinearClosed:C8,curveLinear:s0,curveMonotoneX:A8,curveMonotoneY:M8,curveNatural:E8,curveStep:P8,curveStepAfter:O8,curveStepBefore:T8},eg=e=>Br(e.x)&&Br(e.y),eC=e=>e.base!=null&&eg(e.base)&&eg(e),kd=e=>e.x,Sd=e=>e.y,jW=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(rp(e));return(n==="curveMonotone"||n==="curveBump")&&t?Jj["".concat(n).concat(t==="vertical"?"Y":"X")]:Jj[n]||s0},CW=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=jW(t,a),s=i?n.filter(eg):n,l;if(Array.isArray(r)){var c=n.map((m,h)=>Zj(Zj({},m),{},{base:r[h]}));a==="vertical"?l=dm().y(Sd).x1(kd).x0(m=>m.base.x):l=dm().x(kd).y1(Sd).y0(m=>m.base.y);var d=l.defined(eC).curve(o),f=i?c.filter(eC):c;return d(f)}a==="vertical"&&kt(r)?l=dm().y(Sd).x1(kd).x0(r):kt(r)?l=dm().x(kd).y1(Sd).y0(r):l=RO().x(kd).y(Sd);var p=l.defined(eg).curve(o);return p(s)},ak=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=lp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?CW(o):r;return v.createElement("path",Sx({},Hi(e),I1(e),{className:Nn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},AW=["x","y","top","left","width","height","className"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nx.apply(null,arguments)}function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function MW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(r){EW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EW(e,t,n){return(t=PW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PW(e){var t=TW(e,"string");return typeof t=="symbol"?t:t+""}function TW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OW(e,t){if(e==null)return{};var n,r,a=DW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IW=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),_W=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=OW(e,AW),c=MW({x:t,y:n,top:r,left:a,width:i,height:o},l);return!kt(t)||!kt(n)||!kt(i)||!kt(o)||!kt(r)||!kt(a)?null:v.createElement("path",Nx({},Fa(c),{className:Nn("recharts-cross",s),d:IW(t,n,i,o,r,a)}))};function LW(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(n),!0).forEach(function(r){FW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FW(e,t,n){return(t=RW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=$W(e,"string");return typeof t=="symbol"?t:t+""}function $W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),I3=(e,t,n)=>e.map(r=>"".concat(BW(r)," ").concat(t,"ms ").concat(n)).join(","),zW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),If=(e,t)=>Object.keys(t).reduce((n,r)=>rC(rC({},n),{},{[r]:e(r,t[r])}),{});function aC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(n),!0).forEach(function(r){UW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UW(e,t,n){return(t=VW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VW(e){var t=WW(e,"string");return typeof t=="symbol"?t:t+""}function WW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tg=(e,t,n)=>e+(t-e)*n,jx=e=>{var{from:t,to:n}=e;return t!==n},_3=(e,t,n)=>{var r=If((a,i)=>{if(jx(i)){var[o,s]=e(i.from,i.to,i.velocity);return Vr(Vr({},i),{},{from:o,velocity:s})}return i},t);return n<1?If((a,i)=>jx(i)&&r[a]!=null?Vr(Vr({},i),{},{velocity:tg(i.velocity,r[a].velocity,n),from:tg(i.from,r[a].from,n)}):i,t):_3(e,r,n-1)};function qW(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Vr(Vr({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>If((p,m)=>m.from,s),c=()=>!Object.values(s).filter(jx).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=_3(n,s,h),a(Vr(Vr(Vr({},e),t),l())),o=p,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function HW(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Vr(Vr({},f),{},{[p]:[m,h]})},{}),c,d=f=>{c||(c=f);var p=(f-c)/r,m=If((y,x)=>tg(...x,n(p)),l);if(i(Vr(Vr(Vr({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=If((y,x)=>tg(...x,n(1)),l);i(Vr(Vr(Vr({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const KW=(e,t,n,r,a,i)=>{var o=zW(e,t);return n==null?()=>(a(Vr(Vr({},e),t)),()=>{}):n.isStepper===!0?qW(e,t,n,o,a,i):HW(e,t,n,r,o,a,i)};var ng=1e-4,L3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],F3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),iC=(e,t)=>n=>{var r=L3(e,t);return F3(r,n)},YW=(e,t)=>n=>{var r=L3(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return F3(a,n)},GW=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},XW=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=GW(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},QW=(e,t,n,r)=>{var a=iC(e,n),i=iC(t,r),o=YW(e,n),s=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<ng||h<ng)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},oC=function(){return QW(...XW(...arguments))},ZW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,c=s*n,d=s+(l-c)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<ng&&Math.abs(d)<ng?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},JW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oC(e);case"spring":return ZW();default:if(e.split("(")[0]==="cubic-bezier")return oC(e)}return typeof e=="function"?e:null};function eq(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,c),l);return}i(l),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class tq{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function nq(){return eq(new tq)}var rq=v.createContext(nq);function aq(e,t){var n=v.useContext(rq);return v.useMemo(()=>t??n(e),[e,t,n])}var iq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_0={isSsr:iq()},oq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sC={t:0},lv={t:1};function L0(e){var t=Hr(e,oq),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,d=n==="auto"?!_0.isSsr:n,f=aq(t.animationId,t.animationManager),[p,m]=v.useState(d?sC:lv),h=v.useRef(null);return v.useEffect(()=>{d||m(lv)},[d]),v.useEffect(()=>{if(!d||!r)return ap;var y=KW(sC,lv,JW(i),a,m,f.getTimeoutController()),x=()=>{h.current=y()};return f.start([l,o,x,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),c(p.t)}function F0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Af(t)),r=v.useRef(e);return r.current!==e&&(n.current=Af(t),r.current=e),n.current}var sq=["radius"],lq=["radius"],lC,cC,uC,dC,fC,pC,mC,hC,gC,yC;function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){cq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cq(e,t,n){return(t=uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uq(e){var t=dq(e,"string");return typeof t=="symbol"?t:t+""}function dq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rg.apply(null,arguments)}function xC(e,t){if(e==null)return{};var n,r,a=fq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Co(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wC=(e,t,n,r,a)=>{var i=Js(n),o=Js(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,c=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=xr(lC||(lC=Co(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=xr(cC||(cC=Co(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+c*p[0],t)),f+=xr(uC||(uC=Co(["L ",",",""])),e+n-c*p[1],t),p[1]>0&&(f+=xr(dC||(dC=Co(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=xr(fC||(fC=Co(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=xr(pC||(pC=Co(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-c*p[2],t+r)),f+=xr(mC||(mC=Co(["L ",",",""])),e+c*p[3],t+r),p[3]>0&&(f+=xr(hC||(hC=Co(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);f=xr(gC||(gC=Co(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*y,y,y,d,e+c*y,t,e+n-c*y,t,y,y,d,e+n,t+l*y,e+n,t+r-l*y,y,y,d,e+n-c*y,t+r,e+c*y,t+r,y,y,d,e,t+r-l*y)}else f=xr(yC||(yC=Co(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},kC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},R3=e=>{var t=Hr(e,kC),n=v.useRef(null),[r,a]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&a($)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:y}=t,x=v.useRef(s),g=v.useRef(l),b=v.useRef(i),w=v.useRef(o),S=v.useMemo(()=>({x:i,y:o,width:s,height:l,radius:c}),[i,o,s,l,c]),C=F0(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var j=Nn("recharts-rectangle",d);if(!y){var A=Fa(t),{radius:T}=A,L=xC(A,sq);return v.createElement("path",rg({},L,{x:Js(i),y:Js(o),width:Js(s),height:Js(l),radius:typeof c=="number"?c:void 0,className:j,d:wC(i,o,s,l,c)}))}var E=x.current,P=g.current,I=b.current,U=w.current,Y="0px ".concat(r===-1?1:r,"px"),ee="".concat(r,"px 0px"),ce=I3(["strokeDasharray"],p,typeof f=="string"?f:kC.animationEasing);return v.createElement(L0,{animationId:C,key:C,canBegin:r>0,duration:p,easing:f,isActive:y,begin:m},$=>{var B=wa(E,s,$),re=wa(P,l,$),k=wa(I,i,$),O=wa(U,o,$);n.current&&(x.current=B,g.current=re,b.current=k,w.current=O);var M;h?$>0?M={transition:ce,strokeDasharray:ee}:M={strokeDasharray:Y}:M={strokeDasharray:ee};var N=Fa(t),{radius:V}=N,Q=xC(N,lq);return v.createElement("path",rg({},Q,{radius:typeof c=="number"?c:void 0,className:j,d:wC(k,O,B,re,c),ref:n,style:bC(bC({},M),t.style)}))})};function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function NC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(r){pq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pq(e,t,n){return(t=mq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ag=Math.PI/180,gq=e=>e*180/Math.PI,Rr=(e,t,n,r)=>({x:e+Math.cos(-ag*r)*n,y:t+Math.sin(-ag*r)*n}),$3=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},yq=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},vq=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=yq({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:gq(l),angleInRadian:l}},bq=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},xq=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},wq=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=vq({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:c}=bq(t),d=i,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?NC(NC({},t),{},{radius:a,angle:xq(d,t)}):null};function B3(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Rr(t,n,r,a),s=Rr(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var jC,CC,AC,MC,EC,PC,TC;function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cx.apply(null,arguments)}function Xl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kq=(e,t)=>{var n=ka(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},xm=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,d=Math.asin(s/c)/ag,f=l?a:a+i*d,p=Rr(t,n,c,f),m=Rr(t,n,r,f),h=l?a-i*d:a,y=Rr(t,n,c*Math.cos(d*ag),h);return{center:p,circleTangency:m,lineTangency:y,theta:d}},z3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=kq(i,o),l=i+s,c=Rr(t,n,a,i),d=Rr(t,n,a,l),f=xr(jC||(jC=Xl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=Rr(t,n,r,i),m=Rr(t,n,r,l);f+=xr(CC||(CC=Xl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=xr(AC||(AC=Xl(["L ",","," Z"])),t,n);return f},Sq=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,d=ka(c-l),{circleTangency:f,lineTangency:p,theta:m}=xm({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:y,theta:x}=xm({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:s}),g=s?Math.abs(l-c):Math.abs(l-c)-m-x;if(g<0)return o?xr(MC||(MC=Xl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):z3({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b=xr(EC||(EC=Xl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(g>180),+(d<0),h.x,h.y,i,i,+(d<0),y.x,y.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=xm({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:j,lineTangency:A,theta:T}=xm({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),L=s?Math.abs(l-c):Math.abs(l-c)-C-T;if(L<0&&i===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=xr(PC||(PC=Xl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,i,i,+(d<0),j.x,j.y,r,r,+(L>180),+(d>0),w.x,w.y,i,i,+(d<0),S.x,S.y)}else b+=xr(TC||(TC=Xl(["L",",","Z"])),t,n);return b},Nq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},U3=e=>{var t=Hr(e,Nq),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(i<a||c===d)return null;var p=Nn("recharts-sector",f),m=i-a,h=Vi(o,m,0,!0),y;return h>0&&Math.abs(c-d)<360?y=Sq({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}):y=z3({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),v.createElement("path",Cx({},Fa(t),{className:p,d:y}))};function jq(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(eD(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=Rr(r,a,i,s),c=Rr(r,a,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return B3(t)}}var V3={},W3={},q3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(q3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(W3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=W3;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=a,a+=o;return l}e.range=r})(V3);var Cq=V3.range;const H3=vo(Cq);function cl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Aq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ik(e){let t,n,r;e.length!==2?(t=cl,n=(s,l)=>cl(e(s),l),r=(s,l)=>e(s)-l):(t=e===cl||e===Aq?e:Mq,n=e,r=e);function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=a(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function Mq(){return 0}function K3(e){return e===null?NaN:+e}function*Eq(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Pq=ik(cl),up=Pq.right;ik(K3).center;class OC extends Map{constructor(t,n=Dq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(DC(this,t))}has(t){return super.has(DC(this,t))}set(t,n){return super.set(Tq(this,t),n)}delete(t){return super.delete(Oq(this,t))}}function DC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Tq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Oq({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Dq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Iq(e=cl){if(e===cl)return Y3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Y3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _q=Math.sqrt(50),Lq=Math.sqrt(10),Fq=Math.sqrt(2);function ig(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=_q?10:i>=Lq?5:i>=Fq?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?ig(e,t,n*2):[s,l,c]}function Ax(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?ig(t,e,n):ig(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Mx(e,t,n){return t=+t,e=+e,n=+n,ig(e,t,n)[2]}function Ex(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Mx(t,e,n):Mx(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function IC(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _C(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function G3(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?Y3:Iq(a);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+p)),h=Math.min(r,Math.floor(t+(l-c)*f/l+p));G3(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(Nd(e,n,t),a(e[r],i)>0&&Nd(e,n,r);o<s;){for(Nd(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?Nd(e,n,s):(++s,Nd(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Nd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Rq(e,t,n){if(e=Float64Array.from(Eq(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return _C(e);if(t>=1)return IC(e);var r,a=(r-1)*t,i=Math.floor(a),o=IC(G3(e,i).subarray(0,i+1)),s=_C(e.subarray(i+1));return o+(s-o)*(a-i)}}function $q(e,t,n=K3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function Bq(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Gi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ks(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Px=Symbol("implicit");function ok(){var e=new OC,t=[],n=[],r=Px;function a(i){let o=e.get(i);if(o===void 0){if(r!==Px)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new OC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return ok(t,n).unknown(r)},Gi.apply(a,arguments),a}function sk(){var e=ok().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,y=m?r:a;i=(y-h)/Math.max(1,p-l+c*2),s&&(i=Math.floor(i)),h+=(y-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var x=Bq(p).map(function(g){return h+i*g});return n(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return sk(t(),[r,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},Gi.apply(f(),arguments)}function X3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return X3(t())},e}function zq(){return X3(sk.apply(null,arguments).paddingInner(1))}function lk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Q3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dp(){}var _f=.7,og=1/_f,wu="\\s*([+-]?\\d+)\\s*",Lf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uq=/^#([0-9a-f]{3,8})$/,Vq=new RegExp(`^rgb\\(${wu},${wu},${wu}\\)$`),Wq=new RegExp(`^rgb\\(${Lo},${Lo},${Lo}\\)$`),qq=new RegExp(`^rgba\\(${wu},${wu},${wu},${Lf}\\)$`),Hq=new RegExp(`^rgba\\(${Lo},${Lo},${Lo},${Lf}\\)$`),Kq=new RegExp(`^hsl\\(${Lf},${Lo},${Lo}\\)$`),Yq=new RegExp(`^hsla\\(${Lf},${Lo},${Lo},${Lf}\\)$`),LC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lk(dp,Ff,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:FC,formatHex:FC,formatHex8:Gq,formatHsl:Xq,formatRgb:RC,toString:RC});function FC(){return this.rgb().formatHex()}function Gq(){return this.rgb().formatHex8()}function Xq(){return Z3(this).formatHsl()}function RC(){return this.rgb().formatRgb()}function Ff(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Uq.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$C(t):n===3?new Xa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Vq.exec(e))?new Xa(t[1],t[2],t[3],1):(t=Wq.exec(e))?new Xa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qq.exec(e))?wm(t[1],t[2],t[3],t[4]):(t=Hq.exec(e))?wm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Kq.exec(e))?UC(t[1],t[2]/100,t[3]/100,1):(t=Yq.exec(e))?UC(t[1],t[2]/100,t[3]/100,t[4]):LC.hasOwnProperty(e)?$C(LC[e]):e==="transparent"?new Xa(NaN,NaN,NaN,0):null}function $C(e){return new Xa(e>>16&255,e>>8&255,e&255,1)}function wm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xa(e,t,n,r)}function Qq(e){return e instanceof dp||(e=Ff(e)),e?(e=e.rgb(),new Xa(e.r,e.g,e.b,e.opacity)):new Xa}function Tx(e,t,n,r){return arguments.length===1?Qq(e):new Xa(e,t,n,r??1)}function Xa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}lk(Xa,Tx,Q3(dp,{brighter(e){return e=e==null?og:Math.pow(og,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_f:Math.pow(_f,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xa(oc(this.r),oc(this.g),oc(this.b),sg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BC,formatHex:BC,formatHex8:Zq,formatRgb:zC,toString:zC}));function BC(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}`}function Zq(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}${Ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function zC(){const e=sg(this.opacity);return`${e===1?"rgb(":"rgba("}${oc(this.r)}, ${oc(this.g)}, ${oc(this.b)}${e===1?")":`, ${e})`}`}function sg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ql(e){return e=oc(e),(e<16?"0":"")+e.toString(16)}function UC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new oo(e,t,n,r)}function Z3(e){if(e instanceof oo)return new oo(e.h,e.s,e.l,e.opacity);if(e instanceof dp||(e=Ff(e)),!e)return new oo;if(e instanceof oo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new oo(o,s,l,e.opacity)}function Jq(e,t,n,r){return arguments.length===1?Z3(e):new oo(e,t,n,r??1)}function oo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lk(oo,Jq,Q3(dp,{brighter(e){return e=e==null?og:Math.pow(og,e),new oo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_f:Math.pow(_f,e),new oo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Xa(cv(e>=240?e-240:e+120,a,r),cv(e,a,r),cv(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new oo(VC(this.h),km(this.s),km(this.l),sg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sg(this.opacity);return`${e===1?"hsl(":"hsla("}${VC(this.h)}, ${km(this.s)*100}%, ${km(this.l)*100}%${e===1?")":`, ${e})`}`}}));function VC(e){return e=(e||0)%360,e<0?e+360:e}function km(e){return Math.max(0,Math.min(1,e||0))}function cv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ck=e=>()=>e;function eH(e,t){return function(n){return e+n*t}}function tH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function nH(e){return(e=+e)==1?J3:function(t,n){return n-t?tH(t,n,e):ck(isNaN(t)?n:t)}}function J3(e,t){var n=t-e;return n?eH(e,n):ck(isNaN(e)?t:e)}const WC=function e(t){var n=nH(t);function r(a,i){var o=n((a=Tx(a)).r,(i=Tx(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=J3(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=c(d),a+""}}return r.gamma=e,r}(1);function rH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function aH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Gu(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function oH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function lg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sH(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Gu(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Ox=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uv=new RegExp(Ox.source,"g");function lH(e){return function(){return e}}function cH(e){return function(t){return e(t)+""}}function uH(e,t){var n=Ox.lastIndex=uv.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Ox.exec(e))&&(a=uv.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:lg(r,a)})),n=uv.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?cH(l[0].x):lH(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Gu(e,t){var n=typeof t,r;return t==null||n==="boolean"?ck(t):(n==="number"?lg:n==="string"?(r=Ff(t))?(t=r,WC):uH:t instanceof Ff?WC:t instanceof Date?oH:aH(t)?rH:Array.isArray(t)?iH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sH:lg)(e,t)}function uk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function dH(e,t){t===void 0&&(t=e,e=Gu);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function fH(e){return function(){return e}}function cg(e){return+e}var qC=[0,1];function _a(e){return e}function Dx(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:fH(isNaN(t)?NaN:.5)}function pH(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function mH(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Dx(a,r),i=n(o,i)):(r=Dx(r,a),i=n(i,o)),function(s){return i(r(s))}}function hH(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Dx(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=up(e,s,1,r)-1;return i[l](a[l](s))}}function fp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function R0(){var e=qC,t=qC,n=Gu,r,a,i,o=_a,s,l,c;function d(){var p=Math.min(e.length,t.length);return o!==_a&&(o=pH(e[0],e[p-1])),s=p>2?hH:mH,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((c||(c=s(t,e.map(r),lg)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,cg),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=uk,d()},f.clamp=function(p){return arguments.length?(o=p?!0:_a,d()):o!==_a},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function dk(){return R0()(_a,_a)}function gH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ug(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fu(e){return e=ug(Math.abs(e)),e?e[1]:NaN}function yH(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function vH(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var bH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rf(e){if(!(t=bH.exec(e)))throw new Error("invalid format: "+e);var t;return new fk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rf.prototype=fk.prototype;function fk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xH(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var dg;function wH(e,t){var n=ug(e,t);if(!n)return dg=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(dg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ug(e,Math.max(0,t+i-1))[0]}function HC(e,t){var n=ug(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const KC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>HC(e*100,t),r:HC,s:wH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YC(e){return e}var GC=Array.prototype.map,XC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kH(e){var t=e.grouping===void 0||e.thousands===void 0?YC:yH(GC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?YC:vH(GC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,p){f=Rf(f);var m=f.fill,h=f.align,y=f.sign,x=f.symbol,g=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,j=f.type;j==="n"?(w=!0,j="g"):KC[j]||(S===void 0&&(S=12),C=!0,j="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var A=(p&&p.prefix!==void 0?p.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),T=(x==="$"?r:/[%p]/.test(j)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),L=KC[j],E=/[defgprs%]/.test(j);S=S===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function P(I){var U=A,Y=T,ee,ce,$;if(j==="c")Y=L(I)+Y,I="";else{I=+I;var B=I<0||1/I<0;if(I=isNaN(I)?l:L(Math.abs(I),S),C&&(I=xH(I)),B&&+I==0&&y!=="+"&&(B=!1),U=(B?y==="("?y:s:y==="-"||y==="("?"":y)+U,Y=(j==="s"&&!isNaN(I)&&dg!==void 0?XC[8+dg/3]:"")+Y+(B&&y==="("?")":""),E){for(ee=-1,ce=I.length;++ee<ce;)if($=I.charCodeAt(ee),48>$||$>57){Y=($===46?a+I.slice(ee+1):I.slice(ee))+Y,I=I.slice(0,ee);break}}}w&&!g&&(I=t(I,1/0));var re=U.length+I.length+Y.length,k=re<b?new Array(b-re+1).join(m):"";switch(w&&g&&(I=t(k+I,k.length?b-Y.length:1/0),k=""),h){case"<":I=U+I+Y+k;break;case"=":I=U+k+I+Y;break;case"^":I=k.slice(0,re=k.length>>1)+U+I+Y+k.slice(re);break;default:I=k+U+I+Y;break}return i(I)}return P.toString=function(){return f+""},P}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(Fu(p)/3)))*3,h=Math.pow(10,-m),y=c((f=Rf(f),f.type="f",f),{suffix:XC[8+m/3]});return function(x){return y(h*x)}}return{format:c,formatPrefix:d}}var Sm,pk,e4;SH({thousands:",",grouping:[3],currency:["$",""]});function SH(e){return Sm=kH(e),pk=Sm.format,e4=Sm.formatPrefix,Sm}function NH(e){return Math.max(0,-Fu(Math.abs(e)))}function jH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fu(t)/3)))*3-Fu(Math.abs(e)))}function CH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fu(t)-Fu(e))+1}function t4(e,t,n,r){var a=Ex(e,t,n),i;switch(r=Rf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=jH(a,o))&&(r.precision=i),e4(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=CH(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=NH(a))&&(r.precision=i-(r.type==="%")*2);break}}return pk(r)}function wl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ax(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return t4(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);d-- >0;){if(c=Mx(o,s,n),c===l)return r[a]=o,r[i]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function n4(){var e=dk();return e.copy=function(){return fp(e,n4())},Gi.apply(e,arguments),wl(e)}function r4(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,cg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return r4(e).unknown(t)},e=arguments.length?Array.from(e,cg):[0,1],wl(n)}function a4(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function QC(e){return Math.log(e)}function ZC(e){return Math.exp(e)}function AH(e){return-Math.log(-e)}function MH(e){return-Math.exp(-e)}function EH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PH(e){return e===10?EH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function TH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function JC(e){return(t,n)=>-e(-t,n)}function mk(e){const t=e(QC,ZC),n=t.domain;let r=10,a,i;function o(){return a=TH(r),i=PH(r),n()[0]<0?(a=JC(a),i=JC(i),e(AH,MH)):e(QC,ZC),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=a(c),m=a(d),h,y;const x=s==null?10:+s;let g=[];if(!(r%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(h=1;h<r;++h)if(y=p<0?h/i(-p):h*i(p),!(y<c)){if(y>d)break;g.push(y)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(y=p>0?h/i(-p):h*i(p),!(y<c)){if(y>d)break;g.push(y)}g.length*2<x&&(g=Ax(c,d,x))}else g=Ax(p,m,Math.min(m-p,x)).map(i);return f?g.reverse():g},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Rf(l)).precision==null&&(l.trim=!0),l=pk(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(a4(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function i4(){const e=mk(R0()).domain([1,10]);return e.copy=()=>fp(e,i4()).base(e.base()),Gi.apply(e,arguments),e}function eA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hk(e){var t=1,n=e(eA(t),tA(t));return n.constant=function(r){return arguments.length?e(eA(t=+r),tA(t)):t},wl(n)}function o4(){var e=hk(R0());return e.copy=function(){return fp(e,o4()).constant(e.constant())},Gi.apply(e,arguments)}function nA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function OH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DH(e){return e<0?-e*e:e*e}function gk(e){var t=e(_a,_a),n=1;function r(){return n===1?e(_a,_a):n===.5?e(OH,DH):e(nA(n),nA(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},wl(t)}function yk(){var e=gk(R0());return e.copy=function(){return fp(e,yk()).exponent(e.exponent())},Gi.apply(e,arguments),e}function IH(){return yk.apply(null,arguments).exponent(.5)}function rA(e){return Math.sign(e)*e*e}function _H(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function s4(){var e=dk(),t=[0,1],n=!1,r;function a(i){var o=_H(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(rA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,cg)).map(rA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return s4(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Gi.apply(a,arguments),wl(a)}function l4(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=$q(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[up(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(cl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return l4().domain(e).range(t).unknown(r)},Gi.apply(i,arguments)}function c4(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[up(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return c4().domain([e,t]).range(a).unknown(i)},Gi.apply(wl(o),arguments)}function u4(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[up(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return u4().domain(e).range(t).unknown(n)},Gi.apply(a,arguments)}const dv=new Date,fv=new Date;function Kr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>Kr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(dv.setTime(+i),fv.setTime(+o),e(dv),e(fv),Math.floor(n(dv,fv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const fg=Kr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fg);fg.range;const es=1e3,zi=es*60,ts=zi*60,ms=ts*24,vk=ms*7,aA=ms*30,pv=ms*365,Zl=Kr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getUTCSeconds());Zl.range;const bk=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*es)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getMinutes());bk.range;const xk=Kr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getUTCMinutes());xk.range;const wk=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*es-e.getMinutes()*zi)},(e,t)=>{e.setTime(+e+t*ts)},(e,t)=>(t-e)/ts,e=>e.getHours());wk.range;const kk=Kr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ts)},(e,t)=>(t-e)/ts,e=>e.getUTCHours());kk.range;const pp=Kr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zi)/ms,e=>e.getDate()-1);pp.range;const $0=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ms,e=>e.getUTCDate()-1);$0.range;const d4=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ms,e=>Math.floor(e/ms));d4.range;function Ac(e){return Kr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*zi)/vk)}const B0=Ac(0),pg=Ac(1),LH=Ac(2),FH=Ac(3),Ru=Ac(4),RH=Ac(5),$H=Ac(6);B0.range;pg.range;LH.range;FH.range;Ru.range;RH.range;$H.range;function Mc(e){return Kr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/vk)}const z0=Mc(0),mg=Mc(1),BH=Mc(2),zH=Mc(3),$u=Mc(4),UH=Mc(5),VH=Mc(6);z0.range;mg.range;BH.range;zH.range;$u.range;UH.range;VH.range;const Sk=Kr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Sk.range;const Nk=Kr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nk.range;const hs=Kr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});hs.range;const gs=Kr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});gs.range;function f4(e,t,n,r,a,i){const o=[[Zl,1,es],[Zl,5,5*es],[Zl,15,15*es],[Zl,30,30*es],[i,1,zi],[i,5,5*zi],[i,15,15*zi],[i,30,30*zi],[a,1,ts],[a,3,3*ts],[a,6,6*ts],[a,12,12*ts],[r,1,ms],[r,2,2*ms],[n,1,vk],[t,1,aA],[t,3,3*aA],[e,1,pv]];function s(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),h=m?m.range(c,+d+1):[];return p?h.reverse():h}function l(c,d,f){const p=Math.abs(d-c)/f,m=ik(([,,x])=>x).right(o,p);if(m===o.length)return e.every(Ex(c/pv,d/pv,f));if(m===0)return fg.every(Math.max(Ex(c,d,f),1));const[h,y]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(y)}return[s,l]}const[WH,qH]=f4(gs,Nk,z0,d4,kk,xk),[HH,KH]=f4(hs,Sk,B0,pp,wk,bk);function mv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function jd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function YH(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Cd(a),d=Ad(a),f=Cd(i),p=Ad(i),m=Cd(o),h=Ad(o),y=Cd(s),x=Ad(s),g=Cd(l),b=Ad(l),w={a:$,A:B,b:re,B:k,c:null,d:uA,e:uA,f:yK,g:AK,G:EK,H:mK,I:hK,j:gK,L:p4,m:vK,M:bK,p:O,q:M,Q:pA,s:mA,S:xK,u:wK,U:kK,V:SK,w:NK,W:jK,x:null,X:null,y:CK,Y:MK,Z:PK,"%":fA},S={a:N,A:V,b:Q,B:H,c:null,d:dA,e:dA,f:IK,g:WK,G:HK,H:TK,I:OK,j:DK,L:h4,m:_K,M:LK,p:G,q:J,Q:pA,s:mA,S:FK,u:RK,U:$K,V:BK,w:zK,W:UK,x:null,X:null,y:VK,Y:qK,Z:KK,"%":fA},C={a:E,A:P,b:I,B:U,c:Y,d:lA,e:lA,f:uK,g:sA,G:oA,H:cA,I:cA,j:oK,L:cK,m:iK,M:sK,p:L,q:aK,Q:fK,s:pK,S:lK,u:JH,U:eK,V:tK,w:ZH,W:nK,x:ee,X:ce,y:sA,Y:oA,Z:rK,"%":dK};w.x=j(n,w),w.X=j(r,w),w.c=j(t,w),S.x=j(n,S),S.X=j(r,S),S.c=j(t,S);function j(_,ne){return function(ge){var R=[],ae=-1,W=0,F=_.length,le,xe,Je;for(ge instanceof Date||(ge=new Date(+ge));++ae<F;)_.charCodeAt(ae)===37&&(R.push(_.slice(W,ae)),(xe=iA[le=_.charAt(++ae)])!=null?le=_.charAt(++ae):xe=le==="e"?" ":"0",(Je=ne[le])&&(le=Je(ge,xe)),R.push(le),W=ae+1);return R.push(_.slice(W,ae)),R.join("")}}function A(_,ne){return function(ge){var R=jd(1900,void 0,1),ae=T(R,_,ge+="",0),W,F;if(ae!=ge.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(ne&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(W=hv(jd(R.y,0,1)),F=W.getUTCDay(),W=F>4||F===0?mg.ceil(W):mg(W),W=$0.offset(W,(R.V-1)*7),R.y=W.getUTCFullYear(),R.m=W.getUTCMonth(),R.d=W.getUTCDate()+(R.w+6)%7):(W=mv(jd(R.y,0,1)),F=W.getDay(),W=F>4||F===0?pg.ceil(W):pg(W),W=pp.offset(W,(R.V-1)*7),R.y=W.getFullYear(),R.m=W.getMonth(),R.d=W.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),F="Z"in R?hv(jd(R.y,0,1)).getUTCDay():mv(jd(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(F+5)%7:R.w+R.U*7-(F+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,hv(R)):mv(R)}}function T(_,ne,ge,R){for(var ae=0,W=ne.length,F=ge.length,le,xe;ae<W;){if(R>=F)return-1;if(le=ne.charCodeAt(ae++),le===37){if(le=ne.charAt(ae++),xe=C[le in iA?ne.charAt(ae++):le],!xe||(R=xe(_,ge,R))<0)return-1}else if(le!=ge.charCodeAt(R++))return-1}return R}function L(_,ne,ge){var R=c.exec(ne.slice(ge));return R?(_.p=d.get(R[0].toLowerCase()),ge+R[0].length):-1}function E(_,ne,ge){var R=m.exec(ne.slice(ge));return R?(_.w=h.get(R[0].toLowerCase()),ge+R[0].length):-1}function P(_,ne,ge){var R=f.exec(ne.slice(ge));return R?(_.w=p.get(R[0].toLowerCase()),ge+R[0].length):-1}function I(_,ne,ge){var R=g.exec(ne.slice(ge));return R?(_.m=b.get(R[0].toLowerCase()),ge+R[0].length):-1}function U(_,ne,ge){var R=y.exec(ne.slice(ge));return R?(_.m=x.get(R[0].toLowerCase()),ge+R[0].length):-1}function Y(_,ne,ge){return T(_,t,ne,ge)}function ee(_,ne,ge){return T(_,n,ne,ge)}function ce(_,ne,ge){return T(_,r,ne,ge)}function $(_){return o[_.getDay()]}function B(_){return i[_.getDay()]}function re(_){return l[_.getMonth()]}function k(_){return s[_.getMonth()]}function O(_){return a[+(_.getHours()>=12)]}function M(_){return 1+~~(_.getMonth()/3)}function N(_){return o[_.getUTCDay()]}function V(_){return i[_.getUTCDay()]}function Q(_){return l[_.getUTCMonth()]}function H(_){return s[_.getUTCMonth()]}function G(_){return a[+(_.getUTCHours()>=12)]}function J(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var ne=j(_+="",w);return ne.toString=function(){return _},ne},parse:function(_){var ne=A(_+="",!1);return ne.toString=function(){return _},ne},utcFormat:function(_){var ne=j(_+="",S);return ne.toString=function(){return _},ne},utcParse:function(_){var ne=A(_+="",!0);return ne.toString=function(){return _},ne}}}var iA={"-":"",_:" ",0:"0"},ia=/^\s*\d+/,GH=/^%/,XH=/[\\^$*+?|[\]().{}]/g;function kn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function QH(e){return e.replace(XH,"\\$&")}function Cd(e){return new RegExp("^(?:"+e.map(QH).join("|")+")","i")}function Ad(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ZH(e,t,n){var r=ia.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function JH(e,t,n){var r=ia.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function eK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function tK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function nK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function oA(e,t,n){var r=ia.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function sA(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function aK(e,t,n){var r=ia.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function iK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function lA(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function oK(e,t,n){var r=ia.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function cA(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=ia.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=ia.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dK(e,t,n){var r=GH.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function fK(e,t,n){var r=ia.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function pK(e,t,n){var r=ia.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function uA(e,t){return kn(e.getDate(),t,2)}function mK(e,t){return kn(e.getHours(),t,2)}function hK(e,t){return kn(e.getHours()%12||12,t,2)}function gK(e,t){return kn(1+pp.count(hs(e),e),t,3)}function p4(e,t){return kn(e.getMilliseconds(),t,3)}function yK(e,t){return p4(e,t)+"000"}function vK(e,t){return kn(e.getMonth()+1,t,2)}function bK(e,t){return kn(e.getMinutes(),t,2)}function xK(e,t){return kn(e.getSeconds(),t,2)}function wK(e){var t=e.getDay();return t===0?7:t}function kK(e,t){return kn(B0.count(hs(e)-1,e),t,2)}function m4(e){var t=e.getDay();return t>=4||t===0?Ru(e):Ru.ceil(e)}function SK(e,t){return e=m4(e),kn(Ru.count(hs(e),e)+(hs(e).getDay()===4),t,2)}function NK(e){return e.getDay()}function jK(e,t){return kn(pg.count(hs(e)-1,e),t,2)}function CK(e,t){return kn(e.getFullYear()%100,t,2)}function AK(e,t){return e=m4(e),kn(e.getFullYear()%100,t,2)}function MK(e,t){return kn(e.getFullYear()%1e4,t,4)}function EK(e,t){var n=e.getDay();return e=n>=4||n===0?Ru(e):Ru.ceil(e),kn(e.getFullYear()%1e4,t,4)}function PK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kn(t/60|0,"0",2)+kn(t%60,"0",2)}function dA(e,t){return kn(e.getUTCDate(),t,2)}function TK(e,t){return kn(e.getUTCHours(),t,2)}function OK(e,t){return kn(e.getUTCHours()%12||12,t,2)}function DK(e,t){return kn(1+$0.count(gs(e),e),t,3)}function h4(e,t){return kn(e.getUTCMilliseconds(),t,3)}function IK(e,t){return h4(e,t)+"000"}function _K(e,t){return kn(e.getUTCMonth()+1,t,2)}function LK(e,t){return kn(e.getUTCMinutes(),t,2)}function FK(e,t){return kn(e.getUTCSeconds(),t,2)}function RK(e){var t=e.getUTCDay();return t===0?7:t}function $K(e,t){return kn(z0.count(gs(e)-1,e),t,2)}function g4(e){var t=e.getUTCDay();return t>=4||t===0?$u(e):$u.ceil(e)}function BK(e,t){return e=g4(e),kn($u.count(gs(e),e)+(gs(e).getUTCDay()===4),t,2)}function zK(e){return e.getUTCDay()}function UK(e,t){return kn(mg.count(gs(e)-1,e),t,2)}function VK(e,t){return kn(e.getUTCFullYear()%100,t,2)}function WK(e,t){return e=g4(e),kn(e.getUTCFullYear()%100,t,2)}function qK(e,t){return kn(e.getUTCFullYear()%1e4,t,4)}function HK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?$u(e):$u.ceil(e),kn(e.getUTCFullYear()%1e4,t,4)}function KK(){return"+0000"}function fA(){return"%"}function pA(e){return+e}function mA(e){return Math.floor(+e/1e3)}var Vc,y4,v4;YK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YK(e){return Vc=YH(e),y4=Vc.format,Vc.parse,v4=Vc.utcFormat,Vc.utcParse,Vc}function GK(e){return new Date(e)}function XK(e){return e instanceof Date?+e:+new Date(+e)}function jk(e,t,n,r,a,i,o,s,l,c){var d=dk(),f=d.invert,p=d.domain,m=c(".%L"),h=c(":%S"),y=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(j){return(l(j)<j?m:s(j)<j?h:o(j)<j?y:i(j)<j?x:r(j)<j?a(j)<j?g:b:n(j)<j?w:S)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?p(Array.from(j,XK)):p().map(GK)},d.ticks=function(j){var A=p();return e(A[0],A[A.length-1],j??10)},d.tickFormat=function(j,A){return A==null?C:c(A)},d.nice=function(j){var A=p();return(!j||typeof j.range!="function")&&(j=t(A[0],A[A.length-1],j??10)),j?p(a4(A,j)):d},d.copy=function(){return fp(d,jk(e,t,n,r,a,i,o,s,l,c))},d}function QK(){return Gi.apply(jk(HH,KH,hs,Sk,B0,pp,wk,bk,Zl,y4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZK(){return Gi.apply(jk(WH,qH,gs,Nk,z0,$0,kk,xk,Zl,v4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function U0(){var e=0,t=1,n,r,a,i,o=_a,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),c):[o(0),o(1)]}}return c.range=d(Gu),c.rangeRound=d(uk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),c}}function kl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function b4(){var e=wl(U0()(_a));return e.copy=function(){return kl(e,b4())},ks.apply(e,arguments)}function x4(){var e=mk(U0()).domain([1,10]);return e.copy=function(){return kl(e,x4()).base(e.base())},ks.apply(e,arguments)}function w4(){var e=hk(U0());return e.copy=function(){return kl(e,w4()).constant(e.constant())},ks.apply(e,arguments)}function Ck(){var e=gk(U0());return e.copy=function(){return kl(e,Ck()).exponent(e.exponent())},ks.apply(e,arguments)}function JK(){return Ck.apply(null,arguments).exponent(.5)}function k4(){var e=[],t=_a;function n(r){if(r!=null&&!isNaN(r=+r))return t((up(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(cl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Rq(e,i/r))},n.copy=function(){return k4(t).domain(e)},ks.apply(n,arguments)}function V0(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,c=_a,d,f=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+d(y))-i)*(r*y<r*i?s:l),c(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,n]=y,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(c=y,m):c};function h(y){return function(x){var g,b,w;return arguments.length?([g,b,w]=x,c=dH(y,[g,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=h(Gu),m.rangeRound=h(uk),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return d=y,a=y(e),i=y(t),o=y(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function S4(){var e=wl(V0()(_a));return e.copy=function(){return kl(e,S4())},ks.apply(e,arguments)}function N4(){var e=mk(V0()).domain([.1,1,10]);return e.copy=function(){return kl(e,N4()).base(e.base())},ks.apply(e,arguments)}function j4(){var e=hk(V0());return e.copy=function(){return kl(e,j4()).constant(e.constant())},ks.apply(e,arguments)}function Ak(){var e=gk(V0());return e.copy=function(){return kl(e,Ak()).exponent(e.exponent())},ks.apply(e,arguments)}function eY(){return Ak.apply(null,arguments).exponent(.5)}const $d=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sk,scaleDiverging:S4,scaleDivergingLog:N4,scaleDivergingPow:Ak,scaleDivergingSqrt:eY,scaleDivergingSymlog:j4,scaleIdentity:r4,scaleImplicit:Px,scaleLinear:n4,scaleLog:i4,scaleOrdinal:ok,scalePoint:zq,scalePow:yk,scaleQuantile:l4,scaleQuantize:c4,scaleRadial:s4,scaleSequential:b4,scaleSequentialLog:x4,scaleSequentialPow:Ck,scaleSequentialQuantile:k4,scaleSequentialSqrt:JK,scaleSequentialSymlog:w4,scaleSqrt:IH,scaleSymlog:o4,scaleThreshold:u4,scaleTime:QK,scaleUtc:ZK,tickFormat:t4},Symbol.toStringTag,{value:"Module"}));var Sl=e=>e.chartData,Mk=de([Sl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ek=(e,t,n,r)=>r?Mk(e):Sl(e);function pl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Br(t)&&Br(n))return!0}return!1}function hA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function C4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(Br(n))a=n;else if(typeof n=="function")return;if(Br(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(pl(o))return o}}function tY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(pl(r))return hA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(kt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Ij.test(a)){var l=Ij.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(kt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&_j.test(i)){var d=_j.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if(pl(p))return t==null?p:hA(p,t,n)}}}var Xu=1e9,nY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Tk,sr=!0,Yi="[DecimalError] ",sc=Yi+"Invalid argument: ",Pk=Yi+"Exponent out of range: ",Qu=Math.floor,Ul=Math.pow,rY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gi,ta=1e7,Zn=7,A4=9007199254740991,hg=Qu(A4/Zn),ft={};ft.absoluteValue=ft.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ft.comparedTo=ft.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Zn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ft.dividedBy=ft.div=function(e){return as(this,new this.constructor(e))};ft.dividedToIntegerBy=ft.idiv=function(e){var t=this,n=t.constructor;return _n(as(t,new n(e),0,1),n.precision)};ft.equals=ft.eq=function(e){return!this.cmp(e)};ft.exponent=function(){return $r(this)};ft.greaterThan=ft.gt=function(e){return this.cmp(e)>0};ft.greaterThanOrEqualTo=ft.gte=function(e){return this.cmp(e)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(e){return this.cmp(e)<0};ft.lessThanOrEqualTo=ft.lte=function(e){return this.cmp(e)<1};ft.logarithm=ft.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(gi))throw Error(Yi+"NaN");if(n.s<1)throw Error(Yi+(n.s?"NaN":"-Infinity"));return n.eq(gi)?new r(0):(sr=!1,t=as($f(n,i),$f(e,i),i),sr=!0,_n(t,a))};ft.minus=ft.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P4(t,e):M4(t,(e.s=-e.s,e))};ft.modulo=ft.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Yi+"NaN");return n.s?(sr=!1,t=as(n,e,0,1).times(e),sr=!0,n.minus(t)):_n(new r(n),a)};ft.naturalExponential=ft.exp=function(){return E4(this)};ft.naturalLogarithm=ft.ln=function(){return $f(this)};ft.negated=ft.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ft.plus=ft.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?M4(t,e):P4(t,(e.s=-e.s,e))};ft.precision=ft.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sc+e);if(t=$r(a)+1,r=a.d.length-1,n=r*Zn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ft.squareRoot=ft.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Yi+"NaN")}for(e=$r(s),sr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Do(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Qu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(as(s,i,o+2)).times(.5),Do(i.d).slice(0,o)===(t=Do(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(_n(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return sr=!0,_n(r,n)};ft.times=ft.mul=function(e){var t,n,r,a,i,o,s,l,c,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=m.length,l<c&&(i=p,p=m,m=i,o=l,l=c,c=o),i=[],o=l+c,r=o;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%ta|0,t=s/ta|0;i[a]=(i[a]+t)%ta|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,sr?_n(e,f.precision):e};ft.toDecimalPlaces=ft.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(zo(e,0,Xu),t===void 0?t=r.rounding:zo(t,0,8),_n(n,e+$r(n)+1,t))};ft.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=xc(r,!0):(zo(e,0,Xu),t===void 0?t=a.rounding:zo(t,0,8),r=_n(new a(r),e+1,t),n=xc(r,!0,e+1)),n};ft.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?xc(a):(zo(e,0,Xu),t===void 0?t=i.rounding:zo(t,0,8),r=_n(new i(a),e+$r(a)+1,t),n=xc(r.abs(),!1,e+$r(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};ft.toInteger=ft.toint=function(){var e=this,t=e.constructor;return _n(new t(e),$r(e)+1,t.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(gi);if(s=new l(s),!s.s){if(e.s<1)throw Error(Yi+"Infinity");return s}if(s.eq(gi))return s;if(r=l.precision,e.eq(gi))return _n(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=A4){for(a=new l(gi),t=Math.ceil(r/Zn+4),sr=!1;n%2&&(a=a.times(s),yA(a.d,t)),n=Qu(n/2),n!==0;)s=s.times(s),yA(s.d,t);return sr=!0,e.s<0?new l(gi).div(a):_n(a,r)}}else if(i<0)throw Error(Yi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,sr=!1,a=e.times($f(s,r+c)),sr=!0,a=E4(a),a.s=i,a};ft.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=$r(a),r=xc(a,n<=i.toExpNeg||n>=i.toExpPos)):(zo(e,1,Xu),t===void 0?t=i.rounding:zo(t,0,8),a=_n(new i(a),e,t),n=$r(a),r=xc(a,e<=n||n<=i.toExpNeg,e)),r};ft.toSignificantDigits=ft.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(zo(e,1,Xu),t===void 0?t=r.rounding:zo(t,0,8)),_n(new r(n),e,t)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$r(e),n=e.constructor;return xc(e,t<=n.toExpNeg||t>=n.toExpPos)};function M4(e,t){var n,r,a,i,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),sr?_n(t,f):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=c.length):(r=c,a=o,s=l.length),o=Math.ceil(f/Zn),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,r=c,c=l,l=r),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/ta|0,l[i]%=ta;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,sr?_n(t,f):t}function zo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(sc+e)}function Do(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Zn-r.length,n&&(i+=Ws(n)),i+=r;o=e[t],r=o+"",n=Zn-r.length,n&&(i+=Ws(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var as=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%ta|0,o=i/ta|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ta+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,c,d,f,p,m,h,y,x,g,b,w,S,C,j,A,T,L=r.constructor,E=r.s==a.s?1:-1,P=r.d,I=a.d;if(!r.s)return new L(r);if(!a.s)throw Error(Yi+"Division by zero");for(l=r.e-a.e,A=I.length,C=P.length,m=new L(E),h=m.d=[],c=0;I[c]==(P[c]||0);)++c;if(I[c]>(P[c]||0)&&--l,i==null?b=i=L.precision:o?b=i+($r(r)-$r(a))+1:b=i,b<0)return new L(0);if(b=b/Zn+2|0,c=0,A==1)for(d=0,I=I[0],b++;(c<C||d)&&b--;c++)w=d*ta+(P[c]||0),h[c]=w/I|0,d=w%I|0;else{for(d=ta/(I[0]+1)|0,d>1&&(I=e(I,d),P=e(P,d),A=I.length,C=P.length),S=A,y=P.slice(0,A),x=y.length;x<A;)y[x++]=0;T=I.slice(),T.unshift(0),j=I[0],I[1]>=ta/2&&++j;do d=0,s=t(I,y,A,x),s<0?(g=y[0],A!=x&&(g=g*ta+(y[1]||0)),d=g/j|0,d>1?(d>=ta&&(d=ta-1),f=e(I,d),p=f.length,x=y.length,s=t(f,y,p,x),s==1&&(d--,n(f,A<p?T:I,p))):(d==0&&(s=d=1),f=I.slice()),p=f.length,p<x&&f.unshift(0),n(y,f,x),s==-1&&(x=y.length,s=t(I,y,A,x),s<1&&(d++,n(y,A<x?T:I,x))),x=y.length):s===0&&(d++,y=[0]),h[c++]=d,s&&y[0]?y[x++]=P[S]||0:(y=[P[S]],x=1);while((S++<C||y[0]!==void 0)&&b--)}return h[0]||h.shift(),m.e=l,_n(m,o?i+$r(m)+1:i)}}();function E4(e,t){var n,r,a,i,o,s,l=0,c=0,d=e.constructor,f=d.precision;if($r(e)>16)throw Error(Pk+$r(e));if(!e.s)return new d(gi);for(sr=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(Ul(2,c))/Math.LN10*2+5|0,s+=r,n=a=i=new d(gi),d.precision=s;;){if(a=_n(a.times(e),s),n=n.times(++l),o=i.plus(as(a,n,s)),Do(o.d).slice(0,s)===Do(i.d).slice(0,s)){for(;c--;)i=_n(i.times(i),s);return d.precision=f,t==null?(sr=!0,_n(i,f)):i}i=o}}function $r(e){for(var t=e.e*Zn,n=e.d[0];n>=10;n/=10)t++;return t}function gv(e,t,n){if(t>e.LN10.sd())throw sr=!0,n&&(e.precision=n),Error(Yi+"LN10 precision limit exceeded");return _n(new e(e.LN10),t)}function Ws(e){for(var t="";e--;)t+="0";return t}function $f(e,t){var n,r,a,i,o,s,l,c,d,f=1,p=10,m=e,h=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(Yi+(m.s?"NaN":"-Infinity"));if(m.eq(gi))return new y(0);if(t==null?(sr=!1,c=x):c=t,m.eq(10))return t==null&&(sr=!0),gv(y,c);if(c+=p,y.precision=c,n=Do(h),r=n.charAt(0),i=$r(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Do(m.d),r=n.charAt(0),f++;i=$r(m),r>1?(m=new y("0."+n),i++):m=new y(r+"."+n.slice(1))}else return l=gv(y,c+2,x).times(i+""),m=$f(new y(r+"."+n.slice(1)),c-p).plus(l),y.precision=x,t==null?(sr=!0,_n(m,x)):m;for(s=o=m=as(m.minus(gi),m.plus(gi),c),d=_n(m.times(m),c),a=3;;){if(o=_n(o.times(d),c),l=s.plus(as(o,new y(a),c)),Do(l.d).slice(0,c)===Do(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(gv(y,c+2,x).times(i+""))),s=as(s,new y(f),c),y.precision=x,t==null?(sr=!0,_n(s,x)):s;s=l,a+=2}}function gA(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Qu(n/Zn),e.d=[],r=(n+1)%Zn,n<0&&(r+=Zn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Zn;r<a;)e.d.push(+t.slice(r,r+=Zn));t=t.slice(r),r=Zn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),sr&&(e.e>hg||e.e<-hg))throw Error(Pk+n)}else e.s=0,e.e=0,e.d=[0];return e}function _n(e,t,n){var r,a,i,o,s,l,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Zn,a=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Zn),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;r%=Zn,a=r-Zn+o}if(n!==void 0&&(i=Ul(10,o-a-1),s=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?c/Ul(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=$r(e),f.length=1,t=t-i-1,f[0]=Ul(10,(Zn-t%Zn)%Zn),e.e=Qu(-t/Zn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ul(10,Zn-r),f[d]=a>0?(c/Ul(10,o-a)%Ul(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==ta&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ta)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(sr&&(e.e>hg||e.e<-hg))throw Error(Pk+$r(e));return e}function P4(e,t){var n,r,a,i,o,s,l,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),sr?_n(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),a=Math.max(Math.ceil(m/Zn),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=ta-1;--l[i],l[a]+=ta}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,sr?_n(t,m):t):new p(0)}function xc(e,t,n){var r,a=$r(e),i=Do(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ws(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ws(-a-1)+i,n&&(r=n-o)>0&&(i+=Ws(r))):a>=o?(i+=Ws(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Ws(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Ws(r))),e.s<0?"-"+i:i}function yA(e,t){if(e.length>t)return e.length=t,!0}function T4(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(sc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return gA(o,i.toString())}else if(typeof i!="string")throw Error(sc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,rY.test(i))gA(o,i);else throw Error(sc+i)}if(a.prototype=ft,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=T4,a.config=a.set=aY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function aY(e){if(!e||typeof e!="object")throw Error(Yi+"Object expected");var t,n,r,a=["precision",1,Xu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Qu(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(sc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sc+n+": "+r);return this}var Tk=T4(nY);gi=new Tk(1);const Mn=Tk;var iY=e=>e,O4={},D4=e=>e===O4,vA=e=>function t(){return arguments.length===0||arguments.length===1&&D4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},I4=(e,t)=>e===1?t:vA(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==O4).length;return i>=e?t(...r):I4(e-i,vA(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(d=>D4(d)?s.shift():d);return t(...c,...s)}))}),oY=e=>I4(e.length,e),Ix=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},sY=oY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),lY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return iY;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function _4(e){var t;return e===0?t=1:t=Math.floor(new Mn(e).abs().log(10).toNumber())+1,t}function L4(e,t,n){for(var r=new Mn(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var F4=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},R4=(e,t,n)=>{if(e.lte(0))return new Mn(0);var r=_4(e.toNumber()),a=new Mn(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new Mn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new Mn(l.toNumber()):new Mn(Math.ceil(l.toNumber()))},cY=(e,t,n)=>{var r=new Mn(1),a=new Mn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Mn(10).pow(_4(e)-1),a=new Mn(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Mn(Math.floor(e)))}else e===0?a=new Mn(Math.floor((t-1)/2)):n||(a=new Mn(Math.floor(e)));var o=Math.floor((t-1)/2),s=lY(sY(l=>a.add(new Mn(l-o).mul(r)).toNumber()),Ix);return s(0,t)},$4=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Mn(0),tickMin:new Mn(0),tickMax:new Mn(0)};var i=R4(new Mn(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Mn(0):(o=new Mn(e).add(t).div(2),o=o.sub(new Mn(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Mn(t).sub(o).div(i).toNumber()),c=s+l+1;return c>n?$4(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:i,tickMin:o.sub(new Mn(s).mul(i)),tickMax:o.add(new Mn(l).mul(i))})},uY=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=F4([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Ix(0,r-1).map(()=>1/0)]:[...Ix(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return cY(o,r,a);var{step:c,tickMin:d,tickMax:f}=$4(o,s,i,a,0),p=L4(d,f.add(new Mn(.1).mul(c)),c);return t>n?p.reverse():p},dY=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=F4([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=R4(new Mn(o).sub(i).div(s-1),a,0),c=[...L4(new Mn(i),new Mn(o),l),o];return a===!1&&(c=c.map(d=>Math.round(d))),n>r?c.reverse():c},fY=e=>e.rootProps.barCategoryGap,mp=e=>e.rootProps.stackOffset,B4=e=>e.rootProps.reverseStackOrder,Ok=e=>e.options.chartName,Dk=e=>e.rootProps.syncId,z4=e=>e.rootProps.syncMethod,Ik=e=>e.options.eventEmitter,fa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Go={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},hi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},W0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},pY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Go.angleAxisId,includeHidden:!1,name:void 0,reversed:Go.reversed,scale:Go.scale,tick:Go.tick,tickCount:void 0,ticks:void 0,type:Go.type,unit:void 0},mY={allowDataOverflow:hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hi.scale,tick:hi.tick,tickCount:hi.tickCount,ticks:void 0,type:hi.type,unit:void 0},hY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Go.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Go.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Go.scale,tick:Go.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gY={allowDataOverflow:hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hi.scale,tick:hi.tick,tickCount:hi.tickCount,ticks:void 0,type:"category",unit:void 0},_k=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?hY:pY,Lk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?gY:mY,q0=e=>e.polarOptions,Fk=de([xs,ws,aa],$3),U4=de([q0,Fk],(e,t)=>{if(e!=null)return Vi(e.innerRadius,t,0)}),V4=de([q0,Fk],(e,t)=>{if(e!=null)return Vi(e.outerRadius,t,t*.8)}),yY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},W4=de([q0],yY);de([_k,W4],W0);var q4=de([Fk,U4,V4],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});de([Lk,q4],W0);var H4=de([Tn,q0,U4,V4,xs,ws],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Vi(o,a,a/2),cy:Vi(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),lr=(e,t)=>t,hp=(e,t,n)=>n;function K4(e){return e==null?void 0:e.id}function Y4(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=K4(s);c.forEach((f,p)=>{var m=i==null||a?p:String(er(f,i,null)),h=er(f,s.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[d]:h}),o.set(m,y)})}}),Array.from(o.values())}function Rk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var H0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function K0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function vY(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Yr=e=>{var t=Tn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Zu=e=>e.tooltip.settings.axisId;function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(r){bY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bY(e,t,n){return(t=xY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xY(e){var t=wY(e,"string");return typeof t=="symbol"?t:t+""}function wY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _x=[0,"auto"],Jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},G4=(e,t)=>e.cartesianAxis.xAxis[t],Ss=(e,t)=>{var n=G4(e,t);return n??Jr},ea={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_x,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sp},X4=(e,t)=>e.cartesianAxis.yAxis[t],Ns=(e,t)=>{var n=X4(e,t);return n??ea},kY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$k=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??kY},gr=(e,t,n)=>{switch(t){case"xAxis":return Ss(e,n);case"yAxis":return Ns(e,n);case"zAxis":return $k(e,n);case"angleAxis":return _k(e,n);case"radiusAxis":return Lk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},SY=(e,t,n)=>{switch(t){case"xAxis":return Ss(e,n);case"yAxis":return Ns(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gp=(e,t,n)=>{switch(t){case"xAxis":return Ss(e,n);case"yAxis":return Ns(e,n);case"angleAxis":return _k(e,n);case"radiusAxis":return Lk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Q4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Bk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Z4=e=>e.graphicalItems.cartesianItems,NY=de([lr,hp],Bk),zk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),yp=de([Z4,gr,NY],zk,{memoizeOptions:{resultEqualityCheck:K0}}),J4=de([yp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Rk)),eI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),jY=de([yp],eI),Uk=e=>e.map(t=>t.data).filter(Boolean).flat(1),CY=de([yp],Uk,{memoizeOptions:{resultEqualityCheck:K0}}),Vk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Wk=de([CY,Ek],Vk),qk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:er(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:er(a,r)}))):e.map(r=>({value:r})),Y0=de([Wk,gr,yp],qk);function tI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Zm(e){if($o(e)||e instanceof Date){var t=Number(e);if(Br(t))return t}}function xA(e){if(Array.isArray(e)){var t=[Zm(e[0]),Zm(e[1])];return pl(t)?t:void 0}var n=Zm(e);if(n!=null)return[n,n]}function ys(e){return e.map(Zm).filter(U8)}function AY(e,t,n){return!n||typeof t!="number"||Ro(t)?[]:n.length?ys(n.flatMap(r=>{var a=er(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Br(i)||!Br(o)))return[t-i,t+o]})):[]}var Gr=e=>{var t=Yr(e),n=Zu(e);return gp(e,t,n)},vp=de([Gr],e=>e==null?void 0:e.dataKey),MY=de([J4,Ek,Gr],Y4),nI=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,c=r?[...l].reverse():l,d=c.map(K4);return[s,{stackedData:a9(e,d,n),graphicalItems:c}]}))},EY=de([MY,J4,mp,B4],nI),rI=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=s9(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},PY=de([gr],e=>e.allowDataOverflow),Hk=e=>{var t;if(e==null||!("domain"in e))return _x;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ys(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:_x},Kk=de([gr],Hk),Yk=de([Kk,PY],C4),TY=de([EY,Sl,lr,Yk],rI,{memoizeOptions:{resultEqualityCheck:H0}}),G0=e=>e.errorBars,OY=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>tI(n,r)),yg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},Gk=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(g=>tI(a,g)),p=er(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=AY(s,p,f);if(m.length>=2){var h=Math.min(...m),y=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||y>o)&&(o=y)}var x=xA(p);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=xA(er(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),Br(i)&&Br(o))return[i,o]},DY=de([Wk,gr,jY,G0,lr],Gk,{memoizeOptions:{resultEqualityCheck:H0}});function IY(e){var{value:t}=e;if($o(t)||t instanceof Date)return t}var _Y=(e,t,n)=>{var r=e.map(IY).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&QO(r))?H3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},aI=e=>e.referenceElements.dots,Ju=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),LY=de([aI,lr,hp],Ju),iI=e=>e.referenceElements.areas,FY=de([iI,lr,hp],Ju),oI=e=>e.referenceElements.lines,RY=de([oI,lr,hp],Ju),sI=(e,t)=>{if(e!=null){var n=ys(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},$Y=de(LY,lr,sI),lI=(e,t)=>{if(e!=null){var n=ys(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},BY=de([FY,lr],lI);function zY(e){var t;if(e.x!=null)return ys([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ys(n)}function UY(e){var t;if(e.y!=null)return ys([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ys(n)}var cI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?zY(r):UY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VY=de([RY,lr],cI),WY=de($Y,VY,BY,(e,t,n)=>yg(e,n,t)),Xk=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=l?yg(r,i,a):yg(i,a);return tY(t,c,e.allowDataOverflow)},qY=de([gr,Kk,Yk,TY,DY,WY,Tn,lr],Xk,{memoizeOptions:{resultEqualityCheck:H0}}),HY=[0,1],Qk=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=xl(t,i);if(c&&s==null){var d;return H3(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?_Y(r,e,c):a==="expand"?HY:o}},Zk=de([gr,Tn,Wk,Y0,mp,lr,qY],Qk),uI=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(rp(i));return s in $d?s:"point"}}},ed=de([gr,Tn,Q4,Ok,lr],uI);function KY(e){if(e!=null){if(e in $d)return $d[e]();var t="scale".concat(rp(e));if(t in $d)return $d[t]()}}function Jk(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=KY(t);if(a!=null){var i=a.domain(n).range(r);return e9(i),i}}}var eS=(e,t,n)=>{var r=Hk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&pl(e))return uY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pl(e))return dY(e,t.tickCount,t.allowDecimals)}},tS=de([Zk,gp,ed],eS),nS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&pl(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},YY=de([gr,Zk,tS,lr],nS),GY=de(Y0,gr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ys(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],c=r[s+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/o}}),dI=de(GY,Tn,fY,aa,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Br(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Vi(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),XY=(e,t,n)=>{var r=Ss(e,t);return r==null||typeof r.padding!="string"?0:dI(e,"xAxis",t,n,r.padding)},QY=(e,t,n)=>{var r=Ns(e,t);return r==null||typeof r.padding!="string"?0:dI(e,"yAxis",t,n,r.padding)},ZY=de(Ss,XY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),JY=de(Ns,QY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),eG=de([aa,ZY,E0,M0,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),tG=de([aa,Tn,JY,E0,M0,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bp=(e,t,n,r)=>{var a;switch(t){case"xAxis":return eG(e,n,r);case"yAxis":return tG(e,n,r);case"zAxis":return(a=$k(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return W4(e);case"radiusAxis":return q4(e,n);default:return}},fI=de([gr,bp],W0),X0=de([gr,ed,YY,fI],Jk);de([yp,G0,lr],OY);function pI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Q0=(e,t)=>t,Z0=(e,t,n)=>n,nG=de(C0,Q0,Z0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(pI)),rG=de(A0,Q0,Z0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(pI)),mI=(e,t)=>({width:e.width,height:t.height}),aG=(e,t)=>{var n=typeof t.width=="number"?t.width:sp;return{width:n,height:e.height}},iG=de(aa,Ss,mI),oG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},sG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},lG=de(ws,aa,nG,Q0,Z0,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=mI(t,s);o==null&&(o=oG(t,r,e));var c=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),i}),cG=de(xs,aa,rG,Q0,Z0,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=aG(t,s);o==null&&(o=sG(t,r,e));var c=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),i}),uG=(e,t)=>{var n=Ss(e,t);if(n!=null)return lG(e,n.orientation,n.mirror)},dG=de([aa,Ss,uG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),fG=(e,t)=>{var n=Ns(e,t);if(n!=null)return cG(e,n.orientation,n.mirror)},pG=de([aa,Ns,fG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),mG=de(aa,Ns,(e,t)=>{var n=typeof t.width=="number"?t.width:sp;return{width:n,height:e.height}}),hI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=xl(e,r),l=t.map(c=>c.value);if(o&&s&&i==="category"&&a&&QO(l))return l}},rS=de([Tn,Y0,gr,lr],hI),gI=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=xl(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},aS=de([Tn,Y0,gp,lr],gI),wA=de([Tn,SY,ed,X0,rS,aS,bp,tS,lr],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var c=xl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}}),hG=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var c=xl(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?ka(i[0]-i[1])*2*h:h;var y=f||a;if(y){var x=y.map((g,b)=>{var w=o?o.indexOf(g):g;return{index:b,coordinate:r(w)+h,value:g,offset:h}});return x.filter(g=>Br(g.coordinate))}return c&&s?s.map((g,b)=>({coordinate:r(g)+h,value:g,index:b,offset:h})).filter(g=>Br(g.coordinate)):r.ticks?r.ticks(p).map(g=>({coordinate:r(g)+h,value:g,offset:h})):r.domain().map((g,b)=>({coordinate:r(g)+h,value:o?o[g]:g,index:b,offset:h}))}},yI=de([Tn,gp,ed,X0,tS,bp,rS,aS,lr],hG),gG=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=xl(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?ka(r[0]-r[1])*2*c:c,s&&i?i.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:a?a[d]:d,index:f,offset:c}))}},vI=de([Tn,gp,X0,bp,rS,aS,lr],gG),bI=de(gr,X0,(e,t)=>{if(!(e==null||t==null))return gg(gg({},e),{},{scale:t})}),yG=de([gr,ed,Zk,fI],Jk);de((e,t,n)=>$k(e,n),yG,(e,t)=>{if(!(e==null||t==null))return gg(gg({},e),{},{scale:t})});var vG=de([Tn,C0,A0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),xI=e=>e.options.defaultTooltipEventType,wI=e=>e.options.validateTooltipEventTypes;function kI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function iS(e,t){var n=xI(e),r=wI(e);return kI(t,n,r)}function bG(e){return wt(t=>iS(t,e))}var SI=(e,t)=>{var n,r=Number(t);if(!(Ro(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},xG=e=>e.tooltip.settings,Gs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},wG={itemInteraction:{click:Gs,hover:Gs},axisInteraction:{click:Gs,hover:Gs},keyboardInteraction:Gs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},NI=ai({name:"tooltip",initialState:wG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ir()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=co(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:ir()},removeTooltipEntrySettings:{reducer(e,t){var n=co(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ir()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:kG,replaceTooltipEntrySettings:SG,removeTooltipEntrySettings:NG,setTooltipSettingsState:jG,setActiveMouseOverItemIndex:jI,mouseLeaveItem:CG,mouseLeaveChart:CI,setActiveClickItemIndex:AG,setMouseOverAxisIndex:AI,setMouseClickAxisIndex:MG,setSyncInteraction:Lx,setKeyboardInteraction:Fx}=NI.actions,EG=NI.reducer;function kA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(n),!0).forEach(function(r){PG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PG(e,t,n){return(t=TG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TG(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DG(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function IG(e){return e.index!=null}var MI=(e,t,n,r)=>{if(t==null)return Gs;var a=DG(e,t,n);if(a==null)return Gs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(IG(a)){if(i)return Nm(Nm({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Nm(Nm({},Gs),{},{coordinate:a.coordinate})};function _G(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function LG(e,t){var n=_G(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function FG(e,t,n){if(n==null||t==null)return!0;var r=er(e,t);return r==null||!pl(n)?!0:LG(r,n)}var oS=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Br(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),c=t[l];return c==null||FG(c,n,r)?String(l):null},EI=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,i);if(c!=null)return c;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},PI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},xp=e=>e.options.tooltipPayloadSearcher,td=e=>e.tooltip;function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function NA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){RG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RG(e,t,n){return(t=$G(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $G(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zG(e,t){return e??t}var TI=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:y,settings:x}=m,g=zG(y,s),b=Array.isArray(g)?s3(g,c,d):g,w=(h=x==null?void 0:x.dataKey)!==null&&h!==void 0?h:r,S=x==null?void 0:x.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?C=ZO(b,r,a):C=i(b,t,l,S),Array.isArray(C))C.forEach(A=>{var T=NA(NA({},x),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});p.push(Lj({tooltipEntrySettings:T,dataKey:A.dataKey,payload:A.payload,value:er(A.payload,A.dataKey),name:A.name}))});else{var j;p.push(Lj({tooltipEntrySettings:x,dataKey:w,payload:C,value:er(C,w),name:(j=er(C,S))!==null&&j!==void 0?j:x==null?void 0:x.name}))}return p},f)}},sS=de([Gr,Tn,Q4,Ok,Yr],uI),UG=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),VG=de([Yr,Zu],Bk),nd=de([UG,Gr,VG],zk,{memoizeOptions:{resultEqualityCheck:K0}}),WG=de([nd],e=>e.filter(Rk)),qG=de([nd],Uk,{memoizeOptions:{resultEqualityCheck:K0}}),rd=de([qG,Sl],Vk),HG=de([WG,Sl,Gr],Y4),lS=de([rd,Gr,nd],qk),OI=de([Gr],Hk),KG=de([Gr],e=>e.allowDataOverflow),DI=de([OI,KG],C4),YG=de([nd],e=>e.filter(Rk)),GG=de([HG,YG,mp,B4],nI),XG=de([GG,Sl,Yr,DI],rI),QG=de([nd],eI),ZG=de([rd,Gr,QG,G0,Yr],Gk,{memoizeOptions:{resultEqualityCheck:H0}}),JG=de([aI,Yr,Zu],Ju),eX=de([JG,Yr],sI),tX=de([iI,Yr,Zu],Ju),nX=de([tX,Yr],lI),rX=de([oI,Yr,Zu],Ju),aX=de([rX,Yr],cI),iX=de([eX,aX,nX],yg),oX=de([Gr,OI,DI,XG,ZG,iX,Tn,Yr],Xk),wp=de([Gr,Tn,rd,lS,mp,Yr,oX],Qk),sX=de([wp,Gr,sS],eS),lX=de([Gr,wp,sX,Yr],nS),II=e=>{var t=Yr(e),n=Zu(e),r=!1;return bp(e,t,n,r)},_I=de([Gr,II],W0),LI=de([Gr,sS,lX,_I],Jk),cX=de([Tn,lS,Gr,Yr],hI),uX=de([Tn,lS,Gr,Yr],gI),dX=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,c=xl(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ka(a[0]-a[1])*2*f:f,c&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},js=de([Tn,Gr,sS,LI,II,cX,uX,Yr],dX),cS=de([xI,wI,xG],(e,t,n)=>kI(n.shared,e,t)),FI=e=>e.tooltip.settings.trigger,uS=e=>e.tooltip.settings.defaultIndex,kp=de([td,cS,FI,uS],MI),Bu=de([kp,rd,vp,wp],oS),RI=de([js,Bu],SI),$I=de([kp],e=>{if(e)return e.dataKey}),fX=de([kp],e=>{if(e)return e.graphicalItemId}),BI=de([td,cS,FI,uS],PI),pX=de([xs,ws,Tn,aa,js,uS,BI,xp],EI),mX=de([kp,pX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),hX=de([kp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),gX=de([BI,Bu,Sl,vp,RI,xp,cS],TI),yX=de([gX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function jA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(n),!0).forEach(function(r){vX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vX(e,t,n){return(t=bX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wX=()=>wt(Gr),kX=()=>{var e=wX(),t=wt(js),n=wt(LI);return fx(!e||!n?void 0:CA(CA({},e),{},{scale:n}),t)};function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(n),!0).forEach(function(r){SX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SX(e,t,n){return(t=NX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CX=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},AX=(e,t,n,r)=>{var a=t.find(c=>c&&c.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Wc(Wc(Wc({},r),Rr(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return Wc(Wc(Wc({},r),Rr(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function MX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var zI=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,c,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,y=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,x=void 0;if(!(m==null||h==null||y==null))if(ka(h-m)!==ka(y-h)){var g=[];if(ka(y-h)===ka(a[1]-a[0])){x=y;var b=h+a[1]-a[0];g[0]=Math.min(b,(b+m)/2),g[1]=Math.max(b,(b+m)/2)}else{x=m;var w=y+a[1]-a[0];g[0]=Math.min(h,(w+h)/2),g[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>S[0]&&e<=S[1]||e>=g[0]&&e<=g[1]){var C;return(C=n[s])===null||C===void 0?void 0:C.index}}else{var j=Math.min(m,y),A=Math.max(m,y);if(e>(j+h)/2&&e<=(A+h)/2){var T;return(T=n[s])===null||T===void 0?void 0:T.index}}}else if(t)for(var L=0;L<o;L++){var E=t[L];if(E!=null){var P=t[L+1],I=t[L-1];if(L===0&&P!=null&&e<=(E.coordinate+P.coordinate)/2||L===o-1&&I!=null&&e>(E.coordinate+I.coordinate)/2||L>0&&L<o-1&&I!=null&&P!=null&&e>(E.coordinate+I.coordinate)/2&&e<=(E.coordinate+P.coordinate)/2)return E.index}}return-1},EX=()=>wt(Ok),dS=(e,t)=>t,UI=(e,t,n)=>n,fS=(e,t,n,r)=>r,PX=de(js,e=>h0(e,t=>t.coordinate)),pS=de([td,dS,UI,fS],MI),mS=de([pS,rd,vp,wp],oS),TX=(e,t,n)=>{if(t!=null){var r=td(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},VI=de([td,dS,UI,fS],PI),vg=de([xs,ws,Tn,aa,js,fS,VI,xp],EI),OX=de([pS,vg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),WI=de([js,mS],SI),DX=de([VI,mS,Sl,vp,WI,xp,dS],TI),IX=de([pS,mS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),_X=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&MX(e,o)){var s=l9(e,t),l=zI(s,i,a,n,r),c=CX(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}},LX=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=wq(e,n);if(s){var l=c9(s,t),c=zI(l,o,i,r,a),d=AX(t,i,c,s);return{activeIndex:String(c),activeCoordinate:d}}}},FX=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?_X(e,t,r,a,i,o,s):LX(e,t,n,r,a,i,o)},RX=de(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),$X=de(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(fa)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:vY}});function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){BX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BX(e,t,n){return(t=zX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zX(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VX={},WX={zIndexMap:Object.values(fa).reduce((e,t)=>EA(EA({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),VX)},qX=new Set(Object.values(fa));function HX(e){return qX.has(e)}var qI=ai({name:"zIndex",initialState:WX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ir()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!HX(n)&&delete e.zIndexMap[n])},prepare:ir()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:ir()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:ir()}}}),{registerZIndexPortal:KX,unregisterZIndexPortal:YX,registerZIndexPortalElement:GX,unregisterZIndexPortalElement:XX}=qI.actions,QX=qI.reducer;function xo(e){var{zIndex:t,children:n}=e,r=L9(),a=r&&t!==void 0&&t!==0,i=ii(),o=Vn();v.useLayoutEffect(()=>a?(o(KX({zIndex:t})),()=>{o(YX({zIndex:t}))}):ap,[o,t,a]);var s=wt(l=>RX(l,t,i));return a?s?Yu.createPortal(n,s):null:n}function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rx.apply(null,arguments)}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){ZX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZX(e,t,n){return(t=JX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JX(e){var t=eQ(e,"string");return typeof t=="symbol"?t:t+""}function eQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function nQ(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var h,y,x;if(d==="ScatterChart")h=f,y=_W,x=fa.cursorLine;else if(d==="BarChart")h=LW(s,f,i,o),y=R3,x=fa.cursorRectangle;else if(s==="radial"&&eD(f)){var{cx:g,cy:b,radius:w,startAngle:S,endAngle:C}=B3(f);h={cx:g,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},y=U3,x=fa.cursorLine}else h={points:jq(s,f,i)},y=ak,x=fa.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,A=jm(jm(jm(jm({stroke:"#ccc",pointerEvents:"none"},i),h),Ou(l)),{},{payload:p,payloadIndex:m,className:Nn("recharts-tooltip-cursor",j)});return v.createElement(xo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},v.createElement(tQ,{cursor:l,cursorComp:y,cursorProps:A}))}function rQ(e){var t=kX(),n=w3(),r=lp(),a=EX();return t==null||n==null||r==null||a==null?null:v.createElement(nQ,Rx({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var HI=v.createContext(null),aQ=()=>v.useContext(HI),KI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)t.call(c,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var c=n?n+l:l,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,c,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var y=this._events[h],x=arguments.length,g,b;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,f),!0;case 5:return y.fn.call(y.context,c,d,f,p),!0;case 6:return y.fn.call(y.context,c,d,f,p,m),!0}for(b=1,g=new Array(x-1);b<x;b++)g[b-1]=arguments[b];y.fn.apply(y.context,g)}else{var w=y.length,S;for(b=0;b<w;b++)switch(y[b].once&&this.removeListener(l,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,c);break;case 3:y[b].fn.call(y[b].context,c,d);break;case 4:y[b].fn.call(y[b].context,c,d,f);break;default:if(!g)for(S=1,g=new Array(x-1);S<x;S++)g[S-1]=arguments[S];y[b].fn.apply(y[b].context,g)}}return!0},s.prototype.on=function(l,c,d){return i(this,l,c,d,!1)},s.prototype.once=function(l,c,d){return i(this,l,c,d,!0)},s.prototype.removeListener=function(l,c,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,y=[],x=m.length;h<x;h++)(m[h].fn!==c||f&&!m[h].once||d&&m[h].context!==d)&&y.push(m[h]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(KI);var iQ=KI.exports;const oQ=vo(iQ);var Bf=new oQ,$x="recharts.syncEvent.tooltip",TA="recharts.syncEvent.brush";function YI(e,t){if(t){var n=Number.parseInt(t,10);if(!Ro(n))return e==null?void 0:e[n]}}var sQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},GI=ai({name:"options",initialState:sQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lQ=GI.reducer,{createEventEmitter:cQ}=GI.actions;function uQ(e){return e.tooltip.syncInteraction}var dQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},XI=ai({name:"chartData",initialState:dQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:OA,setDataStartEndIndexes:fQ,setComputedData:Ghe}=XI.actions,pQ=XI.reducer,mQ=["x","y"];function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vQ(e,t){if(e==null)return{};var n,r,a=bQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xQ(){var e=wt(Dk),t=wt(Ik),n=Vn(),r=wt(z4),a=wt(js),i=lp(),o=P0(),s=wt(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return ap;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y}=m,x=vQ(m,mQ),{x:g,y:b,width:w,height:S}=d.payload.sourceViewBox,C=qc(qc({},x),{},{x:o.x+(w?(h-g)/w:0)*o.width,y:o.y+(S?(y-b)/S:0)*o.height});n(qc(qc({},d),{},{payload:qc(qc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(a!=null){var j;if(typeof r=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=r(a,A);j=a[T]}else r==="value"&&(j=a.find(ce=>String(ce.value)===d.payload.label));var{coordinate:L}=d.payload;if(j==null||d.payload.active===!1||L==null||o==null){n(Lx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:E,y:P}=L,I=Math.min(E,o.x+o.width),U=Math.min(P,o.y+o.height),Y={x:i==="horizontal"?j.coordinate:I,y:i==="horizontal"?U:j.coordinate},ee=Lx({active:d.payload.active,coordinate:Y,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ee)}}};return Bf.on($x,l),()=>{Bf.off($x,l)}},[s,n,t,e,r,a,i,o])}function wQ(){var e=wt(Dk),t=wt(Ik),n=Vn();v.useEffect(()=>{if(e==null)return ap;var r=(a,i,o)=>{t!==o&&e===a&&n(fQ(i))};return Bf.on(TA,r),()=>{Bf.off(TA,r)}},[n,t,e])}function kQ(){var e=Vn();v.useEffect(()=>{e(cQ())},[e]),xQ(),wQ()}function SQ(e,t,n,r,a,i){var o=wt(m=>TX(m,e,t)),s=wt(Ik),l=wt(Dk),c=wt(z4),d=wt(uQ),f=d==null?void 0:d.active,p=P0();v.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=Lx({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Bf.emit($x,l,m,s)}},[f,n,o,a,r,s,l,c,i,p])}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(r){NQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NQ(e,t,n){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jQ(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AQ(e){return e.dataKey}function MQ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(mW,t)}var LA=[],EQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wc(e){var t,n,r=Hr(e,EQ),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:y,wrapperStyle:x,cursor:g,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:j}=r,A=Vn(),T=typeof S=="number"?String(S):S;v.useEffect(()=>{A(jG({shared:b,trigger:w,axisId:j,active:a,defaultIndex:T}))},[A,b,w,j,a,T]);var L=P0(),E=D3(),P=bG(b),{activeIndex:I,isActive:U}=(t=wt(G=>IX(G,P,w,T)))!==null&&t!==void 0?t:{},Y=wt(G=>DX(G,P,w,T)),ee=wt(G=>WI(G,P,w,T)),ce=wt(G=>OX(G,P,w,T)),$=Y,B=aQ(),re=(n=a??U)!==null&&n!==void 0?n:!1,[k,O]=TD([$,re]),M=P==="axis"?ee:void 0;SQ(P,w,ce,M,I,re);var N=C??B;if(N==null||L==null||P==null)return null;var V=$??LA;re||(V=LA),c&&V.length&&(V=bD(V.filter(G=>G.value!=null&&(G.hide!==!0||r.includeHidden)),p,AQ));var Q=V.length>0,H=v.createElement(wW,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:re,coordinate:ce,hasPayload:Q,offset:f,position:m,reverseDirection:h,useTranslate3d:y,viewBox:L,wrapperStyle:x,lastBoundingBox:k,innerRef:O,hasPortalFromProps:!!C},MQ(l,_A(_A({},r),{},{payload:V,label:M,active:re,activeIndex:I,coordinate:ce,accessibilityLayer:E})));return v.createElement(v.Fragment,null,Yu.createPortal(H,N),re&&v.createElement(rQ,{cursor:g,tooltipEventType:P,coordinate:ce,payload:V,index:I}))}var zu=e=>null;zu.displayName="Cell";function PQ(e,t,n){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TQ(e){var t=OQ(e,"string");return typeof t=="symbol"?t:t+""}function OQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DQ{constructor(t){PQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function IQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){_Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Q(e,t,n){return(t=LQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LQ(e){var t=FQ(e,"string");return typeof t=="symbol"?t:t+""}function FQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RQ={cacheSize:2e3,enableCache:!0},QI=IQ({},RQ),RA=new DQ(QI.cacheSize),$Q={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$A="recharts_measurement_span";function BQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var BA=(e,t)=>{try{var n=document.getElementById($A);n||(n=document.createElement("span"),n.setAttribute("id",$A),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,$Q,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Xd=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_0.isSsr)return{width:0,height:0};if(!QI.enableCache)return BA(e,t);var n=BQ(e,t),r=RA.get(n);if(r)return r;var a=BA(e,t);return RA.set(n,a),a},ZI;function zQ(e,t,n){return(t=UQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UQ(e){var t=VQ(e,"string");return typeof t=="symbol"?t:t+""}function VQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KQ=["cm","mm","pt","pc","in","Q","px"];function YQ(e){return KQ.includes(e)}var cu="NaN";function GQ(e,t){return e*HQ[t]}class da{static parse(t){var n,[,r,a]=(n=qQ.exec(t))!==null&&n!==void 0?n:[];return r==null?da.NaN:new da(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ro(t)&&(this.unit=""),n!==""&&!WQ.test(n)&&(this.num=NaN,this.unit=""),YQ(n)&&(this.num=GQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new da(NaN,""):new da(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new da(NaN,""):new da(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new da(NaN,""):new da(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new da(NaN,""):new da(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ro(this.num)}}ZI=da;zQ(da,"NaN",new ZI(NaN,""));function JI(e){if(e==null||e.includes(cu))return cu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=zA.exec(t))!==null&&n!==void 0?n:[],o=da.parse(r??""),s=da.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return cu;t=t.replace(zA,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,p]=(c=UA.exec(t))!==null&&c!==void 0?c:[],m=da.parse(d??""),h=da.parse(p??""),y=f==="+"?m.add(h):m.subtract(h);if(y.isNaN())return cu;t=t.replace(UA,y.toString())}return t}var VA=/\(([^()]*)\)/;function XQ(e){for(var t=e,n;(n=VA.exec(t))!=null;){var[,r]=n;t=t.replace(VA,JI(r))}return t}function QQ(e){var t=e.replace(/\s+/g,"");return t=XQ(t),t=JI(t),t}function ZQ(e){try{return QQ(e)}catch{return cu}}function yv(e){var t=ZQ(e.slice(5,-1));return t===cu?"":t}var JQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],eZ=["dx","dy","angle","className","breakAll"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bx.apply(null,arguments)}function WA(e,t){if(e==null)return{};var n,r,a=tZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var e_=/[ \f\n\r\t\v\u2028\u2029]+/,t_=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];qr(t)||(n?a=t.toString().split(""):a=t.toString().split(e_));var i=a.map(s=>({word:s,width:Xd(s,r).width})),o=n?0:Xd("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function nZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var n_=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var c={words:[o],width:s};a.push(c)}return a},[]),r_=e=>e.reduce((t,n)=>t.width>n.width?t:n),rZ="",qA=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),c=t_({breakAll:n,style:r,children:l+rZ});if(!c)return[!1,[]];var d=n_(c.wordsWithComputedWidth,i,o,s),f=d.length>a||r_(d).width>Number(i);return[f,d]},aZ=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=kt(i),d=String(o),f=n_(t,r,n,a);if(!c||a)return f;var p=f.length>i||r_(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,y=0,x;m<=h&&y<=d.length-1;){var g=Math.floor((m+h)/2),b=g-1,[w,S]=qA(d,b,l,s,i,r,n,a),[C]=qA(d,g,l,s,i,r,n,a);if(!w&&!C&&(m=g+1),w&&C&&(h=g-1),!w&&C){x=S;break}y++}return x||f},HA=e=>{var t=qr(e)?[]:e.toString().split(e_);return[{words:t,width:void 0}]},iZ=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!_0.isSsr){var s,l,c=t_({breakAll:i,children:r,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;s=d,l=f}else return HA(r);return aZ({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return HA(r)},a_="#808080",oZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:a_,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},J0=v.forwardRef((e,t)=>{var n=Hr(e,oZ),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=WA(n,JQ),p=v.useMemo(()=>iZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:y,className:x,breakAll:g}=f,b=WA(f,eZ);if(!$o(r)||!$o(a)||p.length===0)return null;var w=Number(r)+(kt(m)?m:0),S=Number(a)+(kt(h)?h:0);if(!Br(w)||!Br(S))return null;var C;switch(d){case"start":C=yv("calc(".concat(o,")"));break;case"middle":C=yv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=yv("calc(".concat(p.length-1," * -").concat(i,")"));break}var j=[];if(l){var A=p[0].width,{width:T}=f;j.push("scale(".concat(kt(T)&&kt(A)?T/A:1,")"))}return y&&j.push("rotate(".concat(y,", ").concat(w,", ").concat(S,")")),j.length&&(b.transform=j.join(" ")),v.createElement("text",Bx({},Fa(b),{ref:t,x:w,y:S,className:Nn("recharts-text",x),textAnchor:c,fill:s.includes("url")?a_:s}),p.map((L,E)=>{var P=L.words.join(g?"":" ");return v.createElement("tspan",{x:w,dy:E===0?C:i,key:"".concat(P,"-").concat(E)},P)}))});J0.displayName="Text";var sZ=["labelRef"],lZ=["content"];function KA(e,t){if(e==null)return{};var n,r,a=cZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){uZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uZ(e,t,n){return(t=dZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dZ(e){var t=fZ(e,"string");return typeof t=="symbol"?t:t+""}function fZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xo.apply(null,arguments)}var i_=v.createContext(null),pZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return v.createElement(i_.Provider,{value:l},s)},o_=()=>{var e=v.useContext(i_),t=P0();return e||x3(t)},mZ=v.createContext(null),hZ=()=>{var e=v.useContext(mZ),t=wt(H4);return e||t},gZ=e=>{var{value:t,formatter:n}=e,r=qr(e.children)?t:e.children;return typeof n=="function"?n(r):r},hS=e=>e!=null&&typeof e=="function",yZ=(e,t)=>{var n=ka(t-e),r=Math.min(Math.abs(t-e),360);return n*r},vZ=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(c+d)/2,y=yZ(f,p),x=y>=0?1:-1,g,b;switch(t){case"insideStart":g=f+x*i,b=m;break;case"insideEnd":g=p-x*i,b=!m;break;case"end":g=p+x*i,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var w=Rr(s,l,h,g),S=Rr(s,l,h,g+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),j=qr(e.id)?Af("recharts-radial-line-"):e.id;return v.createElement("text",Xo({},r,{dominantBaseline:"central",className:Nn("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:j,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(j)},n))},bZ=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(n==="outside"){var{x:d,y:f}=Rr(r,a,o+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=Rr(r,a,p,c);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},zx=e=>"cx"in e&&kt(e.cx),xZ=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!zx(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:d}=t,f=o,p=o+(l-c)/2,m=(f+p)/2,h=(l+c)/2,y=f+l/2,x=d>=0?1:-1,g=x*r,b=x>0?"end":"start",w=x>0?"start":"end",S=l>=0?1:-1,C=S*r,j=S>0?"end":"start",A=S>0?"start":"end";if(a==="top"){var T={x:f+l/2,y:s-g,textAnchor:"middle",verticalAnchor:b};return Mr(Mr({},T),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var L={x:p+c/2,y:s+d+g,textAnchor:"middle",verticalAnchor:w};return Mr(Mr({},L),i?{height:Math.max(i.y+i.height-(s+d),0),width:c}:{})}if(a==="left"){var E={x:m-C,y:s+d/2,textAnchor:j,verticalAnchor:"middle"};return Mr(Mr({},E),i?{width:Math.max(E.x-i.x,0),height:d}:{})}if(a==="right"){var P={x:m+h+C,y:s+d/2,textAnchor:A,verticalAnchor:"middle"};return Mr(Mr({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:d}:{})}var I=i?{width:h,height:d}:{};return a==="insideLeft"?Mr({x:m+C,y:s+d/2,textAnchor:A,verticalAnchor:"middle"},I):a==="insideRight"?Mr({x:m+h-C,y:s+d/2,textAnchor:j,verticalAnchor:"middle"},I):a==="insideTop"?Mr({x:f+l/2,y:s+g,textAnchor:"middle",verticalAnchor:w},I):a==="insideBottom"?Mr({x:p+c/2,y:s+d-g,textAnchor:"middle",verticalAnchor:b},I):a==="insideTopLeft"?Mr({x:f+C,y:s+g,textAnchor:A,verticalAnchor:w},I):a==="insideTopRight"?Mr({x:f+l-C,y:s+g,textAnchor:j,verticalAnchor:w},I):a==="insideBottomLeft"?Mr({x:p+C,y:s+d-g,textAnchor:A,verticalAnchor:b},I):a==="insideBottomRight"?Mr({x:p+c-C,y:s+d-g,textAnchor:j,verticalAnchor:b},I):a&&typeof a=="object"&&(kt(a.x)||fs(a.x))&&(kt(a.y)||fs(a.y))?Mr({x:o+Vi(a.x,h),y:s+Vi(a.y,d),textAnchor:"end",verticalAnchor:"end"},I):Mr({x:y,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},I)},wZ={angle:0,offset:5,zIndex:fa.label,position:"middle",textBreakAll:!1};function qs(e){var t=Hr(e,wZ),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:c}=t,d=hZ(),f=o_(),p=r==="center"?f:d??f,m,h,y;if(n==null?m=p:zx(n)?m=n:m=x3(n),!m||qr(a)&&qr(i)&&!v.isValidElement(o)&&typeof o!="function")return null;var x=Mr(Mr({},t),{},{viewBox:m});if(v.isValidElement(o)){var{labelRef:g}=x,b=KA(x,sZ);return v.cloneElement(o,b)}if(typeof o=="function"){var{content:w}=x,S=KA(x,lZ);if(h=v.createElement(o,S),v.isValidElement(h))return h}else h=gZ(t);var C=Fa(t);if(zx(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return vZ(t,r,h,C,m);y=bZ(m,t.offset,t.position)}else y=xZ(t,m);return v.createElement(xo,{zIndex:t.zIndex},v.createElement(J0,Xo({ref:c,className:Nn("recharts-label",s)},C,y,{textAnchor:nZ(C.textAnchor)?C.textAnchor:y.textAnchor,breakAll:l}),h))}qs.displayName="Label";var kZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(qs,Xo({key:"label-implicit"},r)):$o(e)?v.createElement(qs,Xo({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===qs?v.cloneElement(e,Mr({key:"label-implicit"},r)):v.createElement(qs,Xo({key:"label-implicit",content:e},r)):hS(e)?v.createElement(qs,Xo({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(qs,Xo({},e,{key:"label-implicit"},r)):null};function SZ(e){var{label:t,labelRef:n}=e,r=o_();return kZ(t,r,n)||null}var s_={},l_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(l_);var c_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(c_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l_,n=c_,r=f0;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(s_);var NZ=s_.last;const jZ=vo(NZ);var CZ=["valueAccessor"],AZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(null,arguments)}function GA(e,t){if(e==null)return{};var n,r,a=MZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function MZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EZ=e=>Array.isArray(e.value)?jZ(e.value):e.value,u_=v.createContext(void 0),PZ=u_.Provider,d_=v.createContext(void 0),TZ=d_.Provider;function OZ(){return v.useContext(u_)}function DZ(){return v.useContext(d_)}function Jm(e){var{valueAccessor:t=EZ}=e,n=GA(e,CZ),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=GA(n,AZ),c=OZ(),d=DZ(),f=c||d;return!f||!f.length?null:v.createElement(xo,{zIndex:s??fa.label},v.createElement(ti,{className:"recharts-label-list"},f.map((p,m)=>{var h,y=qr(r)?t(p,m):er(p&&p.payload,r),x=qr(i)?{}:{id:"".concat(i,"-").concat(m)};return v.createElement(qs,bg({key:"label-".concat(m)},Fa(p),l,x,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}Jm.displayName="LabelList";function f_(e){var{label:t}=e;return t?t===!0?v.createElement(Jm,{key:"labelList-implicit"}):v.isValidElement(t)||hS(t)?v.createElement(Jm,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Jm,bg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(null,arguments)}var p_=e=>{var{cx:t,cy:n,r,className:a}=e,i=Nn("recharts-dot",a);return kt(t)&&kt(n)&&kt(r)?v.createElement("circle",Ux({},Hi(e),I1(e),{className:i,cx:t,cy:n,r})):null},m_=e=>e.graphicalItems.polarItems,IZ=de([lr,hp],Bk),ey=de([m_,gr,IZ],zk),_Z=de([ey],Uk),ty=de([_Z,Mk],Vk),LZ=de([ty,gr,ey],qk);de([ty,gr,ey],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=er(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:er(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var XA=()=>{},FZ=de([ty,gr,ey,G0,lr],Gk),RZ=de([gr,Kk,Yk,XA,FZ,XA,Tn,lr],Xk),h_=de([gr,Tn,ty,LZ,mp,lr,RZ],Qk),$Z=de([h_,gr,ed],eS);de([gr,h_,$Z,lr],nS);var BZ={radiusAxis:{},angleAxis:{}},g_=ai({name:"polarAxis",initialState:BZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Xhe,removeRadiusAxis:Qhe,addAngleAxis:Zhe,removeAngleAxis:Jhe}=g_.actions,zZ=g_.reducer;function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){UZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UZ(e,t,n){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VZ(e){var t=WZ(e,"string");return typeof t=="symbol"?t:t+""}function WZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qZ=(e,t)=>t,gS=de([m_,qZ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),HZ=[],yS=(e,t,n)=>(n==null?void 0:n.length)===0?HZ:n,y_=de([Mk,gS,yS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>ZA(ZA({},t.presentationProps),i.props))),a!=null)return a}}),KZ=de([y_,gS,yS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=er(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:j0(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),YZ=de([y_,gS,yS,aa],(e,t,n,r)=>{if(!(t==null||e==null))return see({offset:r,pieSettings:t,displayedData:e,cells:n})}),v_={exports:{}},Fn={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ny=60103,ry=60106,Sp=60107,Np=60108,jp=60114,Cp=60109,Ap=60110,Mp=60112,Ep=60113,vS=60120,Pp=60115,Tp=60116,b_=60121,x_=60122,w_=60117,k_=60129,S_=60131;if(typeof Symbol=="function"&&Symbol.for){var la=Symbol.for;ny=la("react.element"),ry=la("react.portal"),Sp=la("react.fragment"),Np=la("react.strict_mode"),jp=la("react.profiler"),Cp=la("react.provider"),Ap=la("react.context"),Mp=la("react.forward_ref"),Ep=la("react.suspense"),vS=la("react.suspense_list"),Pp=la("react.memo"),Tp=la("react.lazy"),b_=la("react.block"),x_=la("react.server.block"),w_=la("react.fundamental"),k_=la("react.debug_trace_mode"),S_=la("react.legacy_hidden")}function wo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ny:switch(e=e.type,e){case Sp:case jp:case Np:case Ep:case vS:return e;default:switch(e=e&&e.$$typeof,e){case Ap:case Mp:case Tp:case Pp:case Cp:return e;default:return t}}case ry:return t}}}var GZ=Cp,XZ=ny,QZ=Mp,ZZ=Sp,JZ=Tp,eJ=Pp,tJ=ry,nJ=jp,rJ=Np,aJ=Ep;Fn.ContextConsumer=Ap;Fn.ContextProvider=GZ;Fn.Element=XZ;Fn.ForwardRef=QZ;Fn.Fragment=ZZ;Fn.Lazy=JZ;Fn.Memo=eJ;Fn.Portal=tJ;Fn.Profiler=nJ;Fn.StrictMode=rJ;Fn.Suspense=aJ;Fn.isAsyncMode=function(){return!1};Fn.isConcurrentMode=function(){return!1};Fn.isContextConsumer=function(e){return wo(e)===Ap};Fn.isContextProvider=function(e){return wo(e)===Cp};Fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ny};Fn.isForwardRef=function(e){return wo(e)===Mp};Fn.isFragment=function(e){return wo(e)===Sp};Fn.isLazy=function(e){return wo(e)===Tp};Fn.isMemo=function(e){return wo(e)===Pp};Fn.isPortal=function(e){return wo(e)===ry};Fn.isProfiler=function(e){return wo(e)===jp};Fn.isStrictMode=function(e){return wo(e)===Np};Fn.isSuspense=function(e){return wo(e)===Ep};Fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sp||e===jp||e===k_||e===Np||e===Ep||e===vS||e===S_||typeof e=="object"&&e!==null&&(e.$$typeof===Tp||e.$$typeof===Pp||e.$$typeof===Cp||e.$$typeof===Ap||e.$$typeof===Mp||e.$$typeof===w_||e.$$typeof===b_||e[0]===x_)};Fn.typeOf=wo;v_.exports=Fn;var iJ=v_.exports,JA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",eM=null,vv=null,N_=e=>{if(e===eM&&Array.isArray(vv))return vv;var t=[];return v.Children.forEach(e,n=>{qr(n)||(iJ.isFragment(n)?t=t.concat(N_(n.props.children)):t.push(n))}),vv=t,eM=e,t};function j_(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>JA(a)):r=[JA(t)],N_(e).forEach(a=>{var i=hc(a,"type.displayName")||hc(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var C_=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,A_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(A_);var oJ=A_.isPlainObject;const sJ=vo(oJ);var tM,nM,rM,aM,iM;function oM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(n),!0).forEach(function(r){lJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lJ(e,t,n){return(t=cJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cJ(e){var t=uJ(e,"string");return typeof t=="symbol"?t:t+""}function uJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xg.apply(null,arguments)}function Md(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var lM=(e,t,n,r,a)=>{var i=n-r,o;return o=xr(tM||(tM=Md(["M ",",",""])),e,t),o+=xr(nM||(nM=Md(["L ",",",""])),e+n,t),o+=xr(rM||(rM=Md(["L ",",",""])),e+n-i/2,t+a),o+=xr(aM||(aM=Md(["L ",",",""])),e+n-i/2-r,t+a),o+=xr(iM||(iM=Md(["L ",","," Z"])),e,t),o},dJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fJ=e=>{var t=Hr(e,dJ),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,p=v.useRef(null),[m,h]=v.useState(-1),y=v.useRef(a),x=v.useRef(i),g=v.useRef(o),b=v.useRef(n),w=v.useRef(r),S=F0(e,"trapezoid-");if(v.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Y=p.current.getTotalLength();Y&&h(Y)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var C=Nn("recharts-trapezoid",s);if(!f)return v.createElement("g",null,v.createElement("path",xg({},Fa(t),{className:C,d:lM(n,r,a,i,o)})));var j=y.current,A=x.current,T=g.current,L=b.current,E=w.current,P="0px ".concat(m===-1?1:m,"px"),I="".concat(m,"px 0px"),U=I3(["strokeDasharray"],c,l);return v.createElement(L0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},Y=>{var ee=wa(j,a,Y),ce=wa(A,i,Y),$=wa(T,o,Y),B=wa(L,n,Y),re=wa(E,r,Y);p.current&&(y.current=ee,x.current=ce,g.current=$,b.current=B,w.current=re);var k=Y>0?{transition:U,strokeDasharray:I}:{strokeDasharray:P};return v.createElement("path",xg({},Fa(t),{className:C,d:lM(B,re,ee,ce,$),ref:p,style:sM(sM({},k),t.style)}))})},pJ=["option","shapeType","activeClassName"];function mJ(e,t){if(e==null)return{};var n,r,a=hJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(n),!0).forEach(function(r){gJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gJ(e,t,n){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bJ(e,t){return wg(wg({},t),e)}function xJ(e,t){return e==="symbols"}function uM(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(R3,n);case"trapezoid":return v.createElement(fJ,n);case"sector":return v.createElement(U3,n);case"symbols":if(xJ(t))return v.createElement(D1,n);break;case"curve":return v.createElement(ak,n);default:return null}}function wJ(e){return v.isValidElement(e)?e.props:e}function M_(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=mJ(e,pJ),i;if(v.isValidElement(t))i=v.cloneElement(t,wg(wg({},a),wJ(t)));else if(typeof t=="function")i=t(a,a.index);else if(sJ(t)&&typeof t!="boolean"){var o=bJ(t,a);i=v.createElement(uM,{shapeType:n,elementProps:o})}else{var s=a;i=v.createElement(uM,{shapeType:n,elementProps:s})}return a.isActive?v.createElement(ti,{className:r},i):i}var kJ=(e,t,n)=>{var r=Vn();return(a,i)=>o=>{e==null||e(a,i,o),r(jI({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},SJ=e=>{var t=Vn();return(n,r)=>a=>{e==null||e(n,r,a),t(CG())}},NJ=(e,t,n)=>{var r=Vn();return(a,i)=>o=>{e==null||e(a,i,o),r(AG({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function E_(e){var{tooltipEntrySettings:t}=e,n=Vn(),r=ii(),a=v.useRef(null);return v.useLayoutEffect(()=>{r||(a.current===null?n(kG(t)):a.current!==t&&n(SG({prev:a.current,next:t})),a.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{a.current&&(n(NG(a.current)),a.current=null)},[n]),null}function jJ(e){var{legendPayload:t}=e,n=Vn(),r=ii(),a=v.useRef(null);return v.useLayoutEffect(()=>{r||(a.current===null?n(E3(t)):a.current!==t&&n(P3({prev:a.current,next:t})),a.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{a.current&&(n(T3(a.current)),a.current=null)},[n]),null}function CJ(e){var{legendPayload:t}=e,n=Vn(),r=wt(Tn),a=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(E3(t)):a.current!==t&&n(P3({prev:a.current,next:t})),a.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{a.current&&(n(T3(a.current)),a.current=null)},[n]),null}var bv,AJ=()=>{var[e]=v.useState(()=>Af("uid-"));return e},MJ=(bv=z6.useId)!==null&&bv!==void 0?bv:AJ;function EJ(e,t){var n=MJ();return t||(e?"".concat(e,"-").concat(n):n)}var PJ=v.createContext(void 0),P_=e=>{var{id:t,type:n,children:r}=e,a=EJ("recharts-".concat(n),t);return v.createElement(PJ.Provider,{value:a},r(a))},TJ={cartesianItems:[],polarItems:[]},T_=ai({name:"graphicalItems",initialState:TJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ir()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=co(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:ir()},removeCartesianGraphicalItem:{reducer(e,t){var n=co(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ir()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ir()},removePolarGraphicalItem:{reducer(e,t){var n=co(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ir()}}}),{addCartesianGraphicalItem:OJ,replaceCartesianGraphicalItem:DJ,removeCartesianGraphicalItem:IJ,addPolarGraphicalItem:_J,removePolarGraphicalItem:LJ}=T_.actions,FJ=T_.reducer,RJ=e=>{var t=Vn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(OJ(e)):n.current!==e&&t(DJ({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(IJ(n.current)),n.current=null)},[t]),null},$J=v.memo(RJ);function BJ(e){var t=Vn();return v.useLayoutEffect(()=>(t(_J(e)),()=>{t(LJ(e))}),[t,e]),null}var zJ=["key"],UJ=["onMouseEnter","onClick","onMouseLeave"],VJ=["id"],WJ=["id"];function dM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(n),!0).forEach(function(r){qJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qJ(e,t,n){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ml.apply(null,arguments)}function ay(e,t){if(e==null)return{};var n,r,a=YJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function YJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GJ(e){var t=v.useMemo(()=>j_(e.children,zu),[e.children]),n=wt(r=>KZ(r,e.id,t));return n==null?null:v.createElement(CJ,{legendPayload:n})}var XJ=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:j0(s,t),hide:l,type:c,color:o,unit:"",graphicalItemId:d}};return v.createElement(E_,{tooltipEntrySettings:f})}),QJ=(e,t)=>e>t?"start":e<t?"end":"middle",ZJ=(e,t,n)=>Vi(typeof t=="function"?t(e):t,n,n*.8),JJ=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=$3(i,o),l=a+Vi(e.cx,i,i/2),c=r+Vi(e.cy,o,o/2),d=Vi(e.innerRadius,s,0),f=ZJ(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:p}},eee=(e,t)=>{var n=ka(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function tee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var nee=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Nn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=ay(t,zJ);return v.createElement(ak,ml({},a,{type:"linear",className:n}))},ree=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var a=Nn("recharts-pie-label-text",tee(e));return v.createElement(J0,ml({},t,{alignmentBaseline:"middle",className:a}),r)};function aee(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=Hi(n),l=Ou(a),c=Ou(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,y=Rr(p.cx,p.cy,p.outerRadius+d,h),x=kr(kr(kr(kr({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:QJ(y.x,p.cx)},y),g=kr(kr(kr(kr({},s),p),{},{fill:"none",stroke:p.fill},c),{},{index:m,points:[Rr(p.cx,p.cy,p.outerRadius,h),y],key:"line"});return v.createElement(xo,{zIndex:fa.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},v.createElement(ti,null,i&&nee(i,g),ree(a,x,er(p,o))))});return v.createElement(ti,{className:"recharts-pie-labels"},f)}function iee(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?v.createElement(f_,{label:a}):v.createElement(aee,{sectors:t,props:n,showLabels:r})}function oee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=wt(Bu),l=wt($I),c=wt(fX),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=ay(a,UJ),h=kJ(d,a.dataKey,o),y=SJ(p),x=NJ(f,a.dataKey,o);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((g,b)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=c==null||c===o,S=String(b)===s&&(l==null||a.dataKey===l)&&w,C=s?r:null,j=n&&S?n:C,A=kr(kr({},g),{},{stroke:g.stroke,tabIndex:-1,[d3]:b,[f3]:o});return v.createElement(ti,ml({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},_1(m,g,b),{onMouseEnter:h(g,b),onMouseLeave:y(g,b),onClick:x(g,b)}),v.createElement(M_,ml({option:i??j,index:b,shapeType:"sector",isActive:S},A)))}))}function see(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=eee(s,l),h=Math.abs(m),y=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,x=r.filter(j=>er(j,c,0)!==0).length,g=(h>=360?x:x-1)*y,b=h-x*p-g,w=r.reduce((j,A)=>{var T=er(A,c,0);return j+(kt(T)?T:0)},0),S;if(w>0){var C;S=r.map((j,A)=>{var T=er(j,c,0),L=er(j,d,A),E=JJ(n,i,j),P=(kt(T)?T:0)/w,I,U=kr(kr({},j),a&&a[A]&&a[A].props);A?I=C.endAngle+ka(m)*y*(T!==0?1:0):I=s;var Y=I+ka(m)*((T!==0?p:0)+P*b),ee=(I+Y)/2,ce=(E.innerRadius+E.outerRadius)/2,$=[{name:L,value:T,payload:U,dataKey:c,type:f,graphicalItemId:n.id}],B=Rr(E.cx,E.cy,ce,ee);return C=kr(kr(kr(kr({},n.presentationProps),{},{percent:P,cornerRadius:typeof o=="string"?parseFloat(o):o,name:L,tooltipPayload:$,midAngle:ee,middleRadius:ce,tooltipPosition:B},U),E),{},{value:T,dataKey:c,startAngle:I,endAngle:Y,payload:U,paddingAngle:ka(m)*y}),C})}return S}function lee(e){var{showLabels:t,sectors:n,children:r}=e,a=v.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return v.createElement(TZ,{value:t?a:void 0},r)}function cee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=F0(t,"recharts-pie-"),h=n.current,[y,x]=v.useState(!1),g=v.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),b=v.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return v.createElement(lee,{showLabels:!y,sectors:a},v.createElement(L0,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:b,onAnimationEnd:g,key:m},w=>{var S=[],C=a&&a[0],j=C==null?void 0:C.startAngle;return a==null||a.forEach((A,T)=>{var L=h&&h[T],E=T>0?hc(A,"paddingAngle",0):0;if(L){var P=wa(L.endAngle-L.startAngle,A.endAngle-A.startAngle,w),I=kr(kr({},A),{},{startAngle:j+E,endAngle:j+P+E});S.push(I),j=I.endAngle}else{var{endAngle:U,startAngle:Y}=A,ee=wa(0,U-Y,w),ce=kr(kr({},A),{},{startAngle:j+E,endAngle:j+ee+E});S.push(ce),j=ce.endAngle}}),n.current=S,v.createElement(ti,null,v.createElement(oee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(iee,{showLabels:!y,sectors:a,props:t}),t.children)}var uee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fa.area};function dee(e){var{id:t}=e,n=ay(e,VJ),{hide:r,className:a,rootTabIndex:i}=e,o=v.useMemo(()=>j_(e.children,zu),[e.children]),s=wt(d=>YZ(d,t,o)),l=v.useRef(null),c=Nn("recharts-pie",a);return r||s==null?(l.current=null,v.createElement(ti,{tabIndex:i,className:c})):v.createElement(xo,{zIndex:e.zIndex},v.createElement(XJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(ti,{tabIndex:i,className:c},v.createElement(cee,{props:kr(kr({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function kg(e){var t=Hr(e,uee),{id:n}=t,r=ay(t,WJ),a=Hi(r);return v.createElement(P_,{id:n,type:"pie"},i=>v.createElement(v.Fragment,null,v.createElement(BJ,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),v.createElement(GJ,ml({},r,{id:i})),v.createElement(dee,ml({},r,{id:i}))))}kg.displayName="Pie";var fee=["points"];function fM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(n),!0).forEach(function(r){pee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pee(e,t,n){return(t=mee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mee(e){var t=hee(e,"string");return typeof t=="symbol"?t:t+""}function hee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg.apply(null,arguments)}function gee(e,t){if(e==null)return{};var n,r,a=yee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vee(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var a=Nn(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=gee(i,fee);return v.createElement(p_,Sg({},s,{className:a}))}function bee(e,t){return e==null?!1:t?!0:e.length===1}function xee(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:c=fa.scatter}=e;if(!bee(t,n))return null;var d=C_(n),f=ZU(n),p=t.map((h,y)=>{var x,g,b=xv(xv(xv({r:3},o),f),{},{index:y,cx:(x=h.x)!==null&&x!==void 0?x:void 0,cy:(g=h.y)!==null&&g!==void 0?g:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return v.createElement(vee,{key:"dot-".concat(y),option:n,dotProps:b,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(xo,{zIndex:c},v.createElement(ti,Sg({className:r},m),p))}function pM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(n),!0).forEach(function(r){wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wee(e,t,n){return(t=kee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nee={xAxis:{},yAxis:{},zAxis:{}},O_=ai({name:"cartesianAxis",initialState:Nee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ir()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ir()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ir()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ir()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ir()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ir()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ir()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ir()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ir()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=mM(mM({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:jee,replaceXAxis:Cee,removeXAxis:Aee,addYAxis:Mee,replaceYAxis:Eee,removeYAxis:Pee,addZAxis:ege,replaceZAxis:tge,removeZAxis:nge,updateYAxisWidth:Tee}=O_.actions,Oee=O_.reducer,Dee=de([aa],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Iee=de([Dee,xs,ws],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),bS=()=>wt(Iee),_ee=()=>wt(yX);function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(n),!0).forEach(function(r){Lee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lee(e,t,n){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fee(e){var t=Ree(e,"string");return typeof t=="symbol"?t:t+""}function Ree(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=wv(wv(wv({},s),Ou(a)),I1(a)),c;return v.isValidElement(a)?c=v.cloneElement(a,l):typeof a=="function"?c=a(l):c=v.createElement(p_,l),v.createElement(ti,{className:"recharts-active-dot",clipPath:o},c)};function Bee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=fa.activeDot}=e,s=wt(Bu),l=_ee();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return qr(c)?null:v.createElement(xo,{zIndex:o},v.createElement($ee,{point:c,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var D_=e=>{var{chartData:t}=e,n=Vn(),r=ii();return v.useEffect(()=>r?()=>{}:(n(OA(t)),()=>{n(OA(void 0))}),[t,n,r]),null},gM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},I_=ai({name:"brush",initialState:gM,reducers:{setBrushSettings(e,t){return t.payload==null?gM:t.payload}}}),{setBrushSettings:rge}=I_.actions,zee=I_.reducer;function Uee(e,t,n){return(t=Vee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vee(e){var t=Wee(e,"string");return typeof t=="symbol"?t:t+""}function Wee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xS{static create(t){return new xS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}Uee(xS,"EPS",1e-4);function qee(e){return(e%180+180)%180}var Hee=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=qee(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},Kee={dots:[],areas:[],lines:[]},__=ai({name:"referenceElements",initialState:Kee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=co(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=co(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=co(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:age,removeDot:ige,addArea:oge,removeArea:sge,addLine:lge,removeLine:cge}=__.actions,Yee=__.reducer,Gee=v.createContext(void 0),Xee=e=>{var{children:t}=e,[n]=v.useState("".concat(Af("recharts"),"-clip")),r=bS();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return v.createElement(Gee.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function L_(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function Qee(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Hee(r,n)}function Zee(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function zf(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function Jee(e,t){return L_(e,t+1)}function ete(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,c=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:L_(r,c)};var h=l,y,x=()=>(y===void 0&&(y=n(m,h)),y),g=m.coordinate,b=l===0||zf(e,g,x,d,s);b||(l=0,d=o,c+=1),b&&(d=g+e*(x()/2+a),l+=c)},p;c<=i.length;)if(p=f(),p)return p.v;return[]}function tte(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,c=1;c<=o;c++){for(var d=(o-1)%c,f=s,p=!0,m=function(){var g=r[h],b=h,w,S=()=>(w===void 0&&(w=n(g,b)),w),C=g.coordinate,j=h===d||zf(e,C,S,f,l);if(!j)return p=!1,1;j&&(f=C+e*(S()/2+a))},h=d;h<o&&!m();h+=c);if(p){for(var y=[],x=d;x<o;x+=c)y.push(r[x]);return y}}return[]}function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(r){nte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nte(e,t,n){return(t=rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rte(e){var t=ate(e,"string");return typeof t=="symbol"?t:t+""}function ate(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ite(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var y=e*(p.coordinate+e*h()/2-l);i[f]=p=va(va({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[f]=p=va(va({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=zf(e,p.tickCoord,h,s,l);x&&(l=p.tickCoord-e*(h()/2+a),i[f]=va(va({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return i}function ote(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-c);if(o[s-1]=d=va(va({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=zf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+a),o[s-1]=va(va({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,y=function(g){var b=o[g],w,S=()=>(w===void 0&&(w=n(b,g)),w);if(g===0){var C=e*(b.coordinate-e*S()/2-l);o[g]=b=va(va({},b),{},{tickCoord:C<0?b.coordinate-C*e:b.coordinate})}else o[g]=b=va(va({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=zf(e,b.tickCoord,S,l,c);j&&(l=b.tickCoord+e*(S()/2+a),o[g]=va(va({},b),{},{isShow:!0}))}},x=0;x<h;x++)y(x);return o}function wS(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(kt(l)||_0.isSsr){var p;return(p=Jee(a,kt(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",y=d&&h==="width"?Xd(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return h==="width"?Qee(Xd(C,{fontSize:t,letterSpacing:n}),y,f):Xd(C,{fontSize:t,letterSpacing:n})[h]},g=a.length>=2?ka(a[1].coordinate-a[0].coordinate):1,b=Zee(i,g,h);return l==="equidistantPreserveStart"?ete(g,b,x,a,o):l==="equidistantPreserveEnd"?tte(g,b,x,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=ote(g,b,x,a,o,l==="preserveStartEnd"):m=ite(g,b,x,a,o),m.filter(w=>w.isShow))}var ste=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,c=o+l+s+(n?r:0);return Math.round(c)}return 0},lte=["axisLine","width","height","className","hide","ticks","axisType"];function cte(e,t){if(e==null)return{};var n,r,a=ute(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ute(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(null,arguments)}function vM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(n),!0).forEach(function(r){dte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dte(e,t,n){return(t=fte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fte(e){var t=pte(e,"string");return typeof t=="symbol"?t:t+""}function pte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var is={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fa.axis};function mte(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=Lr(Lr(Lr({},l),Hi(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Lr(Lr({},c),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);c=Lr(Lr({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return v.createElement("line",kc({},c,{className:Nn("recharts-cartesian-axis-line",hc(s,"className"))}))}function hte(e,t,n,r,a,i,o,s,l){var c,d,f,p,m,h,y=s?-1:1,x=e.tickSize||o,g=kt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,p=n+ +!s*a,f=p-y*x,h=f-y*l,m=g;break;case"left":f=p=e.coordinate,d=t+ +!s*r,c=d-y*x,m=c-y*l,h=g;break;case"right":f=p=e.coordinate,d=t+ +s*r,c=d+y*x,m=c+y*l,h=g;break;default:c=d=e.coordinate,p=n+ +s*a,f=p+y*x,h=f+y*l,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function gte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function yte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function vte(e){var{option:t,tickProps:n,value:r}=e,a,i=Nn(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,Lr(Lr({},n),{},{className:i}));else if(typeof t=="function")a=t(Lr(Lr({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Nn(o,t==null?void 0:t.className)),a=v.createElement(J0,kc({},n,{className:o}),r)}return a}var bte=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:c,orientation:d,mirror:f,x:p,y:m,width:h,height:y,tickSize:x,tickMargin:g,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:j}=e,A=wS(Lr(Lr({},S),{},{ticks:n}),b,w),T=gte(d,f),L=yte(d,f),E=Hi(S),P=Ou(r),I={};typeof a=="object"&&(I=a);var U=Lr(Lr({},E),{},{fill:"none"},I),Y=A.map($=>Lr({entry:$},hte($,p,m,h,y,d,x,f,g))),ee=Y.map($=>{var{entry:B,line:re}=$;return v.createElement(ti,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},a&&v.createElement("line",kc({},U,re,{className:Nn("recharts-cartesian-axis-tick-line",hc(a,"className"))})))}),ce=Y.map(($,B)=>{var{entry:re,tick:k}=$,O=Lr(Lr(Lr(Lr({textAnchor:T,verticalAnchor:L},E),{},{stroke:"none",fill:i},P),k),{},{index:B,payload:re,visibleTicksCount:A.length,tickFormatter:o,padding:l},c);return v.createElement(ti,kc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},_1(C,re,B)),r&&v.createElement(vte,{option:r,tickProps:O,value:"".concat(typeof o=="function"?o(re.value,B):re.value).concat(s||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},ce.length>0&&v.createElement(xo,{zIndex:fa.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},ce)),ee.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},ee))}),xte=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,c=cte(e,lte),[d,f]=v.useState(""),[p,m]=v.useState(""),h=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return ste({ticks:h.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=v.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=g;var b=g[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==p)&&(f(S),m(C))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:v.createElement(xo,{zIndex:e.zIndex},v.createElement(ti,{className:Nn("recharts-cartesian-axis",i)},v.createElement(mte,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Hi(e)}),v.createElement(bte,{ref:y,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(pZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(SZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),kS=v.forwardRef((e,t)=>{var n=Hr(e,is);return v.createElement(xte,kc({},n,{ref:t}))});kS.displayName="CartesianAxis";var wte=["x1","y1","x2","y2","key"],kte=["offset"],Ste=["xAxisId","yAxisId"],Nte=["xAxisId","yAxisId"];function bM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(n),!0).forEach(function(r){jte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jte(e,t,n){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=Ate(e,"string");return typeof t=="symbol"?t:t+""}function Ate(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl.apply(null,arguments)}function Ng(e,t){if(e==null)return{};var n,r,a=Mte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ete=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return v.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function F_(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:c}=n,d=Ng(n,wte),f=(a=Hi(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=Ng(f,kte);r=v.createElement("line",Jl({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:c}))}return r}function Pte(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Ng(e,Ste),l=a.map((c,d)=>{var f=xa(xa({},s),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return v.createElement(F_,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Tte(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Ng(e,Nte),l=a.map((c,d)=>{var f=xa(xa({},s),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return v.createElement(F_,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Ote(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var c=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var y=p%t.length;return v.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Dte(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var y=p%n.length;return v.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ite=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return l3(wS(xa(xa(xa({},is),n),{},{ticks:c3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},_te=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return l3(wS(xa(xa(xa({},is),n),{},{ticks:c3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},Lte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fa.grid};function Uf(e){var t=ek(),n=tk(),r=w3(),a=xa(xa({},Hr(e,Lte)),{},{x:kt(e.x)?e.x:r.left,y:kt(e.y)?e.y:r.top,width:kt(e.width)?e.width:r.width,height:kt(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=ii(),y=wt(L=>wA(L,"xAxis",i,h)),x=wt(L=>wA(L,"yAxis",o,h));if(!Bo(c)||!Bo(d)||!kt(s)||!kt(l))return null;var g=a.verticalCoordinatesGenerator||Ite,b=a.horizontalCoordinatesGenerator||_te,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof b=="function"){var C=p&&p.length,j=b({yAxis:x?xa(xa({},x),{},{ticks:C?p:x.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);Xh(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(w=j)}if((!S||!S.length)&&typeof g=="function"){var A=m&&m.length,T=g({xAxis:y?xa(xa({},y),{},{ticks:A?m:y.ticks}):void 0,width:t??c,height:n??d,offset:r},A?!0:f);Xh(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(S=T)}return v.createElement(xo,{zIndex:a.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Ete,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(Ote,Jl({},a,{horizontalPoints:w})),v.createElement(Dte,Jl({},a,{verticalPoints:S})),v.createElement(Pte,Jl({},a,{offset:r,horizontalPoints:w,xAxis:y,yAxis:x})),v.createElement(Tte,Jl({},a,{offset:r,verticalPoints:S,xAxis:y,yAxis:x}))))}Uf.displayName="CartesianGrid";var Fte={},R_=ai({name:"errorBars",initialState:Fte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:uge,replaceErrorBar:dge,removeErrorBar:fge}=R_.actions,Rte=R_.reducer,$te=["children"];function Bte(e,t){if(e==null)return{};var n,r,a=zte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ute={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Vte=v.createContext(Ute);function Wte(e){var{children:t}=e,n=Bte(e,$te);return v.createElement(Vte.Provider,{value:n},t)}function $_(e,t){var n,r,a=wt(c=>Ss(c,e)),i=wt(c=>Ns(c,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Jr.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:ea.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function qte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=bS(),{needClipX:i,needClipY:o,needClip:s}=$_(t,n);if(!s||!a)return null;var{x:l,y:c,width:d,height:f}=a;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:i?l:l-d/2,y:o?c:c-f/2,width:i?d:d*2,height:o?f:f*2}))}var B_=(e,t,n,r)=>bI(e,"xAxis",t,r),z_=(e,t,n,r)=>vI(e,"xAxis",t,r),U_=(e,t,n,r)=>bI(e,"yAxis",n,r),V_=(e,t,n,r)=>vI(e,"yAxis",n,r),Hte=de([Tn,B_,U_,z_,V_],(e,t,n,r,a)=>xl(e,"xAxis")?fx(t,r,!1):fx(n,a,!1)),Kte=(e,t,n,r,a)=>a;function Yte(e){return e.type==="line"}var Gte=de([Z4,Kte],(e,t)=>e.filter(Yte).find(n=>n.id===t)),Xte=de([Tn,B_,U_,z_,V_,Gte,Hte,Ek],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(c,d+1),m!=null)return Dne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function Qte(e){var t=Ou(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Op=v;Op.useSyncExternalStore;Op.useRef;Op.useEffect;Op.useMemo;Op.useDebugValue;function Zte(e){e()}function Jte(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Zte(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var xM={notify(){},get:()=>[]};function ene(e,t){let n,r=xM,a=0,i=!1;function o(y){d();const x=r.subscribe(y);let g=!1;return()=>{g||(g=!0,x(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function c(){return i}function d(){a++,n||(n=e.subscribe(l),r=Jte())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=xM)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var tne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nne=tne(),rne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ane=rne(),ine=()=>nne||ane?v.useLayoutEffect:v.useEffect,one=ine();function wM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function sne(e,t){if(wM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!wM(e[n[a]],t[n[a]]))return!1;return!0}var kM=Symbol.for("react-redux-context"),SM=typeof globalThis<"u"?globalThis:{};function lne(){if(!v.createContext)return{};const e=SM[kM]??(SM[kM]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var cne=lne();function une(e){const{children:t,context:n,serverState:r,store:a}=e,i=v.useMemo(()=>{const l=ene(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=v.useMemo(()=>a.getState(),[a]);one(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||cne;return v.createElement(s.Provider,{value:i},t)}var dne=une,fne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function pne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function SS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(fne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!sne(e[r],t[r]))return!1}else if(!pne(e[r],t[r]))return!1;return!0}var mne=["id"],hne=["type","layout","connectNulls","needClip","shape"],gne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(null,arguments)}function NM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(n),!0).forEach(function(r){yne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yne(e,t,n){return(t=vne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NS(e,t){if(e==null)return{};var n,r,a=xne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wne=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:j0(n,t),payload:e}]},kne=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:j0(o,t),hide:s,type:c,color:r,unit:l,graphicalItemId:d}};return v.createElement(E_,{tooltipEntrySettings:f})}),W_=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Sne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Nne=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return W_(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>i){s=[...n.slice(0,l),i-c];break}var d=s.length%2===0?[0,o]:[o];return[...Sne(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function jne(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=NS(r,mne),c=Hi(l);return v.createElement(xee,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:o,clipPathId:t})}function Cne(e){var{showLabels:t,children:n,points:r}=e,a=v.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return To(To({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(PZ,{value:t?a:void 0},n)}function jM(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:c,shape:d}=i,f=NS(i,hne),p=To(To({},Fa(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(M_,Vf({shapeType:"curve",option:d},p,{pathRef:n})),v.createElement(jne,{points:r,clipPathId:t,props:i}))}function Ane(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Mne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:y,onAnimationStart:x}=n,g=a.current,b=F0(o,"recharts-line-"),w=v.useRef(b),[S,C]=v.useState(!1),j=!S,A=v.useCallback(()=>{typeof y=="function"&&y(),C(!1)},[y]),T=v.useCallback(()=>{typeof x=="function"&&x(),C(!0)},[x]),L=Ane(r.current),E=v.useRef(0);w.current!==b&&(E.current=i.current,w.current=b);var P=E.current;return v.createElement(Cne,{points:o,showLabels:j},n.children,v.createElement(L0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:A,onAnimationStart:T,key:b},I=>{var U=wa(P,L+P,I),Y=Math.min(U,L),ee;if(l)if(s){var ce="".concat(s).split(/[,\s]+/gim).map(re=>parseFloat(re));ee=Nne(Y,L,ce)}else ee=W_(L,Y);else ee=s==null?void 0:String(s);if(I>0&&L>0&&(a.current=o,i.current=Math.max(i.current,Y)),g){var $=g.length/o.length,B=I===1?o:o.map((re,k)=>{var O=Math.floor(k*$);if(g[O]){var M=g[O];return To(To({},re),{},{x:wa(M.x,re.x,I),y:wa(M.y,re.y,I)})}return p?To(To({},re),{},{x:wa(m*2,re.x,I),y:wa(h/2,re.y,I)}):To(To({},re),{},{x:re.x,y:re.y})});return a.current=B,v.createElement(jM,{props:n,points:B,clipPathId:t,pathRef:r,strokeDasharray:ee})}return v.createElement(jM,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:ee})}),v.createElement(f_,{label:n.label}))}function Ene(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),a=v.useRef(0),i=v.useRef(null);return v.createElement(Mne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var Pne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:er(e.payload,t)}};class Tne extends v.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:c,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=Nn("recharts-line",a),y=f,{r:x,strokeWidth:g}=Qte(n),b=C_(n),w=x*2+g,S=p?"url(#clipPath-".concat(b?"":"dots-").concat(y,")"):void 0;return v.createElement(xo,{zIndex:m},v.createElement(ti,{className:h},p&&v.createElement("defs",null,v.createElement(qte,{clipPathId:y,xAxisId:i,yAxisId:o}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:l-w/2,y:s-w/2,width:c+w,height:d+w}))),v.createElement(Wte,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:Pne,errorBarOffset:0},v.createElement(Ene,{props:this.props,clipPathId:y}))),v.createElement(Bee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var q_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fa.line,type:"linear"};function One(e){var t=Hr(e,q_),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:y}=t,x=NS(t,gne),{needClip:g}=$_(m,h),b=bS(),w=lp(),S=ii(),C=wt(E=>Xte(E,m,h,S,y));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:j,width:A,x:T,y:L}=b;return v.createElement(Tne,Vf({},x,{id:y,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:c,label:f,legendType:p,xAxisId:m,yAxisId:h,points:C,layout:w,height:j,width:A,left:T,top:L,needClip:g}))}function Dne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((c,d)=>{var f=er(c,o);if(t==="horizontal"){var p=Dj({axis:n,ticks:a,bandSize:s,entry:c,index:d}),m=qr(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:c}}var h=qr(f)?null:n.scale(f),y=Dj({axis:r,ticks:i,bandSize:s,entry:c,index:d});return h==null||y==null?null:{x:h,y,value:f,payload:c}}).filter(Boolean)}function Ine(e){var t=Hr(e,q_),n=ii();return v.createElement(P_,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(jJ,{legendPayload:wne(t)}),v.createElement(kne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement($J,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(One,Vf({},t,{id:r}))))}var Qo=v.memo(Ine,SS);Qo.displayName="Line";var _ne=["domain","range"],Lne=["domain","range"];function CM(e,t){if(e==null)return{};var n,r,a=Fne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AM(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function H_(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=CM(e,_ne),{domain:i,range:o}=t,s=CM(t,Lne);return!AM(n,i)||!AM(r,o)?!1:SS(a,s)}var Rne=["dangerouslySetInnerHTML","ticks","scale"],$ne=["id","scale"];function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(null,arguments)}function MM(e,t){if(e==null)return{};var n,r,a=Bne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Bne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zne(e){var t=Vn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(jee(e)):n.current!==e&&t(Cee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Aee(n.current)),n.current=null)},[t]),null}var Une=e=>{var{xAxisId:t,className:n}=e,r=wt(p3),a=ii(),i="xAxis",o=wt(g=>yI(g,i,t,a)),s=wt(g=>iG(g,t)),l=wt(g=>dG(g,t)),c=wt(g=>G4(g,t));if(s==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=MM(e,Rne),{id:h,scale:y}=c,x=MM(c,$ne);return v.createElement(kS,Vx({},m,x,{x:l.x,y:l.y,width:s.width,height:s.height,className:Nn("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},Vne={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:Jr.allowDecimals,allowDuplicatedCategory:Jr.allowDuplicatedCategory,angle:Jr.angle,axisLine:is.axisLine,height:Jr.height,hide:!1,includeHidden:Jr.includeHidden,interval:Jr.interval,minTickGap:Jr.minTickGap,mirror:Jr.mirror,orientation:Jr.orientation,padding:Jr.padding,reversed:Jr.reversed,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,tickLine:is.tickLine,tickSize:is.tickSize,type:Jr.type,xAxisId:0},Wne=e=>{var t=Hr(e,Vne);return v.createElement(v.Fragment,null,v.createElement(zne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Une,t))},Wf=v.memo(Wne,H_);Wf.displayName="XAxis";var qne=["dangerouslySetInnerHTML","ticks","scale"],Hne=["id","scale"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wx.apply(null,arguments)}function EM(e,t){if(e==null)return{};var n,r,a=Kne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Kne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yne(e){var t=Vn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Mee(e)):n.current!==e&&t(Eee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Pee(n.current)),n.current=null)},[t]),null}var Gne=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=v.useRef(null),o=v.useRef(null),s=wt(p3),l=ii(),c=Vn(),d="yAxis",f=wt(j=>mG(j,t)),p=wt(j=>pG(j,t)),m=wt(j=>yI(j,d,t,l)),h=wt(j=>X4(j,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||hS(a)||v.isValidElement(a)||h==null)){var j=i.current;if(j){var A=j.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&c(Tee({id:t,width:A}))}}},[m,f,c,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:g}=e,b=EM(e,qne),{id:w,scale:S}=h,C=EM(h,Hne);return v.createElement(kS,Wx({},b,C,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Nn("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},Xne={allowDataOverflow:ea.allowDataOverflow,allowDecimals:ea.allowDecimals,allowDuplicatedCategory:ea.allowDuplicatedCategory,angle:ea.angle,axisLine:is.axisLine,hide:!1,includeHidden:ea.includeHidden,interval:ea.interval,minTickGap:ea.minTickGap,mirror:ea.mirror,orientation:ea.orientation,padding:ea.padding,reversed:ea.reversed,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,tickLine:is.tickLine,tickSize:is.tickSize,type:ea.type,width:ea.width,yAxisId:0},Qne=e=>{var t=Hr(e,Xne);return v.createElement(v.Fragment,null,v.createElement(Yne,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(Gne,t))},qf=v.memo(Qne,H_);qf.displayName="YAxis";var Zne=(e,t)=>t,jS=de([Zne,Tn,H4,Yr,_I,js,PX,aa],FX),CS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},K_=Ki("mouseClick"),Y_=op();Y_.startListening({actionCreator:K_,effect:(e,t)=>{var n=e.payload,r=jS(t.getState(),CS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(MG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var qx=Ki("mouseMove"),G_=op(),Cm=null;G_.startListening({actionCreator:qx,effect:(e,t)=>{var n=e.payload;Cm!==null&&cancelAnimationFrame(Cm);var r=CS(n);Cm=requestAnimationFrame(()=>{var a=t.getState(),i=iS(a,a.tooltip.settings.shared);if(i==="axis"){var o=jS(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(AI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(CI())}Cm=null})}});function Jne(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var PM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},X_=ai({name:"rootProps",initialState:PM,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:PM.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ere=X_.reducer,{updateOptions:tre}=X_.actions,Q_=ai({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:nre}=Q_.actions,rre=Q_.reducer,Z_=Ki("keyDown"),J_=Ki("focus"),AS=op();AS.startListening({actionCreator:Z_,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=oS(a,rd(n),vp(n),wp(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=js(n);if(i==="Enter"){var c=vg(n,"axis","hover",String(a.index));t.dispatch(Fx({active:!a.active,activeIndex:a.index,activeCoordinate:c}));return}var d=vG(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=vg(n,"axis","hover",String(m));t.dispatch(Fx({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});AS.startListening({actionCreator:J_,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=vg(n,"axis","hover",String(i));t.dispatch(Fx({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ii=Ki("externalEvent"),eL=op(),kv=new Map;eL.startListening({actionCreator:Ii,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=kv.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:mX(s),activeDataKey:$I(s),activeIndex:Bu(s),activeLabel:RI(s),activeTooltipIndex:Bu(s),isTooltipActive:hX(s)};n(l,r)}finally{kv.delete(a)}});kv.set(a,o)}}});var are=de([td],e=>e.tooltipItemPayloads),ire=de([are,xp,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),tL=Ki("touchMove"),nL=op();nL.startListening({actionCreator:tL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=iS(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=jS(r,CS({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(AI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(d3),f=(s=c.getAttribute(f3))!==null&&s!==void 0?s:void 0,p=nd(r).find(y=>y.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=ire(r,d,f);t.dispatch(jI({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var ore=DD({brush:zee,cartesianAxis:Oee,chartData:pQ,errorBars:Rte,graphicalItems:FJ,layout:GV,legend:X9,options:lQ,polarAxis:zZ,polarOptions:rre,referenceElements:Yee,rootProps:ere,tooltip:EG,zIndex:QX}),sre=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return xV({reducer:ore,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Y_.middleware,G_.middleware,AS.middleware,eL.middleware,nL.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(YD({type:"raf"}))},devTools:{serialize:{replacer:Jne},name:"recharts-".concat(t)}})};function rL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ii(),i=v.useRef(null);if(a)return n;i.current==null&&(i.current=sre(t,r));var o=W1;return v.createElement(dne,{context:o,store:i.current},n)}function lre(e){var{layout:t,margin:n}=e,r=Vn(),a=ii();return v.useEffect(()=>{a||(r(HV(t)),r(qV(n)))},[r,a,t,n]),null}var aL=v.memo(lre,SS);function iL(e){var t=Vn();return v.useEffect(()=>{t(tre(e))},[t,e]),null}function TM(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),a=Vn();return v.useLayoutEffect(()=>(r.current&&a(GX({zIndex:t,element:r.current,isPanorama:n})),()=>{a(XX({zIndex:t,isPanorama:n}))}),[a,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function OM(e){var{children:t,isPanorama:n}=e,r=wt($X);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return v.createElement(v.Fragment,null,a.map(o=>v.createElement(TM,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>v.createElement(TM,{key:o,zIndex:o,isPanorama:n})))}var cre=["children"];function ure(e,t){if(e==null)return{};var n,r,a=dre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jg.apply(null,arguments)}var fre={width:"100%",height:"100%",display:"block"},pre=v.forwardRef((e,t)=>{var n=ek(),r=tk(),a=D3();if(!Bo(n)||!Bo(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),v.createElement(M1,jg({},o,{title:s,desc:l,role:d,tabIndex:c,width:n,height:r,style:fre,ref:t}),i)}),mre=e=>{var{children:t}=e,n=wt(E0);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return v.createElement(M1,{width:r,height:a,x:o,y:i},t)},DM=v.forwardRef((e,t)=>{var{children:n}=e,r=ure(e,cre),a=ii();return a?v.createElement(mre,null,v.createElement(OM,{isPanorama:!0},n)):v.createElement(pre,jg({ref:t},r),v.createElement(OM,{isPanorama:!1},n))});function hre(){var e=Vn(),[t,n]=v.useState(null),r=wt(u9);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Br(i)&&i!==r&&e(YV(i))}},[t,e,r]),n}function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(r){yre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yre(e,t,n){return(t=vre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vre(e){var t=bre(e,"string");return typeof t=="symbol"?t:t+""}function bre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(null,arguments)}var xre=()=>(kQ(),null);function Cg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var wre=v.forwardRef((e,t)=>{var n,r,a=v.useRef(null),[i,o]=v.useState({containerWidth:Cg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Cg((r=e.style)===null||r===void 0?void 0:r.height)}),s=v.useCallback((c,d)=>{o(f=>{var p=Math.round(c),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();s(d,f);var p=h=>{var{width:y,height:x}=h[0].contentRect;s(y,x)},m=new ResizeObserver(p);m.observe(c),a.current=m}},[t,s]);return v.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[s]),v.createElement(v.Fragment,null,v.createElement(T0,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Sc({ref:l},e)))}),kre=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=v.useState({containerWidth:Cg(n),containerHeight:Cg(r)}),o=v.useCallback((l,c)=>{i(d=>{var f=Math.round(l),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();o(c,d)}},[t,o]);return v.createElement(v.Fragment,null,v.createElement(T0,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Sc({ref:s},e)))}),Sre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(T0,{width:n,height:r}),v.createElement("div",Sc({ref:t},e)))}),Nre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return fs(n)||fs(r)?v.createElement(kre,Sc({},e,{ref:t})):v.createElement(Sre,Sc({},e,{ref:t}))});function jre(e){return e===!0?wre:Nre}var Cre=v.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:y,style:x,width:g,responsive:b,dispatchTouchEvents:w=!0}=e,S=v.useRef(null),C=Vn(),[j,A]=v.useState(null),[T,L]=v.useState(null),E=hre(),P=J1(),I=(P==null?void 0:P.width)>0?P.width:g,U=(P==null?void 0:P.height)>0?P.height:a,Y=v.useCallback(_=>{E(_),typeof t=="function"&&t(_),A(_),L(_),_!=null&&(S.current=_)},[E,t,A,L]),ee=v.useCallback(_=>{C(K_(_)),C(Ii({handler:i,reactEvent:_}))},[C,i]),ce=v.useCallback(_=>{C(qx(_)),C(Ii({handler:c,reactEvent:_}))},[C,c]),$=v.useCallback(_=>{C(CI()),C(Ii({handler:d,reactEvent:_}))},[C,d]),B=v.useCallback(_=>{C(qx(_)),C(Ii({handler:f,reactEvent:_}))},[C,f]),re=v.useCallback(()=>{C(J_())},[C]),k=v.useCallback(_=>{C(Z_(_.key))},[C]),O=v.useCallback(_=>{C(Ii({handler:o,reactEvent:_}))},[C,o]),M=v.useCallback(_=>{C(Ii({handler:s,reactEvent:_}))},[C,s]),N=v.useCallback(_=>{C(Ii({handler:l,reactEvent:_}))},[C,l]),V=v.useCallback(_=>{C(Ii({handler:p,reactEvent:_}))},[C,p]),Q=v.useCallback(_=>{C(Ii({handler:y,reactEvent:_}))},[C,y]),H=v.useCallback(_=>{w&&C(tL(_)),C(Ii({handler:h,reactEvent:_}))},[C,w,h]),G=v.useCallback(_=>{C(Ii({handler:m,reactEvent:_}))},[C,m]),J=jre(b);return v.createElement(HI.Provider,{value:j},v.createElement(OO.Provider,{value:T},v.createElement(J,{width:I??(x==null?void 0:x.width),height:U??(x==null?void 0:x.height),className:Nn("recharts-wrapper",r),style:gre({position:"relative",cursor:"default",width:I,height:U},x),onClick:ee,onContextMenu:O,onDoubleClick:M,onFocus:re,onKeyDown:k,onMouseDown:N,onMouseEnter:ce,onMouseLeave:$,onMouseMove:B,onMouseUp:V,onTouchEnd:G,onTouchMove:H,onTouchStart:Q,ref:Y},v.createElement(xre,null),n)))}),Are=["width","height","responsive","children","className","style","compact","title","desc"];function Mre(e,t){if(e==null)return{};var n,r,a=Ere(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ere(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oL=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:c,desc:d}=e,f=Mre(e,Are),p=Hi(f);return l?v.createElement(v.Fragment,null,v.createElement(T0,{width:n,height:r}),v.createElement(DM,{otherAttributes:p,title:c,desc:d},i)):v.createElement(Cre,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(DM,{otherAttributes:p,title:c,desc:d,ref:t},v.createElement(Xee,null,i)))});function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(null,arguments)}var Pre={top:5,right:5,bottom:5,left:5},Tre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Pre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ore=v.forwardRef(function(e,t){var n,r=Hr(e.categoricalChartProps,Tre),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,c={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return v.createElement(rL,{preloadedState:{options:c},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},v.createElement(D_,{chartData:l.data}),v.createElement(aL,{layout:r.layout,margin:r.margin}),v.createElement(iL,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),v.createElement(oL,Hx({},r,{ref:t})))}),Dre=["axis"],Ag=v.forwardRef((e,t)=>v.createElement(Ore,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Dre,tooltipPayloadSearcher:YI,categoricalChartProps:e,ref:t}));function Ire(e){var t=Vn();return v.useEffect(()=>{t(nre(e))},[t,e]),null}var _re=["layout"];function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx.apply(null,arguments)}function Lre(e,t){if(e==null)return{};var n,r,a=Fre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rre={top:5,right:5,bottom:5,left:5},sL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Rre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},$re=v.forwardRef(function(e,t){var n,r=Hr(e.categoricalChartProps,sL),{layout:a}=r,i=Lre(r,_re),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return v.createElement(rL,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},v.createElement(D_,{chartData:r.data}),v.createElement(aL,{layout:a,margin:r.margin}),v.createElement(iL,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),v.createElement(Ire,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),v.createElement(oL,Kx({},i,{ref:t})))});function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function LM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(n),!0).forEach(function(r){Bre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bre(e,t,n){return(t=zre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zre(e){var t=Ure(e,"string");return typeof t=="symbol"?t:t+""}function Ure(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vre=["item"],Wre=LM(LM({},sL),{},{layout:"centric",startAngle:0,endAngle:360}),Yx=v.forwardRef((e,t)=>{var n=Hr(e,Wre);return v.createElement($re,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Vre,tooltipPayloadSearcher:YI,categoricalChartProps:n,ref:t})});const En=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),FM="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Qd=new Map,ku=new Map,qre=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(Qd.has(r)||ku.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&Qd.set(r,o),o})();ku.set(r,a);try{await a}finally{ku.delete(r)}}))},Hre=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Qd.get(e)||FM:null});return v.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=Qd.get(e);if(a){n(a);return}let i=!0;const o=ku.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&Qd.set(e,l),l})();return ku.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n(FM)}}).finally(()=>{ku.delete(e)}),()=>{i=!1}},[e]),t},Kre=(e,t,n,r)=>{const[a,i]=v.useState("bottom"),[o,s]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(A=>{let T=(A==null?void 0:A.parentElement)||null;for(;T;){const L=window.getComputedStyle(T),E=`${L.overflow}${L.overflowY}${L.overflowX}`;if(/(auto|scroll|hidden)/.test(E))return T;T=T.parentElement}return null})(c),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=h.bottom-f.bottom,x=f.top-h.top,g=y<p.height+8&&x>y?"top":"bottom";i(g);const b=6,w=f.left+f.width/2,S=h.left+b+p.width/2,C=h.right-b-p.width/2,j=Math.min(Math.max(w,S),C);s(j-w)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},Yre=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},lL=(e,t,n,r,a=8)=>{const[i,o]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const s=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,y=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),x=f.left+f.width/2,g=a+p.width/2,b=window.innerWidth-a-p.width/2,w=Math.min(Math.max(x,g),b);o({position:"fixed",top:y,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},Gre=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=Gl(a||"Unknown"),o=r.length>1,[s,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=Kre(s,[r.length,f],c,d),h=Array.from(new Set(r.map(b=>ac(b||"Unknown")))).slice(0,4),y=h.length>1?`conic-gradient(${h.map((b,w)=>`${b} ${w*360/h.length}deg ${(w+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const x=p==="top"?"bottom-full mb-2":"top-full mt-2",g={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:y},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/90"})}),u.jsxs("div",{ref:d,style:g,className:`absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${x} ${s?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Gl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},Xre=(e,t,n="w-4 h-4 object-contain")=>u.jsx(Gre,{profession:e,professionList:t,className:n}),Sv=({count:e,classCounts:t,label:n,className:r})=>{const a=Yre(t||{}),i=e>0,[o,s]=v.useState(!1),l=v.useRef(null),c=v.useRef(null),d=lL(o,[a.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&Yu.createPortal(u.jsxs("div",{ref:c,style:d,className:`z-[9999] w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${o?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const y=Gl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[y?u.jsx("img",{src:y,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Nr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a=""})=>{const i=Hre(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[i?u.jsx("img",{src:i,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`truncate ${a}`,children:e})]})},RM=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=v.useState(!1),s=v.useRef(null),l=v.useRef(null),c=lL(i,[n.length],s,l);return u.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{children:e}),a&&typeof document<"u"&&Yu.createPortal(u.jsxs("div",{ref:l,style:c,className:`z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg backdrop-blur-md opacity-0 pointer-events-none transition-opacity ${i?"opacity-100":""}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Nr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},Qre=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:y,setSkillUsagePlayerFilter:x,skillUsageView:g,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:j,setSelectedSkillId:A,skillBarData:T,selectedSkillName:L,selectedSkillIcon:E,skillUsageReady:P,skillUsageAvailable:I,isSkillUsagePerSecond:U,skillChartData:Y,skillChartMaxY:ee,playerTotalsForSkill:ce,hoveredSkillPlayer:$,setHoveredSkillPlayer:B,getLineStrokeColor:re,getLineDashForPlayer:k,formatSkillUsageValue:O,renderProfessionIcon:M})=>u.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(g1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(En,{value:g,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]})]}),s.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(N=>{const V=d.get(N);return V?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:V.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[V.logs," ",V.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(V.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(fO,{className:"w-3 h-3"})})]},V.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:y,onChange:N=>x(N.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(N=>{const V=p===N.profession,Q=N.players.map(G=>G.key),H=Q.length>0&&Q.every(G=>s.includes(G));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(V){m(null);return}m(N.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${V?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M(N.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:N.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[N.players.length,"p"]}),V?u.jsx(Hb,{className:"w-3.5 h-3.5"}):u.jsx(uz,{className:"w-3.5 h-3.5"})]})]})}),V&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[N.players.length," ",N.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(G=>{if(H)return G.filter(_=>!Q.includes(_));const J=new Set(G);return Q.forEach(_=>J.add(_)),Array.from(J)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:H?"Clear All":"Select All"})]}),N.players.map(G=>{const J=s.includes(G.key);return u.jsx("button",{type:"button",onClick:()=>h(G.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${J?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:G.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[G.account,"  ",G.profession,"  ",G.logs," ",G.logs===1?"log":"logs"]})]}),J&&u.jsx(cO,{className:"w-4 h-4 text-cyan-300"})]})},G.key)})]})]},N.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${U?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:N=>C(N.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):T.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const N=T.reduce((V,Q)=>Math.max(V,Q.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:T.map((V,Q)=>{const H=Math.min(100,V.total/N*100),G=j===V.skillId;return u.jsxs("button",{type:"button",onClick:()=>A(V.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${G?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${Q+1}`}),u.jsx(Nr,{name:V.name,iconUrl:V.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:O(V.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${H}%`,backgroundColor:V.color}})})]},V.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:P?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:L?u.jsx(Nr,{name:L,iconUrl:E,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",U?"casts per second":"casts per log",")"]})]}),u.jsx(yc,{width:"100%",height:250,children:u.jsxs(Ag,{data:Y,children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Wf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:N=>{const V=Y[N],Q=String((V==null?void 0:V.shortLabel)??N);return Q.length>20?`${Q.slice(0,20)}`:Q}}),u.jsx(qf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ee)],allowDecimals:!1}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:N,payload:V,label:Q})=>{var H;if(!N||!V||V.length===0)return null;const G=[...V].sort((ne,ge)=>(ge.value||0)-(ne.value||0)),J=G[0],_=((H=J==null?void 0:J.payload)==null?void 0:H.fullLabel)||Q;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:_}),u.jsx("div",{className:"space-y-1",children:G.map(ne=>{const ge=String(ne.name||""),R=d.get(ge),ae=(R==null?void 0:R.displayName)||ge||"Player",W=O(Number(ne.value||0)),F=ne.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:F},children:ae}),u.jsx("span",{className:"text-gray-200 font-mono",children:W})]},`${ae}-${W}`)})})]})}}),s.map(N=>{const V=$.includes(N),Q=$.length>0,H=re(N,V,Q),G=k(N),J=$.length>0&&!V;return u.jsx(Qo,{dataKey:N,stroke:H,strokeWidth:V?4:3,strokeDasharray:G,opacity:J?.6:1,dot:!1,isAnimationActive:s.length<=16,animationDuration:420,animationEasing:"ease-out"},N)})]})})]}),s.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((N,V)=>(ce.get(V)||0)-(ce.get(N)||0)).map(N=>{const V=d.get(N),Q=ce.get(N)??0,H=$.includes(N),G=$.length>0,J=re(N,H,G);return u.jsxs("button",{type:"button",onClick:()=>{B(_=>_.includes(N)?_.filter(ne=>ne!==N):[..._,N])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${H?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":H,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:J,strokeWidth:"2",strokeDasharray:k(N),strokeLinecap:"round"})}),M(V==null?void 0:V.profession,V==null?void 0:V.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(V==null?void 0:V.displayName)||N}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(V==null?void 0:V.logs)??0," ",((V==null?void 0:V.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:O(Q)})]},N)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:I?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),Zre=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,a]=v.useState(0),[i,o]=v.useState(0),s=v.useRef(!1),l=v.useRef(0),c=v.useRef(0);v.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=p,j=w>S,A=n.current,T=(A==null?void 0:A.clientWidth)||0;if(!T){m=window.requestAnimationFrame(h);return}if(!j){a(T),o(0);return}const L=S/w,E=Math.max(20,Math.floor(T*L)),P=w-S,I=Math.max(0,T-E),U=P>0?Math.floor(C/P*I):0;a(E),o(U)};h();const y=()=>h(),x=new ResizeObserver(h);x.observe(p);const g=p.firstElementChild;g instanceof HTMLElement&&x.observe(g),n.current&&x.observe(n.current);const b=new MutationObserver(()=>h());return b.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",y),()=>{m&&window.cancelAnimationFrame(m),x.disconnect(),b.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",y)}},[e]),v.useEffect(()=>{const p=h=>{if(!s.current)return;const y=n.current,x=e.current;if(!y||!x)return;const g=y.getBoundingClientRect(),b=h.clientX-l.current,w=Math.max(0,g.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=x.scrollWidth-x.clientWidth,j=w>0?S/w*C:0;x.scrollLeft=j},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const y=m.getBoundingClientRect(),x=p.clientX-y.left,g=Math.max(0,y.width-r),b=Math.min(g,Math.max(0,x-r/2)),w=h.scrollWidth-h.clientWidth;h.scrollLeft=g>0?b/g*w:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,c.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},ho=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const c=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?u.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),m&&u.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>u.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),u.jsx(Zre,{containerRef:c})]})},go=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=v.useState(""),[s,l]=v.useState(!1),[c,d]=v.useState(0),f=v.useRef(null),p=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const g=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=v.useMemo(()=>{const g=i.trim().toLowerCase();return g?e.filter(b=>b.label.toLowerCase().includes(g)).slice(0,50):e.slice(0,50)},[e,i]),y=v.useMemo(()=>{const g=new Map;return h.forEach((b,w)=>{g.set(`${b.type}-${b.id}`,w)}),g},[h]),x=v.useMemo(()=>{const g=h.filter(w=>w.type==="column"),b=h.filter(w=>w.type==="player");return{columns:g,players:b}},[h]);return v.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(g=>Math.min(Math.max(g,0),h.length-1))}},[h,s]),v.useEffect(()=>{if(!s)return;const g=h[c];if(!g)return;const b=`${g.type}-${g.id}`,w=m.current.get(b);w&&p.current&&w.scrollIntoView({block:"nearest"})},[c,h,s]),u.jsxs("div",{ref:f,className:`relative ${a}`,children:[u.jsx("input",{value:i,onChange:g=>{o(g.target.value),l(!0)},onKeyDown:g=>{if(!s&&(g.key==="ArrowDown"||g.key==="ArrowUp")){l(!0);return}if(s)if(g.key==="ArrowDown"){if(g.preventDefault(),h.length===0)return;d(b=>(b+1)%h.length)}else if(g.key==="ArrowUp"){if(g.preventDefault(),h.length===0)return;d(b=>(b-1+h.length)%h.length)}else if(g.key==="Enter"){g.preventDefault();const b=h[c];if(!b)return;r(b),o(""),l(!1)}else g.key==="Escape"&&(g.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[x.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),x.columns.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=y.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===y.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]}),x.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),x.players.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=y.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===y.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]})]})})]})},pr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=v.useState(!1),c=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=p=>{c.current&&(c.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${a}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,u.jsx("span",{children:i}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},Jre=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:y,setActiveApmSkillId:x,ALL_SKILLS_KEY:g,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:j,apmView:A,setApmView:T,formatApmValue:L,formatCastRateValue:E,formatCastCountValue:P,renderProfessionIcon:I})=>{var U;const[Y,ee]=v.useState({key:"apm",dir:"desc"}),ce=e==="apm-stats",[$,B]=v.useState({columnId:"",dir:"desc"}),[re,k]=v.useState([]),[O,M]=v.useState([]),[N,V]=v.useState({}),Q=ce?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,H=J=>{ee(_=>({key:J,dir:_.key===J&&_.dir==="desc"?"asc":"desc"}))},G=v.useMemo(()=>{const J=[...(S==null?void 0:S.playerRows)||[]];return J.sort((_,ne)=>{const ge=Y.key==="apm"?Number(A==="perSecond"?_.aps:_.apm):Number(A==="perSecond"?_.apsNoAuto:_.apmNoAuto),R=Y.key==="apm"?Number(A==="perSecond"?ne.aps:ne.apm):Number(A==="perSecond"?ne.apsNoAuto:ne.apmNoAuto);return(Y.dir==="desc"?R-ge:ge-R)||String(_.displayName||"").localeCompare(String(ne.displayName||""))}),J},[S,Y,A]);return u.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(x1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:J=>w(J.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:Q,children:d.map(J=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const _=f!==J.profession;p(J.profession),h(_?J.profession:m===J.profession?null:J.profession),_&&(x(g),k([]),M([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===J.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I(J.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[J.players.length,"p"]})})]})}),!ce&&m===J.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:N[J.profession]||"",onChange:_=>{const ne=_.target.value;V(ge=>({...ge,[J.profession]:ne}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{p(J.profession),x(g)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===J.profession&&j?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(J.skills||[]).filter(_=>{const ne=(N[J.profession]||"").trim().toLowerCase();return ne?String(_.name||"").toLowerCase().includes(ne):!0}).map(_=>u.jsx("button",{type:"button",onClick:()=>{p(J.profession),x(_.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===J.profession&&y===_.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:_.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[_.icon?u.jsx("img",{src:_.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:_.name})]})},_.id)),(J.skills||[]).filter(_=>{const ne=(N[J.profession]||"").trim().toLowerCase();return ne?String(_.name||"").toLowerCase().includes(ne):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},J.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ce&&(()=>{const J=S.skills||[],_=(S.playerRows||[]).map(ae=>({id:ae.key,label:ae.displayName||ae.account||ae.key,icon:I(ae.profession,ae.professionList,"w-3 h-3")})),ne=J.map(ae=>({id:ae.id,label:ae.name,icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ge=[...J.map(ae=>({id:ae.id,label:ae.name,type:"column",icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(ae=>({id:ae.key,label:ae.displayName||ae.account||ae.key,type:"player",icon:I(ae.profession,ae.professionList,"w-3 h-3")}))],R=new Set([...re.map(ae=>`column:${ae}`),...O.map(ae=>`player:${ae}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(go,{options:ge,selectedIds:R,onSelect:ae=>{ae.type==="column"?k(W=>W.includes(ae.id)?W.filter(F=>F!==ae.id):[...W,ae.id]):M(W=>W.includes(ae.id)?W.filter(F=>F!==ae.id):[...W,ae.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:ne,selectedIds:re,onToggle:ae=>{k(W=>W.includes(ae)?W.filter(F=>F!==ae):[...W,ae])},onClear:()=>k([]),buttonLabel:"Columns",buttonIcon:u.jsx(po,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:_,selectedIds:O,onToggle:ae=>{M(W=>W.includes(ae)?W.filter(F=>F!==ae):[...W,ae])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:A,onChange:T,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(re.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{k([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),re.map(ae=>{var W;const F=((W=J.find(le=>le.id===ae))==null?void 0:W.name)||ae;return u.jsxs("button",{type:"button",onClick:()=>k(le=>le.filter(xe=>xe!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)}),O.map(ae=>{var W;const F=((W=_.find(le=>le.id===ae))==null?void 0:W.label)||ae;return u.jsxs("button",{type:"button",onClick:()=>M(le=>le.filter(xe=>xe!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)})]})]})})(),ce?(()=>{var J,_;const ne=S.skills||[],ge=re.length>0?ne.filter(F=>re.includes(F.id)):ne,R=O.length>0?(S.playerRows||[]).filter(F=>O.includes(F.key)):S.playerRows||[];if(ne.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ae=((J=ge.find(F=>F.id===$.columnId))==null?void 0:J.id)||((_=ge[0])==null?void 0:_.id)||"",W=[...R].map(F=>{const le={},xe={};return ge.forEach(Je=>{var ue;const Ke=Number(((ue=Je.playerCounts)==null?void 0:ue.get(F.key))||0),Fe=A==="perSecond"?Ke/Math.max(1,F.totalActiveSeconds||0):Ke;xe[Je.id]=Fe,le[Je.id]=A==="perSecond"?E(Fe):P(Fe)}),{row:F,values:le,numericValues:xe}}).sort((F,le)=>{const xe=F.numericValues[ae]??0,Je=le.numericValues[ae]??0;return($.dir==="desc"?Je-xe:xe-Je)||String(F.row.displayName||"").localeCompare(String(le.row.displayName||""))});return u.jsx(ho,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ae,sortDirection:$.dir,onSortColumn:F=>{B(le=>({columnId:F,dir:le.columnId===F&&le.dir==="desc"?"asc":"desc"}))},columns:ge.map(F=>({id:F.id,label:u.jsx(Nr,{name:F.name,iconUrl:F.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:W.map((F,le)=>({id:`${S.profession}-${F.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:le+1}),I(F.row.profession,F.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:F.row.displayName})]}),values:F.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),j||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Nr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:j||!C?`${((U=S.playerRows)==null?void 0:U.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),j||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>H("apm"),className:`text-right transition-colors ${Y.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM",Y.key==="apm"?Y.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>H("apmNoAuto"),className:`text-right transition-colors ${Y.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM"," (No Auto)",Y.key==="apmNoAuto"?Y.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:A==="perSecond"?"APS":"APM"})]})]}),j||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:G.map((J,_)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${_+1}`}),I(J.profession,J.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:J.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(A==="perSecond"?J.aps:J.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(A==="perSecond"?J.apsNoAuto:J.apmNoAuto)})]},`${S.profession}-all-${J.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((J,_)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${_+1}`}),I(J.profession,J.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:J.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:P(Number(J.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(Number(A==="perSecond"?J.aps||0:J.apm||0))})]},`${S.profession}-${C.id}-${J.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},eae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:y,activePlayerSkillId:x,setActivePlayerSkillId:g,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:j,setActiveClassSkillId:A,skillSearch:T,setSkillSearch:L,activePlayerBreakdown:E,activePlayerSkill:P,activeClassBreakdown:I,activeClassSkill:U,renderProfessionIcon:Y})=>{const ee=d.length,ce=((E==null?void 0:E.skills)||[]).reduce((W,F)=>W+(F.damage||0),0),$=(I==null?void 0:I.players)||[],[B,re]=v.useState({key:"down",dir:"desc"}),k=e==="player-breakdown",[O,M]=v.useState([]),[N,V]=v.useState([]),[Q,H]=v.useState({columnId:"",dir:"desc"}),[G,J]=v.useState({}),[_,ne]=v.useState({}),ge=k?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,R=v.useMemo(()=>{if(!I||!U)return $;const W=[...$];return W.sort((F,le)=>{var xe,Je;const ue=(xe=F.skillMap)==null?void 0:xe[U.id],Ke=(Je=le.skillMap)==null?void 0:Je[U.id],Fe=Number((ue==null?void 0:ue.downContribution)||0),gt=Number((Ke==null?void 0:Ke.downContribution)||0),Wt=Number((ue==null?void 0:ue.damage)||0),On=Number((Ke==null?void 0:Ke.damage)||0),Wn=F.totalFightMs>0?Wt/(F.totalFightMs/1e3):0,he=le.totalFightMs>0?On/(le.totalFightMs/1e3):0;let Pe=0;return B.key==="down"&&(Pe=Fe-gt),B.key==="damage"&&(Pe=Wt-On),B.key==="dps"&&(Pe=Wn-he),B.dir==="asc"?Pe:-Pe}),W},[I,$,U,B]),ae=W=>{re(F=>F.key!==W?{key:W,dir:"desc"}:{key:W,dir:F.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(y1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ee," ",ee===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:k?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!k&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(W=>{const F=l===W.id;return u.jsx("button",{type:"button",onClick:()=>c(W.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${F?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:W.label},W.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:T,onChange:W=>L(W.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:ge,children:(k?"class":l)==="player"?d.map(W=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=p!==W.key;F&&(g(null),M([]),V([])),m(W.key),y(F?W.key:h===W.key?null:W.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===W.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:W.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(W.profession,W.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:W.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[W.skills.length," skills"]})})]})}),!k&&h===W.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:G[W.key]||"",onChange:F=>{const le=F.target.value;J(xe=>({...xe,[W.key]:le}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),W.skills.filter(F=>{const le=(G[W.key]||"").trim().toLowerCase();return le?String(F.name||"").toLowerCase().includes(le):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{m(W.key),g(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===W.key&&x===F.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),W.skills.filter(F=>{const le=(G[W.key]||"").trim().toLowerCase();return le?String(F.name||"").toLowerCase().includes(le):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},W.key)):f.map(W=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=b!==W.profession;F&&(A(null),M([]),V([])),w(W.profession),C(F?W.profession:S===W.profession?null:W.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===W.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(W.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:W.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[W.players.length,"p"]})})]})}),!k&&S===W.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:_[W.profession]||"",onChange:F=>{const le=F.target.value;ne(xe=>({...xe,[W.profession]:le}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),W.skills.filter(F=>{const le=(_[W.profession]||"").trim().toLowerCase();return le?String(F.name||"").toLowerCase().includes(le):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{w(W.profession),A(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===W.profession&&j===F.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),W.skills.filter(F=>{const le=(_[W.profession]||"").trim().toLowerCase();return le?String(F.name||"").toLowerCase().includes(le):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},W.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(k?"class":l)==="player"?!E||!k&&!P?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const W=E.skills||[],F=d.map(ue=>({id:ue.key,label:ue.displayName||ue.key,icon:Y(ue.profession,ue.professionList,"w-3 h-3")})),le=W.map(ue=>({id:ue.id,label:ue.name,icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),xe=[...W.map(ue=>({id:ue.id,label:ue.name,type:"column",icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(ue=>({id:ue.key,label:ue.displayName||ue.key,type:"player",icon:Y(ue.profession,ue.professionList,"w-3 h-3")}))],Je=new Set([...O.map(ue=>`column:${ue}`),...N.map(ue=>`player:${ue}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(go,{options:xe,selectedIds:Je,onSelect:ue=>{ue.type==="column"?M(Ke=>Ke.includes(ue.id)?Ke.filter(Fe=>Fe!==ue.id):[...Ke,ue.id]):V(Ke=>Ke.includes(ue.id)?Ke.filter(Fe=>Fe!==ue.id):[...Ke,ue.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:le,selectedIds:O,onToggle:ue=>{M(Ke=>Ke.includes(ue)?Ke.filter(Fe=>Fe!==ue):[...Ke,ue])},onClear:()=>M([]),buttonLabel:"Columns",buttonIcon:u.jsx(po,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:F,selectedIds:N,onToggle:ue=>{V(Ke=>Ke.includes(ue)?Ke.filter(Fe=>Fe!==ue):[...Ke,ue])},onClear:()=>V([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})})]}),(O.length>0||N.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),V([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(ue=>{var Ke;const Fe=((Ke=W.find(gt=>gt.id===ue))==null?void 0:Ke.name)||ue;return u.jsxs("button",{type:"button",onClick:()=>M(gt=>gt.filter(Wt=>Wt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Fe}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)}),N.map(ue=>{var Ke;const Fe=((Ke=F.find(gt=>gt.id===ue))==null?void 0:Ke.label)||ue;return u.jsxs("button",{type:"button",onClick:()=>V(gt=>gt.filter(Wt=>Wt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Fe}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)})]})]})})(),k?(()=>{var W,F;const le=E.skills||[],xe=O.length>0?le.filter(Fe=>O.includes(Fe.id)):le,Je=N.length>0?d.filter(Fe=>N.includes(Fe.key)):d,ue=((W=xe.find(Fe=>Fe.id===Q.columnId))==null?void 0:W.id)||((F=xe[0])==null?void 0:F.id)||"",Ke=Je.map(Fe=>{const gt={},Wt={};return xe.forEach(On=>{var Wn;const he=(Wn=Fe.skillMap)==null?void 0:Wn[On.id],Pe=Number((he==null?void 0:he.damage)||0);Wt[On.id]=Pe,gt[On.id]=Bs(Pe)}),{player:Fe,values:gt,numericValues:Wt}}).sort((Fe,gt)=>{const Wt=Fe.numericValues[ue]??0,On=gt.numericValues[ue]??0;return(Q.dir==="desc"?On-Wt:Wt-On)||String(Fe.player.displayName||"").localeCompare(String(gt.player.displayName||""))});return u.jsx(ho,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:ue,sortDirection:Q.dir,onSortColumn:Fe=>{H(gt=>({columnId:Fe,dir:gt.columnId===Fe&&gt.dir==="desc"?"asc":"desc"}))},columns:xe.map(Fe=>({id:Fe.id,label:u.jsx(Nr,{name:Fe.name,iconUrl:Fe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ke.map((Fe,gt)=>({id:`${Fe.player.key}-${gt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:gt+1}),Y(Fe.player.profession,Fe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Fe.player.displayName})]}),values:Fe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(E.profession,E.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:E.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Nr,{name:(P==null?void 0:P.name)||"",iconUrl:P==null?void 0:P.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[E.skills.length," skills | ",Bs(ce)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Bs((P==null?void 0:P.downContribution)||0)},{label:"Total Damage",value:Bs((P==null?void 0:P.damage)||0)},{label:"DPS",value:pi(E.totalFightMs>0?((P==null?void 0:P.damage)||0)/(E.totalFightMs/1e3):0,1)}].map(W=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:W.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:W.value})]},W.label))})]})]}):!I||!k&&!U?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const W=I.skills||[],F=$.map(ue=>({id:ue.key,label:ue.displayName||ue.key,icon:Y(ue.profession,ue.professionList,"w-3 h-3")})),le=W.map(ue=>({id:ue.id,label:ue.name,icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),xe=[...W.map(ue=>({id:ue.id,label:ue.name,type:"column",icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4"}):void 0})),...$.map(ue=>({id:ue.key,label:ue.displayName||ue.key,type:"player",icon:Y(ue.profession,ue.professionList,"w-3 h-3")}))],Je=new Set([...O.map(ue=>`column:${ue}`),...N.map(ue=>`player:${ue}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(go,{options:xe,selectedIds:Je,onSelect:ue=>{ue.type==="column"?M(Ke=>Ke.includes(ue.id)?Ke.filter(Fe=>Fe!==ue.id):[...Ke,ue.id]):V(Ke=>Ke.includes(ue.id)?Ke.filter(Fe=>Fe!==ue.id):[...Ke,ue.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:le,selectedIds:O,onToggle:ue=>{M(Ke=>Ke.includes(ue)?Ke.filter(Fe=>Fe!==ue):[...Ke,ue])},onClear:()=>M([]),buttonLabel:"Columns",buttonIcon:u.jsx(po,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:F,selectedIds:N,onToggle:ue=>{V(Ke=>Ke.includes(ue)?Ke.filter(Fe=>Fe!==ue):[...Ke,ue])},onClear:()=>V([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})})]}),(O.length>0||N.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),V([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(ue=>{var Ke;const Fe=((Ke=W.find(gt=>gt.id===ue))==null?void 0:Ke.name)||ue;return u.jsxs("button",{type:"button",onClick:()=>M(gt=>gt.filter(Wt=>Wt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Fe}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)}),N.map(ue=>{var Ke;const Fe=((Ke=F.find(gt=>gt.id===ue))==null?void 0:Ke.label)||ue;return u.jsxs("button",{type:"button",onClick:()=>V(gt=>gt.filter(Wt=>Wt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Fe}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)})]})]})})(),k?(()=>{var W,F;const le=I.skills||[],xe=O.length>0?le.filter(Fe=>O.includes(Fe.id)):le,Je=N.length>0?$.filter(Fe=>N.includes(Fe.key)):$,ue=((W=xe.find(Fe=>Fe.id===Q.columnId))==null?void 0:W.id)||((F=xe[0])==null?void 0:F.id)||"",Ke=Je.map(Fe=>{const gt={},Wt={};return xe.forEach(On=>{var Wn;const he=(Wn=Fe.skillMap)==null?void 0:Wn[On.id],Pe=Number((he==null?void 0:he.damage)||0);Wt[On.id]=Pe,gt[On.id]=Bs(Pe)}),{player:Fe,values:gt,numericValues:Wt}}).sort((Fe,gt)=>{const Wt=Fe.numericValues[ue]??0,On=gt.numericValues[ue]??0;return(Q.dir==="desc"?On-Wt:Wt-On)||String(Fe.player.displayName||"").localeCompare(String(gt.player.displayName||""))});return u.jsx(ho,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:ue,sortDirection:Q.dir,onSortColumn:Fe=>{H(gt=>({columnId:Fe,dir:gt.columnId===Fe&&gt.dir==="desc"?"asc":"desc"}))},columns:xe.map(Fe=>({id:Fe.id,label:u.jsx(Nr,{name:Fe.name,iconUrl:Fe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ke.map((Fe,gt)=>({id:`${Fe.player.key}-${gt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:gt+1}),Y(Fe.player.profession,Fe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Fe.player.displayName})]}),values:Fe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(I.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:I.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Nr,{name:(U==null?void 0:U.name)||"",iconUrl:U==null?void 0:U.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[$.length," players | ",I.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ae("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:B.key==="down"?B.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ae("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:B.key==="damage"?B.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ae("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:B.key==="dps"?B.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:R.map(W=>{var F;const le=(F=W.skillMap)==null?void 0:F[(U==null?void 0:U.id)||""],xe=Number((le==null?void 0:le.downContribution)||0),Je=Number((le==null?void 0:le.damage)||0),ue=W.totalFightMs>0?Je/(W.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(W.profession,W.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:W.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Bs(xe)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Bs(Je)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:pi(ue,1)})]},`${I.profession}-${W.key}`)})})]})]})})]})})]})},cL=({className:e})=>u.jsx(kz,{className:e,style:{transform:"rotate(45deg)"}}),Cs=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),yo=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),tae=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=v.useState({key:"value",dir:"desc"}),[j,A]=v.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),T=f==="offense-detailed",[L,E]=v.useState([]),[P,I]=v.useState([]),U=t.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),Y=t.map(k=>({id:k.id,label:k.label})),ee=Y.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),ce=L.length>0?t.filter(k=>L.includes(k.id)):t,$=Array.from(new Map(e.offensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),B=new Set([...L.map(k=>`column:${k}`),...P.map(k=>`player:${k}`)]),re=k=>{C(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":y("offense-detailed"),"data-section-first":x("offense-detailed"),className:g("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(cL,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(go,{options:[...Y.map(k=>({...k,type:"column"})),...$.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?E(O=>O.includes(k.id)?O.filter(M=>M!==k.id):[...O,k.id]):I(O=>O.includes(k.id)?O.filter(M=>M!==k.id):[...O,k.id])},selectedIds:B,className:"w-full sm:w-64"}),u.jsx(pr,{options:ee,selectedIds:L,onToggle:k=>{E(O=>O.includes(k)?O.filter(M=>M!==k):[...O,k])},onClear:()=>E([]),buttonIcon:u.jsx(po,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:$,selectedIds:P,onToggle:k=>{I(O=>O.includes(k)?O.filter(M=>M!==k):[...O,k])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(L.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{E([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),L.map(k=>{var O;const M=((O=Y.find(N=>N.id===k))==null?void 0:O.label)||k;return u.jsxs("button",{type:"button",onClick:()=>E(N=>N.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:M}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),P.map(k=>u.jsxs("button",{type:"button",onClick:()=>I(O=>O.filter(M=>M!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:U.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var k,O;const M=G=>Math.max(1,(G.totalFightMs||0)/1e3),N=(G,J,_)=>{var ne,ge,R,ae,W;if(J==="downContributionPercent"){const F=((ne=G.offenseTotals)==null?void 0:ne.downContribution)||0,le=((ge=G.offenseTotals)==null?void 0:ge.damage)||0;return le>0?F/le*100:0}if(_.isRate){const F=((R=G.offenseRateWeights)==null?void 0:R[J])||0,le=((ae=G.offenseTotals)==null?void 0:ae[J])||0;return F>0?le/F*100:0}return((W=G.offenseTotals)==null?void 0:W[J])||0},V=(G,J)=>{const _=n&&!J.isPercent&&s==="total"?0:2,ne=c(G,_);return J.isPercent?`${ne}%`:ne},Q=((k=ce.find(G=>G.id===j.columnId))==null?void 0:k.id)||((O=ce[0])==null?void 0:O.id)||"",H=[...e.offensePlayers].filter(G=>P.length===0||P.includes(G.account)).map(G=>{const J={},_={};return ce.forEach(ne=>{const ge=N(G,ne.id,ne),R=s==="total"||ne.isPercent||ne.isRate?ge:s==="per1s"?ge/M(G):ge*60/M(G);_[ne.id]=R,J[ne.id]=V(R,ne)}),{row:G,values:J,numericValues:_}}).sort((G,J)=>{const _=G.numericValues[Q]??0,ne=J.numericValues[Q]??0;return(j.dir==="desc"?ne-_:_-ne)||String(G.row.account||"").localeCompare(String(J.row.account||""))});return u.jsx(ho,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:Q,sortDirection:j.dir,onSortColumn:G=>{A(J=>({columnId:G,dir:J.columnId===G&&J.dir==="desc"?"asc":"desc"}))},columns:ce.map(G=>({id:G.id,label:G.label,align:"right",minWidth:90})),rows:H.map((G,J)=>({id:`${G.row.account}-${J}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:J+1}),d(G.row.profession,G.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:G.row.account})]}),values:G.values}))})})()})]}):u.jsx(Cs,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:k=>a(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:U.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):U.map(k=>u.jsx("button",{onClick:()=>o(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(Q=>Q.id===i)||t[0],O=Q=>Math.max(1,(Q.totalFightMs||0)/1e3),M=Q=>{var H,G,J,_,ne;if(k.id==="downContributionPercent"){const ge=((H=Q.offenseTotals)==null?void 0:H.downContribution)||0,R=((G=Q.offenseTotals)==null?void 0:G.damage)||0;return R>0?ge/R*100:0}if(k.isRate){const ge=((J=Q.offenseRateWeights)==null?void 0:J[k.id])||0,R=((_=Q.offenseTotals)==null?void 0:_[k.id])||0;return ge>0?R/ge*100:0}return((ne=Q.offenseTotals)==null?void 0:ne[k.id])||0},N=Q=>{const H=n&&!k.isPercent&&s==="total"?0:2,G=c(Q,H);return k.isPercent?`${G}%`:G},V=[...e.offensePlayers].map(Q=>({...Q,total:M(Q),per1s:k.isPercent||k.isRate?M(Q):M(Q)/O(Q),per60s:k.isPercent||k.isRate?M(Q):M(Q)*60/O(Q)})).sort((Q,H)=>{const G=S.key==="fightTime"?Number(Q.totalFightMs||0):Number(s==="total"?Q.total:s==="per1s"?Q.per1s:Q.per60s),J=S.key==="fightTime"?Number(H.totalFightMs||0):Number(s==="total"?H.total:s==="per1s"?H.per1s:H.per60s);return(S.dir==="desc"?J-G:G-J)||Q.account.localeCompare(H.account)});return u.jsx(yo,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(En,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>re("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>re("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:V.map((Q,H)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:H+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(Q.profession,Q.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Q.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const G=s==="total"?Q.total:s==="per1s"?Q.per1s:Q.per60s;return N(G)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:Q.totalFightMs?`${(Q.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${Q.account}-${H}`))})})})()})})]})},nae=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const j=m==="conditions-outgoing",[A,T]=v.useState([]),[L,E]=v.useState([]),[P,I]=v.useState({columnId:"all",dir:"desc"}),U=k=>{if(!k)return 0;if(o!=="outgoing"){const V=Number(k.applicationsFromUptime);return Number.isFinite(V)&&V>0?V:Number(k.applications||0)}const O=Number(k.applicationsFromUptime);if(Number.isFinite(O)&&O>0)return O;const M=Number(k.applicationsFromBuffsActive);if(Number.isFinite(M)&&M>0)return M;const N=Number(k.applicationsFromBuffs);return Number.isFinite(N)&&N>0?N:Number(k.applications||0)},Y=[...e||[]].sort((k,O)=>(O.damage||0)-(k.damage||0)),ee=Y.filter(k=>k.name.toLowerCase().includes(n.trim().toLowerCase())),ce=ee.map(k=>({id:k.name,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),$=A.length>0?Y.filter(k=>A.includes(k.name)):Y,B=Array.from(new Map((t||[]).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:p(k.profession,k.professionList,"w-3 h-3")})),re=new Set([...A.map(k=>`column:${k}`),...L.map(k=>`player:${k}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":g("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(r0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?x():y("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e&&e.length>0?j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(go,{options:[...Y.map(k=>({id:k.name,label:k.name,type:"column"})),...B.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?T(O=>O.includes(k.id)?O.filter(M=>M!==k.id):[...O,k.id]):E(O=>O.includes(k.id)?O.filter(M=>M!==k.id):[...O,k.id])},selectedIds:re,className:"w-full sm:w-64"}),u.jsx(pr,{options:ce,selectedIds:A,onToggle:k=>{T(O=>O.includes(k)?O.filter(M=>M!==k):[...O,k])},onClear:()=>T([]),buttonIcon:u.jsx(po,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:B,selectedIds:L,onToggle:k=>{E(O=>O.includes(k)?O.filter(M=>M!==k):[...O,k])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(En,{value:c.key,onChange:k=>d({key:k,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const k=c.key,O=[{id:"all",label:"All Conditions",icon:null},...$],M=(t||[]).filter(Q=>L.length===0||L.includes(Q.account)).map(Q=>{const H=Q.conditions||{},G={},J={};return O.forEach(_=>{if(_.id==="all"||_.name==="All Conditions"){const R=Object.values(H).reduce((W,F)=>{const le=U(F);return W.applications+=Number(le||0),W.damage+=Number((F==null?void 0:F.damage)||0),W},{applications:0,damage:0}),ae=k==="applications"?R.applications:R.damage;J.all=ae||0,G.all=Math.round(ae||0).toLocaleString();return}const ne=H[_.name],ge=k==="applications"?U(ne):Number((ne==null?void 0:ne.damage)||0);J[_.name]=Number(ge||0),G[_.name]=Math.round(ge||0).toLocaleString()}),{player:Q,values:G,numericValues:J}}).filter(Q=>Object.values(Q.values).some(H=>H!=="0")),N=["all",...$.map(Q=>Q.name)].includes(P.columnId)?P.columnId:"all",V=[...M].sort((Q,H)=>{const G=Q.numericValues[N]??0,J=H.numericValues[N]??0;return(P.dir==="desc"?J-G:G-J)||String(Q.player.account||"").localeCompare(String(H.player.account||""))});return u.jsx(ho,{title:"Conditions - Dense View",subtitle:k==="applications"?"Applications":"Damage",sortColumnId:N,sortDirection:P.dir,onSortColumn:Q=>{I(H=>({columnId:Q,dir:H.columnId===Q&&H.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...$.map(Q=>({id:Q.name,label:u.jsx(Nr,{name:Q.name,iconUrl:Q.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:V.map((Q,H)=>({id:`${Q.player.account}-${H}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),p(Q.player.profession,Q.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Q.player.account})]}),values:Q.values}))})})()}),(A.length>0||L.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(k=>u.jsxs("button",{type:"button",onClick:()=>T(O=>O.filter(M=>M!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k)),L.map(k=>u.jsxs("button",{type:"button",onClick:()=>E(O=>O.filter(M=>M!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}):u.jsx(Cs,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ee.map(k=>u.jsx("button",{type:"button",onClick:()=>i(k.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Nr,{name:k.name,iconUrl:k.icon,iconClassName:"h-5 w-5"})},k.name))]})})]}),content:u.jsx(yo,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":u.jsx(Nr,{name:a,iconUrl:(C=e.find(k=>k.name===a))==null?void 0:C.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(En,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const k=(t||[]).map(O=>{const M=O.conditions||{};if(a==="all"){const V=Object.values(M).reduce((Q,H)=>{const G=U(H);return Q.applications+=Number(G||0),Q.damage+=Number((H==null?void 0:H.damage)||0),Q},{applications:0,damage:0});return{...O,applications:V.applications,damage:V.damage}}const N=M[a];return{...O,applications:U(N),damage:Number((N==null?void 0:N.damage)||0)}}).filter(O=>O.applications>0||O.damage>0).sort((O,M)=>{const N=c.key==="applications"?O.applications||0:O.damage||0,V=c.key==="applications"?M.applications||0:M.damage||0,Q=c.dir==="desc"?V-N:N-V;if(Q!==0)return Q;const H=c.key==="applications"?(M.damage||0)-(O.damage||0):(M.applications||0)-(O.applications||0);return H!==0?H:String(O.account||"").localeCompare(String(M.account||""))});return k.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):k.map((O,M)=>{var N;const V=O.conditions||{};let Q={};a==="all"?Object.values(V).forEach(R=>{const ae=(R==null?void 0:R.skills)||{};Object.values(ae).forEach(W=>{const F=(W==null?void 0:W.name)||"Unknown",le=Number((W==null?void 0:W.hits)||0),xe=Number((W==null?void 0:W.damage)||0);if((!Number.isFinite(le)||le<=0)&&(!Number.isFinite(xe)||xe<=0))return;const Je=Q[F]||{name:F,hits:0,damage:0,icon:W==null?void 0:W.icon};Je.hits+=Number.isFinite(le)?le:0,Je.damage+=Number.isFinite(xe)?xe:0,!Je.icon&&W!=null&&W.icon&&(Je.icon=W.icon),Q[F]=Je})}):Q=((N=V[a])==null?void 0:N.skills)||{};const H=Object.values(Q).filter(R=>Number.isFinite(R.hits)&&R.hits>0).sort((R,ae)=>ae.hits-R.hits||R.name.localeCompare(ae.name)),G=Object.values(Q).filter(R=>Number.isFinite(R.damage)&&R.damage>0).sort((R,ae)=>ae.damage-R.damage||R.name.localeCompare(ae.name)),J=a==="all"&&H.length>0,_=a==="all"&&G.length>0,ne=Math.round(O.applications||0).toLocaleString(),ge=Math.round(O.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:M+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(O.profession,O.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:O.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:J?u.jsx(RM,{value:ne,label:"Condition Sources",items:H.map(R=>({name:R.name,iconUrl:R.icon,value:Math.round(R.hits).toLocaleString()})),className:"justify-end"}):ne}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:_?u.jsx(RM,{value:ge,label:"Condition Damage Sources",items:G.map(R=>({name:R.name,iconUrl:R.icon,value:Math.round(R.damage).toLocaleString()})),className:"justify-end"}):ge}):null]},`${O.account}-${M}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},rae=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:y,expandedSectionClosing:x,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:j})=>{const[A,T]=v.useState({key:"value",dir:"desc"}),[L,E]=v.useState({columnId:"",dir:"desc"}),P=y==="boon-output",[I,U]=v.useState([]),[Y,ee]=v.useState([]),ce=e.boonTables||[],$=I.length>0?ce.filter(M=>I.includes(M.id)):ce,B=l.map(M=>({id:M.id,label:M.name,icon:M.icon?u.jsx("img",{src:M.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),re=Array.from(new Map((e.boonTables||[]).flatMap(M=>M.rows||[]).filter(M=>M.account).map(M=>[M.account,M])).values()).map(M=>({id:M.account,label:M.account,icon:m(M.profession,M.professionList,"w-3 h-3")})),k=new Set([...I.map(M=>`column:${M}`),...Y.map(M=>`player:${M}`)]),O=M=>{T(N=>({key:M,dir:N.key===M&&N.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${y==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${x?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>y==="boon-output"?b():g("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":y==="boon-output"?"Close Boon Output":"Expand Boon Output",title:y==="boon-output"?"Close":"Expand",children:y==="boon-output"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(go,{options:[...ce.map(M=>({id:M.id,label:M.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(M=>M.rows||[]).filter(M=>M.account).map(M=>[M.account,M])).values()).map(M=>({id:M.account,label:M.account,type:"player",icon:m(M.profession,M.professionList,"w-3 h-3")}))],onSelect:M=>{M.type==="column"?U(N=>N.includes(M.id)?N.filter(V=>V!==M.id):[...N,M.id]):ee(N=>N.includes(M.id)?N.filter(V=>V!==M.id):[...N,M.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(pr,{options:B,selectedIds:I,onToggle:M=>{U(N=>N.includes(M)?N.filter(V=>V!==M):[...N,M])},onClear:()=>U([]),buttonIcon:u.jsx(po,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:re,selectedIds:Y,onToggle:M=>{ee(N=>N.includes(M)?N.filter(V=>V!==M):[...N,M])},onClear:()=>ee([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||Y.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{U([]),ee([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(M=>{var N;const V=((N=ce.find(Q=>Q.id===M))==null?void 0:N.name)||M;return u.jsxs("button",{type:"button",onClick:()=>U(Q=>Q.filter(H=>H!==M)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},M)}),Y.map(M=>u.jsxs("button",{type:"button",onClick:()=>ee(N=>N.filter(V=>V!==M)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:M}),u.jsx("span",{className:"text-gray-400",children:""})]},M))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ce.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var M,N;const V=$,Q=((M=V.find(_=>_.id===L.columnId))==null?void 0:M.id)||(i&&V.some(_=>_.id===i)?i:void 0)||((N=V[0])==null?void 0:N.id)||"",H=new Map,G=new Map;V.forEach(_=>{const ne=new Map;_.rows.forEach(ge=>{const R=ge.account||ge.name||ge.id;R&&(ne.set(R,ge),G.has(R)||G.set(R,ge))}),H.set(_.id,ne)});const J=Array.from(G.entries()).filter(([_])=>Y.length===0||Y.includes(String(_))).map(([_,ne])=>{const ge={};return V.forEach(R=>{var ae;const W=(ae=H.get(R.id))==null?void 0:ae.get(_);ge[R.id]=W?f(W,t,R.stacking,r,{roundCountStats:h}):"-"}),{key:_,row:ne,values:ge}}).sort((_,ne)=>{var ge,R;if(!Q)return String(_.key).localeCompare(String(ne.key));const ae=V.find(Je=>Je.id===Q),W=ae?(ge=H.get(ae.id))==null?void 0:ge.get(_.key):null,F=ae?(R=H.get(ae.id))==null?void 0:R.get(ne.key):null,le=W?p(W,t,ae==null?void 0:ae.stacking,r):0,xe=F?p(F,t,ae==null?void 0:ae.stacking,r):0;return(L.dir==="desc"?xe-le:le-xe)||String(_.key).localeCompare(String(ne.key))});return u.jsx(ho,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:Q,sortDirection:L.dir,onSortColumn:_=>{E(ne=>({columnId:_,dir:ne.columnId===_&&ne.dir==="desc"?"asc":"desc"}))},columns:V.map(_=>({id:_.id,label:u.jsx(Nr,{name:_.name,iconUrl:_.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:J.map((_,ne)=>({id:`${_.key}-${ne}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),m(_.row.profession,_.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:_.row.account||_.row.name||_.key})]}),values:_.values}))})})()})]}):u.jsx(Cs,{expanded:y==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${y==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${y==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:M=>d(M.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${j} ${y==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(M=>u.jsx("button",{onClick:()=>o(M.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===M.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Nr,{name:M.name,iconUrl:M.icon,iconClassName:"h-3.5 w-3.5"})},M.id))})]}),content:s?u.jsx(yo,{expanded:y==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Nr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(En,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>O("value"),className:`text-right transition-colors ${A.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",A.key==="value"?A.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>O("fightTime"),className:`text-right transition-colors ${A.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",A.key==="fightTime"?A.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...s.rows].sort((M,N)=>(()=>{const V=A.key==="fightTime"?Number(M.activeTimeMs||0):p(M,t,s.stacking,r),Q=A.key==="fightTime"?Number(N.activeTimeMs||0):p(N,t,s.stacking,r);return(A.dir==="desc"?Q-V:V-Q)||String(M.account||"").localeCompare(String(N.account||""))})()).map((M,N)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(M.profession,M.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:M.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(M,t,s.stacking,r,{roundCountStats:h})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:M.activeTimeMs?`${(M.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${M.account}-${N}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},aae=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=v.useState({key:"value",dir:"desc"}),[j,A]=v.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),T=f==="defense-detailed",[L,E]=v.useState([]),[P,I]=v.useState([]),U=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),Y=t.map(k=>({id:k.id,label:k.label})),ee=Y.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),ce=L.length>0?t.filter(k=>L.includes(k.id)):t,$=Array.from(new Map(e.defensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),B=new Set([...L.map(k=>`column:${k}`),...P.map(k=>`player:${k}`)]),re=k=>{C(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"defense-detailed","data-section-visible":y("defense-detailed"),"data-section-first":x("defense-detailed"),className:g("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Tu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(go,{options:[...Y.map(k=>({...k,type:"column"})),...$.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?E(O=>O.includes(k.id)?O.filter(M=>M!==k.id):[...O,k.id]):I(O=>O.includes(k.id)?O.filter(M=>M!==k.id):[...O,k.id])},selectedIds:B,className:"w-full sm:w-64"}),u.jsx(pr,{options:ee,selectedIds:L,onToggle:k=>{E(O=>O.includes(k)?O.filter(M=>M!==k):[...O,k])},onClear:()=>E([]),buttonIcon:u.jsx(po,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:$,selectedIds:P,onToggle:k=>{I(O=>O.includes(k)?O.filter(M=>M!==k):[...O,k])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(L.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{E([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),L.map(k=>{var O;const M=((O=Y.find(N=>N.id===k))==null?void 0:O.label)||k;return u.jsxs("button",{type:"button",onClick:()=>E(N=>N.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:M}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),P.map(k=>u.jsxs("button",{type:"button",onClick:()=>I(O=>O.filter(M=>M!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:U.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var k,O;const M=H=>Math.max(1,(H.activeMs||0)/1e3),N=(H,G)=>{const J=G.isPercent,_=c(H,l&&!J&&o==="total"?0:2);return J?`${_}%`:_},V=((k=ce.find(H=>H.id===j.columnId))==null?void 0:k.id)||((O=ce[0])==null?void 0:O.id)||"",Q=[...e.defensePlayers].filter(H=>P.length===0||P.includes(H.account)).map(H=>{const G={},J={};return ce.forEach(_=>{var ne;const ge=((ne=H.defenseTotals)==null?void 0:ne[_.id])||0,R=_.isPercent,ae=o==="total"||R?ge:o==="per1s"?ge/M(H):ge*60/M(H);J[_.id]=ae,G[_.id]=N(ae,_)}),{row:H,values:G,numericValues:J}}).sort((H,G)=>{const J=H.numericValues[V]??0,_=G.numericValues[V]??0;return(j.dir==="desc"?_-J:J-_)||String(H.row.account||"").localeCompare(String(G.row.account||""))});return u.jsx(ho,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:V,sortDirection:j.dir,onSortColumn:H=>{A(G=>({columnId:H,dir:G.columnId===H&&G.dir==="desc"?"asc":"desc"}))},columns:ce.map(H=>({id:H.id,label:H.label,align:"right",minWidth:90})),rows:Q.map((H,G)=>({id:`${H.row.account}-${G}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:G+1}),d(H.row.profession,H.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:H.row.account})]}),values:H.values}))})})()})]}):u.jsx(Cs,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:U.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):U.map(k=>u.jsx("button",{onClick:()=>i(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(N=>N.id===a)||t[0],O=N=>Math.max(1,(N.activeMs||0)/1e3),M=[...e.defensePlayers].map(N=>{var V,Q,H;return{...N,total:((V=N.defenseTotals)==null?void 0:V[k.id])||0,per1s:(((Q=N.defenseTotals)==null?void 0:Q[k.id])||0)/O(N),per60s:(((H=N.defenseTotals)==null?void 0:H[k.id])||0)*60/O(N)}}).sort((N,V)=>{const Q=S.key==="fightTime"?Number(N.activeMs||0):Number(o==="total"?N.total:o==="per1s"?N.per1s:N.per60s),H=S.key==="fightTime"?Number(V.activeMs||0):Number(o==="total"?V.total:o==="per1s"?V.per1s:V.per60s);return(S.dir==="desc"?H-Q:Q-H)||N.account.localeCompare(V.account)});return u.jsx(yo,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>re("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>re("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:M.map((N,V)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(N.profession,N.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Q=o==="total"?N.total:o==="per1s"?N.per1s:N.per60s;return c(Q,l&&o==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:N.activeMs?`${(N.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${N.account}-${V}`))})})})()})})]})},iae=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C,j;const A=((C=t.find(R=>R.id==="totalMitigation"))==null?void 0:C.id)||((j=t[0])==null?void 0:j.id)||"totalMitigation",[T,L]=v.useState({key:"value",dir:"desc"}),[E,P]=v.useState({columnId:A,dir:"desc"}),I=m==="defense-mitigation",[U,Y]=v.useState([]),[ee,ce]=v.useState([]),[$,B]=v.useState([]),re=e.damageMitigationPlayers||[],k=e.damageMitigationMinions||[],O=l==="minions"?k:re,M=re.length>0||k.length>0,N=t.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),V=t.map(R=>({id:R.id,label:R.label})),Q=V.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),H=U.length>0?t.filter(R=>U.includes(R.id)):t,G=Array.from(new Map(O.map(R=>[R.account,R])).values()).map(R=>({id:R.account,label:R.account,icon:p(R.profession,R.professionList,"w-3 h-3")})),J=Array.from(new Map(k.map(R=>[R.minion,R])).values()).filter(R=>R==null?void 0:R.minion).map(R=>({id:String(R.minion),label:String(R.minion)})),_=new Set([...U.map(R=>`column:${R}`),...ee.map(R=>`player:${R}`)]),ne=R=>{L(ae=>({key:R,dir:ae.key===R&&ae.dir==="desc"?"asc":"desc"}))},ge=R=>f(R,d&&o==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":g("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(k1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?x():y("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),M?I?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(go,{options:[...V.map(R=>({...R,type:"column"})),...G.map(R=>({...R,type:"player"}))],onSelect:R=>{R.type==="column"?Y(ae=>ae.includes(R.id)?ae.filter(W=>W!==R.id):[...ae,R.id]):ce(ae=>ae.includes(R.id)?ae.filter(W=>W!==R.id):[...ae,R.id])},selectedIds:_,className:"w-full sm:w-64"}),u.jsx(pr,{options:Q,selectedIds:U,onToggle:R=>{Y(ae=>ae.includes(R)?ae.filter(W=>W!==R):[...ae,R])},onClear:()=>Y([]),buttonIcon:u.jsx(po,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:G,selectedIds:ee,onToggle:R=>{ce(ae=>ae.includes(R)?ae.filter(W=>W!==R):[...ae,R])},onClear:()=>ce([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(pr,{options:J,selectedIds:$,onToggle:R=>{B(ae=>ae.includes(R)?ae.filter(W=>W!==R):[...ae,R])},onClear:()=>B([]),buttonLabel:"Minions"}),u.jsx(En,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(U.length>0||ee.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{Y([]),ce([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),U.map(R=>{var ae;const W=((ae=V.find(F=>F.id===R))==null?void 0:ae.label)||R;return u.jsxs("button",{type:"button",onClick:()=>Y(F=>F.filter(le=>le!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:W}),u.jsx("span",{className:"text-gray-400",children:""})]},R)}),ee.map(R=>u.jsxs("button",{type:"button",onClick:()=>ce(ae=>ae.filter(W=>W!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},R))]}),l==="minions"&&$.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>B([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),$.map(R=>u.jsxs("button",{type:"button",onClick:()=>B(ae=>ae.filter(W=>W!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},R))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):N.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var R,ae;const W=xe=>Math.max(1,(xe.activeMs||0)/1e3),F=((R=H.find(xe=>xe.id===E.columnId))==null?void 0:R.id)||((ae=H[0])==null?void 0:ae.id)||"",le=[...O].filter(xe=>ee.length===0||ee.includes(xe.account)).filter(xe=>l!=="minions"||!$.length?!0:$.includes(String(xe.minion||""))).map(xe=>{const Je={},ue={};return H.forEach(Ke=>{var Fe;const gt=((Fe=xe.mitigationTotals)==null?void 0:Fe[Ke.id])||0,Wt=o==="total"?gt:o==="per1s"?gt/W(xe):gt*60/W(xe);ue[Ke.id]=Wt,Je[Ke.id]=ge(Wt)}),{row:xe,values:Je,numericValues:ue}}).sort((xe,Je)=>{const ue=xe.numericValues[F]??0,Ke=Je.numericValues[F]??0;return(E.dir==="desc"?Ke-ue:ue-Ke)||String(xe.row.account||"").localeCompare(String(Je.row.account||""))});return u.jsx(ho,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:F,sortDirection:E.dir,onSortColumn:xe=>{P(Je=>({columnId:xe,dir:Je.columnId===xe&&Je.dir==="desc"?"asc":"desc"}))},columns:H.map(xe=>({id:xe.id,label:xe.label,align:"right",minWidth:90})),rows:le.map((xe,Je)=>({id:`${xe.row.account}-${xe.row.minion||"player"}-${Je}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Je+1}),p(xe.row.profession,xe.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:xe.row.account}),xe.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:xe.row.minion})]})]}),values:xe.values}))})})()})]}):u.jsx(Cs,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:R=>r(R.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:N.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):N.map(R=>u.jsx("button",{onClick:()=>i(R.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===R.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:R.label},R.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const R=t.find(F=>F.id===a)||t[0],ae=F=>Math.max(1,(F.activeMs||0)/1e3),W=[...O].map(F=>{var le,xe,Je;return{...F,total:((le=F.mitigationTotals)==null?void 0:le[R.id])||0,per1s:(((xe=F.mitigationTotals)==null?void 0:xe[R.id])||0)/ae(F),per60s:(((Je=F.mitigationTotals)==null?void 0:Je[R.id])||0)*60/ae(F)}}).filter(F=>l!=="minions"||!$.length?!0:$.includes(String(F.minion||""))).sort((F,le)=>{const xe=T.key==="fightTime"?Number(F.activeMs||0):Number(o==="total"?F.total:o==="per1s"?F.per1s:F.per60s),Je=T.key==="fightTime"?Number(le.activeMs||0):Number(o==="total"?le.total:o==="per1s"?le.per1s:le.per60s);return(T.dir==="desc"?Je-xe:xe-Je)||F.account.localeCompare(le.account)});return u.jsx(yo,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(En,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ne("value"),className:`text-right transition-colors ${T.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",T.key==="value"?T.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ne("fightTime"),className:`text-right transition-colors ${T.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",T.key==="fightTime"?T.dir==="desc"?" ":" ":""]})]})]}),rows:W.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:W.map((F,le)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:le+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(F.profession,F.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:F.account}),F.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:F.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const xe=o==="total"?F.total:o==="per1s"?F.per1s:F.per60s;return ge(xe)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:F.activeMs?`${(F.activeMs/1e3).toFixed(1)}s`:"-"})]},`${R.id}-${F.account}-${F.minion||"player"}-${le}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},oae=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const[j,A]=v.useState({key:"value",dir:"desc"}),[T,L]=v.useState({columnId:((C=t[0])==null?void 0:C.id)||"value",dir:"desc"}),E=m==="support-detailed",[P,I]=v.useState([]),[U,Y]=v.useState([]),ee=t.filter(M=>M.label.toLowerCase().includes(n.trim().toLowerCase())),ce=t.map(M=>({id:M.id,label:M.label})),$=ce.filter(M=>M.label.toLowerCase().includes(n.trim().toLowerCase())),B=P.length>0?t.filter(M=>P.includes(M.id)):t,re=Array.from(new Map(e.supportPlayers.map(M=>[M.account,M])).values()).map(M=>({id:M.account,label:M.account,icon:p(M.profession,M.professionList,"w-3 h-3")})),k=new Set([...P.map(M=>`column:${M}`),...U.map(M=>`player:${M}`)]),O=M=>{A(N=>({key:M,dir:N.key===M&&N.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":g("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(b1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?x():y("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):E?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(go,{options:[...ce.map(M=>({...M,type:"column"})),...re.map(M=>({...M,type:"player"}))],onSelect:M=>{M.type==="column"?I(N=>N.includes(M.id)?N.filter(V=>V!==M.id):[...N,M.id]):Y(N=>N.includes(M.id)?N.filter(V=>V!==M.id):[...N,M.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(pr,{options:$,selectedIds:P,onToggle:M=>{I(N=>N.includes(M)?N.filter(V=>V!==M):[...N,M])},onClear:()=>I([]),buttonIcon:u.jsx(po,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:re,selectedIds:U,onToggle:M=>{Y(N=>N.includes(M)?N.filter(V=>V!==M):[...N,M])},onClear:()=>Y([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&u.jsx(En,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||U.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{I([]),Y([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(M=>{var N;const V=((N=ce.find(Q=>Q.id===M))==null?void 0:N.label)||M;return u.jsxs("button",{type:"button",onClick:()=>I(Q=>Q.filter(H=>H!==M)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},M)}),U.map(M=>u.jsxs("button",{type:"button",onClick:()=>Y(N=>N.filter(V=>V!==M)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:M}),u.jsx("span",{className:"text-gray-400",children:""})]},M))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var M,N;const V=(_,ne)=>{var ge,R,ae;if(ne==="condiCleanse"){const W=((ge=_.supportTotals)==null?void 0:ge.condiCleanse)||0,F=((R=_.supportTotals)==null?void 0:R.condiCleanseSelf)||0;return l==="all"?W+F:W}return((ae=_.supportTotals)==null?void 0:ae[ne])||0},Q=_=>Math.max(1,(_.activeMs||0)/1e3),H=(_,ne)=>{const ge=_.isTime?1:d&&o==="total"?0:2;return f(ne,ge)},G=((M=B.find(_=>_.id===T.columnId))==null?void 0:M.id)||((N=B[0])==null?void 0:N.id)||"",J=[...e.supportPlayers].filter(_=>U.length===0||U.includes(_.account)).map(_=>{const ne={},ge={};return B.forEach(R=>{const ae=V(_,R.id),W=o==="total"?ae:o==="per1s"?ae/Q(_):ae*60/Q(_);ge[R.id]=W,ne[R.id]=H(R,W)}),{row:_,values:ne,numericValues:ge}}).sort((_,ne)=>{const ge=_.numericValues[G]??0,R=ne.numericValues[G]??0;return(T.dir==="desc"?R-ge:ge-R)||String(_.row.account||"").localeCompare(String(ne.row.account||""))});return u.jsx(ho,{title:"Support - Dense View",subtitle:"Support",sortColumnId:G,sortDirection:T.dir,onSortColumn:_=>{L(ne=>({columnId:_,dir:ne.columnId===_&&ne.dir==="desc"?"asc":"desc"}))},columns:B.map(_=>({id:_.id,label:_.label,align:"right",minWidth:90})),rows:J.map((_,ne)=>({id:`${_.row.account}-${ne}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),p(_.row.profession,_.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:_.row.account})]}),values:_.values}))})})()})]}):u.jsx(Cs,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:M=>r(M.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ee.map(M=>u.jsx("button",{onClick:()=>i(M.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===M.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:M.label},M.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const M=t.find(H=>H.id===a)||t[0],N=H=>{var G,J,_;if(M.id==="condiCleanse"){const ne=((G=H.supportTotals)==null?void 0:G.condiCleanse)||0,ge=((J=H.supportTotals)==null?void 0:J.condiCleanseSelf)||0;return l==="all"?ne+ge:ne}return((_=H.supportTotals)==null?void 0:_[M.id])||0},V=H=>Math.max(1,(H.activeMs||0)/1e3),Q=[...e.supportPlayers].map(H=>({...H,total:N(H),per1s:N(H)/V(H),per60s:N(H)*60/V(H)})).sort((H,G)=>{const J=j.key==="fightTime"?Number(H.activeMs||0):Number(o==="total"?H.total:o==="per1s"?H.per1s:H.per60s),_=j.key==="fightTime"?Number(G.activeMs||0):Number(o==="total"?G.total:o==="per1s"?G.per1s:G.per60s);return(j.dir==="desc"?_-J:J-_)||H.account.localeCompare(G.account)});return u.jsx(yo,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:M.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[M.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(En,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>O("value"),className:`text-right transition-colors ${j.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",j.key==="value"?j.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>O("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:Q.map((H,G)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:G+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(H.profession,H.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:H.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const J=o==="total"?H.total:o==="per1s"?H.per1s:H.per60s,_=M.isTime?1:d&&o==="total"?0:2;return f(J,_)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:H.activeMs?`${(H.activeMs/1e3).toFixed(1)}s`:"-"})]},`${M.id}-${H.account}-${G}`))})})})()})})]})},sae=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g})=>{var b;const[w,S]=v.useState({key:"value",dir:"desc"}),[C,j]=v.useState({columnId:((b=t[0])==null?void 0:b.id)||"value",dir:"desc"}),A=f==="healing-stats",[T,L]=v.useState([]),[E,P]=v.useState([]),I=Array.from(new Map(e.healingPlayers.map($=>[$.account,$])).values()).map($=>({id:$.account,label:$.account,icon:d($.profession,$.professionList,"w-3 h-3")})),U=new Set([...E.map($=>`column:${$}`),...T.map($=>`player:${$}`)]),Y=t.map($=>({id:$.id,label:$.label})),ee=E.length>0?t.filter($=>E.includes($.id)):t,ce=$=>{S(B=>({key:$,dir:B.key===$&&B.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":y("healing-stats"),"data-section-first":x("healing-stats"),className:g("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(sO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):A?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(go,{options:[...Y.map($=>({...$,type:"column"})),...I.map($=>({...$,type:"player"}))],onSelect:$=>{$.type==="column"?P(B=>B.includes($.id)?B.filter(re=>re!==$.id):[...B,$.id]):L(B=>B.includes($.id)?B.filter(re=>re!==$.id):[...B,$.id])},selectedIds:U,className:"w-full sm:w-64"}),u.jsx(En,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(pr,{options:Y,selectedIds:E,onToggle:$=>{P(B=>B.includes($)?B.filter(re=>re!==$):[...B,$])},onClear:()=>P([]),buttonIcon:u.jsx(po,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map($=>({value:$.id,label:$.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(pr,{options:I,selectedIds:T,onToggle:$=>{L(B=>B.includes($)?B.filter(re=>re!==$):[...B,$])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})})]}),(E.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map($=>{var B;const re=((B=Y.find(k=>k.id===$))==null?void 0:B.label)||$;return u.jsxs("button",{type:"button",onClick:()=>P(k=>k.filter(O=>O!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:re}),u.jsx("span",{className:"text-gray-400",children:""})]},$)}),T.map($=>u.jsxs("button",{type:"button",onClick:()=>L(B=>B.filter(re=>re!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$}),u.jsx("span",{className:"text-gray-400",children:""})]},$))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var $,B;const re=N=>Math.max(1,(N.activeMs||0)/1e3),k=N=>{const V=N.baseField==="resUtility",Q=V||a==="total"?"":a==="offSquad"?"offSquad":a;return V?o==="all"?"resUtility":`resUtility_${o}`:Q?`${Q}${N.baseField[0].toUpperCase()}${N.baseField.slice(1)}`:N.baseField},O=[...e.healingPlayers].filter(N=>T.length===0||T.includes(N.account)).filter(N=>Object.values(N.healingTotals||{}).some(V=>Number(V)>0)).map(N=>{const V={},Q={};return ee.forEach(H=>{var G;const J=k(H),_=Number(((G=N.healingTotals)==null?void 0:G[J])??0),ne=H.perSecond?_/re(N):_;Q[H.id]=ne,V[H.id]=c(ne,H.decimals)}),{row:N,values:V,numericValues:Q}}).sort((N,V)=>{var Q,H;const G=((Q=ee.find(ne=>ne.id===C.columnId))==null?void 0:Q.id)||((H=ee[0])==null?void 0:H.id)||"",J=N.numericValues[G]??0,_=V.numericValues[G]??0;return(C.dir==="desc"?_-J:J-_)||String(N.row.account||"").localeCompare(String(V.row.account||""))}),M=(($=ee.find(N=>N.id===C.columnId))==null?void 0:$.id)||((B=ee[0])==null?void 0:B.id)||"";return u.jsx(ho,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:M,sortDirection:C.dir,onSortColumn:N=>{j(V=>({columnId:N,dir:V.columnId===N&&V.dir==="desc"?"asc":"desc"}))},columns:ee.map(N=>({id:N.id,label:N.label,align:"right",minWidth:90})),rows:O.map((N,V)=>({id:`${N.row.account}-${V}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),d(N.row.profession,N.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.row.account})]}),values:N.values}))})})()})]}):u.jsx(Cs,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map($=>u.jsx("button",{onClick:()=>r($.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===$.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:$.label},$.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const $=t.find(N=>N.id===n)||t[0],B=$.baseField==="resUtility",re=N=>Math.max(1,(N.activeMs||0)/1e3),k=B||a==="total"?"":a==="offSquad"?"offSquad":a,O=B?o==="all"?"resUtility":`resUtility_${o}`:k?`${k}${$.baseField[0].toUpperCase()}${$.baseField.slice(1)}`:$.baseField,M=[...e.healingPlayers].filter(N=>Object.values(N.healingTotals||{}).some(V=>Number(V)>0)).map(N=>{var V;const Q=Number(((V=N.healingTotals)==null?void 0:V[O])??0),H=$.perSecond?Q/re(N):Q;return{...N,value:H}}).sort((N,V)=>{const Q=w.key==="fightTime"?Number(N.activeMs||0):Number(N.value||0),H=w.key==="fightTime"?Number(V.activeMs||0):Number(V.value||0);return(w.dir==="desc"?H-Q:Q-H)||N.account.localeCompare(V.account)});return u.jsx(yo,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[B&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(En,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(N=>({value:N.id,label:N.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!B&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(En,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ce("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[$.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ce("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:M.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):M.map((N,V)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(N.profession,N.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(N.value,$.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:N.activeMs?`${(N.activeMs/1e3).toFixed(1)}s`:"-"})]},`${$.id}-${N.account}-${V}`))})})})()})})]})},lae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",cae=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:y,sidebarListClass:x})=>{const[g,b]=v.useState("total"),[w,S]=v.useState("desc"),[C,j]=v.useState({columnId:"",dir:"desc"}),A=c==="special-buffs",[T,L]=v.useState([]),[E,P]=v.useState([]),I=e.specialTables||[],U=T.length>0?I.filter(k=>T.includes(k.id)):I,Y=r.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ee=Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:l(k.profession,k.professionList,"w-3 h-3")})),ce=new Set([...T.map(k=>`column:${k}`),...E.map(k=>`player:${k}`)]),$=v.useMemo(()=>{if(!(o!=null&&o.rows))return[];const k=[...o.rows];return k.sort((O,M)=>{const N=Number((O==null?void 0:O[g])??0),V=Number((M==null?void 0:M[g])??0),Q=w==="desc"?V-N:N-V;return Q!==0?Q:String((O==null?void 0:O.account)||"").localeCompare(String((M==null?void 0:M.account)||""))}),k},[o,g,w]),B=k=>{if(g===k){S(O=>O==="desc"?"asc":"desc");return}b(k),S("desc")},re=k=>g!==k?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:y("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(a0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):A?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(go,{options:[...I.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:l(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?L(O=>O.includes(k.id)?O.filter(M=>M!==k.id):[...O,k.id]):P(O=>O.includes(k.id)?O.filter(M=>M!==k.id):[...O,k.id])},selectedIds:ce,className:"w-full sm:w-64"}),u.jsx(pr,{options:Y,selectedIds:T,onToggle:k=>{L(O=>O.includes(k)?O.filter(M=>M!==k):[...O,k])},onClear:()=>L([]),buttonIcon:u.jsx(po,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:ee,selectedIds:E,onToggle:k=>{P(O=>O.includes(k)?O.filter(M=>M!==k):[...O,k])},onClear:()=>P([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:g,onChange:k=>b(k),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||E.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{L([]),P([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(k=>{var O;const M=((O=I.find(N=>N.id===k))==null?void 0:O.name)||k;return u.jsxs("button",{type:"button",onClick:()=>L(N=>N.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:M}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),E.map(k=>u.jsxs("button",{type:"button",onClick:()=>P(O=>O.filter(M=>M!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:I.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var k,O;const M=U,N=new Map,V=new Map;M.forEach(J=>{const _=new Map;J.rows.forEach(ne=>{const ge=ne.account||ne.name||ne.id;ge&&(_.set(ge,ne),V.has(ge)||V.set(ge,ne))}),N.set(J.id,_)});const Q=Array.from(V.entries()).filter(([J])=>E.length===0||E.includes(String(J))).map(([J,_])=>{const ne={},ge={};return M.forEach(R=>{var ae;const W=(ae=N.get(R.id))==null?void 0:ae.get(J);if(!W){ne[R.id]="-",ge[R.id]=0;return}if(g==="duration"){ne[R.id]=W.duration?`${W.duration.toFixed(1)}s`:"-",ge[R.id]=Number(W.duration||0);return}const F=g==="total"?W.total:W.perSecond,le=g==="total"?0:1;ge[R.id]=Number(F||0),ne[R.id]=s(F||0,le)}),{key:J,row:_,values:ne,numericValues:ge}}),H=((k=M.find(J=>J.id===C.columnId))==null?void 0:k.id)||(a&&M.some(J=>J.id===a)?a:void 0)||((O=M[0])==null?void 0:O.id)||"",G=[...Q].sort((J,_)=>{if(!H)return String(J.key).localeCompare(String(_.key));const ne=J.numericValues[H]??0,ge=_.numericValues[H]??0;return(C.dir==="desc"?ge-ne:ne-ge)||String(J.key).localeCompare(String(_.key))});return u.jsx(ho,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:H,sortDirection:C.dir,onSortColumn:J=>{j(_=>({columnId:J,dir:_.columnId===J&&_.dir==="desc"?"asc":"desc"}))},columns:M.map(J=>({id:J.id,label:u.jsx(Nr,{name:J.name,iconUrl:J.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:G.map((J,_)=>({id:`${J.key}-${_}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:_+1}),l(J.row.profession,J.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.row.account||J.row.name||J.key})]}),values:J.values}))})})()})]}):u.jsx(Cs,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:k=>n(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(k=>u.jsx("button",{onClick:()=>i(k.id),title:k.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Nr,{name:lae(k.name),iconUrl:k.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},k.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(yo,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Nr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>B("total"),className:`text-right transition-colors ${g==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",re("total")]}),u.jsxs("button",{type:"button",onClick:()=>B("perSecond"),className:`text-right transition-colors ${g==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",re("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>B("duration"),className:`text-right transition-colors ${g==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",re("duration")]})]}),rows:u.jsx(u.Fragment,{children:$.map((k,O)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(k.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:s(k.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.duration?`${k.duration.toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${O}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},uae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",dae=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:y,sidebarListClass:x})=>{const[g,b]=v.useState("desc"),w=c==="sigil-relic-uptime",S=v.useMemo(()=>{if(!(o!=null&&o.rows))return[];const C=[...o.rows];return C.sort((j,A)=>{const T=Number((j==null?void 0:j.uptimePerSecond)??(j==null?void 0:j.perSecond)??0),L=Number((A==null?void 0:A.uptimePerSecond)??(A==null?void 0:A.perSecond)??0),E=g==="desc"?L-T:T-L;return E!==0?E:String((j==null?void 0:j.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),C},[o,g]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:y("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),e?u.jsx(Cs,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>i(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Nr,{name:uae(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(yo,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Nr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",g==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,j)=>{const A=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:j+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(A,1),"%"]})]},`${o.id}-${C.account}-${j}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},fae=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:a,closeExpandedSection:i,isSectionVisible:o,isFirstVisibleSection:s,sectionClass:l})=>{const c=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,p]=v.useState(""),[m,h]=v.useState(""),[y,x]=v.useState(null);v.useEffect(()=>{var P,I,U;if(c.length===0){p(""),h("");return}const Y=String(((P=c[0])==null?void 0:P.id)||""),ee=String(((I=c[1])==null?void 0:I.id)||((U=c[0])==null?void 0:U.id)||"");p(ce=>ce&&c.some($=>String($.id)===ce)?ce:Y),h(ce=>ce&&c.some($=>String($.id)===ce)?ce:ee)},[c]);const g=v.useMemo(()=>c.find(P=>String(P.id)===String(f))||null,[c,f]),b=v.useMemo(()=>c.find(P=>String(P.id)===String(m))||null,[c,m]),w=v.useMemo(()=>{if(!g||!b)return[];const P=new Map,I=(U,Y,ee,ce)=>{const $=String(U||"Unknown"),B=P.get($)||{label:$,aDamage:0,aShare:0,bDamage:0,bShare:0};Y==="a"?(B.aDamage=Number(ee||0),B.aShare=Number(ce||0)):(B.bDamage=Number(ee||0),B.bShare=Number(ce||0)),P.set($,B)};return(g.targetFocus||[]).forEach(U=>I(U.label,"a",U.damage,U.share)),(b.targetFocus||[]).forEach(U=>I(U.label,"b",U.damage,U.share)),Array.from(P.values()).map(U=>({...U,shareDelta:U.bShare-U.aShare})).sort((U,Y)=>Math.abs(Y.shareDelta)-Math.abs(U.shareDelta)||Y.bDamage+Y.aDamage-(U.bDamage+U.aDamage))},[g,b]),S=v.useMemo(()=>{if(!y)return w;const P=y.direction==="asc"?1:-1,I=y.key;return[...w].sort((U,Y)=>{const ee=(Number(U[I])-Number(Y[I]))*P;return ee!==0?ee:U.label.localeCompare(Y.label)})},[w,y]),C=v.useMemo(()=>{if(!g||!b)return[];const P=new Map((g.squadMetrics||[]).map(U=>[U.metricId,U])),I=new Map((b.squadMetrics||[]).map(U=>[U.metricId,U]));return Array.from(new Set([...P.keys(),...I.keys()])).map(U=>{const Y=P.get(U),ee=I.get(U),ce=!!((Y==null?void 0:Y.higherIsBetter)??(ee==null?void 0:ee.higherIsBetter)??!0),$=Number((Y==null?void 0:Y.value)||0),B=Number((ee==null?void 0:ee.value)||0);return{metricId:U,metricLabel:String((Y==null?void 0:Y.metricLabel)||(ee==null?void 0:ee.metricLabel)||U),higherIsBetter:ce,a:Y,b:ee,delta:B-$}})},[g,b]),j=P=>`${t((Number(P)||0)*100,1)}%`,A=P=>P==="squadKdr"?2:0,T=P=>{x(I=>!I||I.key!==P?{key:P,direction:"desc"}:{key:P,direction:I.direction==="desc"?"asc":"desc"})},L=P=>(y==null?void 0:y.key)===P?y.direction==="desc"?" ":" ":"",E=P=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(y==null?void 0:y.key)===P?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return u.jsxs("div",{id:"fight-diff-mode","data-section-visible":o("fight-diff-mode"),"data-section-first":s("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(h1,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),u.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?i():a("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]}),d?u.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[u.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),u.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):c.length<2?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:P=>p(P.target.value),children:c.map(P=>u.jsxs("option",{value:P.id,children:[P.shortLabel," - ",P.fullLabel]},`fight-a-${P.id}`))})]}),u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:P=>h(P.target.value),children:c.map(P=>u.jsxs("option",{value:P.id,children:[P.shortLabel," - ",P.fullLabel]},`fight-b-${P.id}`))})]})]}),u.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[u.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),u.jsxs("div",{children:["Target focus compares how your squad distributed damage ",u.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",u.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",u.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",u.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(yo,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:E("aDamage"),onClick:()=>T("aDamage"),children:[g==null?void 0:g.shortLabel," Damage",L("aDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:E("aShare"),onClick:()=>T("aShare"),children:[g==null?void 0:g.shortLabel," Share",L("aShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:E("bDamage"),onClick:()=>T("bDamage"),children:[b==null?void 0:b.shortLabel," Damage",L("bDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:E("bShare"),onClick:()=>T("bShare"),children:[b==null?void 0:b.shortLabel," Share",L("bShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:E("shareDelta"),onClick:()=>T("shareDelta"),children:["Share Delta",L("shareDelta")]})})]})})]})}):null,rows:w.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:S.map(P=>u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:P.label}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(P.aDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:j(P.aShare)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(P.bDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:j(P.bShare)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${P.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[P.shareDelta>=0?"+":"",j(P.shareDelta)]})]},`focus-${P.label}`))})]})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[u.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),u.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(yo,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),u.jsxs("th",{className:"text-right py-2 px-3",children:[g==null?void 0:g.shortLabel," Value"]}),u.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:C.map(P=>{var I,U;const Y=P.higherIsBetter?P.delta>=0:P.delta<=0,ee=A(P.metricId);return u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:P.metricLabel}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((I=P.a)==null?void 0:I.value)||0),ee)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((U=P.b)==null?void 0:U.value)||0),ee)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${Y?"text-emerald-300":"text-red-300"}`,children:[P.delta>0?"+":"",t(P.delta,ee)]})]},`performer-${P.metricId}`)})})]})}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},pae=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),mae=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{var o;const s=v.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(d=>{(Array.isArray(d==null?void 0:d.teamBreakdown)?d.teamBreakdown:[]).forEach(f=>{const p=String((f==null?void 0:f.teamId)??"").trim(),m=Number((f==null?void 0:f.count)||0);!p||!Number.isFinite(m)||m<=0||c.set(p,(c.get(p)||0)+m)})}),Array.from(c.entries()).sort((d,f)=>{const p=f[1]-d[1];return p!==0?p:d[0].localeCompare(f[0],void 0,{numeric:!0})}).map(([d])=>d)},[e==null?void 0:e.fightBreakdown]),l=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const y=Number(d);if(Number.isFinite(y)&&y>0)f=y>1e12?y:y*1e3;else{const x=Date.parse(d);Number.isFinite(x)&&x>0&&(f=x)}}const p=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",h=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${p}  ${h}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":a("fight-breakdown"),className:i("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(En,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((o=e.fightBreakdown)==null?void 0:o.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&(f=window.electronAPI)!=null&&f.openExternal?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:l(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Sv,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Sv,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Sv,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const p=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(m=>String((m==null?void 0:m.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((p==null?void 0:p.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},$M={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},hae=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:c})=>{const d=$M[r]||$M.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},gae=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},BM=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},yae=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(rc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(fz,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(a0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Th,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:BM(m.val,o)})]},h))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,y,x,g,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((y=m.data)==null?void 0:y.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((x=m.data)==null?void 0:x.profession)||"Unknown"})]})]}),(b=(g=m.data)==null?void 0:g.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:BM(w.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,y=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,x=m?"":"Total ",g=m?" /s":"",b=[{icon:gz,title:`Down Contribution${g}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Tu,title:`${x}Barrier${g}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:sO,title:`${x}Healing${g}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:Nz,title:`${x}Dodges${g}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Nf,title:`${x}Strips${g}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:mz,title:`${x}Cleanses${g}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:hz,title:`${x}CC${g}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:dO,title:`${x}Stab Gen${g}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:dz,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var C,j,A,T;const L=a==="all",E=gae((y==null?void 0:y[S.statKey])||[],S.higherIsBetter),P=E[0],I=P?{...S.data,value:Number(P.value||0),player:P.account||((C=S.data)==null?void 0:C.player)||"-",count:P.count||((j=S.data)==null?void 0:j.count)||0,profession:P.profession||((A=S.data)==null?void 0:A.profession)||"Unknown",professionList:P.professionList||((T=S.data)==null?void 0:T.professionList)||[]}:S.data;return u.jsx(hae,{...S,data:I,active:L,onClick:()=>i(U=>U==="all"?null:"all"),rows:E,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,vae=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",s=o==="downContribution",l=s?"Down Contrib":"Damage",c=o,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,p=v.useMemo(()=>s&&f?f:!s&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((y,x)=>{const g=Number((y==null?void 0:y[c])||0);return Number((x==null?void 0:x[c])||0)-g||Number((x==null?void 0:x.hits)||0)-Number((y==null?void 0:y.hits)||0)||String((y==null?void 0:y.name)||"").localeCompare(String((x==null?void 0:x.name)||""))}),[s,d,f,e.topSkills,c]),m=v.useMemo(()=>Math.max(1,...p.map(y=>Number((y==null?void 0:y[c])||0))),[p,c]),h=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(m1,{className:"w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),h&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(y=>{const x=(t||e.topSkillsMetric)===y.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(y.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${x?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:y.label},y.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[p.map((y,x)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Nr,{name:y.name,iconUrl:y.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-orange-400 font-mono font-bold",children:Math.round(y[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",y.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${Number(y[c]||0)/m*100}%`}})})]})]},`outgoing-${y.name||"unknown"}-${x}`)),p.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(sz,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[(e.topIncomingSkills||[]).map((y,x)=>{var g;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Nr,{name:y.name,iconUrl:y.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(y.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",y.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${y.damage/(((g=e.topIncomingSkills[0])==null?void 0:g.damage)||1)*100}%`}})})]})]},`incoming-${y.name||"unknown"}-${x}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},bae=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":o,"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Sr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Yx,{children:[u.jsx(kg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,l)=>u.jsx(zu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${o?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(r0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Yx,{children:[u.jsx(kg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,l)=>u.jsx(zu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${o?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]})},xae=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Sr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Ag,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Wf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(qf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const c=(l=s==null?void 0:s[0])==null?void 0:l.payload;return c!=null&&c.label?`Log ${c.index}  ${c.label}`:`Log ${o}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(Qo,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(Qo,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),wae=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(v1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Yx,{children:[u.jsx(kg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>u.jsx(zu,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(O3,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",u.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),zM=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:y,spikeMode:x,setSpikeMode:g,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:j,selectedSpikeFightIndex:A,setSelectedSpikeFightIndex:T,spikeDrilldownTitle:L,spikeDrilldownData:E,spikeDrilldownDownIndices:P,spikeDrilldownDeathIndices:I,spikeFightSkillRows:U=[],spikeFightSkillTitle:Y="Skill Damage (Selected Fight)",formatWithCommas:ee,renderProfessionIcon:ce})=>{const[$,B]=v.useState(null),[re,k]=v.useState(null),O=F=>String(F||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),M=o===e,N=S?ac(S.profession):"#fda4af",V=x==="hit"?"Highest Damage":x==="1s"?"1s Burst":x==="5s"?"5s Burst":"30s Burst",Q=F=>x==="hit"?F.peakHit:x==="1s"?F.peak1s:x==="5s"?F.peak5s:F.peak30s,H=y.flatMap(F=>F.players.map(le=>({...le,groupProfession:F.profession}))).sort((F,le)=>{const xe=Q(le)-Q(F);return xe!==0?xe:F.displayName.localeCompare(le.displayName)}),G=C.reduce((F,le)=>!F||le.damage>F.damage?le:F,null),J=F=>{if(!Number.isFinite(F)||F<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(F))}catch{return""}},_=E.reduce((F,le)=>Math.max(F,Number(le.value||0)),0),ne=Math.max(1,_),ge=new Set(P),R=new Set(I),ae=E.map((F,le)=>({...F,downMarker:ge.has(le)?Math.max(Number(F.value||0),ne*.88):null,deathMarker:R.has(le)?Math.max(Number(F.value||0),ne*.96):null})),W=F=>le=>{const xe=Number(le==null?void 0:le.cx),Je=Number(le==null?void 0:le.cy),ue=Number(le==null?void 0:le.index);if(!Number.isFinite(xe)||!Number.isFinite(Je)||!Number.isFinite(ue))return null;const Ke=(le==null?void 0:le.payload)||{},Fe=F==="down"?Ke==null?void 0:Ke.downMarker:Ke==null?void 0:Ke.deathMarker;if(!Number.isFinite(Number(Fe)))return null;const gt=`${F}-${ue}`,Wt=$===gt,On=F==="down"?"#facc15":"#ef4444",Wn=F==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{B(gt),k({x:xe,y:Je,kind:F,label:String((Ke==null?void 0:Ke.label)||"")})},onMouseLeave:()=>{B(he=>he===gt?null:he),k(he=>(he==null?void 0:he.kind)===F&&(he==null?void 0:he.label)===String((Ke==null?void 0:Ke.label)||"")?null:he)},children:[u.jsx("circle",{cx:xe,cy:Je,r:Wt?10:7,fill:Wn,opacity:Wt?.35:.18}),u.jsx("circle",{cx:xe,cy:Je,r:Wt?7:5.5,fill:On,stroke:"#0f172a",strokeWidth:Wt?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${M?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:M?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Nf,{className:`w-5 h-5 ${i}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${M?"pr-10 md:pr-0":""}`,children:[u.jsx(En,{value:x,onChange:F=>g(F),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>M?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${M?"absolute top-2 right-2 md:static":""}`,"aria-label":M?`Close ${t}`:`Expand ${t}`,title:M?"Close":"Expand",children:M?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ri,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:F=>h(F.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:H.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:H.map(F=>{const le=b===F.key;return u.jsx("button",{type:"button",onClick:()=>w(F.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${le?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ce(F.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:F.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:F.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[F.characterName||F.displayName,"  ",F.logs," ",F.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:ee(Q(F)||0,0)})]})},F.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",V]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Ag,{data:C,onClick:F=>{const le=Number(F==null?void 0:F.activeTooltipIndex);Number.isFinite(le)&&T(A===le?null:le)},children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Wf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(qf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,j)],tickFormatter:F=>ee(F,0)}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(F,le)=>[ee(Number(F||0),0),String(le||"")],labelFormatter:(F,le)=>{var xe;const Je=(xe=le==null?void 0:le[0])==null?void 0:xe.payload;if(!Je)return"";const ue=O(Je.fullLabel||"");return x==="hit"&&Je.skillName?`${ue}  ${Je.skillName}`:ue}}),u.jsx(Qo,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:N,strokeWidth:3,dot:F=>{var le;const xe=Number((le=F==null?void 0:F.payload)==null?void 0:le.index);if(!Number.isFinite(xe))return null;const Je=A===xe;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:ue=>{ue.stopPropagation(),T(Je?null:xe)},children:[u.jsx("circle",{cx:F.cx,cy:F.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:F.cx,cy:F.cy,r:Je?4:3,fill:N,stroke:Je?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Je?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(Qo,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[ce(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Highest Skill Damage":`Peak ${V}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:ee(Q(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const F=O((G==null?void 0:G.fullLabel)||S.peakFightLabel||"N/A"),le=J(Number((G==null?void 0:G.timestamp)||0)),xe=le?`${le} - ${F}`:F;return x!=="hit"?xe:S.peakSkillName?`${S.peakSkillName}  ${xe}`:xe})()})]})]}),S&&A!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:L}),u.jsx("button",{type:"button",onClick:()=>T(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:E.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Ag,{data:ae,children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Wf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(qf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:F=>ee(F,0)}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(F,le)=>{const xe=String(le||"");return xe==="Down"?["Downed","Event"]:xe==="Death"?["Dead","Event"]:[ee(Number(F||0),0),"Damage"]},labelFormatter:F=>String(F||"")}),u.jsx(Qo,{type:"monotone",dataKey:"value",name:"Damage",stroke:N,strokeWidth:2.5,dot:x==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(Qo,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:W("down")}),u.jsx(Qo,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:W("death")})]})}),re&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,re.x)}px`,top:`${Math.max(8,re.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${re.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:re.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:re.label})]})]})})]}),S&&A!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${U.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:Y}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[U.length," ",U.length===1?"skill":"skills"]})]}),U.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:U.map((F,le)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate",title:F.skillName,children:F.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:ee(Number(F.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ee(Number(F.hits||0),0)})]},`${F.skillName}-${le}`))})]})]})]})},kae=10,Nv=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},Sae=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(""),[s,l]=v.useState("squad"),[c,d]=v.useState("desc"),f=i.trim().toLowerCase(),p=v.useMemo(()=>{const y=e.filter(g=>{if(!f)return!0;const b=String(g.account||"").toLowerCase(),w=(g.characterNames||[]).join(" ").toLowerCase(),S=(g.classTimes||[]).map(C=>String(C.profession||"").toLowerCase()).join(" ");return b.includes(f)||w.includes(f)||S.includes(f)}),x=g=>Number(s==="fight"?g.combatTimeMs??g.squadTimeMs??0:g.squadTimeMs??0);return[...y].sort((g,b)=>{const w=x(b)-x(g);return w!==0?c==="desc"?w:-w:String(g.account||"").localeCompare(String(b.account||""))})},[e,f,c,s]),m=y=>{if(s===y){d(x=>x==="desc"?"asc":"desc");return}l(y),d("desc")},h=p.length>kae;return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Sf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsx("input",{value:i,onChange:y=>o(y.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[p.map(y=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:y.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:y.characterNames.length>0?y.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.classTimes.length>0?y.classTimes.map(x=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?u.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:x.profession}),u.jsx("span",{className:"text-gray-400",children:Nv(x.timeMs)})]},`${y.account}-${x.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Nv(Number(y.combatTimeMs??y.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Nv(y.squadTimeMs)})]},y.account)),p.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Nae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},jae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(null),[s,l]=v.useState(""),c=s.trim().toLowerCase(),d=np("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=v.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!c)return!1;const h=String(m.account||"").toLowerCase(),y=String(m.characterName||"").toLowerCase(),x=String(m.profession||"").toLowerCase();return h.includes(c)||y.includes(c)||x.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Sr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return u.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Nae(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,y)=>(()=>{const x=p(h);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${x?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?u.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:u.jsx("span",{className:"truncate min-w-0",children:h.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${y}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Cae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Aae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(null);v.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(c=>c.id===i))&&o(e[0].id)},[e,i]);const s=v.useMemo(()=>e.find(c=>c.id===i)||null,[e,i]),l=v.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[s]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Zs,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===i;return u.jsxs("button",{onClick:()=>o(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Cae(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:s?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:s.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession)||f.characterName.localeCompare(p.characterName)||f.account.localeCompare(p.account)):Object.entries(c.classCounts||{}).flatMap(([f,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,p)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${s.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||p}-${p}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${s.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Mae=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const p=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(lO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(rc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[a&&u.jsxs("button",{onClick:o,disabled:i.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(a0,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(Sz,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:p,"aria-disabled":p,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(xz,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Eae=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=v.useState("idle"),c=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(vz,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(cO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(fO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},Pae=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Ao="space-y-1 pr-1 max-h-72 overflow-y-auto",Tae=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Oae=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function Dae({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0,aggregationResult:h}){var y,x;const g=n||yO,b=r||Kb,w=i||Vz,S=b.showTopStats,C=b.showMvp,j=b.roundCountStats,A=b.topStatsMode||"total",[T,L]=v.useState(b.topSkillsMetric||"damage"),E=(a?b.topSkillsMetric:T)||"damage",P=w.uploading,I=w.message,U=w.url,Y=w.buildStatus,ee=!c&&!1,ce=!!h,{result:$}=HU({logs:ce?[]:e,precomputedStats:ce?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),B=h||$,{stats:re,skillUsageData:k}=B,O=v.useMemo(()=>{var X,se,ye,Xe,Ae,nt;const ie=re&&typeof re=="object"?re:{},Ye=Se=>Array.isArray(Se)?Se:[],sn=Se=>Se&&typeof Se=="object"?Se:{},Ue=(Se,St)=>Se&&typeof Se=="object"?Se:St,Dt={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Ft={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},ln={...ie,total:Number(ie.total||0),timelineData:Ye(ie.timelineData),mapData:Ye(ie.mapData),fightBreakdown:Ye(ie.fightBreakdown),topSkills:Ye(ie.topSkills),topIncomingSkills:Ye(ie.topIncomingSkills),leaderboards:sn(ie.leaderboards),topStatsPerSecond:sn(ie.topStatsPerSecond),topStatsLeaderboardsPerSecond:sn(ie.topStatsLeaderboardsPerSecond),maxDownContrib:Ue(ie.maxDownContrib,Dt),maxBarrier:Ue(ie.maxBarrier,Dt),maxHealing:Ue(ie.maxHealing,Dt),maxDodges:Ue(ie.maxDodges,Dt),maxStrips:Ue(ie.maxStrips,Dt),maxCleanses:Ue(ie.maxCleanses,Dt),maxCC:Ue(ie.maxCC,Dt),maxStab:Ue(ie.maxStab,Dt),closestToTag:Ue(ie.closestToTag,Dt),mvp:{...Ft,...sn(ie.mvp),topStats:Ye((X=ie==null?void 0:ie.mvp)==null?void 0:X.topStats)},silver:Ue(ie.silver,Ft),bronze:Ue(ie.bronze,Ft),avgMvpScore:Number(ie.avgMvpScore||0),offensePlayers:Ye(ie.offensePlayers),defensePlayers:Ye(ie.defensePlayers),damageMitigationPlayers:Ye(ie.damageMitigationPlayers),damageMitigationMinions:Ye(ie.damageMitigationMinions),supportPlayers:Ye(ie.supportPlayers),healingPlayers:Ye(ie.healingPlayers),boonTables:Ye(ie.boonTables),specialTables:Ye(ie.specialTables),outgoingConditionSummary:Ye(ie.outgoingConditionSummary),outgoingConditionPlayers:Ye(ie.outgoingConditionPlayers),incomingConditionSummary:Ye(ie.incomingConditionSummary),incomingConditionPlayers:Ye(ie.incomingConditionPlayers),squadClassData:Ye(ie.squadClassData),enemyClassData:Ye(ie.enemyClassData),attendanceData:Ye(ie.attendanceData),squadCompByFight:Ye(ie.squadCompByFight),fightDiffMode:Ye(ie.fightDiffMode),playerSkillBreakdowns:Ye(ie.playerSkillBreakdowns)},pt=Ye((se=ln.leaderboards)==null?void 0:se.downContrib).map(Se=>({...Se,value:Number((Se==null?void 0:Se.value)??0)})).filter(Se=>Number.isFinite(Se.value)).sort((Se,St)=>St.value-Se.value||String((Se==null?void 0:Se.account)||"").localeCompare(String((St==null?void 0:St.account)||"")))[0];return pt&&(ln.maxDownContrib={...ln.maxDownContrib||{},value:Number(pt.value||0),player:String(pt.account||((ye=ln.maxDownContrib)==null?void 0:ye.player)||"-"),count:Number(pt.count||((Xe=ln.maxDownContrib)==null?void 0:Xe.count)||0),profession:String(pt.profession||((Ae=ln.maxDownContrib)==null?void 0:Ae.profession)||"Unknown"),professionList:Array.isArray(pt.professionList)?pt.professionList:((nt=ln.maxDownContrib)==null?void 0:nt.professionList)||[]}),ln},[re]);v.useEffect(()=>{var X;if(!((X=window==null?void 0:window.electronAPI)!=null&&X.fetchImageAsDataUrl))return;const se=new Set,ye=Xe=>{if(Xe){if(typeof Xe=="string"){/^https?:\/\//i.test(Xe)&&se.add(Xe);return}if(Array.isArray(Xe)){Xe.forEach(ye);return}typeof Xe=="object"&&Object.entries(Xe).forEach(([Ae,nt])=>{if((Ae==="icon"||Ae==="iconUrl")&&typeof nt=="string"){/^https?:\/\//i.test(nt)&&se.add(nt);return}ye(nt)})}};ye(O),se.size>0&&qre(Array.from(se))},[O]);const M=v.useMemo(()=>{const X=(l==null?void 0:l.skillUsageData)??k;return{logRecords:Array.isArray(X==null?void 0:X.logRecords)?X.logRecords:[],players:Array.isArray(X==null?void 0:X.players)?X.players:[],skillOptions:Array.isArray(X==null?void 0:X.skillOptions)?X.skillOptions:[],resUtilitySkills:Array.isArray(X==null?void 0:X.resUtilitySkills)?X.resUtilitySkills:[]}},[k,l==null?void 0:l.skillUsageData]),N=M.players.length>0;v.useEffect(()=>{a||L(b.topSkillsMetric||"damage")},[b.topSkillsMetric,a]);const V=X=>{if(a){a({...b,topSkillsMetric:X});return}L(X)},{scrollContainerRef:Q}=Cz(c),{devMockUploadState:H,webCopyStatus:G,setWebCopyStatus:J,handleWebUpload:_,handleDevMockUpload:ne}=Qz({logs:e,stats:O,skillUsageData:M,activeStatsViewSettings:r||Kb,uiTheme:p||"classic",embedded:c,onWebUpload:o}),{sharing:ge,handleShare:R}=qU(c),ae={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},W=X=>{const se=ae[X];return se?g[se]>0:!0},[F,le]=v.useState(null),[xe,Je]=v.useState(null),[ue,Ke]=v.useState("totalBuffs"),[Fe,gt]=v.useState("total"),[Wt,On]=v.useState(""),[Wn,he]=v.useState(null),[Pe,Pt]=v.useState(""),[$t,un]=v.useState(null),[jr,Ca]=v.useState(""),[qn,Ua]=v.useState(""),[Tr,yn]=v.useState(""),[dn,Xr]=v.useState(""),[bn,Cr]=v.useState(""),[cr,Vo]=v.useState(""),[Cl,Ms]=v.useState(""),[Es,Oc]=v.useState("outgoing"),[Al,Ml]=v.useState(""),[K,fe]=v.useState("damage"),[De,et]=v.useState("damageTaken"),[Tt,Ot]=v.useState("totalMitigation"),[rt,fn]=v.useState("all"),[jn,Ar]=v.useState({key:"damage",dir:"desc"}),pn=!(rt!=="all"&&Tae.has(rt)),Re=pn?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",mt=pn?jn:{key:"applications",dir:jn.key==="applications"?jn.dir:"desc"},[mn,nn]=v.useState("condiCleanse"),[Hn,Aa]=v.useState("healing"),[Qr,Wo]=v.useState("total"),[od,vy]=v.useState("all"),[by,xy]=v.useState("total"),[wy,ky]=v.useState("total"),[D,q]=v.useState("total"),[te,we]=v.useState("total"),[Z,Ie]=v.useState("all"),[Le,st]=v.useState("squad"),[yt,ht]=v.useState("player"),[Bt,hn]=v.useState(""),[on,Ze]=v.useState(""),[qe,ot]=v.useState(null),[At,Ht]=v.useState([]),[pe,Ne]=v.useState(null),[ke,Be]=v.useState(null),[me,_e]=v.useState("hit"),[Me,vt]=v.useState(null),[tt,at]=v.useState(null),[qt,xn]=v.useState("hit"),[Dn,nr]=v.useState([]),[bt,z]=v.useState(null),[oe,je]=v.useState(!1),Ce=v.useRef(null),[ve,$e]=v.useState("sizes"),[Qe,He]=v.useState("total"),zt=Qe==="perSecond",[Yt,Vt]=v.useState(null),[lt,Gt]=v.useState("total"),[ct,tn]=v.useState(null),[Lt,jt]=v.useState(null),[Te,be]=v.useState(null),[xt,Ct]=v.useState(""),[Kt,wn]=v.useState(null),[zr,oa]=v.useState(null),[Zr,Ai]=v.useState(null),[Dc,Ps]=v.useState(""),[ko,Bp]=v.useState("player"),[So,Ts]=v.useState(null),[sd,Os]=v.useState(null),[si,li]=v.useState(null),{apmSpecBuckets:ci}=KU(M),Oe=O.playerSkillBreakdowns||[],Ge=v.useMemo(()=>{const X=new Map;return Oe.forEach(se=>X.set(se.key,se)),X},[Oe]),ut=v.useMemo(()=>{const X=new Map;return Oe.forEach(se=>{const ye=se.profession||"Unknown";X.has(ye)||X.set(ye,{profession:ye,players:[],skills:new Map});const Xe=X.get(ye);Xe.players.push(se),se.skills.forEach(Ae=>{var nt;const ie=Xe.skills.get(Ae.id)||{...Ae,damage:0,downContribution:0};ie.damage+=Number(Ae.damage||0),ie.downContribution+=Number(Ae.downContribution||0),!ie.icon&&Ae.icon&&(ie.icon=Ae.icon),(nt=ie.name)!=null&&nt.startsWith("Skill ")&&!Ae.name.startsWith("Skill ")&&(ie.name=Ae.name),Xe.skills.set(Ae.id,ie)})}),Array.from(X.values()).map(se=>{const ye=Array.from(se.skills.values()).sort((Ae,nt)=>nt.damage-Ae.damage),Xe=ye.reduce((Ae,nt)=>(Ae[nt.id]=nt,Ae),{});return{profession:se.profession,players:se.players,skills:ye,skillMap:Xe}}).sort((se,ye)=>se.profession.localeCompare(ye.profession))},[Oe]),Mt=Kt&&Ge.get(Kt)||null,Sn=Mt&&Zr&&((y=Mt.skillMap)==null?void 0:y[Zr])||null,Kn=v.useMemo(()=>{const X=new Map;return ut.forEach(se=>X.set(se.profession,se)),X},[ut]),Cn=So&&Kn.get(So)||null,yr=Cn&&si&&((x=Cn.skillMap)==null?void 0:x[si])||null,Zt=v.useMemo(()=>{const X=Se=>String(Se||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),se=Se=>X(Se).toLowerCase().split(/[^a-z0-9]+/i).map(St=>St.trim()).filter(Boolean).map(St=>St.length>3&&St.endsWith("s")?St.slice(0,-1):St),ye=(Se,St)=>{const We=X(Se),Rn=X(St);if(!Rn)return We;if(!We)return Rn;const Or=se(We),$n=se(Rn),vr=new Set(Or),An=new Set($n),Ha=$n.length>0&&$n.every(Rt=>vr.has(Rt)),It=Or.length>0&&Or.every(Rt=>An.has(Rt));return Ha||It?We:`${We} - ${Rn}`},Xe=Se=>{if(Se==null||Se==="")return 0;if(typeof Se=="number")return!Number.isFinite(Se)||Se<=0?0:Se>1e12?Se:Se*1e3;if(Se instanceof Date){const vr=Se.getTime();return Number.isFinite(vr)&&vr>0?vr:0}const St=String(Se).trim();if(!St)return 0;const We=Number(St);if(Number.isFinite(We)&&We>0)return We>1e12?We:We*1e3;const Rn=Date.parse(St);if(Number.isFinite(Rn)&&Rn>0)return Rn;const Or=St.replace(/([+-]\d{2})$/,"$1:00"),$n=Date.parse(Or);return Number.isFinite($n)&&$n>0?$n:0},Ae=(Se,St)=>Xe((Se==null?void 0:Se.uploadTime)??(St==null?void 0:St.uploadTime)??(Se==null?void 0:Se.timeStartStd)??(Se==null?void 0:Se.timeStart)??(Se==null?void 0:Se.timeEndStd)??(Se==null?void 0:Se.timeEnd)),nt=O==null?void 0:O.spikeDamage,ie=Array.isArray(nt==null?void 0:nt.fights)?nt.fights:[],Ye=Array.isArray(nt==null?void 0:nt.players)?nt.players:[],sn=ie.some(Se=>(Se!=null&&Se.values&&typeof Se.values=="object"?Object.values(Se.values):[]).some(St=>St&&typeof St=="object"&&(Number(St.burst1s||0)>0||Number(St.burst5s||0)>0||Number(St.burst30s||0)>0)))||Ye.some(Se=>Number((Se==null?void 0:Se.peak1s)||0)>0||Number((Se==null?void 0:Se.peak5s)||0)>0||Number((Se==null?void 0:Se.peak30s)||0)>0);if((ie.length>0||Ye.length>0)&&(sn||e.length===0)){const Se=ie.map((We,Rn)=>{const Or=We!=null&&We.values&&typeof We.values=="object"?We.values:{},$n={};return Object.entries(Or).forEach(([vr,An])=>{if(An&&typeof An=="object"){const Ha=Number(An.damage||0);$n[vr]={hit:Number(An.hit??Ha),burst1s:Number(An.burst1s||0),burst5s:Number(An.burst5s||0),burst30s:Number(An.burst30s||0),skillName:String(An.skillName||""),buckets5s:Array.isArray(An.buckets5s)?An.buckets5s.map(It=>Number(It||0)):void 0,downIndices5s:Array.isArray(An.downIndices5s)?An.downIndices5s.map(It=>Number(It)).filter(It=>Number.isFinite(It)&&It>=0):void 0,deathIndices5s:Array.isArray(An.deathIndices5s)?An.deathIndices5s.map(It=>Number(It)).filter(It=>Number.isFinite(It)&&It>=0):void 0,skillRows:Array.isArray(An.skillRows)?An.skillRows.map(It=>({skillName:String((It==null?void 0:It.skillName)||(It==null?void 0:It.name)||"Unknown Skill"),damage:Number((It==null?void 0:It.damage)||0),hits:Number((It==null?void 0:It.hits)||0),icon:typeof(It==null?void 0:It.icon)=="string"?It.icon:void 0})).filter(It=>Number.isFinite(It.damage)&&It.damage>0):void 0};return}$n[vr]={hit:Number(An||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((We==null?void 0:We.id)||`fight-${Rn+1}`),shortLabel:String((We==null?void 0:We.shortLabel)||`F${Rn+1}`),fullLabel:X((We==null?void 0:We.fullLabel)||`Fight ${Rn+1}`),timestamp:Number((We==null?void 0:We.timestamp)||0),values:$n,maxHit:Number((We==null?void 0:We.maxHit)??(We==null?void 0:We.maxDamage)??0),max1s:Number((We==null?void 0:We.max1s)||0),max5s:Number((We==null?void 0:We.max5s)||0),max30s:Number((We==null?void 0:We.max30s)||0)}}),St=Ye.map(We=>({key:String((We==null?void 0:We.key)||""),account:String((We==null?void 0:We.account)||"Unknown"),displayName:String((We==null?void 0:We.displayName)||(We==null?void 0:We.account)||"Unknown"),characterName:String((We==null?void 0:We.characterName)||(We==null?void 0:We.name)||(We==null?void 0:We.character_name)||(We==null?void 0:We.display_name)||""),profession:String((We==null?void 0:We.profession)||"Unknown"),professionList:Array.isArray(We==null?void 0:We.professionList)?We.professionList.map(Rn=>String(Rn)):[],logs:Number((We==null?void 0:We.logs)||0),peakHit:Number((We==null?void 0:We.peakHit)||0),peak1s:Number((We==null?void 0:We.peak1s)||0),peak5s:Number((We==null?void 0:We.peak5s)||0),peak30s:Number((We==null?void 0:We.peak30s)||0),peakFightLabel:X((We==null?void 0:We.peakFightLabel)||""),peakSkillName:String((We==null?void 0:We.peakSkillName)||"")}));return{fights:Se,players:St}}const Ue=(Se,St)=>{const We=(St==null?void 0:St.skillMap)||{},Rn=(St==null?void 0:St.buffMap)||{};let Or=0,$n="";const vr=It=>{const Rt=Number(It);if(!Number.isFinite(Rt))return String(It||"Unknown Skill");const Nt=(We==null?void 0:We[`s${Rt}`])||(We==null?void 0:We[`${Rt}`]);if(Nt!=null&&Nt.name)return String(Nt.name);const Jt=(Rn==null?void 0:Rn[`b${Rt}`])||(Rn==null?void 0:Rn[`${Rt}`]);return Jt!=null&&Jt.name?String(Jt.name):`Skill ${Rt}`},An=It=>{if(!It||typeof It!="object")return;const Rt=[Number(It.max),Number(It.maxDamage),Number(It.maxHit)].filter(Jt=>Number.isFinite(Jt)),Nt=Rt.length>0?Math.max(...Rt):0;Nt>Or&&(Or=Nt,$n=vr(It.id))};let Ha=!1;return Array.isArray(Se==null?void 0:Se.targetDamageDist)&&Se.targetDamageDist.forEach(It=>{Array.isArray(It)&&It.forEach(Rt=>{Array.isArray(Rt)&&Rt.forEach(Nt=>{Ha=!0,An(Nt)})})}),(!Ha||Or<=0)&&Array.isArray(Se==null?void 0:Se.totalDamageDist)&&Se.totalDamageDist.forEach(It=>{Array.isArray(It)&&It.forEach(Rt=>An(Rt))}),{peak:Or,skillName:$n||"Unknown Skill"}},Dt=(Se,St)=>{const We=Rt=>{if(!Array.isArray(Rt)||Rt.length===0)return[];const Nt=[];for(let Jt=0;Jt<Rt.length;Jt+=1){const br=Number(Rt[Jt]||0),rr=Jt>0?Number(Rt[Jt-1]||0):0;Nt.push(Math.max(0,br-rr))}return Nt},Rn=(Rt,Nt)=>{if(!Array.isArray(Rt)||Rt.length===0||Nt<=0)return 0;let Jt=0,br=0;for(let rr=0;rr<Rt.length;rr+=1)Jt+=Number(Rt[rr]||0),rr>=Nt&&(Jt-=Number(Rt[rr-Nt]||0)),rr>=Nt-1&&Jt>br&&(br=Jt);return Math.max(0,br)},Or=Rt=>{if(!Array.isArray(Rt))return[];const Nt=Rt.reduce((br,rr)=>Math.max(br,Array.isArray(rr)?rr.length:0),0);if(Nt<=0)return[];const Jt=new Array(Nt).fill(0);return Rt.forEach(br=>{if(Array.isArray(br))for(let rr=0;rr<Nt;rr+=1)Jt[rr]+=Number(br[rr]||0)}),Jt},$n=Rt=>Array.isArray(Rt)?Rt.map(Nt=>Number(Nt||0)):null,vr=(Rt=>{if(!Array.isArray(Rt)||Rt.length===0)return null;const Nt=Rt[0];if(!Array.isArray(Nt))return null;if(Array.isArray(Nt[0])&&Array.isArray(Nt[0][0]))return Or(Nt);if(Array.isArray(Nt[0])&&!Array.isArray(Nt[0][0])){const Jt=Rt.map(br=>$n(Array.isArray(br)?br[0]:null)).filter(br=>Array.isArray(br)&&br.length>0);if(Jt.length>0)return Or(Jt)}return null})(Se==null?void 0:Se.targetDamage1S),An=Array.isArray(Se==null?void 0:Se.damage1S)&&Array.isArray(Se.damage1S[0])?Se.damage1S[0]:null,Ha=vr||(Array.isArray(An)?An.map(Rt=>Number(Rt||0)):[]),It=We(Ha);return Rn(It,St)},Ft=[],ln=new Map;e.forEach(Se=>{const St=Se==null?void 0:Se.details;if(!St)return;const We=Ft.length+1,Rn=X(St.fightName||Se.fightName||`Fight ${We}`),Or=St.zone||St.mapName||St.map||St.location||"",$n=ye(Rn,String(Or||"")),vr={};(Array.isArray(St.players)?St.players:[]).forEach(Nt=>{if(Nt!=null&&Nt.notInSquad)return;const Jt=String((Nt==null?void 0:Nt.account)||(Nt==null?void 0:Nt.name)||"Unknown"),br=String((Nt==null?void 0:Nt.character_name)||(Nt==null?void 0:Nt.display_name)||(Nt==null?void 0:Nt.name)||""),rr=String((Nt==null?void 0:Nt.profession)||"Unknown"),Ol=`${Jt}|${rr}`,_s=Ue(Nt,St),Ls=Number(_s.peak||0),Dl=Number(Dt(Nt,1)||0),Fc=Number(Dt(Nt,5)||0),Rc=Number(Dt(Nt,30)||0);vr[Ol]={hit:Ls,burst1s:Dl,burst5s:Fc,burst30s:Rc,skillName:_s.skillName};const Dr=ln.get(Ol)||{key:Ol,account:Jt,displayName:Jt,characterName:br,profession:rr,professionList:[rr],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Dr.logs+=1,Dr.professionList.includes(rr)||Dr.professionList.push(rr),!Dr.characterName&&br&&(Dr.characterName=br),Ls>Dr.peakHit&&(Dr.peakHit=Ls,Dr.peakFightLabel=$n,Dr.peakSkillName=_s.skillName),Dl>Dr.peak1s&&(Dr.peak1s=Dl),Fc>Dr.peak5s&&(Dr.peak5s=Fc),Rc>Dr.peak30s&&(Dr.peak30s=Rc),ln.set(Ol,Dr)});const An=Object.values(vr).reduce((Nt,Jt)=>Math.max(Nt,Number((Jt==null?void 0:Jt.hit)||0)),0),Ha=Object.values(vr).reduce((Nt,Jt)=>Math.max(Nt,Number((Jt==null?void 0:Jt.burst1s)||0)),0),It=Object.values(vr).reduce((Nt,Jt)=>Math.max(Nt,Number((Jt==null?void 0:Jt.burst5s)||0)),0),Rt=Object.values(vr).reduce((Nt,Jt)=>Math.max(Nt,Number((Jt==null?void 0:Jt.burst30s)||0)),0);Ft.push({id:Se.filePath||Se.id||`fight-${We}`,shortLabel:`F${We}`,fullLabel:$n,timestamp:Ae(St,Se),values:vr,maxHit:An,max1s:Ha,max5s:It,max30s:Rt})});const pt=Array.from(ln.values()).sort((Se,St)=>St.peakHit!==Se.peakHit?St.peakHit-Se.peakHit:Se.displayName.localeCompare(St.displayName));return{fights:Ft,players:pt}},[e,O]),In=v.useMemo(()=>{const X=ie=>String(ie||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),se=O==null?void 0:O.incomingStrikeDamage,ye=Array.isArray(se==null?void 0:se.fights)?se.fights:[],Xe=Array.isArray(se==null?void 0:se.players)?se.players:[];if(ye.length===0&&Xe.length===0)return{fights:[],players:[]};const Ae=ye.map((ie,Ye)=>{const sn=ie!=null&&ie.values&&typeof ie.values=="object"?ie.values:{},Ue={};return Object.entries(sn).forEach(([Dt,Ft])=>{if(Ft&&typeof Ft=="object"){const ln=Number(Ft.damage||0);Ue[Dt]={hit:Number(Ft.hit??ln),burst1s:Number(Ft.burst1s||0),burst5s:Number(Ft.burst5s||0),burst30s:Number(Ft.burst30s||0),skillName:String(Ft.skillName||""),buckets5s:Array.isArray(Ft.buckets5s)?Ft.buckets5s.map(pt=>Number(pt||0)):void 0,downIndices5s:Array.isArray(Ft.downIndices5s)?Ft.downIndices5s.map(pt=>Number(pt)).filter(pt=>Number.isFinite(pt)&&pt>=0):void 0,deathIndices5s:Array.isArray(Ft.deathIndices5s)?Ft.deathIndices5s.map(pt=>Number(pt)).filter(pt=>Number.isFinite(pt)&&pt>=0):void 0,skillRows:Array.isArray(Ft.skillRows)?Ft.skillRows.map(pt=>({skillName:String((pt==null?void 0:pt.skillName)||(pt==null?void 0:pt.name)||"Unknown Skill"),damage:Number((pt==null?void 0:pt.damage)||0),hits:Number((pt==null?void 0:pt.hits)||0),icon:typeof(pt==null?void 0:pt.icon)=="string"?pt.icon:void 0})).filter(pt=>Number.isFinite(pt.damage)&&pt.damage>0):void 0};return}Ue[Dt]={hit:Number(Ft||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((ie==null?void 0:ie.id)||`fight-${Ye+1}`),shortLabel:String((ie==null?void 0:ie.shortLabel)||`F${Ye+1}`),fullLabel:X((ie==null?void 0:ie.fullLabel)||`Fight ${Ye+1}`),timestamp:Number((ie==null?void 0:ie.timestamp)||0),values:Ue,maxHit:Number((ie==null?void 0:ie.maxHit)??(ie==null?void 0:ie.maxDamage)??0),max1s:Number((ie==null?void 0:ie.max1s)||0),max5s:Number((ie==null?void 0:ie.max5s)||0),max30s:Number((ie==null?void 0:ie.max30s)||0)}}),nt=Xe.map(ie=>({key:String((ie==null?void 0:ie.key)||""),account:String((ie==null?void 0:ie.account)||"Unknown"),displayName:String((ie==null?void 0:ie.displayName)||(ie==null?void 0:ie.account)||"Unknown"),characterName:String((ie==null?void 0:ie.characterName)||(ie==null?void 0:ie.name)||(ie==null?void 0:ie.character_name)||(ie==null?void 0:ie.display_name)||""),profession:String((ie==null?void 0:ie.profession)||"Unknown"),professionList:Array.isArray(ie==null?void 0:ie.professionList)?ie.professionList.map(Ye=>String(Ye)):[],logs:Number((ie==null?void 0:ie.logs)||0),peakHit:Number((ie==null?void 0:ie.peakHit)||0),peak1s:Number((ie==null?void 0:ie.peak1s)||0),peak5s:Number((ie==null?void 0:ie.peak5s)||0),peak30s:Number((ie==null?void 0:ie.peak30s)||0),peakFightLabel:X((ie==null?void 0:ie.peakFightLabel)||""),peakSkillName:String((ie==null?void 0:ie.peakSkillName)||"")}));return{fights:Ae,players:nt}},[O]),Mi=v.useMemo(()=>{const X=new Map;return Zt.players.forEach(se=>X.set(se.key,se)),X},[Zt.players]),Ds=v.useMemo(()=>{const X=Ae=>me==="hit"?Ae.peakHit:me==="1s"?Ae.peak1s:me==="5s"?Ae.peak5s:Ae.peak30s,se=cr.trim().toLowerCase(),ye=se?Zt.players.filter(Ae=>Ae.displayName.toLowerCase().includes(se)||Ae.account.toLowerCase().includes(se)||Ae.profession.toLowerCase().includes(se)):Zt.players,Xe=new Map;return ye.forEach(Ae=>{const nt=Ae.profession||"Unknown",ie=Xe.get(nt)||[];ie.push(Ae),Xe.set(nt,ie)}),Array.from(Xe.entries()).map(([Ae,nt])=>({profession:Ae,players:[...nt].sort((ie,Ye)=>X(Ye)-X(ie)||ie.displayName.localeCompare(Ye.displayName))})).sort((Ae,nt)=>Ae.profession.localeCompare(nt.profession))},[Zt.players,cr,me]),Ic=pe&&Mi.get(pe)||null,ui=v.useMemo(()=>{if(!pe)return[];const X=ye=>ye?Number(me==="hit"?ye.hit||0:me==="1s"?ye.burst1s||0:me==="5s"?ye.burst5s||0:ye.burst30s||0):0,se=ye=>Number(me==="hit"?ye.maxHit||0:me==="1s"?ye.max1s||0:me==="5s"?ye.max5s||0:ye.max30s||0);return Zt.fights.map((ye,Xe)=>{var Ae;return{index:Xe,fightId:ye.id,shortLabel:ye.shortLabel,fullLabel:ye.fullLabel,timestamp:Number(ye.timestamp||0),damage:X(ye.values[pe]),maxDamage:se(ye),skillName:String(((Ae=ye.values[pe])==null?void 0:Ae.skillName)||"")}})},[Zt.fights,pe,me]),ld=v.useMemo(()=>{const X=ui.reduce((ye,Xe)=>Math.max(ye,Number(Xe.damage||0)),0),se=ui.reduce((ye,Xe)=>Math.max(ye,Number(Xe.maxDamage||0)),0);return Math.max(1,X,se)},[ui]),El=v.useMemo(()=>{var X,se,ye,Xe,Ae,nt,ie,Ye,sn;const Ue=ke===null?null:ui.find(Ee=>Ee.index===ke)||null;if(!Ue||!pe)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Dt=Zt.fights.find((Ee,it)=>String(Ee.id||"")===String(Ue.fightId||"")||it===Ue.index)||null,[Ft,ln]=pe.split("|"),pt=e.find(Ee=>String((Ee==null?void 0:Ee.filePath)||(Ee==null?void 0:Ee.id)||"")===String(Ue.fightId||"")),Se=pt==null?void 0:pt.details,St=Ee=>Array.isArray(Ee)?Ee.map(it=>Array.isArray(it)?[Number(it[0]),Number(it[1])]:it&&typeof it=="object"?[Number(it.time),Number(it.value)]:null).filter(it=>!!it&&Number.isFinite(it[0])&&it[0]>=0):[],We=Ee=>String(Ee||"").trim().toLowerCase(),Rn=We(Ft),Or=We(ln),$n=Mi.get(pe),vr=new Set([We($n==null?void 0:$n.displayName),We($n==null?void 0:$n.characterName),We($n==null?void 0:$n.account)].filter(Boolean)),An=Array.isArray(Se==null?void 0:Se.players)&&((X=Se.players.map(Ee=>{const it=We(Ee==null?void 0:Ee.account),Xt=We(Ee==null?void 0:Ee.name),Bn=We(Ee==null?void 0:Ee.profession),cn=!!it&&it===Rn,ar=!!Xt&&(Xt===Rn||vr.has(Xt)),Zi=!!it&&vr.has(it),Fs=!Or||Bn===Or;let Ji=0;return cn&&(Ji+=100),ar&&(Ji+=90),Zi&&(Ji+=80),Fs&&(Ji+=20),{player:Ee,score:Ji}}).filter(Ee=>Ee.score>0).sort((Ee,it)=>it.score-Ee.score)[0])==null?void 0:X.player)||null,Ha=(()=>{const Ee=An==null?void 0:An.combatReplayData;return Array.isArray(Ee)?Ee.filter(it=>it&&typeof it=="object"):Ee&&typeof Ee=="object"?[Ee]:[]})(),It=Ha.flatMap(Ee=>St(Ee==null?void 0:Ee.down).map(([it])=>it)),Rt=Ha.flatMap(Ee=>St(Ee==null?void 0:Ee.dead).map(([it])=>it)),Nt=Ha.map(Ee=>Number(Ee==null?void 0:Ee.start)).filter(Ee=>Number.isFinite(Ee)&&Ee>=0),Jt=Array.isArray(Se==null?void 0:Se.players)?Se.players.flatMap(Ee=>{const it=Ee==null?void 0:Ee.combatReplayData;return Array.isArray(it)?it.map(Xt=>Number(Xt==null?void 0:Xt.start)):[Number(it==null?void 0:it.start)]}).filter(Ee=>Number.isFinite(Ee)&&Ee>=0).reduce((Ee,it)=>Math.min(Ee,it),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,br=[0,Number((Se==null?void 0:Se.logStartOffset)||0),...Nt,Number.isFinite(Jt)?Jt:0].filter(Ee=>Number.isFinite(Ee)&&Ee>=0),rr=Ee=>{const it=Math.max(0,Math.floor(Number(Ee||0)/1e3)),Xt=Math.floor(it/5)*5;return`${Xt}s-${Xt+5}s`},Ol=(Ee,it)=>{if(Ee.length===0||it.length===0)return[];const Xt=it.length*5e3,Bn=ur=>ur.reduce((No,Bc)=>Bc>=0&&Bc<=Xt+2e3?No+1:No,0),cn=[],ar=Ee.map(ur=>Number(ur||0)).filter(ur=>Number.isFinite(ur)&&ur>=0);if(ar.length===0)return[];cn.push(ar);const Zi=ar.reduce((ur,No)=>Math.max(ur,No),0),Fs=ar.reduce((ur,No)=>Math.min(ur,No),Number.POSITIVE_INFINITY);Zi>Xt*20&&cn.push(ar.map(ur=>ur/1e3)),Zi<=Xt*2&&Fs>=0&&Zi>0&&Zi<Math.max(120,it.length*5+10)&&cn.push(ar.map(ur=>ur*1e3));let Ji=ar,MN=0,EN=-1;return cn.forEach(ur=>{const No=new Set(br),Bc=ur.reduce((Il,jy)=>Math.min(Il,jy),Number.POSITIVE_INFINITY);if(Number.isFinite(Bc)&&Xt>0&&Bc>Xt){const Il=Math.floor(Bc/Xt)*Xt;No.add(Il),No.add(Math.max(0,Il-Xt))}No.forEach(Il=>{const jy=ur.map(k6=>k6-Il),PN=Bn(jy);PN>EN&&(EN=PN,MN=Il,Ji=ur)})}),Ji.map(ur=>ur-MN).filter(ur=>Number.isFinite(ur)&&ur>=0)},_s=(Ee,it)=>{if(Ee.length===0||it.length===0)return[];const Xt=Ol(it,Ee),Bn=new Map;Ee.forEach(ar=>{const Zi=/^(\d+)s-/.exec(String(ar));if(!Zi)return;const Fs=Number(Zi[1]);Number.isFinite(Fs)&&Bn.set(Fs,ar)});const cn=[];return Xt.forEach(ar=>{const Zi=Math.max(0,Math.floor(Number(ar||0)/1e3)),Fs=Math.floor(Zi/5)*5,Ji=Bn.get(Fs)||rr(ar);Ee.includes(Ji)&&cn.push(Ji)}),Array.from(new Set(cn))},Ls=(Ee,it)=>{if(Ee<=0||it.length===0)return[];const Xt=Array.from({length:Ee},(cn,ar)=>`${ar*5}s-${(ar+1)*5}s`),Bn=Ol(it,Xt).map(cn=>Math.floor(Math.max(0,Number(cn||0))/5e3)).filter(cn=>Number.isFinite(cn)&&cn>=0&&cn<Ee);return Array.from(new Set(Bn))},Dl=Array.isArray((ye=(se=Dt==null?void 0:Dt.values)==null?void 0:se[pe])==null?void 0:ye.buckets5s)?((Ae=(Xe=Dt==null?void 0:Dt.values)==null?void 0:Xe[pe])==null?void 0:Ae.buckets5s)||[]:[],Fc=Array.isArray((ie=(nt=Dt==null?void 0:Dt.values)==null?void 0:nt[pe])==null?void 0:ie.downIndices5s)?Dt.values[pe].downIndices5s.map(Ee=>Number(Ee)).filter(Ee=>Number.isFinite(Ee)&&Ee>=0):[],Rc=Array.isArray((sn=(Ye=Dt==null?void 0:Dt.values)==null?void 0:Ye[pe])==null?void 0:sn.deathIndices5s)?Dt.values[pe].deathIndices5s.map(Ee=>Number(Ee)).filter(Ee=>Number.isFinite(Ee)&&Ee>=0):[];if(Dl.length>0){const Ee=Math.max(0,Math.ceil(Number((Se==null?void 0:Se.durationMS)||0)/5e3)),it=Math.max(Dl.length,Ee),Xt=Array.from({length:it},(cn,ar)=>({label:`${ar*5}s-${(ar+1)*5}s`,value:Number(Dl[ar]||0)})),Bn=Xt.map(cn=>cn.label);return{title:`Fight Breakdown - ${Ue.shortLabel||"Fight"} (5s Damage Buckets)`,data:Xt,downLabels:_s(Bn,It),deathLabels:_s(Bn,Rt),downIndices:Fc.length>0?Fc.filter(cn=>cn<Xt.length):Ls(Xt.length,It),deathIndices:Rc.length>0?Rc.filter(cn=>cn<Xt.length):Ls(Xt.length,Rt)}}const Dr=Ue.shortLabel||"Fight";if(!Se||!Array.isArray(Se.players))return{title:`Fight Breakdown - ${Dr}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const NN=Se.players.find(Ee=>String((Ee==null?void 0:Ee.account)||(Ee==null?void 0:Ee.name)||"Unknown")===Ft&&String((Ee==null?void 0:Ee.profession)||"Unknown")===ln);if(!NN)return{title:`Fight Breakdown - ${Dr}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const $c=NN,h6=Ee=>{if(!Array.isArray(Ee)||Ee.length===0)return[];const it=[];for(let Xt=0;Xt<Ee.length;Xt+=1){const Bn=Number(Ee[Xt]||0),cn=Xt>0?Number(Ee[Xt-1]||0):0;it.push(Math.max(0,Bn-cn))}return it},jN=Ee=>{if(!Array.isArray(Ee))return[];const it=Ee.reduce((Bn,cn)=>Math.max(Bn,Array.isArray(cn)?cn.length:0),0);if(it<=0)return[];const Xt=new Array(it).fill(0);return Ee.forEach(Bn=>{if(Array.isArray(Bn))for(let cn=0;cn<it;cn+=1)Xt[cn]+=Number(Bn[cn]||0)}),Xt},g6=Ee=>Array.isArray(Ee)?Ee.map(it=>Number(it||0)):null,y6=(Ee=>{if(!Array.isArray(Ee)||Ee.length===0)return null;const it=Ee[0];if(!Array.isArray(it))return null;if(Array.isArray(it[0])&&Array.isArray(it[0][0]))return jN(it);if(Array.isArray(it[0])&&!Array.isArray(it[0][0])){const Xt=Ee.map(Bn=>g6(Array.isArray(Bn)?Bn[0]:null)).filter(Bn=>Array.isArray(Bn)&&Bn.length>0);if(Xt.length>0)return jN(Xt)}return null})($c==null?void 0:$c.targetDamage1S),CN=Array.isArray($c==null?void 0:$c.damage1S)&&Array.isArray($c.damage1S[0])?$c.damage1S[0]:null,v6=y6||(Array.isArray(CN)?CN.map(Ee=>Number(Ee||0)):[]),Ny=h6(v6),ud=5,b6=Math.max(0,Math.ceil(Number((Se==null?void 0:Se.durationMS)||0)/(ud*1e3))),x6=Math.max(0,Math.ceil(Ny.length/ud)),w6=Math.max(b6,x6),dd=[];for(let Ee=0;Ee<w6;Ee+=1){const it=Ee*ud,Xt=Math.min(it+ud,Ny.length),Bn=Ny.slice(it,Xt).reduce((cn,ar)=>cn+Number(ar||0),0);dd.push({label:`${it}s-${it+ud}s`,value:Bn})}const AN=dd.map(Ee=>Ee.label);return{title:`Fight Breakdown - ${Dr} (5s Damage Buckets)`,data:dd,downLabels:_s(AN,It),deathLabels:_s(AN,Rt),downIndices:Ls(dd.length,It),deathIndices:Ls(dd.length,Rt)}},[ke,ui,pe,e,Zt.fights,Mi]),_c=v.useMemo(()=>{const X=new Map;return In.players.forEach(se=>X.set(se.key,se)),X},[In.players]),Va=v.useMemo(()=>{const X=Ae=>qt==="hit"?Ae.peakHit:qt==="1s"?Ae.peak1s:qt==="5s"?Ae.peak5s:Ae.peak30s,se=Cl.trim().toLowerCase(),ye=se?In.players.filter(Ae=>Ae.displayName.toLowerCase().includes(se)||Ae.account.toLowerCase().includes(se)||Ae.profession.toLowerCase().includes(se)):In.players,Xe=new Map;return ye.forEach(Ae=>{const nt=Ae.profession||"Unknown",ie=Xe.get(nt)||[];ie.push(Ae),Xe.set(nt,ie)}),Array.from(Xe.entries()).map(([Ae,nt])=>({profession:Ae,players:[...nt].sort((ie,Ye)=>X(Ye)-X(ie)||ie.displayName.localeCompare(Ye.displayName))})).sort((Ae,nt)=>Ae.profession.localeCompare(nt.profession))},[In.players,Cl,qt]),zp=Me&&_c.get(Me)||null,Wa=v.useMemo(()=>{if(!Me)return[];const X=ye=>ye?Number(qt==="hit"?ye.hit||0:qt==="1s"?ye.burst1s||0:qt==="5s"?ye.burst5s||0:ye.burst30s||0):0,se=ye=>Number(qt==="hit"?ye.maxHit||0:qt==="1s"?ye.max1s||0:qt==="5s"?ye.max5s||0:ye.max30s||0);return In.fights.map((ye,Xe)=>{var Ae;return{index:Xe,fightId:ye.id,shortLabel:ye.shortLabel,fullLabel:ye.fullLabel,timestamp:Number(ye.timestamp||0),damage:X(ye.values[Me]),maxDamage:se(ye),skillName:String(((Ae=ye.values[Me])==null?void 0:Ae.skillName)||"")}})},[In.fights,Me,qt]),Ei=v.useMemo(()=>{const X=Wa.reduce((ye,Xe)=>Math.max(ye,Number(Xe.damage||0)),0),se=Wa.reduce((ye,Xe)=>Math.max(ye,Number(Xe.maxDamage||0)),0);return Math.max(1,X,se)},[Wa]),Xi=v.useMemo(()=>{var X,se,ye,Xe,Ae,nt,ie,Ye;const sn=tt===null?null:Wa.find(pt=>pt.index===tt)||null;if(!sn||!Me)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Ue=In.fights.find((pt,Se)=>String(pt.id||"")===String(sn.fightId||"")||Se===sn.index)||null,Dt=Array.isArray((se=(X=Ue==null?void 0:Ue.values)==null?void 0:X[Me])==null?void 0:se.buckets5s)?((Xe=(ye=Ue==null?void 0:Ue.values)==null?void 0:ye[Me])==null?void 0:Xe.buckets5s)||[]:[],Ft=Array.isArray((nt=(Ae=Ue==null?void 0:Ue.values)==null?void 0:Ae[Me])==null?void 0:nt.downIndices5s)?Ue.values[Me].downIndices5s.map(pt=>Number(pt)).filter(pt=>Number.isFinite(pt)&&pt>=0):[],ln=Array.isArray((Ye=(ie=Ue==null?void 0:Ue.values)==null?void 0:ie[Me])==null?void 0:Ye.deathIndices5s)?Ue.values[Me].deathIndices5s.map(pt=>Number(pt)).filter(pt=>Number.isFinite(pt)&&pt>=0):[];if(Dt.length>0){const pt=Dt.map((Se,St)=>({label:`${St*5}s-${(St+1)*5}s`,value:Number(Se||0)}));return{title:`Fight Breakdown - ${sn.shortLabel||"Fight"} (5s Damage Buckets)`,data:pt,downLabels:[],deathLabels:[],downIndices:Ft.filter(Se=>Se<pt.length),deathIndices:ln.filter(Se=>Se<pt.length)}}return{title:`Fight Breakdown - ${sn.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[tt,Wa,Me,In.fights]),Lc=v.useMemo(()=>{var X,se;if(tt===null||!Me)return[];const ye=Wa.find(Ae=>Ae.index===tt);if(!ye)return[];const Xe=In.fights.find((Ae,nt)=>String(Ae.id||"")===String(ye.fightId||"")||nt===ye.index);return[...((se=(X=Xe==null?void 0:Xe.values)==null?void 0:X[Me])==null?void 0:se.skillRows)||[]].filter(Ae=>Number((Ae==null?void 0:Ae.damage)||0)>0).sort((Ae,nt)=>Number(nt.damage||0)-Number(Ae.damage||0)).slice(0,30)},[tt,Me,Wa,In.fights]),qa=v.useMemo(()=>{var X,se;if(ke===null||!pe)return[];const ye=ui.find(Ae=>Ae.index===ke);if(!ye)return[];const Xe=Zt.fights.find((Ae,nt)=>String(Ae.id||"")===String(ye.fightId||"")||nt===ye.index);return[...((se=(X=Xe==null?void 0:Xe.values)==null?void 0:X[pe])==null?void 0:se.skillRows)||[]].filter(Ae=>Number((Ae==null?void 0:Ae.damage)||0)>0).sort((Ae,nt)=>Number(nt.damage||0)-Number(Ae.damage||0)).slice(0,30)},[ke,pe,ui,Zt.fights]);v.useEffect(()=>{if(Oe.length===0){Kt!==null&&wn(null),Zr!==null&&Ai(null);return}if(!Kt||!Ge.has(Kt)){const X=Oe[0].key;wn(X),oa(null)}},[Oe,Ge,Kt,Zr]),v.useEffect(()=>{if(!Mt||Mt.skills.length===0){Zr!==null&&Ai(null);return}const X=Mt.skills.some(se=>se.id===Zr);(!Zr||!X)&&Ai(Mt.skills[0].id)},[Mt,Zr]),v.useEffect(()=>{if(ut.length===0){So!==null&&Ts(null),si!==null&&li(null);return}if(!So||!Kn.has(So)){const X=ut[0].profession;Ts(X),Os(null)}},[ut,Kn,So,si]),v.useEffect(()=>{if(!Cn||Cn.skills.length===0){si!==null&&li(null);return}const X=Cn.skills.some(se=>se.id===si);(!si||!X)&&li(Cn.skills[0].id)},[Cn,si]),v.useEffect(()=>{if(Zt.players.length===0){pe!==null&&Ne(null);return}(!pe||!Mi.has(pe))&&pe!==null&&Ne(null)},[Zt.players,Mi,pe]),v.useEffect(()=>{Be(null)},[pe,me]),v.useEffect(()=>{ke!==null&&(ui.some(X=>X.index===ke)||Be(null))},[ui,ke]),v.useEffect(()=>{if(In.players.length===0){Me!==null&&vt(null);return}(!Me||!_c.has(Me))&&Me!==null&&vt(null)},[In.players,_c,Me]),v.useEffect(()=>{at(null)},[Me,qt]),v.useEffect(()=>{tt!==null&&(Wa.some(X=>X.index===tt)||at(null))},[Wa,tt]);const Pl=v.useMemo(()=>new Set(At),[At]),{playerMapByKey:Ma,playerTotalsForSkill:Pi,skillChartData:Tl,skillChartMaxY:LR,groupedSkillUsagePlayers:FR}=YU({skillUsageData:M,selectedSkillId:qe,selectedPlayers:Pl,skillUsageView:Qe==="perSecond"?"perSecond":"total"}),mN=v.useMemo(()=>{const X=new Map,se=nt=>{nt.forEach(ie=>{const Ye=Kc(ie==null?void 0:ie.name)||(ie==null?void 0:ie.name);Ye&&ie!=null&&ie.icon&&!X.has(Ye)&&X.set(Ye,ie.icon)})},ye=nt=>{nt.forEach(ie=>{Object.entries((ie==null?void 0:ie.conditions)||{}).forEach(([Ye,sn])=>{const Ue=Kc(Ye)||Ye;sn!=null&&sn.icon&&!X.has(Ue)&&X.set(Ue,sn.icon)})})},Xe=nt=>{const ie=new Map;return nt.forEach(Ye=>{const sn=Kc(Ye==null?void 0:Ye.name)||(Ye==null?void 0:Ye.name);if(!sn)return;const Ue=ie.get(sn)||{name:sn,icon:(Ye==null?void 0:Ye.icon)||X.get(sn)||um(sn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Ue.applications+=Number((Ye==null?void 0:Ye.applications)||0),Ue.damage+=Number((Ye==null?void 0:Ye.damage)||0),Ye!=null&&Ye.applicationsFromUptime&&(Ue.applicationsFromUptime+=Number(Ye.applicationsFromUptime||0)),Ye!=null&&Ye.applicationsFromBuffs&&(Ue.applicationsFromBuffs+=Number(Ye.applicationsFromBuffs||0)),Ye!=null&&Ye.applicationsFromBuffsActive&&(Ue.applicationsFromBuffsActive+=Number(Ye.applicationsFromBuffsActive||0)),!Ue.icon&&Ye!=null&&Ye.icon&&(Ue.icon=Ye.icon),Ue.icon||(Ue.icon=um(sn)),ie.set(sn,Ue)}),Array.from(ie.values())},Ae=nt=>nt.map(ie=>{const Ye={};return Object.entries((ie==null?void 0:ie.conditions)||{}).forEach(([sn,Ue])=>{const Dt=Kc(sn)||sn;if(!Dt)return;const Ft=Ye[Dt]||{icon:(Ue==null?void 0:Ue.icon)||X.get(Dt)||um(Dt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Ft.applications+=Number((Ue==null?void 0:Ue.applications)||0),Ft.damage+=Number((Ue==null?void 0:Ue.damage)||0),Ue!=null&&Ue.applicationsFromUptime&&(Ft.applicationsFromUptime+=Number(Ue.applicationsFromUptime||0)),Ue!=null&&Ue.applicationsFromBuffs&&(Ft.applicationsFromBuffs+=Number(Ue.applicationsFromBuffs||0)),Ue!=null&&Ue.applicationsFromBuffsActive&&(Ft.applicationsFromBuffsActive+=Number(Ue.applicationsFromBuffsActive||0)),!Ft.icon&&Ue!=null&&Ue.icon&&(Ft.icon=Ue.icon),Ft.icon||(Ft.icon=um(Dt)),Object.values((Ue==null?void 0:Ue.skills)||{}).forEach(ln=>{const pt=(ln==null?void 0:ln.name)||"Unknown",Se=Ft.skills[pt]||{name:pt,hits:0,damage:0,icon:ln==null?void 0:ln.icon};Se.hits+=Number((ln==null?void 0:ln.hits)||0),Se.damage+=Number((ln==null?void 0:ln.damage)||0),!Se.icon&&ln!=null&&ln.icon&&(Se.icon=ln.icon),Ft.skills[pt]=Se}),Ye[Dt]=Ft}),{...ie,conditions:Ye}});return(nt,ie)=>(se(nt),ye(ie),{summary:Xe(nt),players:Ae(ie)})},[]),hN=Es==="outgoing"?O.outgoingConditionSummary:O.incomingConditionSummary,gN=Es==="outgoing"?O.outgoingConditionPlayers:O.incomingConditionPlayers,{summary:Up,players:RR}=v.useMemo(()=>mN(hN||[],gN||[]),[mN,hN,gN]);v.useEffect(()=>{if(rt==="all"||Up.some(se=>se.name===rt))return;const X=Kc(rt);X&&Up.some(se=>se.name===X)?fn(X):fn("all")},[rt,Up,fn]);const $R=v.useMemo(()=>{const X={};return Pi.forEach((se,ye)=>{const Xe=Ma.get(ye);if(!Xe)return;const Ae=Xe.profession;(!X[Ae]||se>X[Ae])&&(X[Ae]=se)}),X},[Pi,Ma]),Et=v.useCallback(X=>d?d(X):!0,[d]),Yn=v.useCallback((X,se)=>{const ye=Et(X);return d?`${se} ${ye?"":"hidden"}`:`${se} transition-[opacity,transform] duration-700 ease-in-out ${ye?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Et,d]),yN=v.useMemo(()=>Oae.find(X=>Et(X))||null,[Et]),Gn=v.useCallback(X=>X===yN,[yN]),BR=v.useMemo(()=>{const X=new Map,se=new Map;return At.forEach(ye=>{const Xe=Ma.get(ye);if(!Xe)return;const Ae=Pi.get(ye)??0,nt=se.get(Xe.profession)||[];nt.push({key:ye,total:Ae}),se.set(Xe.profession,nt)}),se.forEach(ye=>{ye.sort((Xe,Ae)=>Ae.total-Xe.total),ye.forEach((Xe,Ae)=>{X.set(Xe.key,Ae)})}),X},[At,Ma,Pi]),vN=["0","12 3","8 3","6 3","4 3","2 3"],zR=X=>{const se=Ma.get(X),ye=ac((se==null?void 0:se.profession)||""),Xe=Pi.get(X)??0,Ae=se!=null&&se.profession&&$R[se.profession]||1,nt=.35+(Ae>0?Xe/Ae:1)*.65;return Vp(ye,nt)},UR=X=>{const se=BR.get(X)??0;return vN[se%vN.length]},VR=(X,se,ye)=>{if(!ye)return zR(X);const Xe=Ma.get(X),Ae=ac((Xe==null?void 0:Xe.profession)||"");return se?Vp(Ae,1.2):Vp(Ae,.5)},Vp=(X,se)=>{const ye=X.replace("#","");if(ye.length!==6)return X;const Xe=Ue=>Math.max(0,Math.min(255,Ue)),Ae=Ue=>Number.parseInt(ye.slice(Ue,Ue+2),16),nt=Ue=>Xe(Math.round(Ue)).toString(16).padStart(2,"0"),ie=Ae(0),Ye=Ae(2),sn=Ae(4);return`#${nt(ie*se)}${nt(Ye*se)}${nt(sn*se)}`},bN=v.useMemo(()=>{const X=new Map;return M.skillOptions.forEach(se=>{X.set(se.id,{name:se.name,icon:se.icon})}),X},[M.skillOptions]),cd=v.useMemo(()=>{var X;if(At.length===0)return[];const se=new Map,ye=new Map;let Xe=0;At.forEach(Ue=>{const Dt=Ma.get(Ue);if(!Dt)return;Xe+=Dt.totalActiveSeconds||0,Object.entries(Dt.skillTotals||{}).forEach(([ln,pt])=>{se.set(ln,(se.get(ln)||0)+Number(pt||0))});const Ft=Dt.profession||"Unknown";ye.set(Ft,(ye.get(Ft)||0)+(Dt.totalActiveSeconds||0))});const Ae=on.trim().toLowerCase(),nt=Qe==="perSecond",ie=((X=Array.from(ye.entries()).sort((Ue,Dt)=>Dt[1]-Ue[1])[0])==null?void 0:X[0])||"Unknown",Ye=ac(ie),sn="#64748b";return Array.from(se.entries()).map(([Ue,Dt])=>{const Ft=bN.get(Ue),ln=(Ft==null?void 0:Ft.name)||Ue,pt=nt&&Xe>0?Dt/Xe:Dt;return{skillId:Ue,name:ln,icon:Ft==null?void 0:Ft.icon,total:pt}}).filter(Ue=>Ue.total>0&&(!Ae||Ue.name.toLowerCase().includes(Ae))).sort((Ue,Dt)=>Dt.total-Ue.total).map((Ue,Dt)=>({...Ue,color:Dt===0?Ye:Vp(Ye,.85-Math.min(Dt*.06,.4))||sn}))},[At,Ma,on,Qe,bN]);v.useEffect(()=>{if(cd.length===0){qe!==null&&ot(null);return}(!qe||!cd.some(X=>X.skillId===qe))&&ot(cd[0].skillId)},[cd,qe,ot]);const Wp=M.skillOptions.find(X=>X.id===qe),WR=(Wp==null?void 0:Wp.name)||"",qR=(Wp==null?void 0:Wp.icon)||null,HR=N&&!!qe&&At.length>0,qp="__all__",KR=N&&ci.length>0,Is=v.useMemo(()=>ci.find(X=>X.profession===ct)??null,[ci,ct]),YR=Te===qp,GR=v.useMemo(()=>{var X;return((X=Is==null?void 0:Is.skills)==null?void 0:X.find(se=>se.id===Te))??null},[Is,Te]);v.useEffect(()=>{if(ci.length===0){ct!==null&&tn(null),Lt!==null&&jt(null);return}if(!ct||!ci.some(X=>X.profession===ct)){const X=ci[0].profession;tn(X),jt(null)}},[ci,ct,Lt]),v.useEffect(()=>{if(!Is||Is.skills.length===0){Te!==null&&be(null);return}const X=Is.skills.some(se=>se.id===Te);(!Te||!X&&Te!==qp)&&be(qp)},[Is,Te]);const XR=X=>{Ht(se=>se.includes(X)?se.filter(ye=>ye!==X):[...se,X])},QR=X=>{Ht(se=>se.filter(ye=>ye!==X))},ZR=v.useMemo(()=>{const X=Wt.trim().toLowerCase(),se=O.boonTables||[];return X?se.filter(ye=>ye.name.toLowerCase().includes(X)):se},[O.boonTables,Wt]),JR=v.useMemo(()=>xe?(O.boonTables||[]).find(X=>X.id===xe)??null:null,[O.boonTables,xe]),e6=v.useMemo(()=>{const X=Pe.trim().toLowerCase(),se=[...O.specialTables||[]].sort((ye,Xe)=>ye.name.localeCompare(Xe.name));return X?se.filter(ye=>ye.name.toLowerCase().includes(X)):se},[O.specialTables,Pe]),Qi=v.useMemo(()=>[...O.specialTables||[]].filter(X=>/\b(sigil|relic)\b/i.test(String((X==null?void 0:X.name)||""))).sort((X,se)=>X.name.localeCompare(se.name)),[O.specialTables]),t6=v.useMemo(()=>{const X=jr.trim().toLowerCase();return X?Qi.filter(se=>se.name.toLowerCase().includes(X)):Qi},[Qi,jr]),n6=v.useMemo(()=>Wn?(O.specialTables||[]).find(X=>X.id===Wn)??null:null,[O.specialTables,Wn]),r6=v.useMemo(()=>$t?Qi.find(X=>X.id===$t)??null:null,[Qi,$t]);v.useEffect(()=>{!O.boonTables||O.boonTables.length===0||(!xe||!O.boonTables.some(X=>X.id===xe))&&Je(O.boonTables[0].id)},[O.boonTables,xe]),v.useEffect(()=>{!O.specialTables||O.specialTables.length===0||(!Wn||!O.specialTables.some(X=>X.id===Wn))&&he(O.specialTables[0].id)},[O.specialTables,Wn]),v.useEffect(()=>{if(!Qi||Qi.length===0){$t!==null&&un(null);return}(!$t||!Qi.some(X=>X.id===$t))&&un(Qi[0].id)},[Qi,$t]),v.useEffect(()=>{const X=()=>{const ye=window.getSelection();ye&&ye.rangeCount>0&&ye.removeAllRanges()},se=ye=>{var Xe;const Ae=ye.target;(Xe=Ae==null?void 0:Ae.closest)!=null&&Xe.call(Ae,".recharts-wrapper")&&(ye.preventDefault(),X())};return document.addEventListener("selectstart",se),document.addEventListener("mousedown",se),document.addEventListener("mousemove",se),document.addEventListener("dragstart",se),()=>{document.removeEventListener("selectstart",se),document.removeEventListener("mousedown",se),document.removeEventListener("mousemove",se),document.removeEventListener("dragstart",se)}},[]);const Ea=X=>{Ce.current&&(window.clearTimeout(Ce.current),Ce.current=null),je(!1),z(X)},sa=()=>{bt&&(Ce.current&&window.clearTimeout(Ce.current),je(!0),Ce.current=window.setTimeout(()=>{z(null),je(!1),Ce.current=null},160))};v.useEffect(()=>{if(!bt)return;const X=Xe=>{Xe.key==="Escape"&&sa()},se=document.body.style.overflow,ye=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",X),()=>{window.removeEventListener("keydown",X),document.body.style.overflow=se,document.documentElement.style.overflow=ye}},[bt]);const xN=(X,se)=>{const ye=((se==null?void 0:se.value)||0)-((X==null?void 0:X.value)||0);return ye!==0?ye:String((X==null?void 0:X.name)||"").localeCompare(String((se==null?void 0:se.name)||""))},wN=Array.isArray(O==null?void 0:O.squadClassData)?O.squadClassData:[],kN=Array.isArray(O==null?void 0:O.enemyClassData)?O.enemyClassData:[],a6=Array.isArray(O==null?void 0:O.attendanceData)?O.attendanceData:[],Sy=Array.isArray(O==null?void 0:O.squadCompByFight)?O.squadCompByFight:[],SN=Array.isArray(O==null?void 0:O.fightBreakdown)?O.fightBreakdown:[],i6=v.useMemo(()=>{const X=new Map;return SN.forEach(se=>{const ye=String((se==null?void 0:se.id)||"");ye&&X.set(ye,se)}),Sy.map(se=>{const ye=X.get(String((se==null?void 0:se.id)||""))||null;return{...se,enemyClassCounts:(ye==null?void 0:ye.enemyClassCounts)||{}}})},[Sy,SN]),o6=v.useMemo(()=>[...wN].sort(xN),[wN]),s6=v.useMemo(()=>[...kN].sort(xN),[kN]),l6=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",c6=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${bt?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${bt?"":"backdrop-blur-2xl"}`,u6=c&&p!=="matte"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:void 0,d6=X=>Qe==="perSecond"?X.toFixed(1):Math.round(X).toLocaleString(),f6=X=>X.toFixed(1),p6=X=>Math.round(X).toLocaleString(),m6=X=>typeof X=="number"&&Number.isFinite(X)?X.toFixed(1):"0.0",Pa=Xre;return u.jsxs("div",{className:l6,children:[bt&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${oe?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:sa}),u.jsx(Mae,{embedded:c,dashboardTitle:f,totalLogs:O.total,onBack:t,devMockAvailable:ee,devMockUploadState:H,onDevMockUpload:ne,uploadingWeb:P,onWebUpload:_,sharing:ge,canShareDiscord:m,onShare:R}),u.jsx(Eae,{embedded:c,webUploadMessage:I,webUploadUrl:U,webUploadBuildStatus:Y,webCopyStatus:G,setWebCopyStatus:J}),u.jsx(Pae,{embedded:c,devMockAvailable:ee,devMockUploadState:H}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:Q,className:`${c6} ${c?"":"flex-1"}`,style:u6,children:[u.jsxs(u.Fragment,{children:[Et("overview")&&u.jsx(pae,{stats:O,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("fight-breakdown")&&u.jsx(mae,{stats:O,fightBreakdownTab:ve,setFightBreakdownTab:$e,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("top-players")&&u.jsx(yae,{stats:O,showTopStats:S,showMvp:C,topStatsMode:A,expandedLeader:F,setExpandedLeader:le,formatTopStatValue:Bs,formatWithCommas:pi,isMvpStatEnabled:W,renderProfessionIcon:Pa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("top-skills-outgoing")&&u.jsx(vae,{stats:O,topSkillsMetric:E,onTopSkillsMetricChange:V,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("squad-composition")&&u.jsx(bae,{sortedSquadClassData:o6,sortedEnemyClassData:s6,getProfessionIconPath:Gl,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("attendance-ledger")&&u.jsx(Sae,{attendanceRows:a6,getProfessionIconPath:Gl,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("squad-comp-fight")&&u.jsx(jae,{fights:Sy,getProfessionIconPath:Gl,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("fight-comp")&&u.jsx(Aae,{fights:i6,getProfessionIconPath:Gl,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("timeline")&&u.jsx(xae,{timelineData:O.timelineData,timelineFriendlyScope:Le,setTimelineFriendlyScope:st,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("map-distribution")&&u.jsx(wae,{mapData:O.mapData,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("offense-detailed")&&u.jsx(tae,{stats:O,OFFENSE_METRICS:nO,roundCountStats:j,offenseSearch:qn,setOffenseSearch:Ua,activeOffenseStat:K,setActiveOffenseStat:fe,offenseViewMode:by,setOffenseViewMode:xy,formatWithCommas:pi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Ao}),Et("player-breakdown")&&u.jsx(eae,{expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Ao,viewMode:ko,setViewMode:Bp,playerSkillBreakdowns:Oe,classSkillBreakdowns:ut,activePlayerKey:Kt,setActivePlayerKey:wn,expandedPlayerKey:zr,setExpandedPlayerKey:oa,activePlayerSkillId:Zr,setActivePlayerSkillId:Ai,activeClassKey:So,setActiveClassKey:Ts,expandedClassKey:sd,setExpandedClassKey:Os,activeClassSkillId:si,setActiveClassSkillId:li,skillSearch:Dc,setSkillSearch:Ps,activePlayerBreakdown:Mt,activePlayerSkill:Sn,activeClassBreakdown:Cn,activeClassSkill:yr,renderProfessionIcon:Pa}),Et("spike-damage")&&u.jsx(zM,{expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,spikePlayerFilter:cr,setSpikePlayerFilter:Vo,groupedSpikePlayers:Ds,spikeMode:me,setSpikeMode:_e,selectedSpikePlayerKey:pe,setSelectedSpikePlayerKey:Ne,selectedSpikePlayer:Ic,spikeChartData:ui,spikeChartMaxY:ld,selectedSpikeFightIndex:ke,setSelectedSpikeFightIndex:Be,spikeDrilldownTitle:El.title,spikeDrilldownData:El.data,spikeDrilldownDownIndices:El.downIndices,spikeDrilldownDeathIndices:El.deathIndices,spikeFightSkillRows:qa,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:pi,renderProfessionIcon:Pa}),Et("conditions-outgoing")&&u.jsx(nae,{conditionSummary:Up,conditionPlayers:RR,conditionSearch:bn,setConditionSearch:Cr,activeConditionName:rt,setActiveConditionName:fn,conditionDirection:Es,setConditionDirection:Oc,conditionGridClass:Re,effectiveConditionSort:mt,setConditionSort:Ar,showConditionDamage:pn,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Ao}),Et("defense-detailed")&&u.jsx(aae,{stats:O,DEFENSE_METRICS:rO,defenseSearch:Tr,setDefenseSearch:yn,activeDefenseStat:De,setActiveDefenseStat:et,defenseViewMode:wy,setDefenseViewMode:ky,roundCountStats:j,formatWithCommas:pi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Ao}),Et("incoming-strike-damage")&&u.jsx(zM,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,spikePlayerFilter:Cl,setSpikePlayerFilter:Ms,groupedSpikePlayers:Va,spikeMode:qt,setSpikeMode:xn,selectedSpikePlayerKey:Me,setSelectedSpikePlayerKey:vt,selectedSpikePlayer:zp,spikeChartData:Wa,spikeChartMaxY:Ei,selectedSpikeFightIndex:tt,setSelectedSpikeFightIndex:at,spikeDrilldownTitle:Xi.title,spikeDrilldownData:Xi.data,spikeDrilldownDownIndices:Xi.downIndices,spikeDrilldownDeathIndices:Xi.deathIndices,spikeFightSkillRows:Lc,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:pi,renderProfessionIcon:Pa}),Et("defense-mitigation")&&u.jsx(iae,{stats:O,DAMAGE_MITIGATION_METRICS:JB,damageMitigationSearch:dn,setDamageMitigationSearch:Xr,activeDamageMitigationStat:Tt,setActiveDamageMitigationStat:Ot,damageMitigationViewMode:D,setDamageMitigationViewMode:q,damageMitigationScope:yt,setDamageMitigationScope:ht,roundCountStats:j,formatWithCommas:pi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Ao}),Et("boon-output")&&u.jsx(rae,{stats:O,activeBoonCategory:ue,setActiveBoonCategory:X=>Ke(X),activeBoonMetric:Fe,setActiveBoonMetric:gt,activeBoonTab:xe,setActiveBoonTab:Je,activeBoonTable:JR,filteredBoonTables:ZR,boonSearch:Wt,setBoonSearch:On,formatBoonMetricDisplay:Ez,getBoonMetricValue:hO,renderProfessionIcon:Pa,roundCountStats:j,expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Ao}),Et("support-detailed")&&u.jsx(oae,{stats:O,SUPPORT_METRICS:aO,supportSearch:Al,setSupportSearch:Ml,activeSupportStat:mn,setActiveSupportStat:nn,supportViewMode:te,setSupportViewMode:we,cleanseScope:Z,setCleanseScope:Ie,roundCountStats:j,formatWithCommas:pi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Ao}),Et("healing-stats")&&u.jsx(sae,{stats:O,HEALING_METRICS:ez,activeHealingMetric:Hn,setActiveHealingMetric:Aa,healingCategory:Qr,setHealingCategory:Wo,activeResUtilitySkill:od,setActiveResUtilitySkill:vy,skillUsageData:M,formatWithCommas:pi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("fight-diff-mode")&&u.jsx(fae,{stats:O,formatWithCommas:pi,expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn}),Et("special-buffs")&&u.jsx(cae,{stats:O,specialSearch:Pe,setSpecialSearch:Pt,filteredSpecialTables:e6,activeSpecialTab:Wn,setActiveSpecialTab:he,activeSpecialTable:n6,formatWithCommas:pi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Ao}),Et("sigil-relic-uptime")&&u.jsx(dae,{hasSigilRelicTables:Qi.length>0,sigilRelicSearch:jr,setSigilRelicSearch:Ca,filteredSigilRelicTables:t6,activeSigilRelicTab:$t,setActiveSigilRelicTab:un,activeSigilRelicTable:r6,formatWithCommas:pi,renderProfessionIcon:Pa,expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Ao}),Et("skill-usage")&&u.jsx(Qre,{expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,selectedPlayers:At,setSelectedPlayers:Ht,removeSelectedPlayer:QR,playerMapByKey:Ma,groupedSkillUsagePlayers:FR,expandedSkillUsageClass:Yt,setExpandedSkillUsageClass:Vt,togglePlayerSelection:XR,skillUsagePlayerFilter:Bt,setSkillUsagePlayerFilter:hn,skillUsageView:Qe,setSkillUsageView:He,skillUsageData:M,skillUsageSkillFilter:on,setSkillUsageSkillFilter:Ze,selectedSkillId:qe,setSelectedSkillId:ot,skillBarData:cd,selectedSkillName:WR,selectedSkillIcon:qR,skillUsageReady:HR,skillUsageAvailable:N,isSkillUsagePerSecond:zt,skillChartData:Tl,skillChartMaxY:LR,playerTotalsForSkill:Pi,hoveredSkillPlayer:Dn,setHoveredSkillPlayer:nr,getLineStrokeColor:VR,getLineDashForPlayer:UR,formatSkillUsageValue:d6,renderProfessionIcon:Pa}),Et("apm-stats")&&u.jsx(Jre,{expandedSection:bt,expandedSectionClosing:oe,openExpandedSection:Ea,closeExpandedSection:sa,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Yn,sidebarListClass:Ao,apmSpecAvailable:KR,skillUsageAvailable:N,apmSpecTables:ci,activeApmSpec:ct,setActiveApmSpec:tn,expandedApmSpec:Lt,setExpandedApmSpec:jt,activeApmSkillId:Te,setActiveApmSkillId:be,ALL_SKILLS_KEY:qp,apmSkillSearch:xt,setApmSkillSearch:Ct,activeApmSpecTable:Is,activeApmSkill:GR,isAllApmSkills:YR,apmView:lt,setApmView:Gt,formatApmValue:m6,formatCastRateValue:f6,formatCastCountValue:p6,renderProfessionIcon:Pa})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})})]})}const Iae="Arcane",_ae="CRT",eh="MatteSlate",th={id:Iae,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Lae={id:eh,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Fae=[th,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Rae={id:_ae,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Ed=[...Fae,Rae,Lae];function $ae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Bae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Uae={};function UM(e,t){return(Uae.jsx?zae:Bae).test(e)}const Vae=/[ \t\n\f\r]/g;function Wae(e){return typeof e=="object"?e.type==="text"?VM(e.value):!1:VM(e)}function VM(e){return e.replace(Vae,"")===""}class Dp{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Dp.prototype.normal={};Dp.prototype.property={};Dp.prototype.space=void 0;function uL(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Dp(n,r,t)}function Gx(e){return e.toLowerCase()}class oi{constructor(t,n){this.attribute=n,this.property=t}}oi.prototype.attribute="";oi.prototype.booleanish=!1;oi.prototype.boolean=!1;oi.prototype.commaOrSpaceSeparated=!1;oi.prototype.commaSeparated=!1;oi.prototype.defined=!1;oi.prototype.mustUseProperty=!1;oi.prototype.number=!1;oi.prototype.overloadedBoolean=!1;oi.prototype.property="";oi.prototype.spaceSeparated=!1;oi.prototype.space=void 0;let qae=0;const en=Ec(),_r=Ec(),Xx=Ec(),Ve=Ec(),zn=Ec(),Su=Ec(),fi=Ec();function Ec(){return 2**++qae}const Qx=Object.freeze(Object.defineProperty({__proto__:null,boolean:en,booleanish:_r,commaOrSpaceSeparated:fi,commaSeparated:Su,number:Ve,overloadedBoolean:Xx,spaceSeparated:zn},Symbol.toStringTag,{value:"Module"})),jv=Object.keys(Qx);class MS extends oi{constructor(t,n,r,a){let i=-1;if(super(t,n),WM(this,"space",a),typeof r=="number")for(;++i<jv.length;){const o=jv[i];WM(this,jv[i],(r&Qx[o])===Qx[o])}}}MS.prototype.defined=!0;function WM(e,t,n){n&&(e[t]=n)}function ad(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new MS(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Gx(r)]=r,n[Gx(i.attribute)]=r}return new Dp(t,n,e.space)}const dL=ad({properties:{ariaActiveDescendant:null,ariaAtomic:_r,ariaAutoComplete:null,ariaBusy:_r,ariaChecked:_r,ariaColCount:Ve,ariaColIndex:Ve,ariaColSpan:Ve,ariaControls:zn,ariaCurrent:null,ariaDescribedBy:zn,ariaDetails:null,ariaDisabled:_r,ariaDropEffect:zn,ariaErrorMessage:null,ariaExpanded:_r,ariaFlowTo:zn,ariaGrabbed:_r,ariaHasPopup:null,ariaHidden:_r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:zn,ariaLevel:Ve,ariaLive:null,ariaModal:_r,ariaMultiLine:_r,ariaMultiSelectable:_r,ariaOrientation:null,ariaOwns:zn,ariaPlaceholder:null,ariaPosInSet:Ve,ariaPressed:_r,ariaReadOnly:_r,ariaRelevant:null,ariaRequired:_r,ariaRoleDescription:zn,ariaRowCount:Ve,ariaRowIndex:Ve,ariaRowSpan:Ve,ariaSelected:_r,ariaSetSize:Ve,ariaSort:null,ariaValueMax:Ve,ariaValueMin:Ve,ariaValueNow:Ve,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function fL(e,t){return t in e?e[t]:t}function pL(e,t){return fL(e,t.toLowerCase())}const Hae=ad({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Su,acceptCharset:zn,accessKey:zn,action:null,allow:null,allowFullScreen:en,allowPaymentRequest:en,allowUserMedia:en,alt:null,as:null,async:en,autoCapitalize:null,autoComplete:zn,autoFocus:en,autoPlay:en,blocking:zn,capture:null,charSet:null,checked:en,cite:null,className:zn,cols:Ve,colSpan:null,content:null,contentEditable:_r,controls:en,controlsList:zn,coords:Ve|Su,crossOrigin:null,data:null,dateTime:null,decoding:null,default:en,defer:en,dir:null,dirName:null,disabled:en,download:Xx,draggable:_r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:en,formTarget:null,headers:zn,height:Ve,hidden:Xx,high:Ve,href:null,hrefLang:null,htmlFor:zn,httpEquiv:zn,id:null,imageSizes:null,imageSrcSet:null,inert:en,inputMode:null,integrity:null,is:null,isMap:en,itemId:null,itemProp:zn,itemRef:zn,itemScope:en,itemType:zn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:en,low:Ve,manifest:null,max:null,maxLength:Ve,media:null,method:null,min:null,minLength:Ve,multiple:en,muted:en,name:null,nonce:null,noModule:en,noValidate:en,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:en,optimum:Ve,pattern:null,ping:zn,placeholder:null,playsInline:en,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:en,referrerPolicy:null,rel:zn,required:en,reversed:en,rows:Ve,rowSpan:Ve,sandbox:zn,scope:null,scoped:en,seamless:en,selected:en,shadowRootClonable:en,shadowRootDelegatesFocus:en,shadowRootMode:null,shape:null,size:Ve,sizes:null,slot:null,span:Ve,spellCheck:_r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ve,step:null,style:null,tabIndex:Ve,target:null,title:null,translate:null,type:null,typeMustMatch:en,useMap:null,value:_r,width:Ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:zn,axis:null,background:null,bgColor:null,border:Ve,borderColor:null,bottomMargin:Ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:en,declare:en,event:null,face:null,frame:null,frameBorder:null,hSpace:Ve,leftMargin:Ve,link:null,longDesc:null,lowSrc:null,marginHeight:Ve,marginWidth:Ve,noResize:en,noHref:en,noShade:en,noWrap:en,object:null,profile:null,prompt:null,rev:null,rightMargin:Ve,rules:null,scheme:null,scrolling:_r,standby:null,summary:null,text:null,topMargin:Ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:en,disableRemotePlayback:en,prefix:null,property:null,results:Ve,security:null,unselectable:null},space:"html",transform:pL}),Kae=ad({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:fi,accentHeight:Ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ve,amplitude:Ve,arabicForm:null,ascent:Ve,attributeName:null,attributeType:null,azimuth:Ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ve,by:null,calcMode:null,capHeight:Ve,className:zn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ve,diffuseConstant:Ve,direction:null,display:null,dur:null,divisor:Ve,dominantBaseline:null,download:en,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ve,enableBackground:null,end:null,event:null,exponent:Ve,externalResourcesRequired:null,fill:null,fillOpacity:Ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Su,g2:Su,glyphName:Su,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ve,horizOriginX:Ve,horizOriginY:Ve,id:null,ideographic:Ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ve,k:Ve,k1:Ve,k2:Ve,k3:Ve,k4:Ve,kernelMatrix:fi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ve,overlineThickness:Ve,paintOrder:null,panose1:null,path:null,pathLength:Ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:zn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ve,pointsAtY:Ve,pointsAtZ:Ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fi,rev:fi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fi,requiredFeatures:fi,requiredFonts:fi,requiredFormats:fi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ve,specularExponent:Ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ve,strikethroughThickness:Ve,string:null,stroke:null,strokeDashArray:fi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ve,strokeOpacity:Ve,strokeWidth:null,style:null,surfaceScale:Ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fi,tabIndex:Ve,tableValues:null,target:null,targetX:Ve,targetY:Ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ve,underlineThickness:Ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ve,values:null,vAlphabetic:Ve,vMathematical:Ve,vectorEffect:null,vHanging:Ve,vIdeographic:Ve,version:null,vertAdvY:Ve,vertOriginX:Ve,vertOriginY:Ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:fL}),mL=ad({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),hL=ad({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:pL}),gL=ad({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Yae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Gae=/[A-Z]/g,qM=/-[a-z]/g,Xae=/^data[-\w.:]+$/i;function Qae(e,t){const n=Gx(t);let r=t,a=oi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Xae.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(qM,Jae);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!qM.test(i)){let o=i.replace(Gae,Zae);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=MS}return new a(r,t)}function Zae(e){return"-"+e.toLowerCase()}function Jae(e){return e.charAt(1).toUpperCase()}const eie=uL([dL,Hae,mL,hL,gL],"html"),ES=uL([dL,Kae,mL,hL,gL],"svg");function tie(e){return e.join(" ").trim()}var PS={},HM=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,nie=/\n/g,rie=/^\s*/,aie=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,iie=/^:\s*/,oie=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,sie=/^[;\s]*/,lie=/^\s+|\s+$/g,cie=`
`,KM="/",YM="*",ql="",uie="comment",die="declaration";function fie(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var y=h.match(nie);y&&(n+=y.length);var x=h.lastIndexOf(cie);r=~x?h.length-x:r+h.length}function i(){var h={line:n,column:r};return function(y){return y.position=new o(h),c(),y}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var y=new Error(t.source+":"+n+":"+r+": "+h);if(y.reason=h,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(h){var y=h.exec(e);if(y){var x=y[0];return a(x),e=e.slice(x.length),y}}function c(){l(rie)}function d(h){var y;for(h=h||[];y=f();)y!==!1&&h.push(y);return h}function f(){var h=i();if(!(KM!=e.charAt(0)||YM!=e.charAt(1))){for(var y=2;ql!=e.charAt(y)&&(YM!=e.charAt(y)||KM!=e.charAt(y+1));)++y;if(y+=2,ql===e.charAt(y-1))return s("End of comment missing");var x=e.slice(2,y-2);return r+=2,a(x),e=e.slice(y),r+=2,h({type:uie,comment:x})}}function p(){var h=i(),y=l(aie);if(y){if(f(),!l(iie))return s("property missing ':'");var x=l(oie),g=h({type:die,property:GM(y[0].replace(HM,ql)),value:x?GM(x[0].replace(HM,ql)):ql});return l(sie),g}}function m(){var h=[];d(h);for(var y;y=p();)y!==!1&&(h.push(y),d(h));return h}return c(),m()}function GM(e){return e?e.replace(lie,ql):ql}var pie=fie,mie=oh&&oh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PS,"__esModule",{value:!0});PS.default=gie;const hie=mie(pie);function gie(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,hie.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var iy={};Object.defineProperty(iy,"__esModule",{value:!0});iy.camelCase=void 0;var yie=/^--[a-zA-Z0-9_-]+$/,vie=/-([a-z])/g,bie=/^[^-]+$/,xie=/^-(webkit|moz|ms|o|khtml)-/,wie=/^-(ms)-/,kie=function(e){return!e||bie.test(e)||yie.test(e)},Sie=function(e,t){return t.toUpperCase()},XM=function(e,t){return"".concat(t,"-")},Nie=function(e,t){return t===void 0&&(t={}),kie(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(wie,XM):e=e.replace(xie,XM),e.replace(vie,Sie))};iy.camelCase=Nie;var jie=oh&&oh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Cie=jie(PS),Aie=iy;function Zx(e,t){var n={};return!e||typeof e!="string"||(0,Cie.default)(e,function(r,a){r&&a&&(n[(0,Aie.camelCase)(r,t)]=a)}),n}Zx.default=Zx;var Mie=Zx;const Eie=vo(Mie),yL=vL("end"),TS=vL("start");function vL(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Pie(e){const t=TS(e),n=yL(e);if(t&&n)return{start:t,end:n}}function Zd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?QM(e.position):"start"in e||"end"in e?QM(e):"line"in e||"column"in e?Jx(e):""}function Jx(e){return ZM(e&&e.line)+":"+ZM(e&&e.column)}function QM(e){return Jx(e&&e.start)+"-"+Jx(e&&e.end)}function ZM(e){return e&&typeof e=="number"?e:1}class ja extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=Zd(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ja.prototype.file="";ja.prototype.name="";ja.prototype.reason="";ja.prototype.message="";ja.prototype.stack="";ja.prototype.column=void 0;ja.prototype.line=void 0;ja.prototype.ancestors=void 0;ja.prototype.cause=void 0;ja.prototype.fatal=void 0;ja.prototype.place=void 0;ja.prototype.ruleId=void 0;ja.prototype.source=void 0;const OS={}.hasOwnProperty,Tie=new Map,Oie=/[A-Z]/g,Die=new Set(["table","tbody","thead","tfoot","tr"]),Iie=new Set(["td","th"]),bL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function _ie(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Vie(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Uie(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?ES:eie,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=xL(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function xL(e,t,n){if(t.type==="element")return Lie(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Fie(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return $ie(e,t,n);if(t.type==="mdxjsEsm")return Rie(e,t);if(t.type==="root")return Bie(e,t,n);if(t.type==="text")return zie(e,t)}function Lie(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=ES,e.schema=a),e.ancestors.push(t);const i=kL(e,t.tagName,!1),o=Wie(e,t);let s=IS(e,t);return Die.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!Wae(l):!0})),wL(e,o,i,t),DS(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Fie(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Hf(e,t.position)}function Rie(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Hf(e,t.position)}function $ie(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=ES,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:kL(e,t.name,!0),o=qie(e,t),s=IS(e,t);return wL(e,o,i,t),DS(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Bie(e,t,n){const r={};return DS(r,IS(e,t)),e.create(t,e.Fragment,r,n)}function zie(e,t){return t.value}function wL(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function DS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Uie(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function Vie(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=TS(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Wie(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&OS.call(t.properties,a)){const i=Hie(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Iie.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function qie(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Hf(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else Hf(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function IS(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Tie;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const c=a.get(l)||0;o=l+"-"+c,a.set(l,c+1)}}const s=xL(e,i,o);s!==void 0&&n.push(s)}return n}function Hie(e,t,n){const r=Qae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?$ae(n):tie(n)),r.property==="style"){let a=typeof n=="object"?n:Kie(e,String(n));return e.stylePropertyNameCase==="css"&&(a=Yie(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?Yae[r.property]||r.property:r.attribute,n]}}function Kie(e,t){try{return Eie(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new ja("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=bL+"#cannot-parse-style-attribute",a}}function kL(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=UM(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=UM(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return OS.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Hf(e)}function Hf(e,t){const n=new ja("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=bL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Yie(e){const t={};let n;for(n in e)OS.call(e,n)&&(t[Gie(n)]=e[n]);return t}function Gie(e){let t=e.replace(Oie,Xie);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Xie(e){return"-"+e.toLowerCase()}const Cv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Qie={};function _S(e,t){const n=Qie,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return SL(e,r,a)}function SL(e,t,n){if(Zie(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return JM(e.children,t,n)}return Array.isArray(e)?JM(e,t,n):""}function JM(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=SL(e[a],t,n);return r.join("")}function Zie(e){return!!(e&&typeof e=="object")}const eE=document.createElement("i");function LS(e){const t="&"+e+";";eE.innerHTML=t;const n=eE.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function wi(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function $i(e,t){return e.length>0?(wi(e,e.length,0,t),e):t}const tE={}.hasOwnProperty;function NL(e){const t={};let n=-1;for(;++n<e.length;)Jie(t,e[n]);return t}function Jie(e,t){let n;for(n in t){const r=(tE.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){tE.call(r,i)||(r[i]=[]);const o=a[i];eoe(r[i],Array.isArray(o)?o:o?[o]:[])}}}function eoe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);wi(e,0,0,r)}function jL(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function uo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ia=Nl(/[A-Za-z]/),Sa=Nl(/[\dA-Za-z]/),toe=Nl(/[#-'*+\--9=?A-Z^-~]/);function Mg(e){return e!==null&&(e<32||e===127)}const ew=Nl(/\d/),noe=Nl(/[\dA-Fa-f]/),roe=Nl(/[!-/:-@[-`{-~]/);function _t(e){return e!==null&&e<-2}function Ln(e){return e!==null&&(e<0||e===32)}function rn(e){return e===-2||e===-1||e===32}const oy=Nl(new RegExp("\\p{P}|\\p{S}","u")),Nc=Nl(/\s/);function Nl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function id(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Sa(e.charCodeAt(n+1))&&Sa(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function gn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return rn(l)?(e.enter(n),s(l)):t(l)}function s(l){return rn(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const aoe={tokenize:ioe};function ioe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),gn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return _t(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const ooe={tokenize:soe},nE={tokenize:loe};function soe(e){const t=this,n=[];let r=0,a,i,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const S=t.events.length;let C=S,j;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){j=t.events[C][1].end;break}g(r);let A=S;for(;A<t.events.length;)t.events[A][1].end={...j},A++;return wi(t.events,C+1,0,t.events.slice(S)),t.events.length=A,c(w)}return s(w)}function c(w){if(r===n.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return h(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(nE,d,f)(w)}function d(w){return a&&b(),g(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(w)}function p(w){return t.containerState={},e.attempt(nE,m,h)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function h(w){if(w===null){a&&b(),g(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),y(w)}function y(w){if(w===null){x(e.exit("chunkFlow"),!0),g(0),e.consume(w);return}return _t(w)?(e.consume(w),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),y)}function x(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(C),t.parser.lazy[w.start.line]){let j=a.events.length;for(;j--;)if(a.events[j][1].start.offset<o&&(!a.events[j][1].end||a.events[j][1].end.offset>o))return;const A=t.events.length;let T=A,L,E;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(L){E=t.events[T][1].end;break}L=!0}for(g(r),j=A;j<t.events.length;)t.events[j][1].end={...E},j++;wi(t.events,T+1,0,t.events.slice(A)),t.events.length=j}}function g(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function loe(e,t,n){return gn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Uu(e){if(e===null||Ln(e)||Nc(e))return 1;if(oy(e))return 2}function sy(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const tw={name:"attention",resolveAll:coe,tokenize:uoe};function coe(e,t){let n=-1,r,a,i,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};rE(f,-l),rE(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=$i(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=$i(c,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),c=$i(c,sy(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=$i(c,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=$i(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,wi(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function uoe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Uu(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const c=e.exit("attentionSequence"),d=Uu(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return c._open=!!(i===42?f:f&&(a||!p)),c._close=!!(i===42?p:p&&(d||!f)),t(l)}}function rE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const doe={name:"autolink",tokenize:foe};function foe(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Ia(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Sa(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Sa(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Mg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):toe(m)?(e.consume(m),c):n(m)}function d(m){return Sa(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Sa(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const Ip={partial:!0,tokenize:poe};function poe(e,t,n){return r;function r(i){return rn(i)?gn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||_t(i)?t(i):n(i)}}const CL={continuation:{tokenize:hoe},exit:goe,name:"blockQuote",tokenize:moe};function moe(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return rn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function hoe(e,t,n){const r=this;return a;function a(o){return rn(o)?gn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(CL,t,n)(o)}}function goe(e){e.exit("blockQuote")}const AL={name:"characterEscape",tokenize:yoe};function yoe(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return roe(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const ML={name:"characterReference",tokenize:voe};function voe(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,o=Sa,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=noe,d):(e.enter("characterReferenceValue"),i=7,o=ew,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===Sa&&!LS(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const aE={partial:!0,tokenize:xoe},iE={concrete:!0,name:"codeFenced",tokenize:boe};function boe(e,t,n){const r=this,a={partial:!0,tokenize:C};let i=0,o=0,s;return l;function l(j){return c(j)}function c(j){const A=r.events[r.events.length-1];return i=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,s=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===s?(o++,e.consume(j),d):o<3?n(j):(e.exit("codeFencedFenceSequence"),rn(j)?gn(e,f,"whitespace")(j):f(j))}function f(j){return j===null||_t(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(aE,y,S)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||_t(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):rn(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),gn(e,m,"whitespace")(j)):j===96&&j===s?n(j):(e.consume(j),p)}function m(j){return j===null||_t(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||_t(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===s?n(j):(e.consume(j),h)}function y(j){return e.attempt(a,S,x)(j)}function x(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),g}function g(j){return i>0&&rn(j)?gn(e,b,"linePrefix",i+1)(j):b(j)}function b(j){return j===null||_t(j)?e.check(aE,y,S)(j):(e.enter("codeFlowValue"),w(j))}function w(j){return j===null||_t(j)?(e.exit("codeFlowValue"),b(j)):(e.consume(j),w)}function S(j){return e.exit("codeFenced"),t(j)}function C(j,A,T){let L=0;return E;function E(ee){return j.enter("lineEnding"),j.consume(ee),j.exit("lineEnding"),P}function P(ee){return j.enter("codeFencedFence"),rn(ee)?gn(j,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):I(ee)}function I(ee){return ee===s?(j.enter("codeFencedFenceSequence"),U(ee)):T(ee)}function U(ee){return ee===s?(L++,j.consume(ee),U):L>=o?(j.exit("codeFencedFenceSequence"),rn(ee)?gn(j,Y,"whitespace")(ee):Y(ee)):T(ee)}function Y(ee){return ee===null||_t(ee)?(j.exit("codeFencedFence"),A(ee)):T(ee)}}}function xoe(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Av={name:"codeIndented",tokenize:koe},woe={partial:!0,tokenize:Soe};function koe(e,t,n){const r=this;return a;function a(c){return e.enter("codeIndented"),gn(e,i,"linePrefix",5)(c)}function i(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):_t(c)?e.attempt(woe,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||_t(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function Soe(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):_t(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):gn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):_t(o)?a(o):n(o)}}const Noe={name:"codeText",previous:Coe,resolve:joe,tokenize:Aoe};function joe(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Coe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Aoe(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):_t(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||_t(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",c(f))}}class Moe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Pd(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Pd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Pd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Pd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Pd(this.left,n.reverse())}}}function Pd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function EL(e){const t={};let n=-1,r,a,i,o,s,l,c;const d=new Moe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Eoe(d,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return wi(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Eoe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let d,f,p=-1,m=n,h=0,y=0;const x=[y];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(y=p+1,x.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const g=s.slice(x[p],x[p+1]),b=i.pop();l.push([b,b+g.length-1]),e.splice(b,2,g)}for(l.reverse(),p=-1;++p<l.length;)c[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return c}const Poe={resolve:Ooe,tokenize:Doe},Toe={partial:!0,tokenize:Ioe};function Ooe(e){return EL(e),e}function Doe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):_t(s)?e.check(Toe,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Ioe(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),gn(e,i,"linePrefix")}function i(o){if(o===null||_t(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function PL(e,t,n,r,a,i,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(g){return g===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(g),e.exit(i),p):g===null||g===32||g===41||Mg(g)?n(g):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),y(g))}function p(g){return g===62?(e.enter(i),e.consume(g),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(s),p(g)):g===null||g===60||_t(g)?n(g):(e.consume(g),g===92?h:m)}function h(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function y(g){return!d&&(g===null||g===41||Ln(g))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(g)):d<c&&g===40?(e.consume(g),d++,y):g===41?(e.consume(g),d--,y):g===null||g===32||g===40||Mg(g)?n(g):(e.consume(g),g===92?x:y)}function x(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function TL(e,t,n,r,a,i){const o=this;let s=0,l;return c;function c(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):_t(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||_t(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!rn(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function OL(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),c(p))}function c(p){return p===o?(e.exit(i),l(o)):p===null?n(p):_t(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),gn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||_t(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Jd(e,t){let n;return r;function r(a){return _t(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):rn(a)?gn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const _oe={name:"definition",tokenize:Foe},Loe={partial:!0,tokenize:Roe};function Foe(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return TL.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=uo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Ln(m)?Jd(e,c)(m):c(m)}function c(m){return PL(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Loe,f,f)(m)}function f(m){return rn(m)?gn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||_t(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function Roe(e,t,n){return r;function r(s){return Ln(s)?Jd(e,a)(s):n(s)}function a(s){return OL(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return rn(s)?gn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||_t(s)?t(s):n(s)}}const $oe={name:"hardBreakEscape",tokenize:Boe};function Boe(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return _t(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const zoe={name:"headingAtx",resolve:Uoe,tokenize:Voe};function Uoe(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},wi(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function Voe(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Ln(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||_t(d)?(e.exit("atxHeading"),t(d)):rn(d)?gn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Ln(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const Woe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],oE=["pre","script","style","textarea"],qoe={concrete:!0,name:"htmlFlow",resolveTo:Yoe,tokenize:Goe},Hoe={partial:!0,tokenize:Qoe},Koe={partial:!0,tokenize:Xoe};function Yoe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Goe(e,t,n){const r=this;let a,i,o,s,l;return c;function c(N){return d(N)}function d(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),p):N===47?(e.consume(N),i=!0,y):N===63?(e.consume(N),a=3,r.interrupt?t:k):Ia(N)?(e.consume(N),o=String.fromCharCode(N),x):n(N)}function p(N){return N===45?(e.consume(N),a=2,m):N===91?(e.consume(N),a=5,s=0,h):Ia(N)?(e.consume(N),a=4,r.interrupt?t:k):n(N)}function m(N){return N===45?(e.consume(N),r.interrupt?t:k):n(N)}function h(N){const V="CDATA[";return N===V.charCodeAt(s++)?(e.consume(N),s===V.length?r.interrupt?t:I:h):n(N)}function y(N){return Ia(N)?(e.consume(N),o=String.fromCharCode(N),x):n(N)}function x(N){if(N===null||N===47||N===62||Ln(N)){const V=N===47,Q=o.toLowerCase();return!V&&!i&&oE.includes(Q)?(a=1,r.interrupt?t(N):I(N)):Woe.includes(o.toLowerCase())?(a=6,V?(e.consume(N),g):r.interrupt?t(N):I(N)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):i?b(N):w(N))}return N===45||Sa(N)?(e.consume(N),o+=String.fromCharCode(N),x):n(N)}function g(N){return N===62?(e.consume(N),r.interrupt?t:I):n(N)}function b(N){return rn(N)?(e.consume(N),b):E(N)}function w(N){return N===47?(e.consume(N),E):N===58||N===95||Ia(N)?(e.consume(N),S):rn(N)?(e.consume(N),w):E(N)}function S(N){return N===45||N===46||N===58||N===95||Sa(N)?(e.consume(N),S):C(N)}function C(N){return N===61?(e.consume(N),j):rn(N)?(e.consume(N),C):w(N)}function j(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,A):rn(N)?(e.consume(N),j):T(N)}function A(N){return N===l?(e.consume(N),l=null,L):N===null||_t(N)?n(N):(e.consume(N),A)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Ln(N)?C(N):(e.consume(N),T)}function L(N){return N===47||N===62||rn(N)?w(N):n(N)}function E(N){return N===62?(e.consume(N),P):n(N)}function P(N){return N===null||_t(N)?I(N):rn(N)?(e.consume(N),P):n(N)}function I(N){return N===45&&a===2?(e.consume(N),ce):N===60&&a===1?(e.consume(N),$):N===62&&a===4?(e.consume(N),O):N===63&&a===3?(e.consume(N),k):N===93&&a===5?(e.consume(N),re):_t(N)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(Hoe,M,U)(N)):N===null||_t(N)?(e.exit("htmlFlowData"),U(N)):(e.consume(N),I)}function U(N){return e.check(Koe,Y,M)(N)}function Y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),ee}function ee(N){return N===null||_t(N)?U(N):(e.enter("htmlFlowData"),I(N))}function ce(N){return N===45?(e.consume(N),k):I(N)}function $(N){return N===47?(e.consume(N),o="",B):I(N)}function B(N){if(N===62){const V=o.toLowerCase();return oE.includes(V)?(e.consume(N),O):I(N)}return Ia(N)&&o.length<8?(e.consume(N),o+=String.fromCharCode(N),B):I(N)}function re(N){return N===93?(e.consume(N),k):I(N)}function k(N){return N===62?(e.consume(N),O):N===45&&a===2?(e.consume(N),k):I(N)}function O(N){return N===null||_t(N)?(e.exit("htmlFlowData"),M(N)):(e.consume(N),O)}function M(N){return e.exit("htmlFlow"),t(N)}}function Xoe(e,t,n){const r=this;return a;function a(o){return _t(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Qoe(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Ip,t,n)}}const Zoe={name:"htmlText",tokenize:Joe};function Joe(e,t,n){const r=this;let a,i,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),C):k===63?(e.consume(k),w):Ia(k)?(e.consume(k),T):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),i=0,h):Ia(k)?(e.consume(k),b):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),p):_t(k)?(o=f,$(k)):(e.consume(k),f)}function p(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?ce(k):k===45?p(k):f(k)}function h(k){const O="CDATA[";return k===O.charCodeAt(i++)?(e.consume(k),i===O.length?y:h):n(k)}function y(k){return k===null?n(k):k===93?(e.consume(k),x):_t(k)?(o=y,$(k)):(e.consume(k),y)}function x(k){return k===93?(e.consume(k),g):y(k)}function g(k){return k===62?ce(k):k===93?(e.consume(k),g):y(k)}function b(k){return k===null||k===62?ce(k):_t(k)?(o=b,$(k)):(e.consume(k),b)}function w(k){return k===null?n(k):k===63?(e.consume(k),S):_t(k)?(o=w,$(k)):(e.consume(k),w)}function S(k){return k===62?ce(k):w(k)}function C(k){return Ia(k)?(e.consume(k),j):n(k)}function j(k){return k===45||Sa(k)?(e.consume(k),j):A(k)}function A(k){return _t(k)?(o=A,$(k)):rn(k)?(e.consume(k),A):ce(k)}function T(k){return k===45||Sa(k)?(e.consume(k),T):k===47||k===62||Ln(k)?L(k):n(k)}function L(k){return k===47?(e.consume(k),ce):k===58||k===95||Ia(k)?(e.consume(k),E):_t(k)?(o=L,$(k)):rn(k)?(e.consume(k),L):ce(k)}function E(k){return k===45||k===46||k===58||k===95||Sa(k)?(e.consume(k),E):P(k)}function P(k){return k===61?(e.consume(k),I):_t(k)?(o=P,$(k)):rn(k)?(e.consume(k),P):L(k)}function I(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,U):_t(k)?(o=I,$(k)):rn(k)?(e.consume(k),I):(e.consume(k),Y)}function U(k){return k===a?(e.consume(k),a=void 0,ee):k===null?n(k):_t(k)?(o=U,$(k)):(e.consume(k),U)}function Y(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Ln(k)?L(k):(e.consume(k),Y)}function ee(k){return k===47||k===62||Ln(k)?L(k):n(k)}function ce(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function $(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),B}function B(k){return rn(k)?gn(e,re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):re(k)}function re(k){return e.enter("htmlTextData"),o(k)}}const FS={name:"labelEnd",resolveAll:rse,resolveTo:ase,tokenize:ise},ese={tokenize:ose},tse={tokenize:sse},nse={tokenize:lse};function rse(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&wi(e,0,e.length,n),e}function ase(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=$i(s,e.slice(i+1,i+r+3)),s=$i(s,[["enter",d,t]]),s=$i(s,sy(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=$i(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=$i(s,e.slice(o+1)),s=$i(s,[["exit",l,t]]),wi(e,i,e.length,s),e}function ise(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(uo(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(ese,d,o?d:f)(p):p===91?e.attempt(tse,d,o?c:f)(p):o?d(p):f(p)}function c(p){return e.attempt(nse,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function ose(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Ln(f)?Jd(e,i)(f):i(f)}function i(f){return f===41?d(f):PL(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Ln(f)?Jd(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?OL(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Ln(f)?Jd(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function sse(e,t,n){const r=this;return a;function a(s){return TL.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(uo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function lse(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const cse={name:"labelStartImage",resolveAll:FS.resolveAll,tokenize:use};function use(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const dse={name:"labelStartLink",resolveAll:FS.resolveAll,tokenize:fse};function fse(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Mv={name:"lineEnding",tokenize:pse};function pse(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),gn(e,t,"linePrefix")}}const nh={name:"thematicBreak",tokenize:mse};function mse(e,t,n){let r=0,a;return i;function i(c){return e.enter("thematicBreak"),o(c)}function o(c){return a=c,s(c)}function s(c){return c===a?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||_t(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===a?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),rn(c)?gn(e,s,"whitespace")(c):s(c))}}const Ka={continuation:{tokenize:vse},exit:xse,name:"list",tokenize:yse},hse={partial:!0,tokenize:wse},gse={partial:!0,tokenize:bse};function yse(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:ew(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(nh,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return ew(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Ip,r.interrupt?n:d,e.attempt(hse,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return rn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function vse(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ip,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,gn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!rn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(gse,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,gn(e,e.attempt(Ka,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function bse(e,t,n){const r=this;return gn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function xse(e){e.exit(this.containerState.type)}function wse(e,t,n){const r=this;return gn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!rn(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const sE={name:"setextUnderline",resolveTo:kse,tokenize:Sse};function kse(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Sse(e,t,n){const r=this;let a;return i;function i(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===a?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),rn(c)?gn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||_t(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Nse={tokenize:jse};function jse(e){const t=this,n=e.attempt(Ip,r,e.attempt(this.parser.constructs.flowInitial,a,gn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Poe,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Cse={resolveAll:IL()},Ase=DL("string"),Mse=DL("text");function DL(e){return{resolveAll:IL(e==="text"?Ese:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return c(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function IL(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Ese(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const c=a[i];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Pse={42:Ka,43:Ka,45:Ka,48:Ka,49:Ka,50:Ka,51:Ka,52:Ka,53:Ka,54:Ka,55:Ka,56:Ka,57:Ka,62:CL},Tse={91:_oe},Ose={[-2]:Av,[-1]:Av,32:Av},Dse={35:zoe,42:nh,45:[sE,nh],60:qoe,61:sE,95:nh,96:iE,126:iE},Ise={38:ML,92:AL},_se={[-5]:Mv,[-4]:Mv,[-3]:Mv,33:cse,38:ML,42:tw,60:[doe,Zoe],91:dse,92:[$oe,AL],93:FS,95:tw,96:Noe},Lse={null:[tw,Cse]},Fse={null:[42,95]},Rse={null:[]},$se=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Fse,contentInitial:Tse,disable:Rse,document:Pse,flow:Dse,flowInitial:Ose,insideSpan:Lse,string:Ise,text:_se},Symbol.toStringTag,{value:"Module"}));function Bse(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:A(C),check:A(j),consume:b,enter:w,exit:S,interrupt:A(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function f(P){return o=$i(o,P),x(),o[o.length-1]!==null?[]:(T(t,0),c.events=sy(i,c.events,c),c.events)}function p(P,I){return Use(m(P),I)}function m(P){return zse(o,P)}function h(){const{_bufferIndex:P,_index:I,line:U,column:Y,offset:ee}=r;return{_bufferIndex:P,_index:I,line:U,column:Y,offset:ee}}function y(P){a[P.line]=P.column,E()}function x(){let P;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<I.length;)g(I.charCodeAt(r._bufferIndex));else g(I)}}function g(P){d=d(P)}function b(P){_t(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,E()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=P}function w(P,I){const U=I||{};return U.type=P,U.start=h(),c.events.push(["enter",U,c]),s.push(U),U}function S(P){const I=s.pop();return I.end=h(),c.events.push(["exit",I,c]),I}function C(P,I){T(P,I.from)}function j(P,I){I.restore()}function A(P,I){return U;function U(Y,ee,ce){let $,B,re,k;return Array.isArray(Y)?M(Y):"tokenize"in Y?M([Y]):O(Y);function O(H){return G;function G(J){const _=J!==null&&H[J],ne=J!==null&&H.null,ge=[...Array.isArray(_)?_:_?[_]:[],...Array.isArray(ne)?ne:ne?[ne]:[]];return M(ge)(J)}}function M(H){return $=H,B=0,H.length===0?ce:N(H[B])}function N(H){return G;function G(J){return k=L(),re=H,H.partial||(c.currentConstruct=H),H.name&&c.parser.constructs.disable.null.includes(H.name)?Q():H.tokenize.call(I?Object.assign(Object.create(c),I):c,l,V,Q)(J)}}function V(H){return P(re,k),ee}function Q(H){return k.restore(),++B<$.length?N($[B]):ce}}}function T(P,I){P.resolveAll&&!i.includes(P)&&i.push(P),P.resolve&&wi(c.events,I,c.events.length-I,P.resolve(c.events.slice(I),c)),P.resolveTo&&(c.events=P.resolveTo(c.events,c))}function L(){const P=h(),I=c.previous,U=c.currentConstruct,Y=c.events.length,ee=Array.from(s);return{from:Y,restore:ce};function ce(){r=P,c.previous=I,c.currentConstruct=U,c.events.length=Y,s=ee,E()}}function E(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function zse(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function Use(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function Vse(e){const t={constructs:NL([$se,...(e||{}).extensions||[]]),content:n(aoe),defined:[],document:n(ooe),flow:n(Nse),lazy:{},string:n(Ase),text:n(Mse)};return t;function n(r){return a;function a(i){return Bse(t,r,i)}}}function Wse(e){for(;!EL(e););return e}const lE=/[\0\t\n\r]/g;function qse(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let c,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(lE.lastIndex=f,c=lE.exec(i),p=c&&c.index!==void 0?c.index:i.length,m=i.charCodeAt(p),!c){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Hse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Kse(e){return e.replace(Hse,Yse)}function Yse(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return jL(n.slice(a?2:1),a?16:10)}return LS(n)||e}const _L={}.hasOwnProperty;function Gse(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Xse(n)(Wse(Vse(n).document().write(qse()(e,t,!0))))}function Xse(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(ue),autolinkProtocol:L,autolinkEmail:L,atxHeading:i(F),blockQuote:i(ne),characterEscape:L,characterReference:L,codeFenced:i(ge),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(ge,o),codeText:i(R,o),codeTextData:L,data:L,codeFlowValue:L,definition:i(ae),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(W),hardBreakEscape:i(le),hardBreakTrailing:i(le),htmlFlow:i(xe,o),htmlFlowData:L,htmlText:i(xe,o),htmlTextData:L,image:i(Je),label:o,link:i(ue),listItem:i(Fe),listItemValue:p,listOrdered:i(Ke,f),listUnordered:i(Ke),paragraph:i(gt),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(F),strong:i(Wt),thematicBreak:i(Wn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:_,autolinkProtocol:J,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:H,characterReference:G,codeFenced:l(x),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:E,codeIndented:l(g),codeText:l(ee),codeTextData:E,data:E,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(U),htmlFlowData:E,htmlText:l(Y),htmlTextData:E,image:l($),label:re,labelText:B,lineEnding:P,link:l(ce),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:V,resourceDestinationString:k,resourceTitleString:O,resource:M,setextHeading:l(T),setextHeadingLineSequence:A,setextHeadingText:j,strong:l(),thematicBreak:l()}};LL(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(he){let Pe={type:"root",children:[]};const Pt={stack:[Pe],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},$t=[];let un=-1;for(;++un<he.length;)if(he[un][1].type==="listOrdered"||he[un][1].type==="listUnordered")if(he[un][0]==="enter")$t.push(un);else{const jr=$t.pop();un=a(he,jr,un)}for(un=-1;++un<he.length;){const jr=t[he[un][0]];_L.call(jr,he[un][1].type)&&jr[he[un][1].type].call(Object.assign({sliceSerialize:he[un][2].sliceSerialize},Pt),he[un][1])}if(Pt.tokenStack.length>0){const jr=Pt.tokenStack[Pt.tokenStack.length-1];(jr[1]||cE).call(Pt,void 0,jr[0])}for(Pe.position={start:$s(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:$s(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},un=-1;++un<t.transforms.length;)Pe=t.transforms[un](Pe)||Pe;return Pe}function a(he,Pe,Pt){let $t=Pe-1,un=-1,jr=!1,Ca,qn,Ua,Tr;for(;++$t<=Pt;){const yn=he[$t];switch(yn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yn[0]==="enter"?un++:un--,Tr=void 0;break}case"lineEndingBlank":{yn[0]==="enter"&&(Ca&&!Tr&&!un&&!Ua&&(Ua=$t),Tr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tr=void 0}if(!un&&yn[0]==="enter"&&yn[1].type==="listItemPrefix"||un===-1&&yn[0]==="exit"&&(yn[1].type==="listUnordered"||yn[1].type==="listOrdered")){if(Ca){let dn=$t;for(qn=void 0;dn--;){const Xr=he[dn];if(Xr[1].type==="lineEnding"||Xr[1].type==="lineEndingBlank"){if(Xr[0]==="exit")continue;qn&&(he[qn][1].type="lineEndingBlank",jr=!0),Xr[1].type="lineEnding",qn=dn}else if(!(Xr[1].type==="linePrefix"||Xr[1].type==="blockQuotePrefix"||Xr[1].type==="blockQuotePrefixWhitespace"||Xr[1].type==="blockQuoteMarker"||Xr[1].type==="listItemIndent"))break}Ua&&(!qn||Ua<qn)&&(Ca._spread=!0),Ca.end=Object.assign({},qn?he[qn][1].start:yn[1].end),he.splice(qn||$t,0,["exit",Ca,yn[2]]),$t++,Pt++}if(yn[1].type==="listItemPrefix"){const dn={type:"listItem",_spread:!1,start:Object.assign({},yn[1].start),end:void 0};Ca=dn,he.splice($t,0,["enter",dn,yn[2]]),$t++,Pt++,Ua=void 0,Tr=!0}}}return he[Pe][1]._spread=jr,Pt}function i(he,Pe){return Pt;function Pt($t){s.call(this,he($t),$t),Pe&&Pe.call(this,$t)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(he,Pe,Pt){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Pe,Pt||void 0]),he.position={start:$s(Pe.start),end:void 0}}function l(he){return Pe;function Pe(Pt){he&&he.call(this,Pt),c.call(this,Pt)}}function c(he,Pe){const Pt=this.stack.pop(),$t=this.tokenStack.pop();if($t)$t[0].type!==he.type&&(Pe?Pe.call(this,he,$t[0]):($t[1]||cE).call(this,he,$t[0]));else throw new Error("Cannot close `"+he.type+"` ("+Zd({start:he.start,end:he.end})+"): its not open");Pt.position.end=$s(he.end)}function d(){return _S(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(he){if(this.data.expectingFirstListItemValue){const Pe=this.stack[this.stack.length-2];Pe.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function m(){const he=this.resume(),Pe=this.stack[this.stack.length-1];Pe.lang=he}function h(){const he=this.resume(),Pe=this.stack[this.stack.length-1];Pe.meta=he}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const he=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const he=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=he.replace(/(\r?\n|\r)$/g,"")}function b(he){const Pe=this.resume(),Pt=this.stack[this.stack.length-1];Pt.label=Pe,Pt.identifier=uo(this.sliceSerialize(he)).toLowerCase()}function w(){const he=this.resume(),Pe=this.stack[this.stack.length-1];Pe.title=he}function S(){const he=this.resume(),Pe=this.stack[this.stack.length-1];Pe.url=he}function C(he){const Pe=this.stack[this.stack.length-1];if(!Pe.depth){const Pt=this.sliceSerialize(he).length;Pe.depth=Pt}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function A(he){const Pe=this.stack[this.stack.length-1];Pe.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function L(he){const Pe=this.stack[this.stack.length-1].children;let Pt=Pe[Pe.length-1];(!Pt||Pt.type!=="text")&&(Pt=On(),Pt.position={start:$s(he.start),end:void 0},Pe.push(Pt)),this.stack.push(Pt)}function E(he){const Pe=this.stack.pop();Pe.value+=this.sliceSerialize(he),Pe.position.end=$s(he.end)}function P(he){const Pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pt=Pe.children[Pe.children.length-1];Pt.position.end=$s(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Pe.type)&&(L.call(this,he),E.call(this,he))}function I(){this.data.atHardBreak=!0}function U(){const he=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=he}function Y(){const he=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=he}function ee(){const he=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=he}function ce(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Pe=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Pe,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function $(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Pe=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Pe,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function B(he){const Pe=this.sliceSerialize(he),Pt=this.stack[this.stack.length-2];Pt.label=Kse(Pe),Pt.identifier=uo(Pe).toLowerCase()}function re(){const he=this.stack[this.stack.length-1],Pe=this.resume(),Pt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pt.type==="link"){const $t=he.children;Pt.children=$t}else Pt.alt=Pe}function k(){const he=this.resume(),Pe=this.stack[this.stack.length-1];Pe.url=he}function O(){const he=this.resume(),Pe=this.stack[this.stack.length-1];Pe.title=he}function M(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function V(he){const Pe=this.resume(),Pt=this.stack[this.stack.length-1];Pt.label=Pe,Pt.identifier=uo(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function Q(he){this.data.characterReferenceType=he.type}function H(he){const Pe=this.sliceSerialize(he),Pt=this.data.characterReferenceType;let $t;Pt?($t=jL(Pe,Pt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$t=LS(Pe);const un=this.stack[this.stack.length-1];un.value+=$t}function G(he){const Pe=this.stack.pop();Pe.position.end=$s(he.end)}function J(he){E.call(this,he);const Pe=this.stack[this.stack.length-1];Pe.url=this.sliceSerialize(he)}function _(he){E.call(this,he);const Pe=this.stack[this.stack.length-1];Pe.url="mailto:"+this.sliceSerialize(he)}function ne(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function R(){return{type:"inlineCode",value:""}}function ae(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function W(){return{type:"emphasis",children:[]}}function F(){return{type:"heading",depth:0,children:[]}}function le(){return{type:"break"}}function xe(){return{type:"html",value:""}}function Je(){return{type:"image",title:null,url:"",alt:null}}function ue(){return{type:"link",title:null,url:"",children:[]}}function Ke(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function Fe(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function gt(){return{type:"paragraph",children:[]}}function Wt(){return{type:"strong",children:[]}}function On(){return{type:"text",value:""}}function Wn(){return{type:"thematicBreak"}}}function $s(e){return{line:e.line,column:e.column,offset:e.offset}}function LL(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?LL(e,r):Qse(e,r)}}function Qse(e,t){let n;for(n in t)if(_L.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function cE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Zd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Zd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Zd({start:t.start,end:t.end})+") is still open")}function Zse(e){const t=this;t.parser=n;function n(r){return Gse(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Jse(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function ele(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function tle(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function nle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ale(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=id(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function ile(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ole(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function FL(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function sle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return FL(e,t);const a={src:id(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function lle(e,t){const n={src:id(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function cle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function ule(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return FL(e,t);const a={href:id(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function dle(e,t){const n={href:id(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function fle(e,t,n){const r=e.all(t),a=n?ple(n):RL(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,c),e.applyData(t,c)}function ple(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=RL(n[r])}return t}function RL(e){return e.spread??e.children.length>1}function mle(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function hle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function yle(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vle(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=TS(t.children[1]),l=yL(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function ble(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function xle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const uE=9,dE=32;function wle(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(fE(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(fE(t.slice(a),a>0,!1)),i.join("")}function fE(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===uE||i===dE;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===uE||i===dE;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function kle(e,t){const n={type:"text",value:wle(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Sle(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Nle={blockquote:Jse,break:ele,code:tle,delete:nle,emphasis:rle,footnoteReference:ale,heading:ile,html:ole,imageReference:sle,image:lle,inlineCode:cle,linkReference:ule,link:dle,listItem:fle,list:mle,paragraph:hle,root:gle,strong:yle,table:vle,tableCell:xle,tableRow:ble,text:kle,thematicBreak:Sle,toml:Am,yaml:Am,definition:Am,footnoteDefinition:Am};function Am(){}const $L=-1,ly=0,ef=1,Eg=2,RS=3,$S=4,BS=5,zS=6,BL=7,zL=8,pE=typeof self=="object"?self:globalThis,jle=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case ly:case $L:return n(o,a);case ef:{const s=n([],a);for(const l of o)s.push(r(l));return s}case Eg:{const s=n({},a);for(const[l,c]of o)s[r(l)]=r(c);return s}case RS:return n(new Date(o),a);case $S:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case BS:{const s=n(new Map,a);for(const[l,c]of o)s.set(r(l),r(c));return s}case zS:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case BL:{const{name:s,message:l}=o;return n(new pE[s](l),a)}case zL:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new pE[i](o),a)};return r},mE=e=>jle(new Map,e)(0),Hc="",{toString:Cle}={},{keys:Ale}=Object,Td=e=>{const t=typeof e;if(t!=="object"||!e)return[ly,t];const n=Cle.call(e).slice(8,-1);switch(n){case"Array":return[ef,Hc];case"Object":return[Eg,Hc];case"Date":return[RS,Hc];case"RegExp":return[$S,Hc];case"Map":return[BS,Hc];case"Set":return[zS,Hc];case"DataView":return[ef,n]}return n.includes("Array")?[ef,n]:n.includes("Error")?[BL,n]:[Eg,n]},Mm=([e,t])=>e===ly&&(t==="function"||t==="symbol"),Mle=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=Td(o);switch(s){case ly:{let d=o;switch(l){case"bigint":s=zL,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([$L],o)}return a([s,d],o)}case ef:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case Eg:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of Ale(o))(e||!Mm(Td(o[p])))&&d.push([i(p),i(o[p])]);return f}case RS:return a([s,o.toISOString()],o);case $S:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case BS:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(Mm(Td(p))||Mm(Td(m))))&&d.push([i(p),i(m)]);return f}case zS:{const d=[],f=a([s,d],o);for(const p of o)(e||!Mm(Td(p)))&&d.push(i(p));return f}}const{message:c}=o;return a([s,{name:l,message:c}],o)};return i},hE=(e,{json:t,lossy:n}={})=>{const r=[];return Mle(!(t||n),!!t,new Map,r)(e),r},Pg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?mE(hE(e,t)):structuredClone(e):(e,t)=>mE(hE(e,t));function Ele(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Ple(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Tle(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ele,r=e.options.footnoteBackLabel||Ple,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),p=id(f.toLowerCase());let m=0;const h=[],y=e.footnoteCounts.get(f);for(;y!==void 0&&++m<=y;){h.length>0&&h.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...h)}else d.push(...h);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Pg(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const cy=function(e){if(e==null)return _le;if(typeof e=="function")return uy(e);if(typeof e=="object")return Array.isArray(e)?Ole(e):Dle(e);if(typeof e=="string")return Ile(e);throw new Error("Expected function, string, or object as test")};function Ole(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=cy(e[n]);return uy(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Dle(e){const t=e;return uy(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function Ile(e){return uy(t);function t(n){return n&&n.type===e}}function uy(e){return t;function t(n,r,a){return!!(Lle(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function _le(){return!0}function Lle(e){return e!==null&&typeof e=="object"&&"type"in e}const UL=[],Fle=!0,nw=!1,Rle="skip";function VL(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=cy(a),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=UL,h,y,x;if((!t||i(l,c,d[d.length-1]||void 0))&&(m=$le(n(l,d)),m[0]===nw))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==Rle)for(y=(r?g.children.length:-1)+o,x=d.concat(g);y>-1&&y<g.children.length;){const b=g.children[y];if(h=s(b,y,x)(),h[0]===nw)return h;y=typeof h[1]=="number"?h[1]:y+o}}return m}}}function $le(e){return Array.isArray(e)?e:typeof e=="number"?[Fle,e]:e==null?UL:[e]}function US(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),VL(e,i,s,a);function s(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const rw={}.hasOwnProperty,Ble={};function zle(e,t){const n=t||Ble,r=new Map,a=new Map,i=new Map,o={...Nle,...n.handlers},s={all:c,applyData:Vle,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:Ule,wrap:qle};return US(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(rw.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...y}=d,x=Pg(y);return x.children=s.all(d),x}return Pg(d)}return(s.options.unknownHandler||Wle)(s,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=gE(h.value)),!Array.isArray(h)&&h.type==="element")){const y=h.children[0];y&&y.type==="text"&&(y.value=gE(y.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function Ule(e,t){e.position&&(t.position=Pie(e))}function Vle(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Pg(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function Wle(e,t){const n=t.data||{},r="value"in t&&!(rw.call(n,"hProperties")||rw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qle(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function gE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function yE(e,t){const n=zle(e,t),r=n.one(e,void 0),a=Tle(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function Hle(e,t){return e&&"run"in e?async function(n,r){const a=yE(n,{file:r,...t});await e.run(a,r)}:function(n,r){return yE(n,{file:r,...e||t})}}function vE(e){if(e)throw e}var rh=Object.prototype.hasOwnProperty,WL=Object.prototype.toString,bE=Object.defineProperty,xE=Object.getOwnPropertyDescriptor,wE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):WL.call(e)==="[object Array]"},kE=function(e){if(!e||WL.call(e)!=="[object Object]")return!1;var t=rh.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&rh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||rh.call(e,r)},SE=function(e,t){bE&&t.name==="__proto__"?bE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},NE=function(e,t){if(t==="__proto__")if(rh.call(e,t)){if(xE)return xE(e,t).value}else return;return e[t]},Kle=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,c=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=NE(s,n),a=NE(t,n),s!==a&&(d&&a&&(kE(a)||(i=wE(a)))?(i?(i=!1,o=r&&wE(r)?r:[]):o=r&&kE(r)?r:{},SE(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&SE(s,{name:n,newValue:a}));return s};const Ev=vo(Kle);function aw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Yle(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...c){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(c[f]===null||c[f]===void 0)&&(c[f]=a[f]);a=c,d?Gle(d,s)(...c):o(null,...c)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function Gle(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const Po={basename:Xle,dirname:Qle,extname:Zle,join:Jle,sep:"/"};function Xle(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');_p(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Qle(e){if(_p(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Zle(e){_p(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function Jle(...e){let t=-1,n;for(;++t<e.length;)_p(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ece(n)}function ece(e){_p(e);const t=e.codePointAt(0)===47;let n=tce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function tce(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function _p(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const nce={cwd:rce};function rce(){return"/"}function iw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ace(e){if(typeof e=="string")e=new URL(e);else if(!iw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return ice(e)}function ice(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Pv=["history","path","basename","stem","extname","dirname"];class qL{constructor(t){let n;t?iw(t)?n={path:t}:typeof t=="string"||oce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":nce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Pv.length;){const i=Pv[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Pv.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Po.basename(this.path):void 0}set basename(t){Ov(t,"basename"),Tv(t,"basename"),this.path=Po.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Po.dirname(this.path):void 0}set dirname(t){jE(this.basename,"dirname"),this.path=Po.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Po.extname(this.path):void 0}set extname(t){if(Tv(t,"extname"),jE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Po.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){iw(t)&&(t=ace(t)),Ov(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Po.basename(this.path,this.extname):void 0}set stem(t){Ov(t,"stem"),Tv(t,"stem"),this.path=Po.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new ja(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Tv(e,t){if(e&&e.includes(Po.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Po.sep+"`")}function Ov(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function jE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function oce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const sce=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},lce={}.hasOwnProperty;class VS extends sce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Yle()}copy(){const t=new VS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ev(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(_v("data",this.frozen),this.namespace[t]=n,this):lce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(_v("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Em(t),r=this.parser||this.Parser;return Dv("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Dv("process",this.parser||this.Parser),Iv("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=Em(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return c(d);const m=f,h=r.stringify(m,p);dce(h)?p.value=h:p.result=h,c(d,p)});function c(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Dv("processSync",this.parser||this.Parser),Iv("processSync",this.compiler||this.Compiler),this.process(t,a),AE("processSync","process",n),r;function a(i,o){n=!0,vE(i),r=o}}run(t,n,r){CE(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=Em(n);a.run(t,l,c);function c(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),AE("runSync","run",r),a;function i(o,s){vE(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=Em(n),a=this.compiler||this.Compiler;return Iv("stringify",a),CE(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(_v("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(a.settings=Ev(!0,a.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...h]=d;const y=r[p][1];aw(y)&&aw(m)&&(m=Ev(!0,y,m)),r[p]=[c,m,...h]}}}}const cce=new VS().freeze();function Dv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Iv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function _v(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function CE(e){if(!aw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function AE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Em(e){return uce(e)?e:new qL(e)}function uce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function dce(e){return typeof e=="string"||fce(e)}function fce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const pce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ME=[],EE={allowDangerousHtml:!0},mce=/^(https?|ircs?|mailto|xmpp)$/i,hce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function gce(e){const t=yce(e),n=vce(e);return bce(t.runSync(t.parse(n),n),e)}function yce(e){const t=e.rehypePlugins||ME,n=e.remarkPlugins||ME,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...EE}:EE;return cce().use(Zse).use(n).use(Hle,r).use(t)}function vce(e){const t=e.children||"",n=new qL;return typeof t=="string"&&(n.value=t),n}function bce(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||xce;for(const d of hce)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+pce+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),US(e,c),_ie(e,{Fragment:u.Fragment,components:a,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Cv)if(Object.hasOwn(Cv,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],y=Cv[m];(y===null||y.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function xce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||mce.test(e.slice(0,t))?e:""}function PE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function wce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function kce(e,t,n){const r=cy((n||{}).ignore||[]),a=Sce(t);let i=-1;for(;++i<a.length;)VL(e,"text",o);function o(l,c){let d=-1,f;for(;++d<c.length;){const p=c[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,c)}function s(l,c){const d=c[c.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let y=!1,x=[];f.lastIndex=0;let g=f.exec(l.value);for(;g;){const b=g.index,w={index:g.index,input:g.input,stack:[...c,l]};let S=p(...g,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=b+1:(m!==b&&x.push({type:"text",value:l.value.slice(m,b)}),Array.isArray(S)?x.push(...S):S&&x.push(S),m=b+g[0].length,y=!0),!f.global)break;g=f.exec(l.value)}return y?(m<l.value.length&&x.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...x)):x=[l],h+x.length}}function Sce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Nce(a[0]),jce(a[1])])}return t}function Nce(e){return typeof e=="string"?new RegExp(wce(e),"g"):e}function jce(e){return typeof e=="function"?e:function(){return e}}const Lv="phrasing",Fv=["autolink","link","image","label"];function Cce(){return{transforms:[Dce],enter:{literalAutolink:Mce,literalAutolinkEmail:Rv,literalAutolinkHttp:Rv,literalAutolinkWww:Rv},exit:{literalAutolink:Oce,literalAutolinkEmail:Tce,literalAutolinkHttp:Ece,literalAutolinkWww:Pce}}}function Ace(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Lv,notInConstruct:Fv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Lv,notInConstruct:Fv},{character:":",before:"[ps]",after:"\\/",inConstruct:Lv,notInConstruct:Fv}]}}function Mce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Rv(e){this.config.enter.autolinkProtocol.call(this,e)}function Ece(e){this.config.exit.autolinkProtocol.call(this,e)}function Pce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Tce(e){this.config.exit.autolinkEmail.call(this,e)}function Oce(e){this.exit(e)}function Dce(e){kce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Ice],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),_ce]],{ignore:["link","linkReference"]})}function Ice(e,t,n,r,a){let i="";if(!HL(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!Lce(n)))return!1;const o=Fce(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function _ce(e,t,n,r){return!HL(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Lce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Fce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=PE(e,"(");let i=PE(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function HL(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Nc(n)||oy(n))&&(!t||n!==47)}KL.peek=Hce;function Rce(){this.buffer()}function $ce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Bce(){this.buffer()}function zce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Uce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=uo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Vce(e){this.exit(e)}function Wce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=uo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function qce(e){this.exit(e)}function Hce(){return"["}function KL(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function Kce(){return{enter:{gfmFootnoteCallString:Rce,gfmFootnoteCall:$ce,gfmFootnoteDefinitionLabelString:Bce,gfmFootnoteDefinition:zce},exit:{gfmFootnoteCallString:Uce,gfmFootnoteCall:Vce,gfmFootnoteDefinitionLabelString:Wce,gfmFootnoteDefinition:qce}}}function Yce(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:KL},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const c=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?YL:Gce))),c(),l}}function Gce(e,t,n){return t===0?e:YL(e,t,n)}function YL(e,t,n){return(n?"":"    ")+e}const Xce=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];GL.peek=tue;function Qce(){return{canContainEols:["delete"],enter:{strikethrough:Jce},exit:{strikethrough:eue}}}function Zce(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Xce}],handlers:{delete:GL}}}function Jce(e){this.enter({type:"delete",children:[]},e)}function eue(e){this.exit(e)}function GL(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function tue(){return"~"}function nue(e){return e.length}function rue(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||nue,i=[],o=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const y=[],x=[];let g=-1;for(e[d].length>c&&(c=e[d].length);++g<e[d].length;){const b=aue(e[d][g]);if(n.alignDelimiters!==!1){const w=a(b);x[g]=w,(l[g]===void 0||w>l[g])&&(l[g]=w)}y.push(b)}o[d]=y,s[d]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)i[f]=TE(r[f]);else{const y=TE(r);for(;++f<c;)i[f]=y}f=-1;const p=[],m=[];for(;++f<c;){const y=i[f];let x="",g="";y===99?(x=":",g=":"):y===108?x=":":y===114&&(g=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-x.length-g.length);const w=x+"-".repeat(b)+g;n.alignDelimiters!==!1&&(b=x.length+b+g.length,b>l[f]&&(l[f]=b),m[f]=b),p[f]=w}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const y=o[d],x=s[d];f=-1;const g=[];for(;++f<c;){const b=y[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(x[f]||0),j=i[f];j===114?w=" ".repeat(C):j===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&g.push(" "),n.alignDelimiters!==!1&&g.push(w),g.push(b),n.alignDelimiters!==!1&&g.push(S),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&g.push("|")}h.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return h.join(`
`)}function aue(e){return e==null?"":String(e)}function TE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function iue(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),oue);return a(),o}function oue(e,t,n){return">"+(n?"":" ")+e}function sue(e,t){return OE(e,t.inConstruct,!0)&&!OE(e,t.notInConstruct,!1)}function OE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function DE(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&sue(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function lue(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function cue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function uue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function due(e,t,n,r){const a=uue(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(cue(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,fue);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(lue(i,a)+1,3)),c=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),c(),d}function fue(e,t,n){return(n?"":"    ")+e}function WS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function pue(e,t,n,r){const a=WS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),o(),c}function mue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Kf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Tg(e,t,n){const r=Uu(e),a=Uu(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}XL.peek=hue;function XL(e,t,n,r){const a=mue(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Tg(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Kf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Tg(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Kf(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function hue(e,t,n){return n.options.emphasis||"*"}function gue(e,t){let n=!1;return US(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,nw}),!!((!e.depth||e.depth<3)&&_S(e)&&(t.options.setext||n))}function yue(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(gue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(c)&&(c=Kf(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}QL.peek=vue;function QL(e){return e.value||""}function vue(){return"<"}ZL.peek=bue;function ZL(e,t,n,r){const a=WS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),c+=l.move(")"),o(),c}function bue(){return"!"}JL.peek=xue;function JL(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function xue(){return"!"}eF.peek=wue;function eF(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return a+r+a}function wue(){return"`"}function tF(e,t){const n=_S(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}nF.peek=kue;function nF(e,t,n,r){const a=WS(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(tF(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),c+=o.move(" "+a),c+=o.move(n.safe(e.title,{before:c,after:a,...o.current()})),c+=o.move(a),l()),c+=o.move(")"),s(),c}function kue(e,t,n){return tF(e,n)?"<":"["}rF.peek=Sue;function rF(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Sue(){return"["}function qS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Nue(e){const t=qS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function jue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function aF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Cue(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?jue(n):qS(n);const s=e.ordered?o==="."?")":".":Nue(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),aF(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),c}function Aue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Mue(e,t,n,r){const a=Aue(n);let i=n.bulletCurrent||qS(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),d);return l(),c;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function Eue(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const Pue=cy(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Tue(e,t,n,r){return(e.children.some(function(a){return Pue(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Oue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}iF.peek=Due;function iF(e,t,n,r){const a=Oue(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Tg(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Kf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Tg(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Kf(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Due(e,t,n){return n.options.strong||"*"}function Iue(e,t,n,r){return n.safe(e.value,r)}function _ue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Lue(e,t,n){const r=(aF(n)+(n.options.ruleSpaces?" ":"")).repeat(_ue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const oF={blockquote:iue,break:DE,code:due,definition:pue,emphasis:XL,hardBreak:DE,heading:yue,html:QL,image:ZL,imageReference:JL,inlineCode:eF,link:nF,linkReference:rF,list:Cue,listItem:Mue,paragraph:Eue,root:Tue,strong:iF,text:Iue,thematicBreak:Lue};function Fue(){return{enter:{table:Rue,tableData:IE,tableHeader:IE,tableRow:Bue},exit:{codeText:zue,table:$ue,tableData:$v,tableHeader:$v,tableRow:$v}}}function Rue(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function $ue(e){this.exit(e),this.data.inTable=void 0}function Bue(e){this.enter({type:"tableRow",children:[]},e)}function $v(e){this.exit(e)}function IE(e){this.enter({type:"tableCell",children:[]},e)}function zue(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Uue));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Uue(e,t){return t==="|"?t:e}function Vue(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,y,x){return c(d(m,y,x),m.align)}function s(m,h,y,x){const g=f(m,y,x),b=c([g]);return b.slice(0,b.indexOf(`
`))}function l(m,h,y,x){const g=y.enter("tableCell"),b=y.enter("phrasing"),w=y.containerPhrasing(m,{...x,before:i,after:i});return b(),g(),w}function c(m,h){return rue(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,y){const x=m.children;let g=-1;const b=[],w=h.enter("table");for(;++g<x.length;)b[g]=f(x[g],h,y);return w(),b}function f(m,h,y){const x=m.children;let g=-1;const b=[],w=h.enter("tableRow");for(;++g<x.length;)b[g]=l(x[g],m,h,y);return w(),b}function p(m,h,y){let x=oF.inlineCode(m,h,y);return y.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function Wue(){return{exit:{taskListCheckValueChecked:_E,taskListCheckValueUnchecked:_E,paragraph:Hue}}}function que(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Kue}}}function _E(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Hue(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Kue(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=oF.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function Yue(){return[Cce(),Kce(),Qce(),Fue(),Wue()]}function Gue(e){return{extensions:[Ace(),Yce(e),Zce(),Vue(e),que()]}}const Xue={tokenize:nde,partial:!0},sF={tokenize:rde,partial:!0},lF={tokenize:ade,partial:!0},cF={tokenize:ide,partial:!0},Que={tokenize:ode,partial:!0},uF={name:"wwwAutolink",tokenize:ede,previous:fF},dF={name:"protocolAutolink",tokenize:tde,previous:pF},As={name:"emailAutolink",tokenize:Jue,previous:mF},Uo={};function Zue(){return{text:Uo}}let _l=48;for(;_l<123;)Uo[_l]=As,_l++,_l===58?_l=65:_l===91&&(_l=97);Uo[43]=As;Uo[45]=As;Uo[46]=As;Uo[95]=As;Uo[72]=[As,dF];Uo[104]=[As,dF];Uo[87]=[As,uF];Uo[119]=[As,uF];function Jue(e,t,n){const r=this;let a,i;return o;function o(f){return!ow(f)||!mF.call(r,r.previous)||HS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return ow(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(Que,d,c)(f):f===45||f===95||Sa(f)?(i=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&Ia(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function ede(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!fF.call(r,r.previous)||HS(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Xue,e.attempt(sF,e.attempt(lF,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function tde(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&pF.call(r,r.previous)&&!HS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Ia(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?c:(i=!0,l)):n(f)}function c(f){return f===null||Mg(f)||Ln(f)||Nc(f)||oy(f)?n(f):e.attempt(sF,e.attempt(lF,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function nde(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function rde(e,t,n){let r,a,i;return o;function o(c){return c===46||c===95?e.check(cF,l,s)(c):c===null||Ln(c)||Nc(c)||c!==45&&oy(c)?l(c):(i=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(a=r,r=void 0),e.consume(c),o}function l(c){return a||r||!i?n(c):t(c)}}function ade(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(cF,t,i)(o):o===null||Ln(o)||Nc(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function ide(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Ln(s)||Nc(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Ln(s)||Nc(s)?t(s):r(s)}function i(s){return Ia(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Ia(s)?(e.consume(s),o):n(s)}}function ode(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Sa(i)?n(i):t(i)}}function fF(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ln(e)}function pF(e){return!Ia(e)}function mF(e){return!(e===47||ow(e))}function ow(e){return e===43||e===45||e===46||e===95||Sa(e)}function HS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const sde={tokenize:hde,partial:!0};function lde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:fde,continuation:{tokenize:pde},exit:mde}},text:{91:{name:"gfmFootnoteCall",tokenize:dde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:cde,resolveTo:ude}}}}function cde(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=uo(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!i.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function ude(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function dde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(i>999||f===93&&!o||f===null||f===91||Ln(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(uo(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Ln(f)||(o=!0),i++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,c):c(f)}}function fde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||Ln(h))return n(h);if(h===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return i=uo(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Ln(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),gn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function pde(e,t,n){return e.check(Ip,t,e.attempt(sde,t,n))}function mde(e){e.exit("gfmFootnoteDefinition")}function hde(e,t,n){const r=this;return gn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function gde(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",c,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&wi(f,f.length,0,sy(p,i.slice(l+1,s),o)),wi(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",c,o]]),wi(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,c=this.events;let d=0;return f;function f(m){return l===126&&c[c.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=Uu(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const y=i.exit("strikethroughSequenceTemporary"),x=Uu(m);return y._open=!x||x===2&&!!h,y._close=!h||h===2&&!!x,o(m)}}}class yde{constructor(){this.map=[]}add(t,n,r){vde(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function vde(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function bde(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function xde(){return{flow:{null:{name:"table",tokenize:wde,resolveAll:kde}}}}function wde(e,t,n){const r=this;let a=0,i=0,o;return s;function s(E){let P=r.events.length-1;for(;P>-1;){const Y=r.events[P][1].type;if(Y==="lineEnding"||Y==="linePrefix")P--;else break}const I=P>-1?r.events[P][1].type:null,U=I==="tableHead"||I==="tableRow"?j:l;return U===j&&r.parser.lazy[r.now().line]?n(E):U(E)}function l(E){return e.enter("tableHead"),e.enter("tableRow"),c(E)}function c(E){return E===124||(o=!0,i+=1),d(E)}function d(E){return E===null?n(E):_t(E)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),m):n(E):rn(E)?gn(e,d,"whitespace")(E):(i+=1,o&&(o=!1,a+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(E)))}function f(E){return E===null||E===124||Ln(E)?(e.exit("data"),d(E)):(e.consume(E),E===92?p:f)}function p(E){return E===92||E===124?(e.consume(E),f):f(E)}function m(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),o=!1,rn(E)?gn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):h(E))}function h(E){return E===45||E===58?x(E):E===124?(o=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),y):C(E)}function y(E){return rn(E)?gn(e,x,"whitespace")(E):x(E)}function x(E){return E===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),g):E===45?(i+=1,g(E)):E===null||_t(E)?S(E):C(E)}function g(E){return E===45?(e.enter("tableDelimiterFiller"),b(E)):C(E)}function b(E){return E===45?(e.consume(E),b):E===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(E))}function w(E){return rn(E)?gn(e,S,"whitespace")(E):S(E)}function S(E){return E===124?h(E):E===null||_t(E)?!o||a!==i?C(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):C(E)}function C(E){return n(E)}function j(E){return e.enter("tableRow"),A(E)}function A(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),A):E===null||_t(E)?(e.exit("tableRow"),t(E)):rn(E)?gn(e,A,"whitespace")(E):(e.enter("data"),T(E))}function T(E){return E===null||E===124||Ln(E)?(e.exit("data"),A(E)):(e.consume(E),E===92?L:T)}function L(E){return E===92||E===124?(e.consume(E),T):T(E)}}function kde(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,d,f;const p=new yde;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&(LE(p,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",c,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Pm(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=Pm(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Pm(p,t,i,a,n,f)):o[1]!==0&&(f=Pm(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&LE(p,t,l,c,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=bde(t.events,n))}return e}function Pm(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},Gc(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Gc(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const c=Gc(t.events,n[2]),d=Gc(t.events,n[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,y=n[3]-n[2]-1;e.add(h,y,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},Gc(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function LE(e,t,n,r,a){const i=[],o=Gc(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function Gc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Sde={name:"tasklistCheck",tokenize:jde};function Nde(){return{text:{91:Sde}}}function jde(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Ln(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return _t(l)?t(l):rn(l)?e.check({tokenize:Cde},t,n)(l):n(l)}}function Cde(e,t,n){return gn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Ade(e){return NL([Zue(),lde(),gde(e),xde(),Nde()])}const Mde={};function Ede(e){const t=this,n=e||Mde,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Ade(n)),i.push(Yue()),o.push(Gue(n))}const Bv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',hF=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),dy=v.createContext({}),KS=v.createContext(null),fy=typeof document<"u",Pde=fy?v.useLayoutEffect:v.useEffect,gF=v.createContext({strict:!1}),YS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Tde="framerAppearId",yF="data-"+YS(Tde);function Ode(e,t,n,r){const{visualElement:a}=v.useContext(dy),i=v.useContext(gF),o=v.useContext(KS),s=v.useContext(hF).reducedMotion,l=v.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,o)});const d=v.useRef(!!(n[yF]&&!window.HandoffComplete));return Pde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function uu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Dde(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):uu(n)&&(n.current=r))},[t])}function Yf(e){return typeof e=="string"||Array.isArray(e)}function py(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const GS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],XS=["initial",...GS];function my(e){return py(e.animate)||XS.some(t=>Yf(e[t]))}function vF(e){return!!(my(e)||e.variants)}function Ide(e,t){if(my(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Yf(n)?n:void 0,animate:Yf(r)?r:void 0}}return e.inherit!==!1?t:{}}function _de(e){const{initial:t,animate:n}=Ide(e,v.useContext(dy));return v.useMemo(()=>({initial:t,animate:n}),[FE(t),FE(n)])}function FE(e){return Array.isArray(e)?e.join(" "):e}const RE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gf={};for(const e in RE)Gf[e]={isEnabled:t=>RE[e].some(n=>!!t[n])};function Lde(e){for(const t in e)Gf[t]={...Gf[t],...e[t]}}const bF=v.createContext({}),xF=v.createContext({}),Fde=Symbol.for("motionComponentSymbol");function Rde({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&Lde(e);function i(s,l){let c;const d={...v.useContext(hF),...s,layoutId:$de(s)},{isStatic:f}=d,p=_de(s),m=r(s,f);if(!f&&fy){p.visualElement=Ode(a,m,d,t);const h=v.useContext(xF),y=v.useContext(gF).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,y,e,h))}return v.createElement(dy.Provider,{value:p},c&&p.visualElement?v.createElement(c,{visualElement:p.visualElement,...d}):null,n(a,s,Dde(m,p.visualElement,l),m,f,p.visualElement))}const o=v.forwardRef(i);return o[Fde]=a,o}function $de({layoutId:e}){const t=v.useContext(bF).id;return t&&e!==void 0?t+"-"+e:e}function Bde(e){function t(r,a={}){return Rde(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const zde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QS(e){return typeof e!="string"||e.includes("-")?!1:!!(zde.indexOf(e)>-1||/[A-Z]/.test(e))}const Og={};function Ude(e){Object.assign(Og,e)}const Lp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pc=new Set(Lp);function wF(e,{layout:t,layoutId:n}){return Pc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Og[e]||e==="opacity")}const ni=e=>!!(e&&e.getVelocity),Vde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Wde=Lp.length;function qde(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<Wde;o++){const s=Lp[o];if(e[s]!==void 0){const l=Vde[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const kF=e=>t=>typeof t=="string"&&t.startsWith(e),SF=kF("--"),sw=kF("var(--"),Hde=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Kde=(e,t)=>t&&typeof e=="number"?t.transform(e):e,hl=(e,t,n)=>Math.min(Math.max(n,e),t),Tc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tf={...Tc,transform:e=>hl(0,1,e)},Tm={...Tc,default:1},nf=e=>Math.round(e*1e5)/1e5,hy=/(-)?([\d]*\.?[\d])+/g,NF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Yde=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Fp(e){return typeof e=="string"}const Rp=e=>({test:t=>Fp(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zs=Rp("deg"),Fo=Rp("%"),Ut=Rp("px"),Gde=Rp("vh"),Xde=Rp("vw"),$E={...Fo,parse:e=>Fo.parse(e)/100,transform:e=>Fo.transform(e*100)},BE={...Tc,transform:Math.round},jF={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,size:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,rotate:zs,rotateX:zs,rotateY:zs,rotateZ:zs,scale:Tm,scaleX:Tm,scaleY:Tm,scaleZ:Tm,skew:zs,skewX:zs,skewY:zs,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:tf,originX:$E,originY:$E,originZ:Ut,zIndex:BE,fillOpacity:tf,strokeOpacity:tf,numOctaves:BE};function ZS(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,c=!1,d=!0;for(const f in t){const p=t[f];if(SF(f)){i[f]=p;continue}const m=jF[f],h=Kde(p,m);if(Pc.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=qde(e.transform,n,d,r):a.transform&&(a.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const JS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CF(e,t,n){for(const r in t)!ni(t[r])&&!wF(r,n)&&(e[r]=t[r])}function Qde({transformTemplate:e},t,n){return v.useMemo(()=>{const r=JS();return ZS(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Zde(e,t,n){const r=e.style||{},a={};return CF(a,r,e),Object.assign(a,Qde(e,t,n)),e.transformValues?e.transformValues(a):a}function Jde(e,t,n){const r={},a=Zde(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const efe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||efe.has(e)}let AF=e=>!Dg(e);function tfe(e){e&&(AF=t=>t.startsWith("on")?!Dg(t):e(t))}try{tfe(require("@emotion/is-prop-valid").default)}catch{}function nfe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(AF(a)||n===!0&&Dg(a)||!t&&!Dg(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function zE(e,t,n){return typeof e=="string"?e:Ut.transform(t+n*e)}function rfe(e,t,n){const r=zE(t,e.x,e.width),a=zE(n,e.y,e.height);return`${r} ${a}`}const afe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ife={offset:"strokeDashoffset",array:"strokeDasharray"};function ofe(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?afe:ife;e[i.offset]=Ut.transform(-r);const o=Ut.transform(t),s=Ut.transform(n);e[i.array]=`${o} ${s}`}function eN(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},d,f,p){if(ZS(e,c,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:y}=e;m.transform&&(y&&(h.transform=m.transform),delete m.transform),y&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=rfe(y,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&ofe(m,o,s,l,!1)}const MF=()=>({...JS(),attrs:{}}),tN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function sfe(e,t,n,r){const a=v.useMemo(()=>{const i=MF();return eN(i,t,{enableHardwareAcceleration:!1},tN(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};CF(i,e.style,e),a.style={...i,...a.style}}return a}function lfe(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(QS(t)?sfe:Jde)(n,a,i,t),s={...nfe(n,typeof t=="string",e),...o,ref:r},{children:l}=n,c=v.useMemo(()=>ni(l)?l.get():l,[l]);return v.createElement(t,{...s,children:c})}}function EF(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const PF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TF(e,t,n,r){EF(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(PF.has(a)?a:YS(a),t.attrs[a])}function nN(e,t){const{style:n}=e,r={};for(const a in n)(ni(n[a])||t.style&&ni(t.style[a])||wF(a,e))&&(r[a]=n[a]);return r}function OF(e,t){const n=nN(e,t);for(const r in e)if(ni(e[r])||ni(t[r])){const a=Lp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function rN(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function cfe(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ig=e=>Array.isArray(e),ufe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),dfe=e=>Ig(e)?e[e.length-1]||0:e;function ah(e){const t=ni(e)?e.get():e;return ufe(t)?t.toValue():t}function ffe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:pfe(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const DF=e=>(t,n)=>{const r=v.useContext(dy),a=v.useContext(KS),i=()=>ffe(e,t,r,a);return n?i():cfe(i)};function pfe(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=ah(i[p]);let{initial:o,animate:s}=e;const l=my(e),c=vF(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!py(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=rN(e,p);if(!m)return;const{transitionEnd:h,transition:y,...x}=m;for(const g in x){let b=x[g];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(a[g]=b)}for(const g in h)a[g]=h[g]}),a}const Pr=e=>e;class UE{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function mfe(e){let t=new UE,n=new UE,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,c=!1,d=!1)=>{const f=d&&a,p=f?t:n;return c&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const Om=["prepare","read","update","preRender","render","postRender"],hfe=40;function gfe(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Om.reduce((c,d)=>(c[d]=mfe(()=>n=!0),c),{}),o=c=>i[c].process(a),s=()=>{const c=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(c-a.timestamp,hfe),1),a.timestamp=c,a.isProcessing=!0,Om.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:Om.reduce((c,d)=>{const f=i[d];return c[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),c},{}),cancel:c=>Om.forEach(d=>i[d].cancel(c)),state:a,steps:i}}const{schedule:tr,cancel:vs,state:ya,steps:zv}=gfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pr,!0),yfe={useVisualState:DF({scrapeMotionValuesFromProps:OF,createRenderState:MF,onMount:(e,t,{renderState:n,latestValues:r})=>{tr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),tr.render(()=>{eN(n,r,{enableHardwareAcceleration:!1},tN(t.tagName),e.transformTemplate),TF(t,n)})}})},vfe={useVisualState:DF({scrapeMotionValuesFromProps:nN,createRenderState:JS})};function bfe(e,{forwardMotionProps:t=!1},n,r){return{...QS(e)?yfe:vfe,preloadedFeatures:n,useRender:lfe(t),createVisualElement:r,Component:e}}function ns(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const IF=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function gy(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const xfe=e=>t=>IF(t)&&e(t,gy(t));function os(e,t,n,r){return ns(e,t,xfe(n),r)}const wfe=(e,t)=>n=>t(e(n)),ul=(...e)=>e.reduce(wfe);function _F(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const VE=_F("dragHorizontal"),WE=_F("dragVertical");function LF(e){let t=!1;if(e==="y")t=WE();else if(e==="x")t=VE();else{const n=VE(),r=WE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function FF(){const e=LF(!0);return e?(e(),!1):!0}class jl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function qE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||FF())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&tr.update(()=>s[r](i,o))};return os(e.current,n,a,{passive:!e.getProps()[r]})}class kfe extends jl{mount(){this.unmount=ul(qE(this.node,!0),qE(this.node,!1))}unmount(){}}class Sfe extends jl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ul(ns(this.node.current,"focus",()=>this.onFocus()),ns(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const RF=(e,t)=>t?e===t?!0:RF(e,t.parentElement):!1;function Uv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,gy(n))}class Nfe extends jl{constructor(){super(...arguments),this.removeStartListeners=Pr,this.removeEndListeners=Pr,this.removeAccessibleListeners=Pr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=os(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c,globalTapTarget:d}=this.node.getProps();tr.update(()=>{!d&&!RF(this.node.current,o.target)?c&&c(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=os(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ul(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Uv("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&tr.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=ns(this.node.current,"keyup",o),Uv("down",(s,l)=>{this.startPress(s,l)})},n=ns(this.node.current,"keydown",t),r=()=>{this.isPressing&&Uv("cancel",(i,o)=>this.cancelPress(i,o))},a=ns(this.node.current,"blur",r);this.removeAccessibleListeners=ul(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!FF()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&tr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=os(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ns(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ul(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const lw=new WeakMap,Vv=new WeakMap,jfe=e=>{const t=lw.get(e.target);t&&t(e)},Cfe=e=>{e.forEach(jfe)};function Afe({root:e,...t}){const n=e||document;Vv.has(n)||Vv.set(n,{});const r=Vv.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Cfe,{root:e,...t})),r[a]}function Mfe(e,t,n){const r=Afe(t);return lw.set(e,n),r.observe(e),()=>{lw.delete(e),r.unobserve(e)}}const Efe={some:0,all:1};class Pfe extends jl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Efe[a]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return Mfe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Tfe(t,n))&&this.startObserver()}unmount(){}}function Tfe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ofe={inView:{Feature:Pfe},tap:{Feature:Nfe},focus:{Feature:Sfe},hover:{Feature:kfe}};function $F(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Dfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Ife(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function yy(e,t,n){const r=e.getProps();return rN(r,t,n!==void 0?n:r.custom,Dfe(e),Ife(e))}let aN=Pr;const lc=e=>e*1e3,ss=e=>e/1e3,_fe={current:!1},BF=e=>Array.isArray(e)&&typeof e[0]=="number";function zF(e){return!!(!e||typeof e=="string"&&UF[e]||BF(e)||Array.isArray(e)&&e.every(zF))}const Bd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,UF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bd([0,.65,.55,1]),circOut:Bd([.55,0,1,.45]),backIn:Bd([.31,.01,.66,-.59]),backOut:Bd([.33,1.53,.69,.99])};function VF(e){if(e)return BF(e)?Bd(e):Array.isArray(e)?e.map(VF):UF[e]}function Lfe(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=VF(s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Ffe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const WF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Rfe=1e-7,$fe=12;function Bfe(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=WF(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>Rfe&&++s<$fe);return o}function $p(e,t,n,r){if(e===t&&n===r)return Pr;const a=i=>Bfe(i,0,1,e,n);return i=>i===0||i===1?i:WF(a(i),t,r)}const zfe=$p(.42,0,1,1),Ufe=$p(0,0,.58,1),qF=$p(.42,0,.58,1),Vfe=e=>Array.isArray(e)&&typeof e[0]!="number",HF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,KF=e=>t=>1-e(1-t),iN=e=>1-Math.sin(Math.acos(e)),YF=KF(iN),Wfe=HF(iN),GF=$p(.33,1.53,.69,.99),oN=KF(GF),qfe=HF(oN),Hfe=e=>(e*=2)<1?.5*oN(e):.5*(2-Math.pow(2,-10*(e-1))),Kfe={linear:Pr,easeIn:zfe,easeInOut:qF,easeOut:Ufe,circIn:iN,circInOut:Wfe,circOut:YF,backIn:oN,backInOut:qfe,backOut:GF,anticipate:Hfe},HE=e=>{if(Array.isArray(e)){aN(e.length===4);const[t,n,r,a]=e;return $p(t,n,r,a)}else if(typeof e=="string")return Kfe[e];return e},sN=(e,t)=>n=>!!(Fp(n)&&Yde.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),XF=(e,t,n)=>r=>{if(!Fp(r))return r;const[a,i,o,s]=r.match(hy);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},Yfe=e=>hl(0,255,e),Wv={...Tc,transform:e=>Math.round(Yfe(e))},ec={test:sN("rgb","red"),parse:XF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Wv.transform(e)+", "+Wv.transform(t)+", "+Wv.transform(n)+", "+nf(tf.transform(r))+")"};function Gfe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const cw={test:sN("#"),parse:Gfe,transform:ec.transform},du={test:sN("hsl","hue"),parse:XF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Fo.transform(nf(t))+", "+Fo.transform(nf(n))+", "+nf(tf.transform(r))+")"},Oa={test:e=>ec.test(e)||cw.test(e)||du.test(e),parse:e=>ec.test(e)?ec.parse(e):du.test(e)?du.parse(e):cw.parse(e),transform:e=>Fp(e)?e:e.hasOwnProperty("red")?ec.transform(e):du.transform(e)},fr=(e,t,n)=>-n*e+n*t+e;function qv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Xfe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=qv(l,s,e+1/3),i=qv(l,s,e),o=qv(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Hv=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Qfe=[cw,ec,du],Zfe=e=>Qfe.find(t=>t.test(e));function KE(e){const t=Zfe(e);let n=t.parse(e);return t===du&&(n=Xfe(n)),n}const QF=(e,t)=>{const n=KE(e),r=KE(t),a={...n};return i=>(a.red=Hv(n.red,r.red,i),a.green=Hv(n.green,r.green,i),a.blue=Hv(n.blue,r.blue,i),a.alpha=fr(n.alpha,r.alpha,i),ec.transform(a))};function Jfe(e){var t,n;return isNaN(e)&&Fp(e)&&(((t=e.match(hy))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(NF))===null||n===void 0?void 0:n.length)||0)>0}const ZF={regex:Hde,countKey:"Vars",token:"${v}",parse:Pr},JF={regex:NF,countKey:"Colors",token:"${c}",parse:Oa.parse},eR={regex:hy,countKey:"Numbers",token:"${n}",parse:Tc.parse};function Kv(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function _g(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Kv(n,ZF),Kv(n,JF),Kv(n,eR),n}function tR(e){return _g(e).values}function nR(e){const{values:t,numColors:n,numVars:r,tokenised:a}=_g(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(ZF.token,o[l]):l<r+n?s=s.replace(JF.token,Oa.transform(o[l])):s=s.replace(eR.token,nf(o[l]));return s}}const epe=e=>typeof e=="number"?0:e;function tpe(e){const t=tR(e);return nR(e)(t.map(epe))}const gl={test:Jfe,parse:tR,createTransformer:nR,getAnimatableNone:tpe},rR=(e,t)=>n=>`${n>0?t:e}`;function aR(e,t){return typeof e=="number"?n=>fr(e,t,n):Oa.test(e)?QF(e,t):e.startsWith("var(")?rR(e,t):oR(e,t)}const iR=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>aR(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},npe=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=aR(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},oR=(e,t)=>{const n=gl.createTransformer(t),r=_g(e),a=_g(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?ul(iR(r.values,a.values),n):rR(e,t)},Xf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},YE=(e,t)=>n=>fr(e,t,n);function rpe(e){return typeof e=="number"?YE:typeof e=="string"?Oa.test(e)?QF:oR:Array.isArray(e)?iR:typeof e=="object"?npe:YE}function ape(e,t,n){const r=[],a=n||rpe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Pr:t;s=ul(l,s)}r.push(s)}return r}function sR(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(aN(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=ape(t,r,a),s=o.length,l=c=>{let d=0;if(s>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Xf(e[d],e[d+1],c);return o[d](f)};return n?c=>l(hl(e[0],e[i-1],c)):l}function ipe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Xf(0,t,r);e.push(fr(n,1,a))}}function ope(e){const t=[0];return ipe(t,e.length-1),t}function spe(e,t){return e.map(n=>n*t)}function lpe(e,t){return e.map(()=>t||qF).splice(0,e.length-1)}function Lg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Vfe(r)?r.map(HE):HE(r),i={done:!1,value:t[0]},o=spe(n&&n.length===t.length?n:ope(t),e),s=sR(o,t,{ease:Array.isArray(a)?a:lpe(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function lR(e,t){return t?e*(1e3/t):0}const cpe=5;function cR(e,t,n){const r=Math.max(t-cpe,0);return lR(n-e(r),t-r)}const Yv=.001,upe=.01,dpe=10,fpe=.05,ppe=1;function mpe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=hl(fpe,ppe,o),e=hl(upe,dpe,ss(e)),o<1?(a=c=>{const d=c*o,f=d*e,p=d-n,m=uw(c,o),h=Math.exp(-f);return Yv-p/m*h},i=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),h=uw(Math.pow(c,2),o);return(-a(c)+Yv>0?-1:1)*((f-p)*m)/h}):(a=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-Yv+d*f},i=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const s=5/e,l=gpe(a,i,s);if(e=lc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const hpe=12;function gpe(e,t,n){let r=n;for(let a=1;a<hpe;a++)r=r-e(r)/t(r);return r}function uw(e,t){return e*Math.sqrt(1-t*t)}const ype=["duration","bounce"],vpe=["stiffness","damping","mass"];function GE(e,t){return t.some(n=>e[n]!==void 0)}function bpe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!GE(e,vpe)&&GE(e,ype)){const n=mpe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function uR({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=bpe({...r,velocity:-ss(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*c)),y=i-a,x=ss(Math.sqrt(s/c)),g=Math.abs(y)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let b;if(h<1){const w=uw(x,h);b=S=>{const C=Math.exp(-h*x*S);return i-C*((m+h*x*y)/w*Math.sin(w*S)+y*Math.cos(w*S))}}else if(h===1)b=w=>i-Math.exp(-x*w)*(y+(m+x*y)*w);else{const w=x*Math.sqrt(h*h-1);b=S=>{const C=Math.exp(-h*x*S),j=Math.min(w*S,300);return i-C*((m+h*x*y)*Math.sinh(j)+w*y*Math.cosh(j))/w}}return{calculatedDuration:p&&d||null,next:w=>{const S=b(w);if(p)o.done=w>=d;else{let C=m;w!==0&&(h<1?C=cR(b,w,S):C=0);const j=Math.abs(C)<=n,A=Math.abs(i-S)<=t;o.done=j&&A}return o.value=o.done?i:S,o}}}function XE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=T=>s!==void 0&&T<s||l!==void 0&&T>l,h=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let y=n*t;const x=f+y,g=o===void 0?x:o(x);g!==x&&(y=g-f);const b=T=>-y*Math.exp(-T/r),w=T=>g+b(T),S=T=>{const L=b(T),E=w(T);p.done=Math.abs(L)<=c,p.value=p.done?g:E};let C,j;const A=T=>{m(p.value)&&(C=T,j=uR({keyframes:[p.value,h(p.value)],velocity:cR(w,T,p.value),damping:a,stiffness:i,restDelta:c,restSpeed:d}))};return A(0),{calculatedDuration:null,next:T=>{let L=!1;return!j&&C===void 0&&(L=!0,S(T),A(T)),C!==void 0&&T>C?j.next(T-C):(!L&&S(T),p)}}}const xpe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>tr.update(t,!0),stop:()=>vs(t),now:()=>ya.isProcessing?ya.timestamp:performance.now()}},QE=2e4;function ZE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<QE;)t+=n,r=e.next(t);return t>=QE?1/0:t}const wpe={decay:XE,inertia:XE,tween:Lg,keyframes:Lg,spring:uR};function Fg({autoplay:e=!0,delay:t=0,driver:n=xpe,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,y,x;const g=()=>{x=new Promise(O=>{y=O})};g();let b;const w=wpe[a]||Lg;let S;w!==Lg&&typeof r[0]!="number"&&(S=sR([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...p,keyframes:r});let j;s==="mirror"&&(j=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let A="idle",T=null,L=null,E=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=ZE(C));const{calculatedDuration:P}=C;let I=1/0,U=1/0;P!==null&&(I=P+o,U=I*(i+1)-o);let Y=0;const ee=O=>{if(L===null)return;m>0&&(L=Math.min(L,O)),m<0&&(L=Math.min(O-U/m,L)),T!==null?Y=T:Y=Math.round(O-L)*m;const M=Y-t*(m>=0?1:-1),N=m>=0?M<0:M>U;Y=Math.max(M,0),A==="finished"&&T===null&&(Y=U);let V=Y,Q=C;if(i){const _=Math.min(Y,U)/I;let ne=Math.floor(_),ge=_%1;!ge&&_>=1&&(ge=1),ge===1&&ne--,ne=Math.min(ne,i+1),ne%2&&(s==="reverse"?(ge=1-ge,o&&(ge-=o/I)):s==="mirror"&&(Q=j)),V=hl(0,1,ge)*I}const H=N?{done:!1,value:r[0]}:Q.next(V);S&&(H.value=S(H.value));let{done:G}=H;!N&&P!==null&&(G=m>=0?Y>=U:Y<=0);const J=T===null&&(A==="finished"||A==="running"&&G);return f&&f(H.value),J&&B(),H},ce=()=>{b&&b.stop(),b=void 0},$=()=>{A="idle",ce(),y(),g(),L=E=null},B=()=>{A="finished",d&&d(),ce(),y()},re=()=>{if(h)return;b||(b=n(ee));const O=b.now();l&&l(),T!==null?L=O-T:(!L||A==="finished")&&(L=O),A==="finished"&&g(),E=L,T=null,A="running",b.start()};e&&re();const k={then(O,M){return x.then(O,M)},get time(){return ss(Y)},set time(O){O=lc(O),Y=O,T!==null||!b||m===0?T=O:L=b.now()-O/m},get duration(){const O=C.calculatedDuration===null?ZE(C):C.calculatedDuration;return ss(O)},get speed(){return m},set speed(O){O===m||!b||(m=O,k.time=ss(Y))},get state(){return A},play:re,pause:()=>{A="paused",T=Y},stop:()=>{h=!0,A!=="idle"&&(A="idle",c&&c(),$())},cancel:()=>{E!==null&&ee(E),$()},complete:()=>{A="finished"},sample:O=>(L=0,ee(O))};return k}function kpe(e){let t;return()=>(t===void 0&&(t=e()),t)}const Spe=kpe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Npe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Dm=10,jpe=2e4,Cpe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!zF(t.ease);function Ape(e,t,{onUpdate:n,onComplete:r,...a}){if(!(Spe()&&Npe.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const c=()=>{s=new Promise(g=>{o=g})};c();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if(Cpe(t,a)){const g=Fg({...a,repeat:0,delay:0});let b={done:!1,value:d[0]};const w=[];let S=0;for(;!b.done&&S<jpe;)b=g.sample(S),w.push(b.value),S+=Dm;m=void 0,d=w,f=S-Dm,p="linear"}const h=Lfe(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),y=()=>{l=!1,h.cancel()},x=()=>{l=!0,tr.update(y),o(),c()};return h.onfinish=()=>{l||(e.set(Ffe(d,a)),r&&r(),x())},{then(g,b){return s.then(g,b)},attachTimeline(g){return h.timeline=g,h.onfinish=null,Pr},get time(){return ss(h.currentTime||0)},set time(g){h.currentTime=lc(g)},get speed(){return h.playbackRate},set speed(g){h.playbackRate=g},get duration(){return ss(f)},play:()=>{i||(h.play(),vs(y))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:g}=h;if(g){const b=Fg({...a,autoplay:!1});e.setWithVelocity(b.sample(g-Dm).value,b.sample(g).value,Dm)}x()},complete:()=>{l||h.finish()},cancel:x}}function Mpe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Pr,pause:Pr,stop:Pr,then:i=>(i(),Promise.resolve()),cancel:Pr,complete:Pr});return t?Fg({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Epe={type:"spring",stiffness:500,damping:25,restSpeed:10},Ppe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Tpe={type:"keyframes",duration:.8},Ope={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dpe=(e,{keyframes:t})=>t.length>2?Tpe:Pc.has(e)?e.startsWith("scale")?Ppe(t[1]):Epe:Ope,dw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gl.test(t)||t==="0")&&!t.startsWith("url(")),Ipe=new Set(["brightness","contrast","saturate","opacity"]);function _pe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hy)||[];if(!r)return e;const a=n.replace(r,"");let i=Ipe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Lpe=/([a-z-]*)\(.*?\)/g,fw={...gl,getAnimatableNone:e=>{const t=e.match(Lpe);return t?t.map(_pe).join(" "):e}},Fpe={...jF,color:Oa,backgroundColor:Oa,outlineColor:Oa,fill:Oa,stroke:Oa,borderColor:Oa,borderTopColor:Oa,borderRightColor:Oa,borderBottomColor:Oa,borderLeftColor:Oa,filter:fw,WebkitFilter:fw},lN=e=>Fpe[e];function dR(e,t){let n=lN(e);return n!==fw&&(n=gl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const fR=e=>/^0[^.\s]+$/.test(e);function Rpe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||fR(e)}function $pe(e,t,n,r){const a=dw(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),Rpe(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(s=i[c]);if(a&&l.length&&s)for(let c=0;c<l.length;c++){const d=l[c];i[d]=dR(t,s)}return i}function Bpe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function cN(e,t){return e[t]||e.default||e}const zpe={skipAnimations:!1},uN=(e,t,n,r={})=>a=>{const i=cN(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-lc(o);const l=$pe(t,e,n,i),c=l[0],d=l[l.length-1],f=dw(e,c),p=dw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(Bpe(i)||(m={...m,...Dpe(e,m)}),m.duration&&(m.duration=lc(m.duration)),m.repeatDelay&&(m.repeatDelay=lc(m.repeatDelay)),!f||!p||_fe.current||i.type===!1||zpe.skipAnimations)return Mpe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=Ape(t,e,m);if(h)return h}return Fg(m)};function Rg(e){return!!(ni(e)&&e.add)}const pR=e=>/^\-?\d*\.?\d+$/.test(e);function dN(e,t){e.indexOf(t)===-1&&e.push(t)}function fN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class pN{constructor(){this.subscriptions=[]}add(t){return dN(this.subscriptions,t),()=>fN(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Upe=e=>!isNaN(parseFloat(e));class Vpe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=ya;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,tr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Upe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new pN);const r=this.events[t].add(n);return t==="change"?()=>{r(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?lR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vu(e,t){return new Vpe(e,t)}const mR=e=>t=>t.test(e),Wpe={test:e=>e==="auto",parse:e=>e},hR=[Tc,Ut,Fo,zs,Xde,Gde,Wpe],Od=e=>hR.find(mR(e)),qpe=[...hR,Oa,gl],Hpe=e=>qpe.find(mR(e));function Kpe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Vu(n))}function Ype(e,t){const n=yy(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=dfe(i[o]);Kpe(e,o,s)}}function Gpe(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&(pR(d)||fR(d))?d=parseFloat(d):!Hpe(d)&&gl.test(c)&&(d=dR(l,c)),e.addValue(l,Vu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function Xpe(e,t){return t?(t[e]||t.default||t).from:void 0}function Qpe(e,t,n){const r={};for(const a in e){const i=Xpe(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function Zpe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Jpe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function gR(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&Zpe(d,f))continue;const h={delay:n,elapsed:0,...cN(i||{},f)};if(window.HandoffAppearAnimations){const g=e.getProps()[yF];if(g){const b=window.HandoffAppearAnimations(g,f,p,tr);b!==null&&(h.elapsed=b,h.isHandoff=!0)}}let y=!h.isHandoff&&!Jpe(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(uN(f,p,m,e.shouldReduceMotion&&Pc.has(f)?{type:!1}:h));const x=p.animation;Rg(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&Ype(e,o)}),c}function pw(e,t,n={}){const r=yy(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(gR(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=a;return eme(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,c]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function eme(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(e.variantChildren).sort(tme).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(pw(c,t,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function tme(e,t){return e.sortNodePosition(t)}function nme(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>pw(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=pw(e,t,n);else{const a=typeof t=="function"?yy(e,t,n.custom):t;r=Promise.all(gR(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const rme=[...GS].reverse(),ame=GS.length;function ime(e){return t=>Promise.all(t.map(({animation:n,options:r})=>nme(e,n,r)))}function ome(e){let t=ime(e);const n=lme();let r=!0;const a=(l,c)=>{const d=yy(e,c);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},y=1/0;for(let g=0;g<ame;g++){const b=rme[g],w=n[b],S=d[b]!==void 0?d[b]:f[b],C=Yf(S),j=b===c?w.isActive:null;j===!1&&(y=g);let A=S===f[b]&&S!==d[b]&&C;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...h},!w.isActive&&j===null||!S&&!w.prevProp||py(S)||typeof S=="boolean")continue;let T=sme(w.prevProp,S)||b===c&&w.isActive&&!A&&C||g>y&&C,L=!1;const E=Array.isArray(S)?S:[S];let P=E.reduce(a,{});j===!1&&(P={});const{prevResolvedValues:I={}}=w,U={...I,...P},Y=ee=>{T=!0,m.has(ee)&&(L=!0,m.delete(ee)),w.needsAnimating[ee]=!0};for(const ee in U){const ce=P[ee],$=I[ee];if(h.hasOwnProperty(ee))continue;let B=!1;Ig(ce)&&Ig($)?B=!$F(ce,$):B=ce!==$,B?ce!==void 0?Y(ee):m.add(ee):ce!==void 0&&m.has(ee)?Y(ee):w.protectedKeys[ee]=!0}w.prevProp=S,w.prevResolvedValues=P,w.isActive&&(h={...h,...P}),r&&e.blockInitialAnimation&&(T=!1),T&&(!A||L)&&p.push(...E.map(ee=>({animation:ee,options:{type:b,...l}})))}if(m.size){const g={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(g[b]=w)}),p.push({animation:g})}let x=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(p):Promise.resolve()}function s(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function sme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$F(t,e):!1}function Ll(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lme(){return{animate:Ll(!0),whileInView:Ll(),whileHover:Ll(),whileTap:Ll(),whileDrag:Ll(),whileFocus:Ll(),exit:Ll()}}class cme extends jl{constructor(t){super(t),t.animationState||(t.animationState=ome(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),py(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let ume=0;class dme extends jl{constructor(){super(...arguments),this.id=ume++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const fme={animation:{Feature:cme},exit:{Feature:dme}},JE=(e,t)=>Math.abs(e-t);function pme(e,t){const n=JE(e.x,t.x),r=JE(e.y,t.y);return Math.sqrt(n**2+r**2)}class yR{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Xv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=pme(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:y}=ya;this.history.push({...h,timestamp:y});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Gv(p,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Xv(f.type==="pointercancel"?this.lastMoveEventInfo:Gv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),h&&h(f,x)},!IF(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=gy(t),s=Gv(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=ya;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Xv(s,this.history)),this.removeListeners=ul(os(this.contextWindow,"pointermove",this.handlePointerMove),os(this.contextWindow,"pointerup",this.handlePointerUp),os(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vs(this.updatePoint)}}function Gv(e,t){return t?{point:t(e.point)}:e}function e5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Xv({point:e},t){return{point:e,delta:e5(e,vR(t)),offset:e5(e,mme(t)),velocity:hme(t,.1)}}function mme(e){return e[0]}function vR(e){return e[e.length-1]}function hme(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=vR(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>lc(t)));)n--;if(!r)return{x:0,y:0};const i=ss(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ni(e){return e.max-e.min}function mw(e,t=0,n=.01){return Math.abs(e-t)<=n}function t5(e,t,n,r=.5){e.origin=r,e.originPoint=fr(t.min,t.max,e.origin),e.scale=Ni(n)/Ni(t),(mw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=fr(n.min,n.max,e.origin)-e.originPoint,(mw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function rf(e,t,n,r){t5(e.x,t.x,n.x,r?r.originX:void 0),t5(e.y,t.y,n.y,r?r.originY:void 0)}function n5(e,t,n){e.min=n.min+t.min,e.max=e.min+Ni(t)}function gme(e,t,n){n5(e.x,t.x,n.x),n5(e.y,t.y,n.y)}function r5(e,t,n){e.min=t.min-n.min,e.max=e.min+Ni(t)}function af(e,t,n){r5(e.x,t.x,n.x),r5(e.y,t.y,n.y)}function yme(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?fr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?fr(n,e,r.max):Math.min(e,n)),e}function a5(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function vme(e,{top:t,left:n,bottom:r,right:a}){return{x:a5(e.x,n,a),y:a5(e.y,t,r)}}function i5(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function bme(e,t){return{x:i5(e.x,t.x),y:i5(e.y,t.y)}}function xme(e,t){let n=.5;const r=Ni(e),a=Ni(t);return a>r?n=Xf(t.min,t.max-r,e.min):r>a&&(n=Xf(e.min,e.max-a,t.min)),hl(0,1,n)}function wme(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const hw=.35;function kme(e=hw){return e===!1?e=0:e===!0&&(e=hw),{x:o5(e,"left","right"),y:o5(e,"top","bottom")}}function o5(e,t,n){return{min:s5(e,t),max:s5(e,n)}}function s5(e,t){return typeof e=="number"?e:e[t]||0}const l5=()=>({translate:0,scale:1,origin:0,originPoint:0}),fu=()=>({x:l5(),y:l5()}),c5=()=>({min:0,max:0}),Ir=()=>({x:c5(),y:c5()});function Li(e){return[e("x"),e("y")]}function bR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Sme({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Nme(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Qv(e){return e===void 0||e===1}function gw({scale:e,scaleX:t,scaleY:n}){return!Qv(e)||!Qv(t)||!Qv(n)}function Vl(e){return gw(e)||xR(e)||e.z||e.rotate||e.rotateX||e.rotateY}function xR(e){return u5(e.x)||u5(e.y)}function u5(e){return e&&e!=="0%"}function $g(e,t,n){const r=e-n,a=t*r;return n+a}function d5(e,t,n,r,a){return a!==void 0&&(e=$g(e,a,r)),$g(e,n,r)+t}function yw(e,t=0,n=1,r,a){e.min=d5(e.min,t,n,r,a),e.max=d5(e.max,t,n,r,a)}function wR(e,{x:t,y:n}){yw(e.x,t.translate,t.scale,t.originPoint),yw(e.y,n.translate,n.scale,n.originPoint)}function jme(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&pu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,wR(e,o)),r&&Vl(i.latestValues)&&pu(e,i.latestValues))}t.x=f5(t.x),t.y=f5(t.y)}function f5(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Hs(e,t){e.min=e.min+t,e.max=e.max+t}function p5(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=fr(e.min,e.max,i);yw(e,t[n],t[r],o,t.scale)}const Cme=["x","scaleX","originX"],Ame=["y","scaleY","originY"];function pu(e,t){p5(e.x,t,Cme),p5(e.y,t,Ame)}function kR(e,t){return bR(Nme(e.getBoundingClientRect(),t))}function Mme(e,t,n){const r=kR(e,n),{scroll:a}=t;return a&&(Hs(r.x,a.offset.x),Hs(r.y,a.offset.y)),r}const SR=({current:e})=>e?e.ownerDocument.defaultView:null,Eme=new WeakMap;class Pme{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ir(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gy(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=LF(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Li(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Fo.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[x];w&&(g=Ni(w)*(parseFloat(g)/100))}}this.originPoint[x]=g}),h&&tr.update(()=>h(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=Tme(x),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),y&&y(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Li(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new yR(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:SR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&tr.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Im(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=yme(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&uu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=vme(a.layoutBox,n):this.constraints=!1,this.elastic=kme(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Li(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=wme(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!uu(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Mme(r,a.root,this.visualElement.getTransformPagePoint());let o=bme(a.layout.layoutBox,i);if(n){const s=n(Sme(o));this.hasMutatedConstraints=!!s,s&&(o=bR(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Li(d=>{if(!Im(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(uN(t,r,0,n))}stopAnimation(){Li(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Li(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Li(n=>{const{drag:r}=this.getProps();if(!Im(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-fr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!uu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Li(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=xme({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Li(o=>{if(!Im(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(fr(l,c,a[o]))})}addListeners(){if(!this.visualElement.current)return;Eme.set(this.visualElement,this);const t=this.visualElement.current,n=os(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();uu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=ns(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Li(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=hw,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function Im(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Tme(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ome extends jl{constructor(t){super(t),this.removeGroupControls=Pr,this.removeListeners=Pr,this.controls=new Pme(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const m5=e=>(t,n)=>{e&&tr.update(()=>e(t,n))};class Dme extends jl{constructor(){super(...arguments),this.removePointerDownListener=Pr}onPointerDown(t){this.session=new yR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:m5(t),onStart:m5(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&tr.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=os(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Ime(){const e=v.useContext(KS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=v.useId();return v.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const ih={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function h5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ut.test(e))e=parseFloat(e);else return e;const n=h5(e,t.target.x),r=h5(e,t.target.y);return`${n}% ${r}%`}},_me={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=gl.parse(e);if(a.length>5)return r;const i=gl.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const c=fr(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=c),typeof a[3+o]=="number"&&(a[3+o]/=c),i(a)}};class Lme extends zg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;Ude(Fme),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ih.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||tr.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function NR(e){const[t,n]=Ime(),r=v.useContext(bF);return zg.createElement(Lme,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(xF),isPresent:t,safeToRemove:n})}const Fme={borderRadius:{...Dd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dd,borderTopRightRadius:Dd,borderBottomLeftRadius:Dd,borderBottomRightRadius:Dd,boxShadow:_me},jR=["TopLeft","TopRight","BottomLeft","BottomRight"],Rme=jR.length,g5=e=>typeof e=="string"?parseFloat(e):e,y5=e=>typeof e=="number"||Ut.test(e);function $me(e,t,n,r,a,i){a?(e.opacity=fr(0,n.opacity!==void 0?n.opacity:1,Bme(r)),e.opacityExit=fr(t.opacity!==void 0?t.opacity:1,0,zme(r))):i&&(e.opacity=fr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Rme;o++){const s=`border${jR[o]}Radius`;let l=v5(t,s),c=v5(n,s);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||y5(l)===y5(c)?(e[s]=Math.max(fr(g5(l),g5(c),r),0),(Fo.test(c)||Fo.test(l))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=fr(t.rotate||0,n.rotate||0,r))}function v5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Bme=CR(0,.5,YF),zme=CR(.5,.95,Pr);function CR(e,t,n){return r=>r<e?0:r>t?1:n(Xf(e,t,r))}function b5(e,t){e.min=t.min,e.max=t.max}function Di(e,t){b5(e.x,t.x),b5(e.y,t.y)}function x5(e,t,n,r,a){return e-=t,e=$g(e,1/n,r),a!==void 0&&(e=$g(e,1/a,r)),e}function Ume(e,t=0,n=1,r=.5,a,i=e,o=e){if(Fo.test(t)&&(t=parseFloat(t),t=fr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=fr(i.min,i.max,r);e===i&&(s-=t),e.min=x5(e.min,t,n,s,a),e.max=x5(e.max,t,n,s,a)}function w5(e,t,[n,r,a],i,o){Ume(e,t[n],t[r],t[a],t.scale,i,o)}const Vme=["x","scaleX","originX"],Wme=["y","scaleY","originY"];function k5(e,t,n,r){w5(e.x,t,Vme,n?n.x:void 0,r?r.x:void 0),w5(e.y,t,Wme,n?n.y:void 0,r?r.y:void 0)}function S5(e){return e.translate===0&&e.scale===1}function AR(e){return S5(e.x)&&S5(e.y)}function qme(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function MR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function N5(e){return Ni(e.x)/Ni(e.y)}class Hme{constructor(){this.members=[]}add(t){dN(this.members,t),t.scheduleRender()}remove(t){if(fN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j5(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const Kme=(e,t)=>e.depth-t.depth;class Yme{constructor(){this.children=[],this.isDirty=!1}add(t){dN(this.children,t),this.isDirty=!0}remove(t){fN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Kme),this.isDirty=!1,this.children.forEach(t)}}function Gme(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(vs(r),e(i-t))};return tr.read(r,!0),()=>vs(r)}function Xme(e){window.MotionDebug&&window.MotionDebug.record(e)}function Qme(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Zme(e,t,n){const r=ni(e)?e:Vu(e);return r.start(uN("",r,t,n)),r.animation}const C5=["","X","Y","Z"],Jme={visibility:"hidden"},A5=1e3;let ehe=0;const Wl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ER({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=ehe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wl.totalNodes=Wl.resolvedTargetDeltas=Wl.recalculatedProjection=0,this.nodes.forEach(rhe),this.nodes.forEach(lhe),this.nodes.forEach(che),this.nodes.forEach(ahe),Xme(Wl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new Yme)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new pN),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Qme(i),this.instance=i;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Gme(f,250),ih.hasAnimatedSinceResize&&(ih.hasAnimatedSinceResize=!1,this.nodes.forEach(E5))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||c.getDefaultTransition()||mhe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=c.getProps(),g=!this.targetLayout||!MR(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...cN(h,"layout"),onPlay:y,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||E5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uhe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M5);return}this.isUpdating||this.nodes.forEach(ohe),this.isUpdating=!1,this.nodes.forEach(she),this.nodes.forEach(the),this.nodes.forEach(nhe),this.clearAllSnapshots();const i=performance.now();ya.delta=hl(0,1e3/60,i-ya.timestamp),ya.timestamp=i,ya.isProcessing=!0,zv.update.process(ya),zv.preRender.process(ya),zv.render.process(ya),ya.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ihe),this.sharedNodes.forEach(dhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!AR(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;i&&(o||Vl(this.latestValues)||c)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),hhe(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Ir();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(Hs(o.x,s.offset.x),Hs(o.y,s.offset.y)),o}removeElementScroll(i){const o=Ir();Di(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:c,options:d}=l;if(l!==this.root&&c&&d.layoutScroll){if(c.isRoot){Di(o,i);const{scroll:f}=this.root;f&&(Hs(o.x,-f.offset.x),Hs(o.y,-f.offset.y))}Hs(o.x,c.offset.x),Hs(o.y,c.offset.y)}}return o}applyTransform(i,o=!1){const s=Ir();Di(s,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&pu(s,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Vl(c.latestValues)&&pu(s,c.latestValues)}return Vl(this.latestValues)&&pu(s,this.latestValues),s}removeTransform(i){const o=Ir();Di(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!Vl(l.latestValues))continue;gw(l.latestValues)&&l.updateSnapshot();const c=Ir(),d=l.measurePageBox();Di(c,d),k5(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Vl(this.latestValues)&&k5(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ya.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=ya.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),af(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ir(),this.targetWithTransforms=Ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Di(this.target,this.layout.layoutBox),wR(this.target,this.targetDelta)):Di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),af(this.relativeTargetOrigin,this.target,f.target),Di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gw(this.parent.latestValues)||xR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ya.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Di(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;jme(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=fu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=fu(),this.projectionDeltaWithTransform=fu());const h=this.projectionTransform;rf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=j5(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Wl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},c={...this.latestValues},d=fu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Ir(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,y=this.getStack(),x=!y||y.members.length<=1,g=!!(h&&!x&&this.options.crossfade===!0&&!this.path.some(phe));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const S=w/1e3;P5(d.x,i.x,S),P5(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(af(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fhe(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&qme(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ir()),Di(b,this.relativeTarget)),h&&(this.animationValues=c,$me(c,l,this.latestValues,S,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{ih.hasAnimatedSinceResize=!0,this.currentAnimation=Zme(0,A5,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:c}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&PR(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||Ir();const d=Ni(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=Ni(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}Di(o,s),pu(o,c),rf(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Hme),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let c=0;c<C5.length;c++){const d="rotate"+C5[c];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const c in l)i.setStaticValue(c,l[c]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Jme;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ah(i==null?void 0:i.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=ah(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Vl(this.latestValues)&&(h.transform=c?c({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=j5(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in Og){if(f[h]===void 0)continue;const{correct:y,applyTo:x}=Og[h],g=l.transform==="none"?f[h]:y(f[h],d);if(x){const b=x.length;for(let w=0;w<b;w++)l[x[w]]=g}else l[h]=g}return this.options.layoutId&&(l.pointerEvents=d===this?ah(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(M5),this.root.sharedNodes.clear()}}}function the(e){e.updateLayout()}function nhe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Li(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ni(p);p.min=r[f].min,p.max=p.min+m}):PR(i,n.layoutBox,r)&&Li(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ni(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=fu();rf(s,r,n.layoutBox);const l=fu();o?rf(l,e.applyTransform(a,!0),n.measuredBox):rf(l,r,n.layoutBox);const c=!AR(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=Ir();af(h,n.layoutBox,p.layoutBox);const y=Ir();af(y,r,m.layoutBox),MR(h,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function rhe(e){Wl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ahe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ihe(e){e.clearSnapshot()}function M5(e){e.clearMeasurements()}function ohe(e){e.isLayoutDirty=!1}function she(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function E5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lhe(e){e.resolveTargetDelta()}function che(e){e.calcProjection()}function uhe(e){e.resetRotation()}function dhe(e){e.removeLeadSnapshot()}function P5(e,t,n){e.translate=fr(t.translate,0,n),e.scale=fr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function T5(e,t,n,r){e.min=fr(t.min,n.min,r),e.max=fr(t.max,n.max,r)}function fhe(e,t,n,r){T5(e.x,t.x,n.x,r),T5(e.y,t.y,n.y,r)}function phe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mhe={duration:.45,ease:[.4,0,.1,1]},O5=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),D5=O5("applewebkit/")&&!O5("chrome/")?Math.round:Pr;function I5(e){e.min=D5(e.min),e.max=D5(e.max)}function hhe(e){I5(e.x),I5(e.y)}function PR(e,t,n){return e==="position"||e==="preserve-aspect"&&!mw(N5(t),N5(n),.2)}const ghe=ER({attachResizeListener:(e,t)=>ns(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zv={current:void 0},TR=ER({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zv.current){const e=new ghe({});e.mount(window),e.setOptions({layoutScroll:!0}),Zv.current=e}return Zv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yhe={pan:{Feature:Dme},drag:{Feature:Ome,ProjectionNode:TR,MeasureLayout:NR}},vhe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function bhe(e){const t=vhe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function vw(e,t,n=1){const[r,a]=bhe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return pR(o)?parseFloat(o):o}else return sw(a)?vw(a,t,n+1):a}function xhe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!sw(i))return;const o=vw(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!sw(i))continue;const o=vw(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const whe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),OR=e=>whe.has(e),khe=e=>Object.keys(e).some(OR),_5=e=>e===Tc||e===Ut,L5=(e,t)=>parseFloat(e.split(", ")[t]),F5=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return L5(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?L5(i[1],e):0}},She=new Set(["x","y","z"]),Nhe=Lp.filter(e=>!She.has(e));function jhe(e){const t=[];return Nhe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Wu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:F5(4,13),y:F5(5,14)};Wu.translateX=Wu.x;Wu.translateY=Wu.y;const Che=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{s[c]=Wu[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(s[c]),e[c]=Wu[c](l,i)}),e},Ahe=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(OR);let i=[],o=!1;const s=[];if(a.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Od(d);const p=t[l];let m;if(Ig(p)){const h=p.length,y=p[0]===null?1:0;d=p[y],f=Od(d);for(let x=y;x<h&&p[x]!==null;x++)m?aN(Od(p[x])===m):m=Od(p[x])}else m=Od(p);if(f!==m)if(_5(f)&&_5(m)){const h=c.get();typeof h=="string"&&c.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===Ut&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(p):(o||(i=jhe(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=Che(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),fy&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Mhe(e,t,n,r){return khe(t)?Ahe(e,t,n,r):{target:t,transitionEnd:r}}const Ehe=(e,t,n,r)=>{const a=xhe(e,t,r);return t=a.target,r=a.transitionEnd,Mhe(e,t,n,r)},bw={current:null},DR={current:!1};function Phe(){if(DR.current=!0,!!fy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bw.current=e.matches;e.addListener(t),t()}else bw.current=!1}function The(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(ni(i))e.addValue(a,i),Rg(r)&&r.add(a);else if(ni(o))e.addValue(a,Vu(i,{owner:e})),Rg(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,Vu(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const R5=new WeakMap,IR=Object.keys(Gf),Ohe=IR.length,$5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Dhe=XS.length;class Ihe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tr.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=my(n),this.isVariantNode=vF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&ni(p)&&(p.set(s[f],!1),Rg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,R5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),DR.current||Phe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){R5.delete(this.current),this.projection&&this.projection.unmount(),vs(this.notifyUpdate),vs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Pc.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&tr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<Ohe;l++){const c=IR[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Gf[c];p&&(o=p),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&uu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ir()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$5.length;r++){const a=$5[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=The(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Dhe;r++){const a=XS[r],i=this.props[a];(Yf(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Vu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=rN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ni(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new pN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class _R extends Ihe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=Qpe(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){Gpe(this,r,o);const s=Ehe(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function _he(e){return window.getComputedStyle(e)}class Lhe extends _R{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Pc.has(n)){const r=lN(n);return r&&r.default||0}else{const r=_he(t),a=(SF(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kR(t,n)}build(t,n,r,a){ZS(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return nN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ni(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){EF(t,n,r,a)}}class Fhe extends _R{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Pc.has(n)){const r=lN(n);return r&&r.default||0}return n=PF.has(n)?n:YS(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ir()}scrapeMotionValuesFromProps(t,n){return OF(t,n)}build(t,n,r,a){eN(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){TF(t,n,r,a)}mount(t){this.isSVGTag=tN(t.tagName),super.mount(t)}}const Rhe=(e,t)=>QS(e)?new Fhe(t,{enableHardwareAcceleration:!1}):new Lhe(t,{enableHardwareAcceleration:!0}),$he={layout:{ProjectionNode:TR,MeasureLayout:NR}},Bhe={...fme,...Ofe,...yhe,...$he},Mo=Bde((e,t)=>bfe(e,t,Bhe,Rhe));function zhe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:y,children:x}){return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:g=>g.target===g.currentTarget&&t(),children:u.jsxs("div",{className:"proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),onFocus:o,onBlur:g=>s(g.relatedTarget),onKeyDown:g=>{g.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((g,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(g)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:g.section}),u.jsx("div",{className:"truncate",children:d(g.text,n)})]},`${g.hitId}-${b}-${g.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(za,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[p.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((g,b)=>{const w=g.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${g.level===1?"proof-of-work-toc-item--l1":g.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":g.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(g),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:g.text})]},`${g.id}-${g.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:y,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:x})})]})})]})}):null}const Fl="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",Jv="arcbridge_web_theme_override",B5="__default__",Uhe=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},Vhe=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},Whe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},z5=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},qhe=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},U5=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Hhe=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,c=t-r;return r+=s,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:c,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},Khe=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function Yhe(){var e;const[t,n]=v.useState(null),[r,a]=v.useState(null),[i,o]=v.useState(null),[s,l]=v.useState(null),[c,d]=v.useState(""),[f,p]=v.useState(null),[m,h]=v.useState(null),[y,x]=v.useState(!1),[g,b]=v.useState(!1),[w,S]=v.useState("classic"),[C,j]=v.useState("classic"),[A,T]=v.useState(th.id),[L,E]=v.useState(null),[P,I]=v.useState(!1),[U,Y]=v.useState(!1),[ee,ce]=v.useState(""),[$,B]=v.useState(""),[re,k]=v.useState([]),[O,M]=v.useState(!1),[N,V]=v.useState("overview"),[Q,H]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),G=v.useRef(null),J=v.useRef(null),_=v.useRef(null),ne=v.useRef(null),ge=v.useRef(null),R=v.useRef(new Map),ae=v.useRef(null),W=v.useRef(null),F=v.useMemo(()=>{let K=window.location.pathname||"/";const fe=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return K.endsWith("/index.html")&&(K=K.slice(0,-11)),K.includes("/reports/")&&(K=K.replace(/\/reports\/[^/]+\/?$/,"")),fe&&(K=K.replace(/^\/web\/web(?=\/|$)/,"/web")),K.endsWith("/")||(K=`${K}/`),K},[]),le=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),xe=v.useMemo(()=>{const K=[F,"./","/"],fe=[];return K.forEach(De=>{let et=De||"/";et!=="./"&&!et.endsWith("/")&&(et=`${et}/`),fe.includes(et)||fe.push(et)}),fe},[F,le]),[Je,ue]=v.useState(xe[0]||"/"),Ke=K=>{var fe;return typeof K=="string"||typeof K=="number"?String(K):Array.isArray(K)?K.map(Ke).join(""):K&&typeof K=="object"&&"props"in K?Ke((fe=K.props)==null?void 0:fe.children):""},Fe=K=>{const fe=U5(K||"section")||"section",De=R.current,et=(De.get(fe)??0)+1;return De.set(fe,et),et===1?fe:`${fe}-${et}`},gt=v.useMemo(()=>{const K=Bv.split(`
`),fe=new Map,De=[],et=Tt=>{const Ot=U5(Tt||"section")||"section",rt=(fe.get(Ot)??0)+1;return fe.set(Ot,rt),rt===1?Ot:`${Ot}-${rt}`};for(const Tt of K){const Ot=/^(#{1,3})\s+(.*)\s*$/.exec(Tt);if(!Ot)continue;const rt=Ot[1].length,fn=Ot[2].trim();fn&&De.push({level:rt,text:fn,id:et(fn)})}return De},[Bv]),Wt=(K,fe)=>{const De=K==="./"?"./":K.endsWith("/")?K:`${K}/`,et=String(fe||"").replace(/^\/+/,"");return`${De}${et}`};v.useEffect(()=>{const K=Uhe(Jv);if(K)try{const fe=JSON.parse(K),De=typeof(fe==null?void 0:fe.themeId)=="string"?fe.themeId:null;De&&Ed.some(et=>et.id===De)&&E(De)}catch{}},[]),v.useEffect(()=>{const K=L||A,fe=Ed.find(De=>De.id===K)||th;p(fe)},[L,A]),v.useEffect(()=>{if(!L){S(C);return}if(L===eh){S("matte");return}if(L==="CRT"){S("crt");return}S("classic")},[L,C]),v.useEffect(()=>{ue(xe[0]||"/");let K=!0;return(async()=>{for(const fe of xe)try{if((await fetch(Wt(fe,"ui-theme.json"),{cache:"no-store"})).ok){K&&ue(fe);return}}catch{}})(),()=>{K=!1}},[xe]);const On=(K,fe)=>{const De=fe.trim();if(!De)return K;const et=K.toLowerCase(),Tt=De.toLowerCase(),Ot=et.indexOf(Tt);if(Ot===-1)return K;const rt=K.slice(0,Ot),fn=K.slice(Ot,Ot+De.length),jn=K.slice(Ot+De.length);return u.jsxs(u.Fragment,{children:[rt,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:fn}),jn]})},Wn=(K,fe)=>{const De=J.current;if(!De)return;let et=De.querySelector(`[data-search-hit="${K}"]`);if(!et&&fe){const Tt=fe.trim().replace(/\s+/g," "),Ot=Array.from(De.querySelectorAll("h1, h2, h3, p, li, code"));et=Ot.find(rt=>(rt.textContent||"").trim().replace(/\s+/g," ")===Tt)||null,et||(et=Ot.find(rt=>(rt.textContent||"").toLowerCase().includes(Tt.toLowerCase()))||null)}et&&requestAnimationFrame(()=>{const Tt=De.getBoundingClientRect(),Ot=et.getBoundingClientRect(),rt=Math.max(0,De.scrollTop+(Ot.top-Tt.top)-12);De.scrollTop=rt,et.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),ge.current&&window.clearTimeout(ge.current),ge.current=window.setTimeout(()=>{et.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},he=K=>{const fe=J.current,De=K.trim().toLowerCase();if(!fe||De.length<2){k([]);return}const et=Array.from(fe.querySelectorAll("h1, h2, h3, p, li, code"));et.forEach(rt=>rt.removeAttribute("data-search-hit"));const Tt=[];let Ot=0;et.forEach((rt,fn)=>{const jn=(rt.textContent||"").trim();if(jn&&jn.toLowerCase().includes(De)){let Ar="";for(let pn=fn;pn>=0;pn-=1){const Re=et[pn];if(Re&&["H1","H2","H3"].includes(Re.tagName)){Ar=(Re.textContent||"").trim();break}}rt.setAttribute("data-search-hit",String(Ot)),Tt.push({index:fn,text:jn,section:Ar||"Unlabeled Section",hitId:Ot}),Ot+=1}}),k(Tt.slice(0,12))};v.useEffect(()=>{var K;if(!U)return;ce(((K=gt[0])==null?void 0:K.id)||"");const fe=De=>{var et;const Tt=De.target;Tt&&((et=_.current)!=null&&et.contains(Tt)||(M(!1),k([])))};return window.addEventListener("mousedown",fe),()=>{window.removeEventListener("mousedown",fe)}},[U,gt]),v.useEffect(()=>{if(!U){ce("");return}const K=J.current;if(!K)return;let fe=0;const De=()=>{var Tt;const Ot=Array.from(K.querySelectorAll("[data-heading-id]"));if(Ot.length===0)return;const rt=K.getBoundingClientRect().top+18,fn=Ot.map((mn,nn)=>({index:nn,id:mn.dataset.headingId||mn.id||"",top:mn.getBoundingClientRect().top})).filter(mn=>!!mn.id);if(fn.length===0)return;let jn=0,Ar=!1;for(const mn of fn){if(mn.top<=rt){jn=mn.index,Ar=!0;continue}Ar||(jn=mn.index);break}K.scrollTop+K.clientHeight>=K.scrollHeight-2&&(jn=Math.max(0,fn.length-1));const pn=gt[jn],Re=((Tt=fn[jn])==null?void 0:Tt.id)||"",mt=(pn==null?void 0:pn.id)||Re;mt&&ce(mt)};De();const et=()=>{fe&&cancelAnimationFrame(fe),fe=requestAnimationFrame(De)};return K.addEventListener("scroll",et,{passive:!0}),window.addEventListener("resize",et),()=>{fe&&cancelAnimationFrame(fe),K.removeEventListener("scroll",et),window.removeEventListener("resize",et)}},[U,gt]);const Pe=v.useMemo(()=>[{id:"overview",label:"Overview",icon:yz,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:rc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Zs},{id:"top-players",label:"Top Players",icon:rc},{id:"top-skills-outgoing",label:"Top Skills",icon:m1},{id:"squad-composition",label:"Classes",icon:Sr},{id:"timeline",label:"Squad vs Enemy Size",icon:Sr},{id:"map-distribution",label:"Map Distribution",icon:v1}]},{id:"roster",label:"Roster Intel",icon:Sf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Sf},{id:"squad-comp-fight",label:"Squad Comp",icon:Sr},{id:"fight-comp",label:"Fight Comp",icon:Zs}]},{id:"offense",label:"Offensive Stats",icon:Zs,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:cL},{id:"player-breakdown",label:"Player Breakdown",icon:y1},{id:"spike-damage",label:"Spike Damage",icon:Nf},{id:"conditions-outgoing",label:"Conditions",icon:r0}]},{id:"defense",label:"Defensive Stats",icon:Tu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Tu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Nf},{id:"defense-mitigation",label:"Damage Mitigation",icon:k1},{id:"boon-output",label:"Boon Output",icon:w1},{id:"support-detailed",label:"Support Detailed",icon:b1},{id:"healing-stats",label:"Healing Stats",icon:uO}]},{id:"other",label:"Other Metrics",icon:a0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:h1},{id:"special-buffs",label:"Special Buffs",icon:Th},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:S1},{id:"skill-usage",label:"Skill Usage",icon:g1},{id:"apm-stats",label:"APM Breakdown",icon:x1}]}],[]),Pt=v.useMemo(()=>{const K=new Map;return Pe.forEach(fe=>{K.set(fe.id.toLowerCase(),fe.id),(fe.sectionIds||[]).forEach(De=>K.set(String(De).toLowerCase(),fe.id)),(fe.items||[]).forEach(De=>K.set(String(De.id).toLowerCase(),fe.id))}),K.set("report-top","overview"),K.set("overview","overview"),K.set("kdr","overview"),K},[Pe]),$t=v.useMemo(()=>Pe.find(K=>K.id===N)||Pe[0],[Pe,N]),un=v.useMemo(()=>{const K=(($t==null?void 0:$t.sectionIds)||(($t==null?void 0:$t.items)||[]).map(fe=>fe.id)).map(fe=>fe==="kdr"?"overview":fe);return new Set(K)},[$t]),jr=K=>{if(K==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const fe=K==="kdr"?"overview":K,De=fe==="overview"&&K!=="kdr"?"report-top":fe,et=document.getElementById(De);if(!et||et.getAttribute("data-section-visible")==="false"||!et.offsetParent)return!1;const Tt=et.getBoundingClientRect();if(Tt.height<=0)return!1;let Ot=0;if(De==="stats-view-top"){const fn=document.getElementById("report-top");fn&&(Ot=fn.getBoundingClientRect().height+12)}const rt=Tt.top+window.scrollY-12-Ot;return window.scrollTo({top:Math.max(0,rt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${De}`),!0},Ca=(K,fe=0)=>{jr(K)||fe>=12||window.setTimeout(()=>{requestAnimationFrame(()=>Ca(K,fe+1))},40)};v.useEffect(()=>{if(!t)return;const K=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(fe=>{fe.scrollHeight})});return()=>cancelAnimationFrame(K)},[t]),v.useEffect(()=>{const K=ae.current;if(!K)return;let fe=0;const De=()=>{if(jr(K)){ae.current=null;return}if(fe+=1,fe>=20){ae.current=null;return}window.setTimeout(()=>requestAnimationFrame(De),40)};requestAnimationFrame(De)},[N]),v.useEffect(()=>{const K=()=>{const fe=(window.location.hash||"").replace(/^#/,"").trim();if(!fe)return;let De=fe;try{De=decodeURIComponent(fe)}catch{De=fe}const et=De.toLowerCase(),Tt=Pt.get(et);Tt&&(V(Tt),H(()=>{const Ot={};return Pe.forEach(rt=>{Ot[rt.id]=rt.id===Tt}),Ot}),ae.current=et==="report-top"?"kdr":et)};return K(),window.addEventListener("hashchange",K),()=>{window.removeEventListener("hashchange",K)}},[Pt,Pe]);const qn=w==="matte",Ua=f??th,Tr=Ua.rgb,yn=qn?"#d8e1eb":"var(--accent)",dn={"--accent":`rgb(${Tr})`,"--accent-rgb":Tr,"--accent-soft":`rgba(${Tr}, 0.32)`,"--accent-strong":`rgba(${Tr}, 0.95)`,"--accent-border":`rgba(${Tr}, 0.4)`,"--accent-glow":`rgba(${Tr}, 0.18)`,"--accent-glow-soft":`rgba(${Tr}, 0.08)`},Xr=w==="modern"||w==="matte",bn=Ua.pattern?qn?void 0:Xr?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Ua.pattern}`:Ua.pattern:void 0,Cr=qn?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Xr?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var K;let fe=!0;const De=new URLSearchParams(window.location.search).get("report")||((K=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:K[1])||null,et=De?`${F}reports/${De}/report.json`:`${F}report.json`;De&&l(et);const Tt=rt=>{var fn,jn,Ar;const pn=new Set((((fn=rt==null?void 0:rt.meta)==null?void 0:fn.commanders)||[]).map(mt=>String(mt)));if(pn.size===0)return rt;const Re=rt.stats;return(jn=Re==null?void 0:Re.leaderboards)!=null&&jn.closestToTag&&(Re.leaderboards.closestToTag=Re.leaderboards.closestToTag.map(mt=>pn.has(String(mt==null?void 0:mt.account))?{...mt,value:0}:mt)),(Ar=Re==null?void 0:Re.closestToTag)!=null&&Ar.player&&pn.has(String(Re.closestToTag.player))&&(Re.closestToTag={...Re.closestToTag,value:0}),rt},Ot=rt=>{var fn,jn,Ar,pn,Re;const mt=rt==null?void 0:rt.stats;if(!mt||typeof mt!="object")return rt;const mn=Array.isArray((fn=mt==null?void 0:mt.leaderboards)==null?void 0:fn.downContrib)?mt.leaderboards.downContrib:[];if(!mn.length)return rt;const nn=mn.map(Hn=>({...Hn,value:Number((Hn==null?void 0:Hn.value)??0)})).filter(Hn=>Number.isFinite(Hn.value)).sort((Hn,Aa)=>Aa.value-Hn.value||String((Hn==null?void 0:Hn.account)||"").localeCompare(String((Aa==null?void 0:Aa.account)||"")))[0];return nn&&(mt.maxDownContrib={...mt.maxDownContrib||{},value:Number(nn.value||0),player:String(nn.account||((jn=mt.maxDownContrib)==null?void 0:jn.player)||"-"),count:Number(nn.count||((Ar=mt.maxDownContrib)==null?void 0:Ar.count)||0),profession:String(nn.profession||((pn=mt.maxDownContrib)==null?void 0:pn.profession)||"Unknown"),professionList:Array.isArray(nn.professionList)?nn.professionList:((Re=mt.maxDownContrib)==null?void 0:Re.professionList)||[]}),rt};return fetch(et,{cache:"no-store"}).then(rt=>rt.ok?rt.json():Promise.reject()).then(rt=>{var fn,jn,Ar;if(!fe)return;const pn=Ot(Tt(rt));n(pn);const Re=(fn=pn==null?void 0:pn.stats)==null?void 0:fn.uiTheme;Re==="modern"||Re==="classic"||Re==="crt"||Re==="matte"?j(Re):((jn=pn==null?void 0:pn.stats)==null?void 0:jn.webThemeId)===eh&&j("matte"),typeof((Ar=pn==null?void 0:pn.stats)==null?void 0:Ar.webThemeId)=="string"&&pn.stats.webThemeId&&T(pn.stats.webThemeId)}).catch(()=>{if(De){if(!fe)return;o("Report not found yet. It may still be deploying.")}fetch(`${F}reports/index.json`,{cache:"no-store"}).then(rt=>rt.ok?rt.json():Promise.reject()).then(rt=>{fe&&a(Array.isArray(rt)?rt:[])}).catch(()=>{fe&&o("No report data found.")})}),()=>{fe=!1}},[F]),v.useEffect(()=>{if(t){const K=t.meta.dateLabel||z5(t.meta.dateStart,t.meta.dateEnd);document.title=K?`ArcBridge  ${t.meta.title}  ${K}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),v.useEffect(()=>{var K;const fe=(K=t==null?void 0:t.stats)==null?void 0:K.webThemeId;typeof fe=="string"&&fe&&T(fe)},[t]),v.useEffect(()=>{const K=document.body;K.classList.add("web-report"),K.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte"),qn?K.classList.add("theme-matte"):w==="modern"?K.classList.add("theme-modern"):w==="crt"?K.classList.add("theme-crt"):K.classList.add("theme-classic")},[w,qn]),v.useEffect(()=>{var K;if(le&&(K=t==null?void 0:t.stats)!=null&&K.webThemeId)return;let fe=!0;return fetch(Wt(Je,"theme.json"),{cache:"no-store"}).then(De=>De.ok?De.json():Promise.reject()).then(De=>{fe&&typeof(De==null?void 0:De.id)=="string"&&De.id&&T(De.id)}).catch(()=>{}),()=>{fe=!1}},[Je,le,t]),v.useEffect(()=>{var K,fe;const De=(K=t==null?void 0:t.stats)==null?void 0:K.webThemeId,et=(fe=t==null?void 0:t.stats)==null?void 0:fe.uiTheme;if((et==="modern"||et==="classic"||et==="crt"||et==="matte")&&!(De===eh&&et!=="matte"||De==="CRT"&&et!=="crt"))return;let Tt=!0;return fetch(Wt(Je,"ui-theme.json"),{cache:"no-store"}).then(Ot=>Ot.ok?Ot.json():Promise.reject()).then(Ot=>{if(!Tt)return;const rt=Ot==null?void 0:Ot.theme;(rt==="modern"||rt==="classic"||rt==="crt"||rt==="matte")&&j(rt)}).catch(()=>{}),()=>{Tt=!1}},[Je,t]),v.useEffect(()=>{let K=!0;return fetch(Wt(Je,"logo.json"),{cache:"no-store"}).then(fe=>fe.ok?fe.json():Promise.reject()).then(fe=>{if(!K)return;const De="svg/ArcBridge.svg",et=fe!=null&&fe.path?String(fe.path):De,Tt=fe!=null&&fe.updatedAt?String(fe.updatedAt):"",Ot=Wt(Je,et),rt=Tt?`${Ot}?v=${encodeURIComponent(Tt)}`:Ot;h(rt),x(!(fe!=null&&fe.path)||et===De)}).catch(()=>{K&&(h(null),x(!1))}),()=>{K=!1}},[Je]);const cr=v.useMemo(()=>r?[...r].sort((K,fe)=>{const De=new Date(K.dateEnd||K.dateStart).getTime();return new Date(fe.dateEnd||fe.dateStart).getTime()-De}):[],[r]),Vo=v.useMemo(()=>{if(!cr.length)return[];const K=c.trim().toLowerCase();return K?cr.filter(fe=>{var De;const et=((De=fe.commanders)==null?void 0:De.join(" "))||"";return`${fe.title} ${et} ${fe.dateLabel}`.toLowerCase().includes(K)}):cr},[cr,c]),Cl=K=>{if(!K){Whe(Jv);return}Vhe(Jv,JSON.stringify({themeId:K}))},Ms=K=>{const fe=K===B5?null:K;fe&&!Ed.some(De=>De.id===fe)||(E(fe),Cl(fe),I(!1))};v.useEffect(()=>{const K=De=>{ne.current&&(ne.current.contains(De.target)||I(!1))},fe=De=>{De.key==="Escape"&&I(!1)};return window.addEventListener("mousedown",K),window.addEventListener("keydown",fe),()=>{window.removeEventListener("mousedown",K),window.removeEventListener("keydown",fe)}},[]),v.useEffect(()=>()=>{W.current!==null&&(cancelAnimationFrame(W.current),W.current=null)},[]);const Es=v.useMemo(()=>{if(!L)return"Default";const K=Ed.find(fe=>fe.id===L);return(K==null?void 0:K.label)||"Default"},[L]),Oc=u.jsxs("div",{className:"relative flex items-center gap-2",ref:ne,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>I(K=>!K),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:Es}),u.jsx("span",{className:`transition-transform ${P?"rotate-180":""}`,children:""})]}),P&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Ms(B5),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Ed.map(K=>u.jsx("button",{type:"button",onClick:()=>Ms(K.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${L===K.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:K.label},K.id))]})]}),Al=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Oc}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:K=>{K.preventDefault(),Y(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Ml=u.jsxs(zhe,{isOpen:U,onClose:()=>Y(!1),searchValue:$,searchFocused:O,searchResults:re,onSearchChange:K=>{B(K),requestAnimationFrame(()=>he(K))},onSearchFocus:()=>{M(!0),requestAnimationFrame(()=>he($))},onSearchBlur:K=>{var fe;K&&(fe=_.current)!=null&&fe.contains(K)||M(!1)},onSearchEnter:()=>{re.length>0&&Wn(re[0].hitId,re[0].text)},onSearchResultMouseDown:K=>{M(!0),Wn(K.hitId,K.text)},renderHighlightedMatch:On,searchRef:_,tocItems:gt,activeTocId:ee,onTocClick:K=>{const fe=J.current;if(!fe)return;let De=fe.querySelector(`[data-heading-id="${K.id}"]`);if(!De){const et=K.text.trim().replace(/\s+/g," ");De=Array.from(fe.querySelectorAll("h1, h2, h3")).find(Tt=>(Tt.textContent||"").trim().replace(/\s+/g," ")===et)||null}De&&(ce(K.id),requestAnimationFrame(()=>{const et=fe.getBoundingClientRect(),Tt=De.getBoundingClientRect(),Ot=fe.scrollTop+(Tt.top-et.top)-12;fe.scrollTop=Math.max(0,Ot)}))},contentRef:J,children:[(R.current=new Map,null),u.jsx(gce,{remarkPlugins:[Ede],components:{h1:({children:K})=>{const fe=Ke(K),De=Fe(fe);return u.jsx("h1",{id:De,"data-heading-id":De,className:"text-2xl font-bold text-white scroll-mt-6",children:K})},h2:({children:K})=>{const fe=Ke(K),De=Fe(fe);return u.jsx("h2",{id:De,"data-heading-id":De,className:"text-xl font-semibold text-white scroll-mt-6",children:K})},h3:({children:K})=>{const fe=Ke(K),De=Fe(fe);return u.jsx("h3",{id:De,"data-heading-id":De,className:"text-lg font-semibold text-white scroll-mt-6",children:K})},p:({children:K})=>u.jsx("p",{className:"leading-6 text-gray-200",children:K}),ul:({children:K})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:K}),ol:({children:K})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:K}),li:({children:K})=>u.jsx("li",{className:"leading-6",children:K}),blockquote:({children:K})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:K}),a:({href:K,children:fe})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:K,target:"_blank",rel:"noreferrer",children:fe}),table:({children:K})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:K})}),th:({children:K})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:K}),td:({children:K})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:K}),pre:({children:K})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:K}),code:K=>{const{inline:fe,children:De}=K;return fe===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:De}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:De})}},children:Bv})]});if(t){const K=Wt(Je,"svg/ArcBridge.svg"),fe=()=>{W.current!==null&&(cancelAnimationFrame(W.current),W.current=null);const Re=window.scrollY||window.pageYOffset||0;if(Re<=1){window.scrollTo({top:0,behavior:"auto"});return}const mt=320,mn=performance.now(),nn=Hn=>{const Aa=Hn-mn,Qr=Math.min(1,Aa/mt),Wo=1-Math.pow(1-Qr,3),od=Math.max(0,Math.round(Re*(1-Wo)));window.scrollTo({top:od,behavior:"auto"}),Qr<1?W.current=requestAnimationFrame(nn):(W.current=null,window.scrollTo({top:0,behavior:"auto"}))};W.current=requestAnimationFrame(nn)},De=Re=>{H(()=>{const mt={};return Pe.forEach(mn=>{mt[mn.id]=mn.id===Re}),mt})},et=Re=>{ae.current=null,V(Re),fe()},Tt=Re=>{if(!Q[Re]){De(Re),et(Re);return}if(Re!==N){et(Re);return}H(mt=>({...mt,[Re]:!1}))},Ot=(Re,mt)=>{Q[Re]||De(Re);const mn=Re===N;mn||(ae.current=mt,V(Re),requestAnimationFrame(()=>Ca(mt))),mn&&requestAnimationFrame(()=>Ca(mt))},rt=Re=>{const mt=Re.currentTarget;if(!(mt.scrollHeight>mt.clientHeight)){window.scrollBy({top:Re.deltaY,behavior:"auto"}),Re.preventDefault();return}const mn=mt.scrollTop<=0,nn=mt.scrollTop+mt.clientHeight>=mt.scrollHeight-1;(mn&&Re.deltaY<0||nn&&Re.deltaY>0)&&(window.scrollBy({top:Re.deltaY,behavior:"auto"}),Re.preventDefault())},fn=Re=>{const mt=G.current;if(!mt)return;const mn=Re.target;if(!mn||!mt.contains(mn))return;let nn=mn;for(;nn&&nn!==mt;){const Hn=window.getComputedStyle(nn).overflowY;if((Hn==="auto"||Hn==="scroll")&&nn.scrollHeight>nn.clientHeight+1){const Aa=nn.scrollTop<=0,Qr=nn.scrollTop+nn.clientHeight>=nn.scrollHeight-1;(Re.deltaY<0&&Aa||Re.deltaY>0&&Qr)&&(window.scrollBy({top:Re.deltaY,behavior:"auto"}),Re.preventDefault());return}nn=nn.parentElement}},jn=Re=>{const mt=Math.max(0,6-Re);return{accordionDuration:.5+mt*.07,itemDuration:.34+mt*.035,stagger:.05+mt*.01,delayChildren:.06+mt*.015}},Ar=Re=>{const mt=jn(Re);return{open:{transition:{staggerChildren:mt.stagger,delayChildren:mt.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,mt.stagger*.7),staggerDirection:-1}}}},pn={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:qn?"var(--bg-base)":Xr?"#0f141c":"#0f172a",backgroundImage:qn?"none":bn,...dn},children:[!qn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${g?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>b(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${g?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:rt,children:Pe.map(Re=>{const mt=Re.icon,mn=Re.id===N,nn=!!Q[Re.id],Hn=jn(Re.items.length),Aa=Ar(Re.items.length);return u.jsxs(Mo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Tt(Re.id),className:`w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${mn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(mt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Re.label}),u.jsx(Mo.span,{className:"ml-auto inline-flex",animate:{rotate:nn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Hb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Mo.div,{initial:!1,animate:nn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Hn.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Mo.div,{variants:Aa,initial:!1,animate:nn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Re.items.map(Qr=>{const Wo=Qr.icon;return u.jsxs(Mo.button,{variants:pn,transition:{duration:Hn.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Ot(Re.id,Qr.id),b(!1)},className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Wo,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Qr.label]},Qr.id)})})},`${Re.id}-submenu-mobile`)]},Re.id)})})]})}),u.jsx("aside",{className:"hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:yn,maskImage:`url(${K})`,WebkitMaskImage:`url(${K})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:rt,children:Pe.map(Re=>{const mt=Re.icon,mn=Re.id===N,nn=!!Q[Re.id],Hn=jn(Re.items.length),Aa=Ar(Re.items.length);return u.jsxs(Mo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Tt(Re.id),className:`w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${mn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(mt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Re.label}),u.jsx(Mo.span,{className:"ml-auto inline-flex",animate:{rotate:nn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Hb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Mo.div,{initial:!1,animate:nn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Hn.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Mo.div,{variants:Aa,initial:!1,animate:nn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Re.items.map(Qr=>{const Wo=Qr.icon;return u.jsxs(Mo.button,{variants:pn,transition:{duration:Hn.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Ot(Re.id,Qr.id),className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Wo,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Qr.label]},Qr.id)})})},`${Re.id}-submenu-desktop`)]},Re.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${Fl} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:Cr,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(y?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:yn,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||z5(t.meta.dateStart,t.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>b(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(z2,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(cz,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(Sr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(dO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:(($t==null?void 0:$t.items)||[]).map(Re=>{const mt=Re.icon;return u.jsxs("button",{onClick:()=>Ot(($t==null?void 0:$t.id)||"overview",Re.id),className:"group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest text-gray-200 whitespace-nowrap border border-white/15 bg-gradient-to-br from-white/10 via-white/5 to-transparent shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)] active:translate-y-0 active:scale-[0.98] snap-start",children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(mt,{className:"w-3 h-3 text-[color:var(--accent)]"})}),Re.label]},`chip-${Re.id}`)})})]}),u.jsx("div",{ref:G,onWheelCapture:fn,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(Dae,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(e=t.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:w,sectionVisibility:Re=>un.has(Re),dashboardTitle:`Statistics Dashboard - ${($t==null?void 0:$t.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:Al})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(lO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(z2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(lz,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Ml]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:qn?"var(--bg-base)":Xr?"#0f141c":"#0f172a",backgroundImage:qn?"none":bn,...dn},children:[!qn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${Fl} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:Cr,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(y?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:yn,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Vo.length," Reports"]})})]}),u.jsxs("div",{className:`${Fl} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:Cr,children:[u.jsx("input",{type:"search",value:c,onChange:K=>d(K.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Vo.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:cr.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:Cr,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!r&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:Cr,children:"Loading reports..."}),Vo.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Vo.map(K=>{var fe,De,et,Tt;return u.jsx("a",{href:K.url,className:`${Fl} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:Cr,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:K.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:qhe(K.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(Sr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:K.commanders.length?K.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(fe=K.summary)!=null&&fe.mapSlices&&K.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(Hhe,{slices:K.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Khe,{value:(De=K.summary)==null?void 0:De.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((et=K.summary)==null?void 0:et.avgSquadSize)??"--"," / ",((Tt=K.summary)==null?void 0:Tt.avgEnemySize)??"--"]})]}),u.jsx(pz,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},K.id)})}),!i&&r&&cr.length===0&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:Cr,children:"No reports uploaded yet."}),!i&&r&&cr.length>0&&Vo.length===0&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:Cr,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:Al})]}),Ml]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");eb.createRoot(document.getElementById("root")).render(u.jsx(zg.StrictMode,{children:u.jsx(Yhe,{})}));
