var _R=Object.defineProperty;var LR=(e,t,n)=>t in e?_R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mx=(e,t,n)=>LR(e,typeof t!="symbol"?t+"":t,n);function $R(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oD={exports:{}},Zg={},lD={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=Symbol.for("react.element"),FR=Symbol.for("react.portal"),RR=Symbol.for("react.fragment"),BR=Symbol.for("react.strict_mode"),zR=Symbol.for("react.profiler"),UR=Symbol.for("react.provider"),VR=Symbol.for("react.context"),WR=Symbol.for("react.forward_ref"),HR=Symbol.for("react.suspense"),qR=Symbol.for("react.memo"),KR=Symbol.for("react.lazy"),GN=Symbol.iterator;function GR(e){return e===null||typeof e!="object"?null:(e=GN&&e[GN]||e["@@iterator"],typeof e=="function"?e:null)}var cD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uD=Object.assign,dD={};function Zu(e,t,n){this.props=e,this.context=t,this.refs=dD,this.updater=n||cD}Zu.prototype.isReactComponent={};Zu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fD(){}fD.prototype=Zu.prototype;function Tw(e,t,n){this.props=e,this.context=t,this.refs=dD,this.updater=n||cD}var Ew=Tw.prototype=new fD;Ew.constructor=Tw;uD(Ew,Zu.prototype);Ew.isPureReactComponent=!0;var YN=Array.isArray,mD=Object.prototype.hasOwnProperty,Dw={current:null},hD={key:!0,ref:!0,__self:!0,__source:!0};function pD(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)mD.call(t,r)&&!hD.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:im,type:e,key:a,ref:s,props:i,_owner:Dw.current}}function YR(e,t){return{$$typeof:im,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mw(e){return typeof e=="object"&&e!==null&&e.$$typeof===im}function XR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var XN=/\/+/g;function Ox(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XR(""+e.key):t.toString(36)}function qh(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case im:case FR:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ox(s,0):r,YN(i)?(n="",e!=null&&(n=e.replace(XN,"$&/")+"/"),qh(i,t,n,"",function(c){return c})):i!=null&&(Mw(i)&&(i=YR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(XN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",YN(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Ox(a,o);s+=qh(a,t,n,l,i)}else if(l=GR(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Ox(a,o++),s+=qh(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function nh(e,t,n){if(e==null)return e;var r=[],i=0;return qh(e,r,"","",function(a){return t.call(n,a,i++)}),r}function QR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ri={current:null},Kh={transition:null},ZR={ReactCurrentDispatcher:Ri,ReactCurrentBatchConfig:Kh,ReactCurrentOwner:Dw};function gD(){throw Error("act(...) is not supported in production builds of React.")}fn.Children={map:nh,forEach:function(e,t,n){nh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nh(e,function(){t++}),t},toArray:function(e){return nh(e,function(t){return t})||[]},only:function(e){if(!Mw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fn.Component=Zu;fn.Fragment=RR;fn.Profiler=zR;fn.PureComponent=Tw;fn.StrictMode=BR;fn.Suspense=HR;fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZR;fn.act=gD;fn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uD({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Dw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)mD.call(t,l)&&!hD.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:im,type:e.type,key:i,ref:a,props:r,_owner:s}};fn.createContext=function(e){return e={$$typeof:VR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UR,_context:e},e.Consumer=e};fn.createElement=pD;fn.createFactory=function(e){var t=pD.bind(null,e);return t.type=e,t};fn.createRef=function(){return{current:null}};fn.forwardRef=function(e){return{$$typeof:WR,render:e}};fn.isValidElement=Mw;fn.lazy=function(e){return{$$typeof:KR,_payload:{_status:-1,_result:e},_init:QR}};fn.memo=function(e,t){return{$$typeof:qR,type:e,compare:t===void 0?null:t}};fn.startTransition=function(e){var t=Kh.transition;Kh.transition={};try{e()}finally{Kh.transition=t}};fn.unstable_act=gD;fn.useCallback=function(e,t){return Ri.current.useCallback(e,t)};fn.useContext=function(e){return Ri.current.useContext(e)};fn.useDebugValue=function(){};fn.useDeferredValue=function(e){return Ri.current.useDeferredValue(e)};fn.useEffect=function(e,t){return Ri.current.useEffect(e,t)};fn.useId=function(){return Ri.current.useId()};fn.useImperativeHandle=function(e,t,n){return Ri.current.useImperativeHandle(e,t,n)};fn.useInsertionEffect=function(e,t){return Ri.current.useInsertionEffect(e,t)};fn.useLayoutEffect=function(e,t){return Ri.current.useLayoutEffect(e,t)};fn.useMemo=function(e,t){return Ri.current.useMemo(e,t)};fn.useReducer=function(e,t,n){return Ri.current.useReducer(e,t,n)};fn.useRef=function(e){return Ri.current.useRef(e)};fn.useState=function(e){return Ri.current.useState(e)};fn.useSyncExternalStore=function(e,t,n){return Ri.current.useSyncExternalStore(e,t,n)};fn.useTransition=function(){return Ri.current.useTransition()};fn.version="18.3.1";lD.exports=fn;var v=lD.exports;const Jg=gs(v),JR=$R({__proto__:null,default:Jg},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eB=v,tB=Symbol.for("react.element"),nB=Symbol.for("react.fragment"),rB=Object.prototype.hasOwnProperty,iB=eB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aB={key:!0,ref:!0,__self:!0,__source:!0};function xD(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)rB.call(t,r)&&!aB.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:tB,type:e,key:a,ref:s,props:i,_owner:iB.current}}Zg.Fragment=nB;Zg.jsx=xD;Zg.jsxs=xD;oD.exports=Zg;var u=oD.exports,oy={},vD={exports:{}},ka={},yD={exports:{}},bD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,F){var P=G.length;G.push(F);e:for(;0<P;){var A=P-1>>>1,te=G[A];if(0<i(te,F))G[A]=F,G[P]=te,P=A;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var F=G[0],P=G.pop();if(P!==F){G[0]=P;e:for(var A=0,te=G.length,S=te>>>1;A<S;){var U=2*(A+1)-1,q=G[U],ee=U+1,K=G[ee];if(0>i(q,P))ee<te&&0>i(K,q)?(G[A]=K,G[ee]=P,A=ee):(G[A]=q,G[U]=P,A=U);else if(ee<te&&0>i(K,P))G[A]=K,G[ee]=P,A=ee;else break e}}return F}function i(G,F){var P=G.sortIndex-F.sortIndex;return P!==0?P:G.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=G)r(c),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(c)}}function k(G){if(g=!1,w(G),!p)if(n(l)!==null)p=!0,de(C);else{var F=n(c);F!==null&&X(k,F.startTime-G)}}function C(G,F){p=!1,g&&(g=!1,x(M),M=-1),m=!0;var P=h;try{for(w(F),f=n(l);f!==null&&(!(f.expirationTime>F)||G&&!D());){var A=f.callback;if(typeof A=="function"){f.callback=null,h=f.priorityLevel;var te=A(f.expirationTime<=F);F=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(l)&&r(l),w(F)}else r(l);f=n(l)}if(f!==null)var S=!0;else{var U=n(c);U!==null&&X(k,U.startTime-F),S=!1}return S}finally{f=null,h=P,m=!1}}var N=!1,j=null,M=-1,_=5,T=-1;function D(){return!(e.unstable_now()-T<_)}function O(){if(j!==null){var G=e.unstable_now();T=G;var F=!0;try{F=j(!0,G)}finally{F?Z():(N=!1,j=null)}}else N=!1}var Z;if(typeof b=="function")Z=function(){b(O)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,se=J.port2;J.port1.onmessage=O,Z=function(){se.postMessage(null)}}else Z=function(){y(O,0)};function de(G){j=G,N||(N=!0,Z())}function X(G,F){M=y(function(){G(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,de(C))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var P=h;h=F;try{return G()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,F){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var P=h;h=G;try{return F()}finally{h=P}},e.unstable_scheduleCallback=function(G,F,P){var A=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?A+P:A):P=A,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=P+te,G={id:d++,callback:F,priorityLevel:G,startTime:P,expirationTime:te,sortIndex:-1},P>A?(G.sortIndex=P,t(c,G),n(l)===null&&G===n(c)&&(g?(x(M),M=-1):g=!0,X(k,P-A))):(G.sortIndex=te,t(l,G),p||m||(p=!0,de(C))),G},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(G){var F=h;return function(){var P=h;h=F;try{return G.apply(this,arguments)}finally{h=P}}}})(bD);yD.exports=bD;var sB=yD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oB=v,ya=sB;function Ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wD=new Set,mf={};function jc(e,t){Du(e,t),Du(e+"Capture",t)}function Du(e,t){for(mf[e]=t,e=0;e<t.length;e++)wD.add(t[e])}var lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ly=Object.prototype.hasOwnProperty,lB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QN={},ZN={};function cB(e){return ly.call(ZN,e)?!0:ly.call(QN,e)?!1:lB.test(e)?ZN[e]=!0:(QN[e]=!0,!1)}function uB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dB(e,t,n,r){if(t===null||typeof t>"u"||uB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bi(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var di={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){di[e]=new Bi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];di[t]=new Bi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){di[e]=new Bi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){di[e]=new Bi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){di[e]=new Bi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){di[e]=new Bi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){di[e]=new Bi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){di[e]=new Bi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){di[e]=new Bi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ow=/[\-:]([a-z])/g;function Iw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ow,Iw);di[t]=new Bi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ow,Iw);di[t]=new Bi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ow,Iw);di[t]=new Bi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){di[e]=new Bi(e,1,!1,e.toLowerCase(),null,!1,!1)});di.xlinkHref=new Bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){di[e]=new Bi(e,1,!1,e.toLowerCase(),null,!0,!0)});function _w(e,t,n,r){var i=di.hasOwnProperty(t)?di[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dB(t,n,i,r)&&(n=null),r||i===null?cB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bo=oB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rh=Symbol.for("react.element"),ru=Symbol.for("react.portal"),iu=Symbol.for("react.fragment"),Lw=Symbol.for("react.strict_mode"),cy=Symbol.for("react.profiler"),kD=Symbol.for("react.provider"),SD=Symbol.for("react.context"),$w=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),dy=Symbol.for("react.suspense_list"),Fw=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),ND=Symbol.for("react.offscreen"),JN=Symbol.iterator;function vd(e){return e===null||typeof e!="object"?null:(e=JN&&e[JN]||e["@@iterator"],typeof e=="function"?e:null)}var fr=Object.assign,Ix;function Fd(e){if(Ix===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ix=t&&t[1]||""}return`
`+Ix+e}var _x=!1;function Lx(e,t){if(!e||_x)return"";_x=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{_x=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fd(e):""}function fB(e){switch(e.tag){case 5:return Fd(e.type);case 16:return Fd("Lazy");case 13:return Fd("Suspense");case 19:return Fd("SuspenseList");case 0:case 2:case 15:return e=Lx(e.type,!1),e;case 11:return e=Lx(e.type.render,!1),e;case 1:return e=Lx(e.type,!0),e;default:return""}}function fy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case iu:return"Fragment";case ru:return"Portal";case cy:return"Profiler";case Lw:return"StrictMode";case uy:return"Suspense";case dy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case SD:return(e.displayName||"Context")+".Consumer";case kD:return(e._context.displayName||"Context")+".Provider";case $w:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fw:return t=e.displayName||null,t!==null?t:fy(e.type)||"Memo";case Ro:t=e._payload,e=e._init;try{return fy(e(t))}catch{}}return null}function mB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fy(t);case 8:return t===Lw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function CD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hB(e){var t=CD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ih(e){e._valueTracker||(e._valueTracker=hB(e))}function jD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=CD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function my(e,t){var n=t.checked;return fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function e2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ll(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AD(e,t){t=t.checked,t!=null&&_w(e,"checked",t,!1)}function hy(e,t){AD(e,t);var n=ll(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?py(e,t.type,n):t.hasOwnProperty("defaultValue")&&py(e,t.type,ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function t2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function py(e,t,n){(t!=="number"||gp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rd=Array.isArray;function wu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ll(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function gy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function n2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ye(92));if(Rd(n)){if(1<n.length)throw Error(Ye(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ll(n)}}function PD(e,t){var n=ll(t.value),r=ll(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function r2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function TD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ah,ED=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ah=ah||document.createElement("div"),ah.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ah.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pB=["Webkit","ms","Moz","O"];Object.keys(Kd).forEach(function(e){pB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kd[t]=Kd[e]})});function DD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kd.hasOwnProperty(e)&&Kd[e]?(""+t).trim():t+"px"}function MD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=DD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var gB=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vy(e,t){if(t){if(gB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ye(62))}}function yy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=null;function Rw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wy=null,ku=null,Su=null;function i2(e){if(e=om(e)){if(typeof wy!="function")throw Error(Ye(280));var t=e.stateNode;t&&(t=i0(t),wy(e.stateNode,e.type,t))}}function OD(e){ku?Su?Su.push(e):Su=[e]:ku=e}function ID(){if(ku){var e=ku,t=Su;if(Su=ku=null,i2(e),t)for(e=0;e<t.length;e++)i2(t[e])}}function _D(e,t){return e(t)}function LD(){}var $x=!1;function $D(e,t,n){if($x)return e(t,n);$x=!0;try{return _D(e,t,n)}finally{$x=!1,(ku!==null||Su!==null)&&(LD(),ID())}}function pf(e,t){var n=e.stateNode;if(n===null)return null;var r=i0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ye(231,t,typeof n));return n}var ky=!1;if(lo)try{var yd={};Object.defineProperty(yd,"passive",{get:function(){ky=!0}}),window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{ky=!1}function xB(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Gd=!1,xp=null,vp=!1,Sy=null,vB={onError:function(e){Gd=!0,xp=e}};function yB(e,t,n,r,i,a,s,o,l){Gd=!1,xp=null,xB.apply(vB,arguments)}function bB(e,t,n,r,i,a,s,o,l){if(yB.apply(this,arguments),Gd){if(Gd){var c=xp;Gd=!1,xp=null}else throw Error(Ye(198));vp||(vp=!0,Sy=c)}}function Ac(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function FD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function a2(e){if(Ac(e)!==e)throw Error(Ye(188))}function wB(e){var t=e.alternate;if(!t){if(t=Ac(e),t===null)throw Error(Ye(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return a2(i),e;if(a===r)return a2(i),t;a=a.sibling}throw Error(Ye(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ye(189))}}if(n.alternate!==r)throw Error(Ye(190))}if(n.tag!==3)throw Error(Ye(188));return n.stateNode.current===n?e:t}function RD(e){return e=wB(e),e!==null?BD(e):null}function BD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=BD(e);if(t!==null)return t;e=e.sibling}return null}var zD=ya.unstable_scheduleCallback,s2=ya.unstable_cancelCallback,kB=ya.unstable_shouldYield,SB=ya.unstable_requestPaint,jr=ya.unstable_now,NB=ya.unstable_getCurrentPriorityLevel,Bw=ya.unstable_ImmediatePriority,UD=ya.unstable_UserBlockingPriority,yp=ya.unstable_NormalPriority,CB=ya.unstable_LowPriority,VD=ya.unstable_IdlePriority,e0=null,Ds=null;function jB(e){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(e0,e,void 0,(e.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:TB,AB=Math.log,PB=Math.LN2;function TB(e){return e>>>=0,e===0?32:31-(AB(e)/PB|0)|0}var sh=64,oh=4194304;function Bd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Bd(o):(a&=s,a!==0&&(r=Bd(a)))}else s=n&~i,s!==0?r=Bd(s):a!==0&&(r=Bd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ss(t),i=1<<n,r|=e[n],t&=~i;return r}function EB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ss(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=EB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Ny(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function WD(){var e=sh;return sh<<=1,!(sh&4194240)&&(sh=64),e}function Fx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function am(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ss(t),e[t]=n}function MB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ss(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function zw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ss(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var On=0;function HD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qD,Uw,KD,GD,YD,Cy=!1,lh=[],Qo=null,Zo=null,Jo=null,gf=new Map,xf=new Map,Wo=[],OB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o2(e,t){switch(e){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":gf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xf.delete(t.pointerId)}}function bd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=om(t),t!==null&&Uw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function IB(e,t,n,r,i){switch(t){case"focusin":return Qo=bd(Qo,e,t,n,r,i),!0;case"dragenter":return Zo=bd(Zo,e,t,n,r,i),!0;case"mouseover":return Jo=bd(Jo,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return gf.set(a,bd(gf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,xf.set(a,bd(xf.get(a)||null,e,t,n,r,i)),!0}return!1}function XD(e){var t=Kl(e.target);if(t!==null){var n=Ac(t);if(n!==null){if(t=n.tag,t===13){if(t=FD(n),t!==null){e.blockedOn=t,YD(e.priority,function(){KD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);by=r,n.target.dispatchEvent(r),by=null}else return t=om(n),t!==null&&Uw(t),e.blockedOn=n,!1;t.shift()}return!0}function l2(e,t,n){Gh(e)&&n.delete(t)}function _B(){Cy=!1,Qo!==null&&Gh(Qo)&&(Qo=null),Zo!==null&&Gh(Zo)&&(Zo=null),Jo!==null&&Gh(Jo)&&(Jo=null),gf.forEach(l2),xf.forEach(l2)}function wd(e,t){e.blockedOn===t&&(e.blockedOn=null,Cy||(Cy=!0,ya.unstable_scheduleCallback(ya.unstable_NormalPriority,_B)))}function vf(e){function t(i){return wd(i,e)}if(0<lh.length){wd(lh[0],e);for(var n=1;n<lh.length;n++){var r=lh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qo!==null&&wd(Qo,e),Zo!==null&&wd(Zo,e),Jo!==null&&wd(Jo,e),gf.forEach(t),xf.forEach(t),n=0;n<Wo.length;n++)r=Wo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wo.length&&(n=Wo[0],n.blockedOn===null);)XD(n),n.blockedOn===null&&Wo.shift()}var Nu=bo.ReactCurrentBatchConfig,wp=!0;function LB(e,t,n,r){var i=On,a=Nu.transition;Nu.transition=null;try{On=1,Vw(e,t,n,r)}finally{On=i,Nu.transition=a}}function $B(e,t,n,r){var i=On,a=Nu.transition;Nu.transition=null;try{On=4,Vw(e,t,n,r)}finally{On=i,Nu.transition=a}}function Vw(e,t,n,r){if(wp){var i=jy(e,t,n,r);if(i===null)Gx(e,t,r,kp,n),o2(e,r);else if(IB(i,e,t,n,r))r.stopPropagation();else if(o2(e,r),t&4&&-1<OB.indexOf(e)){for(;i!==null;){var a=om(i);if(a!==null&&qD(a),a=jy(e,t,n,r),a===null&&Gx(e,t,r,kp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Gx(e,t,r,null,n)}}var kp=null;function jy(e,t,n,r){if(kp=null,e=Rw(r),e=Kl(e),e!==null)if(t=Ac(e),t===null)e=null;else if(n=t.tag,n===13){if(e=FD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kp=e,null}function QD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NB()){case Bw:return 1;case UD:return 4;case yp:case CB:return 16;case VD:return 536870912;default:return 16}default:return 16}}var Ko=null,Ww=null,Yh=null;function ZD(){if(Yh)return Yh;var e,t=Ww,n=t.length,r,i="value"in Ko?Ko.value:Ko.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Yh=i.slice(e,1<r?1-r:void 0)}function Xh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ch(){return!0}function c2(){return!1}function Sa(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ch:c2,this.isPropagationStopped=c2,this}return fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ch)},persist:function(){},isPersistent:ch}),t}var Ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hw=Sa(Ju),sm=fr({},Ju,{view:0,detail:0}),FB=Sa(sm),Rx,Bx,kd,t0=fr({},sm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kd&&(kd&&e.type==="mousemove"?(Rx=e.screenX-kd.screenX,Bx=e.screenY-kd.screenY):Bx=Rx=0,kd=e),Rx)},movementY:function(e){return"movementY"in e?e.movementY:Bx}}),u2=Sa(t0),RB=fr({},t0,{dataTransfer:0}),BB=Sa(RB),zB=fr({},sm,{relatedTarget:0}),zx=Sa(zB),UB=fr({},Ju,{animationName:0,elapsedTime:0,pseudoElement:0}),VB=Sa(UB),WB=fr({},Ju,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HB=Sa(WB),qB=fr({},Ju,{data:0}),d2=Sa(qB),KB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=YB[e])?!!t[e]:!1}function qw(){return XB}var QB=fr({},sm,{key:function(e){if(e.key){var t=KB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?GB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qw,charCode:function(e){return e.type==="keypress"?Xh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZB=Sa(QB),JB=fr({},t0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f2=Sa(JB),ez=fr({},sm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qw}),tz=Sa(ez),nz=fr({},Ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),rz=Sa(nz),iz=fr({},t0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),az=Sa(iz),sz=[9,13,27,32],Kw=lo&&"CompositionEvent"in window,Yd=null;lo&&"documentMode"in document&&(Yd=document.documentMode);var oz=lo&&"TextEvent"in window&&!Yd,JD=lo&&(!Kw||Yd&&8<Yd&&11>=Yd),m2=" ",h2=!1;function eM(e,t){switch(e){case"keyup":return sz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var au=!1;function lz(e,t){switch(e){case"compositionend":return tM(t);case"keypress":return t.which!==32?null:(h2=!0,m2);case"textInput":return e=t.data,e===m2&&h2?null:e;default:return null}}function cz(e,t){if(au)return e==="compositionend"||!Kw&&eM(e,t)?(e=ZD(),Yh=Ww=Ko=null,au=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return JD&&t.locale!=="ko"?null:t.data;default:return null}}var uz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uz[e.type]:t==="textarea"}function nM(e,t,n,r){OD(r),t=Sp(t,"onChange"),0<t.length&&(n=new Hw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xd=null,yf=null;function dz(e){mM(e,0)}function n0(e){var t=lu(e);if(jD(t))return e}function fz(e,t){if(e==="change")return t}var rM=!1;if(lo){var Ux;if(lo){var Vx="oninput"in document;if(!Vx){var g2=document.createElement("div");g2.setAttribute("oninput","return;"),Vx=typeof g2.oninput=="function"}Ux=Vx}else Ux=!1;rM=Ux&&(!document.documentMode||9<document.documentMode)}function x2(){Xd&&(Xd.detachEvent("onpropertychange",iM),yf=Xd=null)}function iM(e){if(e.propertyName==="value"&&n0(yf)){var t=[];nM(t,yf,e,Rw(e)),$D(dz,t)}}function mz(e,t,n){e==="focusin"?(x2(),Xd=t,yf=n,Xd.attachEvent("onpropertychange",iM)):e==="focusout"&&x2()}function hz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return n0(yf)}function pz(e,t){if(e==="click")return n0(t)}function gz(e,t){if(e==="input"||e==="change")return n0(t)}function xz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var us=typeof Object.is=="function"?Object.is:xz;function bf(e,t){if(us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ly.call(t,i)||!us(e[i],t[i]))return!1}return!0}function v2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y2(e,t){var n=v2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v2(n)}}function aM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sM(){for(var e=window,t=gp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gp(e.document)}return t}function Gw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vz(e){var t=sM(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&aM(n.ownerDocument.documentElement,n)){if(r!==null&&Gw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=y2(n,a);var s=y2(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yz=lo&&"documentMode"in document&&11>=document.documentMode,su=null,Ay=null,Qd=null,Py=!1;function b2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Py||su==null||su!==gp(r)||(r=su,"selectionStart"in r&&Gw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qd&&bf(Qd,r)||(Qd=r,r=Sp(Ay,"onSelect"),0<r.length&&(t=new Hw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=su)))}function uh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ou={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},Wx={},oM={};lo&&(oM=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function r0(e){if(Wx[e])return Wx[e];if(!ou[e])return e;var t=ou[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oM)return Wx[e]=t[n];return e}var lM=r0("animationend"),cM=r0("animationiteration"),uM=r0("animationstart"),dM=r0("transitionend"),fM=new Map,w2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hl(e,t){fM.set(e,t),jc(t,[e])}for(var Hx=0;Hx<w2.length;Hx++){var qx=w2[Hx],bz=qx.toLowerCase(),wz=qx[0].toUpperCase()+qx.slice(1);hl(bz,"on"+wz)}hl(lM,"onAnimationEnd");hl(cM,"onAnimationIteration");hl(uM,"onAnimationStart");hl("dblclick","onDoubleClick");hl("focusin","onFocus");hl("focusout","onBlur");hl(dM,"onTransitionEnd");Du("onMouseEnter",["mouseout","mouseover"]);Du("onMouseLeave",["mouseout","mouseover"]);Du("onPointerEnter",["pointerout","pointerover"]);Du("onPointerLeave",["pointerout","pointerover"]);jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jc("onBeforeInput",["compositionend","keypress","textInput","paste"]);jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kz=new Set("cancel close invalid load scroll toggle".split(" ").concat(zd));function k2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bB(r,t,void 0,e),e.currentTarget=null}function mM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;k2(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;k2(i,o,c),a=l}}}if(vp)throw e=Sy,vp=!1,Sy=null,e}function Qn(e,t){var n=t[Oy];n===void 0&&(n=t[Oy]=new Set);var r=e+"__bubble";n.has(r)||(hM(t,e,2,!1),n.add(r))}function Kx(e,t,n){var r=0;t&&(r|=4),hM(n,e,r,t)}var dh="_reactListening"+Math.random().toString(36).slice(2);function wf(e){if(!e[dh]){e[dh]=!0,wD.forEach(function(n){n!=="selectionchange"&&(kz.has(n)||Kx(n,!1,e),Kx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dh]||(t[dh]=!0,Kx("selectionchange",!1,t))}}function hM(e,t,n,r){switch(QD(t)){case 1:var i=LB;break;case 4:i=$B;break;default:i=Vw}n=i.bind(null,t,n,e),i=void 0,!ky||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gx(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Kl(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}$D(function(){var c=a,d=Rw(n),f=[];e:{var h=fM.get(e);if(h!==void 0){var m=Hw,p=e;switch(e){case"keypress":if(Xh(n)===0)break e;case"keydown":case"keyup":m=ZB;break;case"focusin":p="focus",m=zx;break;case"focusout":p="blur",m=zx;break;case"beforeblur":case"afterblur":m=zx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=u2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=BB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tz;break;case lM:case cM:case uM:m=VB;break;case dM:m=rz;break;case"scroll":m=FB;break;case"wheel":m=az;break;case"copy":case"cut":case"paste":m=HB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=f2}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,x!==null&&(k=pf(b,x),k!=null&&g.push(kf(b,k,w)))),y)break;b=b.return}0<g.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==by&&(p=n.relatedTarget||n.fromElement)&&(Kl(p)||p[co]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?Kl(p):null,p!==null&&(y=Ac(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=u2,k="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=f2,k="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?h:lu(m),w=p==null?h:lu(p),h=new g(k,b+"leave",m,n,d),h.target=y,h.relatedTarget=w,k=null,Kl(d)===c&&(g=new g(x,b+"enter",p,n,d),g.target=w,g.relatedTarget=y,k=g),y=k,m&&p)t:{for(g=m,x=p,b=0,w=g;w;w=Kc(w))b++;for(w=0,k=x;k;k=Kc(k))w++;for(;0<b-w;)g=Kc(g),b--;for(;0<w-b;)x=Kc(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=Kc(g),x=Kc(x)}g=null}else g=null;m!==null&&S2(f,h,m,g,!1),p!==null&&y!==null&&S2(f,y,p,g,!0)}}e:{if(h=c?lu(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=fz;else if(p2(h))if(rM)C=gz;else{C=hz;var N=mz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=pz);if(C&&(C=C(e,c))){nM(f,C,n,d);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&py(h,"number",h.value)}switch(N=c?lu(c):window,e){case"focusin":(p2(N)||N.contentEditable==="true")&&(su=N,Ay=c,Qd=null);break;case"focusout":Qd=Ay=su=null;break;case"mousedown":Py=!0;break;case"contextmenu":case"mouseup":case"dragend":Py=!1,b2(f,n,d);break;case"selectionchange":if(yz)break;case"keydown":case"keyup":b2(f,n,d)}var j;if(Kw)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else au?eM(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(JD&&n.locale!=="ko"&&(au||M!=="onCompositionStart"?M==="onCompositionEnd"&&au&&(j=ZD()):(Ko=d,Ww="value"in Ko?Ko.value:Ko.textContent,au=!0)),N=Sp(c,M),0<N.length&&(M=new d2(M,e,null,n,d),f.push({event:M,listeners:N}),j?M.data=j:(j=tM(n),j!==null&&(M.data=j)))),(j=oz?lz(e,n):cz(e,n))&&(c=Sp(c,"onBeforeInput"),0<c.length&&(d=new d2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=j))}mM(f,t)})}function kf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=pf(e,n),a!=null&&r.unshift(kf(e,a,i)),a=pf(e,t),a!=null&&r.push(kf(e,a,i))),e=e.return}return r}function Kc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function S2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=pf(n,a),l!=null&&s.unshift(kf(n,l,o))):i||(l=pf(n,a),l!=null&&s.push(kf(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Sz=/\r\n?/g,Nz=/\u0000|\uFFFD/g;function N2(e){return(typeof e=="string"?e:""+e).replace(Sz,`
`).replace(Nz,"")}function fh(e,t,n){if(t=N2(t),N2(e)!==t&&n)throw Error(Ye(425))}function Np(){}var Ty=null,Ey=null;function Dy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var My=typeof setTimeout=="function"?setTimeout:void 0,Cz=typeof clearTimeout=="function"?clearTimeout:void 0,C2=typeof Promise=="function"?Promise:void 0,jz=typeof queueMicrotask=="function"?queueMicrotask:typeof C2<"u"?function(e){return C2.resolve(null).then(e).catch(Az)}:My;function Az(e){setTimeout(function(){throw e})}function Yx(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vf(t)}function el(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function j2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ed=Math.random().toString(36).slice(2),Ts="__reactFiber$"+ed,Sf="__reactProps$"+ed,co="__reactContainer$"+ed,Oy="__reactEvents$"+ed,Pz="__reactListeners$"+ed,Tz="__reactHandles$"+ed;function Kl(e){var t=e[Ts];if(t)return t;for(var n=e.parentNode;n;){if(t=n[co]||n[Ts]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=j2(e);e!==null;){if(n=e[Ts])return n;e=j2(e)}return t}e=n,n=e.parentNode}return null}function om(e){return e=e[Ts]||e[co],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ye(33))}function i0(e){return e[Sf]||null}var Iy=[],cu=-1;function pl(e){return{current:e}}function Jn(e){0>cu||(e.current=Iy[cu],Iy[cu]=null,cu--)}function Wn(e,t){cu++,Iy[cu]=e.current,e.current=t}var cl={},Si=pl(cl),Yi=pl(!1),uc=cl;function Mu(e,t){var n=e.type.contextTypes;if(!n)return cl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xi(e){return e=e.childContextTypes,e!=null}function Cp(){Jn(Yi),Jn(Si)}function A2(e,t,n){if(Si.current!==cl)throw Error(Ye(168));Wn(Si,t),Wn(Yi,n)}function pM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ye(108,mB(e)||"Unknown",i));return fr({},n,r)}function jp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cl,uc=Si.current,Wn(Si,e),Wn(Yi,Yi.current),!0}function P2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ye(169));n?(e=pM(e,t,uc),r.__reactInternalMemoizedMergedChildContext=e,Jn(Yi),Jn(Si),Wn(Si,e)):Jn(Yi),Wn(Yi,n)}var Ks=null,a0=!1,Xx=!1;function gM(e){Ks===null?Ks=[e]:Ks.push(e)}function Ez(e){a0=!0,gM(e)}function gl(){if(!Xx&&Ks!==null){Xx=!0;var e=0,t=On;try{var n=Ks;for(On=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ks=null,a0=!1}catch(i){throw Ks!==null&&(Ks=Ks.slice(e+1)),zD(Bw,gl),i}finally{On=t,Xx=!1}}return null}var uu=[],du=0,Ap=null,Pp=0,_a=[],La=0,dc=null,Zs=1,Js="";function Rl(e,t){uu[du++]=Pp,uu[du++]=Ap,Ap=e,Pp=t}function xM(e,t,n){_a[La++]=Zs,_a[La++]=Js,_a[La++]=dc,dc=e;var r=Zs;e=Js;var i=32-ss(r)-1;r&=~(1<<i),n+=1;var a=32-ss(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Zs=1<<32-ss(t)+i|n<<i|r,Js=a+e}else Zs=1<<a|n<<i|r,Js=e}function Yw(e){e.return!==null&&(Rl(e,1),xM(e,1,0))}function Xw(e){for(;e===Ap;)Ap=uu[--du],uu[du]=null,Pp=uu[--du],uu[du]=null;for(;e===dc;)dc=_a[--La],_a[La]=null,Js=_a[--La],_a[La]=null,Zs=_a[--La],_a[La]=null}var pa=null,ma=null,rr=!1,ns=null;function vM(e,t){var n=Fa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function T2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pa=e,ma=el(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pa=e,ma=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dc!==null?{id:Zs,overflow:Js}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pa=e,ma=null,!0):!1;default:return!1}}function _y(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ly(e){if(rr){var t=ma;if(t){var n=t;if(!T2(e,t)){if(_y(e))throw Error(Ye(418));t=el(n.nextSibling);var r=pa;t&&T2(e,t)?vM(r,n):(e.flags=e.flags&-4097|2,rr=!1,pa=e)}}else{if(_y(e))throw Error(Ye(418));e.flags=e.flags&-4097|2,rr=!1,pa=e}}}function E2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pa=e}function mh(e){if(e!==pa)return!1;if(!rr)return E2(e),rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dy(e.type,e.memoizedProps)),t&&(t=ma)){if(_y(e))throw yM(),Error(Ye(418));for(;t;)vM(e,t),t=el(t.nextSibling)}if(E2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ma=el(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ma=null}}else ma=pa?el(e.stateNode.nextSibling):null;return!0}function yM(){for(var e=ma;e;)e=el(e.nextSibling)}function Ou(){ma=pa=null,rr=!1}function Qw(e){ns===null?ns=[e]:ns.push(e)}var Dz=bo.ReactCurrentBatchConfig;function Sd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ye(309));var r=n.stateNode}if(!r)throw Error(Ye(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ye(284));if(!n._owner)throw Error(Ye(290,e))}return e}function hh(e,t){throw e=Object.prototype.toString.call(t),Error(Ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function D2(e){var t=e._init;return t(e._payload)}function bM(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=il(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,b,w,k){return b===null||b.tag!==6?(b=rv(w,x.mode,k),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,k){var C=w.type;return C===iu?d(x,b,w.props.children,k,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ro&&D2(C)===b.type)?(k=i(b,w.props),k.ref=Sd(x,b,w),k.return=x,k):(k=rp(w.type,w.key,w.props,null,x.mode,k),k.ref=Sd(x,b,w),k.return=x,k)}function c(x,b,w,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=iv(w,x.mode,k),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function d(x,b,w,k,C){return b===null||b.tag!==7?(b=rc(w,x.mode,k,C),b.return=x,b):(b=i(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=rv(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rh:return w=rp(b.type,b.key,b.props,null,x.mode,w),w.ref=Sd(x,null,b),w.return=x,w;case ru:return b=iv(b,x.mode,w),b.return=x,b;case Ro:var k=b._init;return f(x,k(b._payload),w)}if(Rd(b)||vd(b))return b=rc(b,x.mode,w,null),b.return=x,b;hh(x,b)}return null}function h(x,b,w,k){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(x,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rh:return w.key===C?l(x,b,w,k):null;case ru:return w.key===C?c(x,b,w,k):null;case Ro:return C=w._init,h(x,b,C(w._payload),k)}if(Rd(w)||vd(w))return C!==null?null:d(x,b,w,k,null);hh(x,w)}return null}function m(x,b,w,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(w)||null,o(b,x,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case rh:return x=x.get(k.key===null?w:k.key)||null,l(b,x,k,C);case ru:return x=x.get(k.key===null?w:k.key)||null,c(b,x,k,C);case Ro:var N=k._init;return m(x,b,w,N(k._payload),C)}if(Rd(k)||vd(k))return x=x.get(w)||null,d(b,x,k,C,null);hh(b,k)}return null}function p(x,b,w,k){for(var C=null,N=null,j=b,M=b=0,_=null;j!==null&&M<w.length;M++){j.index>M?(_=j,j=null):_=j.sibling;var T=h(x,j,w[M],k);if(T===null){j===null&&(j=_);break}e&&j&&T.alternate===null&&t(x,j),b=a(T,b,M),N===null?C=T:N.sibling=T,N=T,j=_}if(M===w.length)return n(x,j),rr&&Rl(x,M),C;if(j===null){for(;M<w.length;M++)j=f(x,w[M],k),j!==null&&(b=a(j,b,M),N===null?C=j:N.sibling=j,N=j);return rr&&Rl(x,M),C}for(j=r(x,j);M<w.length;M++)_=m(j,x,M,w[M],k),_!==null&&(e&&_.alternate!==null&&j.delete(_.key===null?M:_.key),b=a(_,b,M),N===null?C=_:N.sibling=_,N=_);return e&&j.forEach(function(D){return t(x,D)}),rr&&Rl(x,M),C}function g(x,b,w,k){var C=vd(w);if(typeof C!="function")throw Error(Ye(150));if(w=C.call(w),w==null)throw Error(Ye(151));for(var N=C=null,j=b,M=b=0,_=null,T=w.next();j!==null&&!T.done;M++,T=w.next()){j.index>M?(_=j,j=null):_=j.sibling;var D=h(x,j,T.value,k);if(D===null){j===null&&(j=_);break}e&&j&&D.alternate===null&&t(x,j),b=a(D,b,M),N===null?C=D:N.sibling=D,N=D,j=_}if(T.done)return n(x,j),rr&&Rl(x,M),C;if(j===null){for(;!T.done;M++,T=w.next())T=f(x,T.value,k),T!==null&&(b=a(T,b,M),N===null?C=T:N.sibling=T,N=T);return rr&&Rl(x,M),C}for(j=r(x,j);!T.done;M++,T=w.next())T=m(j,x,M,T.value,k),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?M:T.key),b=a(T,b,M),N===null?C=T:N.sibling=T,N=T);return e&&j.forEach(function(O){return t(x,O)}),rr&&Rl(x,M),C}function y(x,b,w,k){if(typeof w=="object"&&w!==null&&w.type===iu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rh:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===iu){if(N.tag===7){n(x,N.sibling),b=i(N,w.props.children),b.return=x,x=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ro&&D2(C)===N.type){n(x,N.sibling),b=i(N,w.props),b.ref=Sd(x,N,w),b.return=x,x=b;break e}n(x,N);break}else t(x,N);N=N.sibling}w.type===iu?(b=rc(w.props.children,x.mode,k,w.key),b.return=x,x=b):(k=rp(w.type,w.key,w.props,null,x.mode,k),k.ref=Sd(x,b,w),k.return=x,x=k)}return s(x);case ru:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=iv(w,x.mode,k),b.return=x,x=b}return s(x);case Ro:return N=w._init,y(x,b,N(w._payload),k)}if(Rd(w))return p(x,b,w,k);if(vd(w))return g(x,b,w,k);hh(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=rv(w,x.mode,k),b.return=x,x=b),s(x)):n(x,b)}return y}var Iu=bM(!0),wM=bM(!1),Tp=pl(null),Ep=null,fu=null,Zw=null;function Jw(){Zw=fu=Ep=null}function e1(e){var t=Tp.current;Jn(Tp),e._currentValue=t}function $y(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cu(e,t){Ep=e,Zw=fu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ki=!0),e.firstContext=null)}function za(e){var t=e._currentValue;if(Zw!==e)if(e={context:e,memoizedValue:t,next:null},fu===null){if(Ep===null)throw Error(Ye(308));fu=e,Ep.dependencies={lanes:0,firstContext:e}}else fu=fu.next=e;return t}var Gl=null;function t1(e){Gl===null?Gl=[e]:Gl.push(e)}function kM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,t1(t)):(n.next=i.next,i.next=n),t.interleaved=n,uo(e,r)}function uo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bo=!1;function n1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,gn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,uo(e,n)}return i=r.interleaved,i===null?(t.next=t,t1(r)):(t.next=i.next,i.next=t),r.interleaved=t,uo(e,n)}function Qh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zw(e,n)}}function M2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dp(e,t,n,r){var i=e.updateQueue;Bo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=fr({},f,h);break e;case 2:Bo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);mc|=s,e.lanes=s,e.memoizedState=f}}function O2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ye(191,i));i.call(r)}}}var lm={},Ms=pl(lm),Nf=pl(lm),Cf=pl(lm);function Yl(e){if(e===lm)throw Error(Ye(174));return e}function r1(e,t){switch(Wn(Cf,t),Wn(Nf,e),Wn(Ms,lm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xy(t,e)}Jn(Ms),Wn(Ms,t)}function _u(){Jn(Ms),Jn(Nf),Jn(Cf)}function NM(e){Yl(Cf.current);var t=Yl(Ms.current),n=xy(t,e.type);t!==n&&(Wn(Nf,e),Wn(Ms,n))}function i1(e){Nf.current===e&&(Jn(Ms),Jn(Nf))}var lr=pl(0);function Mp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qx=[];function a1(){for(var e=0;e<Qx.length;e++)Qx[e]._workInProgressVersionPrimary=null;Qx.length=0}var Zh=bo.ReactCurrentDispatcher,Zx=bo.ReactCurrentBatchConfig,fc=0,dr=null,Rr=null,Zr=null,Op=!1,Zd=!1,jf=0,Mz=0;function hi(){throw Error(Ye(321))}function s1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!us(e[n],t[n]))return!1;return!0}function o1(e,t,n,r,i,a){if(fc=a,dr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zh.current=e===null||e.memoizedState===null?Lz:$z,e=n(r,i),Zd){a=0;do{if(Zd=!1,jf=0,25<=a)throw Error(Ye(301));a+=1,Zr=Rr=null,t.updateQueue=null,Zh.current=Fz,e=n(r,i)}while(Zd)}if(Zh.current=Ip,t=Rr!==null&&Rr.next!==null,fc=0,Zr=Rr=dr=null,Op=!1,t)throw Error(Ye(300));return e}function l1(){var e=jf!==0;return jf=0,e}function js(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?dr.memoizedState=Zr=e:Zr=Zr.next=e,Zr}function Ua(){if(Rr===null){var e=dr.alternate;e=e!==null?e.memoizedState:null}else e=Rr.next;var t=Zr===null?dr.memoizedState:Zr.next;if(t!==null)Zr=t,Rr=e;else{if(e===null)throw Error(Ye(310));Rr=e,e={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Zr===null?dr.memoizedState=Zr=e:Zr=Zr.next=e}return Zr}function Af(e,t){return typeof t=="function"?t(e):t}function Jx(e){var t=Ua(),n=t.queue;if(n===null)throw Error(Ye(311));n.lastRenderedReducer=e;var r=Rr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((fc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,dr.lanes|=d,mc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,us(r,t.memoizedState)||(Ki=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,dr.lanes|=a,mc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ev(e){var t=Ua(),n=t.queue;if(n===null)throw Error(Ye(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);us(a,t.memoizedState)||(Ki=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function CM(){}function jM(e,t){var n=dr,r=Ua(),i=t(),a=!us(r.memoizedState,i);if(a&&(r.memoizedState=i,Ki=!0),r=r.queue,c1(TM.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Zr!==null&&Zr.memoizedState.tag&1){if(n.flags|=2048,Pf(9,PM.bind(null,n,r,i,t),void 0,null),Jr===null)throw Error(Ye(349));fc&30||AM(n,t,i)}return i}function AM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PM(e,t,n,r){t.value=n,t.getSnapshot=r,EM(t)&&DM(e)}function TM(e,t,n){return n(function(){EM(t)&&DM(e)})}function EM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!us(e,n)}catch{return!0}}function DM(e){var t=uo(e,1);t!==null&&os(t,e,1,-1)}function I2(e){var t=js();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:e},t.queue=e,e=e.dispatch=_z.bind(null,dr,e),[t.memoizedState,e]}function Pf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function MM(){return Ua().memoizedState}function Jh(e,t,n,r){var i=js();dr.flags|=e,i.memoizedState=Pf(1|t,n,void 0,r===void 0?null:r)}function s0(e,t,n,r){var i=Ua();r=r===void 0?null:r;var a=void 0;if(Rr!==null){var s=Rr.memoizedState;if(a=s.destroy,r!==null&&s1(r,s.deps)){i.memoizedState=Pf(t,n,a,r);return}}dr.flags|=e,i.memoizedState=Pf(1|t,n,a,r)}function _2(e,t){return Jh(8390656,8,e,t)}function c1(e,t){return s0(2048,8,e,t)}function OM(e,t){return s0(4,2,e,t)}function IM(e,t){return s0(4,4,e,t)}function _M(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function LM(e,t,n){return n=n!=null?n.concat([e]):null,s0(4,4,_M.bind(null,t,e),n)}function u1(){}function $M(e,t){var n=Ua();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&s1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function FM(e,t){var n=Ua();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&s1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function RM(e,t,n){return fc&21?(us(n,t)||(n=WD(),dr.lanes|=n,mc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ki=!0),e.memoizedState=n)}function Oz(e,t){var n=On;On=n!==0&&4>n?n:4,e(!0);var r=Zx.transition;Zx.transition={};try{e(!1),t()}finally{On=n,Zx.transition=r}}function BM(){return Ua().memoizedState}function Iz(e,t,n){var r=rl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zM(e))UM(t,n);else if(n=kM(e,t,n,r),n!==null){var i=Li();os(n,e,r,i),VM(n,t,r)}}function _z(e,t,n){var r=rl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zM(e))UM(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,us(o,s)){var l=t.interleaved;l===null?(i.next=i,t1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=kM(e,t,i,r),n!==null&&(i=Li(),os(n,e,r,i),VM(n,t,r))}}function zM(e){var t=e.alternate;return e===dr||t!==null&&t===dr}function UM(e,t){Zd=Op=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function VM(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zw(e,n)}}var Ip={readContext:za,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Lz={readContext:za,useCallback:function(e,t){return js().memoizedState=[e,t===void 0?null:t],e},useContext:za,useEffect:_2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jh(4194308,4,_M.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jh(4,2,e,t)},useMemo:function(e,t){var n=js();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=js();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Iz.bind(null,dr,e),[r.memoizedState,e]},useRef:function(e){var t=js();return e={current:e},t.memoizedState=e},useState:I2,useDebugValue:u1,useDeferredValue:function(e){return js().memoizedState=e},useTransition:function(){var e=I2(!1),t=e[0];return e=Oz.bind(null,e[1]),js().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dr,i=js();if(rr){if(n===void 0)throw Error(Ye(407));n=n()}else{if(n=t(),Jr===null)throw Error(Ye(349));fc&30||AM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,_2(TM.bind(null,r,a,e),[e]),r.flags|=2048,Pf(9,PM.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=js(),t=Jr.identifierPrefix;if(rr){var n=Js,r=Zs;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$z={readContext:za,useCallback:$M,useContext:za,useEffect:c1,useImperativeHandle:LM,useInsertionEffect:OM,useLayoutEffect:IM,useMemo:FM,useReducer:Jx,useRef:MM,useState:function(){return Jx(Af)},useDebugValue:u1,useDeferredValue:function(e){var t=Ua();return RM(t,Rr.memoizedState,e)},useTransition:function(){var e=Jx(Af)[0],t=Ua().memoizedState;return[e,t]},useMutableSource:CM,useSyncExternalStore:jM,useId:BM,unstable_isNewReconciler:!1},Fz={readContext:za,useCallback:$M,useContext:za,useEffect:c1,useImperativeHandle:LM,useInsertionEffect:OM,useLayoutEffect:IM,useMemo:FM,useReducer:ev,useRef:MM,useState:function(){return ev(Af)},useDebugValue:u1,useDeferredValue:function(e){var t=Ua();return Rr===null?t.memoizedState=e:RM(t,Rr.memoizedState,e)},useTransition:function(){var e=ev(Af)[0],t=Ua().memoizedState;return[e,t]},useMutableSource:CM,useSyncExternalStore:jM,useId:BM,unstable_isNewReconciler:!1};function es(e,t){if(e&&e.defaultProps){t=fr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fy(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var o0={isMounted:function(e){return(e=e._reactInternals)?Ac(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Li(),i=rl(e),a=ro(r,i);a.payload=t,n!=null&&(a.callback=n),t=tl(e,a,i),t!==null&&(os(t,e,i,r),Qh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Li(),i=rl(e),a=ro(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=tl(e,a,i),t!==null&&(os(t,e,i,r),Qh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Li(),r=rl(e),i=ro(n,r);i.tag=2,t!=null&&(i.callback=t),t=tl(e,i,r),t!==null&&(os(t,e,r,n),Qh(t,e,r))}};function L2(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!bf(n,r)||!bf(i,a):!0}function WM(e,t,n){var r=!1,i=cl,a=t.contextType;return typeof a=="object"&&a!==null?a=za(a):(i=Xi(t)?uc:Si.current,r=t.contextTypes,a=(r=r!=null)?Mu(e,i):cl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=o0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function $2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&o0.enqueueReplaceState(t,t.state,null)}function Ry(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},n1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=za(a):(a=Xi(t)?uc:Si.current,i.context=Mu(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fy(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&o0.enqueueReplaceState(i,i.state,null),Dp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Lu(e,t){try{var n="",r=t;do n+=fB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function tv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function By(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rz=typeof WeakMap=="function"?WeakMap:Map;function HM(e,t,n){n=ro(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lp||(Lp=!0,Xy=r),By(e,t)},n}function qM(e,t,n){n=ro(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){By(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){By(e,t),typeof r!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function F2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Rz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Jz.bind(null,e,t,n),t.then(e,e))}function R2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function B2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ro(-1,1),t.tag=2,tl(n,t,1))),n.lanes|=1),e)}var Bz=bo.ReactCurrentOwner,Ki=!1;function Oi(e,t,n,r){t.child=e===null?wM(t,null,n,r):Iu(t,e.child,n,r)}function z2(e,t,n,r,i){n=n.render;var a=t.ref;return Cu(t,i),r=o1(e,t,n,r,a,i),n=l1(),e!==null&&!Ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fo(e,t,i)):(rr&&n&&Yw(t),t.flags|=1,Oi(e,t,r,i),t.child)}function U2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!v1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,KM(e,t,a,r,i)):(e=rp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:bf,n(s,r)&&e.ref===t.ref)return fo(e,t,i)}return t.flags|=1,e=il(a,r),e.ref=t.ref,e.return=t,t.child=e}function KM(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(bf(a,r)&&e.ref===t.ref)if(Ki=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ki=!0);else return t.lanes=e.lanes,fo(e,t,i)}return zy(e,t,n,r,i)}function GM(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(hu,ua),ua|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wn(hu,ua),ua|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Wn(hu,ua),ua|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Wn(hu,ua),ua|=r;return Oi(e,t,i,n),t.child}function YM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zy(e,t,n,r,i){var a=Xi(n)?uc:Si.current;return a=Mu(t,a),Cu(t,i),n=o1(e,t,n,r,a,i),r=l1(),e!==null&&!Ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fo(e,t,i)):(rr&&r&&Yw(t),t.flags|=1,Oi(e,t,n,i),t.child)}function V2(e,t,n,r,i){if(Xi(n)){var a=!0;jp(t)}else a=!1;if(Cu(t,i),t.stateNode===null)ep(e,t),WM(t,n,r),Ry(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=za(c):(c=Xi(n)?uc:Si.current,c=Mu(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&$2(t,s,r,c),Bo=!1;var h=t.memoizedState;s.state=h,Dp(t,r,s,i),l=t.memoizedState,o!==r||h!==l||Yi.current||Bo?(typeof d=="function"&&(Fy(t,n,d,r),l=t.memoizedState),(o=Bo||L2(t,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,SM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:es(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=za(l):(l=Xi(n)?uc:Si.current,l=Mu(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&$2(t,s,r,l),Bo=!1,h=t.memoizedState,s.state=h,Dp(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||Yi.current||Bo?(typeof m=="function"&&(Fy(t,n,m,r),p=t.memoizedState),(c=Bo||L2(t,n,c,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Uy(e,t,n,r,a,i)}function Uy(e,t,n,r,i,a){YM(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&P2(t,n,!1),fo(e,t,a);r=t.stateNode,Bz.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Iu(t,e.child,null,a),t.child=Iu(t,null,o,a)):Oi(e,t,o,a),t.memoizedState=r.state,i&&P2(t,n,!0),t.child}function XM(e){var t=e.stateNode;t.pendingContext?A2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&A2(e,t.context,!1),r1(e,t.containerInfo)}function W2(e,t,n,r,i){return Ou(),Qw(i),t.flags|=256,Oi(e,t,n,r),t.child}var Vy={dehydrated:null,treeContext:null,retryLane:0};function Wy(e){return{baseLanes:e,cachePool:null,transitions:null}}function QM(e,t,n){var r=t.pendingProps,i=lr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wn(lr,i&1),e===null)return Ly(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=u0(s,r,0,null),e=rc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Wy(n),t.memoizedState=Vy,e):d1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return zz(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=il(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=il(o,a):(a=rc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Wy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Vy,r}return a=e.child,e=a.sibling,r=il(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function d1(e,t){return t=u0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ph(e,t,n,r){return r!==null&&Qw(r),Iu(t,e.child,null,n),e=d1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zz(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=tv(Error(Ye(422))),ph(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=u0({mode:"visible",children:r.children},i,0,null),a=rc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Iu(t,e.child,null,s),t.child.memoizedState=Wy(s),t.memoizedState=Vy,a);if(!(t.mode&1))return ph(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ye(419)),r=tv(a,r,void 0),ph(e,t,s,r)}if(o=(s&e.childLanes)!==0,Ki||o){if(r=Jr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,uo(e,i),os(r,e,i,-1))}return x1(),r=tv(Error(Ye(421))),ph(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=e6.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ma=el(i.nextSibling),pa=t,rr=!0,ns=null,e!==null&&(_a[La++]=Zs,_a[La++]=Js,_a[La++]=dc,Zs=e.id,Js=e.overflow,dc=t),t=d1(t,r.children),t.flags|=4096,t)}function H2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$y(e.return,t,n)}function nv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ZM(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Oi(e,t,r.children,n),r=lr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&H2(e,n,t);else if(e.tag===19)H2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wn(lr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Mp(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Mp(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nv(t,!0,n,null,a);break;case"together":nv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ep(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ye(153));if(t.child!==null){for(e=t.child,n=il(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=il(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uz(e,t,n){switch(t.tag){case 3:XM(t),Ou();break;case 5:NM(t);break;case 1:Xi(t.type)&&jp(t);break;case 4:r1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Wn(Tp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wn(lr,lr.current&1),t.flags|=128,null):n&t.child.childLanes?QM(e,t,n):(Wn(lr,lr.current&1),e=fo(e,t,n),e!==null?e.sibling:null);Wn(lr,lr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ZM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wn(lr,lr.current),r)break;return null;case 22:case 23:return t.lanes=0,GM(e,t,n)}return fo(e,t,n)}var JM,Hy,eO,tO;JM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hy=function(){};eO=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yl(Ms.current);var a=null;switch(n){case"input":i=my(e,i),r=my(e,r),a=[];break;case"select":i=fr({},i,{value:void 0}),r=fr({},r,{value:void 0}),a=[];break;case"textarea":i=gy(e,i),r=gy(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Np)}vy(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Qn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};tO=function(e,t,n,r){n!==r&&(t.flags|=4)};function Nd(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vz(e,t,n){var r=t.pendingProps;switch(Xw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(t),null;case 1:return Xi(t.type)&&Cp(),pi(t),null;case 3:return r=t.stateNode,_u(),Jn(Yi),Jn(Si),a1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ns!==null&&(Jy(ns),ns=null))),Hy(e,t),pi(t),null;case 5:i1(t);var i=Yl(Cf.current);if(n=t.type,e!==null&&t.stateNode!=null)eO(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ye(166));return pi(t),null}if(e=Yl(Ms.current),mh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ts]=t,r[Sf]=a,e=(t.mode&1)!==0,n){case"dialog":Qn("cancel",r),Qn("close",r);break;case"iframe":case"object":case"embed":Qn("load",r);break;case"video":case"audio":for(i=0;i<zd.length;i++)Qn(zd[i],r);break;case"source":Qn("error",r);break;case"img":case"image":case"link":Qn("error",r),Qn("load",r);break;case"details":Qn("toggle",r);break;case"input":e2(r,a),Qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qn("invalid",r);break;case"textarea":n2(r,a),Qn("invalid",r)}vy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&fh(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&fh(r.textContent,o,e),i=["children",""+o]):mf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Qn("scroll",r)}switch(n){case"input":ih(r),t2(r,a,!0);break;case"textarea":ih(r),r2(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Np)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=TD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ts]=t,e[Sf]=r,JM(e,t,!1,!1),t.stateNode=e;e:{switch(s=yy(n,r),n){case"dialog":Qn("cancel",e),Qn("close",e),i=r;break;case"iframe":case"object":case"embed":Qn("load",e),i=r;break;case"video":case"audio":for(i=0;i<zd.length;i++)Qn(zd[i],e);i=r;break;case"source":Qn("error",e),i=r;break;case"img":case"image":case"link":Qn("error",e),Qn("load",e),i=r;break;case"details":Qn("toggle",e),i=r;break;case"input":e2(e,r),i=my(e,r),Qn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=fr({},r,{value:void 0}),Qn("invalid",e);break;case"textarea":n2(e,r),i=gy(e,r),Qn("invalid",e);break;default:i=r}vy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?MD(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ED(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hf(e,l):typeof l=="number"&&hf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(mf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Qn("scroll",e):l!=null&&_w(e,a,l,s))}switch(n){case"input":ih(e),t2(e,r,!1);break;case"textarea":ih(e),r2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ll(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?wu(e,!!r.multiple,a,!1):r.defaultValue!=null&&wu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Np)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pi(t),null;case 6:if(e&&t.stateNode!=null)tO(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ye(166));if(n=Yl(Cf.current),Yl(Ms.current),mh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ts]=t,(a=r.nodeValue!==n)&&(e=pa,e!==null))switch(e.tag){case 3:fh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ts]=t,t.stateNode=r}return pi(t),null;case 13:if(Jn(lr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rr&&ma!==null&&t.mode&1&&!(t.flags&128))yM(),Ou(),t.flags|=98560,a=!1;else if(a=mh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ye(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ye(317));a[Ts]=t}else Ou(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pi(t),a=!1}else ns!==null&&(Jy(ns),ns=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||lr.current&1?zr===0&&(zr=3):x1())),t.updateQueue!==null&&(t.flags|=4),pi(t),null);case 4:return _u(),Hy(e,t),e===null&&wf(t.stateNode.containerInfo),pi(t),null;case 10:return e1(t.type._context),pi(t),null;case 17:return Xi(t.type)&&Cp(),pi(t),null;case 19:if(Jn(lr),a=t.memoizedState,a===null)return pi(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Nd(a,!1);else{if(zr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Mp(e),s!==null){for(t.flags|=128,Nd(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wn(lr,lr.current&1|2),t.child}e=e.sibling}a.tail!==null&&jr()>$u&&(t.flags|=128,r=!0,Nd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Mp(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!rr)return pi(t),null}else 2*jr()-a.renderingStartTime>$u&&n!==1073741824&&(t.flags|=128,r=!0,Nd(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=jr(),t.sibling=null,n=lr.current,Wn(lr,r?n&1|2:n&1),t):(pi(t),null);case 22:case 23:return g1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ua&1073741824&&(pi(t),t.subtreeFlags&6&&(t.flags|=8192)):pi(t),null;case 24:return null;case 25:return null}throw Error(Ye(156,t.tag))}function Wz(e,t){switch(Xw(t),t.tag){case 1:return Xi(t.type)&&Cp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _u(),Jn(Yi),Jn(Si),a1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return i1(t),null;case 13:if(Jn(lr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ye(340));Ou()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jn(lr),null;case 4:return _u(),null;case 10:return e1(t.type._context),null;case 22:case 23:return g1(),null;case 24:return null;default:return null}}var gh=!1,vi=!1,Hz=typeof WeakSet=="function"?WeakSet:Set,xt=null;function mu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){br(e,t,r)}else n.current=null}function qy(e,t,n){try{n()}catch(r){br(e,t,r)}}var q2=!1;function qz(e,t){if(Ty=wp,e=sM(),Gw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ey={focusedElem:e,selectionRange:n},wp=!1,xt=t;xt!==null;)if(t=xt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xt=e;else for(;xt!==null;){t=xt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:es(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(k){br(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,xt=e;break}xt=t.return}return p=q2,q2=!1,p}function Jd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&qy(t,n,a)}i=i.next}while(i!==r)}}function l0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ky(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nO(e){var t=e.alternate;t!==null&&(e.alternate=null,nO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ts],delete t[Sf],delete t[Oy],delete t[Pz],delete t[Tz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rO(e){return e.tag===5||e.tag===3||e.tag===4}function K2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Np));else if(r!==4&&(e=e.child,e!==null))for(Gy(e,t,n),e=e.sibling;e!==null;)Gy(e,t,n),e=e.sibling}function Yy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yy(e,t,n),e=e.sibling;e!==null;)Yy(e,t,n),e=e.sibling}var oi=null,ts=!1;function _o(e,t,n){for(n=n.child;n!==null;)iO(e,t,n),n=n.sibling}function iO(e,t,n){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(e0,n)}catch{}switch(n.tag){case 5:vi||mu(n,t);case 6:var r=oi,i=ts;oi=null,_o(e,t,n),oi=r,ts=i,oi!==null&&(ts?(e=oi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):oi.removeChild(n.stateNode));break;case 18:oi!==null&&(ts?(e=oi,n=n.stateNode,e.nodeType===8?Yx(e.parentNode,n):e.nodeType===1&&Yx(e,n),vf(e)):Yx(oi,n.stateNode));break;case 4:r=oi,i=ts,oi=n.stateNode.containerInfo,ts=!0,_o(e,t,n),oi=r,ts=i;break;case 0:case 11:case 14:case 15:if(!vi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&qy(n,t,s),i=i.next}while(i!==r)}_o(e,t,n);break;case 1:if(!vi&&(mu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){br(n,t,o)}_o(e,t,n);break;case 21:_o(e,t,n);break;case 22:n.mode&1?(vi=(r=vi)||n.memoizedState!==null,_o(e,t,n),vi=r):_o(e,t,n);break;default:_o(e,t,n)}}function G2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hz),t.forEach(function(r){var i=t6.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ja(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:oi=o.stateNode,ts=!1;break e;case 3:oi=o.stateNode.containerInfo,ts=!0;break e;case 4:oi=o.stateNode.containerInfo,ts=!0;break e}o=o.return}if(oi===null)throw Error(Ye(160));iO(a,s,i),oi=null,ts=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){br(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)aO(t,e),t=t.sibling}function aO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ja(t,e),ks(e),r&4){try{Jd(3,e,e.return),l0(3,e)}catch(g){br(e,e.return,g)}try{Jd(5,e,e.return)}catch(g){br(e,e.return,g)}}break;case 1:Ja(t,e),ks(e),r&512&&n!==null&&mu(n,n.return);break;case 5:if(Ja(t,e),ks(e),r&512&&n!==null&&mu(n,n.return),e.flags&32){var i=e.stateNode;try{hf(i,"")}catch(g){br(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&AD(i,a),yy(o,s);var c=yy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?MD(i,f):d==="dangerouslySetInnerHTML"?ED(i,f):d==="children"?hf(i,f):_w(i,d,f,c)}switch(o){case"input":hy(i,a);break;case"textarea":PD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?wu(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?wu(i,!!a.multiple,a.defaultValue,!0):wu(i,!!a.multiple,a.multiple?[]:"",!1))}i[Sf]=a}catch(g){br(e,e.return,g)}}break;case 6:if(Ja(t,e),ks(e),r&4){if(e.stateNode===null)throw Error(Ye(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){br(e,e.return,g)}}break;case 3:if(Ja(t,e),ks(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vf(t.containerInfo)}catch(g){br(e,e.return,g)}break;case 4:Ja(t,e),ks(e);break;case 13:Ja(t,e),ks(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(h1=jr())),r&4&&G2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(vi=(c=vi)||d,Ja(t,e),vi=c):Ja(t,e),ks(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(xt=e,d=e.child;d!==null;){for(f=xt=d;xt!==null;){switch(h=xt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Jd(4,h,h.return);break;case 1:mu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){br(r,n,g)}}break;case 5:mu(h,h.return);break;case 22:if(h.memoizedState!==null){X2(f);continue}}m!==null?(m.return=h,xt=m):X2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=DD("display",s))}catch(g){br(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){br(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ja(t,e),ks(e),r&4&&G2(e);break;case 21:break;default:Ja(t,e),ks(e)}}function ks(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rO(n)){var r=n;break e}n=n.return}throw Error(Ye(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hf(i,""),r.flags&=-33);var a=K2(e);Yy(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=K2(e);Gy(e,o,s);break;default:throw Error(Ye(161))}}catch(l){br(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kz(e,t,n){xt=e,sO(e)}function sO(e,t,n){for(var r=(e.mode&1)!==0;xt!==null;){var i=xt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||gh;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||vi;o=gh;var c=vi;if(gh=s,(vi=l)&&!c)for(xt=i;xt!==null;)s=xt,l=s.child,s.tag===22&&s.memoizedState!==null?Q2(i):l!==null?(l.return=s,xt=l):Q2(i);for(;a!==null;)xt=a,sO(a),a=a.sibling;xt=i,gh=o,vi=c}Y2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,xt=a):Y2(e)}}function Y2(e){for(;xt!==null;){var t=xt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vi||l0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!vi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:es(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&O2(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}O2(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}vi||t.flags&512&&Ky(t)}catch(h){br(t,t.return,h)}}if(t===e){xt=null;break}if(n=t.sibling,n!==null){n.return=t.return,xt=n;break}xt=t.return}}function X2(e){for(;xt!==null;){var t=xt;if(t===e){xt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,xt=n;break}xt=t.return}}function Q2(e){for(;xt!==null;){var t=xt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{l0(4,t)}catch(l){br(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){br(t,i,l)}}var a=t.return;try{Ky(t)}catch(l){br(t,a,l)}break;case 5:var s=t.return;try{Ky(t)}catch(l){br(t,s,l)}}}catch(l){br(t,t.return,l)}if(t===e){xt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,xt=o;break}xt=t.return}}var Gz=Math.ceil,_p=bo.ReactCurrentDispatcher,f1=bo.ReactCurrentOwner,Ba=bo.ReactCurrentBatchConfig,gn=0,Jr=null,Or=null,ui=0,ua=0,hu=pl(0),zr=0,Tf=null,mc=0,c0=0,m1=0,ef=null,qi=null,h1=0,$u=1/0,qs=null,Lp=!1,Xy=null,nl=null,xh=!1,Go=null,$p=0,tf=0,Qy=null,tp=-1,np=0;function Li(){return gn&6?jr():tp!==-1?tp:tp=jr()}function rl(e){return e.mode&1?gn&2&&ui!==0?ui&-ui:Dz.transition!==null?(np===0&&(np=WD()),np):(e=On,e!==0||(e=window.event,e=e===void 0?16:QD(e.type)),e):1}function os(e,t,n,r){if(50<tf)throw tf=0,Qy=null,Error(Ye(185));am(e,n,r),(!(gn&2)||e!==Jr)&&(e===Jr&&(!(gn&2)&&(c0|=n),zr===4&&Ho(e,ui)),Qi(e,r),n===1&&gn===0&&!(t.mode&1)&&($u=jr()+500,a0&&gl()))}function Qi(e,t){var n=e.callbackNode;DB(e,t);var r=bp(e,e===Jr?ui:0);if(r===0)n!==null&&s2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&s2(n),t===1)e.tag===0?Ez(Z2.bind(null,e)):gM(Z2.bind(null,e)),jz(function(){!(gn&6)&&gl()}),n=null;else{switch(HD(r)){case 1:n=Bw;break;case 4:n=UD;break;case 16:n=yp;break;case 536870912:n=VD;break;default:n=yp}n=hO(n,oO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oO(e,t){if(tp=-1,np=0,gn&6)throw Error(Ye(327));var n=e.callbackNode;if(ju()&&e.callbackNode!==n)return null;var r=bp(e,e===Jr?ui:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fp(e,r);else{t=r;var i=gn;gn|=2;var a=cO();(Jr!==e||ui!==t)&&(qs=null,$u=jr()+500,nc(e,t));do try{Qz();break}catch(o){lO(e,o)}while(!0);Jw(),_p.current=a,gn=i,Or!==null?t=0:(Jr=null,ui=0,t=zr)}if(t!==0){if(t===2&&(i=Ny(e),i!==0&&(r=i,t=Zy(e,i))),t===1)throw n=Tf,nc(e,0),Ho(e,r),Qi(e,jr()),n;if(t===6)Ho(e,r);else{if(i=e.current.alternate,!(r&30)&&!Yz(i)&&(t=Fp(e,r),t===2&&(a=Ny(e),a!==0&&(r=a,t=Zy(e,a))),t===1))throw n=Tf,nc(e,0),Ho(e,r),Qi(e,jr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ye(345));case 2:Bl(e,qi,qs);break;case 3:if(Ho(e,r),(r&130023424)===r&&(t=h1+500-jr(),10<t)){if(bp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Li(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=My(Bl.bind(null,e,qi,qs),t);break}Bl(e,qi,qs);break;case 4:if(Ho(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ss(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=jr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gz(r/1960))-r,10<r){e.timeoutHandle=My(Bl.bind(null,e,qi,qs),r);break}Bl(e,qi,qs);break;case 5:Bl(e,qi,qs);break;default:throw Error(Ye(329))}}}return Qi(e,jr()),e.callbackNode===n?oO.bind(null,e):null}function Zy(e,t){var n=ef;return e.current.memoizedState.isDehydrated&&(nc(e,t).flags|=256),e=Fp(e,t),e!==2&&(t=qi,qi=n,t!==null&&Jy(t)),e}function Jy(e){qi===null?qi=e:qi.push.apply(qi,e)}function Yz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!us(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ho(e,t){for(t&=~m1,t&=~c0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ss(t),r=1<<n;e[n]=-1,t&=~r}}function Z2(e){if(gn&6)throw Error(Ye(327));ju();var t=bp(e,0);if(!(t&1))return Qi(e,jr()),null;var n=Fp(e,t);if(e.tag!==0&&n===2){var r=Ny(e);r!==0&&(t=r,n=Zy(e,r))}if(n===1)throw n=Tf,nc(e,0),Ho(e,t),Qi(e,jr()),n;if(n===6)throw Error(Ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bl(e,qi,qs),Qi(e,jr()),null}function p1(e,t){var n=gn;gn|=1;try{return e(t)}finally{gn=n,gn===0&&($u=jr()+500,a0&&gl())}}function hc(e){Go!==null&&Go.tag===0&&!(gn&6)&&ju();var t=gn;gn|=1;var n=Ba.transition,r=On;try{if(Ba.transition=null,On=1,e)return e()}finally{On=r,Ba.transition=n,gn=t,!(gn&6)&&gl()}}function g1(){ua=hu.current,Jn(hu)}function nc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cz(n)),Or!==null)for(n=Or.return;n!==null;){var r=n;switch(Xw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cp();break;case 3:_u(),Jn(Yi),Jn(Si),a1();break;case 5:i1(r);break;case 4:_u();break;case 13:Jn(lr);break;case 19:Jn(lr);break;case 10:e1(r.type._context);break;case 22:case 23:g1()}n=n.return}if(Jr=e,Or=e=il(e.current,null),ui=ua=t,zr=0,Tf=null,m1=c0=mc=0,qi=ef=null,Gl!==null){for(t=0;t<Gl.length;t++)if(n=Gl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Gl=null}return e}function lO(e,t){do{var n=Or;try{if(Jw(),Zh.current=Ip,Op){for(var r=dr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Op=!1}if(fc=0,Zr=Rr=dr=null,Zd=!1,jf=0,f1.current=null,n===null||n.return===null){zr=1,Tf=t,Or=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=ui,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=R2(s);if(m!==null){m.flags&=-257,B2(m,s,o,a,t),m.mode&1&&F2(a,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){F2(a,c,t),x1();break e}l=Error(Ye(426))}}else if(rr&&o.mode&1){var y=R2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),B2(y,s,o,a,t),Qw(Lu(l,o));break e}}a=l=Lu(l,o),zr!==4&&(zr=2),ef===null?ef=[a]:ef.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=HM(a,l,t);M2(a,x);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(nl===null||!nl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=qM(a,o,t);M2(a,k);break e}}a=a.return}while(a!==null)}dO(n)}catch(C){t=C,Or===n&&n!==null&&(Or=n=n.return);continue}break}while(!0)}function cO(){var e=_p.current;return _p.current=Ip,e===null?Ip:e}function x1(){(zr===0||zr===3||zr===2)&&(zr=4),Jr===null||!(mc&268435455)&&!(c0&268435455)||Ho(Jr,ui)}function Fp(e,t){var n=gn;gn|=2;var r=cO();(Jr!==e||ui!==t)&&(qs=null,nc(e,t));do try{Xz();break}catch(i){lO(e,i)}while(!0);if(Jw(),gn=n,_p.current=r,Or!==null)throw Error(Ye(261));return Jr=null,ui=0,zr}function Xz(){for(;Or!==null;)uO(Or)}function Qz(){for(;Or!==null&&!kB();)uO(Or)}function uO(e){var t=mO(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?dO(e):Or=t,f1.current=null}function dO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Wz(n,t),n!==null){n.flags&=32767,Or=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zr=6,Or=null;return}}else if(n=Vz(n,t,ua),n!==null){Or=n;return}if(t=t.sibling,t!==null){Or=t;return}Or=t=e}while(t!==null);zr===0&&(zr=5)}function Bl(e,t,n){var r=On,i=Ba.transition;try{Ba.transition=null,On=1,Zz(e,t,n,r)}finally{Ba.transition=i,On=r}return null}function Zz(e,t,n,r){do ju();while(Go!==null);if(gn&6)throw Error(Ye(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ye(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(MB(e,a),e===Jr&&(Or=Jr=null,ui=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xh||(xh=!0,hO(yp,function(){return ju(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ba.transition,Ba.transition=null;var s=On;On=1;var o=gn;gn|=4,f1.current=null,qz(e,n),aO(n,e),vz(Ey),wp=!!Ty,Ey=Ty=null,e.current=n,Kz(n),SB(),gn=o,On=s,Ba.transition=a}else e.current=n;if(xh&&(xh=!1,Go=e,$p=i),a=e.pendingLanes,a===0&&(nl=null),jB(n.stateNode),Qi(e,jr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lp)throw Lp=!1,e=Xy,Xy=null,e;return $p&1&&e.tag!==0&&ju(),a=e.pendingLanes,a&1?e===Qy?tf++:(tf=0,Qy=e):tf=0,gl(),null}function ju(){if(Go!==null){var e=HD($p),t=Ba.transition,n=On;try{if(Ba.transition=null,On=16>e?16:e,Go===null)var r=!1;else{if(e=Go,Go=null,$p=0,gn&6)throw Error(Ye(331));var i=gn;for(gn|=4,xt=e.current;xt!==null;){var a=xt,s=a.child;if(xt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(xt=c;xt!==null;){var d=xt;switch(d.tag){case 0:case 11:case 15:Jd(8,d,a)}var f=d.child;if(f!==null)f.return=d,xt=f;else for(;xt!==null;){d=xt;var h=d.sibling,m=d.return;if(nO(d),d===c){xt=null;break}if(h!==null){h.return=m,xt=h;break}xt=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}xt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,xt=s;else e:for(;xt!==null;){if(a=xt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Jd(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,xt=x;break e}xt=a.return}}var b=e.current;for(xt=b;xt!==null;){s=xt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,xt=w;else e:for(s=b;xt!==null;){if(o=xt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:l0(9,o)}}catch(C){br(o,o.return,C)}if(o===s){xt=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,xt=k;break e}xt=o.return}}if(gn=i,gl(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(e0,e)}catch{}r=!0}return r}finally{On=n,Ba.transition=t}}return!1}function J2(e,t,n){t=Lu(n,t),t=HM(e,t,1),e=tl(e,t,1),t=Li(),e!==null&&(am(e,1,t),Qi(e,t))}function br(e,t,n){if(e.tag===3)J2(e,e,n);else for(;t!==null;){if(t.tag===3){J2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nl===null||!nl.has(r))){e=Lu(n,e),e=qM(t,e,1),t=tl(t,e,1),e=Li(),t!==null&&(am(t,1,e),Qi(t,e));break}}t=t.return}}function Jz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Li(),e.pingedLanes|=e.suspendedLanes&n,Jr===e&&(ui&n)===n&&(zr===4||zr===3&&(ui&130023424)===ui&&500>jr()-h1?nc(e,0):m1|=n),Qi(e,t)}function fO(e,t){t===0&&(e.mode&1?(t=oh,oh<<=1,!(oh&130023424)&&(oh=4194304)):t=1);var n=Li();e=uo(e,t),e!==null&&(am(e,t,n),Qi(e,n))}function e6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fO(e,n)}function t6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ye(314))}r!==null&&r.delete(t),fO(e,n)}var mO;mO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yi.current)Ki=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ki=!1,Uz(e,t,n);Ki=!!(e.flags&131072)}else Ki=!1,rr&&t.flags&1048576&&xM(t,Pp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ep(e,t),e=t.pendingProps;var i=Mu(t,Si.current);Cu(t,n),i=o1(null,t,r,e,i,n);var a=l1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xi(r)?(a=!0,jp(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,n1(t),i.updater=o0,t.stateNode=i,i._reactInternals=t,Ry(t,r,e,n),t=Uy(null,t,r,!0,a,n)):(t.tag=0,rr&&a&&Yw(t),Oi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ep(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=r6(r),e=es(r,e),i){case 0:t=zy(null,t,r,e,n);break e;case 1:t=V2(null,t,r,e,n);break e;case 11:t=z2(null,t,r,e,n);break e;case 14:t=U2(null,t,r,es(r.type,e),n);break e}throw Error(Ye(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:es(r,i),zy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:es(r,i),V2(e,t,r,i,n);case 3:e:{if(XM(t),e===null)throw Error(Ye(387));r=t.pendingProps,a=t.memoizedState,i=a.element,SM(e,t),Dp(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Lu(Error(Ye(423)),t),t=W2(e,t,r,n,i);break e}else if(r!==i){i=Lu(Error(Ye(424)),t),t=W2(e,t,r,n,i);break e}else for(ma=el(t.stateNode.containerInfo.firstChild),pa=t,rr=!0,ns=null,n=wM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ou(),r===i){t=fo(e,t,n);break e}Oi(e,t,r,n)}t=t.child}return t;case 5:return NM(t),e===null&&Ly(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Dy(r,i)?s=null:a!==null&&Dy(r,a)&&(t.flags|=32),YM(e,t),Oi(e,t,s,n),t.child;case 6:return e===null&&Ly(t),null;case 13:return QM(e,t,n);case 4:return r1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Iu(t,null,r,n):Oi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:es(r,i),z2(e,t,r,i,n);case 7:return Oi(e,t,t.pendingProps,n),t.child;case 8:return Oi(e,t,t.pendingProps.children,n),t.child;case 12:return Oi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Wn(Tp,r._currentValue),r._currentValue=s,a!==null)if(us(a.value,s)){if(a.children===i.children&&!Yi.current){t=fo(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=ro(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),$y(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ye(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),$y(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Oi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Cu(t,n),i=za(i),r=r(i),t.flags|=1,Oi(e,t,r,n),t.child;case 14:return r=t.type,i=es(r,t.pendingProps),i=es(r.type,i),U2(e,t,r,i,n);case 15:return KM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:es(r,i),ep(e,t),t.tag=1,Xi(r)?(e=!0,jp(t)):e=!1,Cu(t,n),WM(t,r,i),Ry(t,r,i,n),Uy(null,t,r,!0,e,n);case 19:return ZM(e,t,n);case 22:return GM(e,t,n)}throw Error(Ye(156,t.tag))};function hO(e,t){return zD(e,t)}function n6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(e,t,n,r){return new n6(e,t,n,r)}function v1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r6(e){if(typeof e=="function")return v1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$w)return 11;if(e===Fw)return 14}return 2}function il(e,t){var n=e.alternate;return n===null?(n=Fa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rp(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")v1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case iu:return rc(n.children,i,a,t);case Lw:s=8,i|=8;break;case cy:return e=Fa(12,n,t,i|2),e.elementType=cy,e.lanes=a,e;case uy:return e=Fa(13,n,t,i),e.elementType=uy,e.lanes=a,e;case dy:return e=Fa(19,n,t,i),e.elementType=dy,e.lanes=a,e;case ND:return u0(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kD:s=10;break e;case SD:s=9;break e;case $w:s=11;break e;case Fw:s=14;break e;case Ro:s=16,r=null;break e}throw Error(Ye(130,e==null?e:typeof e,""))}return t=Fa(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function rc(e,t,n,r){return e=Fa(7,e,r,t),e.lanes=n,e}function u0(e,t,n,r){return e=Fa(22,e,r,t),e.elementType=ND,e.lanes=n,e.stateNode={isHidden:!1},e}function rv(e,t,n){return e=Fa(6,e,null,t),e.lanes=n,e}function iv(e,t,n){return t=Fa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i6(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fx(0),this.expirationTimes=Fx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function y1(e,t,n,r,i,a,s,o,l){return e=new i6(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Fa(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},n1(a),e}function a6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ru,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pO(e){if(!e)return cl;e=e._reactInternals;e:{if(Ac(e)!==e||e.tag!==1)throw Error(Ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ye(171))}if(e.tag===1){var n=e.type;if(Xi(n))return pM(e,n,t)}return t}function gO(e,t,n,r,i,a,s,o,l){return e=y1(n,r,!0,e,i,a,s,o,l),e.context=pO(null),n=e.current,r=Li(),i=rl(n),a=ro(r,i),a.callback=t??null,tl(n,a,i),e.current.lanes=i,am(e,i,r),Qi(e,r),e}function d0(e,t,n,r){var i=t.current,a=Li(),s=rl(i);return n=pO(n),t.context===null?t.context=n:t.pendingContext=n,t=ro(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tl(i,t,s),e!==null&&(os(e,i,s,a),Qh(e,i,s)),s}function Rp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function b1(e,t){eC(e,t),(e=e.alternate)&&eC(e,t)}function s6(){return null}var xO=typeof reportError=="function"?reportError:function(e){console.error(e)};function w1(e){this._internalRoot=e}f0.prototype.render=w1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ye(409));d0(e,t,null,null)};f0.prototype.unmount=w1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hc(function(){d0(null,e,null,null)}),t[co]=null}};function f0(e){this._internalRoot=e}f0.prototype.unstable_scheduleHydration=function(e){if(e){var t=GD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wo.length&&t!==0&&t<Wo[n].priority;n++);Wo.splice(n,0,e),n===0&&XD(e)}};function k1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tC(){}function o6(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Rp(s);a.call(c)}}var s=gO(t,r,e,0,null,!1,!1,"",tC);return e._reactRootContainer=s,e[co]=s.current,wf(e.nodeType===8?e.parentNode:e),hc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Rp(l);o.call(c)}}var l=y1(e,0,!1,null,null,!1,!1,"",tC);return e._reactRootContainer=l,e[co]=l.current,wf(e.nodeType===8?e.parentNode:e),hc(function(){d0(t,l,n,r)}),l}function h0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Rp(s);o.call(l)}}d0(t,s,e,i)}else s=o6(n,t,e,i,r);return Rp(s)}qD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bd(t.pendingLanes);n!==0&&(zw(t,n|1),Qi(t,jr()),!(gn&6)&&($u=jr()+500,gl()))}break;case 13:hc(function(){var r=uo(e,1);if(r!==null){var i=Li();os(r,e,1,i)}}),b1(e,1)}};Uw=function(e){if(e.tag===13){var t=uo(e,134217728);if(t!==null){var n=Li();os(t,e,134217728,n)}b1(e,134217728)}};KD=function(e){if(e.tag===13){var t=rl(e),n=uo(e,t);if(n!==null){var r=Li();os(n,e,t,r)}b1(e,t)}};GD=function(){return On};YD=function(e,t){var n=On;try{return On=e,t()}finally{On=n}};wy=function(e,t,n){switch(t){case"input":if(hy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=i0(r);if(!i)throw Error(Ye(90));jD(r),hy(r,i)}}}break;case"textarea":PD(e,n);break;case"select":t=n.value,t!=null&&wu(e,!!n.multiple,t,!1)}};_D=p1;LD=hc;var l6={usingClientEntryPoint:!1,Events:[om,lu,i0,OD,ID,p1]},Cd={findFiberByHostInstance:Kl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c6={bundleType:Cd.bundleType,version:Cd.version,rendererPackageName:Cd.rendererPackageName,rendererConfig:Cd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=RD(e),e===null?null:e.stateNode},findFiberByHostInstance:Cd.findFiberByHostInstance||s6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{e0=vh.inject(c6),Ds=vh}catch{}}ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l6;ka.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k1(t))throw Error(Ye(200));return a6(e,t,null,n)};ka.createRoot=function(e,t){if(!k1(e))throw Error(Ye(299));var n=!1,r="",i=xO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=y1(e,1,!1,null,null,n,!1,r,i),e[co]=t.current,wf(e.nodeType===8?e.parentNode:e),new w1(t)};ka.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ye(188)):(e=Object.keys(e).join(","),Error(Ye(268,e)));return e=RD(t),e=e===null?null:e.stateNode,e};ka.flushSync=function(e){return hc(e)};ka.hydrate=function(e,t,n){if(!m0(t))throw Error(Ye(200));return h0(null,e,t,!0,n)};ka.hydrateRoot=function(e,t,n){if(!k1(e))throw Error(Ye(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=xO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=gO(t,null,e,1,n??null,i,!1,a,s),e[co]=t.current,wf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new f0(t)};ka.render=function(e,t,n){if(!m0(t))throw Error(Ye(200));return h0(null,e,t,!1,n)};ka.unmountComponentAtNode=function(e){if(!m0(e))throw Error(Ye(40));return e._reactRootContainer?(hc(function(){h0(null,null,e,!1,function(){e._reactRootContainer=null,e[co]=null})}),!0):!1};ka.unstable_batchedUpdates=p1;ka.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!m0(n))throw Error(Ye(200));if(e==null||e._reactInternals===void 0)throw Error(Ye(38));return h0(e,t,n,!1,r)};ka.version="18.3.1-next-f1338f8080-20240426";function vO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vO)}catch(e){console.error(e)}}vO(),vD.exports=ka;var td=vD.exports,nC=td;oy.createRoot=nC.createRoot,oy.hydrateRoot=nC.hydrateRoot;const u6=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),yO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],bO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],d6=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],wO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],f6=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],m6=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],h6=new Set([10244]),p6=(e,t)=>{var i;if(h6.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return m6.some(a=>r.includes(a))},g6=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},yh=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},kO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,SO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},ca=(e,t=2)=>Number.isFinite(e)?kO()&&Math.abs(e)>=1e4?SO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",$o=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return kO()&&t>=1e4?SO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var x6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const v6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zt=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>v.createElement("svg",{ref:c,...x6,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${v6(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},NO=Zt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),y6=Zt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),S1=Zt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),CO=Zt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),b6=Zt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),w6=Zt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),jO=Zt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),eb=Zt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),k6=Zt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ds=Zt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),S6=Zt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),N6=Zt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),C6=Zt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),j6=Zt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Ef=Zt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),A6=Zt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),N1=Zt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),P6=Zt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),AO=Zt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),T6=Zt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),C1=Zt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),E6=Zt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),j1=Zt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),D6=Zt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),A1=Zt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),ta=Zt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),rC=Zt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),M6=Zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),O6=Zt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),I6=Zt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),PO=Zt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Fu=Zt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),p0=Zt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),g0=Zt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Bp=Zt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),_6=Zt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Yo=Zt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),ic=Zt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),L6=Zt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),kr=Zt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),$6=Zt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),TO=Zt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),zi=Zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Df=Zt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),P1=({className:e})=>u.jsx(M6,{className:e,strokeWidth:3.2}),cm=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},T1=({className:e=""})=>{const t=cm("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},E1=({className:e=""})=>{const t=cm("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},D1=({className:e=""})=>{const t=cm("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},M1=({className:e=""})=>{const t=cm("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},F6=[{id:"overview",label:"Overview",icon:ic,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:ic},{id:"fight-breakdown",label:"Fight Breakdown",icon:Yo},{id:"top-players",label:"Top Players",icon:ic},{id:"top-skills-outgoing",label:"Top Skills",icon:S1},{id:"squad-composition",label:"Classes",icon:kr},{id:"timeline",label:"Squad vs Enemy",icon:kr},{id:"map-distribution",label:"Map Distribution",icon:A1}]},{id:"roster",label:"Roster Intel",icon:Ef,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Ef},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:kr},{id:"fight-comp",label:"Fight Comp",icon:Yo}]},{id:"offense",label:"Offensive Stats",icon:Yo,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Yo},{id:"player-breakdown",label:"Player Breakdown",icon:j1},{id:"spike-damage",label:"Spike Damage",icon:Df},{id:"conditions-outgoing",label:"Conditions",icon:p0}]},{id:"defense",label:"Defensive Stats",icon:Fu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:I6},{id:"defense-detailed",label:"Defense Detailed",icon:Fu},{id:"defense-mitigation",label:"Damage Mitigation",icon:D1},{id:"support-detailed",label:"Support Detailed",icon:P1},{id:"healing-stats",label:"Healing Stats",icon:AO},{id:"boon-output",label:"Boon Output",icon:E1}]},{id:"other",label:"Other Metrics",icon:Bp,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:N1},{id:"special-buffs",label:"Special Buffs",icon:Bp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:M1},{id:"skill-usage",label:"Skill Usage",icon:C1},{id:"apm-stats",label:"APM Breakdown",icon:T1}]}],R6=(e,t=!0)=>{const[n,r]=v.useState(!1),[i,a]=v.useState("overview"),s=v.useRef(null),o=v.useRef(null),l=v.useRef(0),c=v.useMemo(()=>F6,[]),d=v.useMemo(()=>c.flatMap(m=>m.items),[c]),f=m=>{const p=m==="kdr"?"overview":m,g=s.current,y=document.getElementById(p);if(g&&y){const x=g.getBoundingClientRect(),w=y.getBoundingClientRect().top-x.top+g.scrollTop,k=Math.max(0,g.scrollHeight-g.clientHeight),C=Math.min(Math.max(w-16,0),k);g.scrollTo({top:C,behavior:"smooth"}),a(p)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),a(p));r(!1)};v.useEffect(()=>{if(e)return;const m=p=>{const g=s.current;if(!g)return;const y=p.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&g.contains(y))&&p.deltaY!==0&&!(g.scrollHeight<=g.clientHeight)){if(l.current+=p.deltaY,o.current===null){const x=()=>{const b=l.current;if(Math.abs(b)<.5){l.current=0,o.current=null;return}const w=b*.2;l.current=b-w,g.scrollBy({top:w,behavior:"auto"}),o.current=requestAnimationFrame(x)};o.current=requestAnimationFrame(x)}p.preventDefault()}};return window.addEventListener("wheel",m,{passive:!1}),()=>{window.removeEventListener("wheel",m),o.current!==null&&(cancelAnimationFrame(o.current),o.current=null),l.current=0}},[e]);const h=m=>{var x;const p=Math.max(0,d.findIndex(b=>b.id===i)),g=Math.min(Math.max(p+m,0),d.length-1),y=(x=d[g])==null?void 0:x.id;y&&f(y)};return v.useEffect(()=>{if(!t)return;const m=s.current;if(!m)return;let p=0;const g=()=>{var w;const x=m.getBoundingClientRect().top;let b=((w=d[0])==null?void 0:w.id)||"overview";d.forEach(k=>{const C=document.getElementById(k.id);if(!C)return;C.getBoundingClientRect().top-x<=24&&(b=k.id)}),a(k=>k===b?k:b)},y=()=>{p&&cancelAnimationFrame(p),p=requestAnimationFrame(g)};return g(),m.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{p&&cancelAnimationFrame(p),m.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[d,t]),{mobileNavOpen:n,setMobileNavOpen:r,activeNavId:i,setActiveNavId:a,scrollContainerRef:s,tocGroups:c,tocItems:d,scrollToSection:f,stepSection:h}},iC=["selfBuffs","groupBuffs","squadBuffs"],Hs=(e,t,n=0)=>t?e/t:n,aC=e=>e!=null&&e.classification?e.classification==="Boon":!0,EO=e=>`b${e}`,B6=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},DO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},z6=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let h=1;t==="groupBuffs"?h=Hs(a-i,i,1):t==="squadBuffs"?h=Hs(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?Hs(d,r):Hs(d,r)*100,p=n?Hs(f,r):Hs(f,r)*100;else{const g=Hs(d,r)/(h||1),y=Hs(f,r)/(h||1);m=n?g:g*100,p=n?y:y*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},MO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=z6(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?Hs(i,s):a},U6=(e,t,n,r,i)=>{const a=MO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,c=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${c}%`:c},V6=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const g=t.get(m)||{},y={name:g.name||p.name,stacking:g.stacking??p.stacking,icon:g.icon||p.icon,classification:g.classification||p.classification};t.set(m,y)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",g=m.profession||"Unknown",y=m.group??0,x=h.get(y)||1,b=B6(m,o);n.has(p)||n.set(p,{account:p,profession:g,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const w=n.get(p);w.profession=g,g!=="Unknown"&&(w.professions.add(g),w.professionTimeMs[g]=(w.professionTimeMs[g]||0)+b),w.activeTimeMs+=b,w.numFights+=1,w.groupSupported+=x,w.squadSupported+=f,iC.forEach(k=>{(m[k]||[]).forEach(N=>{var J,se,de,X;if(typeof(N==null?void 0:N.id)!="number")return;const j=EO(N.id),M=l[j];if(!aC(M))return;const _=(M==null?void 0:M.stacking)??!1,T=((se=(J=N.buffData)==null?void 0:J[0])==null?void 0:se.generation)??0,D=((X=(de=N.buffData)==null?void 0:de[0])==null?void 0:X.wasted)??0,{generationMs:O,wastedMs:Z}=DO(k,_,T,D,o,x,f);!O&&!Z||(t.has(j)||t.set(j,M||{}),w.boons[j]||(w.boons[j]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),w.boons[j][k].generationMs+=O,w.boons[j][k].wastedMs+=Z)})})})}),{boonTables:Array.from(t.keys()).filter(a=>aC(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const c=l.boons[a];if(!c||!iC.some(p=>c[p].generationMs>0||c[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(g=>{var x;const y=((x=l.professionTimeMs)==null?void 0:x[g])||0;y>p&&(p=y,h=g)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...c.selfBuffs},groupBuffs:{...c.groupBuffs},squadBuffs:{...c.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},sC=(e,t,n,r,i,a,s={})=>{var m,p,g,y;const l=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!l)return{generationMs:0,wastedMs:0};const c=s[EO(n)],d=(c==null?void 0:c.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((y=(g=l.buffData)==null?void 0:g[0])==null?void 0:y.wasted)??0;return DO(t,d,f,h,r,i,a)},W6={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},H6={methods:W6},q6=H6,O1="count",K6=e=>(e||0)/1e3,G6=(e,t)=>{var i;if(!e)return 0;const n=(i=q6.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},OO=(e,t,n)=>n==="duration"?K6(t):n==="tiered"?G6(e,t):e;function Y6(e,t=O1){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return OO(r,i,t)}function X6(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,c=sC(o,"selfBuffs",1122,n,l,a,r),d=sC(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function Q6(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function Z6(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function J6(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const oC=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},lC=(e,t=O1)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return OO(r,i,t)},cC=e=>Q6(e),uC=e=>J6(e),dC=e=>Z6(e),fC=(e,t=O1)=>Y6(e,t),eU=(e,t)=>X6(e,t),tU="count",IO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},tb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},nU={uploading:!1,message:null,url:null,buildStatus:"idle"},mC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),_O={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},bh=e=>{if(e)return _O[e]},Mf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=mC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=mC.get(i);if(a)return a}return null},eu=e=>Mf(e),LO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Mf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(_O).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},ip=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=Mf(i);if(a)return a}return e?Mf(e):null},rU=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},iU=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},aU=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},sU=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||rU,s=LO(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(g=>{g&&g.forEach(y=>{if(!y.id)return;let x=`Skill ${y.id}`,b;r&&(r[`s${y.id}`]?(x=r[`s${y.id}`].name||x,b=r[`s${y.id}`].icon||b):r[`${y.id}`]&&(x=r[`${y.id}`].name||x,b=r[`${y.id}`].icon||b));const w=ip(x,y.id,i);if(!w)return;const k=i==null?void 0:i[`b${y.id}`],C=k==null?void 0:k.name,N=s.get(w)||(k==null?void 0:k.icon),j=x.startsWith("Skill ")?C||w:x,M=b||(k==null?void 0:k.icon),_=Number(y.connectedHits??0),T=Number(y.hits??0),D=_>0?_:T,O=Number(y.totalDamage??0);if(!Number.isFinite(D)&&!Number.isFinite(O))return;const Z=l[w]||{name:w,icon:N,applications:0,damage:0};Z.applications+=Number.isFinite(D)?D:0,Z.damage+=Number.isFinite(O)?O:0,!Z.icon&&N&&(Z.icon=N),l[w]=Z;const J=o[p][w]||{icon:N,applications:0,damage:0,skills:{}};J.applications+=Number.isFinite(D)?D:0,J.damage+=Number.isFinite(O)?O:0;const se=J.skills[j]||{name:j,hits:0,damage:0,icon:M};se.hits+=Number.isFinite(D)?D:0,se.damage+=Number.isFinite(O)?O:0,!se.icon&&M&&(se.icon=M),J.skills[j]=se,!J.icon&&N&&(J.icon=N),o[p][w]=J})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&c.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const g=Number(p==null?void 0:p.id);if(!Number.isFinite(g))return;const y=i==null?void 0:i[`b${g}`],x=Mf(y==null?void 0:y.name);if(!x||y!=null&&y.classification&&y.classification!=="Condition")return;const b=x;if(!b)return;const w=p.statesPerSource||{};h+=1,Object.entries(w).forEach(([k,C])=>{var D;const N=c.get(k);if(!N)return;f+=1;const j=iU(C),M=aU(C);d+=j;const _=((D=o[N])==null?void 0:D[b])||{applications:0,damage:0,skills:{}};_.applicationsFromBuffs=(_.applicationsFromBuffs||0)+j,_.applicationsFromBuffsActive=(_.applicationsFromBuffsActive||0)+M,o[N]=o[N]||{},o[N][b]=_;const T=l[b]||{name:b,applications:0,damage:0};T.applicationsFromBuffs=(T.applicationsFromBuffs||0)+j,T.applicationsFromBuffsActive=(T.applicationsFromBuffsActive||0)+M,l[b]=T})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Of={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},oU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function ac(e){return Of[e]||Of.Unknown}function lU(e){return e?oU[e]||e:"Unknown"}function Xl(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Of[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=lU(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const cU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},Di=(e,t)=>cU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Ud=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const a=e.filter(h=>h.details&&h.details.players&&h.details.players.length>0),s=r||tb,o=n||IO,l=f=>{if(!f||typeof f!="object")return f;const h=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!h||h.length===0)return f;const m=k=>Array.isArray(k)&&k.some(C=>C&&Number(C.count)>0),p=new Map,g=new Map;e.forEach(k=>{var j;const C=(k==null?void 0:k.filePath)||(k==null?void 0:k.id);C&&p.set(String(C),k);const N=(k==null?void 0:k.permalink)||((j=k==null?void 0:k.details)==null?void 0:j.permalink);typeof N=="string"&&N.trim()&&g.set(N.trim(),k)});const y=h.map(k=>{var T;if(!k||typeof k!="object")return k;const C=k.id?String(k.id):"",N=typeof k.permalink=="string"?k.permalink.trim():"",j=(C?p.get(C):void 0)||(N?g.get(N):void 0);if(!j)return k;let M=k;if(Number(k.timestamp)<=0){const D=Di(j==null?void 0:j.details,j);D&&(M={...M,timestamp:D})}const _=(T=j==null?void 0:j.details)==null?void 0:T.teamBreakdown;return m(_)&&(M={...M,teamBreakdown:_}),M}),x=Array.isArray(f.fightDiffMode)?f.fightDiffMode:[],w=x.some(k=>Array.isArray(k==null?void 0:k.targetFocus)&&k.targetFocus.some(C=>Number((C==null?void 0:C.damage)||0)>0||Number((C==null?void 0:C.hits)||0)>0))?x:y.map((k,C)=>{const N=k&&typeof k.enemyClassCounts=="object"&&k.enemyClassCounts?k.enemyClassCounts:{},j=Object.entries(N).map(([X,G])=>({label:String(X||"Unknown"),count:Number(G||0)})).filter(X=>X.count>0).sort((X,G)=>G.count-X.count||X.label.localeCompare(G.label)),M=j.reduce((X,G)=>X+G.count,0),_=j.map(X=>({label:X.label,damage:X.count,hits:0,share:M>0?X.count/M:0})),T=Number((k==null?void 0:k.enemyDowns)||0),D=Number((k==null?void 0:k.enemyDeaths)||0),O=Number((k==null?void 0:k.alliesDown)||0),Z=Number((k==null?void 0:k.alliesDead)||0),J=Number((k==null?void 0:k.totalOutgoingDamage)||0),se=Number((k==null?void 0:k.totalIncomingDamage)||0),de=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:k!=null&&k.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((k==null?void 0:k.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((k==null?void 0:k.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Z>0?D/Z:D},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:D},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:T},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Z},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:O},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:J-se},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:J},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:se},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((k==null?void 0:k.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((k==null?void 0:k.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((k==null?void 0:k.alliesRevived)||0)}];return{id:String((k==null?void 0:k.id)||`fight-${C+1}`),shortLabel:`F${C+1}`,fullLabel:`${String((k==null?void 0:k.mapName)||(k==null?void 0:k.label)||"Unknown Map")}  ${String((k==null?void 0:k.duration)||"--:--")}`,mapName:String((k==null?void 0:k.mapName)||""),timestamp:Number((k==null?void 0:k.timestamp)||0),duration:String((k==null?void 0:k.duration)||"--:--"),isWin:!!(k!=null&&k.isWin),targetFocus:_,squadMetrics:de}});return{...f,fightBreakdown:y,fightDiffMode:w}},c=(()=>{if(t)return l(t);const f=i||tU,h=s.topSkillDamageSource||"target",m=s.topSkillsMetric||"damage",p=a.length;let g=0,y=0,x=0,b=0,w=0,k=0,C=0,N=0;const j=E=>{const $=((E==null?void 0:E.players)||[]).filter(Ue=>!Ue.notInSquad);let pe=0,ie=0,Se=0,ye=0;return $.forEach(Ue=>{var Ut;const rt=(Ut=Ue.defenses)==null?void 0:Ut[0];if(!rt)return;const yt=Number(rt.downCount||0),qt=Number(rt.deadCount||0);pe+=yt+qt,Se+=qt}),$.forEach(Ue=>{!Ue.statsTargets||Ue.statsTargets.length===0||Ue.statsTargets.forEach(rt=>{const yt=rt==null?void 0:rt[0];if(!yt)return;const qt=Number(yt.downed||0),Ut=Number(yt.killed||0);ie+=qt+Ut,ye+=Ut})}),{squadDownsDeaths:pe,enemyDownsDeaths:ie,squadDeaths:Se,enemyDeaths:ye}},M=E=>{const{squadDownsDeaths:I,enemyDownsDeaths:$}=j(E);return I>0||$>0?$>I:typeof(E==null?void 0:E.success)=="boolean"?E.success:!1},_=new Map,T=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),D={},O={},Z=new Map,J={},se={},de={},X=new Map,G=new Map,F=new Set(Object.keys(Of)),P=Object.keys(Of).filter(E=>E&&E!=="Unknown").sort((E,I)=>I.length-E.length),A=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],te=E=>{if(!E)return"Unknown";const I=String(E).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(F.has(I))return I;const $=I.toLowerCase();for(const ie of P)if($.includes(ie.toLowerCase()))return ie;return A.find(ie=>$.includes(ie.toLowerCase()))||I||"Unknown"},S=E=>E!=null&&E.classification?E.classification==="Boon":!0,U=new Map,q=new Map,ee=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),K=E=>{const I=Number(E);return Number.isFinite(I)?I:0},re=E=>{const I=String(E).split("|"),$=I[0]||"Unknown",pe=te(I[1]||"Unknown"),ie=I[2]||$||"Unknown";return{name:$,profession:pe,account:ie}},R=(E,I,$)=>{let pe=E.get(I);return pe?$.profession&&!pe.professionList.includes($.profession)&&pe.professionList.push($.profession):(pe={account:$.account,name:$.name,profession:$.profession,professionList:$.profession?[$.profession]:[],activeMs:0,mitigationTotals:ee()},E.set(I,pe)),pe},H=(E,I,$)=>{let pe=E.get(I);return pe?$.profession&&!pe.professionList.includes($.profession)&&pe.professionList.push($.profession):(pe={account:$.account,name:$.name,profession:$.profession,professionList:$.profession?[$.profession]:[],activeMs:0,mitigationTotals:ee(),minion:$.minion},E.set(I,pe)),pe},le=(E,I)=>{E.totalHits+=K((I==null?void 0:I.skill_hits)??(I==null?void 0:I.skillHits)),E.blocked+=K(I==null?void 0:I.blocked),E.evaded+=K(I==null?void 0:I.evaded),E.glanced+=K(I==null?void 0:I.glanced),E.missed+=K(I==null?void 0:I.missed),E.invulned+=K(I==null?void 0:I.invulned),E.interrupted+=K(I==null?void 0:I.interrupted),E.totalMitigation+=K((I==null?void 0:I.avoided_damage)??(I==null?void 0:I.avoidedDamage)),E.minMitigation+=K((I==null?void 0:I.min_avoided_damage)??(I==null?void 0:I.minAvoidedDamage))},ae=E=>Object.values(E).some(I=>I>0),B=(E,I,$)=>{var Se,ye,Ue,rt;const pe=`s${E}`;if((Se=I==null?void 0:I[pe])!=null&&Se.name)return I[pe].name;if((ye=I==null?void 0:I[String(E)])!=null&&ye.name)return I[String(E)].name;const ie=`b${E}`;return(Ue=$==null?void 0:$[ie])!=null&&Ue.name?$[ie].name:(rt=$==null?void 0:$[String(E)])!=null&&rt.name?$[String(E)].name:`Unknown Skill ${E}`},V=new Map,L=E=>{const I=V.get(E);if(!I)return{hasSkill:!1,avg:1,min:1,hits:0};const $=I.connectedHits||0,pe=$>0?I.totalDamage/$:0,ie=I.minCount>0?I.minTotal/I.minCount:0;return{hasSkill:!0,avg:pe,min:ie,hits:$}},ne="Ashtonlightstone.9145",Ce="Illusionary Warden",ze=[],ce=[],He=[],Ie=[],mt=new Map,Ft=new Map,hn=(E,I,$)=>{const pe=E.get(I)||ee();return pe.totalHits+=$.totalHits,pe.blocked+=$.blocked,pe.evaded+=$.evaded,pe.glanced+=$.glanced,pe.missed+=$.missed,pe.invulned+=$.invulned,pe.interrupted+=$.interrupted,E.set(I,pe),pe};a.forEach(E=>{const I=E.details;if(!I)return;(I.targets||[]).forEach(pe=>{const ie=(pe==null?void 0:pe.totalDamageDist)||[],Se=Array.isArray(ie)?ie[0]:null;Se==null||Se.forEach(ye=>{if(!(ye!=null&&ye.id))return;const Ue=Number(ye.id),rt=V.get(Ue)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};rt.totalDamage+=Number(ye.totalDamage||0),rt.connectedHits+=Number(ye.connectedHits||0);const yt=Number.isFinite(Number(ye.min))?Number(ye.min):0;rt.minTotal+=yt,rt.minCount+=1,V.set(Ue,rt)})})}),a.forEach((E,I)=>{var Jt,an;const $=E.details;if(!$)return;const pe=$.players,ie=$.targets||[],Se=$.skillMap||{},ye=$.buffMap||{},Ue=new Map,rt=new Map;ie.forEach(W=>{const ue=(W==null?void 0:W.totalDamageDist)||[],Oe=Array.isArray(ue)?ue[0]:null;Oe==null||Oe.forEach(Ke=>{var It;if(!(Ke!=null&&Ke.id))return;const De=Number(Ke.id),oe=((It=Se==null?void 0:Se[De])==null?void 0:It.name)||Ke.name||Ke.skillName||String(De),Le=Ue.get(De)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Le.totalDamage+=Number(Ke.totalDamage||0),Le.connectedHits+=Number(Ke.connectedHits||0);const je=Number.isFinite(Number(Ke.min))?Number(Ke.min):0;Le.minTotal+=je,Le.minCount+=1,Ue.set(De,Le);const at=rt.get(oe)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};at.totalDamage+=Number(Ke.totalDamage||0),at.connectedHits+=Number(Ke.connectedHits||0);const Rt=Number.isFinite(Number(Ke.min))?Number(Ke.min):0;at.minTotal+=Rt,at.minCount+=1,rt.set(oe,at)})});const yt=W=>{const ue=Ue.get(W);if(!ue||ue.connectedHits<=0)return{avg:1,min:1};const Oe=ue.connectedHits>0?ue.totalDamage/ue.connectedHits:0,Ke=ue.minCount>0?ue.minTotal/ue.minCount:Oe;return{avg:Oe||1,min:Ke||1}},qt=W=>{const ue=rt.get(W);if(!ue||ue.connectedHits<=0)return{avg:1,min:1};const Oe=ue.connectedHits>0?ue.totalDamage/ue.connectedHits:0,Ke=ue.minCount>0?ue.minTotal/ue.minCount:Oe;return{avg:Oe||1,min:Ke||1}},Ut=$.combatReplayMetaData||{},pn=(Ut==null?void 0:Ut.inchToPixel)>0?Ut.inchToPixel:1,qe=(Ut==null?void 0:Ut.pollingRate)>0?Ut.pollingRate:1,Ze=5e3,st=W=>Array.isArray(W)?W.map(ue=>Array.isArray(ue)?[Number(ue[0]),Number(ue[1])]:null).filter(ue=>!!ue&&Number.isFinite(ue[0])):[];let Mt=[],ut=$.durationMS||0,be=!1;const we=pe.find(W=>(W==null?void 0:W.hasCommanderTag)&&!(W!=null&&W.notInSquad));(Jt=we==null?void 0:we.combatReplayData)!=null&&Jt.positions&&(Mt=we.combatReplayData.positions,st(we.combatReplayData.dead).forEach(([ue])=>{ue>0&&(be=!0,ut=Math.min(ut,ue))}));const Be=W=>{var at;const ue=(at=W.statsAll)==null?void 0:at[0];if((ue==null?void 0:ue.distToCom)!==void 0&&(ue==null?void 0:ue.distToCom)!=="Infinity")return Math.round(Number(ue.distToCom));if((ue==null?void 0:ue.stackDist)!==void 0)return Math.round(Number(ue.stackDist))||0;if(W.hasCommanderTag)return 0;const Oe=W.combatReplayData;if(!(Oe!=null&&Oe.positions)||!Mt.length)return 0;const Ke=Oe.positions,De=st(Oe.dead),oe=st(Oe.down),Le=Math.floor((Oe.start||0)/qe);let je=0;if(De.length&&oe.length)for(const[Rt]of De){if(Rt<0)continue;const It=Math.max(0,Math.floor(Rt/qe))-Le;for(const[ht,Et]of oe){if(Rt!==Et)continue;const Bt=be&&ht>ut?Math.max(1,Math.floor(ut/qe)):It,Ht=Math.max(0,Math.min(Bt,Ke.length,Mt.length));if(Ht<=0)continue;let St=0;for(let Tt=0;Tt<Ht;Tt++){const[Fe,ot]=Ke[Tt],[pt,Nt]=Mt[Tt];St+=Math.hypot(Fe-pt,ot-Nt)}je=Math.round(St/Ht/pn)}}return je},Pe=pe.filter(W=>!W.notInSquad);x+=Pe.length,b+=ie.filter(W=>!W.isFake).length,eU(pe,{durationMS:$.durationMS,buffMap:$.buffMap});const{squadDeaths:it,enemyDeaths:fe}=j($);w+=it,k+=fe,N+=it,C+=fe,M($)?g++:y++;const et=$.skillMap?Number((an=Object.keys($.skillMap).find(W=>{var ue,Oe;return((Oe=(ue=$.skillMap)==null?void 0:ue[W])==null?void 0:Oe.name)==="Battle Standard"}))==null?void 0:an.replace(/^s/,"")):null;pe.forEach((W,ue)=>{var Us,Vs,Rc,jl,aa,Bc,Km,hd,Aa,Al,Ga,Ya,zc;if(W.notInSquad)return;const Oe=W.account||"Unknown",Ke=Oe!=="Unknown"?Oe:W.name||"Unknown",De=W.name||"Unknown";_.has(Ke)||_.set(Ke,{name:De,account:Ke,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:W.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const oe=_.get(Ke);if(W.hasCommanderTag&&(oe.isCommander=!0),De!=="Unknown"&&oe.characterNames.add(String(De)),W.profession&&W.profession!=="Unknown"){oe.profession=W.profession,oe.professions.add(W.profession);const Me=Array.isArray(W.activeTimes)&&typeof W.activeTimes[0]=="number"?W.activeTimes[0]:$.durationMS||0;oe.professionTimeMs[W.profession]=(oe.professionTimeMs[W.profession]||0)+Me}oe.logsJoined++,oe.downContrib+=cC(W),oe.cleanses+=oC(W),oe.strips+=lC(W,f),oe.healing+=uC(W),oe.barrier+=dC(W),oe.cc+=fC(W,f),oe.stab+=W.stabGeneration||0;const Le=Be(W);Le<=Ze&&(oe.totalDist+=Le,oe.distCount++),(Us=W.defenses)!=null&&Us[0]&&(oe.dodges+=W.defenses[0].dodgeCount||0,oe.downs+=W.defenses[0].downCount||0,oe.deaths+=W.defenses[0].deadCount||0),$.durationMS&&(oe.totalFightMs+=$.durationMS);const je=Array.isArray(W.activeTimes)&&typeof W.activeTimes[0]=="number"?W.activeTimes[0]:$.durationMS||0;oe.squadActiveMs+=je;const at=Di($,E),Rt=Number(($==null?void 0:$.durationMS)||0);if(at>0&&((oe.firstSeenFightTs<=0||at<oe.firstSeenFightTs)&&(oe.firstSeenFightTs=at),oe.lastSeenFightTs<=0||at>oe.lastSeenFightTs?(oe.lastSeenFightTs=at,oe.lastSeenFightDurationMs=Rt):at===oe.lastSeenFightTs&&Rt>oe.lastSeenFightDurationMs&&(oe.lastSeenFightDurationMs=Rt)),oe.defenseActiveMs+=je,oe.supportActiveMs+=je,oe.healingActiveMs+=je,Array.isArray(W.buffUptimes)&&W.buffUptimes.length>0&&W.buffUptimes.forEach(Me=>{var sa,Gm,El,Ym,Xm,Qm;if(typeof(Me==null?void 0:Me.id)!="number")return;const Ge=`b${Me.id}`,Xe=((sa=$.buffMap)==null?void 0:sa[Ge])||((Gm=$.buffMap)==null?void 0:Gm[String(Me.id)]);if(!Xe||S(Xe))return;const tt=Number(((Ym=(El=Me.buffData)==null?void 0:El[0])==null?void 0:Ym.uptime)??0),wt=Number(((Qm=(Xm=Me.buffData)==null?void 0:Xm[0])==null?void 0:Qm.presence)??0);if((!Number.isFinite(tt)||tt<=0)&&(!Number.isFinite(wt)||wt<=0))return;const wn=(Xe==null?void 0:Xe.stacking)??!1,kn=(wn?Number.isFinite(tt)?tt:0:Number.isFinite(tt)?tt/100:0)*je,zn=wn?wt:tt,Ai=Math.min(Math.max(Number.isFinite(zn)?zn:0,0),100)/100*je,Xa=Number.isFinite(kn)&&kn>0,mi=Number.isFinite(Ai)&&Ai>0;if(!Xa&&!mi)return;const Ui=eu(Xe==null?void 0:Xe.name);if(Ui&&u6.has(Ui)&&(!(Xe!=null&&Xe.classification)||Xe.classification==="Condition")){const Vi=kn/1e3,$r=Xe==null?void 0:Xe.icon,Dl=J[Ui]||{name:Ui,icon:$r,applications:0,damage:0};Dl.applicationsFromUptime=(Dl.applicationsFromUptime||0)+Vi,!Dl.icon&&$r&&(Dl.icon=$r),J[Ui]=Dl;const Ml=oe.outgoingConditions[Ui]||{applications:0,damage:0,skills:{},icon:$r};Ml.applicationsFromUptime=(Ml.applicationsFromUptime||0)+Vi,!Ml.icon&&$r&&(Ml.icon=$r),oe.outgoingConditions[Ui]=Ml;const Ol=se[Ui]||{name:Ui,icon:$r,applications:0,damage:0};Ol.applicationsFromUptime=(Ol.applicationsFromUptime||0)+Vi,!Ol.icon&&$r&&(Ol.icon=$r),se[Ui]=Ol;const Oo=oe.incomingConditions[Ui]||{applications:0,damage:0,skills:{},icon:$r};Oo.applicationsFromUptime=(Oo.applicationsFromUptime||0)+Vi,!Oo.icon&&$r&&(Oo.icon=$r),oe.incomingConditions[Ui]=Oo}X.has(Ge)||X.set(Ge,{name:Xe==null?void 0:Xe.name,stacking:wn,icon:Xe==null?void 0:Xe.icon}),G.has(Ge)||G.set(Ge,new Map);const Pl=G.get(Ge),Tl=oe.account||W.account||W.name||"Unknown";let Pa=Pl.get(Tl);Pa||(Pa={account:Tl,profession:oe.profession||W.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Pl.set(Tl,Pa));const Mo=W.profession||oe.profession;Mo&&Mo!=="Unknown"&&(Pa.professions.add(Mo),Pa.professionTimeMs[Mo]=(Pa.professionTimeMs[Mo]||0)+je,Pa.profession=Mo),Pa.totalMs+=Xa?kn:0,Pa.uptimeMs+=mi?Ai:0,Pa.durationMs+=je}),(Vs=W.defenses)!=null&&Vs[0]){const Me=tt=>{let wt=String(tt||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return wt.toUpperCase().includes("UNKNOWN")&&(wt="Unknown"),wt},Xe=(()=>{const tt=Array.isArray(W==null?void 0:W.minions)?W.minions:[];if(tt.length===0)return{total:0,byMinion:{}};let wt=0;const wn={};return tt.forEach(Dn=>{const kn=Array.isArray(Dn==null?void 0:Dn.totalDamageTakenDist)?Dn.totalDamageTakenDist:[],zn=Array.isArray(kn[0])?kn[0]:[],ji=Me(Dn==null?void 0:Dn.name);zn.forEach(Ai=>{const Xa=Number((Ai==null?void 0:Ai.totalDamage)??(Ai==null?void 0:Ai.damageTaken)??0);Number.isFinite(Xa)&&(wt+=Xa,wn[ji]=(wn[ji]||0)+Xa)})}),{total:wt,byMinion:wn}})();Xe.byMinion&&typeof Xe.byMinion=="object"&&Object.entries(Xe.byMinion).forEach(([tt,wt])=>{const wn=Number(wt||0);!Number.isFinite(wn)||wn<=0||(oe.defenseMinionDamageTaken[tt]=(oe.defenseMinionDamageTaken[tt]||0)+wn)}),bO.forEach(tt=>{const wt=tt.id==="minionDamageTaken"?Xe.total:Number(W.defenses[0][tt.field]??0);Number.isFinite(wt)&&(oe.defenseTotals[tt.id]=(oe.defenseTotals[tt.id]||0)+wt)})}(Rc=W.support)!=null&&Rc[0]&&wO.forEach(Me=>{let Ge=Number(W.support[0][Me.field]??0);Number.isFinite(Ge)&&(T.has(Me.field)&&Ge>999999&&(Ge=0),oe.supportTotals[Me.id]=(oe.supportTotals[Me.id]||0)+Ge)});const It=(Me,Ge)=>{Number.isFinite(Ge)&&(oe.healingTotals[Me]=(oe.healingTotals[Me]||0)+Ge)},ht=(Me,Ge)=>Array.isArray(Me)?Me.reduce((Xe,tt)=>Xe+Number((tt==null?void 0:tt[Ge])??0),0):0,Et=(Me,Ge,Xe)=>{if(!Number.isFinite(Xe)||Xe<=0)return;const tt=pe[Ge],wt=Ge===ue,wn=tt==null?void 0:tt.notInSquad,Dn=!wn,kn=Dn&&(tt==null?void 0:tt.group)!=null&&tt.group===W.group;It(Me,Xe),Dn&&It(`squad${Me[0].toUpperCase()}${Me.slice(1)}`,Xe),kn&&It(`group${Me[0].toUpperCase()}${Me.slice(1)}`,Xe),wt&&It(`self${Me[0].toUpperCase()}${Me.slice(1)}`,Xe),wn&&It(`offSquad${Me[0].toUpperCase()}${Me.slice(1)}`,Xe)};if(Array.isArray(W.rotation)){let Me=0;W.rotation.forEach(Ge=>{var tt;if(!(Ge!=null&&Ge.id)||!p6(Ge.id,$.skillMap))return;const Xe=((tt=Ge.skills)==null?void 0:tt.length)||0;Xe>0&&(Me+=Xe,It(`resUtility_s${Ge.id}`,Xe))}),Me>0&&It("resUtility",Me)}const Bt=(jl=W.extHealingStats)==null?void 0:jl.outgoingHealingAllies;Array.isArray(Bt)&&Bt.forEach((Me,Ge)=>{const Xe=ht(Me,"healing"),tt=ht(Me,"downedHealing");Et("healing",Ge,Xe),Et("downedHealing",Ge,tt)});const Ht=(aa=W.extBarrierStats)==null?void 0:aa.outgoingBarrierAllies;Array.isArray(Ht)&&Ht.forEach((Me,Ge)=>{const Xe=ht(Me,"barrier");Et("barrier",Ge,Xe)});const St=(Bc=W.statsAll)==null?void 0:Bc[0],Tt=(Km=W.dpsAll)==null?void 0:Km[0],Fe=(hd=W.support)==null?void 0:hd[0];if(yO.forEach(Me=>{if(Me.id==="downContributionPercent"||!Me.field)return;let Ge=0,Xe=0;Me.source==="dpsAll"&&Tt?Ge=Number(Tt[Me.field]??0):Me.source==="statsAll"&&St?(Ge=Number(St[Me.field]??0),Xe=Number(St[Me.denomField||Me.weightField||"connectedDamageCount"]??0)):Me.source==="support"&&Fe?Ge=Number(Fe[Me.field]??0):W.statsTargets&&W.statsTargets.forEach(tt=>{tt!=null&&tt[0]&&(Ge+=Number(tt[0][Me.field]??0),Xe+=Number(tt[0][Me.denomField||Me.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ge)&&(oe.offenseTotals[Me.id]=(oe.offenseTotals[Me.id]||0)+Ge,Me.isRate&&Xe>0&&(oe.offenseRateWeights[Me.id]=(oe.offenseRateWeights[Me.id]||0)+Xe))}),W.targetDamageDist&&Number.isFinite(et)){const Me=W.targetDamageDist.flatMap(Ge=>Ge||[]).flatMap(Ge=>Ge||[]).reduce((Ge,Xe)=>Xe!=null&&Xe.id&&Xe.id===et?Ge+((Xe==null?void 0:Xe.connectedHits)||0):Ge,0);oe.offenseTotals.battleStandardHits=(oe.offenseTotals.battleStandardHits||0)+Me}oe.revives+=((Al=(Aa=W.support)==null?void 0:Aa[0])==null?void 0:Al.resurrects)||0,Tt&&(oe.damage+=Tt.damage||0,oe.dps+=Tt.dps||0);const ot=Me=>{var wt,wn,Dn,kn;let Ge=`Skill ${Me.id}`;const Xe=((wt=$.skillMap)==null?void 0:wt[`s${Me.id}`])||((wn=$.skillMap)==null?void 0:wn[`${Me.id}`]);let tt=Xe==null?void 0:Xe.icon;if(Xe!=null&&Xe.name&&(Ge=Xe.name),Ge.startsWith("Skill ")){const zn=ip(Ge,Me.id,$.buffMap);zn&&(Ge=zn,tt=((kn=(Dn=$.buffMap)==null?void 0:Dn[`b${Me.id}`])==null?void 0:kn.icon)||tt)}return{name:Ge,icon:tt}},pt=Me=>{if(!(Me!=null&&Me.id))return;const{name:Ge,icon:Xe}=ot(Me);D[Me.id]||(D[Me.id]={name:Ge,icon:Xe,damage:0,hits:0,downContribution:0}),D[Me.id].name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(D[Me.id].name=Ge),!D[Me.id].icon&&Xe&&(D[Me.id].icon=Xe),D[Me.id].damage+=Me.totalDamage,D[Me.id].hits+=Me.connectedHits,D[Me.id].downContribution+=Number(Me.downContribution||0)},Nt=W.account||W.name||"Unknown",un=W.profession||"Unknown",bn=`${Nt}|${un}`;let _n=Z.get(bn);_n||(_n={key:bn,account:Nt,displayName:Nt,profession:un,professionList:[un],totalFightMs:0,skills:new Map},Z.set(bn,_n)),_n.professionList.includes(un)||_n.professionList.push(un),_n.totalFightMs+=$.durationMS||0;const Tr=Me=>{if(!(Me!=null&&Me.id))return;const{name:Ge,icon:Xe}=ot(Me),tt=`s${Me.id}`;let wt=_n.skills.get(tt);wt||(wt={id:tt,name:Ge,icon:Xe,damage:0,downContribution:0},_n.skills.set(tt,wt)),wt.name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(wt.name=Ge),!wt.icon&&Xe&&(wt.icon=Xe),wt.damage+=Number(Me.totalDamage||0),wt.downContribution+=Number(Me.downContribution||0)};if(h==="total")(Ga=W.totalDamageDist)==null||Ga.forEach(Me=>{Me==null||Me.forEach(Ge=>{pt(Ge),Tr(Ge)})});else{const Me=new Map;(Ya=W.targetDamageDist)==null||Ya.forEach(Xe=>{Xe==null||Xe.forEach(tt=>{tt==null||tt.forEach(wt=>{const wn=Number(wt==null?void 0:wt.id);if(Number.isFinite(wn)){const Dn=Me.get(wn)||{damage:0,hits:0,downContribution:0};Dn.damage+=Number((wt==null?void 0:wt.totalDamage)||0),Dn.hits+=Number((wt==null?void 0:wt.connectedHits)||0),Dn.downContribution+=Number((wt==null?void 0:wt.downContribution)||0),Me.set(wn,Dn)}pt(wt),Tr(wt)})})}),!($!=null&&$.detailedWvW)&&((zc=W.totalDamageDist)==null||zc.forEach(Xe=>{Xe==null||Xe.forEach(tt=>{const wt=Number(tt==null?void 0:tt.id);if(!Number.isFinite(wt))return;const wn=Me.get(wt);if(!wn){pt(tt),Tr(tt);return}const Dn=Number((tt==null?void 0:tt.totalDamage)||0),kn=Number((tt==null?void 0:tt.connectedHits)||0),zn=Number((tt==null?void 0:tt.downContribution)||0),ji=Dn-Number(wn.damage||0),Ai=kn-Number(wn.hits||0),Xa=zn-Number(wn.downContribution||0);if(ji<=0&&Ai<=0&&Xa<=0)return;const mi={...tt,totalDamage:Math.max(0,ji),connectedHits:Math.max(0,Ai),downContribution:Math.max(0,Xa)};pt(mi),Tr(mi)})}))}W.totalDamageTaken&&W.totalDamageTaken.forEach(Me=>{Me==null||Me.forEach(Ge=>{var wn,Dn,kn,zn;if(!(Ge!=null&&Ge.id))return;let Xe=`Skill ${Ge.id}`;const tt=((wn=$.skillMap)==null?void 0:wn[`s${Ge.id}`])||((Dn=$.skillMap)==null?void 0:Dn[`${Ge.id}`]);let wt=tt==null?void 0:tt.icon;if(tt!=null&&tt.name&&(Xe=tt.name),Xe.startsWith("Skill ")){const ji=ip(Xe,Ge.id,$.buffMap);ji&&(Xe=ji,wt=((zn=(kn=$.buffMap)==null?void 0:kn[`b${Ge.id}`])==null?void 0:zn.icon)||wt)}O[Ge.id]||(O[Ge.id]={name:Xe,icon:wt,damage:0,hits:0}),(!O[Ge.id].name.startsWith("Skill ")||Xe.startsWith("Skill "))&&(O[Ge.id].name=Xe),!O[Ge.id].icon&&wt&&(O[Ge.id].icon=wt),O[Ge.id].damage+=Ge.totalDamage,O[Ge.id].hits+=Ge.hits})})}),ie.forEach(W=>{if(W!=null&&W.isFake)return;const ue=te((W==null?void 0:W.profession)||(W==null?void 0:W.name)||(W==null?void 0:W.id));ue&&(de[ue]=(de[ue]||0)+1)});const $e=sU({players:pe,targets:ie,skillMap:$.skillMap,buffMap:$.buffMap,getPlayerKey:W=>W.account&&W.account!=="Unknown"?W.account:W.name||null}),Je=LO($.buffMap);Object.entries($e.playerConditions).forEach(([W,ue])=>{const Oe=_.get(W);Oe&&Object.entries(ue).forEach(([Ke,De])=>{const oe=Oe.outgoingConditions[Ke]||{applications:0,damage:0,skills:{},icon:De.icon};oe.applications+=Number(De.applications||0),oe.damage+=Number(De.damage||0),De.applicationsFromBuffs&&(oe.applicationsFromBuffs=(oe.applicationsFromBuffs||0)+De.applicationsFromBuffs),De.applicationsFromBuffsActive&&(oe.applicationsFromBuffsActive=(oe.applicationsFromBuffsActive||0)+De.applicationsFromBuffsActive),Object.entries(De.skills||{}).forEach(([Le,je])=>{const at=oe.skills[Le]||{name:je.name,hits:0,damage:0,icon:je.icon};at.hits+=Number(je.hits||0),at.damage+=Number(je.damage||0),!at.icon&&je.icon&&(at.icon=je.icon),oe.skills[Le]=at}),!oe.icon&&De.icon&&(oe.icon=De.icon),Oe.outgoingConditions[Ke]=oe})}),Object.entries($e.summary).forEach(([W,ue])=>{const Oe=J[W]||{name:ue.name||W,icon:ue.icon,applications:0,damage:0};Oe.applications+=Number(ue.applications||0),Oe.damage+=Number(ue.damage||0),ue.applicationsFromBuffs&&(Oe.applicationsFromBuffs=(Oe.applicationsFromBuffs||0)+ue.applicationsFromBuffs),ue.applicationsFromBuffsActive&&(Oe.applicationsFromBuffsActive=(Oe.applicationsFromBuffsActive||0)+ue.applicationsFromBuffsActive),!Oe.icon&&ue.icon&&(Oe.icon=ue.icon),J[W]=Oe}),Pe.forEach(W=>{const ue=W.account&&W.account!=="Unknown"?W.account:W.name||"Unknown",Oe=_.get(ue);!Oe||!W.totalDamageTaken||W.totalDamageTaken.forEach(Ke=>Ke==null?void 0:Ke.forEach(De=>{var Tt,Fe,ot,pt,Nt,un;if(!(De!=null&&De.id))return;let oe=`Skill ${De.id}`;const Le=((Tt=$.skillMap)==null?void 0:Tt[`s${De.id}`])||((Fe=$.skillMap)==null?void 0:Fe[`${De.id}`]);Le!=null&&Le.name&&(oe=Le.name);const je=ip(oe,De.id,$.buffMap);if(!je)return;const at=(pt=(ot=$.buffMap)==null?void 0:ot[`b${De.id}`])==null?void 0:pt.name,Rt=Je.get(je)||((un=(Nt=$.buffMap)==null?void 0:Nt[`b${De.id}`])==null?void 0:un.icon),It=(Le==null?void 0:Le.icon)||Rt;oe.startsWith("Skill ")&&(at||je)&&(oe=at||je);const ht=Number(De.hits??0),Et=Number(De.totalDamage??0),Bt=se[je]||{name:je,icon:Rt,applications:0,damage:0};Bt.applications+=Number.isFinite(ht)?ht:0,Bt.damage+=Number.isFinite(Et)?Et:0,!Bt.icon&&Rt&&(Bt.icon=Rt),se[je]=Bt;const Ht=Oe.incomingConditions[je]||{applications:0,damage:0,skills:{},icon:Rt};Ht.applications+=Number.isFinite(ht)?ht:0,Ht.damage+=Number.isFinite(Et)?Et:0;const St=Ht.skills[oe]||{name:oe,hits:0,damage:0,icon:It};St.hits+=Number.isFinite(ht)?ht:0,St.damage+=Number.isFinite(Et)?Et:0,!St.icon&&It&&(St.icon=It),Ht.skills[oe]=St,!Ht.icon&&Rt&&(Ht.icon=Rt),Oe.incomingConditions[je]=Ht}))});const Kt=$.player_damage_mitigation||$.playerDamageMitigation,En=Kt&&typeof Kt=="object"&&Object.keys(Kt).length>0;En&&Object.entries(Kt).forEach(([W,ue])=>{if(!ue||typeof ue!="object")return;const Oe=re(W),Ke=R(U,Oe.account,Oe);Object.values(ue).forEach(De=>{K((De==null?void 0:De.avoided_damage)??(De==null?void 0:De.avoidedDamage))<=0||le(Ke.mitigationTotals,De)})});const vn=$.player_minion_damage_mitigation||$.playerMinionDamageMitigation,en=vn&&typeof vn=="object"&&Object.keys(vn).length>0;en&&Object.entries(vn).forEach(([W,ue])=>{if(!ue||typeof ue!="object")return;const Oe=re(W);Object.entries(ue).forEach(([Ke,De])=>{if(!De||typeof De!="object")return;const oe=`${Oe.account}::${Ke}`,Le=H(q,oe,{...Oe,minion:String(Ke||"Unknown")});Object.values(De).forEach(je=>{le(Le.mitigationTotals,je)})})}),(!En||!en)&&(En||Pe.forEach(W=>{const ue=(W==null?void 0:W.totalDamageTaken)||[];if(!Array.isArray(ue)||ue.length===0)return;const Oe=W.account||W.name||"Unknown",Ke={account:Oe,name:W.name||Oe,profession:te(W.profession||"Unknown")};R(U,Oe,Ke);const De=$.skillMap||{},oe=$.buffMap||{},Le=Array.isArray(ue)?ue[0]:null;if(Le==null||Le.forEach(je=>{if(!(je!=null&&je.id))return;const at=K(je.blocked),Rt=K(je.evaded),It=K(je.glance??je.glanced),ht=K(je.missed),Et=K(je.invulned),Bt=K(je.interrupted),Ht=K(je.hits??je.connectedHits),St=Number(je.id),Tt=B(St,De,oe);if(hn(mt,`${Oe}::${St}`,{totalHits:Ht,blocked:at,evaded:Rt,glanced:It,missed:ht,invulned:Et,interrupted:Bt}),Oe===ne){const Fe=V.get(St),ot=L(St),pt=ot.hasSkill?ot.hits>0?ot.avg:0:1,Nt=ot.hasSkill?ot.min||0:1,un=ot.hits>0?It*pt/2+(at+Rt+ht+Et+Bt)*pt:0,bn=ot.hits>0?It*Nt/2+(at+Rt+ht+Et+Bt)*Nt:0;He.push({logId:E.filePath||E.id||I,skillId:je.id,skillName:Tt,blocked:at,evaded:Rt,glanced:It,missed:ht,invulned:Et,interrupted:Bt,totalAvoids:at+Rt+It+ht+Et+Bt,avg:pt,min:Nt,enemyHits:(Fe==null?void 0:Fe.connectedHits)??0,enemyTotalDmg:(Fe==null?void 0:Fe.totalDamage)??0,avoidDmg:un,avoidMinDmg:bn})}}),Oe===ne){const je=(at,Rt)=>{let It=0,ht=0,Et=0;if(!Array.isArray(at))return{total:It,minTotal:ht,hits:Et};for(const Bt of at){if(!(Bt!=null&&Bt.id))continue;const Ht=K(Bt.blocked),St=K(Bt.evaded),Tt=K(Bt.glance??Bt.glanced),Fe=K(Bt.missed),ot=K(Bt.invulned),pt=K(Bt.interrupted),Nt=B(Number(Bt.id),Se,ye),un=Rt(Number(Bt.id),Nt);(un.hits??0)>0&&(It+=Tt*un.avg/2+(Ht+St+Fe+ot+pt)*un.avg,ht+=Tt*un.min/2+(Ht+St+Fe+ot+pt)*un.min),Et+=K(Bt.hits??Bt.connectedHits)}return{total:It,minTotal:ht,hits:Et}};Ie.push({logId:E.filePath||E.id||I,variant:"current_global_name_taken0",...je(Le,(at,Rt)=>{const It=L(at),ht=It.hasSkill?It.hits>0?It.avg:0:1,Et=It.hasSkill?It.min||0:1;return{avg:ht,min:Et,hits:It.hits}})})}}),en||Pe.forEach(W=>{const ue=(W==null?void 0:W.minions)||[];if(!Array.isArray(ue)||ue.length===0)return;const Oe=W.account||W.name||"Unknown",Ke={account:Oe,name:W.name||Oe,profession:te(W.profession||"Unknown")},De=$.skillMap||{},oe=$.buffMap||{};ue.forEach(Le=>{const je=(Le==null?void 0:Le.totalDamageTakenDist)||[];if(!Array.isArray(je)||je.length===0)return;let at=String((Le==null?void 0:Le.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";at.toUpperCase().includes("UNKNOWN")&&(at="Unknown");const Rt=`${Oe}::${at}`;H(q,Rt,{...Ke,minion:at});const It=Array.isArray(je)?je[0]:null;if(It==null||It.forEach(ht=>{if(!(ht!=null&&ht.id))return;const Et=K(ht.blocked),Bt=K(ht.evaded),Ht=K(ht.glance??ht.glanced),St=K(ht.missed),Tt=K(ht.invulned),Fe=K(ht.interrupted),ot=K(ht.hits??ht.connectedHits),pt=Number(ht.id),Nt=B(pt,De,oe);if(hn(Ft,`${Rt}::${pt}`,{totalHits:ot,blocked:Et,evaded:Bt,glanced:Ht,missed:St,invulned:Tt,interrupted:Fe}),Oe===ne&&at===Ce){const un=V.get(pt),bn=L(pt),_n=bn.hasSkill?bn.hits>0?bn.avg:0:1,Tr=bn.hasSkill?bn.min||0:1,Us=bn.hits>0?Ht*_n/2+(Et+Bt+St+Tt+Fe)*_n:0,Vs=bn.hits>0?Ht*Tr/2+(Et+Bt+St+Tt+Fe)*Tr:0;ze.push({logId:E.filePath||E.id||I,skillId:ht.id,skillName:Nt,blocked:Et,evaded:Bt,glanced:Ht,missed:St,invulned:Tt,interrupted:Fe,totalAvoids:Et+Bt+Ht+St+Tt+Fe,avg:_n,min:Tr,enemyHits:(un==null?void 0:un.connectedHits)??0,enemyTotalDmg:(un==null?void 0:un.totalDamage)??0,avoidDmg:Us,avoidMinDmg:Vs})}}),Oe===ne&&at===Ce){const ht=(St,Tt)=>{let Fe=0,ot=0,pt=0;if(!Array.isArray(St))return{total:Fe,minTotal:ot,hits:pt};for(const Nt of St){if(!(Nt!=null&&Nt.id))continue;const un=K(Nt.blocked),bn=K(Nt.evaded),_n=K(Nt.glance??Nt.glanced),Tr=K(Nt.missed),Us=K(Nt.invulned),Vs=K(Nt.interrupted),Rc=B(Number(Nt.id),Se,ye),{avg:jl,min:aa}=Tt(Number(Nt.id),Rc);K(Nt.hits??Nt.connectedHits)>0&&(Fe+=_n*jl/2+(un+bn+Tr+Us+Vs)*jl,ot+=_n*aa/2+(un+bn+Tr+Us+Vs)*aa),pt+=K(Nt.hits??Nt.connectedHits)}return{total:Fe,minTotal:ot,hits:pt}},Et=Array.isArray(je)?je[0]||[]:[],Bt=Array.isArray(je)?je.flat():[],Ht=Array.isArray(Le==null?void 0:Le.totalDamageTaken)?Le.totalDamageTaken[0]||[]:[];ce.push({logId:E.filePath||E.id||I,variant:"current_global_name_dist0",...ht(Et,(St,Tt)=>{const Fe=L(St),ot=Fe.hasSkill?Fe.hits>0?Fe.avg:0:1,pt=Fe.hasSkill&&Fe.min||0;return{avg:ot,min:pt}})}),ce.push({logId:E.filePath||E.id||I,variant:"local_name_dist0",...ht(Et,(St,Tt)=>qt(Tt))}),ce.push({logId:E.filePath||E.id||I,variant:"local_id_dist0",...ht(Et,St=>yt(St))}),ce.push({logId:E.filePath||E.id||I,variant:"global_name_alllists",...ht(Bt,(St,Tt)=>{const Fe=L(St),ot=Fe.hasSkill?Fe.hits>0?Fe.avg:0:1,pt=Fe.hasSkill&&Fe.min||0;return{avg:ot,min:pt}})}),ce.push({logId:E.filePath||E.id||I,variant:"global_name_taken0",...ht(Ht,(St,Tt)=>{const Fe=L(St),ot=Fe.hasSkill?Fe.hits>0?Fe.avg:0:1,pt=Fe.hasSkill&&Fe.min||0;return{avg:ot,min:pt}})})}})}))}),ze.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(ze),ce.length>0&&console.table(ce),console.groupEnd()),He.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(He),Ie.length>0&&console.table(Ie),console.groupEnd());const jn=(E,I)=>{const $=new Map,pe=ie=>{let Se=$.get(ie);return Se||(Se=ee(),$.set(ie,Se)),Se};I.forEach((ie,Se)=>{const ye=Se.lastIndexOf("::"),Ue=ye>-1?Se.slice(0,ye):Se,rt=ye>-1?Number(Se.slice(ye+2)):Number.NaN,yt=Number.isFinite(rt)?L(rt):{hasSkill:!1,avg:0,min:0,hits:0};if(!yt.hasSkill||yt.hits<=0)return;const qt=yt.avg,Ut=yt.min,pn=ie.glanced*qt/2+(ie.blocked+ie.evaded+ie.missed+ie.invulned+ie.interrupted)*qt,qe=ie.glanced*Ut/2+(ie.blocked+ie.evaded+ie.missed+ie.invulned+ie.interrupted)*Ut;if(pn<=0)return;const Ze=pe(Ue);Ze.totalHits+=ie.totalHits,Ze.blocked+=ie.blocked,Ze.evaded+=ie.evaded,Ze.glanced+=ie.glanced,Ze.missed+=ie.missed,Ze.invulned+=ie.invulned,Ze.interrupted+=ie.interrupted,Ze.totalMitigation+=pn,Ze.minMitigation+=qe}),E.forEach((ie,Se)=>{const ye=$.get(Se)||ee();ie.mitigationTotals.totalHits=ye.totalHits,ie.mitigationTotals.blocked=ye.blocked,ie.mitigationTotals.evaded=ye.evaded,ie.mitigationTotals.glanced=ye.glanced,ie.mitigationTotals.missed=ye.missed,ie.mitigationTotals.invulned=ye.invulned,ie.mitigationTotals.interrupted=ye.interrupted,ie.mitigationTotals.totalMitigation=ye.totalMitigation,ie.mitigationTotals.minMitigation=ye.minMitigation})};jn(U,mt),jn(q,Ft);const xe=p>0?Math.round(x/p):0,_e=p>0?Math.round(b/p):0,Pt=w>0?(k/w).toFixed(2):k>0?"":"0.00",Yt=C>0?(N/C).toFixed(2):N>0?"":"0.00",ln=(E,I)=>{const pe=E.filter(ye=>Number.isFinite(ye.value)&&(I?ye.value>0:ye.value>=0)).sort((ye,Ue)=>{const rt=I?Ue.value-ye.value:ye.value-Ue.value;return rt!==0?rt:ye.account.localeCompare(Ue.account)});let ie=null,Se=0;return pe.map((ye,Ue)=>((ie===null||ye.value!==ie)&&(Se=Ue+1,ie=ye.value),{rank:Se,...ye}))},Nr=Array.from(_.values()).map(E=>{const I=Array.from(E.professions).filter($=>$!=="Unknown");if(E.professionList=I,I.length>0){let $=I[0],pe=E.professionTimeMs[$]||0;I.forEach(ie=>{const Se=E.professionTimeMs[ie]||0;Se>pe&&(pe=Se,$=ie)}),E.profession=$}return{key:E.account,stat:E}}),Kr=E=>{const I=_.get(E.account);if(!I){const ie=E.professionList.length>0?E.professionList:E.profession?[E.profession]:[];return{...E,professionList:ie}}const $=I.professionList&&I.professionList.length>0?I.professionList:Array.from(I.professions||[]).filter(ie=>ie&&ie!=="Unknown"),pe=I.profession||E.profession;return{...E,profession:pe,professionList:$.length>0?$:pe?[pe]:[],activeMs:I.defenseActiveMs||I.totalFightMs||E.activeMs}},Pr=Array.from(U.values()).map(Kr).filter(E=>ae(E.mitigationTotals)).sort((E,I)=>E.account.localeCompare(I.account)),Ka=Array.from(q.values()).map(Kr).filter(E=>E.mitigationTotals.totalMitigation>0).sort((E,I)=>{const $=E.account.localeCompare(I.account);return $!==0?$:String(E.minion||"").localeCompare(String(I.minion||""))}),Ci=(E,I)=>{switch(I){case"downContrib":return E.downContrib;case"barrier":return E.barrier;case"healing":return E.healing;case"dodges":return E.dodges;case"strips":return E.strips;case"cleanses":return E.cleanses;case"cc":return E.cc;case"stability":return E.stab;case"revives":return E.revives;case"dps":return E.dps;case"damage":return E.damage;case"participation":return E.logsJoined;case"closestToTag":return!E.isCommander&&E.distCount>0?E.totalDist/E.distCount:Number.POSITIVE_INFINITY;default:return 0}},xn=(E,I)=>ln(Nr.map(({stat:$})=>({account:$.account,profession:$.profession,professionList:$.professionList,value:Ci($,E),count:$.logsJoined})),I),Xt={downContrib:xn("downContrib",!0),barrier:xn("barrier",!0),healing:xn("healing",!0),dodges:xn("dodges",!0),strips:xn("strips",!0),cleanses:xn("cleanses",!0),cc:xn("cc",!0),stability:xn("stability",!0),revives:xn("revives",!0),participation:xn("participation",!0),dps:xn("dps",!0),damage:xn("damage",!0),closestToTag:xn("closestToTag",!1).filter(E=>Number.isFinite(E.value))},fi={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},Wt=E=>{const I=E==null?void 0:E[0];return{value:(I==null?void 0:I.value)??0,player:(I==null?void 0:I.account)??"-",count:(I==null?void 0:I.count)??0,profession:(I==null?void 0:I.profession)??"Unknown",professionList:(I==null?void 0:I.professionList)??[]}},In={maxDownContrib:Wt([]),maxBarrier:Wt([]),maxHealing:Wt([]),maxDodges:Wt([]),maxStrips:Wt([]),maxCleanses:Wt([]),maxCC:Wt([]),maxStab:Wt([]),closestToTag:Wt([])},ni={},Oc=(E,I)=>{if(I==="closestToTag")return Ci(E,I);const $=Math.max(1,(E.totalFightMs||0)/1e3);return Ci(E,I)/$};Object.values(fi).forEach(E=>{const I=E!=="closestToTag";ni[E]=ln(Nr.map(({stat:$})=>({account:$.account,profession:$.profession,professionList:$.professionList,value:Oc($,E),count:$.logsJoined})),I)}),In.maxDownContrib=Wt(ni.downContrib),In.maxBarrier=Wt(ni.barrier),In.maxHealing=Wt(ni.healing),In.maxDodges=Wt(ni.dodges),In.maxStrips=Wt(ni.strips),In.maxCleanses=Wt(ni.cleanses),In.maxCC=Wt(ni.cc),In.maxStab=Wt(ni.stability),In.closestToTag=Wt(ni.closestToTag);const Bs={maxDownContrib:Wt(Xt.downContrib),maxBarrier:Wt(Xt.barrier),maxHealing:Wt(Xt.healing),maxDodges:Wt(Xt.dodges),maxStrips:Wt(Xt.strips),maxCleanses:Wt(Xt.cleanses),maxCC:Wt(Xt.cc),maxStab:Wt(Xt.stability),closestToTag:Wt(Xt.closestToTag)};let ri={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},bs,Gr,Na=0;if(s!=null&&s.showMvp){const E={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},I=Se=>{const ye=E[Se];return ye?Number(o[ye]||0)>0:!1},$=[],pe=Se=>[...Se||[]].filter(ye=>I(ye==null?void 0:ye.name)).sort((ye,Ue)=>Ue.ratio-ye.ratio||ye.rank-Ue.rank||ye.name.localeCompare(Ue.name)).slice(0,3),ie=Se=>{var Ue;if(!Se)return;const ye=pe(Se.contribs);return{...Se,player:Se.name,reason:((Ue=ye[0])==null?void 0:Ue.name)||"Top Performance",topStats:ye}};Nr.forEach(({stat:Se})=>{let ye=0;const Ue=[],rt=(yt,qt,Ut,pn,qe=!0)=>{var st,Mt;if(Ut<=0)return;const Ze=((st=qt[0])==null?void 0:st.value)||0;if(Ze&&Number.isFinite(yt)&&(qe?yt>0:yt<Number.POSITIVE_INFINITY)){const ut=qe?yt/Ze:Ze/yt;ye+=ut*Ut;const be=((Mt=qt.find(we=>we.account===Se.account))==null?void 0:Mt.rank)||0;Ue.push({name:pn,ratio:ut,val:yt.toLocaleString(),rank:be})}};rt(Se.downContrib,Xt.downContrib,o.downContribution,"Down Contribution"),rt(Se.healing,Xt.healing,o.healing,"Healing"),rt(Se.cleanses,Xt.cleanses,o.cleanses,"Cleanses"),rt(Se.strips,Xt.strips,o.strips,"Strips"),rt(Se.stab,Xt.stability,o.stability,"Stability"),rt(Se.cc,Xt.cc,o.cc,"CC"),rt(Se.revives,Xt.revives,o.revives,"Revives"),rt(Ci(Se,"closestToTag"),Xt.closestToTag,o.distanceToTag,"Distance to Tag",!1),rt(Se.logsJoined,Xt.participation,o.participation,"Participation"),rt(Se.dodges,Xt.dodges,o.dodging,"Dodging"),rt(Se.dps,Xt.dps,o.dps,"DPS"),rt(Se.damage,Xt.damage,o.damage,"Damage"),$.push({...Se,score:ye,contribs:Ue.filter(yt=>I(yt.name))})}),$.sort((Se,ye)=>ye.score-Se.score),$[0]&&$[0].score>0&&(ri=ie($[0])||ri),bs=ie($[1]),Gr=ie($[2]),Na=$.length>0?$.reduce((Se,ye)=>Se+ye.score,0)/$.length:0}const To=Object.values(D).sort((E,I)=>I.damage-E.damage||I.hits-E.hits||String(E.name||"").localeCompare(String(I.name||""))).slice(0,25),Sl=Object.values(D).sort((E,I)=>I.downContribution-E.downContribution||I.hits-E.hits||String(E.name||"").localeCompare(String(I.name||""))).slice(0,25),Eo=m==="downContribution"?Sl:To,Ic=Object.values(O).sort((E,I)=>I.damage-E.damage).slice(0,25),Ca=E=>{const I=String(E).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=I.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return $?`${$[1]} Borderlands`:I||"Unknown"},hr=(E,I)=>Ca((E==null?void 0:E.zone)||(E==null?void 0:E.mapName)||(E==null?void 0:E.map)||(E==null?void 0:E.location)||(E==null?void 0:E.fightName)||(I==null?void 0:I.fightName)||(I==null?void 0:I.encounterName)||"Unknown"),ja=(E,I)=>{const $=(I==null?void 0:I.permalink)||(E==null?void 0:E.permalink);if(typeof $=="string"&&$.trim().length>0)return $.trim();const pe=E==null?void 0:E.uploadLinks;if(!Array.isArray(pe))return"";for(const ie of pe){if(typeof ie=="string"&&ie.trim().length>0)return ie.trim();if(ie&&typeof ie=="object"){const Se=ie.permalink||ie.link||ie.url||ie.reportLink;if(typeof Se=="string"&&Se.trim().length>0)return Se.trim()}}return""},zs={};a.forEach(E=>{const I=hr(E==null?void 0:E.details,E);zs[I]=(zs[I]||0)+1});const _c=Object.entries(zs).map(([E,I])=>{const $=String(E).trim(),pe=/eternal battlegrounds|^ebg$/i.test($);let ie="#64748b";return pe?ie="#ffffff":/red/i.test($)?ie="#ef4444":/blue/i.test($)?ie="#3b82f6":/green/i.test($)&&(ie="#22c55e"),{name:E,value:I,color:ie}}).sort((E,I)=>I.value-E.value),{boonTables:md}=V6(a),Nl=a.map((E,I)=>{var pe,ie;const $=((pe=E.details)==null?void 0:pe.players)||[];return{index:I+1,label:`Log ${I+1}`,timestamp:Di(E.details,E),squadCount:$.filter(Se=>!Se.notInSquad).length,friendlyCount:$.length,enemies:((ie=E.details)==null?void 0:ie.targets).filter(Se=>!Se.isFake).length}}).sort((E,I)=>E.timestamp-I.timestamp),Cl={};Array.from(_.values()).forEach(E=>{E.profession&&E.profession!=="Unknown"&&(Cl[E.profession]=(Cl[E.profession]||0)+1)});const Lc=Object.entries(Cl).map(([E,I])=>({name:E,value:I,color:ac(E)})).sort((E,I)=>I.value-E.value),Do={};Object.keys(de).length===0&&a.forEach(E=>{var I,$;($=(I=E.details)==null?void 0:I.targets)==null||$.forEach(pe=>{if(pe.isFake)return;const ie=pe.profession&&pe.profession!=="Unknown"?pe.profession:pe.name||pe.id||"Unknown",Se=te(ie);Do[Se]=(Do[Se]||0)+1})});const $c=Object.keys(de).length>0?de:Do,Fc=Object.entries($c).map(([E,I])=>({name:E,value:I,color:ac(E)})).sort((E,I)=>I.value-E.value),Y=a.map((E,I)=>({log:E,originalIndex:I})).sort((E,I)=>Di(E.log.details,E.log)-Di(I.log.details,I.log)),ve=Y.map(({log:E},I)=>{const $=E.details;if(!$)return null;const pe=$.players||[],ie=pe.filter(fe=>!fe.notInSquad),Se=pe.filter(fe=>fe.notInSquad),Ue=($.targets||[]).filter(fe=>!fe.isFake),rt=ie.reduce((fe,Ve)=>{var et,$e;return fe+((($e=(et=Ve.dpsAll)==null?void 0:et[0])==null?void 0:$e.damage)||0)},0),yt=ie.reduce((fe,Ve)=>{var et,$e;return fe+((($e=(et=Ve.defenses)==null?void 0:et[0])==null?void 0:$e.damageTaken)||0)},0),{enemyDeaths:qt,enemyDownsDeaths:Ut}=j($),pn=M($),qe=Di($,E),Ze=hr($,E),st=fe=>{if(!fe||typeof fe!="object")return;const Ve=fe.teamID??fe.teamId??fe.team??fe.teamColor??fe.team_color;if(Ve!=null)return Ve;const et=Object.keys(fe).find($e=>/^team/i.test($e));return et?fe[et]:void 0},Mt=(fe,Ve)=>{const et={};return fe.forEach($e=>{const Je=Ve($e),Kt=te(Je);Kt&&(et[Kt]=(et[Kt]||0)+1)}),et},ut=Mt(ie,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)),be=Mt(Se,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)),we=Mt(Ue,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)||(fe==null?void 0:fe.id)),Be=new Set;ie.forEach(fe=>{const Ve=st(fe);Ve!=null&&Be.add(String(Ve))});const Pe=new Map;Ue.forEach(fe=>{if((fe==null?void 0:fe.enemyPlayer)===!1)return;const Ve=st(fe);if(Ve==null)return;const et=String(Ve);Be.has(et)||Pe.set(et,(Pe.get(et)||0)+1)});const it=Array.from(Pe.entries()).sort((fe,Ve)=>{const et=Ve[1]-fe[1];return et!==0?et:fe[0].localeCompare(Ve[0],void 0,{numeric:!0})}).slice(0,3).map(([fe,Ve])=>({teamId:fe,count:Ve}));return{id:E.filePath||`fight-${I}`,label:E.encounterName||`Fight ${I+1}`,permalink:ja($,E),timestamp:qe,mapName:Ze,duration:yh($.durationMS),isWin:pn,squadCount:ie.length,allyCount:Se.length,enemyCount:Ue.length,teamBreakdown:it,alliesDown:ie.reduce((fe,Ve)=>{var et,$e;return fe+((($e=(et=Ve.defenses)==null?void 0:et[0])==null?void 0:$e.downCount)||0)},0),alliesDead:ie.reduce((fe,Ve)=>{var et,$e;return fe+((($e=(et=Ve.defenses)==null?void 0:et[0])==null?void 0:$e.deadCount)||0)},0),alliesRevived:ie.reduce((fe,Ve)=>{var et,$e;return Number((($e=(et=Ve.statsAll)==null?void 0:et[0])==null?void 0:$e.saved)||0)>0?fe+1:fe},0),rallies:0,enemyDeaths:qt,enemyDowns:Math.max(0,Ut-qt),totalOutgoingDamage:rt,totalIncomingDamage:yt,incomingBarrierAbsorbed:ie.reduce((fe,Ve)=>{var et,$e;return fe+((($e=(et=Ve.defenses)==null?void 0:et[0])==null?void 0:$e.damageBarrier)||0)},0),outgoingBarrierAbsorbed:ie.reduce((fe,Ve)=>{var Je;const et=(Je=Ve.extBarrierStats)==null?void 0:Je.outgoingBarrier;if(!Array.isArray(et))return fe;let $e=0;return et.forEach(Kt=>{if(Array.isArray(Kt)){Kt.forEach(En=>{$e+=Number((En==null?void 0:En.barrier)||0)});return}$e+=Number((Kt==null?void 0:Kt.barrier)||0)}),fe+$e},0),squadClassCountsFight:ut,allyClassCountsFight:be,enemyClassCounts:we}}).filter(Boolean),Ae=Y.map(({log:E},I)=>{const $=E.details;if(!$)return null;const ie=(Array.isArray($.players)?$.players:[]).filter(W=>!W.notInSquad),Se=Array.isArray($.targets)?$.targets:[],ye=Di($,E),Ue=hr($,E),rt=Number($.durationMS||0),{squadDownsDeaths:yt,enemyDownsDeaths:qt,squadDeaths:Ut,enemyDeaths:pn}=j($),qe=new Map,Ze=(W,ue,Oe)=>{const Ke=qe.get(W)||{label:W,damage:0,hits:0};Ke.damage+=ue,Ke.hits+=Oe,qe.set(W,Ke)};if(ie.forEach(W=>{(Array.isArray(W==null?void 0:W.statsTargets)?W.statsTargets:[]).forEach((Oe,Ke)=>{const De=Array.isArray(Oe)?Oe[0]:Oe,oe=Number((De==null?void 0:De.damage)??(De==null?void 0:De.totalDmg)??(De==null?void 0:De.connectedDmg)??0),Le=Number((De==null?void 0:De.connectedHits)??(De==null?void 0:De.connectedDamageCount)??(De==null?void 0:De.hits)??0);if(oe<=0&&Le<=0)return;const je=Se[Ke];if(je!=null&&je.isFake)return;const at=(je==null?void 0:je.profession)||(je==null?void 0:je.name)||(je==null?void 0:je.id)||`Target ${Ke+1}`,Rt=te(at);Ze(Rt||String(at),oe,Le)})}),qe.size===0){const W=new Map,ue=Oe=>{if(!Array.isArray(Oe)||Oe.length===0)return[];const Ke=Oe[0];if(Array.isArray(Ke)&&Array.isArray(Ke[0])){if(typeof Ke[0][0]=="number")return Ke;if(Array.isArray(Ke[0])&&typeof Ke[0][0]=="number")return Oe.map(De=>Array.isArray(De)?De[0]||[]:[])}return[]};ie.forEach(Oe=>{ue(Oe==null?void 0:Oe.targetDamage1S).forEach((De,oe)=>{if(!Array.isArray(De)||De.length===0)return;const Le=De.map(at=>Number(at)).filter(at=>Number.isFinite(at)&&at>=0);if(Le.length===0)return;const je=Math.max(0,Le[Le.length-1]||0);je<=0||W.set(oe,(W.get(oe)||0)+je)})}),W.forEach((Oe,Ke)=>{if(Oe<=0)return;const De=Se[Ke];if(De!=null&&De.isFake)return;const oe=(De==null?void 0:De.profession)||(De==null?void 0:De.name)||(De==null?void 0:De.id)||`Target ${Ke+1}`,Le=te(oe);Ze(Le||String(oe),Oe,0)})}if(qe.size===0&&Se.forEach((W,ue)=>{if(W!=null&&W.isFake)return;const Oe=Array.isArray(W==null?void 0:W.totalDamageTaken)?W.totalDamageTaken:Array.isArray(W==null?void 0:W.totalDamageDist)?W.totalDamageDist:[];let Ke=0,De=0;if(Oe.forEach(je=>{Ke+=Number((je==null?void 0:je.totalDamage)||(je==null?void 0:je.damage)||0),De+=Number((je==null?void 0:je.connectedHits)||(je==null?void 0:je.hits)||0)}),Ke<=0&&Number((W==null?void 0:W.damageTaken)||0)>0&&(Ke=Number(W.damageTaken||0)),Ke<=0&&De<=0)return;const oe=(W==null?void 0:W.profession)||(W==null?void 0:W.name)||(W==null?void 0:W.id)||`Target ${ue+1}`,Le=te(oe);Ze(Le||String(oe),Ke,De)}),qe.size===0){const W=new Map;Se.forEach((ue,Oe)=>{if(ue!=null&&ue.isFake)return;const Ke=(ue==null?void 0:ue.profession)||(ue==null?void 0:ue.name)||(ue==null?void 0:ue.id)||`Target ${Oe+1}`,De=te(Ke)||String(Ke);W.set(De,(W.get(De)||0)+1)}),W.forEach((ue,Oe)=>{ue>0&&Ze(Oe,ue,0)})}const st=Array.from(qe.values()).sort((W,ue)=>ue.damage-W.damage||ue.hits-W.hits||W.label.localeCompare(ue.label)),Mt=st.reduce((W,ue)=>W+ue.damage,0),ut=st.map(W=>({label:W.label,damage:W.damage,hits:W.hits,share:Mt>0?W.damage/Mt:0})),be=Se.filter(W=>!(W!=null&&W.isFake)).length,we=ie.length,Be=ie.reduce((W,ue)=>{var Oe,Ke;return W+Number(((Ke=(Oe=ue==null?void 0:ue.dpsAll)==null?void 0:Oe[0])==null?void 0:Ke.damage)||0)},0),Pe=ie.reduce((W,ue)=>{var Oe,Ke;return W+Number(((Ke=(Oe=ue==null?void 0:ue.defenses)==null?void 0:Oe[0])==null?void 0:Ke.damageTaken)||0)},0),it=ie.reduce((W,ue)=>{var Oe,Ke;return W+Number(((Ke=(Oe=ue==null?void 0:ue.defenses)==null?void 0:Oe[0])==null?void 0:Ke.damageBarrier)||0)},0),fe=ie.reduce((W,ue)=>{var De;const Oe=(De=ue==null?void 0:ue.extBarrierStats)==null?void 0:De.outgoingBarrier;if(!Array.isArray(Oe))return W;let Ke=0;return Oe.forEach(oe=>{Array.isArray(oe)?oe.forEach(Le=>{Ke+=Number((Le==null?void 0:Le.barrier)||0)}):Ke+=Number((oe==null?void 0:oe.barrier)||0)}),W+Ke},0),Ve=ie.reduce((W,ue)=>{var Oe,Ke;return Number(((Ke=(Oe=ue==null?void 0:ue.statsAll)==null?void 0:Oe[0])==null?void 0:Ke.saved)||0)>0?W+1:W},0),et=ie.reduce((W,ue)=>W+Number(oC(ue)||0),0),$e=ie.reduce((W,ue)=>W+Number(lC(ue)||0),0),Je=ie.reduce((W,ue)=>W+Number((ue==null?void 0:ue.stabGeneration)||0),0),Kt=ie.reduce((W,ue)=>W+Number(uC(ue)||0),0),En=ie.reduce((W,ue)=>W+Number(dC(ue)||0),0),vn=ie.reduce((W,ue)=>W+Number(fC(ue)||0),0),en=ie.reduce((W,ue)=>W+Number(cC(ue)||0),0),Jt=Ut>0?pn/Ut:pn,an=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:M($)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:we},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:be},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Jt},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:pn},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,qt-pn)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Ut},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,yt-Ut)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Be-Pe},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Be},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Pe},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:et},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:$e},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:Je},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:Kt},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:En},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:it},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:fe},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:vn},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:en},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Ve}];return{id:E.filePath||E.id||`fight-${I+1}`,shortLabel:`F${I+1}`,fullLabel:`${Ue||E.encounterName||"Unknown Map"}  ${yh(rt)}`,mapName:Ue,timestamp:ye,duration:yh(rt),isWin:M($),targetFocus:ut,squadMetrics:an}}).filter(Boolean),lt=Array.from(_.values()).map(E=>{const I=Object.entries(E.professionTimeMs||{}).map(([$,pe])=>({profession:$,timeMs:Number(pe||0)})).filter($=>$.profession&&$.profession!=="Unknown"&&$.timeMs>0).sort(($,pe)=>{const ie=pe.timeMs-$.timeMs;return ie!==0?ie:$.profession.localeCompare(pe.profession)});return{account:E.account||"Unknown",characterNames:Array.from(E.characterNames||[]).filter(Boolean).sort(($,pe)=>$.localeCompare(pe)),classTimes:I,combatTimeMs:Number(E.squadActiveMs||E.totalFightMs||0),squadTimeMs:(()=>{const $=Number(E.firstSeenFightTs||0),pe=Number(E.lastSeenFightTs||0),ie=Math.max(0,Number(E.lastSeenFightDurationMs||0));return $>0&&pe>0?Math.max(0,pe+ie-$):Number(E.squadActiveMs||E.totalFightMs||0)})()}}).filter(E=>E.account&&E.account!=="Unknown").sort((E,I)=>{const $=I.squadTimeMs-E.squadTimeMs;return $!==0?$:String(E.account).localeCompare(String(I.account))}),Dt=a.map(E=>E).sort((E,I)=>Di(E.details,E)-Di(I.details,I)).map((E,I)=>{const $=E==null?void 0:E.details,pe=Array.isArray($==null?void 0:$.players)?$.players.filter(ye=>!(ye!=null&&ye.notInSquad)):[],ie=new Map;pe.forEach(ye=>{const Ue=Number(ye==null?void 0:ye.group),rt=Number.isFinite(Ue)&&Ue>0?Ue:0;ie.has(rt)||ie.set(rt,{party:rt,players:[],classCounts:{}});const yt=te((ye==null?void 0:ye.profession)||(ye==null?void 0:ye.name)||"Unknown"),qt=String((ye==null?void 0:ye.account)||"Unknown"),Ut=String((ye==null?void 0:ye.name)||(ye==null?void 0:ye.character_name)||""),pn=!!(ye!=null&&ye.hasCommanderTag),qe=ie.get(rt);qe.players.push({account:qt,characterName:Ut,profession:yt,isCommander:pn}),qe.classCounts[yt]=(qe.classCounts[yt]||0)+1});const Se=Array.from(ie.values()).map(ye=>({...ye,players:ye.players.sort((Ue,rt)=>{const yt=+!!rt.isCommander-+!!Ue.isCommander;if(yt!==0)return yt;const qt=String(Ue.profession).localeCompare(String(rt.profession));return qt!==0?qt:String(Ue.account).localeCompare(String(rt.account))})})).sort((ye,Ue)=>ye.party===0&&Ue.party!==0?1:Ue.party===0&&ye.party!==0?-1:ye.party-Ue.party);return{id:String((E==null?void 0:E.filePath)||(E==null?void 0:E.id)||`fight-${I+1}`),label:`F${I+1}`,timestamp:Di($,E),mapName:hr($,E),duration:yh(Number(($==null?void 0:$.durationMS)||0)),parties:Se}}),zt=(E,I)=>{const $=(I==null?void 0:I.skillMap)||{},pe=(I==null?void 0:I.buffMap)||{};let ie=0,Se="";const ye=yt=>{const qt=Number(yt);if(!Number.isFinite(qt))return String(yt||"Unknown Skill");const Ut=($==null?void 0:$[`s${qt}`])||($==null?void 0:$[`${qt}`]);if(Ut!=null&&Ut.name)return String(Ut.name);const pn=(pe==null?void 0:pe[`b${qt}`])||(pe==null?void 0:pe[`${qt}`]);return pn!=null&&pn.name?String(pn.name):`Skill ${qt}`},Ue=yt=>{if(!yt||typeof yt!="object")return;const qt=[Number(yt.max),Number(yt.maxDamage),Number(yt.maxHit)].filter(pn=>Number.isFinite(pn)),Ut=qt.length>0?Math.max(...qt):0;Ut>ie&&(ie=Ut,Se=ye(yt.id))};let rt=!1;return Array.isArray(E==null?void 0:E.targetDamageDist)&&E.targetDamageDist.forEach(yt=>{Array.isArray(yt)&&yt.forEach(qt=>{Array.isArray(qt)&&qt.forEach(Ut=>{rt=!0,Ue(Ut)})})}),(!rt||ie<=0)&&Array.isArray(E==null?void 0:E.totalDamageDist)&&E.totalDamageDist.forEach(yt=>{Array.isArray(yt)&&yt.forEach(qt=>Ue(qt))}),{peak:ie,skillName:Se||"Unknown Skill"}},rn=(()=>{const E=qe=>String(qe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),I=qe=>E(qe).toLowerCase().split(/[^a-z0-9]+/i).map(Ze=>Ze.trim()).filter(Boolean).map(Ze=>Ze.length>3&&Ze.endsWith("s")?Ze.slice(0,-1):Ze),$=(qe,Ze)=>{const st=E(qe),Mt=E(Ze);if(!Mt)return st;if(!st)return Mt;const ut=I(st),be=I(Mt),we=new Set(ut),Be=new Set(be),Pe=be.length>0&&be.every(fe=>we.has(fe)),it=ut.length>0&&ut.every(fe=>Be.has(fe));return Pe||it?st:`${st} - ${Mt}`},pe=[],ie=new Map,Se=qe=>{const Ze=Pe=>{if(!Array.isArray(Pe)||Pe.length===0)return[];const it=[];for(let fe=0;fe<Pe.length;fe+=1){const Ve=Number(Pe[fe]||0),et=fe>0?Number(Pe[fe-1]||0):0;it.push(Math.max(0,Ve-et))}return it},st=Pe=>{if(!Array.isArray(Pe))return[];const it=Pe.reduce((Ve,et)=>Math.max(Ve,Array.isArray(et)?et.length:0),0);if(it<=0)return[];const fe=new Array(it).fill(0);return Pe.forEach(Ve=>{if(Array.isArray(Ve))for(let et=0;et<it;et+=1)fe[et]+=Number(Ve[et]||0)}),fe},Mt=Pe=>Array.isArray(Pe)?Pe.map(it=>Number(it||0)):null,be=(Pe=>{if(!Array.isArray(Pe)||Pe.length===0)return null;const it=Pe[0];if(!Array.isArray(it))return null;if(Array.isArray(it[0])&&Array.isArray(it[0][0]))return st(it);if(Array.isArray(it[0])&&!Array.isArray(it[0][0])){const fe=Pe.map(Ve=>Mt(Array.isArray(Ve)?Ve[0]:null)).filter(Ve=>Array.isArray(Ve)&&Ve.length>0);if(fe.length>0)return st(fe)}return null})(qe==null?void 0:qe.targetDamage1S),we=Array.isArray(qe==null?void 0:qe.damage1S)&&Array.isArray(qe.damage1S[0])?qe.damage1S[0]:null,Be=be||(Array.isArray(we)?we.map(Pe=>Number(Pe||0)):[]);return Ze(Be)},ye=(qe,Ze)=>{if(!Array.isArray(qe)||qe.length===0||Ze<=0)return 0;let st=0,Mt=0;for(let ut=0;ut<qe.length;ut+=1)st+=Number(qe[ut]||0),ut>=Ze&&(st-=Number(qe[ut-Ze]||0)),ut>=Ze-1&&st>Mt&&(Mt=st);return Math.max(0,Mt)},Ue=(qe,Ze)=>{if(!Array.isArray(qe)||qe.length===0||Ze<=0)return[];const st=[];for(let Mt=0;Mt<qe.length;Mt+=Ze){const ut=Math.min(Mt+Ze,qe.length),be=qe.slice(Mt,ut).reduce((we,Be)=>we+Number(Be||0),0);st.push(be)}return st},rt=(qe,Ze)=>{const st=Number(qe);if(!Number.isFinite(st))return{name:String(qe||"Unknown Skill"),icon:void 0};const Mt=(Ze==null?void 0:Ze.skillMap)||{},ut=(Ze==null?void 0:Ze.buffMap)||{},be=(Mt==null?void 0:Mt[`s${st}`])||(Mt==null?void 0:Mt[`${st}`]);if(be!=null&&be.name)return{name:String(be.name),icon:be==null?void 0:be.icon};const we=(ut==null?void 0:ut[`b${st}`])||(ut==null?void 0:ut[`${st}`]);return we!=null&&we.name?{name:String(we.name),icon:we==null?void 0:we.icon}:{name:`Skill ${st}`,icon:void 0}},yt=qe=>Array.isArray(qe)?qe.map(Ze=>Array.isArray(Ze)?[Number(Ze[0]),Number(Ze[1])]:Ze&&typeof Ze=="object"?[Number(Ze.time),Number(Ze.value)]:null).filter(Ze=>!!Ze&&Number.isFinite(Ze[0])&&Ze[0]>=0):[],qt=(qe,Ze,st,Mt,ut)=>{if(!qe.length||Mt<=0)return[];const be=Math.max(Mt*5e3,ut||0),we=Je=>Je.reduce((Kt,En)=>En>=0&&En<=be+2e3?Kt+1:Kt,0),Be=qe.map(Je=>Number(Je||0)).filter(Je=>Number.isFinite(Je)&&Je>=0);if(!Be.length)return[];const Pe=[Be],it=Be.reduce((Je,Kt)=>Math.max(Je,Kt),0),fe=Be.reduce((Je,Kt)=>Math.min(Je,Kt),Number.POSITIVE_INFINITY);it>be*20&&Pe.push(Be.map(Je=>Je/1e3)),it<=be*2&&fe>=0&&it>0&&it<Math.max(120,Mt*5+10)&&Pe.push(Be.map(Je=>Je*1e3));let Ve=Be,et=0,$e=-1;return Pe.forEach(Je=>{const Kt=Je.reduce((vn,en)=>Math.min(vn,en),Number.POSITIVE_INFINITY),En=new Set([0,...Ze,...st]);if(Number.isFinite(Kt)&&be>0&&Kt>be){const vn=Math.floor(Kt/be)*be;En.add(vn),En.add(Math.max(0,vn-be))}En.forEach(vn=>{const en=Je.map(an=>an-vn),Jt=we(en);Jt>$e&&($e=Jt,et=vn,Ve=Je)})}),Ve.map(Je=>Je-et).filter(Je=>Number.isFinite(Je)&&Je>=0)},Ut=(qe,Ze,st,Mt,ut)=>{const be=qt(qe,Ze,st,Mt,ut);return Array.from(new Set(be.map(we=>Math.floor(we/5e3)).filter(we=>Number.isFinite(we)&&we>=0&&we<Mt)))};a.map(qe=>({log:qe,ts:Di(qe==null?void 0:qe.details,qe)})).sort((qe,Ze)=>qe.ts-Ze.ts).forEach(({log:qe},Ze)=>{const st=qe==null?void 0:qe.details;if(!st)return;const Mt=E(st.fightName||qe.fightName||`Fight ${Ze+1}`),ut=hr(st,qe),be=$(Mt,String(ut||"")),we={},Be=Array.isArray(st.players)?st.players:[],Pe=Be.flatMap($e=>{const Je=$e==null?void 0:$e.combatReplayData;return Array.isArray(Je)?Je.map(Kt=>Number(Kt==null?void 0:Kt.start)):[Number(Je==null?void 0:Je.start)]}).filter($e=>Number.isFinite($e)&&$e>=0);Be.forEach($e=>{if($e!=null&&$e.notInSquad)return;const Je=String(($e==null?void 0:$e.account)||($e==null?void 0:$e.name)||"Unknown"),Kt=String(($e==null?void 0:$e.character_name)||($e==null?void 0:$e.display_name)||($e==null?void 0:$e.name)||""),En=String(($e==null?void 0:$e.profession)||"Unknown"),vn=`${Je}|${En}`,en=zt($e,st),Jt=Number(en.peak||0),an=Se($e),W=Number(ye(an,1)||0),ue=Number(ye(an,5)||0),Oe=Number(ye(an,30)||0),Ke=Math.max(0,Math.ceil(Number((st==null?void 0:st.durationMS)||0)/5e3)),De=Math.max(0,Math.ceil(an.length/5)),oe=Math.max(Ke,De),Le=Ue(an,5),je=Array.from({length:oe},(Fe,ot)=>Number(Le[ot]||0)),at=new Map,Rt=Fe=>{if(!Fe||typeof Fe!="object"||Fe.indirectDamage)return;const ot=Number(Fe.totalDamage||0);if(!Number.isFinite(ot)||ot<=0)return;const pt=Number(Fe.connectedHits||Fe.hits||0),Nt=rt(Fe.id,st),un=Nt.name,bn=at.get(un)||{skillName:un,damage:0,hits:0,icon:Nt.icon};bn.damage+=ot,bn.hits+=Number.isFinite(pt)?pt:0,!bn.icon&&Nt.icon&&(bn.icon=Nt.icon),at.set(un,bn)},It=new Map;Array.isArray($e==null?void 0:$e.targetDamageDist)&&$e.targetDamageDist.forEach(Fe=>{Array.isArray(Fe)&&Fe.forEach(ot=>{Array.isArray(ot)&&ot.forEach(pt=>{const Nt=Number(pt==null?void 0:pt.id),un=Number((pt==null?void 0:pt.totalDamage)||0);if(Number.isFinite(Nt)){const bn=It.get(Nt)||{damage:0,hits:0};bn.damage+=Number.isFinite(un)?un:0,bn.hits+=Number((pt==null?void 0:pt.connectedHits)||(pt==null?void 0:pt.hits)||0),It.set(Nt,bn)}Rt(pt)})})}),!(st!=null&&st.detailedWvW)&&Array.isArray($e==null?void 0:$e.totalDamageDist)&&$e.totalDamageDist.forEach(Fe=>{Array.isArray(Fe)&&Fe.forEach(ot=>{const pt=Number(ot==null?void 0:ot.id);if(!Number.isFinite(pt)){Rt(ot);return}const Nt=It.get(pt);if(!Nt){Rt(ot);return}const un=Number((ot==null?void 0:ot.totalDamage)||0),bn=Number((ot==null?void 0:ot.connectedHits)||(ot==null?void 0:ot.hits)||0),_n=un-Number(Nt.damage||0),Tr=bn-Number(Nt.hits||0);_n<=0&&Tr<=0||Rt({...ot,totalDamage:Math.max(0,_n),connectedHits:Math.max(0,Tr),hits:Math.max(0,Tr)})})});const Et=(()=>{const Fe=$e==null?void 0:$e.combatReplayData;return Array.isArray(Fe)?Fe.filter(ot=>ot&&typeof ot=="object"):Fe&&typeof Fe=="object"?[Fe]:[]})(),Bt=Et.map(Fe=>Number(Fe==null?void 0:Fe.start)).filter(Fe=>Number.isFinite(Fe)&&Fe>=0),Ht=Et.flatMap(Fe=>yt(Fe==null?void 0:Fe.down).map(([ot])=>Number(ot||0))),St=Et.flatMap(Fe=>yt(Fe==null?void 0:Fe.dead).map(([ot])=>Number(ot||0)));we[vn]={hit:Jt,burst1s:W,burst5s:ue,burst30s:Oe,skillName:en.skillName,buckets5s:je,downIndices5s:Ut(Ht,Bt,Pe,oe,Number((st==null?void 0:st.durationMS)||0)),deathIndices5s:Ut(St,Bt,Pe,oe,Number((st==null?void 0:st.durationMS)||0)),skillRows:Array.from(at.values()).sort((Fe,ot)=>ot.damage-Fe.damage).slice(0,50)};const Tt=ie.get(vn)||{key:vn,account:Je,displayName:Je,characterName:Kt,profession:En,professionList:[En],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Tt.logs+=1,Tt.professionList.includes(En)||Tt.professionList.push(En),!Tt.characterName&&Kt&&(Tt.characterName=Kt),Jt>Tt.peakHit&&(Tt.peakHit=Jt,Tt.peakFightLabel=be,Tt.peakSkillName=en.skillName),W>Tt.peak1s&&(Tt.peak1s=W),ue>Tt.peak5s&&(Tt.peak5s=ue),Oe>Tt.peak30s&&(Tt.peak30s=Oe),ie.set(vn,Tt)});const it=Object.values(we).reduce(($e,Je)=>Math.max($e,Number((Je==null?void 0:Je.hit)||0)),0),fe=Object.values(we).reduce(($e,Je)=>Math.max($e,Number((Je==null?void 0:Je.burst1s)||0)),0),Ve=Object.values(we).reduce(($e,Je)=>Math.max($e,Number((Je==null?void 0:Je.burst5s)||0)),0),et=Object.values(we).reduce(($e,Je)=>Math.max($e,Number((Je==null?void 0:Je.burst30s)||0)),0);pe.push({id:qe.filePath||qe.id||`fight-${Ze+1}`,shortLabel:`F${Ze+1}`,fullLabel:be,timestamp:Di(st,qe),values:we,maxHit:it,max1s:fe,max5s:Ve,max30s:et})});const pn=Array.from(ie.values()).sort((qe,Ze)=>Ze.peakHit!==qe.peakHit?Ze.peakHit-qe.peakHit:qe.displayName.localeCompare(Ze.displayName));return{fights:pe,players:pn}})(),kt=(()=>{const E=be=>String(be||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),I=be=>E(be).toLowerCase().split(/[^a-z0-9]+/i).map(we=>we.trim()).filter(Boolean).map(we=>we.length>3&&we.endsWith("s")?we.slice(0,-1):we),$=(be,we)=>{const Be=E(be),Pe=E(we);if(!Pe)return Be;if(!Be)return Pe;const it=I(Be),fe=I(Pe),Ve=new Set(it),et=new Set(fe),$e=fe.length>0&&fe.every(Kt=>Ve.has(Kt)),Je=it.length>0&&it.every(Kt=>et.has(Kt));return $e||Je?Be:`${Be} - ${Pe}`},pe=[],ie=new Map,Se=(be,we)=>{const Be=Number(be);if(!Number.isFinite(Be))return{name:String(be||"Unknown Skill"),icon:void 0};const Pe=(we==null?void 0:we.skillMap)||{},it=(we==null?void 0:we.buffMap)||{},fe=(Pe==null?void 0:Pe[`s${Be}`])||(Pe==null?void 0:Pe[`${Be}`]);if(fe!=null&&fe.name)return{name:String(fe.name),icon:fe==null?void 0:fe.icon};const Ve=(it==null?void 0:it[`b${Be}`])||(it==null?void 0:it[`${Be}`]);return Ve!=null&&Ve.name?{name:String(Ve.name),icon:Ve==null?void 0:Ve.icon}:{name:`Skill ${Be}`,icon:void 0}},ye=(be,we)=>{let Be=0,Pe="";const it=fe=>{if(!fe||typeof fe!="object"||fe.indirectDamage)return;const Ve=[Number(fe.max),Number(fe.maxDamage),Number(fe.maxHit)].filter($e=>Number.isFinite($e)),et=Ve.length>0?Math.max(...Ve):0;et>Be&&(Be=et,Pe=Se(fe.id,we).name)};return Array.isArray(be==null?void 0:be.totalDamageDist)&&be.totalDamageDist.forEach(fe=>{Array.isArray(fe)&&fe.forEach(Ve=>it(Ve))}),Array.isArray(be==null?void 0:be.targetDamageDist)&&be.targetDamageDist.forEach(fe=>{Array.isArray(fe)&&fe.forEach(Ve=>{Array.isArray(Ve)&&Ve.forEach(et=>it(et))})}),{peak:Be,skillName:Pe||"Unknown Skill"}},Ue=be=>{if(!Array.isArray(be)||be.length===0)return[];const we=[];for(let Be=0;Be<be.length;Be+=1){const Pe=Number(be[Be]||0),it=Be>0?Number(be[Be-1]||0):0;we.push(Math.max(0,Pe-it))}return we},rt=be=>{if(!Array.isArray(be)||be.length===0)return[];const we=be.reduce((Pe,it)=>Math.max(Pe,Array.isArray(it)?it.length:0),0);if(we<=0)return[];const Be=new Array(we).fill(0);return be.forEach(Pe=>{if(Array.isArray(Pe))for(let it=0;it<we;it+=1)Be[it]+=Number(Pe[it]||0)}),Be},yt=be=>{if(!Array.isArray(be)||be.length===0)return[];const we=be[0];if(typeof we=="number")return be.map(Be=>Number(Be||0));if(Array.isArray(we)&&we.length>0){if(typeof we[0]=="number")return we.map(Be=>Number(Be||0));if(Array.isArray(we[0])){const Be=we.map(Pe=>Array.isArray(Pe)?Pe.map(it=>Number(it||0)):null).filter(Pe=>Array.isArray(Pe)&&Pe.length>0);if(Be.length>0)return rt(Be)}}return[]},qt=be=>{const we=yt(be==null?void 0:be.powerDamage1S),Be=yt(be==null?void 0:be.damage1S),Pe=we.length>0?we:Be;return Ue(Pe)},Ut=(be,we)=>{const Be=be==null?void 0:be.targetPowerDamage1S;if(!Array.isArray(Be)||!Array.isArray(Be[we]))return[];const Pe=Be[we];if(!Array.isArray(Pe)||Pe.length===0)return[];if(typeof Pe[0]=="number")return Pe.map(it=>Number(it||0));if(Array.isArray(Pe[0])&&!Array.isArray(Pe[0][0]))return Pe[0].map(it=>Number(it||0));if(Array.isArray(Pe[0])&&Array.isArray(Pe[0][0])){const fe=Pe[0].map(Ve=>Array.isArray(Ve)?Ve.map(et=>Number(et||0)):null).filter(Ve=>Array.isArray(Ve)&&Ve.length>0);return rt(fe)}return[]},pn=(be,we)=>{if(!Array.isArray(be)||be.length===0||we<=0)return 0;let Be=0,Pe=0;for(let it=0;it<be.length;it+=1)Be+=Number(be[it]||0),it>=we&&(Be-=Number(be[it-we]||0)),it>=we-1&&Be>Pe&&(Pe=Be);return Math.max(0,Pe)},qe=(be,we)=>{if(!Array.isArray(be)||be.length===0||we<=0)return[];const Be=[];for(let Pe=0;Pe<be.length;Pe+=we){const it=Math.min(Pe+we,be.length),fe=be.slice(Pe,it).reduce((Ve,et)=>Ve+Number(et||0),0);Be.push(fe)}return Be},Ze=be=>Array.isArray(be)?be.map(we=>Array.isArray(we)?[Number(we[0]),Number(we[1])]:we&&typeof we=="object"?[Number(we.time),Number(we.value)]:null).filter(we=>!!we&&Number.isFinite(we[0])&&we[0]>=0):[],st=(be,we,Be,Pe,it)=>{if(!be.length||Pe<=0)return[];const fe=Math.max(Pe*5e3,it||0),Ve=Jt=>Jt.reduce((an,W)=>W>=0&&W<=fe+2e3?an+1:an,0),et=be.map(Jt=>Number(Jt||0)).filter(Jt=>Number.isFinite(Jt)&&Jt>=0);if(!et.length)return[];const $e=[et],Je=et.reduce((Jt,an)=>Math.max(Jt,an),0),Kt=et.reduce((Jt,an)=>Math.min(Jt,an),Number.POSITIVE_INFINITY);Je>fe*20&&$e.push(et.map(Jt=>Jt/1e3)),Je<=fe*2&&Kt>=0&&Je>0&&Je<Math.max(120,Pe*5+10)&&$e.push(et.map(Jt=>Jt*1e3));let En=et,vn=0,en=-1;return $e.forEach(Jt=>{const an=Jt.reduce((ue,Oe)=>Math.min(ue,Oe),Number.POSITIVE_INFINITY),W=new Set([0,...we,...Be]);if(Number.isFinite(an)&&fe>0&&an>fe){const ue=Math.floor(an/fe)*fe;W.add(ue),W.add(Math.max(0,ue-fe))}W.forEach(ue=>{const Oe=Jt.map(De=>De-ue),Ke=Ve(Oe);Ke>en&&(en=Ke,vn=ue,En=Jt)})}),En.map(Jt=>Jt-vn).filter(Jt=>Number.isFinite(Jt)&&Jt>=0)},Mt=(be,we,Be,Pe,it)=>{const fe=st(be,we,Be,Pe,it);return Array.from(new Set(fe.map(Ve=>Math.floor(Ve/5e3)).filter(Ve=>Number.isFinite(Ve)&&Ve>=0&&Ve<Pe)))};a.map(be=>({log:be,ts:Di(be==null?void 0:be.details,be)})).sort((be,we)=>be.ts-we.ts).forEach(({log:be},we)=>{const Be=be==null?void 0:be.details;if(!Be)return;const Pe=E(Be.fightName||be.fightName||`Fight ${we+1}`),it=hr(Be,be),fe=$(Pe,String(it||"")),Ve={},$e=(Array.isArray(Be.players)?Be.players:[]).filter(oe=>!(oe!=null&&oe.notInSquad)),Je=$e.flatMap(oe=>{const Le=oe==null?void 0:oe.combatReplayData;return Array.isArray(Le)?Le.map(je=>Number(je==null?void 0:je.start)):[Number(Le==null?void 0:Le.start)]}).filter(oe=>Number.isFinite(oe)&&oe>=0),Kt=$e.flatMap(oe=>{const Le=oe==null?void 0:oe.combatReplayData;return(Array.isArray(Le)?Le:Le?[Le]:[]).flatMap(at=>Ze(at==null?void 0:at.down).map(([Rt])=>Number(Rt||0)))}),En=$e.flatMap(oe=>{const Le=oe==null?void 0:oe.combatReplayData;return(Array.isArray(Le)?Le:Le?[Le]:[]).flatMap(at=>Ze(at==null?void 0:at.dead).map(([Rt])=>Number(Rt||0)))}),vn=new Map,en=new Map,Jt=new Map;(Array.isArray(Be.targets)?Be.targets:[]).forEach((oe,Le)=>{if(!oe||oe.isFake||!oe.enemyPlayer)return;const je=te((oe==null?void 0:oe.profession)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.id))||"Unknown";Jt.set(je,(Jt.get(je)||0)+1);const at=en.get(je)||new Map;Array.isArray(oe==null?void 0:oe.totalDamageDist)&&oe.totalDamageDist.forEach(Ht=>{Array.isArray(Ht)&&Ht.forEach(St=>{if(!St||typeof St!="object"||St.indirectDamage)return;const Tt=Number(St.totalDamage||0);if(!Number.isFinite(Tt)||Tt<=0)return;const Fe=Number(St.connectedHits||St.hits||0),ot=Se(St.id,Be),pt=ot.name,Nt=at.get(pt)||{skillName:pt,damage:0,hits:0,icon:ot.icon};Nt.damage+=Tt,Nt.hits+=Number.isFinite(Fe)?Fe:0,!Nt.icon&&ot.icon&&(Nt.icon=ot.icon),at.set(pt,Nt)})}),en.set(je,at);const Rt=rt($e.map(Ht=>Ut(Ht,Le))),It=Rt.length>0?Ue(Rt):qt(oe),ht=ye(oe,Be);let Et=vn.get(je);Et||(Et={perSecond:[],hit:0,skillName:""},vn.set(je,Et)),It.length>Et.perSecond.length&&(Et.perSecond.length=It.length);for(let Ht=0;Ht<It.length;Ht+=1)Et.perSecond[Ht]=Number(Et.perSecond[Ht]||0)+Number(It[Ht]||0);const Bt=Number(ht.peak||0);Bt>Et.hit&&(Et.hit=Bt,Et.skillName=ht.skillName||"Unknown Skill")});const W=Array.from(vn.values()).some(oe=>Array.isArray(oe.perSecond)&&oe.perSecond.some(Le=>Number(Le||0)>0));if(vn.size===0||!W){const oe=rt($e.map(je=>{const at=yt(je==null?void 0:je.powerDamageTaken1S);return Ue(at)})),Le=Array.from(Jt.values()).reduce((je,at)=>je+Number(at||0),0);oe.length>0&&Le>0&&Jt.forEach((je,at)=>{const Rt=Number(je||0)/Le,It=oe.map(Et=>Number(Et||0)*Rt),ht=vn.get(at);vn.set(at,{perSecond:It,hit:Number((ht==null?void 0:ht.hit)||0),skillName:String((ht==null?void 0:ht.skillName)||"")})})}vn.forEach((oe,Le)=>{var ot;const je=Le,at=Number(oe.hit||0),Rt=Number(pn(oe.perSecond,1)||0),It=Number(pn(oe.perSecond,5)||0),ht=Number(pn(oe.perSecond,30)||0),Et=Math.max(0,Math.ceil(Number((Be==null?void 0:Be.durationMS)||0)/5e3)),Bt=Math.max(0,Math.ceil(oe.perSecond.length/5)),Ht=Math.max(Et,Bt),St=qe(oe.perSecond,5),Tt=Array.from({length:Ht},(pt,Nt)=>Number(St[Nt]||0));Ve[je]={hit:at,burst1s:Rt,burst5s:It,burst30s:ht,skillName:oe.skillName||"Unknown Skill",buckets5s:Tt,downIndices5s:Mt(Kt,[],Je,Ht,Number((Be==null?void 0:Be.durationMS)||0)),deathIndices5s:Mt(En,[],Je,Ht,Number((Be==null?void 0:Be.durationMS)||0)),skillRows:Array.from(((ot=en.get(Le))==null?void 0:ot.values())||[]).sort((pt,Nt)=>Nt.damage-pt.damage).slice(0,50)};const Fe=ie.get(je)||{key:je,account:Le,displayName:Le,characterName:"",profession:Le,professionList:[Le],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Fe.logs+=1,at>Fe.peakHit&&(Fe.peakHit=at,Fe.peakFightLabel=fe,Fe.peakSkillName=oe.skillName||"Unknown Skill"),Rt>Fe.peak1s&&(Fe.peak1s=Rt),It>Fe.peak5s&&(Fe.peak5s=It),ht>Fe.peak30s&&(Fe.peak30s=ht),ie.set(je,Fe)});const ue=Object.values(Ve).reduce((oe,Le)=>Math.max(oe,Number((Le==null?void 0:Le.hit)||0)),0),Oe=Object.values(Ve).reduce((oe,Le)=>Math.max(oe,Number((Le==null?void 0:Le.burst1s)||0)),0),Ke=Object.values(Ve).reduce((oe,Le)=>Math.max(oe,Number((Le==null?void 0:Le.burst5s)||0)),0),De=Object.values(Ve).reduce((oe,Le)=>Math.max(oe,Number((Le==null?void 0:Le.burst30s)||0)),0);pe.push({id:be.filePath||be.id||`fight-${we+1}`,shortLabel:`F${we+1}`,fullLabel:fe,timestamp:Di(Be,be),values:Ve,maxHit:ue,max1s:Oe,max5s:Ke,max30s:De})});const ut=Array.from(ie.values()).sort((be,we)=>we.peakHit!==be.peakHit?we.peakHit-be.peakHit:be.displayName.localeCompare(we.displayName));return{fights:pe,players:ut}})(),ct=Array.from(G.entries()).map(([E,I])=>{const $=X.get(E)||{},pe=Array.from(I.values()).map(ie=>{var pn,qe;const Se=Array.from(ie.professions||[]).filter(Ze=>Ze&&Ze!=="Unknown");let ye=ie.profession||"Unknown";if(Se.length>0){ye=Se[0];let Ze=((pn=ie.professionTimeMs)==null?void 0:pn[ye])||0;Se.forEach(st=>{var ut;const Mt=((ut=ie.professionTimeMs)==null?void 0:ut[st])||0;Mt>Ze&&(Ze=Mt,ye=st)})}const Ue=ie.durationMs||0,rt=ie.totalMs/1e3,yt=Ue>0?ie.totalMs/Ue:0,qt=((qe=_.get(ie.account))==null?void 0:qe.supportActiveMs)||Ue,Ut=qt>0?ie.uptimeMs/qt:0;return{account:ie.account,profession:ye,professionList:Se,total:rt,perSecond:yt,uptimePerSecond:Ut,duration:Ue/1e3}}).filter(ie=>ie.total>0||ie.perSecond>0);return{id:E,name:$.name||E,icon:$.icon,rows:pe}}).filter(E=>E.rows.length>0),An=Array.from(Z.values()).map(E=>{const I=Array.from(E.skills.values()).sort((pe,ie)=>ie.damage-pe.damage),$=I.reduce((pe,ie)=>(pe[ie.id]=ie,pe),{});return{key:E.key,account:E.account,displayName:E.displayName,profession:E.profession,professionList:E.professionList,totalFightMs:E.totalFightMs,skills:I,skillMap:$}}).sort((E,I)=>E.displayName.localeCompare(I.displayName));return{total:p,wins:g,losses:y,avgSquadSize:xe,avgEnemies:_e,squadKDR:Pt,enemyKDR:Yt,totalSquadKills:k,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:Xt,...Bs,outgoingConditionSummary:Object.values(J).sort((E,I)=>I.damage-E.damage),incomingConditionSummary:Object.values(se).sort((E,I)=>I.damage-E.damage),outgoingConditionPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.outgoingConditions})),incomingConditionPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.incomingConditions})),topSkills:Eo,topIncomingSkills:Ic,topSkillsByDamage:To,topSkillsByDownContribution:Sl,playerSkillBreakdowns:An,topSkillsMetric:m,mapData:_c,timelineData:Nl,boonTables:md,offensePlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,offenseTotals:E.offenseTotals,offenseRateWeights:E.offenseRateWeights,totalFightMs:E.totalFightMs})),defensePlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,defenseTotals:E.defenseTotals,activeMs:E.defenseActiveMs,minionDamageTakenByMinion:E.defenseMinionDamageTaken})),damageMitigationPlayers:Pr,damageMitigationMinions:Ka,supportPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,supportTotals:E.supportTotals,activeMs:E.supportActiveMs})),healingPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,healingTotals:E.healingTotals,activeMs:E.healingActiveMs})),mvp:ri,silver:bs,bronze:Gr,squadClassData:Lc,enemyClassData:Fc,fightBreakdown:ve,fightDiffMode:Ae,attendanceData:lt,squadCompByFight:Dt,spikeDamage:rn,incomingStrikeDamage:kt,specialTables:ct,topStatsPerSecond:In,topStatsLeaderboardsPerSecond:ni,avgMvpScore:Na}})(),d=(()=>{const f=new Map,h=new Map,m=[],p=new Map,g=new Map;a.forEach(x=>{const b=x.details;if(!b)return;const w=b.skillMap||{},k=b.fightName||"Log",C=Di(b,x)||Date.now(),N={id:x.filePath||x.id||k,label:k,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(M=>{if(M.notInSquad)return;const _=M.account||M.name||"Unknown",T=M.profession||"Unknown",D=`${_}|${T}`;let O=h.get(D);O||(O={key:D,account:_,displayName:_,profession:T,professionList:[T],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set(D,O)),O.logs++;const Z=(Array.isArray(M.activeTimes)?M.activeTimes[0]:0)/1e3;O.totalActiveSeconds=(O.totalActiveSeconds||0)+Z,N.playerActiveSeconds[D]=Z,(M.rotation||[]).forEach(J=>{var F,P,A;if(!(J!=null&&J.id))return;const se=((F=J.skills)==null?void 0:F.length)||0;if(se<=0)return;const de=`s${J.id}`,X=((P=w[de])==null?void 0:P.name)||`Skill ${J.id}`,G=(A=w[de])==null?void 0:A.icon;O.skillTotals[de]=(O.skillTotals[de]||0)+se,f.set(de,(f.get(de)||0)+se),p.set(de,X),G&&!g.has(de)&&g.set(de,G),N.skillEntries[de]||(N.skillEntries[de]={name:X,icon:G,players:{}}),!N.skillEntries[de].icon&&G&&(N.skillEntries[de].icon=G),N.skillEntries[de].players[D]=(N.skillEntries[de].players[D]||0)+se})}),m.push(N)});const y=Array.from(f.entries()).map(([x,b])=>({id:x,name:p.get(x)||x,total:b,icon:g.get(x)})).sort((x,b)=>b.total-x.total);return{logRecords:m,players:Array.from(h.values()),skillOptions:y,resUtilitySkills:[]}})();return{validLogs:a,stats:c,skillUsageData:d}},uU=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=v.useState({uploading:!1,message:null,url:null}),[c,d]=v.useState("idle"),f=()=>{const g=new Set;let y=null,x=null;e.forEach(T=>{const D=T.details;if(!D)return;const O=D.timeStartStd||D.timeStart||D.uploadTime||T.uploadTime,Z=D.timeEndStd||D.timeEnd||D.uploadTime||T.uploadTime,J=O?new Date(O):null,se=Z?new Date(Z):null;J&&!Number.isNaN(J.getTime())&&(!y||J<y)&&(y=J),se&&!Number.isNaN(se.getTime())&&(!x||se>x)&&(x=se),(D.players||[]).forEach(X=>{if(!(X!=null&&X.notInSquad)&&X!=null&&X.hasCommanderTag){const G=(X==null?void 0:X.name)||(X==null?void 0:X.account)||"Unknown";g.add(G)}})});const b=Array.from(g).sort((T,D)=>T.localeCompare(D)),w=y||new Date,k=x||w,C=w.toISOString(),N=k.toISOString(),j=`${w.toLocaleString()} - ${k.toLocaleString()}`,M=T=>String(T).padStart(2,"0");return{id:`${w.getFullYear()}${M(w.getMonth()+1)}${M(w.getDate())}-${M(w.getHours())}${M(w.getMinutes())}${M(w.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:b.length?b.join(", "):"Unknown Commander",commanders:b,dateStart:C,dateEnd:N,dateLabel:j,generatedAt:new Date().toISOString()}},h=()=>{var y;const g={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(g.fightDiffMode)&&g.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return g;try{const x=Ud({logs:e,statsViewSettings:r}),b=(y=x==null?void 0:x.stats)==null?void 0:y.fightDiffMode;if(Array.isArray(b)&&b.length>0)return{...g,fightDiffMode:b}}catch{}return g};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const g=f(),y=h();await s({meta:g,stats:y})}catch(g){console.error("[StatsView] Web upload failed:",g)}},handleDevMockUpload:async()=>{var g;if(!(a||!((g=window.electronAPI)!=null&&g.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const y=f(),x=h(),b=await window.electronAPI.mockWebReport({meta:y,stats:x});b!=null&&b.success?l({uploading:!1,message:"Local report ready.",url:b.url||null}):l({uploading:!1,message:(b==null?void 0:b.error)||"Local report failed.",url:null})}catch(y){l({uploading:!1,message:(y==null?void 0:y.message)||"Local report failed.",url:null})}}}}};function dU(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const fU=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function al(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Gc=null;function $O(e={}){return Gc||(e.includeStyleProperties?(Gc=e.includeStyleProperties,Gc):(Gc=al(window.getComputedStyle(document.documentElement)),Gc))}function zp(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function mU(e){const t=zp(e,"border-left-width"),n=zp(e,"border-right-width");return e.clientWidth+t+n}function hU(e){const t=zp(e,"border-top-width"),n=zp(e,"border-bottom-width");return e.clientHeight+t+n}function FO(e,t={}){const n=t.width||mU(e),r=t.height||hU(e);return{width:n,height:r}}function pU(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const oa=16384;function gU(e){(e.width>oa||e.height>oa)&&(e.width>oa&&e.height>oa?e.width>e.height?(e.height*=oa/e.width,e.width=oa):(e.width*=oa/e.height,e.height=oa):e.width>oa?(e.height*=oa/e.width,e.width=oa):(e.width*=oa/e.height,e.height=oa))}function Up(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function xU(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function vU(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),xU(i)}const Zi=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Zi(n,t)};function yU(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function bU(e,t){return $O(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function wU(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?yU(n):bU(n,r);return document.createTextNode(`${i}{${a}}`)}function hC(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=fU();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(wU(s,n,i,r)),t.appendChild(o)}function kU(e,t,n){hC(e,t,":before",n),hC(e,t,":after",n)}const pC="application/font-woff",gC="image/jpeg",SU={woff:pC,woff2:pC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:gC,jpeg:gC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function NU(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function I1(e){const t=NU(e).toLowerCase();return SU[t]||""}function CU(e){return e.split(/,/)[1]}function nb(e){return e.search(/^(data:)/)!==-1}function jU(e,t){return`data:${t};base64,${e}`}async function RO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const av={};function AU(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function _1(e,t,n){const r=AU(e,t,n.includeQueryParams);if(av[r]!=null)return av[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await RO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),CU(o)));i=jU(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return av[r]=i,i}async function PU(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Up(t)}async function TU(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Up(o)}const n=e.poster,r=I1(n),i=await _1(n,r,t);return Up(i)}async function EU(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await x0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function DU(e,t){return Zi(e,HTMLCanvasElement)?PU(e):Zi(e,HTMLVideoElement)?TU(e,t):Zi(e,HTMLIFrameElement)?EU(e,t):e.cloneNode(BO(e))}const MU=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",BO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function OU(e,t,n){var r,i;if(BO(t))return t;let a=[];return MU(e)&&e.assignedNodes?a=al(e.assignedNodes()):Zi(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=al(e.contentDocument.body.childNodes):a=al(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||Zi(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>x0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function IU(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):$O(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),Zi(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function _U(e,t){Zi(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Zi(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function LU(e,t){if(Zi(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function $U(e,t,n){return Zi(t,Element)&&(IU(e,t,n),kU(e,t,n),_U(e,t),LU(e,t)),t}async function FU(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await x0(c,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function x0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>DU(r,t)).then(r=>OU(e,r,t)).then(r=>$U(e,r,t)).then(r=>FU(r,t))}const zO=/url\((['"]?)([^'"]+?)\1\)/g,RU=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,BU=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function zU(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function UU(e){const t=[];return e.replace(zO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!nb(n))}async function VU(e,t,n,r,i){try{const a=n?dU(t,n):t,s=I1(t);let o;return i||(o=await _1(a,s,r)),e.replace(zU(t),`$1${o}$3`)}catch{}return e}function WU(e,{preferredFontFormat:t}){return t?e.replace(BU,n=>{for(;;){const[r,,i]=RU.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function UO(e){return e.search(zO)!==-1}async function VO(e,t,n){if(!UO(e))return e;const r=WU(e,n);return UU(r).reduce((a,s)=>a.then(o=>VU(o,s,t,n)),Promise.resolve(r))}async function Yc(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await VO(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function HU(e,t){await Yc("background",e,t)||await Yc("background-image",e,t),await Yc("mask",e,t)||await Yc("-webkit-mask",e,t)||await Yc("mask-image",e,t)||await Yc("-webkit-mask-image",e,t)}async function qU(e,t){const n=Zi(e,HTMLImageElement);if(!(n&&!nb(e.src))&&!(Zi(e,SVGImageElement)&&!nb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await _1(r,I1(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function KU(e,t){const r=al(e.childNodes).map(i=>WO(i,t));await Promise.all(r).then(()=>e)}async function WO(e,t){Zi(e,Element)&&(await HU(e,t),await qU(e,t),await KU(e,t))}function GU(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const xC={};async function vC(e){let t=xC[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},xC[e]=t,t}async function yC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),RO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function bC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function YU(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,c=vC(l).then(d=>yC(d,t)).then(d=>bC(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(vC(i.href).then(o=>yC(o,t)).then(o=>bC(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function XU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>UO(t.style.getPropertyValue("src")))}async function QU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=al(e.ownerDocument.styleSheets),r=await YU(n,t);return XU(r)}function HO(e){return e.trim().replace(/["']/g,"")}function ZU(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(HO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function JU(e,t){const n=await QU(e,t),r=ZU(e);return(await Promise.all(n.filter(a=>r.has(HO(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return VO(a.cssText,s,t)}))).join(`
`)}async function e8(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await JU(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function t8(e,t={}){const{width:n,height:r}=FO(e,t),i=await x0(e,t,!0);return await e8(i,t),await WO(i,t),GU(i,t),await vU(i,n,r)}async function n8(e,t={}){const{width:n,height:r}=FO(e,t),i=await t8(e,t),a=await Up(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||pU(),c=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=c*l,s.height=d*l,t.skipAutoScale||gU(s),s.style.width=`${c}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function r8(e,t={}){return(await n8(e,t)).toDataURL()}const i8=e=>{const[t,n]=v.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=c,globalThis.fetch=c;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],c=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var b;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const g=await c(p);if(!g)return;const y=m.src,x=m.srcset;m.src=g,m.srcset="",l.push(()=>{m.src=y,m.srcset=x});try{await((b=m.decode)==null?void 0:b.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const g=window.getComputedStyle(m).backgroundImage;if(!g||g==="none"||!g.includes("url("))return;const y=Array.from(g.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!y.length)return;let x=g,b=!1;for(const k of y){const C=k[1];if(!C)continue;const N=await c(C);N&&(x=x.replace(k[0],`url("${N}")`),b=!0)}if(!b)return;const w=m.style.backgroundImage;m.style.backgroundImage=x,l.push(()=>{m.style.backgroundImage=w})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(g=>setTimeout(g,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(g=>{g.dataset.prevDisplay=g.style.display,g.style.display="none"});let c;const d=await i(s);try{const g=s.scrollWidth,y=s.scrollHeight;c=await r(()=>r8(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:g,height:y,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(g=>{g.style.display=g.dataset.prevDisplay||"",delete g.dataset.prevDisplay})}const m=await(await(await fetch(c)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},a8=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=v.useState(()=>Ud(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[c,d]=v.useState(0),[f,h]=v.useState(0),[m,p]=v.useState(0),[g,y]=v.useState(0),[x,b]=v.useState(null),w=v.useRef(0),[k,C]=v.useState(0),N=v.useRef(null),j=v.useRef(null),[M,_]=v.useState(!1),T=v.useRef(null),D=v.useRef(""),O=v.useRef(void 0),Z=v.useRef(""),J=v.useMemo(()=>{if(!r){D.current="",O.current=void 0;return}const F={...r};delete F.topSkillsMetric;const P=JSON.stringify(F);return D.current!==P&&(D.current=P,O.current=F),O.current},[r]),se=v.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:J,disruptionMethod:i}),[e,t,n,J,i]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!M&&s)return j.current||(j.current=new Worker(new URL(""+new URL("statsWorker-DQyIirLr.js",import.meta.url).href,import.meta.url),{type:"module"}),j.current.onmessage=F=>{var P;((P=F.data)==null?void 0:P.type)==="result"&&(l(F.data.result),typeof F.data.computeId=="number"?d(F.data.computeId):d(A=>A+1),typeof F.data.logCount=="number"&&h(F.data.logCount),typeof F.data.token=="number"&&p(F.data.token),typeof F.data.completedAt=="number"&&y(F.data.completedAt),typeof F.data.flushId=="number"&&b(F.data.flushId))},j.current.onerror=F=>{var P;console.warn("[StatsWorker] Worker error. Falling back to main thread.",F),(P=j.current)==null||P.terminate(),j.current=null,_(!0)},j.current.onmessageerror=F=>{var P;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",F),(P=j.current)==null||P.terminate(),j.current=null,_(!0)},N.current!==null&&j.current.postMessage({type:"flush",flushId:N.current})),()=>{var F;(F=j.current)==null||F.terminate(),j.current=null}},[M,s]),v.useEffect(()=>{var F;if(!(!j.current||M||!s))try{w.current+=1,C(w.current),j.current.postMessage({type:"reset",token:w.current}),j.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:J,disruptionMethod:i}}),T.current&&(window.clearTimeout(T.current),T.current=null);let P=0;const A=()=>{if(!j.current)return;const te=5;for(let S=0;S<te&&P<e.length;S+=1,P+=1)j.current.postMessage({type:"log",payload:e[P]});P<e.length?T.current=window.setTimeout(A,0):(T.current=null,j.current.postMessage({type:"flush"}))};A()}catch(P){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",P),(F=j.current)==null||F.terminate(),j.current=null,_(!0)}},[se,e,t,n,J,i,s]);const de=v.useMemo(()=>!M&&typeof Worker<"u"&&s?null:Ud({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:J,disruptionMethod:i}),[M,e,t,n,J,i,s]),X=v.useMemo(()=>{if(!M&&typeof Worker<"u"&&s)return"worker";const F=e[0],P=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(F==null?void 0:F.filePath)||(F==null?void 0:F.name)||"",lastLogPath:(P==null?void 0:P.filePath)||(P==null?void 0:P.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:D.current})},[M,s,e,t,i]);return v.useEffect(()=>{!M&&typeof Worker<"u"&&s||Z.current!==X&&(Z.current=X,d(F=>F+1),h(e.length),p(w.current),y(Date.now()))},[X,M,e.length,s]),{result:M||typeof Worker>"u"||!s?de??Ud({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:J,disruptionMethod:i}):o,computeTick:c,lastComputedLogCount:f,lastComputedToken:m,activeToken:k,lastComputedAt:g,lastComputedFlushId:x,requestFlush:()=>{const F=Date.now();return N.current=F,j.current&&!M&&j.current.postMessage({type:"flush",flushId:F}),F}}},s8=e=>({apmSpecBuckets:v.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let c=!1;return l&&typeof l.autoAttack=="boolean"?c=l.autoAttack:c=g6(s),i.set(o,c),c};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const c=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(c)&&c>0?c:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,N])=>{const j=Number(N);if(!Number.isFinite(j)||j<=0)return;const M=r.get(C),_=(M==null?void 0:M.name)||C,T=M==null?void 0:M.icon,D=a(_,C);f+=j,D&&(h+=j);let O=l.skillMap.get(C);O||(O={id:C,name:_,icon:T,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,O)),!O.icon&&T&&(O.icon=T),O.totalCasts+=j;const Z=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;O.playerCounts.set(Z,j)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,g=p>0?f/p:0,y=Math.max(0,f-h),x=p>0?y/p:0,b=d>0?f/d:0,w=d>0?y/d:0,k={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:g,apmNoAuto:x,aps:b,apsNoAuto:w};l.playerRows.push(k)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,c=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?c/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?c/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(g=>{var k;const y=Number(((k=d.playerCounts)==null?void 0:k.get(g.key))||0);if(!Number.isFinite(y)||y<=0)return null;const x=Number(g.totalActiveSeconds||0),b=x>0?y/(x/60):0,w=x>0?y/x:0;return{...g,count:y,apm:b,aps:w}}).filter(Boolean).sort((g,y)=>y.apm-g.apm||String(g.displayName||"").localeCompare(String(y.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),o8=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const g=h.totalActiveSeconds||1;p=g>0?m/g:0}d.set(h.key,p)}),d},[e.players,t,r]),s=v.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const g=m.skillEntries[t];if(!g)return null;const y={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let x=!1,b=!1;if(Object.entries(g.players).forEach(([w,k])=>{var N;if(n.size>0&&!n.has(w))return;let C=k;if(f){const j=((N=m.playerActiveSeconds)==null?void 0:N[w])||0;C=j>0?k/j:0}y[w]=C,C>d&&(d=C),x=!0,b=!0}),n.size>0){if(!b)return null}else if(!x)return null;return n.forEach(w=>{y[w]===void 0&&(y[w]=0)}),y}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),c=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function qO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=qO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Cn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=qO(e))&&(r&&(r+=" "),r+=t);return r}var l8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function L1(e){if(typeof e!="string")return!1;var t=l8;return t.includes(e)}var c8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],u8=new Set(c8);function KO(e){return typeof e!="string"?!1:u8.has(e)}function GO(e){return typeof e=="string"&&e.startsWith("data-")}function Va(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(KO(n)||GO(n))&&(t[n]=e[n]);return t}function Ru(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Va(t)}return typeof e=="object"&&!Array.isArray(e)?Va(e):null}function $i(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(KO(n)||GO(n)||L1(n))&&(t[n]=e[n]);return t}function d8(e){return e==null?null:v.isValidElement(e)?$i(e.props):typeof e=="object"&&!Array.isArray(e)?$i(e):null}var f8=["children","width","height","viewBox","className","style","title","desc"];function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(null,arguments)}function m8(e,t){if(e==null)return{};var n,r,i=h8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $1=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=m8(e,f8),f=a||{width:r,height:i,x:0,y:0},h=Cn("recharts-surface",s);return v.createElement("svg",rb({},$i(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),p8=["children","className"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(null,arguments)}function g8(e,t){if(e==null)return{};var n,r,i=x8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ji=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=g8(e,p8),a=Cn("recharts-layer",r);return v.createElement("g",ib({className:a},$i(i),{ref:t}),n)}),YO=v.createContext(null),v8=()=>v.useContext(YO);function Vn(e){return function(){return e}}const XO=Math.cos,Vp=Math.sin,xs=Math.sqrt,Wp=Math.PI,v0=2*Wp,ab=Math.PI,sb=2*ab,zl=1e-6,y8=sb-zl;function QO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function b8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class w8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?QO:b8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>zl)if(!(Math.abs(f*l-c*d)>zl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,g=l*l+c*c,y=m*m+p*p,x=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((ab-Math.acos((g+h-y)/(2*x*b)))/2),k=w/b,C=w/x;Math.abs(k-1)>zl&&this._append`L${t+k*d},${n+k*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>zl||Math.abs(this._y1-d)>zl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%sb+sb),h>y8?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>zl&&this._append`A${r},${r},0,${+(h>=ab)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function F1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new w8(t)}function R1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function y0(e){return new ZO(e)}function JO(e){return e[0]}function e5(e){return e[1]}function t5(e,t){var n=Vn(!0),r=null,i=y0,a=null,s=F1(o);e=typeof e=="function"?e:e===void 0?JO:Vn(e),t=typeof t=="function"?t:t===void 0?e5:Vn(t);function o(l){var c,d=(l=R1(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Vn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Vn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Vn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function wh(e,t,n){var r=null,i=Vn(!0),a=null,s=y0,o=null,l=F1(c);e=typeof e=="function"?e:e===void 0?JO:Vn(+e),t=typeof t=="function"?t:Vn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?e5:Vn(+n);function c(f){var h,m,p,g=(f=R1(f)).length,y,x=!1,b,w=new Array(g),k=new Array(g);for(a==null&&(o=s(b=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===x)if(x=!x)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],k[p]);o.lineEnd(),o.areaEnd()}x&&(w[h]=+e(y,h,f),k[h]=+t(y,h,f),o.point(r?+r(y,h,f):w[h],n?+n(y,h,f):k[h]))}if(b)return o=null,b+""||null}function d(){return t5().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Vn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Vn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Vn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Vn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Vn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class n5{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function k8(e){return new n5(e,!0)}function S8(e){return new n5(e,!1)}const B1={draw(e,t){const n=xs(t/Wp);e.moveTo(n,0),e.arc(0,0,n,0,v0)}},N8={draw(e,t){const n=xs(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},r5=xs(1/3),C8=r5*2,j8={draw(e,t){const n=xs(t/C8),r=n*r5;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},A8={draw(e,t){const n=xs(t),r=-n/2;e.rect(r,r,n,n)}},P8=.8908130915292852,i5=Vp(Wp/10)/Vp(7*Wp/10),T8=Vp(v0/10)*i5,E8=-XO(v0/10)*i5,D8={draw(e,t){const n=xs(t*P8),r=T8*n,i=E8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=v0*a/5,o=XO(s),l=Vp(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},sv=xs(3),M8={draw(e,t){const n=-xs(t/(sv*3));e.moveTo(0,n*2),e.lineTo(-sv*n,-n),e.lineTo(sv*n,-n),e.closePath()}},Ta=-.5,Ea=xs(3)/2,ob=1/xs(12),O8=(ob/2+1)*3,I8={draw(e,t){const n=xs(t/O8),r=n/2,i=n*ob,a=r,s=n*ob+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Ta*r-Ea*i,Ea*r+Ta*i),e.lineTo(Ta*a-Ea*s,Ea*a+Ta*s),e.lineTo(Ta*o-Ea*l,Ea*o+Ta*l),e.lineTo(Ta*r+Ea*i,Ta*i-Ea*r),e.lineTo(Ta*a+Ea*s,Ta*s-Ea*a),e.lineTo(Ta*o+Ea*l,Ta*l-Ea*o),e.closePath()}};function _8(e,t){let n=null,r=F1(i);e=typeof e=="function"?e:Vn(e||B1),t=typeof t=="function"?t:Vn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Vn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Vn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Hp(){}function qp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function a5(e){this._context=e}a5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L8(e){return new a5(e)}function s5(e){this._context=e}s5.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $8(e){return new s5(e)}function o5(e){this._context=e}o5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F8(e){return new o5(e)}function l5(e){this._context=e}l5.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function R8(e){return new l5(e)}function wC(e){return e<0?-1:1}function kC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(wC(a)+wC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function SC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ov(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Kp(e){this._context=e}Kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ov(this,this._t0,SC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ov(this,SC(this,n=kC(this,e,t)),n);break;default:ov(this,this._t0,n=kC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function c5(e){this._context=new u5(e)}(c5.prototype=Object.create(Kp.prototype)).point=function(e,t){Kp.prototype.point.call(this,t,e)};function u5(e){this._context=e}u5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function B8(e){return new Kp(e)}function z8(e){return new c5(e)}function d5(e){this._context=e}d5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=NC(e),i=NC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function NC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function U8(e){return new d5(e)}function b0(e,t){this._context=e,this._t=t}b0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function V8(e){return new b0(e,.5)}function W8(e){return new b0(e,0)}function H8(e){return new b0(e,1)}function pc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function q8(e,t){return e[t]}function K8(e){const t=[];return t.key=e,t}function G8(){var e=Vn([]),t=lb,n=pc,r=q8;function i(a){var s=Array.from(e.apply(this,arguments),K8),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=R1(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Vn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Vn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?lb:typeof a=="function"?a:Vn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??pc,i):n},i}function Y8(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}pc(e,t)}}function X8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}pc(e,t)}}function Q8(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],y=g[r][1]||0,x=g[r-1][1]||0;m+=y-x}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,pc(e,t)}}var w0={},f5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(f5);var z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(z1);var k0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(k0);var S0={},m5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(m5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m5,n=k0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(S0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f5,n=z1,r=k0,i=S0;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(w0);var Z8=w0.get;const gc=gs(Z8);var J8=4;function Xo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function yr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Xo(o)+a:i+a},"")}var wi=e=>e===0?0:e>0?1:-1,_s=e=>typeof e=="number"&&e!=+e,mo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,At=e=>(typeof e=="number"||e instanceof Number)&&!_s(e),Ls=e=>At(e)||typeof e=="string",eV=0,If=e=>{var t=++eV;return"".concat(e||"").concat(t)},ga=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!At(t)&&typeof t!="string")return r;var a;if(mo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return _s(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},h5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function bi(e,t,n){return At(e)&&At(t)?Xo(e+n*(t-e)):t}function p5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):gc(r,t))===n)}var Ur=e=>e===null||typeof e>"u",um=e=>Ur(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function tV(e){return e!=null}function dm(){}var nV=["type","size","sizeType"];function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cb.apply(null,arguments)}function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(r){rV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rV(e,t,n){return(t=iV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iV(e){var t=aV(e,"string");return typeof t=="symbol"?t:t+""}function aV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sV(e,t){if(e==null)return{};var n,r,i=oV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var g5={symbolCircle:B1,symbolCross:N8,symbolDiamond:j8,symbolSquare:A8,symbolStar:D8,symbolTriangle:M8,symbolWye:I8},lV=Math.PI/180,cV=e=>{var t="symbol".concat(um(e));return g5[t]||B1},uV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*lV;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},dV=(e,t)=>{g5["symbol".concat(um(e))]=t},U1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=sV(e,nV),a=jC(jC({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=cV(s),m=_8().type(h).size(uV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:c,cy:d}=a,f=$i(a);return At(c)&&At(d)&&At(n)?v.createElement("path",cb({},f,{className:Cn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};U1.registerSymbol=dV;var x5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,V1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{L1(i)&&(r[i]=a=>n[i](n,a))}),r},fV=(e,t,n)=>r=>(e(t,n,r),null),W1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];L1(i)&&typeof a=="function"&&(r||(r={}),r[i]=fV(a,t,n))}),r};function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(r){hV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hV(e,t,n){return(t=pV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pV(e){var t=gV(e,"string");return typeof t=="symbol"?t:t+""}function gV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vr(e,t){var n=mV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gp.apply(null,arguments)}function PC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(n),!0).forEach(function(r){vV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vV(e,t,n){return(t=yV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oa=32,wV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function kV(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Oa/2,a=Oa/6,s=Oa/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Oa,y2:i,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Oa,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Oa/8,"h").concat(Oa,"v").concat(Oa*3/4,"h").concat(-Oa,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=xV({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(U1,{fill:o,cx:i,cy:i,size:Oa,sizeType:"diameter",type:l})}function SV(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Oa,height:Oa},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=Cn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return v.createElement("li",Gp({className:m,style:l,key:"legend-item-".concat(f)},W1(e,d,f)),v.createElement($1,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},v.createElement(kV,{data:d,iconType:s,inactiveColor:a})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var NV=e=>{var t=Vr(e,wV),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},v.createElement(SV,Gp({},t,{payload:n})))},v5={},y5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(y5);var b5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(b5);var H1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(H1);var w5={},N0={},k5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(k5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k5;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(N0);var S5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(S5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N0,n=S5;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(w5);var N5={},C5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(C5);var j5={},q1={},A5={},K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(K1);var G1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(G1);var Y1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Y1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1,n=G1,r=Y1;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,g,y,x,b,w){const k=h(p,g,y,x,b,w);return k!==void 0?!!k:a(p,g,m,w)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const y=p[g];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const y=d.get(p);if(h(y,g,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const y=f[g];let x=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let k=!1;if(h(w,y,g,d,f,m)&&(k=!0),k){p.add(b),x=!0;break}}if(!x)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(A5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A5;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(q1);var P5={},X1={},T5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(T5);var C0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(C0);var Q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",k="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",j="[object Int32Array]",M="[object BigInt64Array]",_="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=_,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=j,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(Q1);var E5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(E5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T5,n=C0,r=Q1,i=G1,a=E5;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[x,b]of d)y.set(x,o(b,x,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const x of d)y.add(o(x,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),l(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),l(y,d,h,m,p),y}return d}function l(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const x=g[y],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=o(f[x],x,h,m,p))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(X1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(P5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1,n=P5;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(j5);var D5={},M5={},O5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X1,n=C0,r=Q1;function i(a,s){return t.cloneDeepWith(a,(o,l,c,d)=>{const f=s==null?void 0:s(o,l,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(O5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O5;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(M5);var I5={},Z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Z1);var _5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(_5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,n=Z1,r=_5,i=S0;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(I5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1,n=k0,r=M5,i=w0,a=I5;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(D5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=C5,r=j5,i=D5;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(N5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y5,n=b5,r=H1,i=w5,a=N5;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(v5);var CV=v5.uniqBy;const TC=gs(CV);function L5(e,t,n){return t===!0?TC(e,n):typeof t=="function"?TC(e,t):e}var $5={exports:{}},F5={},R5={exports:{}},B5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu=v;function jV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var AV=typeof Object.is=="function"?Object.is:jV,PV=Bu.useState,TV=Bu.useEffect,EV=Bu.useLayoutEffect,DV=Bu.useDebugValue;function MV(e,t){var n=t(),r=PV({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return EV(function(){i.value=n,i.getSnapshot=t,lv(i)&&a({inst:i})},[e,n,t]),TV(function(){return lv(i)&&a({inst:i}),e(function(){lv(i)&&a({inst:i})})},[e]),DV(n),n}function lv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!AV(e,n)}catch{return!0}}function OV(e,t){return t()}var IV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?OV:MV;B5.useSyncExternalStore=Bu.useSyncExternalStore!==void 0?Bu.useSyncExternalStore:IV;R5.exports=B5;var _V=R5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0=v,LV=_V;function $V(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FV=typeof Object.is=="function"?Object.is:$V,RV=LV.useSyncExternalStore,BV=j0.useRef,zV=j0.useEffect,UV=j0.useMemo,VV=j0.useDebugValue;F5.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=BV(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=UV(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,FV(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=RV(e,a[0],a[1]);return zV(function(){s.hasValue=!0,s.value=o},[o]),VV(o),o};$5.exports=F5;var WV=$5.exports,J1=v.createContext(null),HV=e=>e,Hn=()=>{var e=v.useContext(J1);return e?e.store.dispatch:HV},ap=()=>{},qV=()=>ap,KV=(e,t)=>e===t;function Ct(e){var t=v.useContext(J1);return WV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:qV,t?t.store.getState:ap,t?t.store.getState:ap,t?e:ap,KV)}function GV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function YV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function XV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var EC=e=>Array.isArray(e)?e:[e];function QV(e){const t=Array.isArray(e[0])?e[0]:e;return XV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function ZV(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var JV=class{constructor(e){this.value=e}deref(){return this.value}},e9=typeof WeakRef<"u"?WeakRef:JV,t9=0,DC=1;function kh(){return{s:t9,v:void 0,o:null,p:null}}function z5(e,t={}){let n=kh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(p);y===void 0?(o=kh(),g.set(p,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(p);y===void 0?(o=kh(),g.set(p,o)):o=y}}const c=o;let d;if(o.s===DC)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new e9(d):d}return c.s=DC,c.v=d,d}return s.clearCache=()=>{n=kh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function n9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),GV(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=z5,argsMemoizeOptions:p=[]}=d,g=EC(h),y=EC(p),x=QV(i),b=f(function(){return a++,c.apply(null,arguments)},...g),w=m(function(){s++;const C=ZV(x,arguments);return o=b.apply(null,C),o},...y);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var ge=n9(z5),r9=Object.assign((e,t=ge)=>{YV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>r9}),U5={},V5={},W5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(W5);var H5={},ek={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(ek);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ek,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(H5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W5,n=H5,r=S0;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let g=m;for(let y=0;y<p.length&&g!=null;++y)g=g[p[y]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(V5);var q5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(q5);var tk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z1,n=N0,r=K1,i=Y1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(tk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V5,n=q5,r=tk;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(U5);var i9=U5.sortBy;const A0=gs(i9);var K5=e=>e.legend.settings,a9=e=>e.legend.size,s9=e=>e.legend.payload,o9=ge([s9,K5],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?A0(r,n):r});function l9(){return Ct(o9)}var Sh=1;function G5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Sh||Math.abs(s.left-t.left)>Sh||Math.abs(s.top-t.top)>Sh||Math.abs(s.width-t.width)>Sh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function si(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var c9=typeof Symbol=="function"&&Symbol.observable||"@@observable",MC=c9,cv=()=>Math.random().toString(36).substring(7).split("").join("."),u9={INIT:`@@redux/INIT${cv()}`,REPLACE:`@@redux/REPLACE${cv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cv()}`},Yp=u9;function nk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Y5(e,t,n){if(typeof e!="function")throw new Error(si(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(si(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(si(1));return n(Y5)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,x)=>{s.set(x,y)}))}function d(){if(l)throw new Error(si(3));return i}function f(y){if(typeof y!="function")throw new Error(si(4));if(l)throw new Error(si(5));let x=!0;c();const b=o++;return s.set(b,y),function(){if(x){if(l)throw new Error(si(6));x=!1,c(),s.delete(b),a=null}}}function h(y){if(!nk(y))throw new Error(si(7));if(typeof y.type>"u")throw new Error(si(8));if(typeof y.type!="string")throw new Error(si(17));if(l)throw new Error(si(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(b=>{b()}),y}function m(y){if(typeof y!="function")throw new Error(si(10));r=y,h({type:Yp.REPLACE})}function p(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(si(11));function b(){const k=x;k.next&&k.next(d())}return b(),{unsubscribe:y(b)}},[MC](){return this}}}return h({type:Yp.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[MC]:p}}function d9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Yp.INIT})>"u")throw new Error(si(12));if(typeof n(void 0,{type:Yp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(si(13))})}function X5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{d9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(si(14));c[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function Xp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function f9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(si(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=Xp(...o)(i.dispatch),{...i,dispatch:a}}}function Q5(e){return nk(e)&&"type"in e&&typeof e.type=="string"}var Z5=Symbol.for("immer-nothing"),OC=Symbol.for("immer-draftable"),Fi=Symbol.for("immer-state");function rs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ha=Object,zu=ha.getPrototypeOf,Qp="constructor",P0="prototype",ub="configurable",Zp="enumerable",sp="writable",_f="value",ho=e=>!!e&&!!e[Fi];function fs(e){var t;return e?J5(e)||E0(e)||!!e[OC]||!!((t=e[Qp])!=null&&t[OC])||D0(e)||M0(e):!1}var m9=ha[P0][Qp].toString(),IC=new WeakMap;function J5(e){if(!e||!rk(e))return!1;const t=zu(e);if(t===null||t===ha[P0])return!0;const n=ha.hasOwnProperty.call(t,Qp)&&t[Qp];if(n===Object)return!0;if(!tu(n))return!1;let r=IC.get(n);return r===void 0&&(r=Function.toString.call(n),IC.set(n,r)),r===m9}function T0(e,t,n=!0){fm(e)===0?(n?Reflect.ownKeys(e):ha.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function fm(e){const t=e[Fi];return t?t.type_:E0(e)?1:D0(e)?2:M0(e)?3:0}var _C=(e,t,n=fm(e))=>n===2?e.has(t):ha[P0].hasOwnProperty.call(e,t),db=(e,t,n=fm(e))=>n===2?e.get(t):e[t],Jp=(e,t,n,r=fm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function h9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var E0=Array.isArray,D0=e=>e instanceof Map,M0=e=>e instanceof Set,rk=e=>typeof e=="object",tu=e=>typeof e=="function",uv=e=>typeof e=="boolean";function p9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Gs=e=>e.copy_||e.base_,ik=e=>e.modified_?e.copy_:e.base_;function fb(e,t){if(D0(e))return new Map(e);if(M0(e))return new Set(e);if(E0(e))return Array[P0].slice.call(e);const n=J5(e);if(t===!0||t==="class_only"&&!n){const r=ha.getOwnPropertyDescriptors(e);delete r[Fi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[sp]===!1&&(o[sp]=!0,o[ub]=!0),(o.get||o.set)&&(r[s]={[ub]:!0,[sp]:!0,[Zp]:o[Zp],[_f]:e[s]})}return ha.create(zu(e),r)}else{const r=zu(e);if(r!==null&&n)return{...e};const i=ha.create(r);return ha.assign(i,e)}}function ak(e,t=!1){return O0(e)||ho(e)||!fs(e)||(fm(e)>1&&ha.defineProperties(e,{set:Nh,add:Nh,clear:Nh,delete:Nh}),ha.freeze(e),t&&T0(e,(n,r)=>{ak(r,!0)},!1)),e}function g9(){rs(2)}var Nh={[_f]:g9};function O0(e){return e===null||!rk(e)?!0:ha.isFrozen(e)}var eg="MapSet",mb="Patches",LC="ArrayMethods",eI={};function xc(e){const t=eI[e];return t||rs(0,e),t}var $C=e=>!!eI[e],Lf,tI=()=>Lf,x9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$C(eg)?xc(eg):void 0,arrayMethodsPlugin_:$C(LC)?xc(LC):void 0});function FC(e,t){t&&(e.patchPlugin_=xc(mb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hb(e){pb(e),e.drafts_.forEach(v9),e.drafts_=null}function pb(e){e===Lf&&(Lf=e.parent_)}var RC=e=>Lf=x9(Lf,e);function v9(e){const t=e[Fi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function BC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Fi].modified_&&(hb(t),rs(4)),fs(e)&&(e=zC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Fi].base_,e,t)}else e=zC(t,n);return y9(t,e,!0),hb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Z5?e:void 0}function zC(e,t){if(O0(t))return t;const n=t[Fi];if(!n)return tg(t,e.handledSet_,e);if(!I0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);iI(n,e)}return n.copy_}function y9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ak(t,n)}function nI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var I0=(e,t)=>e.scope_===t,b9=[];function rI(e,t,n,r){const i=Gs(e),a=e.type_;if(r!==void 0&&db(i,r,a)===t){Jp(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;T0(i,(l,c)=>{if(ho(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const s=e.draftLocations_.get(t)??b9;for(const o of s)Jp(i,o,n,a)}function w9(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!I0(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=ik(a);rI(e,a.draft_??a,s,n),iI(a,i)})}function iI(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}nI(e)}}function k9(e,t,n){const{scope_:r}=e;if(ho(n)){const i=n[Fi];I0(i,r)&&i.callbacks_.push(function(){op(e);const s=ik(i);rI(e,n,s,t)})}else fs(n)&&e.callbacks_.push(function(){const a=Gs(e);e.type_===3?a.has(n)&&tg(n,r.handledSet_,r):db(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&tg(db(e.copy_,t,e.type_),r.handledSet_,r)})}function tg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ho(e)||t.has(e)||!fs(e)||O0(e)||(t.add(e),T0(e,(r,i)=>{if(ho(i)){const a=i[Fi];if(I0(a,n)){const s=ik(a);Jp(e,r,s,e.type_),nI(a)}}else fs(i)&&tg(i,t,n)})),e}function S9(e,t){const n=E0(e),r={type_:n?1:0,scope_:t?t.scope_:tI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=ng;n&&(i=[r],a=$f);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var ng={get(e,t){if(t===Fi)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Gs(e);if(!_C(i,t,e.type_))return N9(e,i,t);const a=i[t];if(e.finalized_||!fs(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&p9(t))return a;if(a===dv(e.base_,t)){op(e);const s=e.type_===1?+t:t,o=xb(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Gs(e)},ownKeys(e){return Reflect.ownKeys(Gs(e))},set(e,t,n){const r=aI(Gs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=dv(Gs(e),t),a=i==null?void 0:i[Fi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(h9(n,i)&&(n!==void 0||_C(e.base_,t,e.type_)))return!0;op(e),gb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),k9(e,t,n)),!0},deleteProperty(e,t){return op(e),dv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),gb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Gs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[sp]:!0,[ub]:e.type_!==1||t!=="length",[Zp]:r[Zp],[_f]:n[t]}},defineProperty(){rs(11)},getPrototypeOf(e){return zu(e.base_)},setPrototypeOf(){rs(12)}},$f={};for(let e in ng){let t=ng[e];$f[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}$f.deleteProperty=function(e,t){return $f.set.call(this,e,t,void 0)};$f.set=function(e,t,n){return ng.set.call(this,e[0],t,n,e[0])};function dv(e,t){const n=e[Fi];return(n?Gs(n):e)[t]}function N9(e,t,n){var i;const r=aI(t,n);return r?_f in r?r[_f]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function aI(e,t){if(!(t in e))return;let n=zu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=zu(n)}}function gb(e){e.modified_||(e.modified_=!0,e.parent_&&gb(e.parent_))}function op(e){e.copy_||(e.assigned_=new Map,e.copy_=fb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var C9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(tu(n)&&!tu(r)){const s=r;r=n;const o=this;return function(c=s,...d){return o.produce(c,f=>r.call(this,f,...d))}}tu(r)||rs(6),i!==void 0&&!tu(i)&&rs(7);let a;if(fs(n)){const s=RC(this),o=xb(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?hb(s):pb(s)}return FC(s,i),BC(a,s)}else if(!n||!rk(n)){if(a=r(n),a===void 0&&(a=n),a===Z5&&(a=void 0),this.autoFreeze_&&ak(a,!0),i){const s=[],o=[];xc(mb).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else rs(1,n)},this.produceWithPatches=(n,r)=>{if(tu(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},uv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),uv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),uv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){fs(t)||rs(8),ho(t)&&(t=ls(t));const n=RC(this),r=xb(n,t,void 0);return r[Fi].isManual_=!0,pb(n),r}finishDraft(t,n){const r=t&&t[Fi];(!r||!r.isManual_)&&rs(9);const{scope_:i}=r;return FC(i,n),BC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=xc(mb).applyPatches_;return ho(t)?i(t,n):this.produce(t,a=>i(a,n))}};function xb(e,t,n,r){const[i,a]=D0(t)?xc(eg).proxyMap_(t,n):M0(t)?xc(eg).proxySet_(t,n):S9(t,n);return((n==null?void 0:n.scope_)??tI()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?w9(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function ls(e){return ho(e)||rs(10,e),sI(e)}function sI(e){if(!fs(e)||O0(e))return e;const t=e[Fi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=fb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=fb(e,!0);return T0(n,(i,a)=>{Jp(n,i,sI(a))},r),t&&(t.finalized_=!1),n}var j9=new C9,oI=j9.produce;function lI(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var A9=lI(),P9=lI,T9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xp:Xp.apply(null,arguments)};function Wa(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(xa(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Q5(r)&&r.type===e,n}var cI=class Vd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Vd.prototype)}static get[Symbol.species](){return Vd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Vd(...t[0].concat(this)):new Vd(...t.concat(this))}};function UC(e){return fs(e)?oI(e,()=>{}):e}function Ch(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function E9(e){return typeof e=="boolean"}var D9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new cI;return n&&(E9(n)?s.push(A9):s.push(P9(n.extraArgument))),s},uI="RTK_autoBatch",nr=()=>e=>({payload:e,meta:{[uI]:!0}}),VC=e=>t=>{setTimeout(t,e)},dI=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VC(10):e.type==="callback"?e.queueNotification:VC(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[uI]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},M9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new cI(e);return r&&i.push(dI(typeof r=="object"?r:void 0)),i};function O9(e){const t=D9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(nk(n))o=X5(n);else throw new Error(xa(1));let l;typeof r=="function"?l=r(t):l=t();let c=Xp;i&&(c=T9({trace:!1,...typeof i=="object"&&i}));const d=f9(...l),f=M9(d);let h=typeof s=="function"?s(f):f();const m=c(...h);return Y5(o,a,m)}function fI(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(xa(28));if(o in t)throw new Error(xa(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function I9(e){return typeof e=="function"}function _9(e,t){let[n,r,i]=fI(t),a;if(I9(e))a=()=>UC(e());else{const o=UC(e);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(ho(d)){const m=f(d,l);return m===void 0?d:m}else{if(fs(d))return oI(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var L9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$9=(e=21)=>{let t="",n=e;for(;n--;)t+=L9[Math.random()*64|0];return t},F9=Symbol.for("rtk-slice-createasyncthunk");function R9(e,t){return`${e}/${t}`}function B9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[F9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(xa(11));const o=(typeof i.reducers=="function"?i.reducers(U9()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,C){const N=typeof k=="string"?k:k.type;if(!N)throw new Error(xa(12));if(N in c.sliceCaseReducersByType)throw new Error(xa(13));return c.sliceCaseReducersByType[N]=C,d},addMatcher(k,C){return c.sliceMatchers.push({matcher:k,reducer:C}),d},exposeAction(k,C){return c.actionCreators[k]=C,d},exposeCaseReducer(k,C){return c.sliceCaseReducersByName[k]=C,d}};l.forEach(k=>{const C=o[k],N={reducerName:k,type:R9(a,k),createNotation:typeof i.reducers=="function"};W9(C)?q9(N,C,d,t):V9(N,C,d)});function f(){const[k={},C=[],N=void 0]=typeof i.extraReducers=="function"?fI(i.extraReducers):[i.extraReducers],j={...k,...c.sliceCaseReducersByType};return _9(i.initialState,M=>{for(let _ in j)M.addCase(_,j[_]);for(let _ of c.sliceMatchers)M.addMatcher(_.matcher,_.reducer);for(let _ of C)M.addMatcher(_.matcher,_.reducer);N&&M.addDefaultCase(N)})}const h=k=>k,m=new Map,p=new WeakMap;let g;function y(k,C){return g||(g=f()),g(k,C)}function x(){return g||(g=f()),g.getInitialState()}function b(k,C=!1){function N(M){let _=M[k];return typeof _>"u"&&C&&(_=Ch(p,N,x)),_}function j(M=h){const _=Ch(m,C,()=>new WeakMap);return Ch(_,M,()=>{const T={};for(const[D,O]of Object.entries(i.selectors??{}))T[D]=z9(O,M,()=>Ch(p,M,x),C);return T})}return{reducerPath:k,getSelectors:j,get selectors(){return j(N)},selectSlice:N}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...b(s),injectInto(k,{reducerPath:C,...N}={}){const j=C??s;return k.inject({reducerPath:j,reducer:y},N),{...w,...b(j,!0)}}};return w}}function z9(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var na=B9();function U9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function V9({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!H9(r))throw new Error(xa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Wa(e,s):Wa(e))}function W9(e){return e._reducerDefinitionType==="asyncThunk"}function H9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function q9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(xa(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:s||jh,pending:o||jh,rejected:l||jh,settled:c||jh})}function jh(){}var K9="task",mI="listener",hI="completed",sk="cancelled",G9=`task-${sk}`,Y9=`task-${hI}`,vb=`${mI}-${sk}`,X9=`${mI}-${hI}`,_0=class{constructor(e){Mx(this,"name","TaskAbortError");Mx(this,"message");this.code=e,this.message=`${K9} ${sk} (reason: ${e})`}},ok=(e,t)=>{if(typeof e!="function")throw new TypeError(xa(32))},rg=()=>{},pI=(e,t=rg)=>(e.catch(t),e),gI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),sc=e=>{if(e.aborted)throw new _0(e.reason)};function xI(e,t){let n=rg;return new Promise((r,i)=>{const a=()=>i(new _0(e.reason));if(e.aborted){a();return}n=gI(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=rg})}var Q9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof _0?"cancelled":"rejected",error:n}}finally{t==null||t()}},ig=e=>t=>pI(xI(e,t).then(n=>(sc(e),n))),vI=e=>{const t=ig(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Au}=Object,WC={},L0="listenerMiddleware",Z9=(e,t)=>{const n=r=>gI(e,()=>r.abort(e.reason));return(r,i)=>{ok(r);const a=new AbortController;n(a);const s=Q9(async()=>{sc(e),sc(a.signal);const o=await r({pause:ig(a.signal),delay:vI(a.signal),signal:a.signal});return sc(a.signal),o},()=>a.abort(Y9));return i!=null&&i.autoJoin&&t.push(s.catch(rg)),{result:ig(e)(s),cancel(){a.abort(G9)}}}},J9=(e,t)=>{const n=async(r,i)=>{sc(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await xI(t,Promise.race(o));return sc(t),l}finally{a()}};return(r,i)=>pI(n(r,i))},yI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Wa(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(xa(21));return ok(a),{predicate:i,type:t,effect:a}},bI=Au(e=>{const{type:t,predicate:n,effect:r}=yI(e);return{id:$9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(xa(22))}}},{withTypes:()=>bI}),HC=(e,t)=>{const{type:n,effect:r,predicate:i}=yI(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},yb=e=>{e.pending.forEach(t=>{t.abort(vb)})},eW=(e,t)=>()=>{for(const n of t.keys())yb(n);e.clear()},qC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},wI=Au(Wa(`${L0}/add`),{withTypes:()=>wI}),tW=Wa(`${L0}/removeAll`),kI=Au(Wa(`${L0}/remove`),{withTypes:()=>kI}),nW=(...e)=>{console.error(`${L0}/error`,...e)},mm=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=nW}=e;ok(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&yb(m)}),l=m=>{const p=HC(t,m)??bI(m);return o(p)};Au(l,{withTypes:()=>l});const c=m=>{const p=HC(t,m);return p&&(p.unsubscribe(),m.cancelActive&&yb(p)),!!p};Au(c,{withTypes:()=>c});const d=async(m,p,g,y)=>{const x=new AbortController,b=J9(l,x.signal),w=[];try{m.pending.add(x),r(m),await Promise.resolve(m.effect(p,Au({},g,{getOriginalState:y,condition:(k,C)=>b(k,C).then(Boolean),take:b,delay:vI(x.signal),pause:ig(x.signal),extra:a,signal:x.signal,fork:Z9(x.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((k,C,N)=>{k!==x&&(k.abort(vb),N.delete(k))})},cancel:()=>{x.abort(vb),m.pending.delete(x)},throwIfCancelled:()=>{sc(x.signal)}})))}catch(k){k instanceof _0||qC(s,k,{raisedBy:"effect"})}finally{await Promise.all(w),x.abort(X9),i(m),m.pending.delete(x)}},f=eW(t,n);return{middleware:m=>p=>g=>{if(!Q5(g))return p(g);if(wI.match(g))return l(g.payload);if(tW.match(g)){f();return}if(kI.match(g))return c(g.payload);let y=m.getState();const x=()=>{if(y===WC)throw new Error(xa(23));return y};let b;try{if(b=p(g),t.size>0){const w=m.getState(),k=Array.from(t.values());for(const C of k){let N=!1;try{N=C.predicate(g,w,y)}catch(j){N=!1,qC(s,j,{raisedBy:"predicate"})}N&&d(C,g,m,x)}}}finally{y=WC}return b},startListening:l,stopListening:c,clearListeners:f}};function xa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},SI=na({name:"chartLayout",initialState:rW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:iW,setLayout:aW,setChartSize:sW,setScale:oW}=SI.actions,lW=SI.reducer;function NI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Lr(e){return Number.isFinite(e)}function $s(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function KC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(n),!0).forEach(function(r){cW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cW(e,t,n){return(t=uW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function er(e,t,n){return Ur(e)||Ur(t)?n:Ls(t)?gc(e,t,n):typeof t=="function"?t(e):n}var fW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&At(e[a]))return pu(pu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&At(e[s]))return pu(pu({},e),{},{[s]:e[s]+(i||0)})}return e},xl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",CI=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},jI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&a&&a.length>=2?wi(a[0]-a[1])*2*g:g,f||h){var y=(f||h||[]).map((x,b)=>{var w=r?r.indexOf(x):x;return{coordinate:s(w)+g,value:x,offset:g,index:b}});return y.filter(x=>!_s(x.coordinate))}return l&&c?c.map((x,b)=>({coordinate:s(x)+g,value:x,index:b,offset:g})):s.ticks&&d!=null?s.ticks(d).map((x,b)=>({coordinate:s(x)+g,value:x,offset:g,index:b})):s.domain().map((x,b)=>({coordinate:s(x)+g,value:r?r[x]:x,index:b,offset:g}))},GC=1e-4,mW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-GC,a=Math.max(r[0],r[1])+GC,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},hW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],h=_s(d)?f:d;h>=0?(c[0]=a,c[1]=a+h,a=d):(c[0]=s,c[1]=s+h,s=d)}}}},pW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=_s(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},gW={sign:hW,expand:Y8,none:pc,silhouette:X8,wiggle:Q8,positive:pW},xW=(e,t,n)=>{var r,i=(r=gW[n])!==null&&r!==void 0?r:pc,a=G8().keys(t).value((o,l)=>Number(er(o,l,0))).order(lb).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,d)=>{var f=er(e[d],t[l],0);Array.isArray(f)&&f.length===2&&At(f[0])&&At(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function YC(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ur(i[t.dataKey])){var o=p5(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=er(i,Ur(s)?t.dataKey:s);return Ur(l)?null:t.scale(l)}var vW=e=>{var t=e.flat(2).filter(At);return[Math.min(...t),Math.max(...t)]},yW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],bW=(e,t,n)=>{if(e!=null)return yW(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var d=NI(c,t,n),f=vW(d);return!Lr(f[0])||!Lr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},XC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ag=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=A0(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function ZC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return pu(pu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function $0(e,t){if(e)return String(e);if(typeof t=="string")return t}var wW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},kW=(e,t)=>t==="centric"?e.angle:e.radius,wo=e=>e.layout.width,ko=e=>e.layout.height,SW=e=>e.layout.scale,AI=e=>e.layout.margin,F0=ge(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),R0=ge(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),PI="data-recharts-item-index",TI="data-recharts-item-id",hm=60;function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(n),!0).forEach(function(r){NW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NW(e,t,n){return(t=CW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CW(e){var t=jW(e,"string");return typeof t=="symbol"?t:t+""}function jW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AW=e=>e.brush.height;function PW(e){var t=R0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hm;return n+i}return n},0)}function TW(e){var t=R0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hm;return n+i}return n},0)}function EW(e){var t=F0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function DW(e){var t=F0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ei=ge([wo,ko,AI,AW,PW,TW,EW,DW,K5,a9],(e,t,n,r,i,a,s,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=Ah(Ah({},f),d),m=h.bottom;h.bottom+=r,h=fW(h,l,c);var p=e-h.left-h.right,g=t-h.top-h.bottom;return Ah(Ah({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),MW=ge(ei,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),EI=ge(wo,ko,(e,t)=>({x:0,y:0,width:e,height:t})),OW=v.createContext(null),ra=()=>v.useContext(OW)!=null,B0=e=>e.brush,z0=ge([B0,ei,AI],(e,t,n)=>({height:e.height,x:At(e.x)?e.x:t.left,y:At(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:At(e.width)?e.width:t.width})),DI={},MI={},OI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},y=()=>{d()},x=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=h==null;m(),l&&w&&d()};return x.schedule=m,x.cancel=g,x.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(OI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:c}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(MI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MI;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(DI);var IW=DI.throttle;const _W=gs(IW);var sg=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},II=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=mo(r)?e:Number(r),l=mo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},LW={width:0,height:0,overflow:"visible"},$W={width:0,overflowX:"visible"},FW={height:0,overflowY:"visible"},RW={},BW=e=>{var{width:t,height:n}=e,r=mo(t),i=mo(n);return r&&i?LW:r?$W:i?FW:RW};function zW(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(null,arguments)}function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(r){UW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UW(e,t,n){return(t=VW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VW(e){var t=WW(e,"string");return typeof t=="symbol"?t:t+""}function WW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _I=v.createContext({width:-1,height:-1});function HW(e){return $s(e.width)&&$s(e.height)}function LI(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return HW(i)?v.createElement(_I.Provider,{value:i},t):null}var lk=()=>v.useContext(_I),qW=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=v.useRef(null),y=v.useRef();y.current=m,v.useImperativeHandle(t,()=>g.current);var[x,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),w=v.useCallback((M,_)=>{b(T=>{var D=Math.round(M),O=Math.round(_);return T.containerWidth===D&&T.containerHeight===O?T:{containerWidth:D,containerHeight:O}})},[]);v.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return dm;var M=O=>{var Z,{width:J,height:se}=O[0].contentRect;w(J,se),(Z=y.current)===null||Z===void 0||Z.call(y,J,se)};d>0&&(M=_W(M,d,{trailing:!0,leading:!1}));var _=new ResizeObserver(M),{width:T,height:D}=g.current.getBoundingClientRect();return w(T,D),_.observe(g.current),()=>{_.disconnect()}},[w,d]);var{containerWidth:k,containerHeight:C}=x;sg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:j}=II(k,C,{width:i,height:a,aspect:n,maxHeight:l});return sg(N!=null&&N>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,j,i,a,s,o,n),v.createElement("div",{id:f?"".concat(f):void 0,className:Cn("recharts-responsive-container",h),style:tj(tj({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},v.createElement("div",{style:BW({width:i,height:a})},v.createElement(LI,{width:N,height:j},c)))}),vc=v.forwardRef((e,t)=>{var n=lk();if($s(n.width)&&$s(n.height))return e.children;var{width:r,height:i}=zW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=II(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return At(a)&&At(s)?v.createElement(LI,{width:a,height:s},e.children):v.createElement(qW,bb({},e,{width:r,height:i,ref:t}))});function $I(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var U0=()=>{var e,t=ra(),n=Ct(MW),r=Ct(z0),i=(e=Ct(B0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},KW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},FI=()=>{var e;return(e=Ct(ei))!==null&&e!==void 0?e:KW},ck=()=>Ct(wo),uk=()=>Ct(ko),GW=()=>Ct(e=>e.layout.margin),$n=e=>e.layout.layoutType,pm=()=>Ct($n),YW=()=>{var e=pm();return e!==void 0},V0=e=>{var t=Hn(),n=ra(),{width:r,height:i}=e,a=lk(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),v.useEffect(()=>{!n&&$s(s)&&$s(o)&&t(sW({width:s,height:o}))},[t,n,s,o]),null},RI=Symbol.for("immer-nothing"),nj=Symbol.for("immer-draftable"),ba=Symbol.for("immer-state");function is(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ff=Object.getPrototypeOf;function Uu(e){return!!e&&!!e[ba]}function yc(e){var t;return e?BI(e)||Array.isArray(e)||!!e[nj]||!!((t=e.constructor)!=null&&t[nj])||gm(e)||H0(e):!1}var XW=Object.prototype.constructor.toString(),rj=new WeakMap;function BI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=rj.get(n);return r===void 0&&(r=Function.toString.call(n),rj.set(n,r)),r===XW}function og(e,t,n=!0){W0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function W0(e){const t=e[ba];return t?t.type_:Array.isArray(e)?1:gm(e)?2:H0(e)?3:0}function wb(e,t){return W0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zI(e,t,n){const r=W0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function QW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function gm(e){return e instanceof Map}function H0(e){return e instanceof Set}function Ul(e){return e.copy_||e.base_}function kb(e,t){if(gm(e))return new Map(e);if(H0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=BI(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ba];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Ff(e),r)}else{const r=Ff(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function dk(e,t=!1){return q0(e)||Uu(e)||!yc(e)||(W0(e)>1&&Object.defineProperties(e,{set:Ph,add:Ph,clear:Ph,delete:Ph}),Object.freeze(e),t&&Object.values(e).forEach(n=>dk(n,!0))),e}function ZW(){is(2)}var Ph={value:ZW};function q0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var JW={};function bc(e){const t=JW[e];return t||is(0,e),t}var Rf;function UI(){return Rf}function eH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ij(e,t){t&&(bc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sb(e){Nb(e),e.drafts_.forEach(tH),e.drafts_=null}function Nb(e){e===Rf&&(Rf=e.parent_)}function aj(e){return Rf=eH(Rf,e)}function tH(e){const t=e[ba];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function sj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ba].modified_&&(Sb(t),is(4)),yc(e)&&(e=lg(t,e),t.parent_||cg(t,e)),t.patches_&&bc("Patches").generateReplacementPatches_(n[ba].base_,e,t.patches_,t.inversePatches_)):e=lg(t,n,[]),Sb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RI?e:void 0}function lg(e,t,n){if(q0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ba];if(!i)return og(t,(a,s)=>oj(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return cg(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),og(s,(l,c)=>oj(e,i,a,l,c,n,o),r),cg(e,a,!1),n&&e.patches_&&bc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function oj(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=q0(i);if(!(o&&!s)){if(Uu(i)){const l=a&&t&&t.type_!==3&&!wb(t.assigned_,r)?a.concat(r):void 0,c=lg(e,i,l);if(zI(n,r,c),Uu(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(yc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;lg(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(gm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&cg(e,i)}}}function cg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&dk(t,n)}function nH(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:UI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=fk;n&&(i=[r],a=Bf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var fk={get(e,t){if(t===ba)return e;const n=Ul(e);if(!wb(n,t))return rH(e,n,t);const r=n[t];return e.finalized_||!yc(r)?r:r===fv(e.base_,t)?(mv(e),e.copy_[t]=jb(r,e)):r},has(e,t){return t in Ul(e)},ownKeys(e){return Reflect.ownKeys(Ul(e))},set(e,t,n){const r=VI(Ul(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=fv(Ul(e),t),a=i==null?void 0:i[ba];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(QW(n,i)&&(n!==void 0||wb(e.base_,t)))return!0;mv(e),Cb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return fv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mv(e),Cb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ul(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){is(11)},getPrototypeOf(e){return Ff(e.base_)},setPrototypeOf(){is(12)}},Bf={};og(fk,(e,t)=>{Bf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bf.deleteProperty=function(e,t){return Bf.set.call(this,e,t,void 0)};Bf.set=function(e,t,n){return fk.set.call(this,e[0],t,n,e[0])};function fv(e,t){const n=e[ba];return(n?Ul(n):e)[t]}function rH(e,t,n){var i;const r=VI(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function VI(e,t){if(!(t in e))return;let n=Ff(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ff(n)}}function Cb(e){e.modified_||(e.modified_=!0,e.parent_&&Cb(e.parent_))}function mv(e){e.copy_||(e.copy_=kb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&is(6),r!==void 0&&typeof r!="function"&&is(7);let i;if(yc(t)){const a=aj(this),s=jb(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?Sb(a):Nb(a)}return ij(a,r),sj(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===RI&&(i=void 0),this.autoFreeze_&&dk(i,!0),r){const a=[],s=[];bc("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else is(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){yc(e)||is(8),Uu(e)&&(e=aH(e));const t=aj(this),n=jb(e,void 0);return n[ba].isManual_=!0,Nb(t),n}finishDraft(e,t){const n=e&&e[ba];(!n||!n.isManual_)&&is(9);const{scope_:r}=n;return ij(r,t),sj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=bc("Patches").applyPatches_;return Uu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function jb(e,t){const n=gm(e)?bc("MapSet").proxyMap_(e,t):H0(e)?bc("MapSet").proxySet_(e,t):nH(e,t);return(t?t.scope_:UI()).drafts_.push(n),n}function aH(e){return Uu(e)||is(10,e),WI(e)}function WI(e){if(!yc(e)||q0(e))return e;const t=e[ba];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=kb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=kb(e,!0);return og(n,(i,a)=>{zI(n,i,WI(a))},r),t&&(t.finalized_=!1),n}var sH=new iH;sH.produce;var oH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},HI=na({name:"legend",initialState:oH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:nr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ls(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:nr()},removeLegendPayload:{reducer(e,t){var n=ls(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:nr()}}}),{setLegendSize:lj,setLegendSettings:lH,addLegendPayload:qI,replaceLegendPayload:KI,removeLegendPayload:GI}=HI.actions,cH=HI.reducer,uH=["contextPayload"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(null,arguments)}function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(r){dH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dH(e,t,n){return(t=fH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hH(e,t){if(e==null)return{};var n,r,i=pH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gH(e){return e.value}function xH(e){var{contextPayload:t}=e,n=hH(e,uH),r=L5(t,e.payloadUniqBy,gH),i=Vu(Vu({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(NV,i)}function vH(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Vu(Vu({},c),d)}function yH(e){var t=Hn();return v.useEffect(()=>{t(lH(e))},[t,e]),null}function bH(e){var t=Hn();return v.useEffect(()=>(t(lj(e)),()=>{t(lj({width:0,height:0}))}),[t,e]),null}function wH(e,t,n,r){return e==="vertical"&&At(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var kH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function YI(e){var t=Vr(e,kH),n=l9(),r=v8(),i=GW(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,d]=G5([n]),f=ck(),h=uk();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=wH(t.layout,s,a,m),g=l?o:Vu(Vu({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},vH(o,t,i,f,h,c)),o),y=l??r;if(y==null||n==null)return null;var x=v.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},v.createElement(yH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(bH,{width:c.width,height:c.height}),v.createElement(xH,Ab({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return td.createPortal(x,y)}YI.displayName="Legend";function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(r){SH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SH(e,t,n){return(t=NH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NH(e){var t=CH(e,"string");return typeof t=="symbol"?t:t+""}function CH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jH(e){return Array.isArray(e)&&Ls(e[0])&&Ls(e[1])?e.join(" ~ "):e}var AH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},N=(o?A0(a,o):a).map((j,M)=>{if(j.type==="none")return null;var _=j.formatter||s||jH,{value:T,name:D}=j,O=T,Z=D;if(_){var J=_(T,D,j,M,a);if(Array.isArray(J))[O,Z]=J;else if(J!=null)O=J;else return null}var se=hv({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:se},Ls(Z)?v.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Ls(Z)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},O),v.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},p=hv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=hv({margin:0},i),y=!Ur(d),x=y?d:"",b=Cn("recharts-default-tooltip",l),w=Cn("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(x=f(d,a));var k=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Pb({className:b,style:p},k),v.createElement("p",{className:w,style:g},v.isValidElement(x)?x:"".concat(x)),m())},jd="recharts-tooltip-wrapper",PH={visibility:"hidden"};function TH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Cn(jd,{["".concat(jd,"-right")]:At(n)&&t&&At(t.x)&&n>=t.x,["".concat(jd,"-left")]:At(n)&&t&&At(t.x)&&n<t.x,["".concat(jd,"-bottom")]:At(r)&&t&&At(t.y)&&r>=t.y,["".concat(jd,"-top")]:At(r)&&t&&At(t.y)&&r<t.y})}function dj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&At(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var g=f+o,y=h+c;return g>y?Math.max(d,h):Math.max(f,h)}function EH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function DH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,d,f;return s.height>0&&s.width>0&&n?(d=dj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=dj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=EH({translateX:d,translateY:f,useTranslate3d:o})):c=PH,{cssProperties:c,cssClasses:TH({translateX:d,translateY:f,coordinate:n})}}function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(n),!0).forEach(function(r){Tb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tb(e,t,n){return(t=MH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e){var t=OH(e,"string");return typeof t=="symbol"?t:t+""}function OH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class IH extends v.PureComponent{constructor(){super(...arguments),Tb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Tb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=DH({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),k=x?{}:Th(Th({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=Th(Th({},k),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:y},a)}}var XI=()=>{var e;return(e=Ct(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(null,arguments)}function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(n),!0).forEach(function(r){_H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _H(e,t,n){return(t=LH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pj={curveBasisClosed:$8,curveBasisOpen:F8,curveBasis:L8,curveBumpX:k8,curveBumpY:S8,curveLinearClosed:R8,curveLinear:y0,curveMonotoneX:B8,curveMonotoneY:z8,curveNatural:U8,curveStep:V8,curveStepAfter:H8,curveStepBefore:W8},ug=e=>Lr(e.x)&&Lr(e.y),gj=e=>e.base!=null&&ug(e.base)&&ug(e),Ad=e=>e.x,Pd=e=>e.y,FH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(um(e));return(n==="curveMonotone"||n==="curveBump")&&t?pj["".concat(n).concat(t==="vertical"?"Y":"X")]:pj[n]||y0},RH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=FH(t,i),o=a?n.filter(ug):n,l;if(Array.isArray(r)){var c=n.map((m,p)=>hj(hj({},m),{},{base:r[p]}));i==="vertical"?l=wh().y(Pd).x1(Ad).x0(m=>m.base.x):l=wh().x(Ad).y1(Pd).y0(m=>m.base.y);var d=l.defined(gj).curve(s),f=a?c.filter(gj):c;return d(f)}i==="vertical"&&At(r)?l=wh().y(Pd).x1(Ad).x0(r):At(r)?l=wh().x(Ad).y1(Pd).y0(r):l=t5().x(Ad).y(Pd);var h=l.defined(ug).curve(s);return h(o)},mk=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=pm();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?RH(s):r;return v.createElement("path",Eb({},Va(e),V1(e),{className:Cn("recharts-curve",t),d:o===null?void 0:o,ref:i}))},BH=["x","y","top","left","width","height","className"];function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(null,arguments)}function xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(n),!0).forEach(function(r){UH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UH(e,t,n){return(t=VH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HH(e,t){if(e==null)return{};var n,r,i=qH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KH=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),GH=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=HH(e,BH),c=zH({x:t,y:n,top:r,left:i,width:a,height:s},l);return!At(t)||!At(n)||!At(a)||!At(s)||!At(r)||!At(i)?null:v.createElement("path",Db({},$i(c),{className:Cn("recharts-cross",o),d:KH(t,n,a,s,r,i)}))};function YH(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(n),!0).forEach(function(r){XH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XH(e,t,n){return(t=QH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),QI=(e,t,n)=>e.map(r=>"".concat(JH(r)," ").concat(t,"ms ").concat(n)).join(","),e7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),zf=(e,t)=>Object.keys(t).reduce((n,r)=>yj(yj({},n),{},{[r]:e(r,t[r])}),{});function bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(n),!0).forEach(function(r){t7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t7(e,t,n){return(t=n7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n7(e){var t=r7(e,"string");return typeof t=="symbol"?t:t+""}function r7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dg=(e,t,n)=>e+(t-e)*n,Mb=e=>{var{from:t,to:n}=e;return t!==n},ZI=(e,t,n)=>{var r=zf((i,a)=>{if(Mb(a)){var[s,o]=e(a.from,a.to,a.velocity);return Br(Br({},a),{},{from:s,velocity:o})}return a},t);return n<1?zf((i,a)=>Mb(a)&&r[i]!=null?Br(Br({},a),{},{velocity:dg(a.velocity,r[i].velocity,n),from:dg(a.from,r[i].from,n)}):a,t):ZI(e,r,n-1)};function i7(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>Br(Br({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>zf((h,m)=>m.from,o),c=()=>!Object.values(o).filter(Mb).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=ZI(n,o,p),i(Br(Br(Br({},e),t),l())),s=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function a7(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:Br(Br({},f),{},{[h]:[m,p]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/r,m=zf((g,y)=>dg(...y,n(h)),l);if(a(Br(Br(Br({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=zf((g,y)=>dg(...y,n(1)),l);a(Br(Br(Br({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const s7=(e,t,n,r,i,a)=>{var s=e7(e,t);return n==null?()=>(i(Br(Br({},e),t)),()=>{}):n.isStepper===!0?i7(e,t,n,s,i,a):a7(e,t,n,r,s,i,a)};var fg=1e-4,JI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],e_=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),wj=(e,t)=>n=>{var r=JI(e,t);return e_(r,n)},o7=(e,t)=>n=>{var r=JI(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return e_(i,n)},l7=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},c7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=l7(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},u7=(e,t,n,r)=>{var i=wj(e,n),a=wj(t,r),s=o7(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<fg||p<fg)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},kj=function(){return u7(...c7(...arguments))},d7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*n,d=l*r,f=l+(c-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<fg&&Math.abs(f)<fg?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},f7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kj(e);case"spring":return d7();default:if(e.split("(")[0]==="cubic-bezier")return kj(e)}return typeof e=="function"?e:null};function m7(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class h7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function p7(){return m7(new h7)}var g7=v.createContext(p7);function x7(e,t){var n=v.useContext(g7);return v.useMemo(()=>t??n(e),[e,t,n])}var v7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),K0={isSsr:v7()},y7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Sj={t:0},pv={t:1};function G0(e){var t=Vr(e,y7),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=n==="auto"?!K0.isSsr:n,f=x7(t.animationId,t.animationManager),[h,m]=v.useState(d?Sj:pv),p=v.useRef(null);return v.useEffect(()=>{d||m(pv)},[d]),v.useEffect(()=>{if(!d||!r)return dm;var g=s7(Sj,pv,f7(a),i,m,f.getTimeoutController()),y=()=>{p.current=g()};return f.start([l,s,y,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),c(h.t)}function Y0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(If(t)),r=v.useRef(e);return r.current!==e&&(n.current=If(t),r.current=e),n.current}var b7=["radius"],w7=["radius"],Nj,Cj,jj,Aj,Pj,Tj,Ej,Dj,Mj,Oj;function Ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(n),!0).forEach(function(r){k7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=N7(e,"string");return typeof t=="symbol"?t:t+""}function N7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mg.apply(null,arguments)}function Lj(e,t){if(e==null)return{};var n,r,i=C7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ss(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $j=(e,t,n,r,i)=>{var a=Xo(n),s=Xo(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=yr(Nj||(Nj=Ss(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=yr(Cj||(Cj=Ss(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=yr(jj||(jj=Ss(["L ",",",""])),e+n-c*h[1],t),h[1]>0&&(f+=yr(Aj||(Aj=Ss(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=yr(Pj||(Pj=Ss(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=yr(Tj||(Tj=Ss(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-c*h[2],t+r)),f+=yr(Ej||(Ej=Ss(["L ",",",""])),e+c*h[3],t+r),h[3]>0&&(f+=yr(Dj||(Dj=Ss(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f=yr(Mj||(Mj=Ss(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,d,e+c*g,t,e+n-c*g,t,g,g,d,e+n,t+l*g,e+n,t+r-l*g,g,g,d,e+n-c*g,t+r,e+c*g,t+r,g,g,d,e,t+r-l*g)}else f=yr(Oj||(Oj=Ss(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},Fj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t_=e=>{var t=Vr(e,Fj),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,y=v.useRef(o),x=v.useRef(l),b=v.useRef(a),w=v.useRef(s),k=v.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),C=Y0(k,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var N=Cn("recharts-rectangle",d);if(!g){var j=$i(t),{radius:M}=j,_=Lj(j,b7);return v.createElement("path",mg({},_,{x:Xo(a),y:Xo(s),width:Xo(o),height:Xo(l),radius:typeof c=="number"?c:void 0,className:N,d:$j(a,s,o,l,c)}))}var T=y.current,D=x.current,O=b.current,Z=w.current,J="0px ".concat(r===-1?1:r,"px"),se="".concat(r,"px 0px"),de=QI(["strokeDasharray"],h,typeof f=="string"?f:Fj.animationEasing);return v.createElement(G0,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:g,begin:m},X=>{var G=bi(T,o,X),F=bi(D,l,X),P=bi(O,a,X),A=bi(Z,s,X);n.current&&(y.current=G,x.current=F,b.current=P,w.current=A);var te;p?X>0?te={transition:de,strokeDasharray:se}:te={strokeDasharray:J}:te={strokeDasharray:se};var S=$i(t),{radius:U}=S,q=Lj(S,w7);return v.createElement("path",mg({},q,{radius:typeof c=="number"?c:void 0,className:N,d:$j(P,A,G,F,c),ref:n,style:_j(_j({},te),t.style)}))})};function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(n),!0).forEach(function(r){j7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j7(e,t,n){return(t=A7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hg=Math.PI/180,T7=e=>e*180/Math.PI,Ir=(e,t,n,r)=>({x:e+Math.cos(-hg*r)*n,y:t+Math.sin(-hg*r)*n}),n_=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},E7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},D7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=E7({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:T7(l),angleInRadian:l}},M7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},O7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},I7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=D7({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=M7(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?Bj(Bj({},t),{},{radius:i,angle:O7(d,t)}):null};function r_(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Ir(t,n,r,i),o=Ir(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var zj,Uj,Vj,Wj,Hj,qj,Kj;function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(null,arguments)}function Ql(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _7=(e,t)=>{var n=wi(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Eh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,d=Math.asin(o/c)/hg,f=l?i:i+a*d,h=Ir(t,n,c,f),m=Ir(t,n,r,f),p=l?i-a*d:i,g=Ir(t,n,c*Math.cos(d*hg),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},i_=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=_7(a,s),l=a+o,c=Ir(t,n,i,a),d=Ir(t,n,i,l),f=yr(zj||(zj=Ql(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Ir(t,n,r,a),m=Ir(t,n,r,l);f+=yr(Uj||(Uj=Ql(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=yr(Vj||(Vj=Ql(["L ",","," Z"])),t,n);return f},L7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=wi(c-l),{circleTangency:f,lineTangency:h,theta:m}=Eh({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:y}=Eh({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-m-y;if(x<0)return s?yr(Wj||(Wj=Ql(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):i_({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b=yr(Hj||(Hj=Ql(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(x>180),+(d<0),p.x,p.y,a,a,+(d<0),g.x,g.y);if(r>0){var{circleTangency:w,lineTangency:k,theta:C}=Eh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:N,lineTangency:j,theta:M}=Eh({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),_=o?Math.abs(l-c):Math.abs(l-c)-C-M;if(_<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=yr(qj||(qj=Ql(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,a,a,+(d<0),N.x,N.y,r,r,+(_>180),+(d>0),w.x,w.y,a,a,+(d<0),k.x,k.y)}else b+=yr(Kj||(Kj=Ql(["L",",","Z"])),t,n);return b},$7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},a_=e=>{var t=Vr(e,$7),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=Cn("recharts-sector",f),m=a-i,p=ga(s,m,0,!0),g;return p>0&&Math.abs(c-d)<360?g=L7({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):g=i_({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),v.createElement("path",Ob({},$i(t),{className:h,d:g}))};function F7(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(x5(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Ir(r,i,a,o),c=Ir(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return r_(t)}}var s_={},o_={},l_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ek;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(l_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l_;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(o_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tk,n=o_;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=r})(s_);var R7=s_.range;const c_=gs(R7);function sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function B7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hk(e){let t,n,r;e.length!==2?(t=sl,n=(o,l)=>sl(e(o),l),r=(o,l)=>e(o)-l):(t=e===sl||e===B7?e:z7,n=e,r=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function z7(){return 0}function u_(e){return e===null?NaN:+e}function*U7(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const V7=hk(sl),xm=V7.right;hk(u_).center;class Gj extends Map{constructor(t,n=q7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Yj(this,t))}has(t){return super.has(Yj(this,t))}set(t,n){return super.set(W7(this,t),n)}delete(t){return super.delete(H7(this,t))}}function Yj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function W7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function H7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function q7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function K7(e=sl){if(e===sl)return d_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function d_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const G7=Math.sqrt(50),Y7=Math.sqrt(10),X7=Math.sqrt(2);function pg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=G7?10:a>=Y7?5:a>=X7?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?pg(e,t,n*2):[o,l,c]}function Ib(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?pg(t,e,n):pg(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function _b(e,t,n){return t=+t,e=+e,n=+n,pg(e,t,n)[2]}function Lb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?_b(t,e,n):_b(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Xj(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Qj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function f_(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?d_:K7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+h)),p=Math.min(r,Math.floor(t+(l-c)*f/l+h));f_(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(Td(e,n,t),i(e[r],a)>0&&Td(e,n,r);s<o;){for(Td(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Td(e,n,o):(++o,Td(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Td(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Q7(e,t,n){if(e=Float64Array.from(U7(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Qj(e);if(t>=1)return Xj(e);var r,i=(r-1)*t,a=Math.floor(i),s=Xj(f_(e,a).subarray(0,a+1)),o=Qj(e.subarray(a+1));return s+(o-s)*(i-a)}}function Z7(e,t,n=u_){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function J7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function qa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function So(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $b=Symbol("implicit");function pk(){var e=new Gj,t=[],n=[],r=$b;function i(a){let s=e.get(a);if(s===void 0){if(r!==$b)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Gj;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return pk(t,n).unknown(r)},qa.apply(i,arguments),i}function gk(){var e=pk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=J7(h).map(function(x){return p+a*x});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return gk(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},qa.apply(f(),arguments)}function m_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return m_(t())},e}function eq(){return m_(gk.apply(null,arguments).paddingInner(1))}function xk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function h_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function vm(){}var Uf=.7,gg=1/Uf,Pu="\\s*([+-]?\\d+)\\s*",Vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tq=/^#([0-9a-f]{3,8})$/,nq=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),rq=new RegExp(`^rgb\\(${Os},${Os},${Os}\\)$`),iq=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${Vf}\\)$`),aq=new RegExp(`^rgba\\(${Os},${Os},${Os},${Vf}\\)$`),sq=new RegExp(`^hsl\\(${Vf},${Os},${Os}\\)$`),oq=new RegExp(`^hsla\\(${Vf},${Os},${Os},${Vf}\\)$`),Zj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xk(vm,Wf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jj,formatHex:Jj,formatHex8:lq,formatHsl:cq,formatRgb:eA,toString:eA});function Jj(){return this.rgb().formatHex()}function lq(){return this.rgb().formatHex8()}function cq(){return p_(this).formatHsl()}function eA(){return this.rgb().formatRgb()}function Wf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tq.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tA(t):n===3?new Gi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nq.exec(e))?new Gi(t[1],t[2],t[3],1):(t=rq.exec(e))?new Gi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=iq.exec(e))?Dh(t[1],t[2],t[3],t[4]):(t=aq.exec(e))?Dh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sq.exec(e))?iA(t[1],t[2]/100,t[3]/100,1):(t=oq.exec(e))?iA(t[1],t[2]/100,t[3]/100,t[4]):Zj.hasOwnProperty(e)?tA(Zj[e]):e==="transparent"?new Gi(NaN,NaN,NaN,0):null}function tA(e){return new Gi(e>>16&255,e>>8&255,e&255,1)}function Dh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gi(e,t,n,r)}function uq(e){return e instanceof vm||(e=Wf(e)),e?(e=e.rgb(),new Gi(e.r,e.g,e.b,e.opacity)):new Gi}function Fb(e,t,n,r){return arguments.length===1?uq(e):new Gi(e,t,n,r??1)}function Gi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xk(Gi,Fb,h_(vm,{brighter(e){return e=e==null?gg:Math.pow(gg,e),new Gi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Uf:Math.pow(Uf,e),new Gi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gi(oc(this.r),oc(this.g),oc(this.b),xg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nA,formatHex:nA,formatHex8:dq,formatRgb:rA,toString:rA}));function nA(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}`}function dq(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}${Zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function rA(){const e=xg(this.opacity);return`${e===1?"rgb(":"rgba("}${oc(this.r)}, ${oc(this.g)}, ${oc(this.b)}${e===1?")":`, ${e})`}`}function xg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zl(e){return e=oc(e),(e<16?"0":"")+e.toString(16)}function iA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new as(e,t,n,r)}function p_(e){if(e instanceof as)return new as(e.h,e.s,e.l,e.opacity);if(e instanceof vm||(e=Wf(e)),!e)return new as;if(e instanceof as)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new as(s,o,l,e.opacity)}function fq(e,t,n,r){return arguments.length===1?p_(e):new as(e,t,n,r??1)}function as(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xk(as,fq,h_(vm,{brighter(e){return e=e==null?gg:Math.pow(gg,e),new as(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Uf:Math.pow(Uf,e),new as(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Gi(gv(e>=240?e-240:e+120,i,r),gv(e,i,r),gv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new as(aA(this.h),Mh(this.s),Mh(this.l),xg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xg(this.opacity);return`${e===1?"hsl(":"hsla("}${aA(this.h)}, ${Mh(this.s)*100}%, ${Mh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function aA(e){return e=(e||0)%360,e<0?e+360:e}function Mh(e){return Math.max(0,Math.min(1,e||0))}function gv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vk=e=>()=>e;function mq(e,t){return function(n){return e+n*t}}function hq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function pq(e){return(e=+e)==1?g_:function(t,n){return n-t?hq(t,n,e):vk(isNaN(t)?n:t)}}function g_(e,t){var n=t-e;return n?mq(e,n):vk(isNaN(e)?t:e)}const sA=function e(t){var n=pq(t);function r(i,a){var s=n((i=Fb(i)).r,(a=Fb(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=g_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function gq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function xq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=nd(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function yq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function vg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function bq(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=nd(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Rb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xv=new RegExp(Rb.source,"g");function wq(e){return function(){return e}}function kq(e){return function(t){return e(t)+""}}function Sq(e,t){var n=Rb.lastIndex=xv.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Rb.exec(e))&&(i=xv.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:vg(r,i)})),n=xv.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?kq(l[0].x):wq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function nd(e,t){var n=typeof t,r;return t==null||n==="boolean"?vk(t):(n==="number"?vg:n==="string"?(r=Wf(t))?(t=r,sA):Sq:t instanceof Wf?sA:t instanceof Date?yq:xq(t)?gq:Array.isArray(t)?vq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bq:vg)(e,t)}function yk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Nq(e,t){t===void 0&&(t=e,e=nd);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Cq(e){return function(){return e}}function yg(e){return+e}var oA=[0,1];function _i(e){return e}function Bb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Cq(isNaN(t)?NaN:.5)}function jq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Aq(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Bb(i,r),a=n(s,a)):(r=Bb(r,i),a=n(a,s)),function(o){return a(r(o))}}function Pq(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Bb(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=xm(e,o,1,r)-1;return a[l](i[l](o))}}function ym(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function X0(){var e=oA,t=oA,n=nd,r,i,a,s=_i,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==_i&&(s=jq(e[0],e[h-1])),o=h>2?Pq:Aq,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(r),vg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,yg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=yk,d()},f.clamp=function(h){return arguments.length?(s=h?!0:_i,d()):s!==_i},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function bk(){return X0()(_i,_i)}function Tq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Wu(e){return e=bg(Math.abs(e)),e?e[1]:NaN}function Eq(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Dq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Mq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hf(e){if(!(t=Mq.exec(e)))throw new Error("invalid format: "+e);var t;return new wk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hf.prototype=wk.prototype;function wk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Oq(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var wg;function Iq(e,t){var n=bg(e,t);if(!n)return wg=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(wg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+bg(e,Math.max(0,t+a-1))[0]}function lA(e,t){var n=bg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Tq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>lA(e*100,t),r:lA,s:Iq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function uA(e){return e}var dA=Array.prototype.map,fA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _q(e){var t=e.grouping===void 0||e.thousands===void 0?uA:Eq(dA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?uA:Dq(dA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=Hf(f);var m=f.fill,p=f.align,g=f.sign,y=f.symbol,x=f.zero,b=f.width,w=f.comma,k=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):cA[N]||(k===void 0&&(k=12),C=!0,N="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var j=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),M=(y==="$"?r:/[%p]/.test(N)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),_=cA[N],T=/[defgprs%]/.test(N);k=k===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function D(O){var Z=j,J=M,se,de,X;if(N==="c")J=_(O)+J,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?l:_(Math.abs(O),k),C&&(O=Oq(O)),G&&+O==0&&g!=="+"&&(G=!1),Z=(G?g==="("?g:o:g==="-"||g==="("?"":g)+Z,J=(N==="s"&&!isNaN(O)&&wg!==void 0?fA[8+wg/3]:"")+J+(G&&g==="("?")":""),T){for(se=-1,de=O.length;++se<de;)if(X=O.charCodeAt(se),48>X||X>57){J=(X===46?i+O.slice(se+1):O.slice(se))+J,O=O.slice(0,se);break}}}w&&!x&&(O=t(O,1/0));var F=Z.length+O.length+J.length,P=F<b?new Array(b-F+1).join(m):"";switch(w&&x&&(O=t(P+O,P.length?b-J.length:1/0),P=""),p){case"<":O=Z+O+J+P;break;case"=":O=Z+P+O+J;break;case"^":O=P.slice(0,F=P.length>>1)+Z+O+J+P.slice(F);break;default:O=P+Z+O+J;break}return a(O)}return D.toString=function(){return f+""},D}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Wu(h)/3)))*3,p=Math.pow(10,-m),g=c((f=Hf(f),f.type="f",f),{suffix:fA[8+m/3]});return function(y){return g(p*y)}}return{format:c,formatPrefix:d}}var Oh,kk,x_;Lq({thousands:",",grouping:[3],currency:["$",""]});function Lq(e){return Oh=_q(e),kk=Oh.format,x_=Oh.formatPrefix,Oh}function $q(e){return Math.max(0,-Wu(Math.abs(e)))}function Fq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wu(t)/3)))*3-Wu(Math.abs(e)))}function Rq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wu(t)-Wu(e))+1}function v_(e,t,n,r){var i=Lb(e,t,n),a;switch(r=Hf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Fq(i,s))&&(r.precision=a),x_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Rq(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=$q(i))&&(r.precision=a-(r.type==="%")*2);break}}return kk(r)}function vl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ib(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return v_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=_b(s,o,n),c===l)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function y_(){var e=bk();return e.copy=function(){return ym(e,y_())},qa.apply(e,arguments),vl(e)}function b_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,yg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return b_(e).unknown(t)},e=arguments.length?Array.from(e,yg):[0,1],vl(n)}function w_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function mA(e){return Math.log(e)}function hA(e){return Math.exp(e)}function Bq(e){return-Math.log(-e)}function zq(e){return-Math.exp(-e)}function Uq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vq(e){return e===10?Uq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Wq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pA(e){return(t,n)=>-e(-t,n)}function Sk(e){const t=e(mA,hA),n=t.domain;let r=10,i,a;function s(){return i=Wq(r),a=Vq(r),n()[0]<0?(i=pA(i),a=pA(a),e(Bq,zq)):e(mA,hA),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),p,g;const y=o==null?10:+o;let x=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}x.length*2<y&&(x=Ib(c,d,y))}else x=Ib(h,m,Math.min(m-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Hf(l)).precision==null&&(l.trim=!0),l=kk(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(w_(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function k_(){const e=Sk(X0()).domain([1,10]);return e.copy=()=>ym(e,k_()).base(e.base()),qa.apply(e,arguments),e}function gA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Nk(e){var t=1,n=e(gA(t),xA(t));return n.constant=function(r){return arguments.length?e(gA(t=+r),xA(t)):t},vl(n)}function S_(){var e=Nk(X0());return e.copy=function(){return ym(e,S_()).constant(e.constant())},qa.apply(e,arguments)}function vA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Hq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qq(e){return e<0?-e*e:e*e}function Ck(e){var t=e(_i,_i),n=1;function r(){return n===1?e(_i,_i):n===.5?e(Hq,qq):e(vA(n),vA(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},vl(t)}function jk(){var e=Ck(X0());return e.copy=function(){return ym(e,jk()).exponent(e.exponent())},qa.apply(e,arguments),e}function Kq(){return jk.apply(null,arguments).exponent(.5)}function yA(e){return Math.sign(e)*e*e}function Gq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function N_(){var e=bk(),t=[0,1],n=!1,r;function i(a){var s=Gq(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(yA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,yg)).map(yA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return N_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},qa.apply(i,arguments),vl(i)}function C_(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=Z7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[xm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(sl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return C_().domain(e).range(t).unknown(r)},qa.apply(a,arguments)}function j_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[xm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return j_().domain([e,t]).range(i).unknown(a)},qa.apply(vl(s),arguments)}function A_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[xm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return A_().domain(e).range(t).unknown(n)},qa.apply(i,arguments)}const vv=new Date,yv=new Date;function Wr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Wr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(vv.setTime(+a),yv.setTime(+s),e(vv),e(yv),Math.floor(n(vv,yv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const kg=Wr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):kg);kg.range;const eo=1e3,Ra=eo*60,to=Ra*60,po=to*24,Ak=po*7,bA=po*30,bv=po*365,Jl=Wr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getUTCSeconds());Jl.range;const Pk=Wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eo)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getMinutes());Pk.range;const Tk=Wr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getUTCMinutes());Tk.range;const Ek=Wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eo-e.getMinutes()*Ra)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getHours());Ek.range;const Dk=Wr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getUTCHours());Dk.range;const bm=Wr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ra)/po,e=>e.getDate()-1);bm.range;const Q0=Wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/po,e=>e.getUTCDate()-1);Q0.range;const P_=Wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/po,e=>Math.floor(e/po));P_.range;function Pc(e){return Wr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ra)/Ak)}const Z0=Pc(0),Sg=Pc(1),Yq=Pc(2),Xq=Pc(3),Hu=Pc(4),Qq=Pc(5),Zq=Pc(6);Z0.range;Sg.range;Yq.range;Xq.range;Hu.range;Qq.range;Zq.range;function Tc(e){return Wr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ak)}const J0=Tc(0),Ng=Tc(1),Jq=Tc(2),eK=Tc(3),qu=Tc(4),tK=Tc(5),nK=Tc(6);J0.range;Ng.range;Jq.range;eK.range;qu.range;tK.range;nK.range;const Mk=Wr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Mk.range;const Ok=Wr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ok.range;const go=Wr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());go.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});go.range;const xo=Wr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});xo.range;function T_(e,t,n,r,i,a){const s=[[Jl,1,eo],[Jl,5,5*eo],[Jl,15,15*eo],[Jl,30,30*eo],[a,1,Ra],[a,5,5*Ra],[a,15,15*Ra],[a,30,30*Ra],[i,1,to],[i,3,3*to],[i,6,6*to],[i,12,12*to],[r,1,po],[r,2,2*po],[n,1,Ak],[t,1,bA],[t,3,3*bA],[e,1,bv]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),p=m?m.range(c,+d+1):[];return h?p.reverse():p}function l(c,d,f){const h=Math.abs(d-c)/f,m=hk(([,,y])=>y).right(s,h);if(m===s.length)return e.every(Lb(c/bv,d/bv,f));if(m===0)return kg.every(Math.max(Lb(c,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[rK,iK]=T_(xo,Ok,J0,P_,Dk,Tk),[aK,sK]=T_(go,Mk,Z0,bm,Ek,Pk);function wv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ed(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function oK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Dd(i),d=Md(i),f=Dd(a),h=Md(a),m=Dd(s),p=Md(s),g=Dd(o),y=Md(o),x=Dd(l),b=Md(l),w={a:X,A:G,b:F,B:P,c:null,d:jA,e:jA,f:EK,g:BK,G:UK,H:AK,I:PK,j:TK,L:E_,m:DK,M:MK,p:A,q:te,Q:TA,s:EA,S:OK,u:IK,U:_K,V:LK,w:$K,W:FK,x:null,X:null,y:RK,Y:zK,Z:VK,"%":PA},k={a:S,A:U,b:q,B:ee,c:null,d:AA,e:AA,f:KK,g:rG,G:aG,H:WK,I:HK,j:qK,L:M_,m:GK,M:YK,p:K,q:re,Q:TA,s:EA,S:XK,u:QK,U:ZK,V:JK,w:eG,W:tG,x:null,X:null,y:nG,Y:iG,Z:sG,"%":PA},C={a:T,A:D,b:O,B:Z,c:J,d:NA,e:NA,f:SK,g:SA,G:kA,H:CA,I:CA,j:yK,L:kK,m:vK,M:bK,p:_,q:xK,Q:CK,s:jK,S:wK,u:fK,U:mK,V:hK,w:dK,W:pK,x:se,X:de,y:SA,Y:kA,Z:gK,"%":NK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),k.x=N(n,k),k.X=N(r,k),k.c=N(t,k);function N(R,H){return function(le){var ae=[],B=-1,V=0,L=R.length,ne,Ce,ze;for(le instanceof Date||(le=new Date(+le));++B<L;)R.charCodeAt(B)===37&&(ae.push(R.slice(V,B)),(Ce=wA[ne=R.charAt(++B)])!=null?ne=R.charAt(++B):Ce=ne==="e"?" ":"0",(ze=H[ne])&&(ne=ze(le,Ce)),ae.push(ne),V=B+1);return ae.push(R.slice(V,B)),ae.join("")}}function j(R,H){return function(le){var ae=Ed(1900,void 0,1),B=M(ae,R,le+="",0),V,L;if(B!=le.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(H&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(V=kv(Ed(ae.y,0,1)),L=V.getUTCDay(),V=L>4||L===0?Ng.ceil(V):Ng(V),V=Q0.offset(V,(ae.V-1)*7),ae.y=V.getUTCFullYear(),ae.m=V.getUTCMonth(),ae.d=V.getUTCDate()+(ae.w+6)%7):(V=wv(Ed(ae.y,0,1)),L=V.getDay(),V=L>4||L===0?Sg.ceil(V):Sg(V),V=bm.offset(V,(ae.V-1)*7),ae.y=V.getFullYear(),ae.m=V.getMonth(),ae.d=V.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),L="Z"in ae?kv(Ed(ae.y,0,1)).getUTCDay():wv(Ed(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(L+5)%7:ae.w+ae.U*7-(L+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,kv(ae)):wv(ae)}}function M(R,H,le,ae){for(var B=0,V=H.length,L=le.length,ne,Ce;B<V;){if(ae>=L)return-1;if(ne=H.charCodeAt(B++),ne===37){if(ne=H.charAt(B++),Ce=C[ne in wA?H.charAt(B++):ne],!Ce||(ae=Ce(R,le,ae))<0)return-1}else if(ne!=le.charCodeAt(ae++))return-1}return ae}function _(R,H,le){var ae=c.exec(H.slice(le));return ae?(R.p=d.get(ae[0].toLowerCase()),le+ae[0].length):-1}function T(R,H,le){var ae=m.exec(H.slice(le));return ae?(R.w=p.get(ae[0].toLowerCase()),le+ae[0].length):-1}function D(R,H,le){var ae=f.exec(H.slice(le));return ae?(R.w=h.get(ae[0].toLowerCase()),le+ae[0].length):-1}function O(R,H,le){var ae=x.exec(H.slice(le));return ae?(R.m=b.get(ae[0].toLowerCase()),le+ae[0].length):-1}function Z(R,H,le){var ae=g.exec(H.slice(le));return ae?(R.m=y.get(ae[0].toLowerCase()),le+ae[0].length):-1}function J(R,H,le){return M(R,t,H,le)}function se(R,H,le){return M(R,n,H,le)}function de(R,H,le){return M(R,r,H,le)}function X(R){return s[R.getDay()]}function G(R){return a[R.getDay()]}function F(R){return l[R.getMonth()]}function P(R){return o[R.getMonth()]}function A(R){return i[+(R.getHours()>=12)]}function te(R){return 1+~~(R.getMonth()/3)}function S(R){return s[R.getUTCDay()]}function U(R){return a[R.getUTCDay()]}function q(R){return l[R.getUTCMonth()]}function ee(R){return o[R.getUTCMonth()]}function K(R){return i[+(R.getUTCHours()>=12)]}function re(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var H=N(R+="",w);return H.toString=function(){return R},H},parse:function(R){var H=j(R+="",!1);return H.toString=function(){return R},H},utcFormat:function(R){var H=N(R+="",k);return H.toString=function(){return R},H},utcParse:function(R){var H=j(R+="",!0);return H.toString=function(){return R},H}}}var wA={"-":"",_:" ",0:"0"},ti=/^\s*\d+/,lK=/^%/,cK=/[\\^$*+?|[\]().{}]/g;function yn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function uK(e){return e.replace(cK,"\\$&")}function Dd(e){return new RegExp("^(?:"+e.map(uK).join("|")+")","i")}function Md(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function dK(e,t,n){var r=ti.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=ti.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pK(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kA(e,t,n){var r=ti.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function SA(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xK(e,t,n){var r=ti.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function vK(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function NA(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function yK(e,t,n){var r=ti.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function CA(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function bK(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function wK(e,t,n){var r=ti.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function kK(e,t,n){var r=ti.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function SK(e,t,n){var r=ti.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function NK(e,t,n){var r=lK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function CK(e,t,n){var r=ti.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function jK(e,t,n){var r=ti.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function jA(e,t){return yn(e.getDate(),t,2)}function AK(e,t){return yn(e.getHours(),t,2)}function PK(e,t){return yn(e.getHours()%12||12,t,2)}function TK(e,t){return yn(1+bm.count(go(e),e),t,3)}function E_(e,t){return yn(e.getMilliseconds(),t,3)}function EK(e,t){return E_(e,t)+"000"}function DK(e,t){return yn(e.getMonth()+1,t,2)}function MK(e,t){return yn(e.getMinutes(),t,2)}function OK(e,t){return yn(e.getSeconds(),t,2)}function IK(e){var t=e.getDay();return t===0?7:t}function _K(e,t){return yn(Z0.count(go(e)-1,e),t,2)}function D_(e){var t=e.getDay();return t>=4||t===0?Hu(e):Hu.ceil(e)}function LK(e,t){return e=D_(e),yn(Hu.count(go(e),e)+(go(e).getDay()===4),t,2)}function $K(e){return e.getDay()}function FK(e,t){return yn(Sg.count(go(e)-1,e),t,2)}function RK(e,t){return yn(e.getFullYear()%100,t,2)}function BK(e,t){return e=D_(e),yn(e.getFullYear()%100,t,2)}function zK(e,t){return yn(e.getFullYear()%1e4,t,4)}function UK(e,t){var n=e.getDay();return e=n>=4||n===0?Hu(e):Hu.ceil(e),yn(e.getFullYear()%1e4,t,4)}function VK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yn(t/60|0,"0",2)+yn(t%60,"0",2)}function AA(e,t){return yn(e.getUTCDate(),t,2)}function WK(e,t){return yn(e.getUTCHours(),t,2)}function HK(e,t){return yn(e.getUTCHours()%12||12,t,2)}function qK(e,t){return yn(1+Q0.count(xo(e),e),t,3)}function M_(e,t){return yn(e.getUTCMilliseconds(),t,3)}function KK(e,t){return M_(e,t)+"000"}function GK(e,t){return yn(e.getUTCMonth()+1,t,2)}function YK(e,t){return yn(e.getUTCMinutes(),t,2)}function XK(e,t){return yn(e.getUTCSeconds(),t,2)}function QK(e){var t=e.getUTCDay();return t===0?7:t}function ZK(e,t){return yn(J0.count(xo(e)-1,e),t,2)}function O_(e){var t=e.getUTCDay();return t>=4||t===0?qu(e):qu.ceil(e)}function JK(e,t){return e=O_(e),yn(qu.count(xo(e),e)+(xo(e).getUTCDay()===4),t,2)}function eG(e){return e.getUTCDay()}function tG(e,t){return yn(Ng.count(xo(e)-1,e),t,2)}function nG(e,t){return yn(e.getUTCFullYear()%100,t,2)}function rG(e,t){return e=O_(e),yn(e.getUTCFullYear()%100,t,2)}function iG(e,t){return yn(e.getUTCFullYear()%1e4,t,4)}function aG(e,t){var n=e.getUTCDay();return e=n>=4||n===0?qu(e):qu.ceil(e),yn(e.getUTCFullYear()%1e4,t,4)}function sG(){return"+0000"}function PA(){return"%"}function TA(e){return+e}function EA(e){return Math.floor(+e/1e3)}var Xc,I_,__;oG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oG(e){return Xc=oK(e),I_=Xc.format,Xc.parse,__=Xc.utcFormat,Xc.utcParse,Xc}function lG(e){return new Date(e)}function cG(e){return e instanceof Date?+e:+new Date(+e)}function Ik(e,t,n,r,i,a,s,o,l,c){var d=bk(),f=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),x=c("%a %d"),b=c("%b %d"),w=c("%B"),k=c("%Y");function C(N){return(l(N)<N?m:o(N)<N?p:s(N)<N?g:a(N)<N?y:r(N)<N?i(N)<N?x:b:n(N)<N?w:k)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,cG)):h().map(lG)},d.ticks=function(N){var j=h();return e(j[0],j[j.length-1],N??10)},d.tickFormat=function(N,j){return j==null?C:c(j)},d.nice=function(N){var j=h();return(!N||typeof N.range!="function")&&(N=t(j[0],j[j.length-1],N??10)),N?h(w_(j,N)):d},d.copy=function(){return ym(d,Ik(e,t,n,r,i,a,s,o,l,c))},d}function uG(){return qa.apply(Ik(aK,sK,go,Mk,Z0,bm,Ek,Pk,Jl,I_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dG(){return qa.apply(Ik(rK,iK,xo,Ok,J0,Q0,Dk,Tk,Jl,__).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ex(){var e=0,t=1,n,r,i,a,s=_i,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=d(nd),c.rangeRound=d(yk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function yl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function L_(){var e=vl(ex()(_i));return e.copy=function(){return yl(e,L_())},So.apply(e,arguments)}function $_(){var e=Sk(ex()).domain([1,10]);return e.copy=function(){return yl(e,$_()).base(e.base())},So.apply(e,arguments)}function F_(){var e=Nk(ex());return e.copy=function(){return yl(e,F_()).constant(e.constant())},So.apply(e,arguments)}function _k(){var e=Ck(ex());return e.copy=function(){return yl(e,_k()).exponent(e.exponent())},So.apply(e,arguments)}function fG(){return _k.apply(null,arguments).exponent(.5)}function R_(){var e=[],t=_i;function n(r){if(r!=null&&!isNaN(r=+r))return t((xm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(sl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Q7(e,a/r))},n.copy=function(){return R_(t).domain(e)},So.apply(n,arguments)}function tx(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,c=_i,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,c=Nq(g,[x,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=p(nd),m.rangeRound=p(yk),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function B_(){var e=vl(tx()(_i));return e.copy=function(){return yl(e,B_())},So.apply(e,arguments)}function z_(){var e=Sk(tx()).domain([.1,1,10]);return e.copy=function(){return yl(e,z_()).base(e.base())},So.apply(e,arguments)}function U_(){var e=Nk(tx());return e.copy=function(){return yl(e,U_()).constant(e.constant())},So.apply(e,arguments)}function Lk(){var e=Ck(tx());return e.copy=function(){return yl(e,Lk()).exponent(e.exponent())},So.apply(e,arguments)}function mG(){return Lk.apply(null,arguments).exponent(.5)}const Wd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gk,scaleDiverging:B_,scaleDivergingLog:z_,scaleDivergingPow:Lk,scaleDivergingSqrt:mG,scaleDivergingSymlog:U_,scaleIdentity:b_,scaleImplicit:$b,scaleLinear:y_,scaleLog:k_,scaleOrdinal:pk,scalePoint:eq,scalePow:jk,scaleQuantile:C_,scaleQuantize:j_,scaleRadial:N_,scaleSequential:L_,scaleSequentialLog:$_,scaleSequentialPow:_k,scaleSequentialQuantile:R_,scaleSequentialSqrt:fG,scaleSequentialSymlog:F_,scaleSqrt:Kq,scaleSymlog:S_,scaleThreshold:A_,scaleTime:uG,scaleUtc:dG,tickFormat:v_},Symbol.toStringTag,{value:"Module"}));var bl=e=>e.chartData,$k=ge([bl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Fk=(e,t,n,r)=>r?$k(e):bl(e);function ul(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Lr(t)&&Lr(n))return!0}return!1}function DA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function V_(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Lr(n))i=n;else if(typeof n=="function")return;if(Lr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ul(s))return s}}function hG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ul(r))return DA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(At(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&XC.test(i)){var l=XC.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(At(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&QC.test(a)){var d=QC.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(ul(h))return t==null?h:DA(h,t,n)}}}var rd=1e9,pG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Bk,ir=!0,Ha="[DecimalError] ",lc=Ha+"Invalid argument: ",Rk=Ha+"Exponent out of range: ",id=Math.floor,Vl=Math.pow,gG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fa,Qr=1e7,Zn=7,W_=9007199254740991,Cg=id(W_/Zn),vt={};vt.absoluteValue=vt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};vt.comparedTo=vt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};vt.decimalPlaces=vt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Zn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};vt.dividedBy=vt.div=function(e){return io(this,new this.constructor(e))};vt.dividedToIntegerBy=vt.idiv=function(e){var t=this,n=t.constructor;return Fn(io(t,new n(e),0,1),n.precision)};vt.equals=vt.eq=function(e){return!this.cmp(e)};vt.exponent=function(){return _r(this)};vt.greaterThan=vt.gt=function(e){return this.cmp(e)>0};vt.greaterThanOrEqualTo=vt.gte=function(e){return this.cmp(e)>=0};vt.isInteger=vt.isint=function(){return this.e>this.d.length-2};vt.isNegative=vt.isneg=function(){return this.s<0};vt.isPositive=vt.ispos=function(){return this.s>0};vt.isZero=function(){return this.s===0};vt.lessThan=vt.lt=function(e){return this.cmp(e)<0};vt.lessThanOrEqualTo=vt.lte=function(e){return this.cmp(e)<1};vt.logarithm=vt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(fa))throw Error(Ha+"NaN");if(n.s<1)throw Error(Ha+(n.s?"NaN":"-Infinity"));return n.eq(fa)?new r(0):(ir=!1,t=io(qf(n,a),qf(e,a),a),ir=!0,Fn(t,i))};vt.minus=vt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?K_(t,e):H_(t,(e.s=-e.s,e))};vt.modulo=vt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ha+"NaN");return n.s?(ir=!1,t=io(n,e,0,1).times(e),ir=!0,n.minus(t)):Fn(new r(n),i)};vt.naturalExponential=vt.exp=function(){return q_(this)};vt.naturalLogarithm=vt.ln=function(){return qf(this)};vt.negated=vt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};vt.plus=vt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?H_(t,e):K_(t,(e.s=-e.s,e))};vt.precision=vt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lc+e);if(t=_r(i)+1,r=i.d.length-1,n=r*Zn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};vt.squareRoot=vt.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ha+"NaN")}for(e=_r(o),ir=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Es(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=id((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(io(o,a,s+2)).times(.5),Es(a.d).slice(0,s)===(t=Es(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Fn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return ir=!0,Fn(r,n)};vt.times=vt.mul=function(e){var t,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%Qr|0,t=o/Qr|0;a[i]=(a[i]+t)%Qr|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,ir?Fn(e,f.precision):e};vt.toDecimalPlaces=vt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Fs(e,0,rd),t===void 0?t=r.rounding:Fs(t,0,8),Fn(n,e+_r(n)+1,t))};vt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=wc(r,!0):(Fs(e,0,rd),t===void 0?t=i.rounding:Fs(t,0,8),r=Fn(new i(r),e+1,t),n=wc(r,!0,e+1)),n};vt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?wc(i):(Fs(e,0,rd),t===void 0?t=a.rounding:Fs(t,0,8),r=Fn(new a(i),e+_r(i)+1,t),n=wc(r.abs(),!1,e+_r(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};vt.toInteger=vt.toint=function(){var e=this,t=e.constructor;return Fn(new t(e),_r(e)+1,t.rounding)};vt.toNumber=function(){return+this};vt.toPower=vt.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(fa);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ha+"Infinity");return o}if(o.eq(fa))return o;if(r=l.precision,e.eq(fa))return Fn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=W_){for(i=new l(fa),t=Math.ceil(r/Zn+4),ir=!1;n%2&&(i=i.times(o),OA(i.d,t)),n=id(n/2),n!==0;)o=o.times(o),OA(o.d,t);return ir=!0,e.s<0?new l(fa).div(i):Fn(i,r)}}else if(a<0)throw Error(Ha+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,ir=!1,i=e.times(qf(o,r+c)),ir=!0,i=q_(i),i.s=a,i};vt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=_r(i),r=wc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fs(e,1,rd),t===void 0?t=a.rounding:Fs(t,0,8),i=Fn(new a(i),e,t),n=_r(i),r=wc(i,e<=n||n<=a.toExpNeg,e)),r};vt.toSignificantDigits=vt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Fs(e,1,rd),t===void 0?t=r.rounding:Fs(t,0,8)),Fn(new r(n),e,t)};vt.toString=vt.valueOf=vt.val=vt.toJSON=vt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_r(e),n=e.constructor;return wc(e,t<=n.toExpNeg||t>=n.toExpPos)};function H_(e,t){var n,r,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ir?Fn(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/Zn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Qr|0,l[a]%=Qr;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,ir?Fn(t,f):t}function Fs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(lc+e)}function Es(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=Zn-r.length,n&&(a+=zo(n)),a+=r;s=e[t],r=s+"",n=Zn-r.length,n&&(a+=zo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var io=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Qr|0,s=a/Qr|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Qr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,m,p,g,y,x,b,w,k,C,N,j,M,_=r.constructor,T=r.s==i.s?1:-1,D=r.d,O=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(Ha+"Division by zero");for(l=r.e-i.e,j=O.length,C=D.length,m=new _(T),p=m.d=[],c=0;O[c]==(D[c]||0);)++c;if(O[c]>(D[c]||0)&&--l,a==null?b=a=_.precision:s?b=a+(_r(r)-_r(i))+1:b=a,b<0)return new _(0);if(b=b/Zn+2|0,c=0,j==1)for(d=0,O=O[0],b++;(c<C||d)&&b--;c++)w=d*Qr+(D[c]||0),p[c]=w/O|0,d=w%O|0;else{for(d=Qr/(O[0]+1)|0,d>1&&(O=e(O,d),D=e(D,d),j=O.length,C=D.length),k=j,g=D.slice(0,j),y=g.length;y<j;)g[y++]=0;M=O.slice(),M.unshift(0),N=O[0],O[1]>=Qr/2&&++N;do d=0,o=t(O,g,j,y),o<0?(x=g[0],j!=y&&(x=x*Qr+(g[1]||0)),d=x/N|0,d>1?(d>=Qr&&(d=Qr-1),f=e(O,d),h=f.length,y=g.length,o=t(f,g,h,y),o==1&&(d--,n(f,j<h?M:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),o==-1&&(y=g.length,o=t(O,g,j,y),o<1&&(d++,n(g,j<y?M:O,y))),y=g.length):o===0&&(d++,g=[0]),p[c++]=d,o&&g[0]?g[y++]=D[k]||0:(g=[D[k]],y=1);while((k++<C||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=l,Fn(m,s?a+_r(m)+1:a)}}();function q_(e,t){var n,r,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(_r(e)>16)throw Error(Rk+_r(e));if(!e.s)return new d(fa);for(ir=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(Vl(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(fa),d.precision=o;;){if(i=Fn(i.times(e),o),n=n.times(++l),s=a.plus(io(i,n,o)),Es(s.d).slice(0,o)===Es(a.d).slice(0,o)){for(;c--;)a=Fn(a.times(a),o);return d.precision=f,t==null?(ir=!0,Fn(a,f)):a}a=s}}function _r(e){for(var t=e.e*Zn,n=e.d[0];n>=10;n/=10)t++;return t}function Sv(e,t,n){if(t>e.LN10.sd())throw ir=!0,n&&(e.precision=n),Error(Ha+"LN10 precision limit exceeded");return Fn(new e(e.LN10),t)}function zo(e){for(var t="";e--;)t+="0";return t}function qf(e,t){var n,r,i,a,s,o,l,c,d,f=1,h=10,m=e,p=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Ha+(m.s?"NaN":"-Infinity"));if(m.eq(fa))return new g(0);if(t==null?(ir=!1,c=y):c=t,m.eq(10))return t==null&&(ir=!0),Sv(g,c);if(c+=h,g.precision=c,n=Es(p),r=n.charAt(0),a=_r(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Es(m.d),r=n.charAt(0),f++;a=_r(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return l=Sv(g,c+2,y).times(a+""),m=qf(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(ir=!0,Fn(m,y)):m;for(o=s=m=io(m.minus(fa),m.plus(fa),c),d=Fn(m.times(m),c),i=3;;){if(s=Fn(s.times(d),c),l=o.plus(io(s,new g(i),c)),Es(l.d).slice(0,c)===Es(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(Sv(g,c+2,y).times(a+""))),o=io(o,new g(f),c),g.precision=y,t==null?(ir=!0,Fn(o,y)):o;o=l,i+=2}}function MA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=id(n/Zn),e.d=[],r=(n+1)%Zn,n<0&&(r+=Zn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Zn;r<i;)e.d.push(+t.slice(r,r+=Zn));t=t.slice(r),r=Zn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ir&&(e.e>Cg||e.e<-Cg))throw Error(Rk+n)}else e.s=0,e.e=0,e.d=[0];return e}function Fn(e,t,n){var r,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=Zn,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Zn),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=Zn,i=r-Zn+s}if(n!==void 0&&(a=Vl(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Vl(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=_r(e),f.length=1,t=t-a-1,f[0]=Vl(10,(Zn-t%Zn)%Zn),e.e=id(-t/Zn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Vl(10,Zn-r),f[d]=i>0?(c/Vl(10,s-i)%Vl(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==Qr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Qr)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(ir&&(e.e>Cg||e.e<-Cg))throw Error(Rk+_r(e));return e}function K_(e,t){var n,r,i,a,s,o,l,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ir?Fn(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/Zn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Qr-1;--l[a],l[i]+=Qr}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,ir?Fn(t,m):t):new h(0)}function wc(e,t,n){var r,i=_r(e),a=Es(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+zo(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zo(-i-1)+a,n&&(r=n-s)>0&&(a+=zo(r))):i>=s?(a+=zo(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+zo(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=zo(r))),e.s<0?"-"+a:a}function OA(e,t){if(e.length>t)return e.length=t,!0}function G_(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(lc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return MA(s,a.toString())}else if(typeof a!="string")throw Error(lc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,gG.test(a))MA(s,a);else throw Error(lc+a)}if(i.prototype=vt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=G_,i.config=i.set=xG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function xG(e){if(!e||typeof e!="object")throw Error(Ha+"Object expected");var t,n,r,i=["precision",1,rd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(id(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(lc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(lc+n+": "+r);return this}var Bk=G_(pG);fa=new Bk(1);const Mn=Bk;var vG=e=>e,Y_={},X_=e=>e===Y_,IA=e=>function t(){return arguments.length===0||arguments.length===1&&X_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Q_=(e,t)=>e===1?t:IA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==Y_).length;return a>=e?t(...r):Q_(e-a,IA(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(d=>X_(d)?o.shift():d);return t(...c,...o)}))}),yG=e=>Q_(e.length,e),zb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},bG=yG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),wG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return vG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function Z_(e){var t;return e===0?t=1:t=Math.floor(new Mn(e).abs().log(10).toNumber())+1,t}function J_(e,t,n){for(var r=new Mn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var e3=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},t3=(e,t,n)=>{if(e.lte(0))return new Mn(0);var r=Z_(e.toNumber()),i=new Mn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Mn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Mn(l.toNumber()):new Mn(Math.ceil(l.toNumber()))},kG=(e,t,n)=>{var r=new Mn(1),i=new Mn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Mn(10).pow(Z_(e)-1),i=new Mn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Mn(Math.floor(e)))}else e===0?i=new Mn(Math.floor((t-1)/2)):n||(i=new Mn(Math.floor(e)));var s=Math.floor((t-1)/2),o=wG(bG(l=>i.add(new Mn(l-s).mul(r)).toNumber()),zb);return o(0,t)},n3=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Mn(0),tickMin:new Mn(0),tickMax:new Mn(0)};var s=t3(new Mn(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Mn(0):(o=new Mn(t).add(n).div(2),o=o.sub(new Mn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Mn(n).sub(o).div(s).toNumber()),d=l+c+1;return d>r?n3(t,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Mn(l).mul(s)),tickMax:o.add(new Mn(c).mul(s))})},SG=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=e3([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...zb(0,i-1).map(()=>1/0)]:[...zb(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return kG(o,i,a);var{step:d,tickMin:f,tickMax:h}=n3(o,l,s,a,0),m=J_(f,h.add(new Mn(.1).mul(d)),d);return n>r?m.reverse():m},NG=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=e3([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=t3(new Mn(o).sub(s).div(l-1),a,0),d=[...J_(new Mn(s),new Mn(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},CG=e=>e.rootProps.barCategoryGap,wm=e=>e.rootProps.stackOffset,r3=e=>e.rootProps.reverseStackOrder,zk=e=>e.options.chartName,Uk=e=>e.rootProps.syncId,i3=e=>e.rootProps.syncMethod,Vk=e=>e.options.eventEmitter,ci={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ys={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},da={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},nx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},jG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ys.angleAxisId,includeHidden:!1,name:void 0,reversed:Ys.reversed,scale:Ys.scale,tick:Ys.tick,tickCount:void 0,ticks:void 0,type:Ys.type,unit:void 0},AG={allowDataOverflow:da.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:da.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:da.scale,tick:da.tick,tickCount:da.tickCount,ticks:void 0,type:da.type,unit:void 0},PG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ys.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ys.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ys.scale,tick:Ys.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},TG={allowDataOverflow:da.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:da.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:da.scale,tick:da.tick,tickCount:da.tickCount,ticks:void 0,type:"category",unit:void 0},Wk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?PG:jG,Hk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?TG:AG,rx=e=>e.polarOptions,qk=ge([wo,ko,ei],n_),a3=ge([rx,qk],(e,t)=>{if(e!=null)return ga(e.innerRadius,t,0)}),s3=ge([rx,qk],(e,t)=>{if(e!=null)return ga(e.outerRadius,t,t*.8)}),EG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},o3=ge([rx],EG);ge([Wk,o3],nx);var l3=ge([qk,a3,s3],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ge([Hk,l3],nx);var c3=ge([$n,rx,a3,s3,wo,ko],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:ga(s,i,i/2),cy:ga(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),ar=(e,t)=>t,km=(e,t,n)=>n;function u3(e){return e==null?void 0:e.id}function d3(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=u3(o);c.forEach((f,h)=>{var m=a==null||i?h:String(er(f,a,null)),p=er(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[d]:p}),s.set(m,g)})}}),Array.from(s.values())}function Kk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var ix=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ax(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function DG(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Hr=e=>{var t=$n(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ad=e=>e.tooltip.settings.axisId;function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(r){MG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MG(e,t,n){return(t=OG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OG(e){var t=IG(e,"string");return typeof t=="symbol"?t:t+""}function IG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ub=[0,"auto"],Yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},f3=(e,t)=>e.cartesianAxis.xAxis[t],No=(e,t)=>{var n=f3(e,t);return n??Yr},Xr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ub,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hm},m3=(e,t)=>e.cartesianAxis.yAxis[t],Co=(e,t)=>{var n=m3(e,t);return n??Xr},_G={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Gk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??_G},mr=(e,t,n)=>{switch(t){case"xAxis":return No(e,n);case"yAxis":return Co(e,n);case"zAxis":return Gk(e,n);case"angleAxis":return Wk(e,n);case"radiusAxis":return Hk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},LG=(e,t,n)=>{switch(t){case"xAxis":return No(e,n);case"yAxis":return Co(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Sm=(e,t,n)=>{switch(t){case"xAxis":return No(e,n);case"yAxis":return Co(e,n);case"angleAxis":return Wk(e,n);case"radiusAxis":return Hk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},h3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Yk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var p3=e=>e.graphicalItems.cartesianItems,$G=ge([ar,km],Yk),Xk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Nm=ge([p3,mr,$G],Xk,{memoizeOptions:{resultEqualityCheck:ax}}),g3=ge([Nm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Kk)),x3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),FG=ge([Nm],x3),Qk=e=>e.map(t=>t.data).filter(Boolean).flat(1),RG=ge([Nm],Qk,{memoizeOptions:{resultEqualityCheck:ax}}),Zk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Jk=ge([RG,Fk],Zk),eS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:er(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:er(i,r)}))):e.map(r=>({value:r})),sx=ge([Jk,mr,Nm],eS);function v3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lp(e){if(Ls(e)||e instanceof Date){var t=Number(e);if(Lr(t))return t}}function LA(e){if(Array.isArray(e)){var t=[lp(e[0]),lp(e[1])];return ul(t)?t:void 0}var n=lp(e);if(n!=null)return[n,n]}function vo(e){return e.map(lp).filter(tV)}function BG(e,t,n){return!n||typeof t!="number"||_s(t)?[]:n.length?vo(n.flatMap(r=>{var i=er(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Lr(a)||!Lr(s)))return[t-a,t+s]})):[]}var qr=e=>{var t=Hr(e),n=ad(e);return Sm(e,t,n)},Cm=ge([qr],e=>e==null?void 0:e.dataKey),zG=ge([g3,Fk,qr],d3),y3=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,d=c.map(u3);return[o,{stackedData:xW(e,d,n),graphicalItems:c}]}))},UG=ge([zG,g3,wm,r3],y3),b3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=bW(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},VG=ge([mr],e=>e.allowDataOverflow),tS=e=>{var t;if(e==null||!("domain"in e))return Ub;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=vo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ub},nS=ge([mr],tS),rS=ge([nS,VG],V_),WG=ge([UG,bl,ar,rS],b3,{memoizeOptions:{resultEqualityCheck:ix}}),ox=e=>e.errorBars,HG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>v3(n,r)),Ag=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},iS=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(x=>v3(i,x)),h=er(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=BG(o,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||g>s)&&(s=g)}var y=LA(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=LA(er(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Lr(a)&&Lr(s))return[a,s]},qG=ge([Jk,mr,FG,ox,ar],iS,{memoizeOptions:{resultEqualityCheck:ix}});function KG(e){var{value:t}=e;if(Ls(t)||t instanceof Date)return t}var GG=(e,t,n)=>{var r=e.map(KG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&h5(r))?c_(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},w3=e=>e.referenceElements.dots,sd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),YG=ge([w3,ar,km],sd),k3=e=>e.referenceElements.areas,XG=ge([k3,ar,km],sd),S3=e=>e.referenceElements.lines,QG=ge([S3,ar,km],sd),N3=(e,t)=>{if(e!=null){var n=vo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ZG=ge(YG,ar,N3),C3=(e,t)=>{if(e!=null){var n=vo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},JG=ge([XG,ar],C3);function eY(e){var t;if(e.x!=null)return vo([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:vo(n)}function tY(e){var t;if(e.y!=null)return vo([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:vo(n)}var j3=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?eY(r):tY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},nY=ge([QG,ar],j3),rY=ge(ZG,nY,JG,(e,t,n)=>Ag(e,n,t)),aS=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Ag(r,a,i):Ag(a,i);return hG(t,c,e.allowDataOverflow)},iY=ge([mr,nS,rS,WG,qG,rY,$n,ar],aS,{memoizeOptions:{resultEqualityCheck:ix}}),aY=[0,1],sS=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=xl(t,a);if(c&&o==null){var d;return c_(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?GG(r,e,c):i==="expand"?aY:s}},oS=ge([mr,$n,Jk,sx,wm,ar,iY],sS),A3=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(um(a));return o in Wd?o:"point"}}},od=ge([mr,$n,h3,zk,ar],A3);function sY(e){if(e!=null){if(e in Wd)return Wd[e]();var t="scale".concat(um(e));if(t in Wd)return Wd[t]()}}function lS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=sY(t);if(i!=null){var a=i.domain(n).range(r);return mW(a),a}}}var cS=(e,t,n)=>{var r=tS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ul(e))return SG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ul(e))return NG(e,t.tickCount,t.allowDecimals)}},uS=ge([oS,Sm,od],cS),dS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ul(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},oY=ge([mr,oS,uS,ar],dS),lY=ge(sx,mr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(vo(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/s}}),P3=ge(lY,$n,CG,ei,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Lr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ga(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),cY=(e,t,n)=>{var r=No(e,t);return r==null||typeof r.padding!="string"?0:P3(e,"xAxis",t,n,r.padding)},uY=(e,t,n)=>{var r=Co(e,t);return r==null||typeof r.padding!="string"?0:P3(e,"yAxis",t,n,r.padding)},dY=ge(No,cY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),fY=ge(Co,uY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),mY=ge([ei,dY,z0,B0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),hY=ge([ei,$n,fY,z0,B0,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),jm=(e,t,n,r)=>{var i;switch(t){case"xAxis":return mY(e,n,r);case"yAxis":return hY(e,n,r);case"zAxis":return(i=Gk(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return o3(e);case"radiusAxis":return l3(e,n);default:return}},T3=ge([mr,jm],nx),lx=ge([mr,od,oY,T3],lS);ge([Nm,ox,ar],HG);function E3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var cx=(e,t)=>t,ux=(e,t,n)=>n,pY=ge(F0,cx,ux,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(E3)),gY=ge(R0,cx,ux,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(E3)),D3=(e,t)=>({width:e.width,height:t.height}),xY=(e,t)=>{var n=typeof t.width=="number"?t.width:hm;return{width:n,height:e.height}},vY=ge(ei,No,D3),yY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},bY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},wY=ge(ko,ei,pY,cx,ux,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=D3(t,o);s==null&&(s=yY(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),kY=ge(wo,ei,gY,cx,ux,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=xY(t,o);s==null&&(s=bY(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),SY=(e,t)=>{var n=No(e,t);if(n!=null)return wY(e,n.orientation,n.mirror)},NY=ge([ei,No,SY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),CY=(e,t)=>{var n=Co(e,t);if(n!=null)return kY(e,n.orientation,n.mirror)},jY=ge([ei,Co,CY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),AY=ge(ei,Co,(e,t)=>{var n=typeof t.width=="number"?t.width:hm;return{width:n,height:e.height}}),M3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=xl(e,r),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&h5(l))return l}},fS=ge([$n,sx,mr,ar],M3),O3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=xl(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},mS=ge([$n,sx,Sm,ar],O3),$A=ge([$n,LG,od,lx,fS,mS,jm,uS,ar],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var c=xl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),PY=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var c=xl(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?wi(a[0]-a[1])*2*p:p;var g=f||i;if(g){var y=g.map((x,b)=>{var w=s?s.indexOf(x):x;return{index:b,coordinate:r(w)+p,value:x,offset:p}});return y.filter(x=>Lr(x.coordinate))}return c&&o?o.map((x,b)=>({coordinate:r(x)+p,value:x,index:b,offset:p})).filter(x=>Lr(x.coordinate)):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,b)=>({coordinate:r(x)+p,value:s?s[x]:x,index:b,offset:p}))}},I3=ge([$n,Sm,od,lx,uS,jm,fS,mS,ar],PY),TY=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=xl(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?wi(r[0]-r[1])*2*c:c,o&&a?a.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},_3=ge([$n,Sm,lx,jm,fS,mS,ar],TY),L3=ge(mr,lx,(e,t)=>{if(!(e==null||t==null))return jg(jg({},e),{},{scale:t})}),EY=ge([mr,od,oS,T3],lS);ge((e,t,n)=>Gk(e,n),EY,(e,t)=>{if(!(e==null||t==null))return jg(jg({},e),{},{scale:t})});var DY=ge([$n,F0,R0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$3=e=>e.options.defaultTooltipEventType,F3=e=>e.options.validateTooltipEventTypes;function R3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function hS(e,t){var n=$3(e),r=F3(e);return R3(t,n,r)}function MY(e){return Ct(t=>hS(t,e))}var B3=(e,t)=>{var n,r=Number(t);if(!(_s(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},OY=e=>e.tooltip.settings,qo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},IY={itemInteraction:{click:qo,hover:qo},axisInteraction:{click:qo,hover:qo},keyboardInteraction:qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},z3=na({name:"tooltip",initialState:IY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:nr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ls(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:nr()},removeTooltipEntrySettings:{reducer(e,t){var n=ls(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:nr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:_Y,replaceTooltipEntrySettings:LY,removeTooltipEntrySettings:$Y,setTooltipSettingsState:FY,setActiveMouseOverItemIndex:U3,mouseLeaveItem:RY,mouseLeaveChart:V3,setActiveClickItemIndex:BY,setMouseOverAxisIndex:W3,setMouseClickAxisIndex:zY,setSyncInteraction:Vb,setKeyboardInteraction:Wb}=z3.actions,UY=z3.reducer;function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){VY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VY(e,t,n){return(t=WY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WY(e){var t=HY(e,"string");return typeof t=="symbol"?t:t+""}function HY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function KY(e){return e.index!=null}var H3=(e,t,n,r)=>{if(t==null)return qo;var i=qY(e,t,n);if(i==null)return qo;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(KY(i)){if(a)return Ih(Ih({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ih(Ih({},qo),{},{coordinate:i.coordinate})};function GY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function YY(e,t){var n=GY(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function XY(e,t,n){if(n==null||t==null)return!0;var r=er(e,t);return r==null||!ul(n)?!0:YY(r,n)}var pS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Lr(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||XY(c,n,r)?String(l):null},q3=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},K3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Am=e=>e.options.tooltipPayloadSearcher,ld=e=>e.tooltip;function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){QY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QY(e,t,n){return(t=ZY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZY(e){var t=JY(e,"string");return typeof t=="symbol"?t:t+""}function JY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eX(e,t){return e??t}var G3=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:y}=m,x=eX(g,o),b=Array.isArray(x)?NI(x,c,d):x,w=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,k=y==null?void 0:y.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?C=p5(b,r,i):C=a(b,t,l,k),Array.isArray(C))C.forEach(j=>{var M=BA(BA({},y),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(ZC({tooltipEntrySettings:M,dataKey:j.dataKey,payload:j.payload,value:er(j.payload,j.dataKey),name:j.name}))});else{var N;h.push(ZC({tooltipEntrySettings:y,dataKey:w,payload:C,value:er(C,w),name:(N=er(C,k))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},gS=ge([qr,$n,h3,zk,Hr],A3),tX=ge([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),nX=ge([Hr,ad],Yk),cd=ge([tX,qr,nX],Xk,{memoizeOptions:{resultEqualityCheck:ax}}),rX=ge([cd],e=>e.filter(Kk)),iX=ge([cd],Qk,{memoizeOptions:{resultEqualityCheck:ax}}),ud=ge([iX,bl],Zk),aX=ge([rX,bl,qr],d3),xS=ge([ud,qr,cd],eS),Y3=ge([qr],tS),sX=ge([qr],e=>e.allowDataOverflow),X3=ge([Y3,sX],V_),oX=ge([cd],e=>e.filter(Kk)),lX=ge([aX,oX,wm,r3],y3),cX=ge([lX,bl,Hr,X3],b3),uX=ge([cd],x3),dX=ge([ud,qr,uX,ox,Hr],iS,{memoizeOptions:{resultEqualityCheck:ix}}),fX=ge([w3,Hr,ad],sd),mX=ge([fX,Hr],N3),hX=ge([k3,Hr,ad],sd),pX=ge([hX,Hr],C3),gX=ge([S3,Hr,ad],sd),xX=ge([gX,Hr],j3),vX=ge([mX,xX,pX],Ag),yX=ge([qr,Y3,X3,cX,dX,vX,$n,Hr],aS),Pm=ge([qr,$n,ud,xS,wm,Hr,yX],sS),bX=ge([Pm,qr,gS],cS),wX=ge([qr,Pm,bX,Hr],dS),Q3=e=>{var t=Hr(e),n=ad(e),r=!1;return jm(e,t,n,r)},Z3=ge([qr,Q3],nx),J3=ge([qr,gS,wX,Z3],lS),kX=ge([$n,xS,qr,Hr],M3),SX=ge([$n,xS,qr,Hr],O3),NX=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=xl(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?wi(i[0]-i[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},jo=ge([$n,qr,gS,J3,Q3,kX,SX,Hr],NX),vS=ge([$3,F3,OY],(e,t,n)=>R3(n.shared,e,t)),eL=e=>e.tooltip.settings.trigger,yS=e=>e.tooltip.settings.defaultIndex,Tm=ge([ld,vS,eL,yS],H3),Ku=ge([Tm,ud,Cm,Pm],pS),tL=ge([jo,Ku],B3),nL=ge([Tm],e=>{if(e)return e.dataKey}),CX=ge([Tm],e=>{if(e)return e.graphicalItemId}),rL=ge([ld,vS,eL,yS],K3),jX=ge([wo,ko,$n,ei,jo,yS,rL,Am],q3),AX=ge([Tm,jX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),PX=ge([Tm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),TX=ge([rL,Ku,bl,Cm,tL,Am,vS],G3),EX=ge([TX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){DX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DX(e,t,n){return(t=MX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IX=()=>Ct(qr),_X=()=>{var e=IX(),t=Ct(jo),n=Ct(J3);return ag(!e||!n?void 0:UA(UA({},e),{},{scale:n}),t)};function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){LX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LX(e,t,n){return(t=$X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $X(e){var t=FX(e,"string");return typeof t=="symbol"?t:t+""}function FX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},BX=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Qc(Qc(Qc({},r),Ir(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Qc(Qc(Qc({},r),Ir(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function zX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var iL=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,g=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||g==null))if(wi(p-m)!==wi(g-p)){var x=[];if(wi(g-p)===wi(i[1]-i[0])){y=g;var b=p+i[1]-i[0];x[0]=Math.min(b,(b+m)/2),x[1]=Math.max(b,(b+m)/2)}else{y=m;var w=g+i[1]-i[0];x[0]=Math.min(p,(w+p)/2),x[1]=Math.max(p,(w+p)/2)}var k=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>k[0]&&e<=k[1]||e>=x[0]&&e<=x[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,g),j=Math.max(m,g);if(e>(N+p)/2&&e<=(j+p)/2){var M;return(M=n[o])===null||M===void 0?void 0:M.index}}}else if(t)for(var _=0;_<s;_++){var T=t[_];if(T!=null){var D=t[_+1],O=t[_-1];if(_===0&&D!=null&&e<=(T.coordinate+D.coordinate)/2||_===s-1&&O!=null&&e>(T.coordinate+O.coordinate)/2||_>0&&_<s-1&&O!=null&&D!=null&&e>(T.coordinate+O.coordinate)/2&&e<=(T.coordinate+D.coordinate)/2)return T.index}}return-1},UX=()=>Ct(zk),bS=(e,t)=>t,aL=(e,t,n)=>n,wS=(e,t,n,r)=>r,VX=ge(jo,e=>A0(e,t=>t.coordinate)),kS=ge([ld,bS,aL,wS],H3),SS=ge([kS,ud,Cm,Pm],pS),WX=(e,t,n)=>{if(t!=null){var r=ld(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},sL=ge([ld,bS,aL,wS],K3),Pg=ge([wo,ko,$n,ei,jo,wS,sL,Am],q3),HX=ge([kS,Pg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),oL=ge([jo,SS],B3),qX=ge([sL,SS,bl,Cm,oL,Am,bS],G3),KX=ge([kS,SS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),GX=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&zX(e,s)){var o=wW(e,t),l=iL(o,a,i,n,r),c=RX(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},YX=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=I7(e,n);if(o){var l=kW(o,t),c=iL(l,s,a,r,i),d=BX(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},XX=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?GX(e,t,r,i,a,s,o):YX(e,t,n,r,i,a,s)},QX=ge(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),ZX=ge(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ci)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:DG}});function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){JX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JX(e,t,n){return(t=eQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eQ(e){var t=tQ(e,"string");return typeof t=="symbol"?t:t+""}function tQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nQ={},rQ={zIndexMap:Object.values(ci).reduce((e,t)=>HA(HA({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),nQ)},iQ=new Set(Object.values(ci));function aQ(e){return iQ.has(e)}var lL=na({name:"zIndex",initialState:rQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:nr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!aQ(n)&&delete e.zIndexMap[n])},prepare:nr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:nr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:nr()}}}),{registerZIndexPortal:sQ,unregisterZIndexPortal:oQ,registerZIndexPortalElement:lQ,unregisterZIndexPortalElement:cQ}=lL.actions,uQ=lL.reducer;function vs(e){var{zIndex:t,children:n}=e,r=YW(),i=r&&t!==void 0&&t!==0,a=ra(),s=Hn();v.useLayoutEffect(()=>i?(s(sQ({zIndex:t})),()=>{s(oQ({zIndex:t}))}):dm,[s,t,i]);var o=Ct(l=>QX(l,t,a));return i?o?td.createPortal(n,o):null:n}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(null,arguments)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){dQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dQ(e,t,n){return(t=fQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fQ(e){var t=mQ(e,"string");return typeof t=="symbol"?t:t+""}function mQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function pQ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,g,y;if(d==="ScatterChart")p=f,g=GH,y=ci.cursorLine;else if(d==="BarChart")p=YH(o,f,a,s),g=t_,y=ci.cursorRectangle;else if(o==="radial"&&x5(f)){var{cx:x,cy:b,radius:w,startAngle:k,endAngle:C}=r_(f);p={cx:x,cy:b,startAngle:k,endAngle:C,innerRadius:w,outerRadius:w},g=a_,y=ci.cursorLine}else p={points:F7(o,f,a)},g=mk,y=ci.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,j=_h(_h(_h(_h({stroke:"#ccc",pointerEvents:"none"},a),p),Ru(l)),{},{payload:h,payloadIndex:m,className:Cn("recharts-tooltip-cursor",N)});return v.createElement(vs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},v.createElement(hQ,{cursor:l,cursorComp:g,cursorProps:j}))}function gQ(e){var t=_X(),n=FI(),r=pm(),i=UX();return t==null||n==null||r==null||i==null?null:v.createElement(pQ,Hb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var cL=v.createContext(null),xQ=()=>v.useContext(cL),uL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,p){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var k=y.length,C;for(w=0;w<k;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(C=1,b=new Array(x-1);C<x;C++)b[C-1]=arguments[C];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,y=[],x=p.length;g<x;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(uL);var vQ=uL.exports;const yQ=gs(vQ);var Kf=new yQ,qb="recharts.syncEvent.tooltip",KA="recharts.syncEvent.brush";function dL(e,t){if(t){var n=Number.parseInt(t,10);if(!_s(n))return e==null?void 0:e[n]}}var bQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},fL=na({name:"options",initialState:bQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wQ=fL.reducer,{createEventEmitter:kQ}=fL.actions;function SQ(e){return e.tooltip.syncInteraction}var NQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},mL=na({name:"chartData",initialState:NQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:GA,setDataStartEndIndexes:CQ,setComputedData:wge}=mL.actions,jQ=mL.reducer,AQ=["x","y"];function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){PQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PQ(e,t,n){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DQ(e,t){if(e==null)return{};var n,r,i=MQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function OQ(){var e=Ct(Uk),t=Ct(Vk),n=Hn(),r=Ct(i3),i=Ct(jo),a=pm(),s=U0(),o=Ct(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return dm;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,y=DQ(m,AQ),{x,y:b,width:w,height:k}=d.payload.sourceViewBox,C=Zc(Zc({},y),{},{x:s.x+(w?(p-x)/w:0)*s.width,y:s.y+(k?(g-b)/k:0)*s.height});n(Zc(Zc({},d),{},{payload:Zc(Zc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var N;if(typeof r=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},M=r(i,j);N=i[M]}else r==="value"&&(N=i.find(de=>String(de.value)===d.payload.label));var{coordinate:_}=d.payload;if(N==null||d.payload.active===!1||_==null||s==null){n(Vb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:D}=_,O=Math.min(T,s.x+s.width),Z=Math.min(D,s.y+s.height),J={x:a==="horizontal"?N.coordinate:O,y:a==="horizontal"?Z:N.coordinate},se=Vb({active:d.payload.active,coordinate:J,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(se)}}};return Kf.on(qb,l),()=>{Kf.off(qb,l)}},[o,n,t,e,r,i,a,s])}function IQ(){var e=Ct(Uk),t=Ct(Vk),n=Hn();v.useEffect(()=>{if(e==null)return dm;var r=(i,a,s)=>{t!==s&&e===i&&n(CQ(a))};return Kf.on(KA,r),()=>{Kf.off(KA,r)}},[n,t,e])}function _Q(){var e=Hn();v.useEffect(()=>{e(kQ())},[e]),OQ(),IQ()}function LQ(e,t,n,r,i,a){var s=Ct(m=>WX(m,e,t)),o=Ct(Vk),l=Ct(Uk),c=Ct(i3),d=Ct(SQ),f=d==null?void 0:d.active,h=U0();v.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Vb({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Kf.emit(qb,l,m,o)}},[f,n,s,i,r,o,l,c,a,h])}function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(r){$Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Q(e,t,n){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FQ(e){var t=RQ(e,"string");return typeof t=="symbol"?t:t+""}function RQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BQ(e){return e.dataKey}function zQ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(AH,t)}var ZA=[],UQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kc(e){var t,n,r=Vr(e,UQ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:y,cursor:x,shared:b,trigger:w,defaultIndex:k,portal:C,axisId:N}=r,j=Hn(),M=typeof k=="number"?String(k):k;v.useEffect(()=>{j(FY({shared:b,trigger:w,axisId:N,active:i,defaultIndex:M}))},[j,b,w,N,i,M]);var _=U0(),T=XI(),D=MY(b),{activeIndex:O,isActive:Z}=(t=Ct(K=>KX(K,D,w,M)))!==null&&t!==void 0?t:{},J=Ct(K=>qX(K,D,w,M)),se=Ct(K=>oL(K,D,w,M)),de=Ct(K=>HX(K,D,w,M)),X=J,G=xQ(),F=(n=i??Z)!==null&&n!==void 0?n:!1,[P,A]=G5([X,F]),te=D==="axis"?se:void 0;LQ(D,w,de,te,O,F);var S=C??G;if(S==null||_==null||D==null)return null;var U=X??ZA;F||(U=ZA),c&&U.length&&(U=L5(U.filter(K=>K.value!=null&&(K.hide!==!0||r.includeHidden)),h,BQ));var q=U.length>0,ee=v.createElement(IH,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:F,coordinate:de,hasPayload:q,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:_,wrapperStyle:y,lastBoundingBox:P,innerRef:A,hasPortalFromProps:!!C},zQ(l,QA(QA({},r),{},{payload:U,label:te,active:F,activeIndex:O,coordinate:de,accessibilityLayer:T})));return v.createElement(v.Fragment,null,td.createPortal(ee,S),F&&v.createElement(gQ,{cursor:x,tooltipEventType:D,coordinate:de,payload:U,index:O}))}var Gu=e=>null;Gu.displayName="Cell";function VQ(e,t,n){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class qQ{constructor(t){VQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(r){GQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GQ(e,t,n){return(t=YQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QQ={cacheSize:2e3,enableCache:!0},hL=KQ({},QQ),eP=new qQ(hL.cacheSize),ZQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tP="recharts_measurement_span";function JQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var nP=(e,t)=>{try{var n=document.getElementById(tP);n||(n=document.createElement("span"),n.setAttribute("id",tP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ZQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},nf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||K0.isSsr)return{width:0,height:0};if(!hL.enableCache)return nP(t,n);var r=JQ(t,n),i=eP.get(r);if(i)return i;var a=nP(t,n);return eP.set(r,a),a},pL;function eZ(e,t,n){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tZ(e){var t=nZ(e,"string");return typeof t=="symbol"?t:t+""}function nZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sZ=["cm","mm","pt","pc","in","Q","px"];function oZ(e){return sZ.includes(e)}var gu="NaN";function lZ(e,t){return e*aZ[t]}class li{static parse(t){var n,[,r,i]=(n=iZ.exec(t))!==null&&n!==void 0?n:[];return r==null?li.NaN:new li(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,_s(t)&&(this.unit=""),n!==""&&!rZ.test(n)&&(this.num=NaN,this.unit=""),oZ(n)&&(this.num=lZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new li(NaN,""):new li(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new li(NaN,""):new li(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new li(NaN,""):new li(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new li(NaN,""):new li(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _s(this.num)}}pL=li;eZ(li,"NaN",new pL(NaN,""));function gL(e){if(e==null||e.includes(gu))return gu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=rP.exec(t))!==null&&n!==void 0?n:[],s=li.parse(r??""),o=li.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return gu;t=t.replace(rP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=iP.exec(t))!==null&&c!==void 0?c:[],m=li.parse(d??""),p=li.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return gu;t=t.replace(iP,g.toString())}return t}var aP=/\(([^()]*)\)/;function cZ(e){for(var t=e,n;(n=aP.exec(t))!=null;){var[,r]=n;t=t.replace(aP,gL(r))}return t}function uZ(e){var t=e.replace(/\s+/g,"");return t=cZ(t),t=gL(t),t}function dZ(e){try{return uZ(e)}catch{return gu}}function Nv(e){var t=dZ(e.slice(5,-1));return t===gu?"":t}var fZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],mZ=["dx","dy","angle","className","breakAll"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(null,arguments)}function sP(e,t){if(e==null)return{};var n,r,i=hZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xL=/[ \f\n\r\t\v\u2028\u2029]+/,vL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ur(t)||(n?i=t.toString().split(""):i=t.toString().split(xL));var a=i.map(o=>({word:o,width:nf(o,r).width})),s=n?0:nf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function pZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var yL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),bL=e=>e.reduce((t,n)=>t.width>n.width?t:n),gZ="",oP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),c=vL({breakAll:n,style:r,children:l+gZ});if(!c)return[!1,[]];var d=yL(c.wordsWithComputedWidth,a,s,o),f=d.length>i||bL(d).width>Number(a);return[f,d]},xZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=At(a),d=String(s),f=yL(t,r,n,i);if(!c||i)return f;var h=f.length>a||bL(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,g=0,y;m<=p&&g<=d.length-1;){var x=Math.floor((m+p)/2),b=x-1,[w,k]=oP(d,b,l,o,a,r,n,i),[C]=oP(d,x,l,o,a,r,n,i);if(!w&&!C&&(m=x+1),w&&C&&(p=x-1),!w&&C){y=k;break}g++}return y||f},lP=e=>{var t=Ur(e)?[]:e.toString().split(xL);return[{words:t,width:void 0}]},vZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!K0.isSsr){var o,l,c=vL({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return lP(r);return xZ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return lP(r)},wL="#808080",yZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:wL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},dx=v.forwardRef((e,t)=>{var n=Vr(e,yZ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=sP(n,fZ),h=v.useMemo(()=>vZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:g,className:y,breakAll:x}=f,b=sP(f,mZ);if(!Ls(r)||!Ls(i)||h.length===0)return null;var w=Number(r)+(At(m)?m:0),k=Number(i)+(At(p)?p:0);if(!Lr(w)||!Lr(k))return null;var C;switch(d){case"start":C=Nv("calc(".concat(s,")"));break;case"middle":C=Nv("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=Nv("calc(".concat(h.length-1," * -").concat(a,")"));break}var N=[];if(l){var j=h[0].width,{width:M}=f;N.push("scale(".concat(At(M)&&At(j)?M/j:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(w,", ").concat(k,")")),N.length&&(b.transform=N.join(" ")),v.createElement("text",Kb({},$i(b),{ref:t,x:w,y:k,className:Cn("recharts-text",y),textAnchor:c,fill:o.includes("url")?wL:o}),h.map((_,T)=>{var D=_.words.join(x?"":" ");return v.createElement("tspan",{x:w,dy:T===0?C:a,key:"".concat(D,"-").concat(T)},D)}))});dx.displayName="Text";var bZ=["labelRef"],wZ=["content"];function cP(e,t){if(e==null)return{};var n,r,i=kZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(n),!0).forEach(function(r){SZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SZ(e,t,n){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NZ(e){var t=CZ(e,"string");return typeof t=="symbol"?t:t+""}function CZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xs.apply(null,arguments)}var kL=v.createContext(null),jZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return v.createElement(kL.Provider,{value:l},o)},SL=()=>{var e=v.useContext(kL),t=U0();return e||$I(t)},AZ=v.createContext(null),PZ=()=>{var e=v.useContext(AZ),t=Ct(c3);return e||t},TZ=e=>{var{value:t,formatter:n}=e,r=Ur(e.children)?t:e.children;return typeof n=="function"?n(r):r},NS=e=>e!=null&&typeof e=="function",EZ=(e,t)=>{var n=wi(t-e),r=Math.min(Math.abs(t-e),360);return n*r},DZ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(c+d)/2,g=EZ(f,h),y=g>=0?1:-1,x,b;switch(t){case"insideStart":x=f+y*a,b=m;break;case"insideEnd":x=h-y*a,b=!m;break;case"end":x=h+y*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=Ir(o,l,p,x),k=Ir(o,l,p,x+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),N=Ur(e.id)?If("recharts-radial-line-"):e.id;return v.createElement("text",Xs({},r,{dominantBaseline:"central",className:Cn("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:N,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(N)},n))},MZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Ir(r,i,s+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Ir(r,i,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Gb=e=>"cx"in e&&At(e.cx),OZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Gb(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=s,h=s+(l-c)/2,m=(f+h)/2,p=(l+c)/2,g=f+l/2,y=d>=0?1:-1,x=y*r,b=y>0?"end":"start",w=y>0?"start":"end",k=l>=0?1:-1,C=k*r,N=k>0?"end":"start",j=k>0?"start":"end";if(i==="top"){var M={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:b};return Cr(Cr({},M),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var _={x:h+c/2,y:o+d+x,textAnchor:"middle",verticalAnchor:w};return Cr(Cr({},_),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var T={x:m-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Cr(Cr({},T),a?{width:Math.max(T.x-a.x,0),height:d}:{})}if(i==="right"){var D={x:m+p+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return Cr(Cr({},D),a?{width:Math.max(a.x+a.width-D.x,0),height:d}:{})}var O=a?{width:p,height:d}:{};return i==="insideLeft"?Cr({x:m+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},O):i==="insideRight"?Cr({x:m+p-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},O):i==="insideTop"?Cr({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:w},O):i==="insideBottom"?Cr({x:h+c/2,y:o+d-x,textAnchor:"middle",verticalAnchor:b},O):i==="insideTopLeft"?Cr({x:f+C,y:o+x,textAnchor:j,verticalAnchor:w},O):i==="insideTopRight"?Cr({x:f+l-C,y:o+x,textAnchor:N,verticalAnchor:w},O):i==="insideBottomLeft"?Cr({x:h+C,y:o+d-x,textAnchor:j,verticalAnchor:b},O):i==="insideBottomRight"?Cr({x:h+c-C,y:o+d-x,textAnchor:N,verticalAnchor:b},O):i&&typeof i=="object"&&(At(i.x)||mo(i.x))&&(At(i.y)||mo(i.y))?Cr({x:s+ga(i.x,p),y:o+ga(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):Cr({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},IZ={angle:0,offset:5,zIndex:ci.label,position:"middle",textBreakAll:!1};function Uo(e){var t=Vr(e,IZ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,d=PZ(),f=SL(),h=r==="center"?f:d??f,m,p,g;if(n==null?m=h:Gb(n)?m=n:m=$I(n),!m||Ur(i)&&Ur(a)&&!v.isValidElement(s)&&typeof s!="function")return null;var y=Cr(Cr({},t),{},{viewBox:m});if(v.isValidElement(s)){var{labelRef:x}=y,b=cP(y,bZ);return v.cloneElement(s,b)}if(typeof s=="function"){var{content:w}=y,k=cP(y,wZ);if(p=v.createElement(s,k),v.isValidElement(p))return p}else p=TZ(t);var C=$i(t);if(Gb(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return DZ(t,r,p,C,m);g=MZ(m,t.offset,t.position)}else g=OZ(t,m);return v.createElement(vs,{zIndex:t.zIndex},v.createElement(dx,Xs({ref:c,className:Cn("recharts-label",o)},C,g,{textAnchor:pZ(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:l}),p))}Uo.displayName="Label";var _Z=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Uo,Xs({key:"label-implicit"},r)):Ls(e)?v.createElement(Uo,Xs({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Uo?v.cloneElement(e,Cr({key:"label-implicit"},r)):v.createElement(Uo,Xs({key:"label-implicit",content:e},r)):NS(e)?v.createElement(Uo,Xs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Uo,Xs({},e,{key:"label-implicit"},r)):null};function LZ(e){var{label:t,labelRef:n}=e,r=SL();return _Z(t,r,n)||null}var NL={},CL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(CL);var jL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(jL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CL,n=jL,r=N0;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(NL);var $Z=NL.last;const FZ=gs($Z);var RZ=["valueAccessor"],BZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tg.apply(null,arguments)}function dP(e,t){if(e==null)return{};var n,r,i=zZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UZ=e=>Array.isArray(e.value)?FZ(e.value):e.value,AL=v.createContext(void 0),VZ=AL.Provider,PL=v.createContext(void 0),WZ=PL.Provider;function HZ(){return v.useContext(AL)}function qZ(){return v.useContext(PL)}function cp(e){var{valueAccessor:t=UZ}=e,n=dP(e,RZ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=dP(n,BZ),c=HZ(),d=qZ(),f=c||d;return!f||!f.length?null:v.createElement(vs,{zIndex:o??ci.label},v.createElement(Ji,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=Ur(r)?t(h,m):er(h&&h.payload,r),y=Ur(a)?{}:{id:"".concat(a,"-").concat(m)};return v.createElement(Uo,Tg({key:"label-".concat(m)},$i(h),l,y,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}cp.displayName="LabelList";function TL(e){var{label:t}=e;return t?t===!0?v.createElement(cp,{key:"labelList-implicit"}):v.isValidElement(t)||NS(t)?v.createElement(cp,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(cp,Tg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb.apply(null,arguments)}var EL=e=>{var{cx:t,cy:n,r,className:i}=e,a=Cn("recharts-dot",i);return At(t)&&At(n)&&At(r)?v.createElement("circle",Yb({},Va(e),V1(e),{className:a,cx:t,cy:n,r})):null},DL=e=>e.graphicalItems.polarItems,KZ=ge([ar,km],Yk),fx=ge([DL,mr,KZ],Xk),GZ=ge([fx],Qk),mx=ge([GZ,$k],Zk),YZ=ge([mx,mr,fx],eS);ge([mx,mr,fx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=er(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:er(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var fP=()=>{},XZ=ge([mx,mr,fx,ox,ar],iS),QZ=ge([mr,nS,rS,fP,XZ,fP,$n,ar],aS),ML=ge([mr,$n,mx,YZ,wm,ar,QZ],sS),ZZ=ge([ML,mr,od],cS);ge([mr,ML,ZZ,ar],dS);var JZ={radiusAxis:{},angleAxis:{}},OL=na({name:"polarAxis",initialState:JZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kge,removeRadiusAxis:Sge,addAngleAxis:Nge,removeAngleAxis:Cge}=OL.actions,eJ=OL.reducer;function mP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(n),!0).forEach(function(r){tJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tJ(e,t,n){return(t=nJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nJ(e){var t=rJ(e,"string");return typeof t=="symbol"?t:t+""}function rJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iJ=(e,t)=>t,CS=ge([DL,iJ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),aJ=[],jS=(e,t,n)=>(n==null?void 0:n.length)===0?aJ:n,IL=ge([$k,CS,jS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>hP(hP({},t.presentationProps),a.props))),i!=null)return i}}),sJ=ge([IL,CS,jS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=er(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:$0(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),oJ=ge([IL,CS,jS,ei],(e,t,n,r)=>{if(!(t==null||e==null))return bee({offset:r,pieSettings:t,displayedData:e,cells:n})}),_L={exports:{}},Bn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=60103,px=60106,Em=60107,Dm=60108,Mm=60114,Om=60109,Im=60110,_m=60112,Lm=60113,AS=60120,$m=60115,Fm=60116,LL=60121,$L=60122,FL=60117,RL=60129,BL=60131;if(typeof Symbol=="function"&&Symbol.for){var ai=Symbol.for;hx=ai("react.element"),px=ai("react.portal"),Em=ai("react.fragment"),Dm=ai("react.strict_mode"),Mm=ai("react.profiler"),Om=ai("react.provider"),Im=ai("react.context"),_m=ai("react.forward_ref"),Lm=ai("react.suspense"),AS=ai("react.suspense_list"),$m=ai("react.memo"),Fm=ai("react.lazy"),LL=ai("react.block"),$L=ai("react.server.block"),FL=ai("react.fundamental"),RL=ai("react.debug_trace_mode"),BL=ai("react.legacy_hidden")}function ys(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hx:switch(e=e.type,e){case Em:case Mm:case Dm:case Lm:case AS:return e;default:switch(e=e&&e.$$typeof,e){case Im:case _m:case Fm:case $m:case Om:return e;default:return t}}case px:return t}}}var lJ=Om,cJ=hx,uJ=_m,dJ=Em,fJ=Fm,mJ=$m,hJ=px,pJ=Mm,gJ=Dm,xJ=Lm;Bn.ContextConsumer=Im;Bn.ContextProvider=lJ;Bn.Element=cJ;Bn.ForwardRef=uJ;Bn.Fragment=dJ;Bn.Lazy=fJ;Bn.Memo=mJ;Bn.Portal=hJ;Bn.Profiler=pJ;Bn.StrictMode=gJ;Bn.Suspense=xJ;Bn.isAsyncMode=function(){return!1};Bn.isConcurrentMode=function(){return!1};Bn.isContextConsumer=function(e){return ys(e)===Im};Bn.isContextProvider=function(e){return ys(e)===Om};Bn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hx};Bn.isForwardRef=function(e){return ys(e)===_m};Bn.isFragment=function(e){return ys(e)===Em};Bn.isLazy=function(e){return ys(e)===Fm};Bn.isMemo=function(e){return ys(e)===$m};Bn.isPortal=function(e){return ys(e)===px};Bn.isProfiler=function(e){return ys(e)===Mm};Bn.isStrictMode=function(e){return ys(e)===Dm};Bn.isSuspense=function(e){return ys(e)===Lm};Bn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Em||e===Mm||e===RL||e===Dm||e===Lm||e===AS||e===BL||typeof e=="object"&&e!==null&&(e.$$typeof===Fm||e.$$typeof===$m||e.$$typeof===Om||e.$$typeof===Im||e.$$typeof===_m||e.$$typeof===FL||e.$$typeof===LL||e[0]===$L)};Bn.typeOf=ys;_L.exports=Bn;var vJ=_L.exports,pP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",gP=null,Cv=null,zL=e=>{if(e===gP&&Array.isArray(Cv))return Cv;var t=[];return v.Children.forEach(e,n=>{Ur(n)||(vJ.isFragment(n)?t=t.concat(zL(n.props.children)):t.push(n))}),Cv=t,gP=e,t};function UL(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>pP(i)):r=[pP(t)],zL(e).forEach(i=>{var a=gc(i,"type.displayName")||gc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var VL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,WL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(WL);var yJ=WL.isPlainObject;const bJ=gs(yJ);var xP,vP,yP,bP,wP;function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(n),!0).forEach(function(r){wJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wJ(e,t,n){return(t=kJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kJ(e){var t=SJ(e,"string");return typeof t=="symbol"?t:t+""}function SJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eg.apply(null,arguments)}function Od(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var NP=(e,t,n,r,i)=>{var a=n-r,s;return s=yr(xP||(xP=Od(["M ",",",""])),e,t),s+=yr(vP||(vP=Od(["L ",",",""])),e+n,t),s+=yr(yP||(yP=Od(["L ",",",""])),e+n-a/2,t+i),s+=yr(bP||(bP=Od(["L ",",",""])),e+n-a/2-r,t+i),s+=yr(wP||(wP=Od(["L ",","," Z"])),e,t),s},NJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CJ=e=>{var t=Vr(e,NJ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=v.useRef(null),[m,p]=v.useState(-1),g=v.useRef(i),y=v.useRef(a),x=v.useRef(s),b=v.useRef(n),w=v.useRef(r),k=Y0(e,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var J=h.current.getTotalLength();J&&p(J)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=Cn("recharts-trapezoid",o);if(!f)return v.createElement("g",null,v.createElement("path",Eg({},$i(t),{className:C,d:NP(n,r,i,a,s)})));var N=g.current,j=y.current,M=x.current,_=b.current,T=w.current,D="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),Z=QI(["strokeDasharray"],c,l);return v.createElement(G0,{animationId:k,key:k,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},J=>{var se=bi(N,i,J),de=bi(j,a,J),X=bi(M,s,J),G=bi(_,n,J),F=bi(T,r,J);h.current&&(g.current=se,y.current=de,x.current=X,b.current=G,w.current=F);var P=J>0?{transition:Z,strokeDasharray:O}:{strokeDasharray:D};return v.createElement("path",Eg({},$i(t),{className:C,d:NP(G,F,se,de,X),ref:h,style:SP(SP({},P),t.style)}))})},jJ=["option","shapeType","activeClassName"];function AJ(e,t){if(e==null)return{};var n,r,i=PJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){TJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TJ(e,t,n){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EJ(e){var t=DJ(e,"string");return typeof t=="symbol"?t:t+""}function DJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MJ(e,t){return Dg(Dg({},t),e)}function OJ(e,t){return e==="symbols"}function jP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(t_,n);case"trapezoid":return v.createElement(CJ,n);case"sector":return v.createElement(a_,n);case"symbols":if(OJ(t))return v.createElement(U1,n);break;case"curve":return v.createElement(mk,n);default:return null}}function IJ(e){return v.isValidElement(e)?e.props:e}function HL(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=AJ(e,jJ),a;if(v.isValidElement(t))a=v.cloneElement(t,Dg(Dg({},i),IJ(t)));else if(typeof t=="function")a=t(i,i.index);else if(bJ(t)&&typeof t!="boolean"){var s=MJ(t,i);a=v.createElement(jP,{shapeType:n,elementProps:s})}else{var o=i;a=v.createElement(jP,{shapeType:n,elementProps:o})}return i.isActive?v.createElement(Ji,{className:r},a):a}var _J=(e,t,n)=>{var r=Hn();return(i,a)=>s=>{e==null||e(i,a,s),r(U3({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},LJ=e=>{var t=Hn();return(n,r)=>i=>{e==null||e(n,r,i),t(RY())}},$J=(e,t,n)=>{var r=Hn();return(i,a)=>s=>{e==null||e(i,a,s),r(BY({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function qL(e){var{tooltipEntrySettings:t}=e,n=Hn(),r=ra(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(_Y(t)):i.current!==t&&n(LY({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n($Y(i.current)),i.current=null)},[n]),null}function FJ(e){var{legendPayload:t}=e,n=Hn(),r=ra(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(qI(t)):i.current!==t&&n(KI({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(GI(i.current)),i.current=null)},[n]),null}function RJ(e){var{legendPayload:t}=e,n=Hn(),r=Ct($n),i=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(qI(t)):i.current!==t&&n(KI({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(GI(i.current)),i.current=null)},[n]),null}var jv,BJ=()=>{var[e]=v.useState(()=>If("uid-"));return e},zJ=(jv=JR.useId)!==null&&jv!==void 0?jv:BJ;function UJ(e,t){var n=zJ();return t||(e?"".concat(e,"-").concat(n):n)}var VJ=v.createContext(void 0),KL=e=>{var{id:t,type:n,children:r}=e,i=UJ("recharts-".concat(n),t);return v.createElement(VJ.Provider,{value:i},r(i))},WJ={cartesianItems:[],polarItems:[]},GL=na({name:"graphicalItems",initialState:WJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:nr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ls(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:nr()},removeCartesianGraphicalItem:{reducer(e,t){var n=ls(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:nr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:nr()},removePolarGraphicalItem:{reducer(e,t){var n=ls(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:nr()}}}),{addCartesianGraphicalItem:HJ,replaceCartesianGraphicalItem:qJ,removeCartesianGraphicalItem:KJ,addPolarGraphicalItem:GJ,removePolarGraphicalItem:YJ}=GL.actions,XJ=GL.reducer,QJ=e=>{var t=Hn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(HJ(e)):n.current!==e&&t(qJ({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(KJ(n.current)),n.current=null)},[t]),null},ZJ=v.memo(QJ);function JJ(e){var t=Hn();return v.useLayoutEffect(()=>(t(GJ(e)),()=>{t(YJ(e))}),[t,e]),null}var eee=["key"],tee=["onMouseEnter","onClick","onMouseLeave"],nee=["id"],ree=["id"];function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){iee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iee(e,t,n){return(t=aee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(null,arguments)}function gx(e,t){if(e==null)return{};var n,r,i=oee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lee(e){var t=v.useMemo(()=>UL(e.children,Gu),[e.children]),n=Ct(r=>sJ(r,e.id,t));return n==null?null:v.createElement(RJ,{legendPayload:n})}var cee=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:$0(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:d}};return v.createElement(qL,{tooltipEntrySettings:f})}),uee=(e,t)=>e>t?"start":e<t?"end":"middle",dee=(e,t,n)=>ga(typeof t=="function"?t(e):t,n,n*.8),fee=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=n_(a,s),l=i+ga(e.cx,a,a/2),c=r+ga(e.cy,s,s/2),d=ga(e.innerRadius,o,0),f=dee(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},mee=(e,t)=>{var n=wi(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function hee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var pee=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Cn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=gx(t,eee);return v.createElement(mk,dl({},i,{type:"linear",className:n}))},gee=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var i=Cn("recharts-pie-label-text",hee(e));return v.createElement(dx,dl({},t,{alignmentBaseline:"middle",className:i}),r)};function xee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=Va(n),l=Ru(i),c=Ru(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Ir(h.cx,h.cy,h.outerRadius+d,p),y=wr(wr(wr(wr({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:uee(g.x,h.cx)},g),x=wr(wr(wr(wr({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[Ir(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return v.createElement(vs,{zIndex:ci.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},v.createElement(Ji,null,a&&pee(a,x),gee(i,y,er(h,s))))});return v.createElement(Ji,{className:"recharts-pie-labels"},f)}function vee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?v.createElement(TL,{label:i}):v.createElement(xee,{sectors:t,props:n,showLabels:r})}function yee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=Ct(Ku),l=Ct(nL),c=Ct(CX),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=gx(i,tee),p=_J(d,i.dataKey,s),g=LJ(h),y=$J(f,i.dataKey,s);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((x,b)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var w=c==null||c===s,k=String(b)===o&&(l==null||i.dataKey===l)&&w,C=o?r:null,N=n&&k?n:C,j=wr(wr({},x),{},{stroke:x.stroke,tabIndex:-1,[PI]:b,[TI]:s});return v.createElement(Ji,dl({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},W1(m,x,b),{onMouseEnter:p(x,b),onMouseLeave:g(x,b),onClick:y(x,b)}),v.createElement(HL,dl({option:a??N,index:b,shapeType:"sector",isActive:k},j)))}))}function bee(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=mee(o,l),p=Math.abs(m),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(N=>er(N,c,0)!==0).length,x=(p>=360?y:y-1)*g,b=p-y*h-x,w=r.reduce((N,j)=>{var M=er(j,c,0);return N+(At(M)?M:0)},0),k;if(w>0){var C;k=r.map((N,j)=>{var M=er(N,c,0),_=er(N,d,j),T=fee(n,a,N),D=(At(M)?M:0)/w,O,Z=wr(wr({},N),i&&i[j]&&i[j].props);j?O=C.endAngle+wi(m)*g*(M!==0?1:0):O=o;var J=O+wi(m)*((M!==0?h:0)+D*b),se=(O+J)/2,de=(T.innerRadius+T.outerRadius)/2,X=[{name:_,value:M,payload:Z,dataKey:c,type:f,graphicalItemId:n.id}],G=Ir(T.cx,T.cy,de,se);return C=wr(wr(wr(wr({},n.presentationProps),{},{percent:D,cornerRadius:typeof s=="string"?parseFloat(s):s,name:_,tooltipPayload:X,midAngle:se,middleRadius:de,tooltipPosition:G},Z),T),{},{value:M,dataKey:c,startAngle:O,endAngle:J,payload:Z,paddingAngle:wi(m)*g}),C})}return k}function wee(e){var{showLabels:t,sectors:n,children:r}=e,i=v.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return v.createElement(WZ,{value:t?i:void 0},r)}function kee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=Y0(t,"recharts-pie-"),p=n.current,[g,y]=v.useState(!1),x=v.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),b=v.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return v.createElement(wee,{showLabels:!g,sectors:i},v.createElement(G0,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:x,key:m},w=>{var k=[],C=i&&i[0],N=C==null?void 0:C.startAngle;return i==null||i.forEach((j,M)=>{var _=p&&p[M],T=M>0?gc(j,"paddingAngle",0):0;if(_){var D=bi(_.endAngle-_.startAngle,j.endAngle-j.startAngle,w),O=wr(wr({},j),{},{startAngle:N+T,endAngle:N+D+T});k.push(O),N=O.endAngle}else{var{endAngle:Z,startAngle:J}=j,se=bi(0,Z-J,w),de=wr(wr({},j),{},{startAngle:N+T,endAngle:N+se+T});k.push(de),N=de.endAngle}}),n.current=k,v.createElement(Ji,null,v.createElement(yee,{sectors:k,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(vee,{showLabels:!g,sectors:i,props:t}),t.children)}var See={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ci.area};function Nee(e){var{id:t}=e,n=gx(e,nee),{hide:r,className:i,rootTabIndex:a}=e,s=v.useMemo(()=>UL(e.children,Gu),[e.children]),o=Ct(d=>oJ(d,t,s)),l=v.useRef(null),c=Cn("recharts-pie",i);return r||o==null?(l.current=null,v.createElement(Ji,{tabIndex:a,className:c})):v.createElement(vs,{zIndex:e.zIndex},v.createElement(cee,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(Ji,{tabIndex:a,className:c},v.createElement(kee,{props:wr(wr({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function Mg(e){var t=Vr(e,See),{id:n}=t,r=gx(t,ree),i=Va(r);return v.createElement(KL,{id:n,type:"pie"},a=>v.createElement(v.Fragment,null,v.createElement(JJ,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),v.createElement(lee,dl({},r,{id:a})),v.createElement(Nee,dl({},r,{id:a}))))}Mg.displayName="Pie";var Cee=["points"];function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Av(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(r){jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jee(e,t,n){return(t=Aee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aee(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Og.apply(null,arguments)}function Tee(e,t){if(e==null)return{};var n,r,i=Eee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dee(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Cn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=Tee(a,Cee);return v.createElement(EL,Og({},o,{className:i}))}function Mee(e,t){return e==null?!1:t?!0:e.length===1}function Oee(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=ci.scatter}=e;if(!Mee(t,n))return null;var d=VL(n),f=d8(n),h=t.map((p,g)=>{var y,x,b=Av(Av(Av({r:3},s),f),{},{index:g,cx:(y=p.x)!==null&&y!==void 0?y:void 0,cy:(x=p.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return v.createElement(Dee,{key:"dot-".concat(g),option:n,dotProps:b,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(vs,{zIndex:c},v.createElement(Ji,Og({className:r},m),h))}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){Iee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iee(e,t,n){return(t=_ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ee(e){var t=Lee(e,"string");return typeof t=="symbol"?t:t+""}function Lee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ee={xAxis:{},yAxis:{},zAxis:{}},YL=na({name:"cartesianAxis",initialState:$ee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:nr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:nr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:nr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:nr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:nr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:nr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:nr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:nr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:nr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=EP(EP({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Fee,replaceXAxis:Ree,removeXAxis:Bee,addYAxis:zee,replaceYAxis:Uee,removeYAxis:Vee,addZAxis:jge,replaceZAxis:Age,removeZAxis:Pge,updateYAxisWidth:Wee}=YL.actions,Hee=YL.reducer,qee=ge([ei],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Kee=ge([qee,wo,ko],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),PS=()=>Ct(Kee),Gee=()=>Ct(EX);function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){Yee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yee(e,t,n){return(t=Xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xee(e){var t=Qee(e,"string");return typeof t=="symbol"?t:t+""}function Qee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Pv(Pv(Pv({},o),Ru(i)),V1(i)),c;return v.isValidElement(i)?c=v.cloneElement(i,l):typeof i=="function"?c=i(l):c=v.createElement(EL,l),v.createElement(Ji,{className:"recharts-active-dot",clipPath:s},c)};function Jee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=ci.activeDot}=e,o=Ct(Ku),l=Gee();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Ur(c)?null:v.createElement(vs,{zIndex:s},v.createElement(Zee,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var XL=e=>{var{chartData:t}=e,n=Hn(),r=ra();return v.useEffect(()=>r?()=>{}:(n(GA(t)),()=>{n(GA(void 0))}),[t,n,r]),null},MP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},QL=na({name:"brush",initialState:MP,reducers:{setBrushSettings(e,t){return t.payload==null?MP:t.payload}}}),{setBrushSettings:Tge}=QL.actions,ete=QL.reducer;function tte(e,t,n){return(t=nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nte(e){var t=rte(e,"string");return typeof t=="symbol"?t:t+""}function rte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TS{static create(t){return new TS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}tte(TS,"EPS",1e-4);function ite(e){return(e%180+180)%180}var ate=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ite(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},ste={dots:[],areas:[],lines:[]},ZL=na({name:"referenceElements",initialState:ste,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ls(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ls(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ls(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Ege,removeDot:Dge,addArea:Mge,removeArea:Oge,addLine:Ige,removeLine:_ge}=ZL.actions,ote=ZL.reducer,lte=v.createContext(void 0),cte=e=>{var{children:t}=e,[n]=v.useState("".concat(If("recharts"),"-clip")),r=PS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return v.createElement(lte.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function JL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function ute(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ate(r,n)}function dte(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Gf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function fte(e,t){return JL(e,t+1)}function mte(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:JL(r,c)};var g=l,y,x=()=>(y===void 0&&(y=n(p,g)),y),b=p.coordinate,w=l===0||Gf(e,b,x,d,o);w||(l=0,d=s,c+=1),w&&(d=b+e*(x()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function hte(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var d=(s-1)%c,f=o,h=!0,m=function(){var b=r[p],w=p,k,C=()=>(k===void 0&&(k=n(b,w)),k),N=b.coordinate,j=p===d||Gf(e,N,C,f,l);if(!j)return h=!1,1;j&&(f=N+e*(C()/2+i))},p=d;p<s&&!m();p+=c);if(h){for(var g=[],y=d;y<s;y+=c)g.push(r[y]);return g}}return[]}function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=gte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gte(e){var t=xte(e,"string");return typeof t=="symbol"?t:t+""}function xte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vte(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(h){var m=a[h],p,g=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var y=e*(m.coordinate+e*g()/2-l);a[h]=m=xi(xi({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=xi(xi({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=Gf(e,m.tickCoord,g,o,l);x&&(l=m.tickCoord-e*(g()/2+i),a[h]=xi(xi({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function yte(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=xi(xi({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Gf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+i),s[o-1]=xi(xi({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,g=function(b){var w=s[b],k,C=()=>(k===void 0&&(k=n(w,b)),k);if(b===0){var N=e*(w.coordinate-e*C()/2-l);s[b]=w=xi(xi({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else s[b]=w=xi(xi({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var j=Gf(e,w.tickCoord,C,l,c);j&&(l=w.tickCoord+e*(C()/2+i),s[b]=xi(xi({},w),{},{isShow:!0}))}},y=0;y<p;y++)g(y);return s}function ES(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(At(l)||K0.isSsr){var h;return(h=fte(i,At(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?nf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,k)=>{var C=typeof c=="function"?c(w.value,k):w.value;return p==="width"?ute(nf(C,{fontSize:t,letterSpacing:n}),g,f):nf(C,{fontSize:t,letterSpacing:n})[p]},x=i.length>=2?wi(i[1].coordinate-i[0].coordinate):1,b=dte(a,x,p);return l==="equidistantPreserveStart"?mte(x,b,y,i,s):l==="equidistantPreserveEnd"?hte(x,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=yte(x,b,y,i,s,l==="preserveStartEnd"):m=vte(x,b,y,i,s),m.filter(w=>w.isShow))}var bte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},wte=["axisLine","width","height","className","hide","ticks","axisType"];function kte(e,t){if(e==null)return{};var n,r,i=Ste(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ste(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(null,arguments)}function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(n),!0).forEach(function(r){Nte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nte(e,t,n){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=jte(e,"string");return typeof t=="symbol"?t:t+""}function jte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ao={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ci.axis};function Ate(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Mr(Mr(Mr({},l),Va(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=Mr(Mr({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=Mr(Mr({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return v.createElement("line",Sc({},c,{className:Cn("recharts-cartesian-axis-line",gc(o,"className"))}))}function Pte(e,t,n,r,i,a,s,o,l){var c,d,f,h,m,p,g=o?-1:1,y=e.tickSize||s,x=At(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=n+ +!o*i,f=h-g*y,p=f-g*l,m=x;break;case"left":f=h=e.coordinate,d=t+ +!o*r,c=d-g*y,m=c-g*l,p=x;break;case"right":f=h=e.coordinate,d=t+ +o*r,c=d+g*y,m=c+g*l,p=x;break;default:c=d=e.coordinate,h=n+ +o*i,f=h+g*y,p=f+g*l,m=x;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function Tte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ete(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Dte(e){var{option:t,tickProps:n,value:r}=e,i,a=Cn(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,Mr(Mr({},n),{},{className:a}));else if(typeof t=="function")i=t(Mr(Mr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Cn(s,t==null?void 0:t.className)),i=v.createElement(dx,Sc({},n,{className:s}),r)}return i}var Mte=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:y,tickMargin:x,fontSize:b,letterSpacing:w,getTicksConfig:k,events:C,axisType:N}=e,j=ES(Mr(Mr({},k),{},{ticks:n}),b,w),M=Tte(d,f),_=Ete(d,f),T=Va(k),D=Ru(r),O={};typeof i=="object"&&(O=i);var Z=Mr(Mr({},T),{},{fill:"none"},O),J=j.map(X=>Mr({entry:X},Pte(X,h,m,p,g,d,y,f,x))),se=J.map(X=>{var{entry:G,line:F}=X;return v.createElement(Ji,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&v.createElement("line",Sc({},Z,F,{className:Cn("recharts-cartesian-axis-tick-line",gc(i,"className"))})))}),de=J.map((X,G)=>{var{entry:F,tick:P}=X,A=Mr(Mr(Mr(Mr({textAnchor:M,verticalAnchor:_},T),{},{stroke:"none",fill:a},D),P),{},{index:G,payload:F,visibleTicksCount:j.length,tickFormatter:s,padding:l},c);return v.createElement(Ji,Sc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},W1(C,F,G)),r&&v.createElement(Dte,{option:r,tickProps:A,value:"".concat(typeof s=="function"?s(F.value,G):F.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},de.length>0&&v.createElement(vs,{zIndex:ci.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},de)),se.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},se))}),Ote=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=kte(e,wte),[d,f]=v.useState(""),[h,m]=v.useState(""),p=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return bte({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=v.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=x;var b=x[0];if(b){var w=window.getComputedStyle(b),k=w.fontSize,C=w.letterSpacing;(k!==d||C!==h)&&(f(k),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(vs,{zIndex:e.zIndex},v.createElement(Ji,{className:Cn("recharts-cartesian-axis",a)},v.createElement(Ate,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Va(e)}),v.createElement(Mte,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(jZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(LZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),DS=v.forwardRef((e,t)=>{var n=Vr(e,ao);return v.createElement(Ote,Sc({},n,{ref:t}))});DS.displayName="CartesianAxis";var Ite=["x1","y1","x2","y2","key"],_te=["offset"],Lte=["xAxisId","yAxisId"],$te=["xAxisId","yAxisId"];function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(r){Fte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fte(e,t,n){return(t=Rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rte(e){var t=Bte(e,"string");return typeof t=="symbol"?t:t+""}function Bte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(null,arguments)}function Ig(e,t){if(e==null)return{};var n,r,i=zte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ute=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return v.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function e4(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,d=Ig(n,Ite),f=(i=Va(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=Ig(f,_te);r=v.createElement("line",ec({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function Vte(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Ig(e,Lte),l=i.map((c,d)=>{var f=yi(yi({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return v.createElement(e4,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Wte(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Ig(e,$te),l=i.map((c,d)=>{var f=yi(yi({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return v.createElement(e4,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Hte(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function qte(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Kte=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return CI(ES(yi(yi(yi({},ao),n),{},{ticks:jI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Gte=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return CI(ES(yi(yi(yi({},ao),n),{},{ticks:jI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Yte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ci.grid};function Yf(e){var t=ck(),n=uk(),r=FI(),i=yi(yi({},Vr(e,Yte)),{},{x:At(e.x)?e.x:r.left,y:At(e.y)?e.y:r.top,width:At(e.width)?e.width:r.width,height:At(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=ra(),g=Ct(_=>$A(_,"xAxis",a,p)),y=Ct(_=>$A(_,"yAxis",s,p));if(!$s(c)||!$s(d)||!At(o)||!At(l))return null;var x=i.verticalCoordinatesGenerator||Kte,b=i.horizontalCoordinatesGenerator||Gte,{horizontalPoints:w,verticalPoints:k}=i;if((!w||!w.length)&&typeof b=="function"){var C=h&&h.length,N=b({yAxis:y?yi(yi({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);sg(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!k||!k.length)&&typeof x=="function"){var j=m&&m.length,M=x({xAxis:g?yi(yi({},g),{},{ticks:j?m:g.ticks}):void 0,width:t??c,height:n??d,offset:r},j?!0:f);sg(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(k=M)}return v.createElement(vs,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Ute,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(Hte,ec({},i,{horizontalPoints:w})),v.createElement(qte,ec({},i,{verticalPoints:k})),v.createElement(Vte,ec({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),v.createElement(Wte,ec({},i,{offset:r,verticalPoints:k,xAxis:g,yAxis:y}))))}Yf.displayName="CartesianGrid";var Xte={},t4=na({name:"errorBars",initialState:Xte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Lge,replaceErrorBar:$ge,removeErrorBar:Fge}=t4.actions,Qte=t4.reducer,Zte=["children"];function Jte(e,t){if(e==null)return{};var n,r,i=ene(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ene(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},nne=v.createContext(tne);function rne(e){var{children:t}=e,n=Jte(e,Zte);return v.createElement(nne.Provider,{value:n},t)}function n4(e,t){var n,r,i=Ct(c=>No(c,e)),a=Ct(c=>Co(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Yr.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Xr.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function ine(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=PS(),{needClipX:a,needClipY:s,needClip:o}=n4(t,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}var r4=(e,t,n,r)=>L3(e,"xAxis",t,r),i4=(e,t,n,r)=>_3(e,"xAxis",t,r),a4=(e,t,n,r)=>L3(e,"yAxis",n,r),s4=(e,t,n,r)=>_3(e,"yAxis",n,r),ane=ge([$n,r4,a4,i4,s4],(e,t,n,r,i)=>xl(e,"xAxis")?ag(t,r,!1):ag(n,i,!1)),sne=(e,t,n,r,i)=>i;function one(e){return e.type==="line"}var lne=ge([p3,sne],(e,t)=>e.filter(one).find(n=>n.id===t)),cne=ge([$n,r4,a4,i4,s4,lne,ane,Fk],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,d+1),m!=null)return ere({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function une(e){var t=Ru(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var dne={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=v;function fne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mne=typeof Object.is=="function"?Object.is:fne,hne=Rm.useSyncExternalStore,pne=Rm.useRef,gne=Rm.useEffect,xne=Rm.useMemo,vne=Rm.useDebugValue;dne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=pne(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=xne(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,mne(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=hne(e,a[0],a[1]);return gne(function(){s.hasValue=!0,s.value=o},[o]),vne(o),o};function yne(e){e()}function bne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){yne(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var LP={notify(){},get:()=>[]};function wne(e,t){let n,r=LP,i=0,a=!1;function s(g){d();const y=r.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=bne())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=LP)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var kne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sne=kne(),Nne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Cne=Nne(),jne=()=>Sne||Cne?v.useLayoutEffect:v.useEffect,Ane=jne();function $P(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Pne(e,t){if($P(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!$P(e[n[i]],t[n[i]]))return!1;return!0}var Tv=Symbol.for("react-redux-context"),Ev=typeof globalThis<"u"?globalThis:{};function Tne(){if(!v.createContext)return{};const e=Ev[Tv]??(Ev[Tv]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Ene=Tne();function Dne(e){const{children:t,context:n,serverState:r,store:i}=e,a=v.useMemo(()=>{const l=wne(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=v.useMemo(()=>i.getState(),[i]);Ane(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||Ene;return v.createElement(o.Provider,{value:a},t)}var Mne=Dne,One=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Ine(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function MS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(One.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Pne(e[r],t[r]))return!1}else if(!Ine(e[r],t[r]))return!1;return!0}var _ne=["id"],Lne=["type","layout","connectNulls","needClip","shape"],$ne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf.apply(null,arguments)}function FP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(n),!0).forEach(function(r){Fne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fne(e,t,n){return(t=Rne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rne(e){var t=Bne(e,"string");return typeof t=="symbol"?t:t+""}function Bne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OS(e,t){if(e==null)return{};var n,r,i=zne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Une=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:$0(n,t),payload:e}]},Vne=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:$0(s,t),hide:o,type:c,color:r,unit:l,graphicalItemId:d}};return v.createElement(qL,{tooltipEntrySettings:f})}),o4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Wne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Hne=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return o4(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[...Wne(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function qne(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=OS(r,_ne),c=Va(l);return v.createElement(Oee,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function Kne(e){var{showLabels:t,children:n,points:r}=e,i=v.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ps(Ps({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(VZ,{value:t?i:void 0},n)}function RP(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,f=OS(a,Lne),h=Ps(Ps({},$i(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(HL,Xf({shapeType:"curve",option:d},h,{pathRef:n})),v.createElement(qne,{points:r,clipPathId:t,props:a}))}function Gne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Yne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:y}=n,x=i.current,b=Y0(s,"recharts-line-"),w=v.useRef(b),[k,C]=v.useState(!1),N=!k,j=v.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),M=v.useCallback(()=>{typeof y=="function"&&y(),C(!0)},[y]),_=Gne(r.current),T=v.useRef(0);w.current!==b&&(T.current=a.current,w.current=b);var D=T.current;return v.createElement(Kne,{points:s,showLabels:N},n.children,v.createElement(G0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:M,key:b},O=>{var Z=bi(D,_+D,O),J=Math.min(Z,_),se;if(l)if(o){var de="".concat(o).split(/[,\s]+/gim).map(F=>parseFloat(F));se=Hne(J,_,de)}else se=o4(_,J);else se=o==null?void 0:String(o);if(O>0&&_>0&&(i.current=s,a.current=Math.max(a.current,J)),x){var X=x.length/s.length,G=O===1?s:s.map((F,P)=>{var A=Math.floor(P*X);if(x[A]){var te=x[A];return Ps(Ps({},F),{},{x:bi(te.x,F.x,O),y:bi(te.y,F.y,O)})}return h?Ps(Ps({},F),{},{x:bi(m*2,F.x,O),y:bi(p/2,F.y,O)}):Ps(Ps({},F),{},{x:F.x,y:F.y})});return i.current=G,v.createElement(RP,{props:n,points:G,clipPathId:t,pathRef:r,strokeDasharray:se})}return v.createElement(RP,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:se})}),v.createElement(TL,{label:n.label}))}function Xne(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),i=v.useRef(0),a=v.useRef(null);return v.createElement(Yne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Qne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:er(e.payload,t)}};class Zne extends v.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Cn("recharts-line",i),g=f,{r:y,strokeWidth:x}=une(n),b=VL(n),w=y*2+x,k=h?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return v.createElement(vs,{zIndex:m},v.createElement(Ji,{className:p},h&&v.createElement("defs",null,v.createElement(ine,{clipPathId:g,xAxisId:a,yAxisId:s}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(g)},v.createElement("rect",{x:l-w/2,y:o-w/2,width:c+w,height:d+w}))),v.createElement(rne,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Qne,errorBarOffset:0},v.createElement(Xne,{props:this.props,clipPathId:g}))),v.createElement(Jee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var l4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ci.line,type:"linear"};function Jne(e){var t=Vr(e,l4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,y=OS(t,$ne),{needClip:x}=n4(m,p),b=PS(),w=pm(),k=ra(),C=Ct(T=>cne(T,m,p,k,g));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:j,x:M,y:_}=b;return v.createElement(Zne,Xf({},y,{id:g,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:w,height:N,width:j,left:M,top:_,needClip:x}))}function ere(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=er(c,s);if(t==="horizontal"){var h=YC({axis:n,ticks:i,bandSize:o,entry:c,index:d}),m=Ur(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:c}}var p=Ur(f)?null:n.scale(f),g=YC({axis:r,ticks:a,bandSize:o,entry:c,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:c}}).filter(Boolean)}function tre(e){var t=Vr(e,l4),n=ra();return v.createElement(KL,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(FJ,{legendPayload:Une(t)}),v.createElement(Vne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(ZJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Jne,Xf({},t,{id:r}))))}var Qs=v.memo(tre,MS);Qs.displayName="Line";var nre=["domain","range"],rre=["domain","range"];function BP(e,t){if(e==null)return{};var n,r,i=ire(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ire(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function c4(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=BP(e,nre),{domain:a,range:s}=t,o=BP(t,rre);return!zP(n,a)||!zP(r,s)?!1:MS(i,o)}var are=["dangerouslySetInnerHTML","ticks","scale"],sre=["id","scale"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}function UP(e,t){if(e==null)return{};var n,r,i=ore(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ore(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lre(e){var t=Hn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Fee(e)):n.current!==e&&t(Ree({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Bee(n.current)),n.current=null)},[t]),null}var cre=e=>{var{xAxisId:t,className:n}=e,r=Ct(EI),i=ra(),a="xAxis",s=Ct(x=>I3(x,a,t,i)),o=Ct(x=>vY(x,t)),l=Ct(x=>NY(x,t)),c=Ct(x=>f3(x,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=UP(e,are),{id:p,scale:g}=c,y=UP(c,sre);return v.createElement(DS,Xb({},m,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:Cn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},ure={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:Yr.allowDecimals,allowDuplicatedCategory:Yr.allowDuplicatedCategory,angle:Yr.angle,axisLine:ao.axisLine,height:Yr.height,hide:!1,includeHidden:Yr.includeHidden,interval:Yr.interval,minTickGap:Yr.minTickGap,mirror:Yr.mirror,orientation:Yr.orientation,padding:Yr.padding,reversed:Yr.reversed,scale:Yr.scale,tick:Yr.tick,tickCount:Yr.tickCount,tickLine:ao.tickLine,tickSize:ao.tickSize,type:Yr.type,xAxisId:0},dre=e=>{var t=Vr(e,ure);return v.createElement(v.Fragment,null,v.createElement(lre,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(cre,t))},Qf=v.memo(dre,c4);Qf.displayName="XAxis";var fre=["dangerouslySetInnerHTML","ticks","scale"],mre=["id","scale"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}function VP(e,t){if(e==null)return{};var n,r,i=hre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pre(e){var t=Hn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(zee(e)):n.current!==e&&t(Uee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Vee(n.current)),n.current=null)},[t]),null}var gre=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=v.useRef(null),s=v.useRef(null),o=Ct(EI),l=ra(),c=Hn(),d="yAxis",f=Ct(N=>AY(N,t)),h=Ct(N=>jY(N,t)),m=Ct(N=>I3(N,d,t,l)),p=Ct(N=>m3(N,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||NS(i)||v.isValidElement(i)||p==null)){var N=a.current;if(N){var j=N.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&c(Wee({id:t,width:j}))}}},[m,f,c,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:x}=e,b=VP(e,fre),{id:w,scale:k}=p,C=VP(p,mre);return v.createElement(DS,Qb({},b,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Cn("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},xre={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:Xr.allowDecimals,allowDuplicatedCategory:Xr.allowDuplicatedCategory,angle:Xr.angle,axisLine:ao.axisLine,hide:!1,includeHidden:Xr.includeHidden,interval:Xr.interval,minTickGap:Xr.minTickGap,mirror:Xr.mirror,orientation:Xr.orientation,padding:Xr.padding,reversed:Xr.reversed,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,tickLine:ao.tickLine,tickSize:ao.tickSize,type:Xr.type,width:Xr.width,yAxisId:0},vre=e=>{var t=Vr(e,xre);return v.createElement(v.Fragment,null,v.createElement(pre,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(gre,t))},Zf=v.memo(vre,c4);Zf.displayName="YAxis";var yre=(e,t)=>t,IS=ge([yre,$n,c3,Hr,Z3,jo,VX,ei],XX),_S=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},u4=Wa("mouseClick"),d4=mm();d4.startListening({actionCreator:u4,effect:(e,t)=>{var n=e.payload,r=IS(t.getState(),_S(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(zY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Zb=Wa("mouseMove"),f4=mm(),Lh=null;f4.startListening({actionCreator:Zb,effect:(e,t)=>{var n=e.payload;Lh!==null&&cancelAnimationFrame(Lh);var r=_S(n);Lh=requestAnimationFrame(()=>{var i=t.getState(),a=hS(i,i.tooltip.settings.shared);if(a==="axis"){var s=IS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(W3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(V3())}Lh=null})}});function bre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var WP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},m4=na({name:"rootProps",initialState:WP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:WP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),wre=m4.reducer,{updateOptions:kre}=m4.actions,h4=na({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Sre}=h4.actions,Nre=h4.reducer,p4=Wa("keyDown"),g4=Wa("focus"),LS=mm();LS.startListening({actionCreator:p4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=pS(i,ud(n),Cm(n),Pm(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=jo(n);if(a==="Enter"){var c=Pg(n,"axis","hover",String(i.index));t.dispatch(Wb({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=DY(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=Pg(n,"axis","hover",String(m));t.dispatch(Wb({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});LS.startListening({actionCreator:g4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Pg(n,"axis","hover",String(a));t.dispatch(Wb({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ma=Wa("externalEvent"),x4=mm(),Dv=new Map;x4.startListening({actionCreator:Ma,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Dv.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:AX(o),activeDataKey:nL(o),activeIndex:Ku(o),activeLabel:tL(o),activeTooltipIndex:Ku(o),isTooltipActive:PX(o)};n(l,r)}finally{Dv.delete(i)}});Dv.set(i,s)}}});var Cre=ge([ld],e=>e.tooltipItemPayloads),jre=ge([Cre,Am,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),v4=Wa("touchMove"),y4=mm();y4.startListening({actionCreator:v4,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=hS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=IS(r,_S({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(W3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(PI),f=(o=c.getAttribute(TI))!==null&&o!==void 0?o:void 0,h=cd(r).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=jre(r,d,f);t.dispatch(U3({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var Are=X5({brush:ete,cartesianAxis:Hee,chartData:jQ,errorBars:Qte,graphicalItems:XJ,layout:lW,legend:cH,options:wQ,polarAxis:eJ,polarOptions:Nre,referenceElements:ote,rootProps:wre,tooltip:UY,zIndex:uQ}),Pre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return O9({reducer:Are,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([d4.middleware,f4.middleware,LS.middleware,x4.middleware,y4.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(dI({type:"raf"}))},devTools:{serialize:{replacer:bre},name:"recharts-".concat(n)}})};function b4(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ra(),a=v.useRef(null);if(i)return n;a.current==null&&(a.current=Pre(t,r));var s=J1;return v.createElement(Mne,{context:s,store:a.current},n)}function Tre(e){var{layout:t,margin:n}=e,r=Hn(),i=ra();return v.useEffect(()=>{i||(r(aW(t)),r(iW(n)))},[r,i,t,n]),null}var w4=v.memo(Tre,MS);function k4(e){var t=Hn();return v.useEffect(()=>{t(kre(e))},[t,e]),null}function HP(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),i=Hn();return v.useLayoutEffect(()=>(r.current&&i(lQ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(cQ({zIndex:t,isPanorama:n}))}),[i,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function qP(e){var{children:t,isPanorama:n}=e,r=Ct(ZX);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return v.createElement(v.Fragment,null,i.map(s=>v.createElement(HP,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>v.createElement(HP,{key:s,zIndex:s,isPanorama:n})))}var Ere=["children"];function Dre(e,t){if(e==null)return{};var n,r,i=Mre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_g.apply(null,arguments)}var Ore={width:"100%",height:"100%",display:"block"},Ire=v.forwardRef((e,t)=>{var n=ck(),r=uk(),i=XI();if(!$s(n)||!$s(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),v.createElement($1,_g({},s,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:Ore,ref:t}),a)}),_re=e=>{var{children:t}=e,n=Ct(z0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return v.createElement($1,{width:r,height:i,x:s,y:a},t)},KP=v.forwardRef((e,t)=>{var{children:n}=e,r=Dre(e,Ere),i=ra();return i?v.createElement(_re,null,v.createElement(qP,{isPanorama:!0},n)):v.createElement(Ire,_g({ref:t},r),v.createElement(qP,{isPanorama:!1},n))});function Lre(){var e=Hn(),[t,n]=v.useState(null),r=Ct(SW);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Lr(a)&&a!==r&&e(oW(a))}},[t,e,r]),n}function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(r){Fre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fre(e,t,n){return(t=Rre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rre(e){var t=Bre(e,"string");return typeof t=="symbol"?t:t+""}function Bre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nc.apply(null,arguments)}var zre=()=>(_Q(),null);function Lg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ure=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[a,s]=v.useState({containerWidth:Lg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Lg((r=e.style)===null||r===void 0?void 0:r.height)}),o=v.useCallback((c,d)=>{s(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=p=>{var{width:g,height:y}=p[0].contentRect;o(g,y)},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,o]);return v.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(V0,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Nc({ref:l},e)))}),Vre=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=v.useState({containerWidth:Lg(n),containerHeight:Lg(r)}),s=v.useCallback((l,c)=>{a(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return v.createElement(v.Fragment,null,v.createElement(V0,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Nc({ref:o},e)))}),Wre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(V0,{width:n,height:r}),v.createElement("div",Nc({ref:t},e)))}),Hre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return mo(n)||mo(r)?v.createElement(Vre,Nc({},e,{ref:t})):v.createElement(Wre,Nc({},e,{ref:t}))});function qre(e){return e===!0?Ure:Hre}var Kre=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:y,width:x,responsive:b,dispatchTouchEvents:w=!0}=e,k=v.useRef(null),C=Hn(),[N,j]=v.useState(null),[M,_]=v.useState(null),T=Lre(),D=lk(),O=(D==null?void 0:D.width)>0?D.width:x,Z=(D==null?void 0:D.height)>0?D.height:i,J=v.useCallback(R=>{T(R),typeof t=="function"&&t(R),j(R),_(R),R!=null&&(k.current=R)},[T,t,j,_]),se=v.useCallback(R=>{C(u4(R)),C(Ma({handler:a,reactEvent:R}))},[C,a]),de=v.useCallback(R=>{C(Zb(R)),C(Ma({handler:c,reactEvent:R}))},[C,c]),X=v.useCallback(R=>{C(V3()),C(Ma({handler:d,reactEvent:R}))},[C,d]),G=v.useCallback(R=>{C(Zb(R)),C(Ma({handler:f,reactEvent:R}))},[C,f]),F=v.useCallback(()=>{C(g4())},[C]),P=v.useCallback(R=>{C(p4(R.key))},[C]),A=v.useCallback(R=>{C(Ma({handler:s,reactEvent:R}))},[C,s]),te=v.useCallback(R=>{C(Ma({handler:o,reactEvent:R}))},[C,o]),S=v.useCallback(R=>{C(Ma({handler:l,reactEvent:R}))},[C,l]),U=v.useCallback(R=>{C(Ma({handler:h,reactEvent:R}))},[C,h]),q=v.useCallback(R=>{C(Ma({handler:g,reactEvent:R}))},[C,g]),ee=v.useCallback(R=>{w&&C(v4(R)),C(Ma({handler:p,reactEvent:R}))},[C,w,p]),K=v.useCallback(R=>{C(Ma({handler:m,reactEvent:R}))},[C,m]),re=qre(b);return v.createElement(cL.Provider,{value:N},v.createElement(YO.Provider,{value:M},v.createElement(re,{width:O??(y==null?void 0:y.width),height:Z??(y==null?void 0:y.height),className:Cn("recharts-wrapper",r),style:$re({position:"relative",cursor:"default",width:O,height:Z},y),onClick:se,onContextMenu:A,onDoubleClick:te,onFocus:F,onKeyDown:P,onMouseDown:S,onMouseEnter:de,onMouseLeave:X,onMouseMove:G,onMouseUp:U,onTouchEnd:K,onTouchMove:ee,onTouchStart:q,ref:J},v.createElement(zre,null),n)))}),Gre=["width","height","responsive","children","className","style","compact","title","desc"];function Yre(e,t){if(e==null)return{};var n,r,i=Xre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var S4=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=Yre(e,Gre),h=Va(f);return l?v.createElement(v.Fragment,null,v.createElement(V0,{width:n,height:r}),v.createElement(KP,{otherAttributes:h,title:c,desc:d},a)):v.createElement(Kre,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(KP,{otherAttributes:h,title:c,desc:d,ref:t},v.createElement(cte,null,a)))});function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jb.apply(null,arguments)}var Qre={top:5,right:5,bottom:5,left:5},Zre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Qre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Jre=v.forwardRef(function(t,n){var r,i=Vr(t.categoricalChartProps,Zre),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(b4,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},v.createElement(XL,{chartData:c.data}),v.createElement(w4,{layout:i.layout,margin:i.margin}),v.createElement(k4,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(S4,Jb({},i,{ref:n})))}),eie=["axis"],$g=v.forwardRef((e,t)=>v.createElement(Jre,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eie,tooltipPayloadSearcher:dL,categoricalChartProps:e,ref:t}));function tie(e){var t=Hn();return v.useEffect(()=>{t(Sre(e))},[t,e]),null}var nie=["layout"];function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(null,arguments)}function rie(e,t){if(e==null)return{};var n,r,i=iie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aie={top:5,right:5,bottom:5,left:5},N4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:aie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},sie=v.forwardRef(function(t,n){var r,i=Vr(t.categoricalChartProps,N4),{layout:a}=i,s=rie(i,nie),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(b4,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},v.createElement(XL,{chartData:i.data}),v.createElement(w4,{layout:a,margin:i.margin}),v.createElement(k4,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(tie,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(S4,ew({},s,{ref:n})))});function YP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(n),!0).forEach(function(r){oie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oie(e,t,n){return(t=lie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lie(e){var t=cie(e,"string");return typeof t=="symbol"?t:t+""}function cie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uie=["item"],die=XP(XP({},N4),{},{layout:"centric",startAngle:0,endAngle:360}),tw=v.forwardRef((e,t)=>{var n=Vr(e,die);return v.createElement(sie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:uie,tooltipPayloadSearcher:dL,categoricalChartProps:n,ref:t})});const Nn=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),QP="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",rf=new Map,Tu=new Map,fie=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(rf.has(r)||Tu.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&rf.set(r,s),s})();Tu.set(r,i);try{await i}finally{Tu.delete(r)}}))},mie=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:rf.get(e)||QP:null});return v.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=rf.get(e);if(r){n(r);return}let i=!0;const a=Tu.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&rf.set(e,l),l})();return Tu.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(QP)}}).finally(()=>{Tu.delete(e)}),()=>{i=!1}},[e]),t},hie=(e,t,n,r)=>{const[i,a]=v.useState("bottom"),[s,o]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(M=>{let _=(M==null?void 0:M.parentElement)||null;for(;_;){const T=window.getComputedStyle(_),D=`${T.overflow}${T.overflowY}${T.overflowX}`;if(/(auto|scroll|hidden)/.test(D))return _;_=_.parentElement}return null})(c),g=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=g.bottom-f.bottom,x=f.top-g.top,b=y<h.height+8&&x>y?"top":"bottom";a(b);const w=6,k=f.left+f.width/2,C=g.left+w+h.width/2,N=g.right-w-h.width/2,j=Math.min(Math.max(k,C),N);o(j-k)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},pie=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},C4=(e,t,n,r,i=8)=>{const[a,s]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const o=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,g=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),y=f.left+f.width/2,x=i+h.width/2,b=window.innerWidth-i-h.width/2,w=Math.min(Math.max(y,x),b);s({position:"fixed",top:g,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},gie=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Xl(i||"Unknown"),s=r.length>1,[o,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=hie(o,[r.length,f],c,d),p=Array.from(new Set(r.map(b=>ac(b||"Unknown")))).slice(0,4),g=p.length>1?`conic-gradient(${p.map((b,w)=>`${b} ${w*360/p.length}deg ${(w+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const y=h==="top"?"bottom-full mb-2":"top-full mt-2",x={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:g},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),u.jsxs("div",{ref:d,style:x,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${y} ${o?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Xl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},xie=(e,t,n="w-4 h-4 object-contain")=>u.jsx(gie,{profession:e,professionList:t,className:n}),Mv=({count:e,classCounts:t,label:n,className:r})=>{const i=pie(t||{}),a=e>0,[s,o]=v.useState(!1),l=v.useRef(null),c=v.useRef(null),d=C4(s,[i.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&td.createPortal(u.jsxs("div",{ref:c,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${s?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const g=Xl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[g?u.jsx("img",{src:g,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Sr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i="",truncateText:a=!0})=>{const s=mie(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[s?u.jsx("img",{src:s,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`${a?"truncate":""} ${i}`,children:e})]})},ZP=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=v.useState(!1),o=v.useRef(null),l=v.useRef(null),c=C4(a,[n.length],o,l);return u.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{children:e}),i&&typeof document<"u"&&td.createPortal(u.jsxs("div",{ref:l,style:c,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${a?"block":"hidden"}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Sr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},vie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:g,setSkillUsagePlayerFilter:y,skillUsageView:x,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:k,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:j,skillBarData:M,selectedSkillName:_,selectedSkillIcon:T,skillUsageReady:D,skillUsageAvailable:O,isSkillUsagePerSecond:Z,skillChartData:J,skillChartMaxY:se,playerTotalsForSkill:de,hoveredSkillPlayer:X,setHoveredSkillPlayer:G,getLineStrokeColor:F,getLineDashForPlayer:P,formatSkillUsageValue:A,renderProfessionIcon:te})=>u.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(C1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Nn,{value:x,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]})]}),o.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(S=>{const U=d.get(S);return U?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:U.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[U.logs," ",U.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(U.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(TO,{className:"w-3 h-3"})})]},U.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:g,onChange:S=>y(S.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(S=>{const U=h===S.profession,q=S.players.map(K=>K.key),ee=q.length>0&&q.every(K=>o.includes(K));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(U){m(null);return}m(S.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${U?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[te(S.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:S.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[S.players.length,"p"]}),U?u.jsx(eb,{className:"w-3.5 h-3.5"}):u.jsx(k6,{className:"w-3.5 h-3.5"})]})]})}),U&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[S.players.length," ",S.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(K=>{if(ee)return K.filter(R=>!q.includes(R));const re=new Set(K);return q.forEach(R=>re.add(R)),Array.from(re)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:ee?"Clear All":"Select All"})]}),S.players.map(K=>{const re=o.includes(K.key);return u.jsx("button",{type:"button",onClick:()=>p(K.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${re?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:K.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[K.account,"  ",K.profession,"  ",K.logs," ",K.logs===1?"log":"logs"]})]}),re&&u.jsx(jO,{className:"w-4 h-4 text-cyan-300"})]})},K.key)})]})]},S.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${Z?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:k,onChange:S=>C(S.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):M.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const S=M.reduce((U,q)=>Math.max(U,q.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:M.map((U,q)=>{const ee=Math.min(100,U.total/S*100),K=N===U.skillId;return u.jsxs("button",{type:"button",onClick:()=>j(U.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${K?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${q+1}`}),u.jsx(Sr,{name:U.name,iconUrl:U.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:A(U.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${ee}%`,backgroundColor:U.color}})})]},U.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:D?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:_?u.jsx(Sr,{name:_,iconUrl:T,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",Z?"casts per second":"casts per log",")"]})]}),u.jsx(vc,{width:"100%",height:250,children:u.jsxs($g,{data:J,children:[u.jsx(Yf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Qf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:S=>{const U=J[S],q=String((U==null?void 0:U.shortLabel)??S);return q.length>20?`${q.slice(0,20)}`:q}}),u.jsx(Zf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,se)],allowDecimals:!1}),u.jsx(kc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:S,payload:U,label:q})=>{var R;if(!S||!U||U.length===0)return null;const ee=[...U].sort((H,le)=>(le.value||0)-(H.value||0)),K=ee[0],re=((R=K==null?void 0:K.payload)==null?void 0:R.fullLabel)||q;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:re}),u.jsx("div",{className:"space-y-1",children:ee.map(H=>{const le=String(H.name||""),ae=d.get(le),B=(ae==null?void 0:ae.displayName)||le||"Player",V=A(Number(H.value||0)),L=H.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:L},children:B}),u.jsx("span",{className:"text-gray-200 font-mono",children:V})]},`${B}-${V}`)})})]})}}),o.map(S=>{const U=X.includes(S),q=X.length>0,ee=F(S,U,q),K=P(S),re=X.length>0&&!U;return u.jsx(Qs,{dataKey:S,stroke:ee,strokeWidth:U?4:3,strokeDasharray:K,opacity:re?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},S)})]})})]}),o.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((S,U)=>(de.get(U)||0)-(de.get(S)||0)).map(S=>{const U=d.get(S),q=de.get(S)??0,ee=X.includes(S),K=X.length>0,re=F(S,ee,K);return u.jsxs("button",{type:"button",onClick:()=>{G(R=>R.includes(S)?R.filter(H=>H!==S):[...R,S])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${ee?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":ee,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:re,strokeWidth:"2",strokeDasharray:P(S),strokeLinecap:"round"})}),te(U==null?void 0:U.profession,U==null?void 0:U.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(U==null?void 0:U.displayName)||S}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(U==null?void 0:U.logs)??0," ",((U==null?void 0:U.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:A(q)})]},S)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),yie=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,i]=v.useState(0),[a,s]=v.useState(0),o=v.useRef(!1),l=v.useRef(0),c=v.useRef(0);v.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:w,clientWidth:k,scrollLeft:C}=h,N=w>k,j=n.current,M=(j==null?void 0:j.clientWidth)||0;if(!M){m=window.requestAnimationFrame(p);return}if(!N){i(M),s(0);return}const _=k/w,T=Math.max(20,Math.floor(M*_)),D=w-k,O=Math.max(0,M-T),Z=D>0?Math.floor(C/D*O):0;i(T),s(Z)};p();const g=()=>p(),y=new ResizeObserver(p);y.observe(h);const x=h.firstElementChild;x instanceof HTMLElement&&y.observe(x),n.current&&y.observe(n.current);const b=new MutationObserver(()=>p());return b.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",g),()=>{m&&window.cancelAnimationFrame(m),y.disconnect(),b.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",g)}},[e]),v.useEffect(()=>{const h=p=>{if(!o.current)return;const g=n.current,y=e.current;if(!g||!y)return;const x=g.getBoundingClientRect(),b=p.clientX-l.current,w=Math.max(0,x.width-r),k=Math.min(w,Math.max(0,c.current+b)),C=y.scrollWidth-y.clientWidth,N=w>0?k/w*C:0;y.scrollLeft=N},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const g=m.getBoundingClientRect(),y=h.clientX-g.left,x=Math.max(0,g.width-r),b=Math.min(x,Math.max(0,y-r/2)),w=p.scrollWidth-p.clientWidth;p.scrollLeft=x>0?b/x*w:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,c.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},ms=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const c=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?u.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),p&&u.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>u.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),u.jsx(yie,{containerRef:c})]})},hs=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=v.useState(""),[o,l]=v.useState(!1),[c,d]=v.useState(0),f=v.useRef(null),h=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const x=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=v.useMemo(()=>{const x=a.trim().toLowerCase();return x?e.filter(b=>b.label.toLowerCase().includes(x)).slice(0,50):e.slice(0,50)},[e,a]),g=v.useMemo(()=>{const x=new Map;return p.forEach((b,w)=>{x.set(`${b.type}-${b.id}`,w)}),x},[p]),y=v.useMemo(()=>{const x=p.filter(w=>w.type==="column"),b=p.filter(w=>w.type==="player");return{columns:x,players:b}},[p]);return v.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(x=>Math.min(Math.max(x,0),p.length-1))}},[p,o]),v.useEffect(()=>{if(!o)return;const x=p[c];if(!x)return;const b=`${x.type}-${x.id}`,w=m.current.get(b);w&&h.current&&w.scrollIntoView({block:"nearest"})},[c,p,o]),u.jsxs("div",{ref:f,className:`relative ${i}`,children:[u.jsx("input",{value:a,onChange:x=>{s(x.target.value),l(!0)},onKeyDown:x=>{if(!o&&(x.key==="ArrowDown"||x.key==="ArrowUp")){l(!0);return}if(o)if(x.key==="ArrowDown"){if(x.preventDefault(),p.length===0)return;d(b=>(b+1)%p.length)}else if(x.key==="ArrowUp"){if(x.preventDefault(),p.length===0)return;d(b=>(b-1+p.length)%p.length)}else if(x.key==="Enter"){x.preventDefault();const b=p[c];if(!b)return;r(b),s(""),l(!1)}else x.key==="Escape"&&(x.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[y.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),y.columns.map(x=>{const b=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${x.type}-${x.id}`,w)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${x.type}-${x.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]}),y.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),y.players.map(x=>{const b=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${x.type}-${x.id}`,w)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${x.type}-${x.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]})]})})]})},ur=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=v.useState(!1),c=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=h=>{c.current&&(c.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${i}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,u.jsx("span",{children:a}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},bie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:g,setActiveApmSkillId:y,ALL_SKILLS_KEY:x,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:k,activeApmSkill:C,isAllApmSkills:N,apmView:j,setApmView:M,formatApmValue:_,formatCastRateValue:T,formatCastCountValue:D,renderProfessionIcon:O})=>{var K;const[Z,J]=v.useState({key:"apm",dir:"desc"}),se=e==="apm-stats",[de,X]=v.useState({columnId:"",dir:"desc"}),[G,F]=v.useState([]),[P,A]=v.useState([]),[te,S]=v.useState({}),U=se?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,q=re=>{J(R=>({key:re,dir:R.key===re&&R.dir==="desc"?"asc":"desc"}))},ee=v.useMemo(()=>{const re=[...(k==null?void 0:k.playerRows)||[]];return re.sort((R,H)=>{const le=Z.key==="apm"?Number(j==="perSecond"?R.aps:R.apm):Number(j==="perSecond"?R.apsNoAuto:R.apmNoAuto),ae=Z.key==="apm"?Number(j==="perSecond"?H.aps:H.apm):Number(j==="perSecond"?H.apsNoAuto:H.apmNoAuto);return(Z.dir==="desc"?ae-le:le-ae)||String(R.displayName||"").localeCompare(String(H.displayName||""))}),re},[k,Z,j]);return u.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(T1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:re=>w(re.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:U,children:d.map(re=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const R=f!==re.profession;h(re.profession),p(R?re.profession:m===re.profession?null:re.profession),R&&(y(x),F([]),A([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===re.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(re.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:re.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[re.players.length,"p"]})})]})}),!se&&m===re.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:te[re.profession]||"",onChange:R=>{const H=R.target.value;S(le=>({...le,[re.profession]:H}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{h(re.profession),y(x)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===re.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(re.skills||[]).filter(R=>{const H=(te[re.profession]||"").trim().toLowerCase();return H?String(R.name||"").toLowerCase().includes(H):!0}).map(R=>u.jsx("button",{type:"button",onClick:()=>{h(re.profession),y(R.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===re.profession&&g===R.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:R.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[R.icon?u.jsx("img",{src:R.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:R.name})]})},R.id)),(re.skills||[]).filter(R=>{const H=(te[re.profession]||"").trim().toLowerCase();return H?String(R.name||"").toLowerCase().includes(H):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},re.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:k?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[se&&(()=>{const re=k.skills||[],R=(k.playerRows||[]).map(B=>({id:B.key,label:B.displayName||B.account||B.key,icon:O(B.profession,B.professionList,"w-3 h-3")})),H=re.map(B=>({id:B.id,label:B.name,icon:B.icon?u.jsx("img",{src:B.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),le=[...re.map(B=>({id:B.id,label:B.name,type:"column",icon:B.icon?u.jsx("img",{src:B.icon,alt:"",className:"h-4 w-4"}):void 0})),...(k.playerRows||[]).map(B=>({id:B.key,label:B.displayName||B.account||B.key,type:"player",icon:O(B.profession,B.professionList,"w-3 h-3")}))],ae=new Set([...G.map(B=>`column:${B}`),...P.map(B=>`player:${B}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:le,selectedIds:ae,onSelect:B=>{B.type==="column"?F(V=>V.includes(B.id)?V.filter(L=>L!==B.id):[...V,B.id]):A(V=>V.includes(B.id)?V.filter(L=>L!==B.id):[...V,B.id])},className:"w-full sm:w-64"}),u.jsx(ur,{options:H,selectedIds:G,onToggle:B=>{F(V=>V.includes(B)?V.filter(L=>L!==B):[...V,B])},onClear:()=>F([]),buttonLabel:"Columns",buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:R,selectedIds:P,onToggle:B=>{A(V=>V.includes(B)?V.filter(L=>L!==B):[...V,B])},onClear:()=>A([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Nn,{value:j,onChange:M,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(G.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{F([]),A([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),G.map(B=>{var L;const V=((L=re.find(ne=>ne.id===B))==null?void 0:L.name)||B;return u.jsxs("button",{type:"button",onClick:()=>F(ne=>ne.filter(Ce=>Ce!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},B)}),P.map(B=>{var L;const V=((L=R.find(ne=>ne.id===B))==null?void 0:L.label)||B;return u.jsxs("button",{type:"button",onClick:()=>A(ne=>ne.filter(Ce=>Ce!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},B)})]})]})})(),se?(()=>{var B,V;const re=k.skills||[],R=G.length>0?re.filter(L=>G.includes(L.id)):re,H=P.length>0?(k.playerRows||[]).filter(L=>P.includes(L.key)):k.playerRows||[];if(re.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const le=((B=R.find(L=>L.id===de.columnId))==null?void 0:B.id)||((V=R[0])==null?void 0:V.id)||"",ae=[...H].map(L=>{const ne={},Ce={};return R.forEach(ze=>{var Ie;const ce=Number(((Ie=ze.playerCounts)==null?void 0:Ie.get(L.key))||0),He=j==="perSecond"?ce/Math.max(1,L.totalActiveSeconds||0):ce;Ce[ze.id]=He,ne[ze.id]=j==="perSecond"?T(He):D(He)}),{row:L,values:ne,numericValues:Ce}}).sort((L,ne)=>{const Ce=L.numericValues[le]??0,ze=ne.numericValues[le]??0;return(de.dir==="desc"?ze-Ce:Ce-ze)||String(L.row.displayName||"").localeCompare(String(ne.row.displayName||""))});return u.jsx(ms,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:le,sortDirection:de.dir,onSortColumn:L=>{X(ne=>({columnId:L,dir:ne.columnId===L&&ne.dir==="desc"?"asc":"desc"}))},columns:R.map(L=>({id:L.id,label:u.jsx(Sr,{name:L.name,iconUrl:L.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ae.map((L,ne)=>({id:`${k.profession}-${L.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),O(L.row.profession,L.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:L.row.displayName})]}),values:L.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(k.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Sr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((K=k.playerRows)==null?void 0:K.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>q("apm"),className:`text-right transition-colors ${Z.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM",Z.key==="apm"?Z.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>q("apmNoAuto"),className:`text-right transition-colors ${Z.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM"," (No Auto)",Z.key==="apmNoAuto"?Z.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:j==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ee.map((re,R)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${R+1}`}),O(re.profession,re.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:re.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(j==="perSecond"?re.aps:re.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(j==="perSecond"?re.apsNoAuto:re.apmNoAuto)})]},`${k.profession}-all-${re.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((re,R)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${R+1}`}),O(re.profession,re.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:re.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:D(Number(re.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(Number(j==="perSecond"?re.aps||0:re.apm||0))})]},`${k.profession}-${C.id}-${re.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},wie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:g,activePlayerSkillId:y,setActivePlayerSkillId:x,activeClassKey:b,setActiveClassKey:w,expandedClassKey:k,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:j,skillSearch:M,setSkillSearch:_,activePlayerBreakdown:T,activePlayerSkill:D,activeClassBreakdown:O,activeClassSkill:Z,renderProfessionIcon:J})=>{const se=d.length,de=((T==null?void 0:T.skills)||[]).reduce((V,L)=>V+(L.damage||0),0),X=(O==null?void 0:O.players)||[],[G,F]=v.useState({key:"down",dir:"desc"}),P=e==="player-breakdown",[A,te]=v.useState([]),[S,U]=v.useState([]),[q,ee]=v.useState({columnId:"",dir:"desc"}),[K,re]=v.useState({}),[R,H]=v.useState({}),le=P?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,ae=v.useMemo(()=>{if(!O||!Z)return X;const V=[...X];return V.sort((L,ne)=>{var xe,_e;const Ce=(xe=L.skillMap)==null?void 0:xe[Z.id],ze=(_e=ne.skillMap)==null?void 0:_e[Z.id],ce=Number((Ce==null?void 0:Ce.downContribution)||0),He=Number((ze==null?void 0:ze.downContribution)||0),Ie=Number((Ce==null?void 0:Ce.damage)||0),mt=Number((ze==null?void 0:ze.damage)||0),Ft=L.totalFightMs>0?Ie/(L.totalFightMs/1e3):0,hn=ne.totalFightMs>0?mt/(ne.totalFightMs/1e3):0;let jn=0;return G.key==="down"&&(jn=ce-He),G.key==="damage"&&(jn=Ie-mt),G.key==="dps"&&(jn=Ft-hn),G.dir==="asc"?jn:-jn}),V},[O,X,Z,G]),B=V=>{F(L=>L.key!==V?{key:V,dir:"desc"}:{key:V,dir:L.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(j1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[se," ",se===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:P?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!P&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(V=>{const L=l===V.id;return u.jsx("button",{type:"button",onClick:()=>c(V.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${L?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:V.label},V.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:M,onChange:V=>_(V.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:le,children:(P?"class":l)==="player"?d.map(V=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const L=h!==V.key;L&&(x(null),te([]),U([])),m(V.key),g(L?V.key:p===V.key?null:V.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===V.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:V.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(V.profession,V.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:V.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[V.skills.length," skills"]})})]})}),!P&&p===V.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:K[V.key]||"",onChange:L=>{const ne=L.target.value;re(Ce=>({...Ce,[V.key]:ne}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),V.skills.filter(L=>{const ne=(K[V.key]||"").trim().toLowerCase();return ne?String(L.name||"").toLowerCase().includes(ne):!0}).map(L=>u.jsx("button",{type:"button",onClick:()=>{m(V.key),x(L.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===V.key&&y===L.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:L.name})]})},L.id)),V.skills.filter(L=>{const ne=(K[V.key]||"").trim().toLowerCase();return ne?String(L.name||"").toLowerCase().includes(ne):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},V.key)):f.map(V=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const L=b!==V.profession;L&&(j(null),te([]),U([])),w(V.profession),C(L?V.profession:k===V.profession?null:V.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===V.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(V.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:V.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[V.players.length,"p"]})})]})}),!P&&k===V.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:R[V.profession]||"",onChange:L=>{const ne=L.target.value;H(Ce=>({...Ce,[V.profession]:ne}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),V.skills.filter(L=>{const ne=(R[V.profession]||"").trim().toLowerCase();return ne?String(L.name||"").toLowerCase().includes(ne):!0}).map(L=>u.jsx("button",{type:"button",onClick:()=>{w(V.profession),j(L.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===V.profession&&N===L.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:L.name})]})},L.id)),V.skills.filter(L=>{const ne=(R[V.profession]||"").trim().toLowerCase();return ne?String(L.name||"").toLowerCase().includes(ne):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},V.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(P?"class":l)==="player"?!T||!P&&!D?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[P&&(()=>{const V=T.skills||[],L=d.map(ce=>({id:ce.key,label:ce.displayName||ce.key,icon:J(ce.profession,ce.professionList,"w-3 h-3")})),ne=V.map(ce=>({id:ce.id,label:ce.name,icon:ce.icon?u.jsx("img",{src:ce.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ce=[...V.map(ce=>({id:ce.id,label:ce.name,type:"column",icon:ce.icon?u.jsx("img",{src:ce.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(ce=>({id:ce.key,label:ce.displayName||ce.key,type:"player",icon:J(ce.profession,ce.professionList,"w-3 h-3")}))],ze=new Set([...A.map(ce=>`column:${ce}`),...S.map(ce=>`player:${ce}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:Ce,selectedIds:ze,onSelect:ce=>{ce.type==="column"?te(He=>He.includes(ce.id)?He.filter(Ie=>Ie!==ce.id):[...He,ce.id]):U(He=>He.includes(ce.id)?He.filter(Ie=>Ie!==ce.id):[...He,ce.id])},className:"w-full sm:w-64"}),u.jsx(ur,{options:ne,selectedIds:A,onToggle:ce=>{te(He=>He.includes(ce)?He.filter(Ie=>Ie!==ce):[...He,ce])},onClear:()=>te([]),buttonLabel:"Columns",buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:L,selectedIds:S,onToggle:ce=>{U(He=>He.includes(ce)?He.filter(Ie=>Ie!==ce):[...He,ce])},onClear:()=>U([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})})]}),(A.length>0||S.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{te([]),U([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(ce=>{var Ie;const He=((Ie=V.find(mt=>mt.id===ce))==null?void 0:Ie.name)||ce;return u.jsxs("button",{type:"button",onClick:()=>te(mt=>mt.filter(Ft=>Ft!==ce)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:He}),u.jsx("span",{className:"text-gray-400",children:""})]},ce)}),S.map(ce=>{var Ie;const He=((Ie=L.find(mt=>mt.id===ce))==null?void 0:Ie.label)||ce;return u.jsxs("button",{type:"button",onClick:()=>U(mt=>mt.filter(Ft=>Ft!==ce)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:He}),u.jsx("span",{className:"text-gray-400",children:""})]},ce)})]})]})})(),P?(()=>{var ce,He;const V=T.skills||[],L=A.length>0?V.filter(Ie=>A.includes(Ie.id)):V,ne=S.length>0?d.filter(Ie=>S.includes(Ie.key)):d,Ce=((ce=L.find(Ie=>Ie.id===q.columnId))==null?void 0:ce.id)||((He=L[0])==null?void 0:He.id)||"",ze=ne.map(Ie=>{const mt={},Ft={};return L.forEach(hn=>{var _e;const jn=(_e=Ie.skillMap)==null?void 0:_e[hn.id],xe=Number((jn==null?void 0:jn.damage)||0);Ft[hn.id]=xe,mt[hn.id]=$o(xe)}),{player:Ie,values:mt,numericValues:Ft}}).sort((Ie,mt)=>{const Ft=Ie.numericValues[Ce]??0,hn=mt.numericValues[Ce]??0;return(q.dir==="desc"?hn-Ft:Ft-hn)||String(Ie.player.displayName||"").localeCompare(String(mt.player.displayName||""))});return u.jsx(ms,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ce,sortDirection:q.dir,onSortColumn:Ie=>{ee(mt=>({columnId:Ie,dir:mt.columnId===Ie&&mt.dir==="desc"?"asc":"desc"}))},columns:L.map(Ie=>({id:Ie.id,label:u.jsx(Sr,{name:Ie.name,iconUrl:Ie.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ze.map((Ie,mt)=>({id:`${Ie.player.key}-${mt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:mt+1}),J(Ie.player.profession,Ie.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Ie.player.displayName})]}),values:Ie.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[J(T.profession,T.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(Sr,{name:(D==null?void 0:D.name)||"",iconUrl:D==null?void 0:D.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.skills.length," skills | ",$o(de)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:$o((D==null?void 0:D.downContribution)||0)},{label:"Total Damage",value:$o((D==null?void 0:D.damage)||0)},{label:"DPS",value:ca(T.totalFightMs>0?((D==null?void 0:D.damage)||0)/(T.totalFightMs/1e3):0,1)}].map(V=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:V.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:V.value})]},V.label))})]})]}):!O||!P&&!Z?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[P&&(()=>{const V=O.skills||[],L=X.map(ce=>({id:ce.key,label:ce.displayName||ce.key,icon:J(ce.profession,ce.professionList,"w-3 h-3")})),ne=V.map(ce=>({id:ce.id,label:ce.name,icon:ce.icon?u.jsx("img",{src:ce.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ce=[...V.map(ce=>({id:ce.id,label:ce.name,type:"column",icon:ce.icon?u.jsx("img",{src:ce.icon,alt:"",className:"h-4 w-4"}):void 0})),...X.map(ce=>({id:ce.key,label:ce.displayName||ce.key,type:"player",icon:J(ce.profession,ce.professionList,"w-3 h-3")}))],ze=new Set([...A.map(ce=>`column:${ce}`),...S.map(ce=>`player:${ce}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:Ce,selectedIds:ze,onSelect:ce=>{ce.type==="column"?te(He=>He.includes(ce.id)?He.filter(Ie=>Ie!==ce.id):[...He,ce.id]):U(He=>He.includes(ce.id)?He.filter(Ie=>Ie!==ce.id):[...He,ce.id])},className:"w-full sm:w-64"}),u.jsx(ur,{options:ne,selectedIds:A,onToggle:ce=>{te(He=>He.includes(ce)?He.filter(Ie=>Ie!==ce):[...He,ce])},onClear:()=>te([]),buttonLabel:"Columns",buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:L,selectedIds:S,onToggle:ce=>{U(He=>He.includes(ce)?He.filter(Ie=>Ie!==ce):[...He,ce])},onClear:()=>U([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})})]}),(A.length>0||S.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{te([]),U([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(ce=>{var Ie;const He=((Ie=V.find(mt=>mt.id===ce))==null?void 0:Ie.name)||ce;return u.jsxs("button",{type:"button",onClick:()=>te(mt=>mt.filter(Ft=>Ft!==ce)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:He}),u.jsx("span",{className:"text-gray-400",children:""})]},ce)}),S.map(ce=>{var Ie;const He=((Ie=L.find(mt=>mt.id===ce))==null?void 0:Ie.label)||ce;return u.jsxs("button",{type:"button",onClick:()=>U(mt=>mt.filter(Ft=>Ft!==ce)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:He}),u.jsx("span",{className:"text-gray-400",children:""})]},ce)})]})]})})(),P?(()=>{var ce,He;const V=O.skills||[],L=A.length>0?V.filter(Ie=>A.includes(Ie.id)):V,ne=S.length>0?X.filter(Ie=>S.includes(Ie.key)):X,Ce=((ce=L.find(Ie=>Ie.id===q.columnId))==null?void 0:ce.id)||((He=L[0])==null?void 0:He.id)||"",ze=ne.map(Ie=>{const mt={},Ft={};return L.forEach(hn=>{var _e;const jn=(_e=Ie.skillMap)==null?void 0:_e[hn.id],xe=Number((jn==null?void 0:jn.damage)||0);Ft[hn.id]=xe,mt[hn.id]=$o(xe)}),{player:Ie,values:mt,numericValues:Ft}}).sort((Ie,mt)=>{const Ft=Ie.numericValues[Ce]??0,hn=mt.numericValues[Ce]??0;return(q.dir==="desc"?hn-Ft:Ft-hn)||String(Ie.player.displayName||"").localeCompare(String(mt.player.displayName||""))});return u.jsx(ms,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ce,sortDirection:q.dir,onSortColumn:Ie=>{ee(mt=>({columnId:Ie,dir:mt.columnId===Ie&&mt.dir==="desc"?"asc":"desc"}))},columns:L.map(Ie=>({id:Ie.id,label:u.jsx(Sr,{name:Ie.name,iconUrl:Ie.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ze.map((Ie,mt)=>({id:`${Ie.player.key}-${mt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:mt+1}),J(Ie.player.profession,Ie.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Ie.player.displayName})]}),values:Ie.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[J(O.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(Sr,{name:(Z==null?void 0:Z.name)||"",iconUrl:Z==null?void 0:Z.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[X.length," players | ",O.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>B("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:G.key==="down"?G.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>B("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:G.key==="damage"?G.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>B("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:G.key==="dps"?G.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ae.map(V=>{var ce;const L=(ce=V.skillMap)==null?void 0:ce[(Z==null?void 0:Z.id)||""],ne=Number((L==null?void 0:L.downContribution)||0),Ce=Number((L==null?void 0:L.damage)||0),ze=V.totalFightMs>0?Ce/(V.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(V.profession,V.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:V.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$o(ne)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$o(Ce)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ca(ze,1)})]},`${O.profession}-${V.key}`)})})]})]})})]})})]})},j4=({className:e})=>u.jsx(_6,{className:e,style:{transform:"rotate(45deg)"}}),Ao=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),ps=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),kie=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:b})=>{var P;const[w,k]=v.useState({key:"value",dir:"desc"}),[C,N]=v.useState({columnId:((P=t[0])==null?void 0:P.id)||"value",dir:"desc"}),j=f==="offense-detailed",[M,_]=v.useState([]),[T,D]=v.useState([]),O=t.filter(A=>A.label.toLowerCase().includes(r.trim().toLowerCase())),Z=t.map(A=>({id:A.id,label:A.label})),J=Z.filter(A=>A.label.toLowerCase().includes(r.trim().toLowerCase())),de=M.length>0?t.filter(A=>M.includes(A.id)):t,X=Array.from(new Map(e.offensePlayers.map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:d(A.profession,A.professionList,"w-3 h-3")})),G=new Set([...M.map(A=>`column:${A}`),...T.map(A=>`player:${A}`)]),F=A=>{k(te=>({key:A,dir:te.key===A&&te.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":g("offense-detailed"),"data-section-first":y("offense-detailed"),className:x("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(j4,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...Z.map(A=>({...A,type:"column"})),...X.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?_(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id]):D(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id])},selectedIds:G,className:"w-full sm:w-64"}),u.jsx(ur,{options:J,selectedIds:M,onToggle:A=>{_(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>_([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:X,selectedIds:T,onToggle:A=>{D(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Nn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(A=>{var S;const te=((S=Z.find(U=>U.id===A))==null?void 0:S.label)||A;return u.jsxs("button",{type:"button",onClick:()=>_(U=>U.filter(q=>q!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:te}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),T.map(A=>u.jsxs("button",{type:"button",onClick:()=>D(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var ee,K;const A=re=>Math.max(1,(re.totalFightMs||0)/1e3),te=(re,R,H)=>{var le,ae,B,V,L;if(R==="downContributionPercent"){const ne=((le=re.offenseTotals)==null?void 0:le.downContribution)||0,Ce=((ae=re.offenseTotals)==null?void 0:ae.damage)||0;return Ce>0?ne/Ce*100:0}if(H.isRate){const ne=((B=re.offenseRateWeights)==null?void 0:B[R])||0,Ce=((V=re.offenseTotals)==null?void 0:V[R])||0;return ne>0?Ce/ne*100:0}return((L=re.offenseTotals)==null?void 0:L[R])||0},S=(re,R)=>{const H=n&&!R.isPercent&&o==="total"?0:2,le=c(re,H);return R.isPercent?`${le}%`:le},U=((ee=de.find(re=>re.id===C.columnId))==null?void 0:ee.id)||((K=de[0])==null?void 0:K.id)||"",q=[...e.offensePlayers].filter(re=>T.length===0||T.includes(re.account)).map(re=>{const R={},H={};return de.forEach(le=>{const ae=te(re,le.id,le),B=o==="total"||le.isPercent||le.isRate?ae:o==="per1s"?ae/A(re):ae*60/A(re);H[le.id]=B,R[le.id]=S(B,le)}),{row:re,values:R,numericValues:H}}).sort((re,R)=>{const H=re.numericValues[U]??0,le=R.numericValues[U]??0;return(C.dir==="desc"?le-H:H-le)||String(re.row.account||"").localeCompare(String(R.row.account||""))});return u.jsx(ms,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:U,sortDirection:C.dir,onSortColumn:re=>{N(R=>({columnId:re,dir:R.columnId===re&&R.dir==="desc"?"asc":"desc"}))},columns:de.map(re=>({id:re.id,label:re.label,align:"right",minWidth:90})),rows:q.map((re,R)=>({id:`${re.row.account}-${R}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:R+1}),d(re.row.profession,re.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:re.row.account})]}),values:re.values}))})})()})]}):u.jsx(Ao,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:A=>i(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:O.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):O.map(A=>u.jsx("button",{onClick:()=>s(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===A.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:A.label},A.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const A=t.find(ee=>ee.id===a)||t[0],te=ee=>Math.max(1,(ee.totalFightMs||0)/1e3),S=ee=>{var K,re,R,H,le;if(A.id==="downContributionPercent"){const ae=((K=ee.offenseTotals)==null?void 0:K.downContribution)||0,B=((re=ee.offenseTotals)==null?void 0:re.damage)||0;return B>0?ae/B*100:0}if(A.isRate){const ae=((R=ee.offenseRateWeights)==null?void 0:R[A.id])||0,B=((H=ee.offenseTotals)==null?void 0:H[A.id])||0;return ae>0?B/ae*100:0}return((le=ee.offenseTotals)==null?void 0:le[A.id])||0},U=ee=>{const K=n&&!A.isPercent&&o==="total"?0:2,re=c(ee,K);return A.isPercent?`${re}%`:re},q=[...e.offensePlayers].map(ee=>({...ee,total:S(ee),per1s:A.isPercent||A.isRate?S(ee):S(ee)/te(ee),per60s:A.isPercent||A.isRate?S(ee):S(ee)*60/te(ee)})).sort((ee,K)=>{const re=w.key==="fightTime"?Number(ee.totalFightMs||0):Number(o==="total"?ee.total:o==="per1s"?ee.per1s:ee.per60s),R=w.key==="fightTime"?Number(K.totalFightMs||0):Number(o==="total"?K.total:o==="per1s"?K.per1s:K.per60s);return(w.dir==="desc"?R-re:re-R)||ee.account.localeCompare(K.account)});return u.jsx(ps,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(Nn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>F("value"),className:`text-right transition-colors ${w.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>F("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:q.map((ee,K)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:K+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(ee.profession,ee.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ee.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const re=o==="total"?ee.total:o==="per1s"?ee.per1s:ee.per60s;return U(re)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:ee.totalFightMs?`${(ee.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${A.id}-${ee.account}-${K}`))})})})()})})]})},Sie=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:k})=>{var P;const C=m==="conditions-outgoing",[N,j]=v.useState([]),[M,_]=v.useState([]),[T,D]=v.useState({columnId:"all",dir:"desc"}),O=A=>{if(!A)return 0;if(s!=="outgoing"){const q=Number(A.applicationsFromUptime);return Number.isFinite(q)&&q>0?q:Number(A.applications||0)}const te=Number(A.applicationsFromUptime);if(Number.isFinite(te)&&te>0)return te;const S=Number(A.applicationsFromBuffsActive);if(Number.isFinite(S)&&S>0)return S;const U=Number(A.applicationsFromBuffs);return Number.isFinite(U)&&U>0?U:Number(A.applications||0)},Z=[...e||[]].sort((A,te)=>(te.damage||0)-(A.damage||0)),J=Z.filter(A=>A.name.toLowerCase().includes(n.trim().toLowerCase())),se=J.map(A=>({id:A.name,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),X=N.length>0?Z.filter(A=>N.includes(A.name)):Z,G=Array.from(new Map((t||[]).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:h(A.profession,A.professionList,"w-3 h-3")})),F=new Set([...N.map(A=>`column:${A}`),...M.map(A=>`player:${A}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":x("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(p0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?y():g("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]}),e&&e.length>0?C?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...Z.map(A=>({id:A.name,label:A.name,type:"column"})),...G.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?j(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id]):_(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id])},selectedIds:F,className:"w-full sm:w-64"}),u.jsx(ur,{options:se,selectedIds:N,onToggle:A=>{j(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>j([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:G,selectedIds:M,onToggle:A=>{_(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Nn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(Nn,{value:c.key,onChange:A=>d({key:A,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:J.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const A=c.key,te=[{id:"all",label:"All Conditions",icon:null},...X],S=(t||[]).filter(ee=>M.length===0||M.includes(ee.account)).map(ee=>{const K=ee.conditions||{},re={},R={};return te.forEach(H=>{if(H.id==="all"||H.name==="All Conditions"){const B=Object.values(K).reduce((L,ne)=>{const Ce=O(ne);return L.applications+=Number(Ce||0),L.damage+=Number((ne==null?void 0:ne.damage)||0),L},{applications:0,damage:0}),V=A==="applications"?B.applications:B.damage;R.all=V||0,re.all=Math.round(V||0).toLocaleString();return}const le=K[H.name],ae=A==="applications"?O(le):Number((le==null?void 0:le.damage)||0);R[H.name]=Number(ae||0),re[H.name]=Math.round(ae||0).toLocaleString()}),{player:ee,values:re,numericValues:R}}).filter(ee=>Object.values(ee.values).some(K=>K!=="0")),U=["all",...X.map(ee=>ee.name)].includes(T.columnId)?T.columnId:"all",q=[...S].sort((ee,K)=>{const re=ee.numericValues[U]??0,R=K.numericValues[U]??0;return(T.dir==="desc"?R-re:re-R)||String(ee.player.account||"").localeCompare(String(K.player.account||""))});return u.jsx(ms,{title:"Conditions - Dense View",subtitle:A==="applications"?"Applications":"Damage",sortColumnId:U,sortDirection:T.dir,onSortColumn:ee=>{D(K=>({columnId:ee,dir:K.columnId===ee&&K.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...X.map(ee=>({id:ee.name,label:u.jsx(Sr,{name:ee.name,iconUrl:ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:q.map((ee,K)=>({id:`${ee.player.account}-${K}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:K+1}),h(ee.player.profession,ee.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ee.player.account})]}),values:ee.values}))})})()}),(N.length>0||M.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{j([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),N.map(A=>u.jsxs("button",{type:"button",onClick:()=>j(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A)),M.map(A=>u.jsxs("button",{type:"button",onClick:()=>_(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}):u.jsx(Ao,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:A=>r(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${k} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:J.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),J.map(A=>u.jsx("button",{type:"button",onClick:()=>a(A.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Sr,{name:A.name,iconUrl:A.icon,iconClassName:"h-5 w-5"})},A.name))]})})]}),content:u.jsx(ps,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":u.jsx(Sr,{name:i,iconUrl:(P=e.find(A=>A.name===i))==null?void 0:P.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(Nn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const te=(t||[]).map(S=>{const U=S.conditions||{};if(i==="all"){const ee=Object.values(U).reduce((K,re)=>{const R=O(re);return K.applications+=Number(R||0),K.damage+=Number((re==null?void 0:re.damage)||0),K},{applications:0,damage:0});return{...S,applications:ee.applications,damage:ee.damage}}const q=U[i];return{...S,applications:O(q),damage:Number((q==null?void 0:q.damage)||0)}}).filter(S=>S.applications>0||S.damage>0).sort((S,U)=>{const q=c.key==="applications"?S.applications||0:S.damage||0,ee=c.key==="applications"?U.applications||0:U.damage||0,K=c.dir==="desc"?ee-q:q-ee;if(K!==0)return K;const re=c.key==="applications"?(U.damage||0)-(S.damage||0):(U.applications||0)-(S.applications||0);return re!==0?re:String(S.account||"").localeCompare(String(U.account||""))});return te.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):te.map((S,U)=>{var B;const q=S.conditions||{};let ee={};i==="all"?Object.values(q).forEach(V=>{const L=(V==null?void 0:V.skills)||{};Object.values(L).forEach(ne=>{const Ce=(ne==null?void 0:ne.name)||"Unknown",ze=Number((ne==null?void 0:ne.hits)||0),ce=Number((ne==null?void 0:ne.damage)||0);if((!Number.isFinite(ze)||ze<=0)&&(!Number.isFinite(ce)||ce<=0))return;const He=ee[Ce]||{name:Ce,hits:0,damage:0,icon:ne==null?void 0:ne.icon};He.hits+=Number.isFinite(ze)?ze:0,He.damage+=Number.isFinite(ce)?ce:0,!He.icon&&(ne!=null&&ne.icon)&&(He.icon=ne.icon),ee[Ce]=He})}):ee=((B=q[i])==null?void 0:B.skills)||{};const K=Object.values(ee).filter(V=>Number.isFinite(V.hits)&&V.hits>0).sort((V,L)=>L.hits-V.hits||V.name.localeCompare(L.name)),re=Object.values(ee).filter(V=>Number.isFinite(V.damage)&&V.damage>0).sort((V,L)=>L.damage-V.damage||V.name.localeCompare(L.name)),R=i==="all"&&K.length>0,H=i==="all"&&re.length>0,le=Math.round(S.applications||0).toLocaleString(),ae=Math.round(S.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R?u.jsx(ZP,{value:le,label:"Condition Sources",items:K.map(V=>({name:V.name,iconUrl:V.icon,value:Math.round(V.hits).toLocaleString()})),className:"justify-end"}):le}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:H?u.jsx(ZP,{value:ae,label:"Condition Damage Sources",items:re.map(V=>({name:V.name,iconUrl:V.icon,value:Math.round(V.damage).toLocaleString()})),className:"justify-end"}):ae}):null]},`${S.account}-${U}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},Nie=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:g,expandedSectionClosing:y,openExpandedSection:x,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:k,sectionClass:C,sidebarListClass:N})=>{const[j,M]=v.useState({key:"value",dir:"desc"}),[_,T]=v.useState({columnId:"",dir:"desc"}),D=g==="boon-output",[O,Z]=v.useState([]),[J,se]=v.useState([]),de=e.boonTables||[],G=O.length>0?de.filter(S=>O.includes(S.id)):de,F=l.map(S=>({id:S.id,label:S.name,icon:S.icon?u.jsx("img",{src:S.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),P=Array.from(new Map((e.boonTables||[]).flatMap(S=>S.rows||[]).filter(S=>S.account).map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,icon:m(S.profession,S.professionList,"w-3 h-3")})),A=new Set([...O.map(S=>`column:${S}`),...J.map(S=>`player:${S}`)]),te=S=>{M(U=>({key:S,dir:U.key===S&&U.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":k("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${g==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${y?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(E1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>g==="boon-output"?b():x("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":g==="boon-output"?"Close Boon Output":"Expand Boon Output",title:g==="boon-output"?"Close":"Expand",children:g==="boon-output"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):D?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...de.map(S=>({id:S.id,label:S.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(S=>S.rows||[]).filter(S=>S.account).map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,type:"player",icon:m(S.profession,S.professionList,"w-3 h-3")}))],onSelect:S=>{S.type==="column"?Z(U=>U.includes(S.id)?U.filter(q=>q!==S.id):[...U,S.id]):se(U=>U.includes(S.id)?U.filter(q=>q!==S.id):[...U,S.id])},selectedIds:A,className:"w-full sm:w-64"}),u.jsx(ur,{options:F,selectedIds:O,onToggle:S=>{Z(U=>U.includes(S)?U.filter(q=>q!==S):[...U,S])},onClear:()=>Z([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:P,selectedIds:J,onToggle:S=>{se(U=>U.includes(S)?U.filter(q=>q!==S):[...U,S])},onClear:()=>se([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Nn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Nn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||J.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{Z([]),se([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(S=>{var q;const U=((q=de.find(ee=>ee.id===S))==null?void 0:q.name)||S;return u.jsxs("button",{type:"button",onClick:()=>Z(ee=>ee.filter(K=>K!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},S)}),J.map(S=>u.jsxs("button",{type:"button",onClick:()=>se(U=>U.filter(q=>q!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:S}),u.jsx("span",{className:"text-gray-400",children:""})]},S))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:de.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var re,R;const S=G,U=((re=S.find(H=>H.id===_.columnId))==null?void 0:re.id)||(a&&S.some(H=>H.id===a)?a:void 0)||((R=S[0])==null?void 0:R.id)||"",q=new Map,ee=new Map;S.forEach(H=>{const le=new Map;H.rows.forEach(ae=>{const B=ae.account||ae.name||ae.id;B&&(le.set(B,ae),ee.has(B)||ee.set(B,ae))}),q.set(H.id,le)});const K=Array.from(ee.entries()).filter(([H])=>J.length===0||J.includes(String(H))).map(([H,le])=>{const ae={};return S.forEach(B=>{var L;const V=(L=q.get(B.id))==null?void 0:L.get(H);ae[B.id]=V?f(V,t,B.stacking,r,{roundCountStats:p}):"-"}),{key:H,row:le,values:ae}}).sort((H,le)=>{var ze,ce;if(!U)return String(H.key).localeCompare(String(le.key));const ae=S.find(He=>He.id===U),B=ae?(ze=q.get(ae.id))==null?void 0:ze.get(H.key):null,V=ae?(ce=q.get(ae.id))==null?void 0:ce.get(le.key):null,L=B?h(B,t,ae==null?void 0:ae.stacking,r):0,ne=V?h(V,t,ae==null?void 0:ae.stacking,r):0;return(_.dir==="desc"?ne-L:L-ne)||String(H.key).localeCompare(String(le.key))});return u.jsx(ms,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:U,sortDirection:_.dir,onSortColumn:H=>{T(le=>({columnId:H,dir:le.columnId===H&&le.dir==="desc"?"asc":"desc"}))},columns:S.map(H=>({id:H.id,label:u.jsx(Sr,{name:H.name,iconUrl:H.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:K.map((H,le)=>({id:`${H.key}-${le}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:le+1}),m(H.row.profession,H.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:H.row.account||H.row.name||H.key})]}),values:H.values}))})})()})]}):u.jsx(Ao,{expanded:g==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${g==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${g==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:S=>d(S.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${g==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(S=>u.jsx("button",{onClick:()=>s(S.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===S.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Sr,{name:S.name,iconUrl:S.icon,iconClassName:"h-3.5 w-3.5"})},S.id))})]}),content:o?u.jsx(ps,{expanded:g==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Sr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Nn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Nn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>te("value"),className:`text-right transition-colors ${j.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",j.key==="value"?j.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>te("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...o.rows].sort((S,U)=>(()=>{const q=j.key==="fightTime"?Number(S.activeTimeMs||0):h(S,t,o.stacking,r),ee=j.key==="fightTime"?Number(U.activeTimeMs||0):h(U,t,o.stacking,r);return(j.dir==="desc"?ee-q:q-ee)||String(S.account||"").localeCompare(String(U.account||""))})()).map((S,U)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(S,t,o.stacking,r,{roundCountStats:p})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:S.activeTimeMs?`${(S.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${S.account}-${U}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},Cie=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:b})=>{var U;const[w,k]=v.useState({key:"value",dir:"desc"}),[C,N]=v.useState("combined"),[j,M]=v.useState({columnId:((U=t[0])==null?void 0:U.id)||"value",dir:"desc"}),_=f==="defense-detailed",[T,D]=v.useState([]),[O,Z]=v.useState([]),J=t.filter(q=>q.label.toLowerCase().includes(n.trim().toLowerCase())),se=t.map(q=>({id:q.id,label:q.label})),de=se.filter(q=>q.label.toLowerCase().includes(n.trim().toLowerCase())),G=T.length>0?t.filter(q=>T.includes(q.id)):t,F=Array.from(new Map(e.defensePlayers.map(q=>[q.account,q])).values()).map(q=>({id:q.account,label:q.account,icon:d(q.profession,q.professionList,"w-3 h-3")})),P=new Set([...T.map(q=>`column:${q}`),...O.map(q=>`player:${q}`)]),A=q=>{k(ee=>({key:q,dir:ee.key===q&&ee.dir==="desc"?"asc":"desc"}))},te=q=>q==="minionDamageTaken",S=(q,ee)=>ee==="combined"?q.map(K=>({...K,minionList:Object.entries((K==null?void 0:K.minionDamageTakenByMinion)||{}).filter(([,re])=>Number(re||0)>0).sort((re,R)=>Number(R[1]||0)-Number(re[1]||0)).map(([re])=>String(re))})):q.flatMap(K=>{const re=Object.entries((K==null?void 0:K.minionDamageTakenByMinion)||{}).filter(([,R])=>Number(R||0)>0).sort((R,H)=>Number(H[1]||0)-Number(R[1]||0));return re.length===0?[]:re.map(([R,H])=>({...K,minionName:String(R),defenseTotals:{...K.defenseTotals||{},minionDamageTaken:Number(H||0)}}))});return u.jsxs("div",{id:"defense-detailed","data-section-visible":g("defense-detailed"),"data-section-first":y("defense-detailed"),className:x("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Fu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):_?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...se.map(q=>({...q,type:"column"})),...F.map(q=>({...q,type:"player"}))],onSelect:q=>{q.type==="column"?D(ee=>ee.includes(q.id)?ee.filter(K=>K!==q.id):[...ee,q.id]):Z(ee=>ee.includes(q.id)?ee.filter(K=>K!==q.id):[...ee,q.id])},selectedIds:P,className:"w-full sm:w-64"}),u.jsx(ur,{options:de,selectedIds:T,onToggle:q=>{D(ee=>ee.includes(q)?ee.filter(K=>K!==q):[...ee,q])},onClear:()=>D([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:F,selectedIds:O,onToggle:q=>{Z(ee=>ee.includes(q)?ee.filter(K=>K!==q):[...ee,q])},onClear:()=>Z([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Nn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),G.some(q=>te(q.id))&&u.jsx(Nn,{value:C,onChange:q=>N(q),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{D([]),Z([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(q=>{var K;const ee=((K=se.find(re=>re.id===q))==null?void 0:K.label)||q;return u.jsxs("button",{type:"button",onClick:()=>D(re=>re.filter(R=>R!==q)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ee}),u.jsx("span",{className:"text-gray-400",children:""})]},q)}),O.map(q=>u.jsxs("button",{type:"button",onClick:()=>Z(ee=>ee.filter(K=>K!==q)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:q}),u.jsx("span",{className:"text-gray-400",children:""})]},q))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:J.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var le,ae;const q=B=>Math.max(1,(B.activeMs||0)/1e3),ee=(B,V)=>{const L=V.isPercent,Ce=c(B,l&&!L&&s==="total"?0:2);return L?`${Ce}%`:Ce},K=((le=G.find(B=>B.id===j.columnId))==null?void 0:le.id)||((ae=G[0])==null?void 0:ae.id)||"",re=[...e.defensePlayers].filter(B=>O.length===0||O.includes(B.account)),H=[...G.some(B=>te(B.id))?S(re,C):re].map(B=>{const V={},L={};return G.forEach(ne=>{var He;const Ce=((He=B.defenseTotals)==null?void 0:He[ne.id])||0,ze=ne.isPercent,ce=s==="total"||ze?Ce:s==="per1s"?Ce/q(B):Ce*60/q(B);L[ne.id]=ce,V[ne.id]=ee(ce,ne)}),{row:B,values:V,numericValues:L}}).sort((B,V)=>{const L=B.numericValues[K]??0,ne=V.numericValues[K]??0;return(j.dir==="desc"?ne-L:L-ne)||String(B.row.account||"").localeCompare(String(V.row.account||""))});return u.jsx(ms,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:K,sortDirection:j.dir,onSortColumn:B=>{M(V=>({columnId:B,dir:V.columnId===B&&V.dir==="desc"?"asc":"desc"}))},columns:G.map(B=>({id:B.id,label:B.label,align:"right",minWidth:90})),rows:H.map((B,V)=>({id:`${B.row.account}-${V}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),d(B.row.profession,B.row.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:B.row.account}),C==="combined"&&Array.isArray(B.row.minionList)&&B.row.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:B.row.minionList.join(", ")}),C==="separate"&&B.row.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:B.row.minionName})]})]}),values:B.values}))})})()})]}):u.jsx(Ao,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:q=>r(q.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:J.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):J.map(q=>u.jsx("button",{onClick:()=>a(q.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===q.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:q.label},q.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const q=t.find(H=>H.id===i)||t[0],ee=H=>Math.max(1,(H.activeMs||0)/1e3),K=[...e.defensePlayers],R=[...te(q.id)?S(K,C):K].map(H=>{var le,ae,B;return{...H,total:((le=H.defenseTotals)==null?void 0:le[q.id])||0,per1s:(((ae=H.defenseTotals)==null?void 0:ae[q.id])||0)/ee(H),per60s:(((B=H.defenseTotals)==null?void 0:B[q.id])||0)*60/ee(H)}}).sort((H,le)=>{const ae=w.key==="fightTime"?Number(H.activeMs||0):Number(s==="total"?H.total:s==="per1s"?H.per1s:H.per60s),B=w.key==="fightTime"?Number(le.activeMs||0):Number(s==="total"?le.total:s==="per1s"?le.per1s:le.per60s);return(w.dir==="desc"?B-ae:ae-B)||H.account.localeCompare(le.account)});return u.jsx(ps,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:q.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${te(q.id)?"justify-between":"justify-end"}`,children:[te(q.id)&&u.jsx(Nn,{value:C,onChange:H=>N(H),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:u.jsx(Nn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>A("value"),className:`text-right transition-colors ${w.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>A("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:R.map((H,le)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:le+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(H.profession,H.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:H.account}),te(q.id)&&C==="combined"&&Array.isArray(H.minionList)&&H.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:H.minionList.join(", ")}),te(q.id)&&C==="separate"&&H.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:H.minionName})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ae=s==="total"?H.total:s==="per1s"?H.per1s:H.per60s;return c(ae,l&&s==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:H.activeMs?`${(H.activeMs/1e3).toFixed(1)}s`:"-"})]},`${q.id}-${H.account}-${le}`))})})})()})})]})},jie=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:k})=>{var le,ae;const C=((le=t.find(B=>B.id==="totalMitigation"))==null?void 0:le.id)||((ae=t[0])==null?void 0:ae.id)||"totalMitigation",[N,j]=v.useState({key:"value",dir:"desc"}),[M,_]=v.useState({columnId:C,dir:"desc"}),T=m==="defense-mitigation",[D,O]=v.useState([]),[Z,J]=v.useState([]),[se,de]=v.useState([]),X=e.damageMitigationPlayers||[],G=e.damageMitigationMinions||[],F=l==="minions"?G:X,P=X.length>0||G.length>0,A=t.filter(B=>B.label.toLowerCase().includes(n.trim().toLowerCase())),te=t.map(B=>({id:B.id,label:B.label})),S=te.filter(B=>B.label.toLowerCase().includes(n.trim().toLowerCase())),q=D.length>0?t.filter(B=>D.includes(B.id)):t,ee=Array.from(new Map(F.map(B=>[B.account,B])).values()).map(B=>({id:B.account,label:B.account,icon:h(B.profession,B.professionList,"w-3 h-3")})),K=Array.from(new Map(G.map(B=>[B.minion,B])).values()).filter(B=>B==null?void 0:B.minion).map(B=>({id:String(B.minion),label:String(B.minion)})),re=new Set([...D.map(B=>`column:${B}`),...Z.map(B=>`player:${B}`)]),R=B=>{j(V=>({key:B,dir:V.key===B&&V.dir==="desc"?"asc":"desc"}))},H=B=>f(B,d&&s==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":x("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(D1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?y():g("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),P?T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...te.map(B=>({...B,type:"column"})),...ee.map(B=>({...B,type:"player"}))],onSelect:B=>{B.type==="column"?O(V=>V.includes(B.id)?V.filter(L=>L!==B.id):[...V,B.id]):J(V=>V.includes(B.id)?V.filter(L=>L!==B.id):[...V,B.id])},selectedIds:re,className:"w-full sm:w-64"}),u.jsx(ur,{options:S,selectedIds:D,onToggle:B=>{O(V=>V.includes(B)?V.filter(L=>L!==B):[...V,B])},onClear:()=>O([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:ee,selectedIds:Z,onToggle:B=>{J(V=>V.includes(B)?V.filter(L=>L!==B):[...V,B])},onClear:()=>J([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(ur,{options:K,selectedIds:se,onToggle:B=>{de(V=>V.includes(B)?V.filter(L=>L!==B):[...V,B])},onClear:()=>de([]),buttonLabel:"Minions"}),u.jsx(Nn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Nn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||Z.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{O([]),J([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(B=>{var L;const V=((L=te.find(ne=>ne.id===B))==null?void 0:L.label)||B;return u.jsxs("button",{type:"button",onClick:()=>O(ne=>ne.filter(Ce=>Ce!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},B)}),Z.map(B=>u.jsxs("button",{type:"button",onClick:()=>J(V=>V.filter(L=>L!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},B))]}),l==="minions"&&se.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>de([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),se.map(B=>u.jsxs("button",{type:"button",onClick:()=>de(V=>V.filter(L=>L!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},B))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:F.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):A.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var ne,Ce;const B=ze=>Math.max(1,(ze.activeMs||0)/1e3),V=((ne=q.find(ze=>ze.id===M.columnId))==null?void 0:ne.id)||((Ce=q[0])==null?void 0:Ce.id)||"",L=[...F].filter(ze=>Z.length===0||Z.includes(ze.account)).filter(ze=>l!=="minions"||!se.length?!0:se.includes(String(ze.minion||""))).map(ze=>{const ce={},He={};return q.forEach(Ie=>{var hn;const mt=((hn=ze.mitigationTotals)==null?void 0:hn[Ie.id])||0,Ft=s==="total"?mt:s==="per1s"?mt/B(ze):mt*60/B(ze);He[Ie.id]=Ft,ce[Ie.id]=H(Ft)}),{row:ze,values:ce,numericValues:He}}).sort((ze,ce)=>{const He=ze.numericValues[V]??0,Ie=ce.numericValues[V]??0;return(M.dir==="desc"?Ie-He:He-Ie)||String(ze.row.account||"").localeCompare(String(ce.row.account||""))});return u.jsx(ms,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:V,sortDirection:M.dir,onSortColumn:ze=>{_(ce=>({columnId:ze,dir:ce.columnId===ze&&ce.dir==="desc"?"asc":"desc"}))},columns:q.map(ze=>({id:ze.id,label:ze.label,align:"right",minWidth:90})),rows:L.map((ze,ce)=>({id:`${ze.row.account}-${ze.row.minion||"player"}-${ce}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ce+1}),h(ze.row.profession,ze.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:ze.row.account}),ze.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:ze.row.minion})]})]}),values:ze.values}))})})()})]}):u.jsx(Ao,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:B=>r(B.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${k} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:A.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):A.map(B=>u.jsx("button",{onClick:()=>a(B.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===B.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:B.label},B.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const B=t.find(ne=>ne.id===i)||t[0],V=ne=>Math.max(1,(ne.activeMs||0)/1e3),L=[...F].map(ne=>{var Ce,ze,ce;return{...ne,total:((Ce=ne.mitigationTotals)==null?void 0:Ce[B.id])||0,per1s:(((ze=ne.mitigationTotals)==null?void 0:ze[B.id])||0)/V(ne),per60s:(((ce=ne.mitigationTotals)==null?void 0:ce[B.id])||0)*60/V(ne)}}).filter(ne=>l!=="minions"||!se.length?!0:se.includes(String(ne.minion||""))).sort((ne,Ce)=>{const ze=N.key==="fightTime"?Number(ne.activeMs||0):Number(s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s),ce=N.key==="fightTime"?Number(Ce.activeMs||0):Number(s==="total"?Ce.total:s==="per1s"?Ce.per1s:Ce.per60s);return(N.dir==="desc"?ce-ze:ze-ce)||ne.account.localeCompare(Ce.account)});return u.jsx(ps,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:B.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Nn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(Nn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>R("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>R("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:L.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:L.map((ne,Ce)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:Ce+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(ne.profession,ne.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:ne.account}),ne.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:ne.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ze=s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s;return H(ze)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:ne.activeMs?`${(ne.activeMs/1e3).toFixed(1)}s`:"-"})]},`${B.id}-${ne.account}-${ne.minion||"player"}-${Ce}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},Aie=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:k})=>{var te;const[C,N]=v.useState({key:"value",dir:"desc"}),[j,M]=v.useState({columnId:((te=t[0])==null?void 0:te.id)||"value",dir:"desc"}),_=m==="support-detailed",[T,D]=v.useState([]),[O,Z]=v.useState([]),J=t.filter(S=>S.label.toLowerCase().includes(n.trim().toLowerCase())),se=t.map(S=>({id:S.id,label:S.label})),de=se.filter(S=>S.label.toLowerCase().includes(n.trim().toLowerCase())),G=T.length>0?t.filter(S=>T.includes(S.id)):t,F=Array.from(new Map(e.supportPlayers.map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,icon:h(S.profession,S.professionList,"w-3 h-3")})),P=new Set([...T.map(S=>`column:${S}`),...O.map(S=>`player:${S}`)]),A=S=>{N(U=>({key:S,dir:U.key===S&&U.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":x("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(P1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?y():g("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):_?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...se.map(S=>({...S,type:"column"})),...F.map(S=>({...S,type:"player"}))],onSelect:S=>{S.type==="column"?D(U=>U.includes(S.id)?U.filter(q=>q!==S.id):[...U,S.id]):Z(U=>U.includes(S.id)?U.filter(q=>q!==S.id):[...U,S.id])},selectedIds:P,className:"w-full sm:w-64"}),u.jsx(ur,{options:de,selectedIds:T,onToggle:S=>{D(U=>U.includes(S)?U.filter(q=>q!==S):[...U,S])},onClear:()=>D([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:F,selectedIds:O,onToggle:S=>{Z(U=>U.includes(S)?U.filter(q=>q!==S):[...U,S])},onClear:()=>Z([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Nn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&u.jsx(Nn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{D([]),Z([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(S=>{var q;const U=((q=se.find(ee=>ee.id===S))==null?void 0:q.label)||S;return u.jsxs("button",{type:"button",onClick:()=>D(ee=>ee.filter(K=>K!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},S)}),O.map(S=>u.jsxs("button",{type:"button",onClick:()=>Z(U=>U.filter(q=>q!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:S}),u.jsx("span",{className:"text-gray-400",children:""})]},S))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:J.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var re,R;const S=(H,le)=>{var ae,B,V;if(le==="condiCleanse"){const L=((ae=H.supportTotals)==null?void 0:ae.condiCleanse)||0,ne=((B=H.supportTotals)==null?void 0:B.condiCleanseSelf)||0;return l==="all"?L+ne:L}return((V=H.supportTotals)==null?void 0:V[le])||0},U=H=>Math.max(1,(H.activeMs||0)/1e3),q=(H,le)=>{const ae=H.isTime?1:d&&s==="total"?0:2;return f(le,ae)},ee=((re=G.find(H=>H.id===j.columnId))==null?void 0:re.id)||((R=G[0])==null?void 0:R.id)||"",K=[...e.supportPlayers].filter(H=>O.length===0||O.includes(H.account)).map(H=>{const le={},ae={};return G.forEach(B=>{const V=S(H,B.id),L=s==="total"?V:s==="per1s"?V/U(H):V*60/U(H);ae[B.id]=L,le[B.id]=q(B,L)}),{row:H,values:le,numericValues:ae}}).sort((H,le)=>{const ae=H.numericValues[ee]??0,B=le.numericValues[ee]??0;return(j.dir==="desc"?B-ae:ae-B)||String(H.row.account||"").localeCompare(String(le.row.account||""))});return u.jsx(ms,{title:"Support - Dense View",subtitle:"Support",sortColumnId:ee,sortDirection:j.dir,onSortColumn:H=>{M(le=>({columnId:H,dir:le.columnId===H&&le.dir==="desc"?"asc":"desc"}))},columns:G.map(H=>({id:H.id,label:H.label,align:"right",minWidth:90})),rows:K.map((H,le)=>({id:`${H.row.account}-${le}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:le+1}),h(H.row.profession,H.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:H.row.account})]}),values:H.values}))})})()})]}):u.jsx(Ao,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:S=>r(S.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${k} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:J.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):J.map(S=>u.jsx("button",{onClick:()=>a(S.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===S.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:S.label},S.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const S=t.find(K=>K.id===i)||t[0],U=K=>{var re,R,H;if(S.id==="condiCleanse"){const le=((re=K.supportTotals)==null?void 0:re.condiCleanse)||0,ae=((R=K.supportTotals)==null?void 0:R.condiCleanseSelf)||0;return l==="all"?le+ae:le}return((H=K.supportTotals)==null?void 0:H[S.id])||0},q=K=>Math.max(1,(K.activeMs||0)/1e3),ee=[...e.supportPlayers].map(K=>({...K,total:U(K),per1s:U(K)/q(K),per60s:U(K)*60/q(K)})).sort((K,re)=>{const R=C.key==="fightTime"?Number(K.activeMs||0):Number(s==="total"?K.total:s==="per1s"?K.per1s:K.per60s),H=C.key==="fightTime"?Number(re.activeMs||0):Number(s==="total"?re.total:s==="per1s"?re.per1s:re.per60s);return(C.dir==="desc"?H-R:R-H)||K.account.localeCompare(re.account)});return u.jsx(ps,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:S.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[S.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Nn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Nn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(Nn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>A("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>A("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:ee.map((K,re)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:re+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(K.profession,K.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:K.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const R=s==="total"?K.total:s==="per1s"?K.per1s:K.per60s,H=S.isTime?1:d&&s==="total"?0:2;return f(R,H)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:K.activeMs?`${(K.activeMs/1e3).toFixed(1)}s`:"-"})]},`${S.id}-${K.account}-${re}`))})})})()})})]})},Pie=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x})=>{var de;const[b,w]=v.useState({key:"value",dir:"desc"}),[k,C]=v.useState({columnId:((de=t[0])==null?void 0:de.id)||"value",dir:"desc"}),N=f==="healing-stats",[j,M]=v.useState([]),[_,T]=v.useState([]),D=Array.from(new Map(e.healingPlayers.map(X=>[X.account,X])).values()).map(X=>({id:X.account,label:X.account,icon:d(X.profession,X.professionList,"w-3 h-3")})),O=new Set([..._.map(X=>`column:${X}`),...j.map(X=>`player:${X}`)]),Z=t.map(X=>({id:X.id,label:X.label})),J=_.length>0?t.filter(X=>_.includes(X.id)):t,se=X=>{w(G=>({key:X,dir:G.key===X&&G.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":g("healing-stats"),"data-section-first":y("healing-stats"),className:x("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(NO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...Z.map(X=>({...X,type:"column"})),...D.map(X=>({...X,type:"player"}))],onSelect:X=>{X.type==="column"?T(G=>G.includes(X.id)?G.filter(F=>F!==X.id):[...G,X.id]):M(G=>G.includes(X.id)?G.filter(F=>F!==X.id):[...G,X.id])},selectedIds:O,className:"w-full sm:w-64"}),u.jsx(Nn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(ur,{options:Z,selectedIds:_,onToggle:X=>{T(G=>G.includes(X)?G.filter(F=>F!==X):[...G,X])},onClear:()=>T([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(Nn,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(X=>({value:X.id,label:X.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(ur,{options:D,selectedIds:j,onToggle:X=>{M(G=>G.includes(X)?G.filter(F=>F!==X):[...G,X])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})})]}),(_.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(X=>{var F;const G=((F=Z.find(P=>P.id===X))==null?void 0:F.label)||X;return u.jsxs("button",{type:"button",onClick:()=>T(P=>P.filter(A=>A!==X)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:G}),u.jsx("span",{className:"text-gray-400",children:""})]},X)}),j.map(X=>u.jsxs("button",{type:"button",onClick:()=>M(G=>G.filter(F=>F!==X)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:X}),u.jsx("span",{className:"text-gray-400",children:""})]},X))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var A,te;const X=S=>Math.max(1,(S.activeMs||0)/1e3),G=S=>{const U=S.baseField==="resUtility",q=U||i==="total"?"":i==="offSquad"?"offSquad":i;return U?s==="all"?"resUtility":`resUtility_${s}`:q?`${q}${S.baseField[0].toUpperCase()}${S.baseField.slice(1)}`:S.baseField},F=[...e.healingPlayers].filter(S=>j.length===0||j.includes(S.account)).filter(S=>Object.values(S.healingTotals||{}).some(U=>Number(U)>0)).map(S=>{const U={},q={};return J.forEach(ee=>{var H;const K=G(ee),re=Number(((H=S.healingTotals)==null?void 0:H[K])??0),R=ee.perSecond?re/X(S):re;q[ee.id]=R,U[ee.id]=c(R,ee.decimals)}),{row:S,values:U,numericValues:q}}).sort((S,U)=>{var R,H;const q=((R=J.find(le=>le.id===k.columnId))==null?void 0:R.id)||((H=J[0])==null?void 0:H.id)||"",ee=S.numericValues[q]??0,K=U.numericValues[q]??0;return(k.dir==="desc"?K-ee:ee-K)||String(S.row.account||"").localeCompare(String(U.row.account||""))}),P=((A=J.find(S=>S.id===k.columnId))==null?void 0:A.id)||((te=J[0])==null?void 0:te.id)||"";return u.jsx(ms,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:P,sortDirection:k.dir,onSortColumn:S=>{C(U=>({columnId:S,dir:U.columnId===S&&U.dir==="desc"?"asc":"desc"}))},columns:J.map(S=>({id:S.id,label:S.label,align:"right",minWidth:90})),rows:F.map((S,U)=>({id:`${S.row.account}-${U}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:U+1}),d(S.row.profession,S.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.row.account})]}),values:S.values}))})})()})]}):u.jsx(Ao,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(X=>u.jsx("button",{onClick:()=>r(X.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===X.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:X.label},X.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const X=t.find(S=>S.id===n)||t[0],G=X.baseField==="resUtility",F=S=>Math.max(1,(S.activeMs||0)/1e3),P=G||i==="total"?"":i==="offSquad"?"offSquad":i,A=G?s==="all"?"resUtility":`resUtility_${s}`:P?`${P}${X.baseField[0].toUpperCase()}${X.baseField.slice(1)}`:X.baseField,te=[...e.healingPlayers].filter(S=>Object.values(S.healingTotals||{}).some(U=>Number(U)>0)).map(S=>{var ee;const U=Number(((ee=S.healingTotals)==null?void 0:ee[A])??0),q=X.perSecond?U/F(S):U;return{...S,value:q}}).sort((S,U)=>{const q=b.key==="fightTime"?Number(S.activeMs||0):Number(S.value||0),ee=b.key==="fightTime"?Number(U.activeMs||0):Number(U.value||0);return(b.dir==="desc"?ee-q:q-ee)||S.account.localeCompare(U.account)});return u.jsx(ps,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:X.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[G&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(Nn,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(S=>({value:S.id,label:S.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!G&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Nn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>se("value"),className:`text-right transition-colors ${b.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[X.label,b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>se("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:te.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):te.map((S,U)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(S.value,X.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:S.activeMs?`${(S.activeMs/1e3).toFixed(1)}s`:"-"})]},`${X.id}-${S.account}-${U}`))})})})()})})]})},Tie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",Eie=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,b]=v.useState("total"),[w,k]=v.useState("desc"),[C,N]=v.useState({columnId:"",dir:"desc"}),j=c==="special-buffs",[M,_]=v.useState([]),[T,D]=v.useState([]),O=e.specialTables||[],J=M.length>0?O.filter(A=>M.includes(A.id)):O,se=r.map(A=>({id:A.id,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),de=Array.from(new Map((e.specialTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:l(A.profession,A.professionList,"w-3 h-3")})),X=new Set([...M.map(A=>`column:${A}`),...T.map(A=>`player:${A}`)]),G=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const A=[...s.rows];return A.sort((te,S)=>{const U=Number((te==null?void 0:te[x])??0),q=Number((S==null?void 0:S[x])??0),ee=w==="desc"?q-U:U-q;return ee!==0?ee:String((te==null?void 0:te.account)||"").localeCompare(String((S==null?void 0:S.account)||""))}),A},[s,x,w]),F=A=>{if(x===A){k(te=>te==="desc"?"asc":"desc");return}b(A),k("desc")},P=A=>x!==A?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:g("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(g0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...O.map(A=>({id:A.id,label:A.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,type:"player",icon:l(A.profession,A.professionList,"w-3 h-3")}))],onSelect:A=>{A.type==="column"?_(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id]):D(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id])},selectedIds:X,className:"w-full sm:w-64"}),u.jsx(ur,{options:se,selectedIds:M,onToggle:A=>{_(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>_([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(ur,{options:de,selectedIds:T,onToggle:A=>{D(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Nn,{value:x,onChange:A=>b(A),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(A=>{var S;const te=((S=O.find(U=>U.id===A))==null?void 0:S.name)||A;return u.jsxs("button",{type:"button",onClick:()=>_(U=>U.filter(q=>q!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:te}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),T.map(A=>u.jsxs("button",{type:"button",onClick:()=>D(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var K,re;const A=J,te=new Map,S=new Map;A.forEach(R=>{const H=new Map;R.rows.forEach(le=>{const ae=le.account||le.name||le.id;ae&&(H.set(ae,le),S.has(ae)||S.set(ae,le))}),te.set(R.id,H)});const U=Array.from(S.entries()).filter(([R])=>T.length===0||T.includes(String(R))).map(([R,H])=>{const le={},ae={};return A.forEach(B=>{var Ce;const V=(Ce=te.get(B.id))==null?void 0:Ce.get(R);if(!V){le[B.id]="-",ae[B.id]=0;return}if(x==="duration"){le[B.id]=V.duration?`${V.duration.toFixed(1)}s`:"-",ae[B.id]=Number(V.duration||0);return}const L=x==="total"?V.total:V.perSecond,ne=x==="total"?0:1;ae[B.id]=Number(L||0),le[B.id]=o(L||0,ne)}),{key:R,row:H,values:le,numericValues:ae}}),q=((K=A.find(R=>R.id===C.columnId))==null?void 0:K.id)||(i&&A.some(R=>R.id===i)?i:void 0)||((re=A[0])==null?void 0:re.id)||"",ee=[...U].sort((R,H)=>{if(!q)return String(R.key).localeCompare(String(H.key));const le=R.numericValues[q]??0,ae=H.numericValues[q]??0;return(C.dir==="desc"?ae-le:le-ae)||String(R.key).localeCompare(String(H.key))});return u.jsx(ms,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:q,sortDirection:C.dir,onSortColumn:R=>{N(H=>({columnId:R,dir:H.columnId===R&&H.dir==="desc"?"asc":"desc"}))},columns:A.map(R=>({id:R.id,label:u.jsx(Sr,{name:R.name,iconUrl:R.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ee.map((R,H)=>({id:`${R.key}-${H}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),l(R.row.profession,R.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:R.row.account||R.row.name||R.key})]}),values:R.values}))})})()})]}):u.jsx(Ao,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:A=>n(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(A=>u.jsx("button",{onClick:()=>a(A.id),title:A.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Sr,{name:Tie(A.name),iconUrl:A.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},A.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(ps,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Sr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>F("total"),className:`text-right transition-colors ${x==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",P("total")]}),u.jsxs("button",{type:"button",onClick:()=>F("perSecond"),className:`text-right transition-colors ${x==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",P("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>F("duration"),className:`text-right transition-colors ${x==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P("duration")]})]}),rows:u.jsx(u.Fragment,{children:G.map((A,te)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:te+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(A.profession,A.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:A.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(A.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:o(A.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:A.duration?`${A.duration.toFixed(1)}s`:"-"})]},`${s.id}-${A.account}-${te}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},Die=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Mie=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,b]=v.useState("desc"),w=c==="sigil-relic-uptime",k=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((N,j)=>{const M=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),_=Number((j==null?void 0:j.uptimePerSecond)??(j==null?void 0:j.perSecond)??0),T=x==="desc"?_-M:M-_;return T!==0?T:String((N==null?void 0:N.account)||"").localeCompare(String((j==null?void 0:j.account)||""))}),C},[s,x]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:g("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(M1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]}),e?u.jsx(Ao,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Sr,{name:Die(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(ps,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Sr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",x==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:k.map((C,N)=>{const j=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(j,1),"%"]})]},`${s.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Oie=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:l})=>{const c=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=v.useState(""),[m,p]=v.useState(""),[g,y]=v.useState(null);v.useEffect(()=>{var Z,J,se;if(c.length===0){h(""),p("");return}const D=String(((Z=c[0])==null?void 0:Z.id)||""),O=String(((J=c[1])==null?void 0:J.id)||((se=c[0])==null?void 0:se.id)||"");h(de=>de&&c.some(X=>String(X.id)===de)?de:D),p(de=>de&&c.some(X=>String(X.id)===de)?de:O)},[c]);const x=v.useMemo(()=>c.find(D=>String(D.id)===String(f))||null,[c,f]),b=v.useMemo(()=>c.find(D=>String(D.id)===String(m))||null,[c,m]),w=v.useMemo(()=>{if(!x||!b)return[];const D=new Map,O=(Z,J,se,de)=>{const X=String(Z||"Unknown"),G=D.get(X)||{label:X,aDamage:0,aShare:0,bDamage:0,bShare:0};J==="a"?(G.aDamage=Number(se||0),G.aShare=Number(de||0)):(G.bDamage=Number(se||0),G.bShare=Number(de||0)),D.set(X,G)};return(x.targetFocus||[]).forEach(Z=>O(Z.label,"a",Z.damage,Z.share)),(b.targetFocus||[]).forEach(Z=>O(Z.label,"b",Z.damage,Z.share)),Array.from(D.values()).map(Z=>({...Z,shareDelta:Z.bShare-Z.aShare})).sort((Z,J)=>Math.abs(J.shareDelta)-Math.abs(Z.shareDelta)||J.bDamage+J.aDamage-(Z.bDamage+Z.aDamage))},[x,b]),k=v.useMemo(()=>{if(!g)return w;const D=g.direction==="asc"?1:-1,O=g.key;return[...w].sort((Z,J)=>{const se=(Number(Z[O])-Number(J[O]))*D;return se!==0?se:Z.label.localeCompare(J.label)})},[w,g]),C=v.useMemo(()=>{if(!x||!b)return[];const D=new Map((x.squadMetrics||[]).map(J=>[J.metricId,J])),O=new Map((b.squadMetrics||[]).map(J=>[J.metricId,J]));return Array.from(new Set([...D.keys(),...O.keys()])).map(J=>{const se=D.get(J),de=O.get(J),X=!!((se==null?void 0:se.higherIsBetter)??(de==null?void 0:de.higherIsBetter)??!0),G=Number((se==null?void 0:se.value)||0),F=Number((de==null?void 0:de.value)||0);return{metricId:J,metricLabel:String((se==null?void 0:se.metricLabel)||(de==null?void 0:de.metricLabel)||J),higherIsBetter:X,a:se,b:de,delta:F-G}})},[x,b]),N=D=>`${t((Number(D)||0)*100,1)}%`,j=D=>D==="squadKdr"?2:0,M=D=>{y(O=>!O||O.key!==D?{key:D,direction:"desc"}:{key:D,direction:O.direction==="desc"?"asc":"desc"})},_=D=>(g==null?void 0:g.key)===D?g.direction==="desc"?" ":" ":"",T=D=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(g==null?void 0:g.key)===D?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return u.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N1,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),u.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]}),d?u.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[u.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),u.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):c.length<2?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:D=>h(D.target.value),children:c.map(D=>u.jsxs("option",{value:D.id,children:[D.shortLabel," - ",D.fullLabel]},`fight-a-${D.id}`))})]}),u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:D=>p(D.target.value),children:c.map(D=>u.jsxs("option",{value:D.id,children:[D.shortLabel," - ",D.fullLabel]},`fight-b-${D.id}`))})]})]}),u.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[u.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),u.jsxs("div",{children:["Target focus compares how your squad distributed damage ",u.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",u.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",u.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",u.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(ps,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aDamage"),onClick:()=>M("aDamage"),children:[x==null?void 0:x.shortLabel," Damage",_("aDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aShare"),onClick:()=>M("aShare"),children:[x==null?void 0:x.shortLabel," Share",_("aShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bDamage"),onClick:()=>M("bDamage"),children:[b==null?void 0:b.shortLabel," Damage",_("bDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bShare"),onClick:()=>M("bShare"),children:[b==null?void 0:b.shortLabel," Share",_("bShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("shareDelta"),onClick:()=>M("shareDelta"),children:["Share Delta",_("shareDelta")]})})]})})]})}):null,rows:w.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:k.map(D=>u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:D.label}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(D.aDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(D.aShare)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(D.bDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(D.bShare)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${D.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[D.shareDelta>=0?"+":"",N(D.shareDelta)]})]},`focus-${D.label}`))})]})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[u.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),u.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(ps,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),u.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),u.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:C.map(D=>{var J,se;const O=D.higherIsBetter?D.delta>=0:D.delta<=0,Z=j(D.metricId);return u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:D.metricLabel}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((J=D.a)==null?void 0:J.value)||0),Z)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((se=D.b)==null?void 0:se.value)||0),Z)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${O?"text-emerald-300":"text-red-300"}`,children:[D.delta>0?"+":"",t(D.delta,Z)]})]},`performer-${D.metricId}`)})})]})}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Iie=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),_ie=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=v.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),g=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(g)||g<=0||c.set(p,(c.get(p)||0)+g)})}),Array.from(c.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const g=Number(d);if(Number.isFinite(g)&&g>0)f=g>1e12?g:g*1e3;else{const y=Date.parse(d);Number.isFinite(y)&&y>0&&(f=y)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(Nn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Mv,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Mv,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Mv,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},JP={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Lie=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:c})=>{const d=JP[r]||JP.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},$ie=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},eT=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Fie=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(ic,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(N6,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(g0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Bp,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:eT(m.val,s)})]},p))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,g,y,x,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((g=m.data)==null?void 0:g.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((y=m.data)==null?void 0:y.profession)||"Unknown"})]})]}),(b=(x=m.data)==null?void 0:x.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,k)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:eT(w.val,s)})]},k))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,g=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,y=m?"":"Total ",x=m?" /s":"",b=[{icon:T6,title:`Down Contribution${x}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Fu,title:`${y}Barrier${x}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:NO,title:`${y}Healing${x}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:$6,title:`${y}Dodges${x}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Df,title:`${y}Strips${x}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:A6,title:`${y}Cleanses${x}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:P6,title:`${y}CC${x}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:PO,title:`${y}Stab Gen${x}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:S6,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=k=>!m||!Number.isFinite(k)?s(k):o(k,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(k=>{var _,T,D,O;const C=i==="all",N=$ie((g==null?void 0:g[k.statKey])||[],k.higherIsBetter),j=N[0],M=j?{...k.data,value:Number(j.value||0),player:j.account||((_=k.data)==null?void 0:_.player)||"-",count:j.count||((T=k.data)==null?void 0:T.count)||0,profession:j.profession||((D=k.data)==null?void 0:D.profession)||"Unknown",professionList:j.professionList||((O=k.data)==null?void 0:O.professionList)||[]}:k.data;return u.jsx(Lie,{...k,data:M,active:C,onClick:()=>a(Z=>Z==="all"?null:"all"),rows:N,formatValue:w,renderProfessionIcon:c},k.statKey)})})})()]}):null,Rie=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",c=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=v.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((g,y)=>{const x=Number((g==null?void 0:g[c])||0);return Number((y==null?void 0:y[c])||0)-x||Number((y==null?void 0:y.hits)||0)-Number((g==null?void 0:g.hits)||0)||String((g==null?void 0:g.name)||"").localeCompare(String((y==null?void 0:y.name)||""))}),[o,d,f,e.topSkills,c]),m=v.useMemo(()=>Math.max(1,...h.map(g=>Number((g==null?void 0:g[c])||0))),[h,c]),p=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(g=>{const y=(t||e.topSkillsMetric)===g.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(g.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${y?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:g.label},g.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[h.map((g,y)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Sr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(g[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(g[c]||0)/m*100}%`}})})]})]},`outgoing-${g.name||"unknown"}-${y}`)),h.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(y6,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((g,y)=>{var x;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Sr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(g.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${g.damage/(((x=e.topIncomingSkills[0])==null?void 0:x.damage)||1)*100}%`}})})]})]},`incoming-${g.name||"unknown"}-${y}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Bie=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(kr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(tw,{children:[u.jsx(Mg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>u.jsx(Gu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(p0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(tw,{children:[u.jsx(Mg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>u.jsx(Gu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},zie=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(kr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs($g,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(Yf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Qf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Zf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c.payload;return l!=null&&l.label?`Log ${l.index}  ${l.label}`:`Log ${s}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(Qs,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(Qs,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Uie=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(A1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(tw,{children:[u.jsx(Mg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>u.jsx(Gu,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(YI,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",u.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),tT=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:g,spikeMode:y,setSpikeMode:x,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:k,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:j,setSelectedSpikeFightIndex:M,spikeDrilldownTitle:_,spikeDrilldownData:T,spikeDrilldownDownIndices:D,spikeDrilldownDeathIndices:O,spikeFightSkillRows:Z=[],spikeFightSkillTitle:J="Skill Damage (Selected Fight)",formatWithCommas:se,renderProfessionIcon:de})=>{const[X,G]=v.useState(null),[F,P]=v.useState(null),A=L=>String(L||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),te=s===e,S=k?ac(k.profession):"#fda4af",U=y==="hit"?"Highest Damage":y==="1s"?"1s Burst":y==="5s"?"5s Burst":"30s Burst",q=L=>y==="hit"?L.peakHit:y==="1s"?L.peak1s:y==="5s"?L.peak5s:L.peak30s,ee=g.flatMap(L=>L.players.map(ne=>({...ne,groupProfession:L.profession}))).sort((L,ne)=>{const Ce=q(ne)-q(L);return Ce!==0?Ce:L.displayName.localeCompare(ne.displayName)}),K=C.reduce((L,ne)=>!L||ne.damage>L.damage?ne:L,null),re=L=>{if(!Number.isFinite(L)||L<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(L))}catch{return""}},R=T.reduce((L,ne)=>Math.max(L,Number(ne.value||0)),0),H=Math.max(1,R),le=new Set(D),ae=new Set(O),B=T.map((L,ne)=>({...L,downMarker:le.has(ne)?Math.max(Number(L.value||0),H*.88):null,deathMarker:ae.has(ne)?Math.max(Number(L.value||0),H*.96):null})),V=L=>ne=>{const Ce=Number(ne==null?void 0:ne.cx),ze=Number(ne==null?void 0:ne.cy),ce=Number(ne==null?void 0:ne.index);if(!Number.isFinite(Ce)||!Number.isFinite(ze)||!Number.isFinite(ce))return null;const He=(ne==null?void 0:ne.payload)||{},Ie=L==="down"?He==null?void 0:He.downMarker:He==null?void 0:He.deathMarker;if(!Number.isFinite(Number(Ie)))return null;const mt=`${L}-${ce}`,Ft=X===mt,hn=L==="down"?"#facc15":"#ef4444",jn=L==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{G(mt),P({x:Ce,y:ze,kind:L,label:String((He==null?void 0:He.label)||"")})},onMouseLeave:()=>{G(xe=>xe===mt?null:xe),P(xe=>(xe==null?void 0:xe.kind)===L&&(xe==null?void 0:xe.label)===String((He==null?void 0:He.label)||"")?null:xe)},children:[u.jsx("circle",{cx:Ce,cy:ze,r:Ft?10:7,fill:jn,opacity:Ft?.35:.18}),u.jsx("circle",{cx:Ce,cy:ze,r:Ft?7:5.5,fill:hn,stroke:"#0f172a",strokeWidth:Ft?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${te?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:te?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Df,{className:`w-5 h-5 ${a}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${te?"pr-10 md:pr-0":""}`,children:[u.jsx(Nn,{value:y,onChange:L=>x(L),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>te?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${te?"absolute top-2 right-2 md:static":""}`,"aria-label":te?`Close ${t}`:`Expand ${t}`,title:te?"Close":"Expand",children:te?u.jsx(zi,{className:"w-4 h-4"}):u.jsx(ta,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:L=>p(L.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:ee.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:ee.map(L=>{const ne=b===L.key;return u.jsx("button",{type:"button",onClick:()=>w(L.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${ne?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[de(L.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:L.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:L.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[L.characterName||L.displayName,"  ",L.logs," ",L.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:se(q(L)||0,0)})]})},L.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",U]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!k||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs($g,{data:C,onClick:L=>{const ne=Number(L==null?void 0:L.activeTooltipIndex);Number.isFinite(ne)&&M(j===ne?null:ne)},children:[u.jsx(Yf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Qf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Zf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:L=>se(L,0)}),u.jsx(kc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(L,ne)=>[se(Number(L||0),0),String(ne||"")],labelFormatter:(L,ne)=>{var ce;const Ce=(ce=ne==null?void 0:ne[0])==null?void 0:ce.payload;if(!Ce)return"";const ze=A(Ce.fullLabel||"");return y==="hit"&&Ce.skillName?`${ze}  ${Ce.skillName}`:ze}}),u.jsx(Qs,{type:"monotone",dataKey:"damage",name:k.displayName,stroke:S,strokeWidth:3,dot:L=>{var ze;const ne=Number((ze=L==null?void 0:L.payload)==null?void 0:ze.index);if(!Number.isFinite(ne))return null;const Ce=j===ne;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:ce=>{ce.stopPropagation(),M(Ce?null:ne)},children:[u.jsx("circle",{cx:L.cx,cy:L.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:L.cx,cy:L.cy,r:Ce?4:3,fill:S,stroke:Ce?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Ce?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(Qs,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),k&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[de(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Highest Skill Damage":`Peak ${U}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:se(q(k)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const L=A((K==null?void 0:K.fullLabel)||k.peakFightLabel||"N/A"),ne=re(Number((K==null?void 0:K.timestamp)||0)),Ce=ne?`${ne} - ${L}`:L;return y!=="hit"?Ce:k.peakSkillName?`${k.peakSkillName}  ${Ce}`:Ce})()})]})]}),k&&j!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:_}),u.jsx("button",{type:"button",onClick:()=>M(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:T.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs($g,{data:B,children:[u.jsx(Yf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Qf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Zf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:L=>se(L,0)}),u.jsx(kc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(L,ne)=>{const Ce=String(ne||"");return Ce==="Down"?["Downed","Event"]:Ce==="Death"?["Dead","Event"]:[se(Number(L||0),0),"Damage"]},labelFormatter:L=>String(L||"")}),u.jsx(Qs,{type:"monotone",dataKey:"value",name:"Damage",stroke:S,strokeWidth:2.5,dot:y==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(Qs,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:V("down")}),u.jsx(Qs,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:V("death")})]})}),F&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,F.x)}px`,top:`${Math.max(8,F.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${F.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:F.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:F.label})]})]})})]}),k&&j!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${Z.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:J}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[Z.length," ",Z.length===1?"skill":"skills"]})]}),Z.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:Z.map((L,ne)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:L.skillName,children:L.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:se(Number(L.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:se(Number(L.hits||0),0)})]},`${L.skillName}-${ne}`))})]})]})]})},Vie=10,$h=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},nT=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},Wie=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Hie=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(""),[o,l]=v.useState("squad"),[c,d]=v.useState("desc"),f=a.trim().toLowerCase(),h=v.useMemo(()=>{const y=e.filter(b=>{if(!f)return!0;const w=String(b.account||"").toLowerCase(),k=(b.characterNames||[]).join(" ").toLowerCase(),C=(b.classTimes||[]).map(N=>String(N.profession||"").toLowerCase()).join(" ");return w.includes(f)||k.includes(f)||C.includes(f)}),x=b=>Number(o==="fight"?b.combatTimeMs??b.squadTimeMs??0:b.squadTimeMs??0);return[...y].sort((b,w)=>{const k=x(w)-x(b);return k!==0?c==="desc"?k:-k:String(b.account||"").localeCompare(String(w.account||""))})},[e,f,c,o]),m=y=>{if(o===y){d(x=>x==="desc"?"asc":"desc");return}l(y),d("desc")},p=h.length>Vie,g=()=>{const y=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],x=h.map(j=>{const M=(j.classTimes||[]).map(_=>`${_.profession} (${$h(_.timeMs)})`).join("; ");return[j.account||"",(j.characterNames||[]).join(", "),M,nT(Number(j.combatTimeMs??j.squadTimeMs??0)),nT(j.squadTimeMs)]}),b=[y,...x].map(j=>j.map(M=>Wie(String(M??""))).join(",")).join(`
`),w=new Blob([b],{type:"text/csv;charset=utf-8;"}),k=URL.createObjectURL(w),C=document.createElement("a"),N=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=k,C.download=`attendance-ledger-${N}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(k)};return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Ef,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[u.jsx("input",{value:a,onChange:y=>s(y.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),u.jsxs("button",{type:"button",onClick:g,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[u.jsx(C6,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[h.map(y=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:y.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:y.characterNames.length>0?y.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.classTimes.length>0?y.classTimes.map(x=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?u.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:x.profession}),u.jsx("span",{className:"text-gray-400",children:$h(x.timeMs)})]},`${y.account}-${x.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:$h(Number(y.combatTimeMs??y.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:$h(y.squadTimeMs)})]},y.account)),h.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},qie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Kie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null),[o,l]=v.useState(""),c=o.trim().toLowerCase(),d=cm("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=v.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!c)return!1;const p=String(m.account||"").toLowerCase(),g=String(m.characterName||"").toLowerCase(),y=String(m.profession||"").toLowerCase();return p.includes(c)||g.includes(c)||y.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(kr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return u.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",qie(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,g)=>(()=>{const y=h(p);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${y?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?u.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:u.jsx("span",{className:"truncate min-w-0",children:p.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${g}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Gie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Yie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null);v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(c=>c.id===a))&&s(e[0].id)},[e,a]);const o=v.useMemo(()=>e.find(c=>c.id===a)||null,[e,a]),l=v.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[o]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Yo,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===a;return u.jsxs("button",{onClick:()=>s(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Gie(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(c.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,h)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${o.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Xie=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const h=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(CO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(ic,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[i&&u.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(g0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:o,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(L6,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(O6,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Qie=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=v.useState("idle"),c=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(D6,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(jO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(TO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},Zie=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Ns="space-y-1 pr-1 max-h-72 overflow-y-auto",Jie=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),eae=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function tae({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,aggregationResult:p}){var ON,IN;const g=n||IO,y=r||tb,x=a||nU,b=y.showTopStats,w=y.showMvp,k=y.roundCountStats,C=y.topStatsMode||"total",[N,j]=v.useState(y.topSkillsMetric||"damage"),M=(i?y.topSkillsMetric:N)||"damage",_=x.uploading,T=x.message,D=x.url,O=x.buildStatus,Z=!c&&!1,J=!!p,{result:se}=a8({logs:J?[]:e,precomputedStats:J?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),de=p||se,{stats:X,skillUsageData:G}=de,F=v.useMemo(()=>{var gt,tn,jt,nn,Lt,pr;const z=X&&typeof X=="object"?X:{},Q=Ee=>Array.isArray(Ee)?Ee:[],he=Ee=>Ee&&typeof Ee=="object"?Ee:{},We=(Ee,dt)=>Ee&&typeof Ee=="object"?Ee:dt,Te={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Re={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},me={...z,total:Number(z.total||0),timelineData:Q(z.timelineData),mapData:Q(z.mapData),fightBreakdown:Q(z.fightBreakdown),topSkills:Q(z.topSkills),topIncomingSkills:Q(z.topIncomingSkills),leaderboards:he(z.leaderboards),topStatsPerSecond:he(z.topStatsPerSecond),topStatsLeaderboardsPerSecond:he(z.topStatsLeaderboardsPerSecond),maxDownContrib:We(z.maxDownContrib,Te),maxBarrier:We(z.maxBarrier,Te),maxHealing:We(z.maxHealing,Te),maxDodges:We(z.maxDodges,Te),maxStrips:We(z.maxStrips,Te),maxCleanses:We(z.maxCleanses,Te),maxCC:We(z.maxCC,Te),maxStab:We(z.maxStab,Te),closestToTag:We(z.closestToTag,Te),mvp:{...Re,...he(z.mvp),topStats:Q((gt=z==null?void 0:z.mvp)==null?void 0:gt.topStats)},silver:We(z.silver,Re),bronze:We(z.bronze,Re),avgMvpScore:Number(z.avgMvpScore||0),offensePlayers:Q(z.offensePlayers),defensePlayers:Q(z.defensePlayers),damageMitigationPlayers:Q(z.damageMitigationPlayers),damageMitigationMinions:Q(z.damageMitigationMinions),supportPlayers:Q(z.supportPlayers),healingPlayers:Q(z.healingPlayers),boonTables:Q(z.boonTables),specialTables:Q(z.specialTables),outgoingConditionSummary:Q(z.outgoingConditionSummary),outgoingConditionPlayers:Q(z.outgoingConditionPlayers),incomingConditionSummary:Q(z.incomingConditionSummary),incomingConditionPlayers:Q(z.incomingConditionPlayers),squadClassData:Q(z.squadClassData),enemyClassData:Q(z.enemyClassData),attendanceData:Q(z.attendanceData),squadCompByFight:Q(z.squadCompByFight),fightDiffMode:Q(z.fightDiffMode),playerSkillBreakdowns:Q(z.playerSkillBreakdowns)},cn=Q((tn=me.leaderboards)==null?void 0:tn.downContrib).map(Ee=>({...Ee,value:Number((Ee==null?void 0:Ee.value)??0)})).filter(Ee=>Number.isFinite(Ee.value)).sort((Ee,dt)=>dt.value-Ee.value||String((Ee==null?void 0:Ee.account)||"").localeCompare(String((dt==null?void 0:dt.account)||"")))[0];return cn&&(me.maxDownContrib={...me.maxDownContrib||{},value:Number(cn.value||0),player:String(cn.account||((jt=me.maxDownContrib)==null?void 0:jt.player)||"-"),count:Number(cn.count||((nn=me.maxDownContrib)==null?void 0:nn.count)||0),profession:String(cn.profession||((Lt=me.maxDownContrib)==null?void 0:Lt.profession)||"Unknown"),professionList:Array.isArray(cn.professionList)?cn.professionList:((pr=me.maxDownContrib)==null?void 0:pr.professionList)||[]}),me},[X]);v.useEffect(()=>{var he;if(!((he=window==null?void 0:window.electronAPI)!=null&&he.fetchImageAsDataUrl))return;const z=new Set,Q=We=>{if(We){if(typeof We=="string"){/^https?:\/\//i.test(We)&&z.add(We);return}if(Array.isArray(We)){We.forEach(Q);return}typeof We=="object"&&Object.entries(We).forEach(([Te,Re])=>{if((Te==="icon"||Te==="iconUrl")&&typeof Re=="string"){/^https?:\/\//i.test(Re)&&z.add(Re);return}Q(Re)})}};Q(F),z.size>0&&fie(Array.from(z))},[F]);const P=v.useMemo(()=>{const z=(l==null?void 0:l.skillUsageData)??G;return{logRecords:Array.isArray(z==null?void 0:z.logRecords)?z.logRecords:[],players:Array.isArray(z==null?void 0:z.players)?z.players:[],skillOptions:Array.isArray(z==null?void 0:z.skillOptions)?z.skillOptions:[],resUtilitySkills:Array.isArray(z==null?void 0:z.resUtilitySkills)?z.resUtilitySkills:[]}},[G,l==null?void 0:l.skillUsageData]),A=P.players.length>0;v.useEffect(()=>{i||j(y.topSkillsMetric||"damage")},[y.topSkillsMetric,i]);const te=z=>{if(i){i({...y,topSkillsMetric:z});return}j(z)},{scrollContainerRef:S}=R6(c),{devMockUploadState:U,webCopyStatus:q,setWebCopyStatus:ee,handleWebUpload:K,handleDevMockUpload:re}=uU({logs:e,stats:F,skillUsageData:P,activeStatsViewSettings:r||tb,uiTheme:h||"classic",embedded:c,onWebUpload:s}),{sharing:R,handleShare:H}=i8(c),le={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},ae=z=>{const Q=le[z];return Q?g[Q]>0:!0},[B,V]=v.useState(null),[L,ne]=v.useState(null),[Ce,ze]=v.useState("totalBuffs"),[ce,He]=v.useState("total"),[Ie,mt]=v.useState(""),[Ft,hn]=v.useState(null),[jn,xe]=v.useState(""),[_e,Pt]=v.useState(null),[Yt,ln]=v.useState(""),[Nr,Kr]=v.useState(""),[Pr,Ka]=v.useState(""),[Ci,xn]=v.useState(""),[Xt,fi]=v.useState(""),[Wt,In]=v.useState(""),[ni,Oc]=v.useState(""),[Bs,ri]=v.useState("outgoing"),[bs,Gr]=v.useState(""),[Na,To]=v.useState("damage"),[Sl,Eo]=v.useState("damageTaken"),[Ic,Ca]=v.useState("totalMitigation"),[hr,ja]=v.useState("all"),[zs,_c]=v.useState({key:"damage",dir:"desc"}),Nl=!(hr!=="all"&&Jie.has(hr)),Cl=Nl?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",Lc=Nl?zs:{key:"applications",dir:zs.key==="applications"?zs.dir:"desc"},[Do,$c]=v.useState("condiCleanse"),[Fc,Y]=v.useState("healing"),[ve,Ae]=v.useState("total"),[lt,Dt]=v.useState("all"),[zt,rn]=v.useState("total"),[kt,ct]=v.useState("total"),[An,E]=v.useState("total"),[I,$]=v.useState("total"),[pe,ie]=v.useState("all"),[Se,ye]=v.useState("squad"),[Ue,rt]=v.useState("player"),[yt,qt]=v.useState(""),[Ut,pn]=v.useState(""),[qe,Ze]=v.useState(null),[st,Mt]=v.useState([]),[ut,be]=v.useState(null),[we,Be]=v.useState(null),[Pe,it]=v.useState("hit"),[fe,Ve]=v.useState(null),[et,$e]=v.useState(null),[Je,Kt]=v.useState("hit"),[En,vn]=v.useState([]),[en,Jt]=v.useState(null),[an,W]=v.useState(!1),ue=v.useRef(null),[Oe,Ke]=v.useState("sizes"),[De,oe]=v.useState("total"),Le=De==="perSecond",[je,at]=v.useState(null),[Rt,It]=v.useState("total"),[ht,Et]=v.useState(null),[Bt,Ht]=v.useState(null),[St,Tt]=v.useState(null),[Fe,ot]=v.useState(""),[pt,Nt]=v.useState(null),[un,bn]=v.useState(null),[_n,Tr]=v.useState(null),[Us,Vs]=v.useState(""),[Rc,jl]=v.useState("player"),[aa,Bc]=v.useState(null),[Km,hd]=v.useState(null),[Aa,Al]=v.useState(null),{apmSpecBuckets:Ga}=s8(P),Ya=F.playerSkillBreakdowns||[],zc=v.useMemo(()=>{const z=new Map;return Ya.forEach(Q=>z.set(Q.key,Q)),z},[Ya]),Me=v.useMemo(()=>{const z=new Map;return Ya.forEach(Q=>{const he=Q.profession||"Unknown";z.has(he)||z.set(he,{profession:he,players:[],skills:new Map});const We=z.get(he);We.players.push(Q),Q.skills.forEach(Te=>{var me;const Re=We.skills.get(Te.id)||{...Te,damage:0,downContribution:0};Re.damage+=Number(Te.damage||0),Re.downContribution+=Number(Te.downContribution||0),!Re.icon&&Te.icon&&(Re.icon=Te.icon),(me=Re.name)!=null&&me.startsWith("Skill ")&&!Te.name.startsWith("Skill ")&&(Re.name=Te.name),We.skills.set(Te.id,Re)})}),Array.from(z.values()).map(Q=>{const he=Array.from(Q.skills.values()).sort((Te,Re)=>Re.damage-Te.damage),We=he.reduce((Te,Re)=>(Te[Re.id]=Re,Te),{});return{profession:Q.profession,players:Q.players,skills:he,skillMap:We}}).sort((Q,he)=>Q.profession.localeCompare(he.profession))},[Ya]),Ge=pt&&zc.get(pt)||null,Xe=Ge&&_n&&((ON=Ge.skillMap)==null?void 0:ON[_n])||null,tt=v.useMemo(()=>{const z=new Map;return Me.forEach(Q=>z.set(Q.profession,Q)),z},[Me]),wt=aa&&tt.get(aa)||null,wn=wt&&Aa&&((IN=wt.skillMap)==null?void 0:IN[Aa])||null,Dn=(z,Q)=>{if(!Q)return null;const he=Number(Q.index);if(Number.isInteger(he)&&he>=0&&he<z.length)return z[he]||null;const We=String(Q.fightId||"").trim();return We&&z.find(Te=>String((Te==null?void 0:Te.id)||"").trim()===We)||null},kn=v.useMemo(()=>{const z=Ee=>String(Ee||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Q=Ee=>z(Ee).toLowerCase().split(/[^a-z0-9]+/i).map(dt=>dt.trim()).filter(Boolean).map(dt=>dt.length>3&&dt.endsWith("s")?dt.slice(0,-1):dt),he=(Ee,dt)=>{const ke=z(Ee),Pn=z(dt);if(!Pn)return ke;if(!ke)return Pn;const Fr=Q(ke),gr=Q(Pn),sr=new Set(Fr),Sn=new Set(gr),Ei=gr.length>0&&gr.every(Gn=>sr.has(Gn)),Ot=Fr.length>0&&Fr.every(Gn=>Sn.has(Gn));return Ei||Ot?ke:`${ke} - ${Pn}`},We=Ee=>{if(Ee==null||Ee==="")return 0;if(typeof Ee=="number")return!Number.isFinite(Ee)||Ee<=0?0:Ee>1e12?Ee:Ee*1e3;if(Ee instanceof Date){const sr=Ee.getTime();return Number.isFinite(sr)&&sr>0?sr:0}const dt=String(Ee).trim();if(!dt)return 0;const ke=Number(dt);if(Number.isFinite(ke)&&ke>0)return ke>1e12?ke:ke*1e3;const Pn=Date.parse(dt);if(Number.isFinite(Pn)&&Pn>0)return Pn;const Fr=dt.replace(/([+-]\d{2})$/,"$1:00"),gr=Date.parse(Fr);return Number.isFinite(gr)&&gr>0?gr:0},Te=(Ee,dt)=>We((Ee==null?void 0:Ee.uploadTime)??(dt==null?void 0:dt.uploadTime)??(Ee==null?void 0:Ee.timeStartStd)??(Ee==null?void 0:Ee.timeStart)??(Ee==null?void 0:Ee.timeEndStd)??(Ee==null?void 0:Ee.timeEnd)),Re=F==null?void 0:F.spikeDamage,me=Array.isArray(Re==null?void 0:Re.fights)?Re.fights:[],nt=Array.isArray(Re==null?void 0:Re.players)?Re.players:[],cn=me.some(Ee=>(Ee!=null&&Ee.values&&typeof Ee.values=="object"?Object.values(Ee.values):[]).some(ke=>ke&&typeof ke=="object"&&(Number(ke.burst1s||0)>0||Number(ke.burst5s||0)>0||Number(ke.burst30s||0)>0)))||nt.some(Ee=>Number((Ee==null?void 0:Ee.peak1s)||0)>0||Number((Ee==null?void 0:Ee.peak5s)||0)>0||Number((Ee==null?void 0:Ee.peak30s)||0)>0);if((me.length>0||nt.length>0)&&(cn||e.length===0)){const Ee=me.map((ke,Pn)=>{const Fr=ke!=null&&ke.values&&typeof ke.values=="object"?ke.values:{},gr={};return Object.entries(Fr).forEach(([sr,Sn])=>{if(Sn&&typeof Sn=="object"){const Ei=Number(Sn.damage||0);gr[sr]={hit:Number(Sn.hit??Ei),burst1s:Number(Sn.burst1s||0),burst5s:Number(Sn.burst5s||0),burst30s:Number(Sn.burst30s||0),skillName:String(Sn.skillName||""),buckets5s:Array.isArray(Sn.buckets5s)?Sn.buckets5s.map(Ot=>Number(Ot||0)):void 0,downIndices5s:Array.isArray(Sn.downIndices5s)?Sn.downIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,deathIndices5s:Array.isArray(Sn.deathIndices5s)?Sn.deathIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,skillRows:Array.isArray(Sn.skillRows)?Sn.skillRows.map(Ot=>({skillName:String((Ot==null?void 0:Ot.skillName)||(Ot==null?void 0:Ot.name)||"Unknown Skill"),damage:Number((Ot==null?void 0:Ot.damage)||0),hits:Number((Ot==null?void 0:Ot.hits)||0),icon:typeof(Ot==null?void 0:Ot.icon)=="string"?Ot.icon:void 0})).filter(Ot=>Number.isFinite(Ot.damage)&&Ot.damage>0):void 0};return}gr[sr]={hit:Number(Sn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((ke==null?void 0:ke.id)||`fight-${Pn+1}`),shortLabel:String((ke==null?void 0:ke.shortLabel)||`F${Pn+1}`),fullLabel:z((ke==null?void 0:ke.fullLabel)||`Fight ${Pn+1}`),timestamp:Number((ke==null?void 0:ke.timestamp)||0),values:gr,maxHit:Number((ke==null?void 0:ke.maxHit)??(ke==null?void 0:ke.maxDamage)??0),max1s:Number((ke==null?void 0:ke.max1s)||0),max5s:Number((ke==null?void 0:ke.max5s)||0),max30s:Number((ke==null?void 0:ke.max30s)||0)}}),dt=nt.map(ke=>({key:String((ke==null?void 0:ke.key)||""),account:String((ke==null?void 0:ke.account)||"Unknown"),displayName:String((ke==null?void 0:ke.displayName)||(ke==null?void 0:ke.account)||"Unknown"),characterName:String((ke==null?void 0:ke.characterName)||(ke==null?void 0:ke.name)||(ke==null?void 0:ke.character_name)||(ke==null?void 0:ke.display_name)||""),profession:String((ke==null?void 0:ke.profession)||"Unknown"),professionList:Array.isArray(ke==null?void 0:ke.professionList)?ke.professionList.map(Pn=>String(Pn)):[],logs:Number((ke==null?void 0:ke.logs)||0),peakHit:Number((ke==null?void 0:ke.peakHit)||0),peak1s:Number((ke==null?void 0:ke.peak1s)||0),peak5s:Number((ke==null?void 0:ke.peak5s)||0),peak30s:Number((ke==null?void 0:ke.peak30s)||0),peakFightLabel:z((ke==null?void 0:ke.peakFightLabel)||""),peakSkillName:String((ke==null?void 0:ke.peakSkillName)||"")}));return{fights:Ee,players:dt}}const tn=(Ee,dt)=>{const ke=(dt==null?void 0:dt.skillMap)||{},Pn=(dt==null?void 0:dt.buffMap)||{};let Fr=0,gr="";const sr=Ot=>{const Gn=Number(Ot);if(!Number.isFinite(Gn))return String(Ot||"Unknown Skill");const sn=(ke==null?void 0:ke[`s${Gn}`])||(ke==null?void 0:ke[`${Gn}`]);if(sn!=null&&sn.name)return String(sn.name);const bt=(Pn==null?void 0:Pn[`b${Gn}`])||(Pn==null?void 0:Pn[`${Gn}`]);return bt!=null&&bt.name?String(bt.name):`Skill ${Gn}`},Sn=Ot=>{if(!Ot||typeof Ot!="object")return;const Gn=[Number(Ot.max),Number(Ot.maxDamage),Number(Ot.maxHit)].filter(bt=>Number.isFinite(bt)),sn=Gn.length>0?Math.max(...Gn):0;sn>Fr&&(Fr=sn,gr=sr(Ot.id))};let Ei=!1;return Array.isArray(Ee==null?void 0:Ee.targetDamageDist)&&Ee.targetDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(Gn=>{Array.isArray(Gn)&&Gn.forEach(sn=>{Ei=!0,Sn(sn)})})}),(!Ei||Fr<=0)&&Array.isArray(Ee==null?void 0:Ee.totalDamageDist)&&Ee.totalDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(Gn=>Sn(Gn))}),{peak:Fr,skillName:gr||"Unknown Skill"}},jt=(Ee,dt)=>{const ke=sn=>{if(!Array.isArray(sn)||sn.length===0)return[];const bt=[];for(let Gt=0;Gt<sn.length;Gt+=1){const xr=Number(sn[Gt]||0),Yn=Gt>0?Number(sn[Gt-1]||0):0;bt.push(Math.max(0,xr-Yn))}return bt},Pn=(sn,bt)=>{if(!Array.isArray(sn)||sn.length===0||bt<=0)return 0;let Gt=0,xr=0;for(let Yn=0;Yn<sn.length;Yn+=1)Gt+=Number(sn[Yn]||0),Yn>=bt&&(Gt-=Number(sn[Yn-bt]||0)),Yn>=bt-1&&Gt>xr&&(xr=Gt);return Math.max(0,xr)},Fr=sn=>{if(!Array.isArray(sn))return[];const bt=sn.reduce((xr,Yn)=>Math.max(xr,Array.isArray(Yn)?Yn.length:0),0);if(bt<=0)return[];const Gt=new Array(bt).fill(0);return sn.forEach(xr=>{if(Array.isArray(xr))for(let Yn=0;Yn<bt;Yn+=1)Gt[Yn]+=Number(xr[Yn]||0)}),Gt},gr=sn=>Array.isArray(sn)?sn.map(bt=>Number(bt||0)):null,Sn=(sn=>{if(!Array.isArray(sn)||sn.length===0)return null;const bt=sn[0];if(!Array.isArray(bt))return null;if(Array.isArray(bt[0])&&Array.isArray(bt[0][0]))return Fr(bt);if(Array.isArray(bt[0])&&!Array.isArray(bt[0][0])){const Gt=sn.map(xr=>gr(Array.isArray(xr)?xr[0]:null)).filter(xr=>Array.isArray(xr)&&xr.length>0);if(Gt.length>0)return Fr(Gt)}return null})(Ee==null?void 0:Ee.targetDamage1S),Ei=Array.isArray(Ee==null?void 0:Ee.damage1S)&&Array.isArray(Ee.damage1S[0])?Ee.damage1S[0]:null,Ot=Sn||(Array.isArray(Ei)?Ei.map(sn=>Number(sn||0)):[]),Gn=ke(Ot);return Pn(Gn,dt)},nn=[],Lt=new Map;e.forEach(Ee=>{const dt=Ee==null?void 0:Ee.details;if(!dt)return;const ke=nn.length+1,Pn=z(dt.fightName||Ee.fightName||`Fight ${ke}`),Fr=dt.zone||dt.mapName||dt.map||dt.location||"",gr=he(Pn,String(Fr||"")),sr={};(Array.isArray(dt.players)?dt.players:[]).forEach(bt=>{if(bt!=null&&bt.notInSquad)return;const Gt=String((bt==null?void 0:bt.account)||(bt==null?void 0:bt.name)||"Unknown"),xr=String((bt==null?void 0:bt.character_name)||(bt==null?void 0:bt.display_name)||(bt==null?void 0:bt.name)||""),Yn=String((bt==null?void 0:bt.profession)||"Unknown"),Vc=`${Gt}|${Yn}`,th=tn(bt,dt),Wc=Number(th.peak||0),Hc=Number(jt(bt,1)||0),gd=Number(jt(bt,5)||0),Il=Number(jt(bt,30)||0);sr[Vc]={hit:Wc,burst1s:Hc,burst5s:gd,burst30s:Il,skillName:th.skillName};const vr=Lt.get(Vc)||{key:Vc,account:Gt,displayName:Gt,characterName:xr,profession:Yn,professionList:[Yn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};vr.logs+=1,vr.professionList.includes(Yn)||vr.professionList.push(Yn),!vr.characterName&&xr&&(vr.characterName=xr),Wc>vr.peakHit&&(vr.peakHit=Wc,vr.peakFightLabel=gr,vr.peakSkillName=th.skillName),Hc>vr.peak1s&&(vr.peak1s=Hc),gd>vr.peak5s&&(vr.peak5s=gd),Il>vr.peak30s&&(vr.peak30s=Il),Lt.set(Vc,vr)});const Ei=Object.values(sr).reduce((bt,Gt)=>Math.max(bt,Number((Gt==null?void 0:Gt.hit)||0)),0),Ot=Object.values(sr).reduce((bt,Gt)=>Math.max(bt,Number((Gt==null?void 0:Gt.burst1s)||0)),0),Gn=Object.values(sr).reduce((bt,Gt)=>Math.max(bt,Number((Gt==null?void 0:Gt.burst5s)||0)),0),sn=Object.values(sr).reduce((bt,Gt)=>Math.max(bt,Number((Gt==null?void 0:Gt.burst30s)||0)),0);nn.push({id:Ee.filePath||Ee.id||`fight-${ke}`,shortLabel:`F${ke}`,fullLabel:gr,timestamp:Te(dt,Ee),values:sr,maxHit:Ei,max1s:Ot,max5s:Gn,max30s:sn})});const pr=Array.from(Lt.values()).sort((Ee,dt)=>dt.peakHit!==Ee.peakHit?dt.peakHit-Ee.peakHit:Ee.displayName.localeCompare(dt.displayName));return{fights:nn,players:pr}},[e,F]),zn=v.useMemo(()=>{const z=me=>String(me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Q=F==null?void 0:F.incomingStrikeDamage,he=Array.isArray(Q==null?void 0:Q.fights)?Q.fights:[],We=Array.isArray(Q==null?void 0:Q.players)?Q.players:[];if(he.length===0&&We.length===0)return{fights:[],players:[]};const Te=he.map((me,nt)=>{const cn=me!=null&&me.values&&typeof me.values=="object"?me.values:{},gt={};return Object.entries(cn).forEach(([tn,jt])=>{if(jt&&typeof jt=="object"){const nn=Number(jt.damage||0);gt[tn]={hit:Number(jt.hit??nn),burst1s:Number(jt.burst1s||0),burst5s:Number(jt.burst5s||0),burst30s:Number(jt.burst30s||0),skillName:String(jt.skillName||""),buckets5s:Array.isArray(jt.buckets5s)?jt.buckets5s.map(Lt=>Number(Lt||0)):void 0,downIndices5s:Array.isArray(jt.downIndices5s)?jt.downIndices5s.map(Lt=>Number(Lt)).filter(Lt=>Number.isFinite(Lt)&&Lt>=0):void 0,deathIndices5s:Array.isArray(jt.deathIndices5s)?jt.deathIndices5s.map(Lt=>Number(Lt)).filter(Lt=>Number.isFinite(Lt)&&Lt>=0):void 0,skillRows:Array.isArray(jt.skillRows)?jt.skillRows.map(Lt=>({skillName:String((Lt==null?void 0:Lt.skillName)||(Lt==null?void 0:Lt.name)||"Unknown Skill"),damage:Number((Lt==null?void 0:Lt.damage)||0),hits:Number((Lt==null?void 0:Lt.hits)||0),icon:typeof(Lt==null?void 0:Lt.icon)=="string"?Lt.icon:void 0})).filter(Lt=>Number.isFinite(Lt.damage)&&Lt.damage>0):void 0};return}gt[tn]={hit:Number(jt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((me==null?void 0:me.id)||`fight-${nt+1}`),shortLabel:String((me==null?void 0:me.shortLabel)||`F${nt+1}`),fullLabel:z((me==null?void 0:me.fullLabel)||`Fight ${nt+1}`),timestamp:Number((me==null?void 0:me.timestamp)||0),values:gt,maxHit:Number((me==null?void 0:me.maxHit)??(me==null?void 0:me.maxDamage)??0),max1s:Number((me==null?void 0:me.max1s)||0),max5s:Number((me==null?void 0:me.max5s)||0),max30s:Number((me==null?void 0:me.max30s)||0)}}),Re=We.map(me=>({key:String((me==null?void 0:me.key)||""),account:String((me==null?void 0:me.account)||"Unknown"),displayName:String((me==null?void 0:me.displayName)||(me==null?void 0:me.account)||"Unknown"),characterName:String((me==null?void 0:me.characterName)||(me==null?void 0:me.name)||(me==null?void 0:me.character_name)||(me==null?void 0:me.display_name)||""),profession:String((me==null?void 0:me.profession)||"Unknown"),professionList:Array.isArray(me==null?void 0:me.professionList)?me.professionList.map(nt=>String(nt)):[],logs:Number((me==null?void 0:me.logs)||0),peakHit:Number((me==null?void 0:me.peakHit)||0),peak1s:Number((me==null?void 0:me.peak1s)||0),peak5s:Number((me==null?void 0:me.peak5s)||0),peak30s:Number((me==null?void 0:me.peak30s)||0),peakFightLabel:z((me==null?void 0:me.peakFightLabel)||""),peakSkillName:String((me==null?void 0:me.peakSkillName)||"")}));return{fights:Te,players:Re}},[F]),ji=v.useMemo(()=>{const z=new Map;return kn.players.forEach(Q=>z.set(Q.key,Q)),z},[kn.players]),Ai=v.useMemo(()=>{const z=Te=>Pe==="hit"?Te.peakHit:Pe==="1s"?Te.peak1s:Pe==="5s"?Te.peak5s:Te.peak30s,Q=Wt.trim().toLowerCase(),he=Q?kn.players.filter(Te=>Te.displayName.toLowerCase().includes(Q)||Te.account.toLowerCase().includes(Q)||Te.profession.toLowerCase().includes(Q)):kn.players,We=new Map;return he.forEach(Te=>{const Re=Te.profession||"Unknown",me=We.get(Re)||[];me.push(Te),We.set(Re,me)}),Array.from(We.entries()).map(([Te,Re])=>({profession:Te,players:[...Re].sort((me,nt)=>z(nt)-z(me)||me.displayName.localeCompare(nt.displayName))})).sort((Te,Re)=>Te.profession.localeCompare(Re.profession))},[kn.players,Wt,Pe]),Xa=ut&&ji.get(ut)||null,mi=v.useMemo(()=>{if(!ut)return[];const z=he=>he?Number(Pe==="hit"?he.hit||0:Pe==="1s"?he.burst1s||0:Pe==="5s"?he.burst5s||0:he.burst30s||0):0,Q=he=>Number(Pe==="hit"?he.maxHit||0:Pe==="1s"?he.max1s||0:Pe==="5s"?he.max5s||0:he.max30s||0);return kn.fights.map((he,We)=>{var Te;return{index:We,fightId:he.id,shortLabel:he.shortLabel,fullLabel:he.fullLabel,timestamp:Number(he.timestamp||0),damage:z(he.values[ut]),maxDamage:Q(he),skillName:String(((Te=he.values[ut])==null?void 0:Te.skillName)||"")}})},[kn.fights,ut,Pe]),Ui=v.useMemo(()=>{const z=mi.reduce((he,We)=>Math.max(he,Number(We.damage||0)),0),Q=mi.reduce((he,We)=>Math.max(he,Number(We.maxDamage||0)),0);return Math.max(1,z,Q)},[mi]),Pl=v.useMemo(()=>{var LN,$N,FN,RN,BN,zN,UN,VN,WN;const z=we===null?null:mi.find(Ne=>Ne.index===we)||null;if(!z||!ut)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Q=Dn(kn.fights,z),[he,We]=ut.split("|"),Te=e.find(Ne=>String((Ne==null?void 0:Ne.filePath)||(Ne==null?void 0:Ne.id)||"")===String(z.fightId||"")),Re=Te==null?void 0:Te.details,me=Ne=>Array.isArray(Ne)?Ne.map(ft=>Array.isArray(ft)?[Number(ft[0]),Number(ft[1])]:ft&&typeof ft=="object"?[Number(ft.time),Number(ft.value)]:null).filter(ft=>!!ft&&Number.isFinite(ft[0])&&ft[0]>=0):[],nt=Ne=>String(Ne||"").trim().toLowerCase(),cn=nt(he),gt=nt(We),tn=ji.get(ut),jt=new Set([nt(tn==null?void 0:tn.displayName),nt(tn==null?void 0:tn.characterName),nt(tn==null?void 0:tn.account)].filter(Boolean)),nn=Array.isArray(Re==null?void 0:Re.players)&&((LN=Re.players.map(Ne=>{const ft=nt(Ne==null?void 0:Ne.account),Qt=nt(Ne==null?void 0:Ne.name),Xn=nt(Ne==null?void 0:Ne.profession),Tn=!!ft&&ft===cn,Ln=!!Qt&&(Qt===cn||jt.has(Qt)),Wi=!!ft&&jt.has(ft),Io=!gt||Xn===gt;let Za=0;return Tn&&(Za+=100),Ln&&(Za+=90),Wi&&(Za+=80),Io&&(Za+=20),{player:Ne,score:Za}}).filter(Ne=>Ne.score>0).sort((Ne,ft)=>ft.score-Ne.score)[0])==null?void 0:LN.player)||null,Lt=(()=>{const Ne=nn==null?void 0:nn.combatReplayData;return Array.isArray(Ne)?Ne.filter(ft=>ft&&typeof ft=="object"):Ne&&typeof Ne=="object"?[Ne]:[]})(),pr=Lt.flatMap(Ne=>me(Ne==null?void 0:Ne.down).map(([ft])=>ft)),Ee=Lt.flatMap(Ne=>me(Ne==null?void 0:Ne.dead).map(([ft])=>ft)),dt=Lt.map(Ne=>Number(Ne==null?void 0:Ne.start)).filter(Ne=>Number.isFinite(Ne)&&Ne>=0),ke=Array.isArray(Re==null?void 0:Re.players)?Re.players.flatMap(Ne=>{const ft=Ne==null?void 0:Ne.combatReplayData;return Array.isArray(ft)?ft.map(Qt=>Number(Qt==null?void 0:Qt.start)):[Number(ft==null?void 0:ft.start)]}).filter(Ne=>Number.isFinite(Ne)&&Ne>=0).reduce((Ne,ft)=>Math.min(Ne,ft),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Pn=[0,Number((Re==null?void 0:Re.logStartOffset)||0),...dt,Number.isFinite(ke)?ke:0].filter(Ne=>Number.isFinite(Ne)&&Ne>=0),Fr=Ne=>{const ft=Math.max(0,Math.floor(Number(Ne||0)/1e3)),Qt=Math.floor(ft/5)*5;return`${Qt}s-${Qt+5}s`},gr=(Ne,ft)=>{if(Ne.length===0||ft.length===0)return[];const Qt=ft.length*5e3,Xn=or=>or.reduce((ws,qc)=>qc>=0&&qc<=Qt+2e3?ws+1:ws,0),Tn=[],Ln=Ne.map(or=>Number(or||0)).filter(or=>Number.isFinite(or)&&or>=0);if(Ln.length===0)return[];Tn.push(Ln);const Wi=Ln.reduce((or,ws)=>Math.max(or,ws),0),Io=Ln.reduce((or,ws)=>Math.min(or,ws),Number.POSITIVE_INFINITY);Wi>Qt*20&&Tn.push(Ln.map(or=>or/1e3)),Wi<=Qt*2&&Io>=0&&Wi>0&&Wi<Math.max(120,ft.length*5+10)&&Tn.push(Ln.map(or=>or*1e3));let Za=Ln,HN=0,qN=-1;return Tn.forEach(or=>{const ws=new Set(Pn),qc=or.reduce((_l,Dx)=>Math.min(_l,Dx),Number.POSITIVE_INFINITY);if(Number.isFinite(qc)&&Qt>0&&qc>Qt){const _l=Math.floor(qc/Qt)*Qt;ws.add(_l),ws.add(Math.max(0,_l-Qt))}ws.forEach(_l=>{const Dx=or.map(IR=>IR-_l),KN=Xn(Dx);KN>qN&&(qN=KN,HN=_l,Za=or)})}),Za.map(or=>or-HN).filter(or=>Number.isFinite(or)&&or>=0)},sr=(Ne,ft)=>{if(Ne.length===0||ft.length===0)return[];const Qt=gr(ft,Ne),Xn=new Map;Ne.forEach(Ln=>{const Wi=/^(\d+)s-/.exec(String(Ln));if(!Wi)return;const Io=Number(Wi[1]);Number.isFinite(Io)&&Xn.set(Io,Ln)});const Tn=[];return Qt.forEach(Ln=>{const Wi=Math.max(0,Math.floor(Number(Ln||0)/1e3)),Io=Math.floor(Wi/5)*5,Za=Xn.get(Io)||Fr(Ln);Ne.includes(Za)&&Tn.push(Za)}),Array.from(new Set(Tn))},Sn=(Ne,ft)=>{if(Ne<=0||ft.length===0)return[];const Qt=Array.from({length:Ne},(Ln,Wi)=>`${Wi*5}s-${(Wi+1)*5}s`),Tn=gr(ft,Qt).map(Ln=>Math.floor(Math.max(0,Number(Ln||0))/5e3)).filter(Ln=>Number.isFinite(Ln)&&Ln>=0&&Ln<Ne);return Array.from(new Set(Tn))},Ei=Array.isArray((FN=($N=Q==null?void 0:Q.values)==null?void 0:$N[ut])==null?void 0:FN.buckets5s)?((BN=(RN=Q==null?void 0:Q.values)==null?void 0:RN[ut])==null?void 0:BN.buckets5s)||[]:[],Ot=Array.isArray((UN=(zN=Q==null?void 0:Q.values)==null?void 0:zN[ut])==null?void 0:UN.downIndices5s)?Q.values[ut].downIndices5s.map(Ne=>Number(Ne)).filter(Ne=>Number.isFinite(Ne)&&Ne>=0):[],Gn=Array.isArray((WN=(VN=Q==null?void 0:Q.values)==null?void 0:VN[ut])==null?void 0:WN.deathIndices5s)?Q.values[ut].deathIndices5s.map(Ne=>Number(Ne)).filter(Ne=>Number.isFinite(Ne)&&Ne>=0):[];if(Ei.length>0){const Ne=Math.max(0,Math.ceil(Number((Re==null?void 0:Re.durationMS)||0)/5e3)),ft=Math.max(Ei.length,Ne),Qt=Array.from({length:ft},(Tn,Ln)=>({label:`${Ln*5}s-${(Ln+1)*5}s`,value:Number(Ei[Ln]||0)})),Xn=Qt.map(Tn=>Tn.label);return{title:`Fight Breakdown - ${z.shortLabel||"Fight"} (5s Damage Buckets)`,data:Qt,downLabels:sr(Xn,pr),deathLabels:sr(Xn,Ee),downIndices:Ot.length>0?Ot.filter(Tn=>Tn<Qt.length):Sn(Qt.length,pr),deathIndices:Gn.length>0?Gn.filter(Tn=>Tn<Qt.length):Sn(Qt.length,Ee)}}const sn=z.shortLabel||"Fight";if(!Re||!Array.isArray(Re.players))return{title:`Fight Breakdown - ${sn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const bt=Re.players.find(Ne=>String((Ne==null?void 0:Ne.account)||(Ne==null?void 0:Ne.name)||"Unknown")===he&&String((Ne==null?void 0:Ne.profession)||"Unknown")===We);if(!bt)return{title:`Fight Breakdown - ${sn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Gt=bt,xr=Ne=>{if(!Array.isArray(Ne)||Ne.length===0)return[];const ft=[];for(let Qt=0;Qt<Ne.length;Qt+=1){const Xn=Number(Ne[Qt]||0),Tn=Qt>0?Number(Ne[Qt-1]||0):0;ft.push(Math.max(0,Xn-Tn))}return ft},Yn=Ne=>{if(!Array.isArray(Ne))return[];const ft=Ne.reduce((Xn,Tn)=>Math.max(Xn,Array.isArray(Tn)?Tn.length:0),0);if(ft<=0)return[];const Qt=new Array(ft).fill(0);return Ne.forEach(Xn=>{if(Array.isArray(Xn))for(let Tn=0;Tn<ft;Tn+=1)Qt[Tn]+=Number(Xn[Tn]||0)}),Qt},Vc=Ne=>Array.isArray(Ne)?Ne.map(ft=>Number(ft||0)):null,Wc=(Ne=>{if(!Array.isArray(Ne)||Ne.length===0)return null;const ft=Ne[0];if(!Array.isArray(ft))return null;if(Array.isArray(ft[0])&&Array.isArray(ft[0][0]))return Yn(ft);if(Array.isArray(ft[0])&&!Array.isArray(ft[0][0])){const Qt=Ne.map(Xn=>Vc(Array.isArray(Xn)?Xn[0]:null)).filter(Xn=>Array.isArray(Xn)&&Xn.length>0);if(Qt.length>0)return Yn(Qt)}return null})(Gt==null?void 0:Gt.targetDamage1S),Hc=Array.isArray(Gt==null?void 0:Gt.damage1S)&&Array.isArray(Gt.damage1S[0])?Gt.damage1S[0]:null,gd=Wc||(Array.isArray(Hc)?Hc.map(Ne=>Number(Ne||0)):[]),Il=xr(gd),vr=5,DR=Math.max(0,Math.ceil(Number((Re==null?void 0:Re.durationMS)||0)/(vr*1e3))),MR=Math.max(0,Math.ceil(Il.length/vr)),OR=Math.max(DR,MR),xd=[];for(let Ne=0;Ne<OR;Ne+=1){const ft=Ne*vr,Qt=Math.min(ft+vr,Il.length),Xn=Il.slice(ft,Qt).reduce((Tn,Ln)=>Tn+Number(Ln||0),0);xd.push({label:`${ft}s-${ft+vr}s`,value:Xn})}const _N=xd.map(Ne=>Ne.label);return{title:`Fight Breakdown - ${sn} (5s Damage Buckets)`,data:xd,downLabels:sr(_N,pr),deathLabels:sr(_N,Ee),downIndices:Sn(xd.length,pr),deathIndices:Sn(xd.length,Ee)}},[we,mi,ut,e,kn.fights,ji]),Tl=v.useMemo(()=>{const z=new Map;return zn.players.forEach(Q=>z.set(Q.key,Q)),z},[zn.players]),Pa=v.useMemo(()=>{const z=Te=>Je==="hit"?Te.peakHit:Je==="1s"?Te.peak1s:Je==="5s"?Te.peak5s:Te.peak30s,Q=ni.trim().toLowerCase(),he=Q?zn.players.filter(Te=>Te.displayName.toLowerCase().includes(Q)||Te.account.toLowerCase().includes(Q)||Te.profession.toLowerCase().includes(Q)):zn.players,We=new Map;return he.forEach(Te=>{const Re=Te.profession||"Unknown",me=We.get(Re)||[];me.push(Te),We.set(Re,me)}),Array.from(We.entries()).map(([Te,Re])=>({profession:Te,players:[...Re].sort((me,nt)=>z(nt)-z(me)||me.displayName.localeCompare(nt.displayName))})).sort((Te,Re)=>Te.profession.localeCompare(Re.profession))},[zn.players,ni,Je]),Mo=fe&&Tl.get(fe)||null,sa=v.useMemo(()=>{if(!fe)return[];const z=he=>he?Number(Je==="hit"?he.hit||0:Je==="1s"?he.burst1s||0:Je==="5s"?he.burst5s||0:he.burst30s||0):0,Q=he=>Number(Je==="hit"?he.maxHit||0:Je==="1s"?he.max1s||0:Je==="5s"?he.max5s||0:he.max30s||0);return zn.fights.map((he,We)=>{var Te;return{index:We,fightId:he.id,shortLabel:he.shortLabel,fullLabel:he.fullLabel,timestamp:Number(he.timestamp||0),damage:z(he.values[fe]),maxDamage:Q(he),skillName:String(((Te=he.values[fe])==null?void 0:Te.skillName)||"")}})},[zn.fights,fe,Je]),Gm=v.useMemo(()=>{const z=sa.reduce((he,We)=>Math.max(he,Number(We.damage||0)),0),Q=sa.reduce((he,We)=>Math.max(he,Number(We.maxDamage||0)),0);return Math.max(1,z,Q)},[sa]),El=v.useMemo(()=>{var nt,cn,gt,tn,jt,nn,Lt,pr,Ee;const z=et===null?null:sa.find(dt=>dt.index===et)||null;if(!z||!fe)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Q=Dn(zn.fights,z),he=(nt=Q==null?void 0:Q.values)==null?void 0:nt[fe],We=Array.isArray((gt=(cn=Q==null?void 0:Q.values)==null?void 0:cn[fe])==null?void 0:gt.buckets5s)?((jt=(tn=Q==null?void 0:Q.values)==null?void 0:tn[fe])==null?void 0:jt.buckets5s)||[]:[],Te=Array.isArray((Lt=(nn=Q==null?void 0:Q.values)==null?void 0:nn[fe])==null?void 0:Lt.downIndices5s)?Q.values[fe].downIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):[],Re=Array.isArray((Ee=(pr=Q==null?void 0:Q.values)==null?void 0:pr[fe])==null?void 0:Ee.deathIndices5s)?Q.values[fe].deathIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):[];if(We.length>0){const dt=We.map((ke,Pn)=>({label:`${Pn*5}s-${(Pn+1)*5}s`,value:Number(ke||0)}));return{title:`Fight Breakdown - ${z.shortLabel||"Fight"} (5s Damage Buckets)`,data:dt,downLabels:[],deathLabels:[],downIndices:Te.filter(ke=>ke<dt.length),deathIndices:Re.filter(ke=>ke<dt.length)}}const me=he?Number(Je==="hit"?he.hit||0:Je==="1s"?he.burst1s||0:Je==="5s"?he.burst5s||0:he.burst30s||0):0;return me>0?{title:`Fight Breakdown - ${z.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:me}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${z.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[et,sa,fe,zn.fights,Je]),Ym=v.useMemo(()=>{var me;if(et===null||!fe)return[];const z=sa.find(nt=>nt.index===et);if(!z)return[];const Q=Dn(zn.fights,z),he=(me=Q==null?void 0:Q.values)==null?void 0:me[fe],Te=[...(he==null?void 0:he.skillRows)||[]].filter(nt=>Number((nt==null?void 0:nt.damage)||0)>0).sort((nt,cn)=>Number(cn.damage||0)-Number(nt.damage||0)).slice(0,30);if(Te.length>0)return Te;const Re=Number((he==null?void 0:he.hit)||0);return Re<=0?Te:[{skillName:String((he==null?void 0:he.skillName)||"Unknown Skill"),damage:Re,hits:1,icon:void 0}]},[et,fe,sa,zn.fights]),Xm=v.useMemo(()=>{var We,Te;if(we===null||!ut)return[];const z=mi.find(Re=>Re.index===we);if(!z)return[];const Q=Dn(kn.fights,z);return[...((Te=(We=Q==null?void 0:Q.values)==null?void 0:We[ut])==null?void 0:Te.skillRows)||[]].filter(Re=>Number((Re==null?void 0:Re.damage)||0)>0).sort((Re,me)=>Number(me.damage||0)-Number(Re.damage||0)).slice(0,30)},[we,ut,mi,kn.fights]);v.useEffect(()=>{if(Ya.length===0){pt!==null&&Nt(null),_n!==null&&Tr(null);return}if(!pt||!zc.has(pt)){const z=Ya[0].key;Nt(z),bn(null)}},[Ya,zc,pt,_n]),v.useEffect(()=>{if(!Ge||Ge.skills.length===0){_n!==null&&Tr(null);return}const z=Ge.skills.some(Q=>Q.id===_n);(!_n||!z)&&Tr(Ge.skills[0].id)},[Ge,_n]),v.useEffect(()=>{if(Me.length===0){aa!==null&&Bc(null),Aa!==null&&Al(null);return}if(!aa||!tt.has(aa)){const z=Me[0].profession;Bc(z),hd(null)}},[Me,tt,aa,Aa]),v.useEffect(()=>{if(!wt||wt.skills.length===0){Aa!==null&&Al(null);return}const z=wt.skills.some(Q=>Q.id===Aa);(!Aa||!z)&&Al(wt.skills[0].id)},[wt,Aa]),v.useEffect(()=>{if(kn.players.length===0){ut!==null&&be(null);return}(!ut||!ji.has(ut))&&ut!==null&&be(null)},[kn.players,ji,ut]),v.useEffect(()=>{Be(null)},[ut,Pe]),v.useEffect(()=>{if(we===null)return;mi.some(Q=>Q.index===we)||Be(null)},[mi,we]),v.useEffect(()=>{if(zn.players.length===0){fe!==null&&Ve(null);return}(!fe||!Tl.has(fe))&&fe!==null&&Ve(null)},[zn.players,Tl,fe]),v.useEffect(()=>{$e(null)},[fe,Je]),v.useEffect(()=>{if(et===null)return;sa.some(Q=>Q.index===et)||$e(null)},[sa,et]);const Qm=v.useMemo(()=>new Set(st),[st]),{playerMapByKey:Vi,playerTotalsForSkill:$r,skillChartData:Dl,skillChartMaxY:Ml,groupedSkillUsagePlayers:Ol}=o8({skillUsageData:P,selectedSkillId:qe,selectedPlayers:Qm,skillUsageView:De==="perSecond"?"perSecond":"total"}),Oo=v.useMemo(()=>{const z=new Map,Q=Re=>{Re.forEach(me=>{const nt=eu(me==null?void 0:me.name)||(me==null?void 0:me.name);nt&&me!=null&&me.icon&&!z.has(nt)&&z.set(nt,me.icon)})},he=Re=>{Re.forEach(me=>{Object.entries((me==null?void 0:me.conditions)||{}).forEach(([nt,cn])=>{const gt=eu(nt)||nt;cn!=null&&cn.icon&&!z.has(gt)&&z.set(gt,cn.icon)})})},We=Re=>{const me=new Map;return Re.forEach(nt=>{const cn=eu(nt==null?void 0:nt.name)||(nt==null?void 0:nt.name);if(!cn)return;const gt=me.get(cn)||{name:cn,icon:(nt==null?void 0:nt.icon)||z.get(cn)||bh(cn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};gt.applications+=Number((nt==null?void 0:nt.applications)||0),gt.damage+=Number((nt==null?void 0:nt.damage)||0),nt!=null&&nt.applicationsFromUptime&&(gt.applicationsFromUptime+=Number(nt.applicationsFromUptime||0)),nt!=null&&nt.applicationsFromBuffs&&(gt.applicationsFromBuffs+=Number(nt.applicationsFromBuffs||0)),nt!=null&&nt.applicationsFromBuffsActive&&(gt.applicationsFromBuffsActive+=Number(nt.applicationsFromBuffsActive||0)),!gt.icon&&(nt!=null&&nt.icon)&&(gt.icon=nt.icon),gt.icon||(gt.icon=bh(cn)),me.set(cn,gt)}),Array.from(me.values())},Te=Re=>Re.map(me=>{const nt={};return Object.entries((me==null?void 0:me.conditions)||{}).forEach(([cn,gt])=>{const tn=eu(cn)||cn;if(!tn)return;const jt=nt[tn]||{icon:(gt==null?void 0:gt.icon)||z.get(tn)||bh(tn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};jt.applications+=Number((gt==null?void 0:gt.applications)||0),jt.damage+=Number((gt==null?void 0:gt.damage)||0),gt!=null&&gt.applicationsFromUptime&&(jt.applicationsFromUptime+=Number(gt.applicationsFromUptime||0)),gt!=null&&gt.applicationsFromBuffs&&(jt.applicationsFromBuffs+=Number(gt.applicationsFromBuffs||0)),gt!=null&&gt.applicationsFromBuffsActive&&(jt.applicationsFromBuffsActive+=Number(gt.applicationsFromBuffsActive||0)),!jt.icon&&(gt!=null&&gt.icon)&&(jt.icon=gt.icon),jt.icon||(jt.icon=bh(tn)),Object.values((gt==null?void 0:gt.skills)||{}).forEach(nn=>{const Lt=(nn==null?void 0:nn.name)||"Unknown",pr=jt.skills[Lt]||{name:Lt,hits:0,damage:0,icon:nn==null?void 0:nn.icon};pr.hits+=Number((nn==null?void 0:nn.hits)||0),pr.damage+=Number((nn==null?void 0:nn.damage)||0),!pr.icon&&(nn!=null&&nn.icon)&&(pr.icon=nn.icon),jt.skills[Lt]=pr}),nt[tn]=jt}),{...me,conditions:nt}});return(Re,me)=>(Q(Re),he(me),{summary:We(Re),players:Te(me)})},[]),NN=Bs==="outgoing"?F.outgoingConditionSummary:F.incomingConditionSummary,CN=Bs==="outgoing"?F.outgoingConditionPlayers:F.incomingConditionPlayers,{summary:Zm,players:eR}=v.useMemo(()=>Oo(NN||[],CN||[]),[Oo,NN,CN]);v.useEffect(()=>{if(hr==="all"||Zm.some(Q=>Q.name===hr))return;const z=eu(hr);z&&Zm.some(Q=>Q.name===z)?ja(z):ja("all")},[hr,Zm,ja]);const tR=v.useMemo(()=>{const z={};return $r.forEach((Q,he)=>{const We=Vi.get(he);if(!We)return;const Te=We.profession;(!z[Te]||Q>z[Te])&&(z[Te]=Q)}),z},[$r,Vi]),_t=v.useCallback(z=>d?d(z):!0,[d]),qn=v.useCallback((z,Q)=>{const he=_t(z);return d?`${Q} ${he?"":"hidden"}`:`${Q} transition-[opacity,transform] duration-700 ease-in-out ${he?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[_t,d]),jN=v.useMemo(()=>eae.find(z=>_t(z))||null,[_t]),Kn=v.useCallback(z=>z===jN,[jN]),nR=v.useMemo(()=>{const z=new Map,Q=new Map;return st.forEach(he=>{const We=Vi.get(he);if(!We)return;const Te=$r.get(he)??0,Re=Q.get(We.profession)||[];Re.push({key:he,total:Te}),Q.set(We.profession,Re)}),Q.forEach(he=>{he.sort((We,Te)=>Te.total-We.total),he.forEach((We,Te)=>{z.set(We.key,Te)})}),z},[st,Vi,$r]),AN=["0","12 3","8 3","6 3","4 3","2 3"],rR=z=>{const Q=Vi.get(z),he=ac((Q==null?void 0:Q.profession)||""),We=$r.get(z)??0,Te=Q!=null&&Q.profession&&tR[Q.profession]||1,me=.35+(Te>0?We/Te:1)*.65;return Jm(he,me)},iR=z=>{const Q=nR.get(z)??0;return AN[Q%AN.length]},aR=(z,Q,he)=>{if(!he)return rR(z);const We=Vi.get(z),Te=ac((We==null?void 0:We.profession)||"");return Q?Jm(Te,1.2):Jm(Te,.5)},Jm=(z,Q)=>{const he=z.replace("#","");if(he.length!==6)return z;const We=gt=>Math.max(0,Math.min(255,gt)),Te=gt=>Number.parseInt(he.slice(gt,gt+2),16),Re=gt=>We(Math.round(gt)).toString(16).padStart(2,"0"),me=Te(0),nt=Te(2),cn=Te(4);return`#${Re(me*Q)}${Re(nt*Q)}${Re(cn*Q)}`},PN=v.useMemo(()=>{const z=new Map;return P.skillOptions.forEach(Q=>{z.set(Q.id,{name:Q.name,icon:Q.icon})}),z},[P.skillOptions]),pd=v.useMemo(()=>{var gt;if(st.length===0)return[];const z=new Map,Q=new Map;let he=0;st.forEach(tn=>{const jt=Vi.get(tn);if(!jt)return;he+=jt.totalActiveSeconds||0,Object.entries(jt.skillTotals||{}).forEach(([Lt,pr])=>{z.set(Lt,(z.get(Lt)||0)+Number(pr||0))});const nn=jt.profession||"Unknown";Q.set(nn,(Q.get(nn)||0)+(jt.totalActiveSeconds||0))});const We=Ut.trim().toLowerCase(),Te=De==="perSecond",Re=((gt=Array.from(Q.entries()).sort((tn,jt)=>jt[1]-tn[1])[0])==null?void 0:gt[0])||"Unknown",me=ac(Re),nt="#64748b";return Array.from(z.entries()).map(([tn,jt])=>{const nn=PN.get(tn),Lt=(nn==null?void 0:nn.name)||tn,pr=Te&&he>0?jt/he:jt;return{skillId:tn,name:Lt,icon:nn==null?void 0:nn.icon,total:pr}}).filter(tn=>tn.total>0&&(!We||tn.name.toLowerCase().includes(We))).sort((tn,jt)=>jt.total-tn.total).map((tn,jt)=>({...tn,color:jt===0?me:Jm(me,.85-Math.min(jt*.06,.4))||nt}))},[st,Vi,Ut,De,PN]);v.useEffect(()=>{if(pd.length===0){qe!==null&&Ze(null);return}(!qe||!pd.some(z=>z.skillId===qe))&&Ze(pd[0].skillId)},[pd,qe,Ze]);const Uc=P.skillOptions.find(z=>z.id===qe),sR=(Uc==null?void 0:Uc.name)||"",oR=(Uc==null?void 0:Uc.icon)||null,lR=A&&!!qe&&st.length>0,eh="__all__",cR=A&&Ga.length>0,Ws=v.useMemo(()=>Ga.find(z=>z.profession===ht)??null,[Ga,ht]),uR=St===eh,dR=v.useMemo(()=>{var z;return((z=Ws==null?void 0:Ws.skills)==null?void 0:z.find(Q=>Q.id===St))??null},[Ws,St]);v.useEffect(()=>{if(Ga.length===0){ht!==null&&Et(null),Bt!==null&&Ht(null);return}if(!ht||!Ga.some(z=>z.profession===ht)){const z=Ga[0].profession;Et(z),Ht(null)}},[Ga,ht,Bt]),v.useEffect(()=>{if(!Ws||Ws.skills.length===0){St!==null&&Tt(null);return}const z=Ws.skills.some(Q=>Q.id===St);(!St||!z&&St!==eh)&&Tt(eh)},[Ws,St]);const fR=z=>{Mt(Q=>Q.includes(z)?Q.filter(he=>he!==z):[...Q,z])},mR=z=>{Mt(Q=>Q.filter(he=>he!==z))},hR=v.useMemo(()=>{const z=Ie.trim().toLowerCase(),Q=F.boonTables||[];return z?Q.filter(he=>he.name.toLowerCase().includes(z)):Q},[F.boonTables,Ie]),pR=v.useMemo(()=>L?(F.boonTables||[]).find(z=>z.id===L)??null:null,[F.boonTables,L]),gR=v.useMemo(()=>{const z=jn.trim().toLowerCase(),Q=[...F.specialTables||[]].sort((he,We)=>he.name.localeCompare(We.name));return z?Q.filter(he=>he.name.toLowerCase().includes(z)):Q},[F.specialTables,jn]),Qa=v.useMemo(()=>[...F.specialTables||[]].filter(Q=>/\b(sigil|relic)\b/i.test(String((Q==null?void 0:Q.name)||""))).sort((Q,he)=>Q.name.localeCompare(he.name)),[F.specialTables]),xR=v.useMemo(()=>{const z=Yt.trim().toLowerCase();return z?Qa.filter(Q=>Q.name.toLowerCase().includes(z)):Qa},[Qa,Yt]),vR=v.useMemo(()=>Ft?(F.specialTables||[]).find(z=>z.id===Ft)??null:null,[F.specialTables,Ft]),yR=v.useMemo(()=>_e?Qa.find(z=>z.id===_e)??null:null,[Qa,_e]);v.useEffect(()=>{!F.boonTables||F.boonTables.length===0||(!L||!F.boonTables.some(z=>z.id===L))&&ne(F.boonTables[0].id)},[F.boonTables,L]),v.useEffect(()=>{!F.specialTables||F.specialTables.length===0||(!Ft||!F.specialTables.some(z=>z.id===Ft))&&hn(F.specialTables[0].id)},[F.specialTables,Ft]),v.useEffect(()=>{if(!Qa||Qa.length===0){_e!==null&&Pt(null);return}(!_e||!Qa.some(z=>z.id===_e))&&Pt(Qa[0].id)},[Qa,_e]),v.useEffect(()=>{const z=()=>{const he=window.getSelection();he&&he.rangeCount>0&&he.removeAllRanges()},Q=he=>{var Te;const We=he.target;(Te=We==null?void 0:We.closest)!=null&&Te.call(We,".recharts-wrapper")&&(he.preventDefault(),z())};return document.addEventListener("selectstart",Q),document.addEventListener("mousedown",Q),document.addEventListener("mousemove",Q),document.addEventListener("dragstart",Q),()=>{document.removeEventListener("selectstart",Q),document.removeEventListener("mousedown",Q),document.removeEventListener("mousemove",Q),document.removeEventListener("dragstart",Q)}},[]);const Pi=z=>{ue.current&&(window.clearTimeout(ue.current),ue.current=null),W(!1),Jt(z)},ii=()=>{en&&(ue.current&&window.clearTimeout(ue.current),W(!0),ue.current=window.setTimeout(()=>{Jt(null),W(!1),ue.current=null},160))};v.useEffect(()=>{if(!en)return;const z=We=>{We.key==="Escape"&&ii()},Q=document.body.style.overflow,he=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",z),()=>{window.removeEventListener("keydown",z),document.body.style.overflow=Q,document.documentElement.style.overflow=he}},[en]);const TN=(z,Q)=>{const he=((Q==null?void 0:Q.value)||0)-((z==null?void 0:z.value)||0);return he!==0?he:String((z==null?void 0:z.name)||"").localeCompare(String((Q==null?void 0:Q.name)||""))},EN=Array.isArray(F==null?void 0:F.squadClassData)?F.squadClassData:[],DN=Array.isArray(F==null?void 0:F.enemyClassData)?F.enemyClassData:[],bR=Array.isArray(F==null?void 0:F.attendanceData)?F.attendanceData:[],Ex=Array.isArray(F==null?void 0:F.squadCompByFight)?F.squadCompByFight:[],MN=Array.isArray(F==null?void 0:F.fightBreakdown)?F.fightBreakdown:[],wR=v.useMemo(()=>{const z=new Map;return MN.forEach(Q=>{const he=String((Q==null?void 0:Q.id)||"");he&&z.set(he,Q)}),Ex.map(Q=>{const he=z.get(String((Q==null?void 0:Q.id)||""))||null;return{...Q,enemyClassCounts:(he==null?void 0:he.enemyClassCounts)||{}}})},[Ex,MN]),kR=v.useMemo(()=>[...EN].sort(TN),[EN]),SR=v.useMemo(()=>[...DN].sort(TN),[DN]),NR=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",CR=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${en?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${en?"":"backdrop-blur-2xl"}`,jR=c&&h!=="matte"&&h!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:c&&h==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,AR=z=>De==="perSecond"?z.toFixed(1):Math.round(z).toLocaleString(),PR=z=>z.toFixed(1),TR=z=>Math.round(z).toLocaleString(),ER=z=>typeof z=="number"&&Number.isFinite(z)?z.toFixed(1):"0.0",Ti=xie;return u.jsxs("div",{className:NR,children:[en&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${an?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:ii}),u.jsx(Xie,{embedded:c,dashboardTitle:f,totalLogs:F.total,onBack:t,devMockAvailable:Z,devMockUploadState:U,onDevMockUpload:re,uploadingWeb:_,onWebUpload:K,sharing:R,canShareDiscord:m,onShare:H}),u.jsx(Qie,{embedded:c,webUploadMessage:T,webUploadUrl:D,webUploadBuildStatus:O,webCopyStatus:q,setWebCopyStatus:ee}),u.jsx(Zie,{embedded:c,devMockAvailable:Z,devMockUploadState:U}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:S,className:`${CR} ${c?"":"flex-1"}`,style:jR,children:[u.jsxs(u.Fragment,{children:[_t("overview")&&u.jsx(Iie,{stats:F,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("fight-breakdown")&&u.jsx(_ie,{stats:F,fightBreakdownTab:Oe,setFightBreakdownTab:Ke,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("top-players")&&u.jsx(Fie,{stats:F,showTopStats:b,showMvp:w,topStatsMode:C,expandedLeader:B,setExpandedLeader:V,formatTopStatValue:$o,formatWithCommas:ca,isMvpStatEnabled:ae,renderProfessionIcon:Ti,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("top-skills-outgoing")&&u.jsx(Rie,{stats:F,topSkillsMetric:M,onTopSkillsMetricChange:te,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("squad-composition")&&u.jsx(Bie,{sortedSquadClassData:kR,sortedEnemyClassData:SR,getProfessionIconPath:Xl,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("attendance-ledger")&&u.jsx(Hie,{attendanceRows:bR,getProfessionIconPath:Xl,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("squad-comp-fight")&&u.jsx(Kie,{fights:Ex,getProfessionIconPath:Xl,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("fight-comp")&&u.jsx(Yie,{fights:wR,getProfessionIconPath:Xl,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("timeline")&&u.jsx(zie,{timelineData:F.timelineData,timelineFriendlyScope:Se,setTimelineFriendlyScope:ye,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("map-distribution")&&u.jsx(Uie,{mapData:F.mapData,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("offense-detailed")&&u.jsx(kie,{stats:F,OFFENSE_METRICS:yO,roundCountStats:k,offenseSearch:Nr,setOffenseSearch:Kr,activeOffenseStat:Na,setActiveOffenseStat:To,offenseViewMode:zt,setOffenseViewMode:rn,formatWithCommas:ca,renderProfessionIcon:Ti,expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ns}),_t("player-breakdown")&&u.jsx(wie,{expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ns,viewMode:Rc,setViewMode:jl,playerSkillBreakdowns:Ya,classSkillBreakdowns:Me,activePlayerKey:pt,setActivePlayerKey:Nt,expandedPlayerKey:un,setExpandedPlayerKey:bn,activePlayerSkillId:_n,setActivePlayerSkillId:Tr,activeClassKey:aa,setActiveClassKey:Bc,expandedClassKey:Km,setExpandedClassKey:hd,activeClassSkillId:Aa,setActiveClassSkillId:Al,skillSearch:Us,setSkillSearch:Vs,activePlayerBreakdown:Ge,activePlayerSkill:Xe,activeClassBreakdown:wt,activeClassSkill:wn,renderProfessionIcon:Ti}),_t("spike-damage")&&u.jsx(tT,{expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,spikePlayerFilter:Wt,setSpikePlayerFilter:In,groupedSpikePlayers:Ai,spikeMode:Pe,setSpikeMode:it,selectedSpikePlayerKey:ut,setSelectedSpikePlayerKey:be,selectedSpikePlayer:Xa,spikeChartData:mi,spikeChartMaxY:Ui,selectedSpikeFightIndex:we,setSelectedSpikeFightIndex:Be,spikeDrilldownTitle:Pl.title,spikeDrilldownData:Pl.data,spikeDrilldownDownIndices:Pl.downIndices,spikeDrilldownDeathIndices:Pl.deathIndices,spikeFightSkillRows:Xm,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:ca,renderProfessionIcon:Ti}),_t("conditions-outgoing")&&u.jsx(Sie,{conditionSummary:Zm,conditionPlayers:eR,conditionSearch:Xt,setConditionSearch:fi,activeConditionName:hr,setActiveConditionName:ja,conditionDirection:Bs,setConditionDirection:ri,conditionGridClass:Cl,effectiveConditionSort:Lc,setConditionSort:_c,showConditionDamage:Nl,renderProfessionIcon:Ti,expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ns}),_t("defense-detailed")&&u.jsx(Cie,{stats:F,DEFENSE_METRICS:bO,defenseSearch:Pr,setDefenseSearch:Ka,activeDefenseStat:Sl,setActiveDefenseStat:Eo,defenseViewMode:kt,setDefenseViewMode:ct,roundCountStats:k,formatWithCommas:ca,renderProfessionIcon:Ti,expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ns}),_t("incoming-strike-damage")&&u.jsx(tT,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,spikePlayerFilter:ni,setSpikePlayerFilter:Oc,groupedSpikePlayers:Pa,spikeMode:Je,setSpikeMode:Kt,selectedSpikePlayerKey:fe,setSelectedSpikePlayerKey:Ve,selectedSpikePlayer:Mo,spikeChartData:sa,spikeChartMaxY:Gm,selectedSpikeFightIndex:et,setSelectedSpikeFightIndex:$e,spikeDrilldownTitle:El.title,spikeDrilldownData:El.data,spikeDrilldownDownIndices:El.downIndices,spikeDrilldownDeathIndices:El.deathIndices,spikeFightSkillRows:Ym,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:ca,renderProfessionIcon:Ti}),_t("defense-mitigation")&&u.jsx(jie,{stats:F,DAMAGE_MITIGATION_METRICS:d6,damageMitigationSearch:Ci,setDamageMitigationSearch:xn,activeDamageMitigationStat:Ic,setActiveDamageMitigationStat:Ca,damageMitigationViewMode:An,setDamageMitigationViewMode:E,damageMitigationScope:Ue,setDamageMitigationScope:rt,roundCountStats:k,formatWithCommas:ca,renderProfessionIcon:Ti,expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ns}),_t("boon-output")&&u.jsx(Nie,{stats:F,activeBoonCategory:Ce,setActiveBoonCategory:z=>ze(z),activeBoonMetric:ce,setActiveBoonMetric:He,activeBoonTab:L,setActiveBoonTab:ne,activeBoonTable:pR,filteredBoonTables:hR,boonSearch:Ie,setBoonSearch:mt,formatBoonMetricDisplay:U6,getBoonMetricValue:MO,renderProfessionIcon:Ti,roundCountStats:k,expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ns}),_t("support-detailed")&&u.jsx(Aie,{stats:F,SUPPORT_METRICS:wO,supportSearch:bs,setSupportSearch:Gr,activeSupportStat:Do,setActiveSupportStat:$c,supportViewMode:I,setSupportViewMode:$,cleanseScope:pe,setCleanseScope:ie,roundCountStats:k,formatWithCommas:ca,renderProfessionIcon:Ti,expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ns}),_t("healing-stats")&&u.jsx(Pie,{stats:F,HEALING_METRICS:f6,activeHealingMetric:Fc,setActiveHealingMetric:Y,healingCategory:ve,setHealingCategory:Ae,activeResUtilitySkill:lt,setActiveResUtilitySkill:Dt,skillUsageData:P,formatWithCommas:ca,renderProfessionIcon:Ti,expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("fight-diff-mode")&&u.jsx(Oie,{stats:F,formatWithCommas:ca,expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn}),_t("special-buffs")&&u.jsx(Eie,{stats:F,specialSearch:jn,setSpecialSearch:xe,filteredSpecialTables:gR,activeSpecialTab:Ft,setActiveSpecialTab:hn,activeSpecialTable:vR,formatWithCommas:ca,renderProfessionIcon:Ti,expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ns}),_t("sigil-relic-uptime")&&u.jsx(Mie,{hasSigilRelicTables:Qa.length>0,sigilRelicSearch:Yt,setSigilRelicSearch:ln,filteredSigilRelicTables:xR,activeSigilRelicTab:_e,setActiveSigilRelicTab:Pt,activeSigilRelicTable:yR,formatWithCommas:ca,renderProfessionIcon:Ti,expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ns}),_t("skill-usage")&&u.jsx(vie,{expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,selectedPlayers:st,setSelectedPlayers:Mt,removeSelectedPlayer:mR,playerMapByKey:Vi,groupedSkillUsagePlayers:Ol,expandedSkillUsageClass:je,setExpandedSkillUsageClass:at,togglePlayerSelection:fR,skillUsagePlayerFilter:yt,setSkillUsagePlayerFilter:qt,skillUsageView:De,setSkillUsageView:oe,skillUsageData:P,skillUsageSkillFilter:Ut,setSkillUsageSkillFilter:pn,selectedSkillId:qe,setSelectedSkillId:Ze,skillBarData:pd,selectedSkillName:sR,selectedSkillIcon:oR,skillUsageReady:lR,skillUsageAvailable:A,isSkillUsagePerSecond:Le,skillChartData:Dl,skillChartMaxY:Ml,playerTotalsForSkill:$r,hoveredSkillPlayer:En,setHoveredSkillPlayer:vn,getLineStrokeColor:aR,getLineDashForPlayer:iR,formatSkillUsageValue:AR,renderProfessionIcon:Ti}),_t("apm-stats")&&u.jsx(bie,{expandedSection:en,expandedSectionClosing:an,openExpandedSection:Pi,closeExpandedSection:ii,isSectionVisible:_t,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Ns,apmSpecAvailable:cR,skillUsageAvailable:A,apmSpecTables:Ga,activeApmSpec:ht,setActiveApmSpec:Et,expandedApmSpec:Bt,setExpandedApmSpec:Ht,activeApmSkillId:St,setActiveApmSkillId:Tt,ALL_SKILLS_KEY:eh,apmSkillSearch:Fe,setApmSkillSearch:ot,activeApmSpecTable:Ws,activeApmSkill:dR,isAllApmSkills:uR,apmView:Rt,setApmView:It,formatApmValue:ER,formatCastRateValue:PR,formatCastCountValue:TR,renderProfessionIcon:Ti})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})})]})}const nae="Arcane",$S="CRT",Fg="MatteSlate",Rg="KineticPaper",af="KineticPaperDark",up={id:nae,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},rae={id:Fg,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},iae={id:Rg,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},aae={id:af,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},sae=[up,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],oae={id:$S,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Hd=[...sae,oae,rae,iae,aae];function lae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const cae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dae={};function rT(e,t){return(dae.jsx?uae:cae).test(e)}const fae=/[ \t\n\f\r]/g;function mae(e){return typeof e=="object"?e.type==="text"?iT(e.value):!1:iT(e)}function iT(e){return e.replace(fae,"")===""}class Bm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Bm.prototype.normal={};Bm.prototype.property={};Bm.prototype.space=void 0;function A4(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Bm(n,r,t)}function nw(e){return e.toLowerCase()}class ia{constructor(t,n){this.attribute=n,this.property=t}}ia.prototype.attribute="";ia.prototype.booleanish=!1;ia.prototype.boolean=!1;ia.prototype.commaOrSpaceSeparated=!1;ia.prototype.commaSeparated=!1;ia.prototype.defined=!1;ia.prototype.mustUseProperty=!1;ia.prototype.number=!1;ia.prototype.overloadedBoolean=!1;ia.prototype.property="";ia.prototype.spaceSeparated=!1;ia.prototype.space=void 0;let hae=0;const on=Ec(),Dr=Ec(),rw=Ec(),Qe=Ec(),Un=Ec(),Eu=Ec(),la=Ec();function Ec(){return 2**++hae}const iw=Object.freeze(Object.defineProperty({__proto__:null,boolean:on,booleanish:Dr,commaOrSpaceSeparated:la,commaSeparated:Eu,number:Qe,overloadedBoolean:rw,spaceSeparated:Un},Symbol.toStringTag,{value:"Module"})),Ov=Object.keys(iw);class FS extends ia{constructor(t,n,r,i){let a=-1;if(super(t,n),aT(this,"space",i),typeof r=="number")for(;++a<Ov.length;){const s=Ov[a];aT(this,Ov[a],(r&iw[s])===iw[s])}}}FS.prototype.defined=!0;function aT(e,t,n){n&&(e[t]=n)}function dd(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new FS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[nw(r)]=r,n[nw(a.attribute)]=r}return new Bm(t,n,e.space)}const P4=dd({properties:{ariaActiveDescendant:null,ariaAtomic:Dr,ariaAutoComplete:null,ariaBusy:Dr,ariaChecked:Dr,ariaColCount:Qe,ariaColIndex:Qe,ariaColSpan:Qe,ariaControls:Un,ariaCurrent:null,ariaDescribedBy:Un,ariaDetails:null,ariaDisabled:Dr,ariaDropEffect:Un,ariaErrorMessage:null,ariaExpanded:Dr,ariaFlowTo:Un,ariaGrabbed:Dr,ariaHasPopup:null,ariaHidden:Dr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Un,ariaLevel:Qe,ariaLive:null,ariaModal:Dr,ariaMultiLine:Dr,ariaMultiSelectable:Dr,ariaOrientation:null,ariaOwns:Un,ariaPlaceholder:null,ariaPosInSet:Qe,ariaPressed:Dr,ariaReadOnly:Dr,ariaRelevant:null,ariaRequired:Dr,ariaRoleDescription:Un,ariaRowCount:Qe,ariaRowIndex:Qe,ariaRowSpan:Qe,ariaSelected:Dr,ariaSetSize:Qe,ariaSort:null,ariaValueMax:Qe,ariaValueMin:Qe,ariaValueNow:Qe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function T4(e,t){return t in e?e[t]:t}function E4(e,t){return T4(e,t.toLowerCase())}const pae=dd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Eu,acceptCharset:Un,accessKey:Un,action:null,allow:null,allowFullScreen:on,allowPaymentRequest:on,allowUserMedia:on,alt:null,as:null,async:on,autoCapitalize:null,autoComplete:Un,autoFocus:on,autoPlay:on,blocking:Un,capture:null,charSet:null,checked:on,cite:null,className:Un,cols:Qe,colSpan:null,content:null,contentEditable:Dr,controls:on,controlsList:Un,coords:Qe|Eu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:on,defer:on,dir:null,dirName:null,disabled:on,download:rw,draggable:Dr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:on,formTarget:null,headers:Un,height:Qe,hidden:rw,high:Qe,href:null,hrefLang:null,htmlFor:Un,httpEquiv:Un,id:null,imageSizes:null,imageSrcSet:null,inert:on,inputMode:null,integrity:null,is:null,isMap:on,itemId:null,itemProp:Un,itemRef:Un,itemScope:on,itemType:Un,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:on,low:Qe,manifest:null,max:null,maxLength:Qe,media:null,method:null,min:null,minLength:Qe,multiple:on,muted:on,name:null,nonce:null,noModule:on,noValidate:on,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:on,optimum:Qe,pattern:null,ping:Un,placeholder:null,playsInline:on,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:on,referrerPolicy:null,rel:Un,required:on,reversed:on,rows:Qe,rowSpan:Qe,sandbox:Un,scope:null,scoped:on,seamless:on,selected:on,shadowRootClonable:on,shadowRootDelegatesFocus:on,shadowRootMode:null,shape:null,size:Qe,sizes:null,slot:null,span:Qe,spellCheck:Dr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Qe,step:null,style:null,tabIndex:Qe,target:null,title:null,translate:null,type:null,typeMustMatch:on,useMap:null,value:Dr,width:Qe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Un,axis:null,background:null,bgColor:null,border:Qe,borderColor:null,bottomMargin:Qe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:on,declare:on,event:null,face:null,frame:null,frameBorder:null,hSpace:Qe,leftMargin:Qe,link:null,longDesc:null,lowSrc:null,marginHeight:Qe,marginWidth:Qe,noResize:on,noHref:on,noShade:on,noWrap:on,object:null,profile:null,prompt:null,rev:null,rightMargin:Qe,rules:null,scheme:null,scrolling:Dr,standby:null,summary:null,text:null,topMargin:Qe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Qe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:on,disableRemotePlayback:on,prefix:null,property:null,results:Qe,security:null,unselectable:null},space:"html",transform:E4}),gae=dd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:la,accentHeight:Qe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Qe,amplitude:Qe,arabicForm:null,ascent:Qe,attributeName:null,attributeType:null,azimuth:Qe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Qe,by:null,calcMode:null,capHeight:Qe,className:Un,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Qe,diffuseConstant:Qe,direction:null,display:null,dur:null,divisor:Qe,dominantBaseline:null,download:on,dx:null,dy:null,edgeMode:null,editable:null,elevation:Qe,enableBackground:null,end:null,event:null,exponent:Qe,externalResourcesRequired:null,fill:null,fillOpacity:Qe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Eu,g2:Eu,glyphName:Eu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Qe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Qe,horizOriginX:Qe,horizOriginY:Qe,id:null,ideographic:Qe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Qe,k:Qe,k1:Qe,k2:Qe,k3:Qe,k4:Qe,kernelMatrix:la,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Qe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Qe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Qe,overlineThickness:Qe,paintOrder:null,panose1:null,path:null,pathLength:Qe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Un,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Qe,pointsAtY:Qe,pointsAtZ:Qe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:la,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:la,rev:la,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:la,requiredFeatures:la,requiredFonts:la,requiredFormats:la,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Qe,specularExponent:Qe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Qe,strikethroughThickness:Qe,string:null,stroke:null,strokeDashArray:la,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Qe,strokeOpacity:Qe,strokeWidth:null,style:null,surfaceScale:Qe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:la,tabIndex:Qe,tableValues:null,target:null,targetX:Qe,targetY:Qe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:la,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Qe,underlineThickness:Qe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Qe,values:null,vAlphabetic:Qe,vMathematical:Qe,vectorEffect:null,vHanging:Qe,vIdeographic:Qe,version:null,vertAdvY:Qe,vertOriginX:Qe,vertOriginY:Qe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Qe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:T4}),D4=dd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),M4=dd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:E4}),O4=dd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),xae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},vae=/[A-Z]/g,sT=/-[a-z]/g,yae=/^data[-\w.:]+$/i;function bae(e,t){const n=nw(t);let r=t,i=ia;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&yae.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(sT,kae);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!sT.test(a)){let s=a.replace(vae,wae);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=FS}return new i(r,t)}function wae(e){return"-"+e.toLowerCase()}function kae(e){return e.charAt(1).toUpperCase()}const Sae=A4([P4,pae,D4,M4,O4],"html"),RS=A4([P4,gae,D4,M4,O4],"svg");function Nae(e){return e.join(" ").trim()}var BS={},oT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Cae=/\n/g,jae=/^\s*/,Aae=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Pae=/^:\s*/,Tae=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Eae=/^[;\s]*/,Dae=/^\s+|\s+$/g,Mae=`
`,lT="/",cT="*",ql="",Oae="comment",Iae="declaration";function _ae(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(Cae);g&&(n+=g.length);var y=p.lastIndexOf(Mae);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new s(p),c(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(jae)}function d(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=a();if(!(lT!=e.charAt(0)||cT!=e.charAt(1))){for(var g=2;ql!=e.charAt(g)&&(cT!=e.charAt(g)||lT!=e.charAt(g+1));)++g;if(g+=2,ql===e.charAt(g-1))return o("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:Oae,comment:y})}}function h(){var p=a(),g=l(Aae);if(g){if(f(),!l(Pae))return o("property missing ':'");var y=l(Tae),x=p({type:Iae,property:uT(g[0].replace(oT,ql)),value:y?uT(y[0].replace(oT,ql)):ql});return l(Eae),x}}function m(){var p=[];d(p);for(var g;g=h();)g!==!1&&(p.push(g),d(p));return p}return c(),m()}function uT(e){return e?e.replace(Dae,ql):ql}var Lae=_ae,$ae=pp&&pp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BS,"__esModule",{value:!0});BS.default=Rae;const Fae=$ae(Lae);function Rae(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Fae.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var xx={};Object.defineProperty(xx,"__esModule",{value:!0});xx.camelCase=void 0;var Bae=/^--[a-zA-Z0-9_-]+$/,zae=/-([a-z])/g,Uae=/^[^-]+$/,Vae=/^-(webkit|moz|ms|o|khtml)-/,Wae=/^-(ms)-/,Hae=function(e){return!e||Uae.test(e)||Bae.test(e)},qae=function(e,t){return t.toUpperCase()},dT=function(e,t){return"".concat(t,"-")},Kae=function(e,t){return t===void 0&&(t={}),Hae(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Wae,dT):e=e.replace(Vae,dT),e.replace(zae,qae))};xx.camelCase=Kae;var Gae=pp&&pp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Yae=Gae(BS),Xae=xx;function aw(e,t){var n={};return!e||typeof e!="string"||(0,Yae.default)(e,function(r,i){r&&i&&(n[(0,Xae.camelCase)(r,t)]=i)}),n}aw.default=aw;var Qae=aw;const Zae=gs(Qae),I4=_4("end"),zS=_4("start");function _4(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Jae(e){const t=zS(e),n=I4(e);if(t&&n)return{start:t,end:n}}function sf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?fT(e.position):"start"in e||"end"in e?fT(e):"line"in e||"column"in e?sw(e):""}function sw(e){return mT(e&&e.line)+":"+mT(e&&e.column)}function fT(e){return sw(e&&e.start)+"-"+sw(e&&e.end)}function mT(e){return e&&typeof e=="number"?e:1}class Ni extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=sf(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ni.prototype.file="";Ni.prototype.name="";Ni.prototype.reason="";Ni.prototype.message="";Ni.prototype.stack="";Ni.prototype.column=void 0;Ni.prototype.line=void 0;Ni.prototype.ancestors=void 0;Ni.prototype.cause=void 0;Ni.prototype.fatal=void 0;Ni.prototype.place=void 0;Ni.prototype.ruleId=void 0;Ni.prototype.source=void 0;const US={}.hasOwnProperty,ese=new Map,tse=/[A-Z]/g,nse=new Set(["table","tbody","thead","tfoot","tr"]),rse=new Set(["td","th"]),L4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ise(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=fse(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=dse(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?RS:Sae,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=$4(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function $4(e,t,n){if(t.type==="element")return ase(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return sse(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return lse(e,t,n);if(t.type==="mdxjsEsm")return ose(e,t);if(t.type==="root")return cse(e,t,n);if(t.type==="text")return use(e,t)}function ase(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=RS,e.schema=i),e.ancestors.push(t);const a=R4(e,t.tagName,!1),s=mse(e,t);let o=WS(e,t);return nse.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!mae(l):!0})),F4(e,s,a,t),VS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function sse(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Jf(e,t.position)}function ose(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Jf(e,t.position)}function lse(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=RS,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:R4(e,t.name,!0),s=hse(e,t),o=WS(e,t);return F4(e,s,a,t),VS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function cse(e,t,n){const r={};return VS(r,WS(e,t)),e.create(t,e.Fragment,r,n)}function use(e,t){return t.value}function F4(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function VS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function dse(e,t,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:t;return o?c(a,s,o):c(a,s)}}function fse(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=zS(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function mse(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&US.call(t.properties,i)){const a=pse(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&rse.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function hse(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Jf(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Jf(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function WS(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:ese;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=$4(e,a,s);o!==void 0&&n.push(o)}return n}function pse(e,t,n){const r=bae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?lae(n):Nae(n)),r.property==="style"){let i=typeof n=="object"?n:gse(e,String(n));return e.stylePropertyNameCase==="css"&&(i=xse(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?xae[r.property]||r.property:r.attribute,n]}}function gse(e,t){try{return Zae(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ni("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=L4+"#cannot-parse-style-attribute",i}}function R4(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=rT(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=rT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return US.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Jf(e)}function Jf(e,t){const n=new Ni("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=L4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function xse(e){const t={};let n;for(n in e)US.call(e,n)&&(t[vse(n)]=e[n]);return t}function vse(e){let t=e.replace(tse,yse);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function yse(e){return"-"+e.toLowerCase()}const Iv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bse={};function HS(e,t){const n=bse,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return B4(e,r,i)}function B4(e,t,n){if(wse(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return hT(e.children,t,n)}return Array.isArray(e)?hT(e,t,n):""}function hT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=B4(e[i],t,n);return r.join("")}function wse(e){return!!(e&&typeof e=="object")}const pT=document.createElement("i");function qS(e){const t="&"+e+";";pT.innerHTML=t;const n=pT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function va(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function $a(e,t){return e.length>0?(va(e,e.length,0,t),e):t}const gT={}.hasOwnProperty;function z4(e){const t={};let n=-1;for(;++n<e.length;)kse(t,e[n]);return t}function kse(e,t){let n;for(n in t){const i=(gT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){gT.call(i,s)||(i[s]=[]);const o=a[s];Sse(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Sse(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);va(e,0,0,r)}function U4(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function cs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ii=wl(/[A-Za-z]/),ki=wl(/[\dA-Za-z]/),Nse=wl(/[#-'*+\--9=?A-Z^-~]/);function Bg(e){return e!==null&&(e<32||e===127)}const ow=wl(/\d/),Cse=wl(/[\dA-Fa-f]/),jse=wl(/[!-/:-@[-`{-~]/);function $t(e){return e!==null&&e<-2}function Rn(e){return e!==null&&(e<0||e===32)}function dn(e){return e===-2||e===-1||e===32}const vx=wl(new RegExp("\\p{P}|\\p{S}","u")),Cc=wl(/\s/);function wl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function fd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&ki(e.charCodeAt(n+1))&&ki(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function mn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return dn(l)?(e.enter(n),o(l)):t(l)}function o(l){return dn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const Ase={tokenize:Pse};function Pse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),mn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return $t(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const Tse={tokenize:Ese},xT={tokenize:Dse};function Ese(e){const t=this,n=[];let r=0,i,a,s;return o;function o(w){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const k=t.events.length;let C=k,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}x(r);let j=k;for(;j<t.events.length;)t.events[j][1].end={...N},j++;return va(t.events,C+1,0,t.events.slice(k)),t.events.length=j,c(w)}return o(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(xT,d,f)(w)}function d(w){return i&&b(),x(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function h(w){return t.containerState={},e.attempt(xT,m,p)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function p(w){if(w===null){i&&b(),x(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),x(0),e.consume(w);return}return $t(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),g)}function y(w,k){const C=t.sliceStream(w);if(k&&C.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const j=t.events.length;let M=j,_,T;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if(_){T=t.events[M][1].end;break}_=!0}for(x(r),N=j;N<t.events.length;)t.events[N][1].end={...T},N++;va(t.events,M+1,0,t.events.slice(j)),t.events.length=N}}function x(w){let k=n.length;for(;k-- >w;){const C=n[k];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Dse(e,t,n){return mn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Yu(e){if(e===null||Rn(e)||Cc(e))return 1;if(vx(e))return 2}function yx(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const lw={name:"attention",resolveAll:Mse,tokenize:Ose};function Mse(e,t){let n=-1,r,i,a,s,o,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};vT(f,-l),vT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=$a(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=$a(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=$a(c,yx(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=$a(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=$a(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,va(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Ose(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Yu(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),d=Yu(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function vT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ise={name:"autolink",tokenize:_se};function _se(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Ii(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||ki(m)?(r=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||ki(m))&&r++<32?(e.consume(m),o):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Bg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):Nse(m)?(e.consume(m),c):n(m)}function d(m){return ki(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||ki(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const zm={partial:!0,tokenize:Lse};function Lse(e,t,n){return r;function r(a){return dn(a)?mn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||$t(a)?t(a):n(a)}}const V4={continuation:{tokenize:Fse},exit:Rse,name:"blockQuote",tokenize:$se};function $se(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return dn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Fse(e,t,n){const r=this;return i;function i(s){return dn(s)?mn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(V4,t,n)(s)}}function Rse(e){e.exit("blockQuote")}const W4={name:"characterEscape",tokenize:Bse};function Bse(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return jse(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const H4={name:"characterReference",tokenize:zse};function zse(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=ki,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Cse,d):(e.enter("characterReferenceValue"),a=7,s=ow,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===ki&&!qS(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const yT={partial:!0,tokenize:Vse},bT={concrete:!0,name:"codeFenced",tokenize:Use};function Use(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(N){return c(N)}function c(N){const j=r.events[r.events.length-1];return a=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===o?(s++,e.consume(N),d):s<3?n(N):(e.exit("codeFencedFenceSequence"),dn(N)?mn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||$t(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(yT,g,k)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||$t(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):dn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),mn(e,m,"whitespace")(N)):N===96&&N===o?n(N):(e.consume(N),h)}function m(N){return N===null||$t(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||$t(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===o?n(N):(e.consume(N),p)}function g(N){return e.attempt(i,k,y)(N)}function y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),x}function x(N){return a>0&&dn(N)?mn(e,b,"linePrefix",a+1)(N):b(N)}function b(N){return N===null||$t(N)?e.check(yT,g,k)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||$t(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function k(N){return e.exit("codeFenced"),t(N)}function C(N,j,M){let _=0;return T;function T(se){return N.enter("lineEnding"),N.consume(se),N.exit("lineEnding"),D}function D(se){return N.enter("codeFencedFence"),dn(se)?mn(N,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):O(se)}function O(se){return se===o?(N.enter("codeFencedFenceSequence"),Z(se)):M(se)}function Z(se){return se===o?(_++,N.consume(se),Z):_>=s?(N.exit("codeFencedFenceSequence"),dn(se)?mn(N,J,"whitespace")(se):J(se)):M(se)}function J(se){return se===null||$t(se)?(N.exit("codeFencedFence"),j(se)):M(se)}}}function Vse(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const _v={name:"codeIndented",tokenize:Hse},Wse={partial:!0,tokenize:qse};function Hse(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),mn(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):$t(c)?e.attempt(Wse,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||$t(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function qse(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):$t(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):mn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):$t(s)?i(s):n(s)}}const Kse={name:"codeText",previous:Yse,resolve:Gse,tokenize:Xse};function Gse(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Yse(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Xse(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):$t(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||$t(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Qse{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Id(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Id(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Id(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Id(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Id(this.left,n.reverse())}}}function Id(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function q4(e){const t={};let n=-1,r,i,a,s,o,l,c;const d=new Qse(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Zse(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return va(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Zse(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,m=n,p=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const x=o.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+x.length-1]),e.splice(b,2,x)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const Jse={resolve:toe,tokenize:noe},eoe={partial:!0,tokenize:roe};function toe(e){return q4(e),e}function noe(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):$t(o)?e.check(eoe,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function roe(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),mn(e,a,"linePrefix")}function a(s){if(s===null||$t(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function K4(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||Bg(x)?n(x):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(o),h(x)):x===null||x===60||$t(x)?n(x):(e.consume(x),x===92?p:m)}function p(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function g(x){return!d&&(x===null||x===41||Rn(x))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(x)):d<c&&x===40?(e.consume(x),d++,g):x===41?(e.consume(x),d--,g):x===null||x===32||x===40||Bg(x)?n(x):(e.consume(x),x===92?y:g)}function y(x){return x===40||x===41||x===92?(e.consume(x),g):g(x)}}function G4(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):$t(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||$t(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!dn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function Y4(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===s?(e.exit(a),l(s)):h===null?n(h):$t(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),mn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||$t(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function of(e,t){let n;return r;function r(i){return $t(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):dn(i)?mn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const ioe={name:"definition",tokenize:soe},aoe={partial:!0,tokenize:ooe};function soe(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return G4.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=cs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Rn(m)?of(e,c)(m):c(m)}function c(m){return K4(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(aoe,f,f)(m)}function f(m){return dn(m)?mn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||$t(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function ooe(e,t,n){return r;function r(o){return Rn(o)?of(e,i)(o):n(o)}function i(o){return Y4(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return dn(o)?mn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||$t(o)?t(o):n(o)}}const loe={name:"hardBreakEscape",tokenize:coe};function coe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return $t(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const uoe={name:"headingAtx",resolve:doe,tokenize:foe};function doe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},va(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function foe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Rn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||$t(d)?(e.exit("atxHeading"),t(d)):dn(d)?mn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Rn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const moe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wT=["pre","script","style","textarea"],hoe={concrete:!0,name:"htmlFlow",resolveTo:xoe,tokenize:voe},poe={partial:!0,tokenize:boe},goe={partial:!0,tokenize:yoe};function xoe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function voe(e,t,n){const r=this;let i,a,s,o,l;return c;function c(S){return d(S)}function d(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),f}function f(S){return S===33?(e.consume(S),h):S===47?(e.consume(S),a=!0,g):S===63?(e.consume(S),i=3,r.interrupt?t:P):Ii(S)?(e.consume(S),s=String.fromCharCode(S),y):n(S)}function h(S){return S===45?(e.consume(S),i=2,m):S===91?(e.consume(S),i=5,o=0,p):Ii(S)?(e.consume(S),i=4,r.interrupt?t:P):n(S)}function m(S){return S===45?(e.consume(S),r.interrupt?t:P):n(S)}function p(S){const U="CDATA[";return S===U.charCodeAt(o++)?(e.consume(S),o===U.length?r.interrupt?t:O:p):n(S)}function g(S){return Ii(S)?(e.consume(S),s=String.fromCharCode(S),y):n(S)}function y(S){if(S===null||S===47||S===62||Rn(S)){const U=S===47,q=s.toLowerCase();return!U&&!a&&wT.includes(q)?(i=1,r.interrupt?t(S):O(S)):moe.includes(s.toLowerCase())?(i=6,U?(e.consume(S),x):r.interrupt?t(S):O(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):a?b(S):w(S))}return S===45||ki(S)?(e.consume(S),s+=String.fromCharCode(S),y):n(S)}function x(S){return S===62?(e.consume(S),r.interrupt?t:O):n(S)}function b(S){return dn(S)?(e.consume(S),b):T(S)}function w(S){return S===47?(e.consume(S),T):S===58||S===95||Ii(S)?(e.consume(S),k):dn(S)?(e.consume(S),w):T(S)}function k(S){return S===45||S===46||S===58||S===95||ki(S)?(e.consume(S),k):C(S)}function C(S){return S===61?(e.consume(S),N):dn(S)?(e.consume(S),C):w(S)}function N(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),l=S,j):dn(S)?(e.consume(S),N):M(S)}function j(S){return S===l?(e.consume(S),l=null,_):S===null||$t(S)?n(S):(e.consume(S),j)}function M(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||Rn(S)?C(S):(e.consume(S),M)}function _(S){return S===47||S===62||dn(S)?w(S):n(S)}function T(S){return S===62?(e.consume(S),D):n(S)}function D(S){return S===null||$t(S)?O(S):dn(S)?(e.consume(S),D):n(S)}function O(S){return S===45&&i===2?(e.consume(S),de):S===60&&i===1?(e.consume(S),X):S===62&&i===4?(e.consume(S),A):S===63&&i===3?(e.consume(S),P):S===93&&i===5?(e.consume(S),F):$t(S)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(poe,te,Z)(S)):S===null||$t(S)?(e.exit("htmlFlowData"),Z(S)):(e.consume(S),O)}function Z(S){return e.check(goe,J,te)(S)}function J(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),se}function se(S){return S===null||$t(S)?Z(S):(e.enter("htmlFlowData"),O(S))}function de(S){return S===45?(e.consume(S),P):O(S)}function X(S){return S===47?(e.consume(S),s="",G):O(S)}function G(S){if(S===62){const U=s.toLowerCase();return wT.includes(U)?(e.consume(S),A):O(S)}return Ii(S)&&s.length<8?(e.consume(S),s+=String.fromCharCode(S),G):O(S)}function F(S){return S===93?(e.consume(S),P):O(S)}function P(S){return S===62?(e.consume(S),A):S===45&&i===2?(e.consume(S),P):O(S)}function A(S){return S===null||$t(S)?(e.exit("htmlFlowData"),te(S)):(e.consume(S),A)}function te(S){return e.exit("htmlFlow"),t(S)}}function yoe(e,t,n){const r=this;return i;function i(s){return $t(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function boe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(zm,t,n)}}const woe={name:"htmlText",tokenize:koe};function koe(e,t,n){const r=this;let i,a,s;return o;function o(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),l}function l(P){return P===33?(e.consume(P),c):P===47?(e.consume(P),C):P===63?(e.consume(P),w):Ii(P)?(e.consume(P),M):n(P)}function c(P){return P===45?(e.consume(P),d):P===91?(e.consume(P),a=0,p):Ii(P)?(e.consume(P),b):n(P)}function d(P){return P===45?(e.consume(P),m):n(P)}function f(P){return P===null?n(P):P===45?(e.consume(P),h):$t(P)?(s=f,X(P)):(e.consume(P),f)}function h(P){return P===45?(e.consume(P),m):f(P)}function m(P){return P===62?de(P):P===45?h(P):f(P)}function p(P){const A="CDATA[";return P===A.charCodeAt(a++)?(e.consume(P),a===A.length?g:p):n(P)}function g(P){return P===null?n(P):P===93?(e.consume(P),y):$t(P)?(s=g,X(P)):(e.consume(P),g)}function y(P){return P===93?(e.consume(P),x):g(P)}function x(P){return P===62?de(P):P===93?(e.consume(P),x):g(P)}function b(P){return P===null||P===62?de(P):$t(P)?(s=b,X(P)):(e.consume(P),b)}function w(P){return P===null?n(P):P===63?(e.consume(P),k):$t(P)?(s=w,X(P)):(e.consume(P),w)}function k(P){return P===62?de(P):w(P)}function C(P){return Ii(P)?(e.consume(P),N):n(P)}function N(P){return P===45||ki(P)?(e.consume(P),N):j(P)}function j(P){return $t(P)?(s=j,X(P)):dn(P)?(e.consume(P),j):de(P)}function M(P){return P===45||ki(P)?(e.consume(P),M):P===47||P===62||Rn(P)?_(P):n(P)}function _(P){return P===47?(e.consume(P),de):P===58||P===95||Ii(P)?(e.consume(P),T):$t(P)?(s=_,X(P)):dn(P)?(e.consume(P),_):de(P)}function T(P){return P===45||P===46||P===58||P===95||ki(P)?(e.consume(P),T):D(P)}function D(P){return P===61?(e.consume(P),O):$t(P)?(s=D,X(P)):dn(P)?(e.consume(P),D):_(P)}function O(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,Z):$t(P)?(s=O,X(P)):dn(P)?(e.consume(P),O):(e.consume(P),J)}function Z(P){return P===i?(e.consume(P),i=void 0,se):P===null?n(P):$t(P)?(s=Z,X(P)):(e.consume(P),Z)}function J(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Rn(P)?_(P):(e.consume(P),J)}function se(P){return P===47||P===62||Rn(P)?_(P):n(P)}function de(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function X(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),G}function G(P){return dn(P)?mn(e,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):F(P)}function F(P){return e.enter("htmlTextData"),s(P)}}const KS={name:"labelEnd",resolveAll:joe,resolveTo:Aoe,tokenize:Poe},Soe={tokenize:Toe},Noe={tokenize:Eoe},Coe={tokenize:Doe};function joe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&va(e,0,e.length,n),e}function Aoe(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=$a(o,e.slice(a+1,a+r+3)),o=$a(o,[["enter",d,t]]),o=$a(o,yx(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=$a(o,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),o=$a(o,e.slice(s+1)),o=$a(o,[["exit",l,t]]),va(e,a,e.length,o),e}function Poe(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(cs(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(Soe,d,s?d:f)(h):h===91?e.attempt(Noe,d,s?c:f)(h):s?d(h):f(h)}function c(h){return e.attempt(Coe,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function Toe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Rn(f)?of(e,a)(f):a(f)}function a(f){return f===41?d(f):K4(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Rn(f)?of(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?Y4(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Rn(f)?of(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Eoe(e,t,n){const r=this;return i;function i(o){return G4.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(cs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function Doe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Moe={name:"labelStartImage",resolveAll:KS.resolveAll,tokenize:Ooe};function Ooe(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Ioe={name:"labelStartLink",resolveAll:KS.resolveAll,tokenize:_oe};function _oe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Lv={name:"lineEnding",tokenize:Loe};function Loe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),mn(e,t,"linePrefix")}}const dp={name:"thematicBreak",tokenize:$oe};function $oe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||$t(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),dn(c)?mn(e,o,"whitespace")(c):o(c))}}const Hi={continuation:{tokenize:zoe},exit:Voe,name:"list",tokenize:Boe},Foe={partial:!0,tokenize:Woe},Roe={partial:!0,tokenize:Uoe};function Boe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:ow(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(dp,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return ow(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(zm,r.interrupt?n:d,e.attempt(Foe,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return dn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function zoe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(zm,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,mn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!dn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Roe,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,mn(e,e.attempt(Hi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Uoe(e,t,n){const r=this;return mn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Voe(e){e.exit(this.containerState.type)}function Woe(e,t,n){const r=this;return mn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!dn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const kT={name:"setextUnderline",resolveTo:Hoe,tokenize:qoe};function Hoe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function qoe(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),dn(c)?mn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||$t(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Koe={tokenize:Goe};function Goe(e){const t=this,n=e.attempt(zm,r,e.attempt(this.parser.constructs.flowInitial,i,mn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Jse,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Yoe={resolveAll:Q4()},Xoe=X4("string"),Qoe=X4("text");function X4(e){return{resolveAll:Q4(e==="text"?Zoe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Q4(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Zoe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Joe={42:Hi,43:Hi,45:Hi,48:Hi,49:Hi,50:Hi,51:Hi,52:Hi,53:Hi,54:Hi,55:Hi,56:Hi,57:Hi,62:V4},ele={91:ioe},tle={[-2]:_v,[-1]:_v,32:_v},nle={35:uoe,42:dp,45:[kT,dp],60:hoe,61:kT,95:dp,96:bT,126:bT},rle={38:H4,92:W4},ile={[-5]:Lv,[-4]:Lv,[-3]:Lv,33:Moe,38:H4,42:lw,60:[Ise,woe],91:Ioe,92:[loe,W4],93:KS,95:lw,96:Kse},ale={null:[lw,Yoe]},sle={null:[42,95]},ole={null:[]},lle=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:sle,contentInitial:ele,disable:ole,document:Joe,flow:nle,flowInitial:tle,insideSpan:ale,string:rle,text:ile},Symbol.toStringTag,{value:"Module"}));function cle(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:j(C),check:j(N),consume:b,enter:w,exit:k,interrupt:j(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(D){return s=$a(s,D),y(),s[s.length-1]!==null?[]:(M(t,0),c.events=yx(a,c.events,c),c.events)}function h(D,O){return dle(m(D),O)}function m(D){return ule(s,D)}function p(){const{_bufferIndex:D,_index:O,line:Z,column:J,offset:se}=r;return{_bufferIndex:D,_index:O,line:Z,column:J,offset:se}}function g(D){i[D.line]=D.column,T()}function y(){let D;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<O.length;)x(O.charCodeAt(r._bufferIndex));else x(O)}}function x(D){d=d(D)}function b(D){$t(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,T()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=D}function w(D,O){const Z=O||{};return Z.type=D,Z.start=p(),c.events.push(["enter",Z,c]),o.push(Z),Z}function k(D){const O=o.pop();return O.end=p(),c.events.push(["exit",O,c]),O}function C(D,O){M(D,O.from)}function N(D,O){O.restore()}function j(D,O){return Z;function Z(J,se,de){let X,G,F,P;return Array.isArray(J)?te(J):"tokenize"in J?te([J]):A(J);function A(ee){return K;function K(re){const R=re!==null&&ee[re],H=re!==null&&ee.null,le=[...Array.isArray(R)?R:R?[R]:[],...Array.isArray(H)?H:H?[H]:[]];return te(le)(re)}}function te(ee){return X=ee,G=0,ee.length===0?de:S(ee[G])}function S(ee){return K;function K(re){return P=_(),F=ee,ee.partial||(c.currentConstruct=ee),ee.name&&c.parser.constructs.disable.null.includes(ee.name)?q():ee.tokenize.call(O?Object.assign(Object.create(c),O):c,l,U,q)(re)}}function U(ee){return D(F,P),se}function q(ee){return P.restore(),++G<X.length?S(X[G]):de}}}function M(D,O){D.resolveAll&&!a.includes(D)&&a.push(D),D.resolve&&va(c.events,O,c.events.length-O,D.resolve(c.events.slice(O),c)),D.resolveTo&&(c.events=D.resolveTo(c.events,c))}function _(){const D=p(),O=c.previous,Z=c.currentConstruct,J=c.events.length,se=Array.from(o);return{from:J,restore:de};function de(){r=D,c.previous=O,c.currentConstruct=Z,c.events.length=J,o=se,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ule(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function dle(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function fle(e){const r={constructs:z4([lle,...(e||{}).extensions||[]]),content:i(Ase),defined:[],document:i(Tse),flow:i(Koe),lazy:{},string:i(Xoe),text:i(Qoe)};return r;function i(a){return s;function s(o){return cle(r,a,o)}}}function mle(e){for(;!q4(e););return e}const ST=/[\0\t\n\r]/g;function hle(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(ST.lastIndex=f,c=ST.exec(a),h=c&&c.index!==void 0?c.index:a.length,m=a.charCodeAt(h),!c){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const ple=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gle(e){return e.replace(ple,xle)}function xle(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return U4(n.slice(a?2:1),a?16:10)}return qS(n)||e}const Z4={}.hasOwnProperty;function vle(e,t,n){return typeof t!="string"&&(n=t,t=void 0),yle(n)(mle(fle(n).document().write(hle()(e,t,!0))))}function yle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ce),autolinkProtocol:_,autolinkEmail:_,atxHeading:a(L),blockQuote:a(H),characterEscape:_,characterReference:_,codeFenced:a(le),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(le,s),codeText:a(ae,s),codeTextData:_,data:_,codeFlowValue:_,definition:a(B),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(V),hardBreakEscape:a(ne),hardBreakTrailing:a(ne),htmlFlow:a(Ce,s),htmlFlowData:_,htmlText:a(Ce,s),htmlTextData:_,image:a(ze),label:s,link:a(ce),listItem:a(Ie),listItemValue:h,listOrdered:a(He,f),listUnordered:a(He),paragraph:a(mt),reference:S,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(L),strong:a(Ft),thematicBreak:a(jn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:R,autolinkProtocol:re,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:q,characterReferenceMarkerNumeric:q,characterReferenceValue:ee,characterReference:K,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(x),codeText:l(se),codeTextData:T,data:T,definition:l(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(Z),htmlFlowData:T,htmlText:l(J),htmlTextData:T,image:l(X),label:F,labelText:G,lineEnding:D,link:l(de),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:U,resourceDestinationString:P,resourceTitleString:A,resource:te,setextHeading:l(M),setextHeadingLineSequence:j,setextHeadingText:N,strong:l(),thematicBreak:l()}};J4(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(xe){let _e={type:"root",children:[]};const Pt={stack:[_e],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:d,data:n},Yt=[];let ln=-1;for(;++ln<xe.length;)if(xe[ln][1].type==="listOrdered"||xe[ln][1].type==="listUnordered")if(xe[ln][0]==="enter")Yt.push(ln);else{const Nr=Yt.pop();ln=i(xe,Nr,ln)}for(ln=-1;++ln<xe.length;){const Nr=t[xe[ln][0]];Z4.call(Nr,xe[ln][1].type)&&Nr[xe[ln][1].type].call(Object.assign({sliceSerialize:xe[ln][2].sliceSerialize},Pt),xe[ln][1])}if(Pt.tokenStack.length>0){const Nr=Pt.tokenStack[Pt.tokenStack.length-1];(Nr[1]||NT).call(Pt,void 0,Nr[0])}for(_e.position={start:Lo(xe.length>0?xe[0][1].start:{line:1,column:1,offset:0}),end:Lo(xe.length>0?xe[xe.length-2][1].end:{line:1,column:1,offset:0})},ln=-1;++ln<t.transforms.length;)_e=t.transforms[ln](_e)||_e;return _e}function i(xe,_e,Pt){let Yt=_e-1,ln=-1,Nr=!1,Kr,Pr,Ka,Ci;for(;++Yt<=Pt;){const xn=xe[Yt];switch(xn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xn[0]==="enter"?ln++:ln--,Ci=void 0;break}case"lineEndingBlank":{xn[0]==="enter"&&(Kr&&!Ci&&!ln&&!Ka&&(Ka=Yt),Ci=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ci=void 0}if(!ln&&xn[0]==="enter"&&xn[1].type==="listItemPrefix"||ln===-1&&xn[0]==="exit"&&(xn[1].type==="listUnordered"||xn[1].type==="listOrdered")){if(Kr){let Xt=Yt;for(Pr=void 0;Xt--;){const fi=xe[Xt];if(fi[1].type==="lineEnding"||fi[1].type==="lineEndingBlank"){if(fi[0]==="exit")continue;Pr&&(xe[Pr][1].type="lineEndingBlank",Nr=!0),fi[1].type="lineEnding",Pr=Xt}else if(!(fi[1].type==="linePrefix"||fi[1].type==="blockQuotePrefix"||fi[1].type==="blockQuotePrefixWhitespace"||fi[1].type==="blockQuoteMarker"||fi[1].type==="listItemIndent"))break}Ka&&(!Pr||Ka<Pr)&&(Kr._spread=!0),Kr.end=Object.assign({},Pr?xe[Pr][1].start:xn[1].end),xe.splice(Pr||Yt,0,["exit",Kr,xn[2]]),Yt++,Pt++}if(xn[1].type==="listItemPrefix"){const Xt={type:"listItem",_spread:!1,start:Object.assign({},xn[1].start),end:void 0};Kr=Xt,xe.splice(Yt,0,["enter",Xt,xn[2]]),Yt++,Pt++,Ka=void 0,Ci=!0}}}return xe[_e][1]._spread=Nr,Pt}function a(xe,_e){return Pt;function Pt(Yt){o.call(this,xe(Yt),Yt),_e&&_e.call(this,Yt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(xe,_e,Pt){this.stack[this.stack.length-1].children.push(xe),this.stack.push(xe),this.tokenStack.push([_e,Pt||void 0]),xe.position={start:Lo(_e.start),end:void 0}}function l(xe){return _e;function _e(Pt){xe&&xe.call(this,Pt),c.call(this,Pt)}}function c(xe,_e){const Pt=this.stack.pop(),Yt=this.tokenStack.pop();if(Yt)Yt[0].type!==xe.type&&(_e?_e.call(this,xe,Yt[0]):(Yt[1]||NT).call(this,xe,Yt[0]));else throw new Error("Cannot close `"+xe.type+"` ("+sf({start:xe.start,end:xe.end})+"): its not open");Pt.position.end=Lo(xe.end)}function d(){return HS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(xe){if(this.data.expectingFirstListItemValue){const _e=this.stack[this.stack.length-2];_e.start=Number.parseInt(this.sliceSerialize(xe),10),this.data.expectingFirstListItemValue=void 0}}function m(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.lang=xe}function p(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.meta=xe}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe.replace(/(\r?\n|\r)$/g,"")}function b(xe){const _e=this.resume(),Pt=this.stack[this.stack.length-1];Pt.label=_e,Pt.identifier=cs(this.sliceSerialize(xe)).toLowerCase()}function w(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.title=xe}function k(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.url=xe}function C(xe){const _e=this.stack[this.stack.length-1];if(!_e.depth){const Pt=this.sliceSerialize(xe).length;_e.depth=Pt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function j(xe){const _e=this.stack[this.stack.length-1];_e.depth=this.sliceSerialize(xe).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function _(xe){const Pt=this.stack[this.stack.length-1].children;let Yt=Pt[Pt.length-1];(!Yt||Yt.type!=="text")&&(Yt=hn(),Yt.position={start:Lo(xe.start),end:void 0},Pt.push(Yt)),this.stack.push(Yt)}function T(xe){const _e=this.stack.pop();_e.value+=this.sliceSerialize(xe),_e.position.end=Lo(xe.end)}function D(xe){const _e=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pt=_e.children[_e.children.length-1];Pt.position.end=Lo(xe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(_e.type)&&(_.call(this,xe),T.call(this,xe))}function O(){this.data.atHardBreak=!0}function Z(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe}function J(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe}function se(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe}function de(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=_e,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function X(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=_e,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function G(xe){const _e=this.sliceSerialize(xe),Pt=this.stack[this.stack.length-2];Pt.label=gle(_e),Pt.identifier=cs(_e).toLowerCase()}function F(){const xe=this.stack[this.stack.length-1],_e=this.resume(),Pt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pt.type==="link"){const Yt=xe.children;Pt.children=Yt}else Pt.alt=_e}function P(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.url=xe}function A(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.title=xe}function te(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function U(xe){const _e=this.resume(),Pt=this.stack[this.stack.length-1];Pt.label=_e,Pt.identifier=cs(this.sliceSerialize(xe)).toLowerCase(),this.data.referenceType="full"}function q(xe){this.data.characterReferenceType=xe.type}function ee(xe){const _e=this.sliceSerialize(xe),Pt=this.data.characterReferenceType;let Yt;Pt?(Yt=U4(_e,Pt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Yt=qS(_e);const ln=this.stack[this.stack.length-1];ln.value+=Yt}function K(xe){const _e=this.stack.pop();_e.position.end=Lo(xe.end)}function re(xe){T.call(this,xe);const _e=this.stack[this.stack.length-1];_e.url=this.sliceSerialize(xe)}function R(xe){T.call(this,xe);const _e=this.stack[this.stack.length-1];_e.url="mailto:"+this.sliceSerialize(xe)}function H(){return{type:"blockquote",children:[]}}function le(){return{type:"code",lang:null,meta:null,value:""}}function ae(){return{type:"inlineCode",value:""}}function B(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function V(){return{type:"emphasis",children:[]}}function L(){return{type:"heading",depth:0,children:[]}}function ne(){return{type:"break"}}function Ce(){return{type:"html",value:""}}function ze(){return{type:"image",title:null,url:"",alt:null}}function ce(){return{type:"link",title:null,url:"",children:[]}}function He(xe){return{type:"list",ordered:xe.type==="listOrdered",start:null,spread:xe._spread,children:[]}}function Ie(xe){return{type:"listItem",spread:xe._spread,checked:null,children:[]}}function mt(){return{type:"paragraph",children:[]}}function Ft(){return{type:"strong",children:[]}}function hn(){return{type:"text",value:""}}function jn(){return{type:"thematicBreak"}}}function Lo(e){return{line:e.line,column:e.column,offset:e.offset}}function J4(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?J4(e,r):ble(e,r)}}function ble(e,t){let n;for(n in t)if(Z4.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function NT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+sf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+sf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+sf({start:t.start,end:t.end})+") is still open")}function wle(e){const t=this;t.parser=n;function n(r){return vle(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function kle(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Sle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Nle(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Cle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ale(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=fd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function Ple(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Tle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function e$(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Ele(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return e$(e,t);const i={src:fd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function Dle(e,t){const n={src:fd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Mle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Ole(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return e$(e,t);const i={href:fd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Ile(e,t){const n={href:fd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _le(e,t,n){const r=e.all(t),i=n?Lle(n):t$(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function Lle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=t$(n[r])}return t}function t$(e){const t=e.spread;return t??e.children.length>1}function $le(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Fle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Ble(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zle(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=zS(t.children[1]),l=I4(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Ule(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),c.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Vle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const CT=9,jT=32;function Wle(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(AT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(AT(t.slice(i),i>0,!1)),a.join("")}function AT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===CT||a===jT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===CT||a===jT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Hle(e,t){const n={type:"text",value:Wle(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function qle(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Kle={blockquote:kle,break:Sle,code:Nle,delete:Cle,emphasis:jle,footnoteReference:Ale,heading:Ple,html:Tle,imageReference:Ele,image:Dle,inlineCode:Mle,linkReference:Ole,link:Ile,listItem:_le,list:$le,paragraph:Fle,root:Rle,strong:Ble,table:zle,tableCell:Vle,tableRow:Ule,text:Hle,thematicBreak:qle,toml:Fh,yaml:Fh,definition:Fh,footnoteDefinition:Fh};function Fh(){}const n$=-1,bx=0,lf=1,zg=2,GS=3,YS=4,XS=5,QS=6,r$=7,i$=8,PT=typeof self=="object"?self:globalThis,Gle=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case bx:case n$:return n(s,i);case lf:{const o=n([],i);for(const l of s)o.push(r(l));return o}case zg:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case GS:return n(new Date(s),i);case YS:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case XS:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case QS:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case r$:{const{name:o,message:l}=s;return n(new PT[o](l),i)}case i$:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new PT[a](s),i)};return r},TT=e=>Gle(new Map,e)(0),Jc="",{toString:Yle}={},{keys:Xle}=Object,_d=e=>{const t=typeof e;if(t!=="object"||!e)return[bx,t];const n=Yle.call(e).slice(8,-1);switch(n){case"Array":return[lf,Jc];case"Object":return[zg,Jc];case"Date":return[GS,Jc];case"RegExp":return[YS,Jc];case"Map":return[XS,Jc];case"Set":return[QS,Jc];case"DataView":return[lf,n]}return n.includes("Array")?[lf,n]:n.includes("Error")?[r$,n]:[zg,n]},Rh=([e,t])=>e===bx&&(t==="function"||t==="symbol"),Qle=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=_d(s);switch(o){case bx:{let d=s;switch(l){case"bigint":o=i$,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([n$],s)}return i([o,d],s)}case lf:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case zg:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Xle(s))(e||!Rh(_d(s[h])))&&d.push([a(h),a(s[h])]);return f}case GS:return i([o,s.toISOString()],s);case YS:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case XS:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Rh(_d(h))||Rh(_d(m))))&&d.push([a(h),a(m)]);return f}case QS:{const d=[],f=i([o,d],s);for(const h of s)(e||!Rh(_d(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},ET=(e,{json:t,lossy:n}={})=>{const r=[];return Qle(!(t||n),!!t,new Map,r)(e),r},Ug=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?TT(ET(e,t)):structuredClone(e):(e,t)=>TT(ET(e,t));function Zle(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Jle(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function ece(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Zle,r=e.options.footnoteBackLabel||Jle,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=fd(f.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Ug(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const wx=function(e){if(e==null)return ice;if(typeof e=="function")return kx(e);if(typeof e=="object")return Array.isArray(e)?tce(e):nce(e);if(typeof e=="string")return rce(e);throw new Error("Expected function, string, or object as test")};function tce(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=wx(e[n]);return kx(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function nce(e){const t=e;return kx(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function rce(e){return kx(t);function t(n){return n&&n.type===e}}function kx(e){return t;function t(n,r,i){return!!(ace(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function ice(){return!0}function ace(e){return e!==null&&typeof e=="object"&&"type"in e}const a$=[],sce=!0,cw=!1,oce="skip";function s$(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=wx(i),s=r?-1:1;o(e,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=a$,p,g,y;if((!t||a(l,c,d[d.length-1]||void 0))&&(m=lce(n(l,d)),m[0]===cw))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==oce)for(g=(r?x.children.length:-1)+s,y=d.concat(x);g>-1&&g<x.children.length;){const b=x.children[g];if(p=o(b,g,y)(),p[0]===cw)return p;g=typeof p[1]=="number"?p[1]:g+s}}return m}}}function lce(e){return Array.isArray(e)?e:typeof e=="number"?[sce,e]:e==null?a$:[e]}function ZS(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),s$(e,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const uw={}.hasOwnProperty,cce={};function uce(e,t){const n=t||cce,r=new Map,i=new Map,a=new Map,s={...Kle,...n.handlers},o={all:c,applyData:fce,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:dce,wrap:hce};return ZS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(uw.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,x=Ug(y);return x.children=o.all(d),x}return Ug(d)}return(o.options.unknownHandler||mce)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=DT(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=DT(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function dce(e,t){e.position&&(t.position=Jae(e))}function fce(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Ug(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function mce(e,t){const n=t.data||{},r="value"in t&&!(uw.call(n,"hProperties")||uw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function DT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function MT(e,t){const n=uce(e,t),r=n.one(e,void 0),i=ece(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function pce(e,t){return e&&"run"in e?async function(n,r){const i=MT(n,{file:r,...t});await e.run(i,r)}:function(n,r){return MT(n,{file:r,...e||t})}}function OT(e){if(e)throw e}var fp=Object.prototype.hasOwnProperty,o$=Object.prototype.toString,IT=Object.defineProperty,_T=Object.getOwnPropertyDescriptor,LT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):o$.call(t)==="[object Array]"},$T=function(t){if(!t||o$.call(t)!=="[object Object]")return!1;var n=fp.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&fp.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||fp.call(t,i)},FT=function(t,n){IT&&n.name==="__proto__"?IT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},RT=function(t,n){if(n==="__proto__")if(fp.call(t,n)){if(_T)return _T(t,n).value}else return;return t[n]},gce=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=RT(o,n),i=RT(t,n),o!==i&&(d&&i&&($T(i)||(a=LT(i)))?(a?(a=!1,s=r&&LT(r)?r:[]):s=r&&$T(r)?r:{},FT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&FT(o,{name:n,newValue:i}));return o};const $v=gs(gce);function dw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function xce(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?vce(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function vce(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const As={basename:yce,dirname:bce,extname:wce,join:kce,sep:"/"};function yce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Um(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function bce(e){if(Um(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function wce(e){Um(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function kce(...e){let t=-1,n;for(;++t<e.length;)Um(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Sce(n)}function Sce(e){Um(e);const t=e.codePointAt(0)===47;let n=Nce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Nce(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Um(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Cce={cwd:jce};function jce(){return"/"}function fw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Ace(e){if(typeof e=="string")e=new URL(e);else if(!fw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Pce(e)}function Pce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Fv=["history","path","basename","stem","extname","dirname"];class l${constructor(t){let n;t?fw(t)?n={path:t}:typeof t=="string"||Tce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Cce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Fv.length;){const a=Fv[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Fv.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?As.basename(this.path):void 0}set basename(t){Bv(t,"basename"),Rv(t,"basename"),this.path=As.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?As.dirname(this.path):void 0}set dirname(t){BT(this.basename,"dirname"),this.path=As.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?As.extname(this.path):void 0}set extname(t){if(Rv(t,"extname"),BT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=As.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){fw(t)&&(t=Ace(t)),Bv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?As.basename(this.path,this.extname):void 0}set stem(t){Bv(t,"stem"),Rv(t,"stem"),this.path=As.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ni(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Rv(e,t){if(e&&e.includes(As.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+As.sep+"`")}function Bv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function BT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Tce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ece=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Dce={}.hasOwnProperty;class JS extends Ece{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=xce()}copy(){const t=new JS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data($v(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Vv("data",this.frozen),this.namespace[t]=n,this):Dce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Vv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Bh(t),r=this.parser||this.Parser;return zv("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),zv("process",this.parser||this.Parser),Uv("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Bh(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const m=f,p=r.stringify(m,h);Ice(p)?h.value=p:h.result=p,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),zv("processSync",this.parser||this.Parser),Uv("processSync",this.compiler||this.Compiler),this.process(t,i),UT("processSync","process",n),r;function i(a,s){n=!0,OT(a),r=s}}run(t,n,r){zT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Bh(n);i.run(t,l,c);function c(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),UT("runSync","run",r),i;function a(s,o){OT(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Bh(n),i=this.compiler||this.Compiler;return Uv("stringify",i),zT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Vv("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=$v(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[m,...p]=d;const g=r[h][1];dw(g)&&dw(m)&&(m=$v(!0,g,m)),r[h]=[c,m,...p]}}}}const Mce=new JS().freeze();function zv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Uv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Vv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zT(e){if(!dw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function UT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Bh(e){return Oce(e)?e:new l$(e)}function Oce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ice(e){return typeof e=="string"||_ce(e)}function _ce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Lce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",VT=[],WT={allowDangerousHtml:!0},$ce=/^(https?|ircs?|mailto|xmpp)$/i,Fce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Rce(e){const t=Bce(e),n=zce(e);return Uce(t.runSync(t.parse(n),n),e)}function Bce(e){const t=e.rehypePlugins||VT,n=e.remarkPlugins||VT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...WT}:WT;return Mce().use(wle).use(n).use(pce,r).use(t)}function zce(e){const t=e.children||"",n=new l$;return typeof t=="string"&&(n.value=t),n}function Uce(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Vce;for(const d of Fce)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Lce+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),ZS(e,c),ise(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Iv)if(Object.hasOwn(Iv,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=Iv[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Vce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||$ce.test(e.slice(0,t))?e:""}function HT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Wce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Hce(e,t,n){const i=wx((n||{}).ignore||[]),a=qce(t);let s=-1;for(;++s<a.length;)s$(e,"text",o);function o(c,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const y=f.children.indexOf(c);let x=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const k=w.index,C={index:w.index,input:w.input,stack:[...d,c]};let N=m(...w,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?h.lastIndex=k+1:(p!==k&&b.push({type:"text",value:c.value.slice(p,k)}),Array.isArray(N)?b.push(...N):N&&b.push(N),p=k+w[0].length,x=!0),!h.global)break;w=h.exec(c.value)}return x?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),f.children.splice(y,1,...b)):b=[c],y+b.length}}function qce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Kce(i[0]),Gce(i[1])])}return t}function Kce(e){return typeof e=="string"?new RegExp(Wce(e),"g"):e}function Gce(e){return typeof e=="function"?e:function(){return e}}const Wv="phrasing",Hv=["autolink","link","image","label"];function Yce(){return{transforms:[nue],enter:{literalAutolink:Qce,literalAutolinkEmail:qv,literalAutolinkHttp:qv,literalAutolinkWww:qv},exit:{literalAutolink:tue,literalAutolinkEmail:eue,literalAutolinkHttp:Zce,literalAutolinkWww:Jce}}}function Xce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Wv,notInConstruct:Hv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Wv,notInConstruct:Hv},{character:":",before:"[ps]",after:"\\/",inConstruct:Wv,notInConstruct:Hv}]}}function Qce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function qv(e){this.config.enter.autolinkProtocol.call(this,e)}function Zce(e){this.config.exit.autolinkProtocol.call(this,e)}function Jce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function eue(e){this.config.exit.autolinkEmail.call(this,e)}function tue(e){this.exit(e)}function nue(e){Hce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,rue],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),iue]],{ignore:["link","linkReference"]})}function rue(e,t,n,r,i){let a="";if(!c$(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!aue(n)))return!1;const s=sue(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function iue(e,t,n,r){return!c$(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function aue(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function sue(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=HT(e,"(");let a=HT(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function c$(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Cc(n)||vx(n))&&(!t||n!==47)}u$.peek=pue;function oue(){this.buffer()}function lue(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function cue(){this.buffer()}function uue(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function due(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=cs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function fue(e){this.exit(e)}function mue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=cs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function hue(e){this.exit(e)}function pue(){return"["}function u$(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function gue(){return{enter:{gfmFootnoteCallString:oue,gfmFootnoteCall:lue,gfmFootnoteDefinitionLabelString:cue,gfmFootnoteDefinition:uue},exit:{gfmFootnoteCallString:due,gfmFootnoteCall:fue,gfmFootnoteDefinitionLabelString:mue,gfmFootnoteDefinition:hue}}}function xue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:u$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?d$:vue))),c(),l}}function vue(e,t,n){return t===0?e:d$(e,t,n)}function d$(e,t,n){return(n?"":"    ")+e}const yue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];f$.peek=Nue;function bue(){return{canContainEols:["delete"],enter:{strikethrough:kue},exit:{strikethrough:Sue}}}function wue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:yue}],handlers:{delete:f$}}}function kue(e){this.enter({type:"delete",children:[]},e)}function Sue(e){this.exit(e)}function f$(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function Nue(){return"~"}function Cue(e){return e.length}function jue(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Cue,a=[],s=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const g=[],y=[];let x=-1;for(e[d].length>c&&(c=e[d].length);++x<e[d].length;){const b=Aue(e[d][x]);if(n.alignDelimiters!==!1){const w=i(b);y[x]=w,(l[x]===void 0||w>l[x])&&(l[x]=w)}g.push(b)}s[d]=g,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=qT(r[f]);else{const g=qT(r);for(;++f<c;)a[f]=g}f=-1;const h=[],m=[];for(;++f<c;){const g=a[f];let y="",x="";g===99?(y=":",x=":"):g===108?y=":":g===114&&(x=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-x.length);const w=y+"-".repeat(b)+x;n.alignDelimiters!==!1&&(b=y.length+b+x.length,b>l[f]&&(l[f]=b),m[f]=b),h[f]=w}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const g=s[d],y=o[d];f=-1;const x=[];for(;++f<c;){const b=g[f]||"";let w="",k="";if(n.alignDelimiters!==!1){const C=l[f]-(y[f]||0),N=a[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),k=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),k=w):k=" ".repeat(C)}n.delimiterStart!==!1&&!f&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&x.push(" "),n.alignDelimiters!==!1&&x.push(w),x.push(b),n.alignDelimiters!==!1&&x.push(k),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&x.push("|")}p.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function Aue(e){return e==null?"":String(e)}function qT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Pue(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),Tue);return i(),s}function Tue(e,t,n){return">"+(n?"":" ")+e}function Eue(e,t){return KT(e,t.inConstruct,!0)&&!KT(e,t.notInConstruct,!1)}function KT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function GT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Eue(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Due(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function Mue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Oue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Iue(e,t,n,r){const i=Oue(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Mue(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,_ue);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(Due(a,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),c(),d}function _ue(e,t,n){return(n?"":"    ")+e}function eN(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Lue(e,t,n,r){const i=eN(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function $ue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function em(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Vg(e,t,n){const r=Yu(e),i=Yu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}m$.peek=Fue;function m$(e,t,n,r){const i=$ue(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Vg(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=em(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Vg(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+em(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Fue(e,t,n){return n.options.emphasis||"*"}function Rue(e,t){let n=!1;return ZS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,cw}),!!((!e.depth||e.depth<3)&&HS(e)&&(t.options.setext||n))}function Bue(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Rue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=em(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}h$.peek=zue;function h$(e){return e.value||""}function zue(){return"<"}p$.peek=Uue;function p$(e,t,n,r){const i=eN(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function Uue(){return"!"}g$.peek=Vue;function g$(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Vue(){return"!"}x$.peek=Wue;function x$(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Wue(){return"`"}function v$(e,t){const n=HS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}y$.peek=Hue;function y$(e,t,n,r){const i=eN(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(v$(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function Hue(e,t,n){return v$(e,n)?"<":"["}b$.peek=que;function b$(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function que(){return"["}function tN(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Kue(e){const t=tN(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Gue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function w$(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Yue(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?Gue(n):tN(n);const o=e.ordered?s==="."?")":".":Kue(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),w$(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c}function Xue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Que(e,t,n,r){const i=Xue(n);let a=n.bulletCurrent||tN(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return l(),c;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function Zue(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const Jue=wx(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ede(e,t,n,r){return(e.children.some(function(s){return Jue(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function tde(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}k$.peek=nde;function k$(e,t,n,r){const i=tde(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Vg(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=em(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Vg(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+em(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function nde(e,t,n){return n.options.strong||"*"}function rde(e,t,n,r){return n.safe(e.value,r)}function ide(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function ade(e,t,n){const r=(w$(n)+(n.options.ruleSpaces?" ":"")).repeat(ide(n));return n.options.ruleSpaces?r.slice(0,-1):r}const S$={blockquote:Pue,break:GT,code:Iue,definition:Lue,emphasis:m$,hardBreak:GT,heading:Bue,html:h$,image:p$,imageReference:g$,inlineCode:x$,link:y$,linkReference:b$,list:Yue,listItem:Que,paragraph:Zue,root:ede,strong:k$,text:rde,thematicBreak:ade};function sde(){return{enter:{table:ode,tableData:YT,tableHeader:YT,tableRow:cde},exit:{codeText:ude,table:lde,tableData:Kv,tableHeader:Kv,tableRow:Kv}}}function ode(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function lde(e){this.exit(e),this.data.inTable=void 0}function cde(e){this.enter({type:"tableRow",children:[]},e)}function Kv(e){this.exit(e)}function YT(e){this.enter({type:"tableCell",children:[]},e)}function ude(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,dde));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function dde(e,t){return t==="|"?t:e}function fde(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,g,y){return c(d(m,g,y),m.align)}function o(m,p,g,y){const x=f(m,g,y),b=c([x]);return b.slice(0,b.indexOf(`
`))}function l(m,p,g,y){const x=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(m,{...y,before:a,after:a});return b(),x(),w}function c(m,p){return jue(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const y=m.children;let x=-1;const b=[],w=p.enter("table");for(;++x<y.length;)b[x]=f(y[x],p,g);return w(),b}function f(m,p,g){const y=m.children;let x=-1;const b=[],w=p.enter("tableRow");for(;++x<y.length;)b[x]=l(y[x],m,p,g);return w(),b}function h(m,p,g){let y=S$.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function mde(){return{exit:{taskListCheckValueChecked:XT,taskListCheckValueUnchecked:XT,paragraph:pde}}}function hde(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:gde}}}function XT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function pde(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function gde(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=S$.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+s}}function xde(){return[Yce(),gue(),bue(),sde(),mde()]}function vde(e){return{extensions:[Xce(),xue(e),wue(),fde(e),hde()]}}const yde={tokenize:Cde,partial:!0},N$={tokenize:jde,partial:!0},C$={tokenize:Ade,partial:!0},j$={tokenize:Pde,partial:!0},bde={tokenize:Tde,partial:!0},A$={name:"wwwAutolink",tokenize:Sde,previous:T$},P$={name:"protocolAutolink",tokenize:Nde,previous:E$},Po={name:"emailAutolink",tokenize:kde,previous:D$},Rs={};function wde(){return{text:Rs}}let Ll=48;for(;Ll<123;)Rs[Ll]=Po,Ll++,Ll===58?Ll=65:Ll===91&&(Ll=97);Rs[43]=Po;Rs[45]=Po;Rs[46]=Po;Rs[95]=Po;Rs[72]=[Po,P$];Rs[104]=[Po,P$];Rs[87]=[Po,A$];Rs[119]=[Po,A$];function kde(e,t,n){const r=this;let i,a;return s;function s(f){return!mw(f)||!D$.call(r,r.previous)||nN(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return mw(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(bde,d,c)(f):f===45||f===95||ki(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Ii(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Sde(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!T$.call(r,r.previous)||nN(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(yde,e.attempt(N$,e.attempt(C$,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Nde(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&E$.call(r,r.previous)&&!nN(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Ii(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||Bg(f)||Rn(f)||Cc(f)||vx(f)?n(f):e.attempt(N$,e.attempt(C$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function Cde(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function jde(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check(j$,l,o)(c):c===null||Rn(c)||Cc(c)||c!==45&&vx(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function Ade(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(j$,t,a)(s):s===null||Rn(s)||Cc(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function Pde(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Rn(o)||Cc(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Rn(o)||Cc(o)?t(o):r(o)}function a(o){return Ii(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Ii(o)?(e.consume(o),s):n(o)}}function Tde(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return ki(a)?n(a):t(a)}}function T$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Rn(e)}function E$(e){return!Ii(e)}function D$(e){return!(e===47||mw(e))}function mw(e){return e===43||e===45||e===46||e===95||ki(e)}function nN(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Ede={tokenize:Fde,partial:!0};function Dde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:_de,continuation:{tokenize:Lde},exit:$de}},text:{91:{name:"gfmFootnoteCall",tokenize:Ide},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Mde,resolveTo:Ode}}}}function Mde(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=cs(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Ode(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Ide(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Rn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(cs(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Rn(f)||(s=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function _de(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Rn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=cs(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Rn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),mn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function Lde(e,t,n){return e.check(zm,t,e.attempt(Ede,t,n))}function $de(e){e.exit("gfmFootnoteDefinition")}function Fde(e,t,n){const r=this;return mn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Rde(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&va(h,h.length,0,yx(m,s.slice(c+1,l),o)),va(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),va(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,d=this.events;let f=0;return h;function h(p){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=Yu(c);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const y=s.exit("strikethroughSequenceTemporary"),x=Yu(p);return y._open=!x||x===2&&!!g,y._close=!g||g===2&&!!x,o(p)}}}class Bde{constructor(){this.map=[]}add(t,n,r){zde(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function zde(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Ude(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Vde(){return{flow:{null:{name:"table",tokenize:Wde,resolveAll:Hde}}}}function Wde(e,t,n){const r=this;let i=0,a=0,s;return o;function o(T){let D=r.events.length-1;for(;D>-1;){const J=r.events[D][1].type;if(J==="lineEnding"||J==="linePrefix")D--;else break}const O=D>-1?r.events[D][1].type:null,Z=O==="tableHead"||O==="tableRow"?N:l;return Z===N&&r.parser.lazy[r.now().line]?n(T):Z(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),c(T)}function c(T){return T===124||(s=!0,a+=1),d(T)}function d(T){return T===null?n(T):$t(T)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),m):n(T):dn(T)?mn(e,d,"whitespace")(T):(a+=1,s&&(s=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(T)))}function f(T){return T===null||T===124||Rn(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?h:f)}function h(T){return T===92||T===124?(e.consume(T),f):f(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(e.enter("tableDelimiterRow"),s=!1,dn(T)?mn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?y(T):T===124?(s=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),g):C(T)}function g(T){return dn(T)?mn(e,y,"whitespace")(T):y(T)}function y(T){return T===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),x):T===45?(a+=1,x(T)):T===null||$t(T)?k(T):C(T)}function x(T){return T===45?(e.enter("tableDelimiterFiller"),b(T)):C(T)}function b(T){return T===45?(e.consume(T),b):T===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(T))}function w(T){return dn(T)?mn(e,k,"whitespace")(T):k(T)}function k(T){return T===124?p(T):T===null||$t(T)?!s||i!==a?C(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):C(T)}function C(T){return n(T)}function N(T){return e.enter("tableRow"),j(T)}function j(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),j):T===null||$t(T)?(e.exit("tableRow"),t(T)):dn(T)?mn(e,j,"whitespace")(T):(e.enter("data"),M(T))}function M(T){return T===null||T===124||Rn(T)?(e.exit("data"),j(T)):(e.consume(T),T===92?_:M)}function _(T){return T===92||T===124?(e.consume(T),M):M(T)}}function Hde(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,d,f;const h=new Bde;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(QT(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=zh(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=zh(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=zh(h,t,a,i,n,f)):s[1]!==0&&(f=zh(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&QT(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Ude(t.events,n))}return e}function zh(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},nu(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=nu(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=nu(t.events,n[2]),d=nu(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},nu(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function QT(e,t,n,r,i){const a=[],s=nu(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function nu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const qde={name:"tasklistCheck",tokenize:Gde};function Kde(){return{text:{91:qde}}}function Gde(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Rn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return $t(l)?t(l):dn(l)?e.check({tokenize:Yde},t,n)(l):n(l)}}function Yde(e,t,n){return mn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Xde(e){return z4([wde(),Dde(),Rde(e),Vde(),Kde()])}const Qde={};function Zde(e){const t=this,n=e||Qde,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Xde(n)),a.push(xde()),s.push(vde(n))}const Gv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',M$=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Sx=v.createContext({}),rN=v.createContext(null),Nx=typeof document<"u",Jde=Nx?v.useLayoutEffect:v.useEffect,O$=v.createContext({strict:!1}),iN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),efe="framerAppearId",I$="data-"+iN(efe);function tfe(e,t,n,r){const{visualElement:i}=v.useContext(Sx),a=v.useContext(O$),s=v.useContext(rN),o=v.useContext(M$).reducedMotion,l=v.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,s)});const d=v.useRef(!!(n[I$]&&!window.HandoffComplete));return Jde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function xu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nfe(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):xu(n)&&(n.current=r))},[t])}function tm(e){return typeof e=="string"||Array.isArray(e)}function Cx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const aN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sN=["initial",...aN];function jx(e){return Cx(e.animate)||sN.some(t=>tm(e[t]))}function _$(e){return!!(jx(e)||e.variants)}function rfe(e,t){if(jx(e)){const{initial:n,animate:r}=e;return{initial:n===!1||tm(n)?n:void 0,animate:tm(r)?r:void 0}}return e.inherit!==!1?t:{}}function ife(e){const{initial:t,animate:n}=rfe(e,v.useContext(Sx));return v.useMemo(()=>({initial:t,animate:n}),[ZT(t),ZT(n)])}function ZT(e){return Array.isArray(e)?e.join(" "):e}const JT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nm={};for(const e in JT)nm[e]={isEnabled:t=>JT[e].some(n=>!!t[n])};function afe(e){for(const t in e)nm[t]={...nm[t],...e[t]}}const L$=v.createContext({}),$$=v.createContext({}),sfe=Symbol.for("motionComponentSymbol");function ofe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&afe(e);function a(o,l){let c;const d={...v.useContext(M$),...o,layoutId:lfe(o)},{isStatic:f}=d,h=ife(o),m=r(o,f);if(!f&&Nx){h.visualElement=tfe(i,m,d,t);const p=v.useContext($$),g=v.useContext(O$).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,g,e,p))}return v.createElement(Sx.Provider,{value:h},c&&h.visualElement?v.createElement(c,{visualElement:h.visualElement,...d}):null,n(i,o,nfe(m,h.visualElement,l),m,f,h.visualElement))}const s=v.forwardRef(a);return s[sfe]=i,s}function lfe({layoutId:e}){const t=v.useContext(L$).id;return t&&e!==void 0?t+"-"+e:e}function cfe(e){function t(r,i={}){return ofe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const ufe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oN(e){return typeof e!="string"||e.includes("-")?!1:!!(ufe.indexOf(e)>-1||/[A-Z]/.test(e))}const Wg={};function dfe(e){Object.assign(Wg,e)}const Vm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dc=new Set(Vm);function F$(e,{layout:t,layoutId:n}){return Dc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Wg[e]||e==="opacity")}const ea=e=>!!(e&&e.getVelocity),ffe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mfe=Vm.length;function hfe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<mfe;s++){const o=Vm[s];if(e[o]!==void 0){const l=ffe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const R$=e=>t=>typeof t=="string"&&t.startsWith(e),B$=R$("--"),hw=R$("var(--"),pfe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,gfe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fl=(e,t,n)=>Math.min(Math.max(n,e),t),Mc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},cf={...Mc,transform:e=>fl(0,1,e)},Uh={...Mc,default:1},uf=e=>Math.round(e*1e5)/1e5,Ax=/(-)?([\d]*\.?[\d])+/g,z$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,xfe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Wm(e){return typeof e=="string"}const Hm=e=>({test:t=>Wm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fo=Hm("deg"),Is=Hm("%"),Vt=Hm("px"),vfe=Hm("vh"),yfe=Hm("vw"),eE={...Is,parse:e=>Is.parse(e)/100,transform:e=>Is.transform(e*100)},tE={...Mc,transform:Math.round},U$={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,size:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,rotate:Fo,rotateX:Fo,rotateY:Fo,rotateZ:Fo,scale:Uh,scaleX:Uh,scaleY:Uh,scaleZ:Uh,skew:Fo,skewX:Fo,skewY:Fo,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:cf,originX:eE,originY:eE,originZ:Vt,zIndex:tE,fillOpacity:cf,strokeOpacity:cf,numOctaves:tE};function lN(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(B$(f)){a[f]=h;continue}const m=U$[f],p=gfe(h,m);if(Dc.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=hfe(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const cN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function V$(e,t,n){for(const r in t)!ea(t[r])&&!F$(r,n)&&(e[r]=t[r])}function bfe({transformTemplate:e},t,n){return v.useMemo(()=>{const r=cN();return lN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function wfe(e,t,n){const r=e.style||{},i={};return V$(i,r,e),Object.assign(i,bfe(e,t,n)),e.transformValues?e.transformValues(i):i}function kfe(e,t,n){const r={},i=wfe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Sfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Sfe.has(e)}let W$=e=>!Hg(e);function Nfe(e){e&&(W$=t=>t.startsWith("on")?!Hg(t):e(t))}try{Nfe(require("@emotion/is-prop-valid").default)}catch{}function Cfe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(W$(i)||n===!0&&Hg(i)||!t&&!Hg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function nE(e,t,n){return typeof e=="string"?e:Vt.transform(t+n*e)}function jfe(e,t,n){const r=nE(t,e.x,e.width),i=nE(n,e.y,e.height);return`${r} ${i}`}const Afe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pfe={offset:"strokeDashoffset",array:"strokeDasharray"};function Tfe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?Afe:Pfe;e[a.offset]=Vt.transform(-r);const s=Vt.transform(t),o=Vt.transform(n);e[a.array]=`${s} ${o}`}function uN(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,f,h){if(lN(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=jfe(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&Tfe(m,s,o,l,!1)}const H$=()=>({...cN(),attrs:{}}),dN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Efe(e,t,n,r){const i=v.useMemo(()=>{const a=H$();return uN(a,t,{enableHardwareAcceleration:!1},dN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};V$(a,e.style,e),i.style={...a,...i.style}}return i}function Dfe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(oN(n)?Efe:kfe)(r,a,s,n),d={...Cfe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=v.useMemo(()=>ea(f)?f.get():f,[f]);return v.createElement(n,{...d,children:h})}}function q$(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const K$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G$(e,t,n,r){q$(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(K$.has(i)?i:iN(i),t.attrs[i])}function fN(e,t){const{style:n}=e,r={};for(const i in n)(ea(n[i])||t.style&&ea(t.style[i])||F$(i,e))&&(r[i]=n[i]);return r}function Y$(e,t){const n=fN(e,t);for(const r in e)if(ea(e[r])||ea(t[r])){const i=Vm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function mN(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Mfe(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const qg=e=>Array.isArray(e),Ofe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Ife=e=>qg(e)?e[e.length-1]||0:e;function mp(e){const t=ea(e)?e.get():e;return Ofe(t)?t.toValue():t}function _fe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:Lfe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const X$=e=>(t,n)=>{const r=v.useContext(Sx),i=v.useContext(rN),a=()=>_fe(e,t,r,i);return n?a():Mfe(a)};function Lfe(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=mp(a[h]);let{initial:s,animate:o}=e;const l=jx(e),c=_$(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!Cx(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=mN(e,m);if(!p)return;const{transitionEnd:g,transition:y,...x}=p;for(const b in x){let w=x[b];if(Array.isArray(w)){const k=d?w.length-1:0;w=w[k]}w!==null&&(i[b]=w)}for(const b in g)i[b]=g[b]}),i}const Ar=e=>e;class rE{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function $fe(e){let t=new rE,n=new rE,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const f=d&&i,h=f?t:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Vh=["prepare","read","update","preRender","render","postRender"],Ffe=40;function Rfe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Vh.reduce((f,h)=>(f[h]=$fe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Ffe),1),i.timestamp=f,i.isProcessing=!0,Vh.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Vh.reduce((f,h)=>{const m=a[h];return f[h]=(p,g=!1,y=!1)=>(n||l(),m.schedule(p,g,y)),f},{}),cancel:f=>Vh.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:tr,cancel:yo,state:gi,steps:Yv}=Rfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ar,!0),Bfe={useVisualState:X$({scrapeMotionValuesFromProps:Y$,createRenderState:H$,onMount:(e,t,{renderState:n,latestValues:r})=>{tr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),tr.render(()=>{uN(n,r,{enableHardwareAcceleration:!1},dN(t.tagName),e.transformTemplate),G$(t,n)})}})},zfe={useVisualState:X$({scrapeMotionValuesFromProps:fN,createRenderState:cN})};function Ufe(e,{forwardMotionProps:t=!1},n,r){return{...oN(e)?Bfe:zfe,preloadedFeatures:n,useRender:Dfe(t),createVisualElement:r,Component:e}}function no(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Q$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Px(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Vfe=e=>t=>Q$(t)&&e(t,Px(t));function so(e,t,n,r){return no(e,t,Vfe(n),r)}const Wfe=(e,t)=>n=>t(e(n)),ol=(...e)=>e.reduce(Wfe);function Z$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const iE=Z$("dragHorizontal"),aE=Z$("dragVertical");function J$(e){let t=!1;if(e==="y")t=aE();else if(e==="x")t=iE();else{const n=iE(),r=aE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function eF(){const e=J$(!0);return e?(e(),!1):!0}class kl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function sE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||eF())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&tr.update(()=>o[r](a,s))};return so(e.current,n,i,{passive:!e.getProps()[r]})}class Hfe extends kl{mount(){this.unmount=ol(sE(this.node,!0),sE(this.node,!1))}unmount(){}}class qfe extends kl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ol(no(this.node.current,"focus",()=>this.onFocus()),no(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const tF=(e,t)=>t?e===t?!0:tF(e,t.parentElement):!1;function Xv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Px(n))}class Kfe extends kl{constructor(){super(...arguments),this.removeStartListeners=Ar,this.removeEndListeners=Ar,this.removeAccessibleListeners=Ar,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=so(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();tr.update(()=>{!f&&!tF(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=so(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ol(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Xv("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&tr.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=no(this.node.current,"keyup",s),Xv("down",(o,l)=>{this.startPress(o,l)})},n=no(this.node.current,"keydown",t),r=()=>{this.isPressing&&Xv("cancel",(a,s)=>this.cancelPress(a,s))},i=no(this.node.current,"blur",r);this.removeAccessibleListeners=ol(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!eF()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&tr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=so(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=no(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ol(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const pw=new WeakMap,Qv=new WeakMap,Gfe=e=>{const t=pw.get(e.target);t&&t(e)},Yfe=e=>{e.forEach(Gfe)};function Xfe({root:e,...t}){const n=e||document;Qv.has(n)||Qv.set(n,{});const r=Qv.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Yfe,{root:e,...t})),r[i]}function Qfe(e,t,n){const r=Xfe(t);return pw.set(e,n),r.observe(e),()=>{pw.delete(e),r.unobserve(e)}}const Zfe={some:0,all:1};class Jfe extends kl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Zfe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return Qfe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(eme(t,n))&&this.startObserver()}unmount(){}}function eme({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const tme={inView:{Feature:Jfe},tap:{Feature:Kfe},focus:{Feature:qfe},hover:{Feature:Hfe}};function nF(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function nme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function rme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Tx(e,t,n){const r=e.getProps();return mN(r,t,n!==void 0?n:r.custom,nme(e),rme(e))}let hN=Ar;const cc=e=>e*1e3,oo=e=>e/1e3,ime={current:!1},rF=e=>Array.isArray(e)&&typeof e[0]=="number";function iF(e){return!!(!e||typeof e=="string"&&aF[e]||rF(e)||Array.isArray(e)&&e.every(iF))}const qd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,aF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qd([0,.65,.55,1]),circOut:qd([.55,0,1,.45]),backIn:qd([.31,.01,.66,-.59]),backOut:qd([.33,1.53,.69,.99])};function sF(e){if(e)return rF(e)?qd(e):Array.isArray(e)?e.map(sF):aF[e]}function ame(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=sF(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function sme(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const oF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ome=1e-7,lme=12;function cme(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=oF(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>ome&&++o<lme);return s}function qm(e,t,n,r){if(e===t&&n===r)return Ar;const i=a=>cme(a,0,1,e,n);return a=>a===0||a===1?a:oF(i(a),t,r)}const ume=qm(.42,0,1,1),dme=qm(0,0,.58,1),lF=qm(.42,0,.58,1),fme=e=>Array.isArray(e)&&typeof e[0]!="number",cF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uF=e=>t=>1-e(1-t),pN=e=>1-Math.sin(Math.acos(e)),dF=uF(pN),mme=cF(pN),fF=qm(.33,1.53,.69,.99),gN=uF(fF),hme=cF(gN),pme=e=>(e*=2)<1?.5*gN(e):.5*(2-Math.pow(2,-10*(e-1))),gme={linear:Ar,easeIn:ume,easeInOut:lF,easeOut:dme,circIn:pN,circInOut:mme,circOut:dF,backIn:gN,backInOut:hme,backOut:fF,anticipate:pme},oE=e=>{if(Array.isArray(e)){hN(e.length===4);const[t,n,r,i]=e;return qm(t,n,r,i)}else if(typeof e=="string")return gme[e];return e},xN=(e,t)=>n=>!!(Wm(n)&&xfe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),mF=(e,t,n)=>r=>{if(!Wm(r))return r;const[i,a,s,o]=r.match(Ax);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},xme=e=>fl(0,255,e),Zv={...Mc,transform:e=>Math.round(xme(e))},tc={test:xN("rgb","red"),parse:mF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Zv.transform(e)+", "+Zv.transform(t)+", "+Zv.transform(n)+", "+uf(cf.transform(r))+")"};function vme(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const gw={test:xN("#"),parse:vme,transform:tc.transform},vu={test:xN("hsl","hue"),parse:mF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Is.transform(uf(t))+", "+Is.transform(uf(n))+", "+uf(cf.transform(r))+")"},Mi={test:e=>tc.test(e)||gw.test(e)||vu.test(e),parse:e=>tc.test(e)?tc.parse(e):vu.test(e)?vu.parse(e):gw.parse(e),transform:e=>Wm(e)?e:e.hasOwnProperty("red")?tc.transform(e):vu.transform(e)},cr=(e,t,n)=>-n*e+n*t+e;function Jv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yme({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Jv(l,o,e+1/3),a=Jv(l,o,e),s=Jv(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const ey=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},bme=[gw,tc,vu],wme=e=>bme.find(t=>t.test(e));function lE(e){const t=wme(e);let n=t.parse(e);return t===vu&&(n=yme(n)),n}const hF=(e,t)=>{const n=lE(e),r=lE(t),i={...n};return a=>(i.red=ey(n.red,r.red,a),i.green=ey(n.green,r.green,a),i.blue=ey(n.blue,r.blue,a),i.alpha=cr(n.alpha,r.alpha,a),tc.transform(i))};function kme(e){var t,n;return isNaN(e)&&Wm(e)&&(((t=e.match(Ax))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(z$))===null||n===void 0?void 0:n.length)||0)>0}const pF={regex:pfe,countKey:"Vars",token:"${v}",parse:Ar},gF={regex:z$,countKey:"Colors",token:"${c}",parse:Mi.parse},xF={regex:Ax,countKey:"Numbers",token:"${n}",parse:Mc.parse};function ty(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function Kg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ty(n,pF),ty(n,gF),ty(n,xF),n}function vF(e){return Kg(e).values}function yF(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Kg(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(pF.token,s[l]):l<r+n?o=o.replace(gF.token,Mi.transform(s[l])):o=o.replace(xF.token,uf(s[l]));return o}}const Sme=e=>typeof e=="number"?0:e;function Nme(e){const t=vF(e);return yF(e)(t.map(Sme))}const ml={test:kme,parse:vF,createTransformer:yF,getAnimatableNone:Nme},bF=(e,t)=>n=>`${n>0?t:e}`;function wF(e,t){return typeof e=="number"?n=>cr(e,t,n):Mi.test(e)?hF(e,t):e.startsWith("var(")?bF(e,t):SF(e,t)}const kF=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>wF(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},Cme=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=wF(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},SF=(e,t)=>{const n=ml.createTransformer(t),r=Kg(e),i=Kg(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ol(kF(r.values,i.values),n):bF(e,t)},rm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},cE=(e,t)=>n=>cr(e,t,n);function jme(e){return typeof e=="number"?cE:typeof e=="string"?Mi.test(e)?hF:SF:Array.isArray(e)?kF:typeof e=="object"?Cme:cE}function Ame(e,t,n){const r=[],i=n||jme(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Ar:t;o=ol(l,o)}r.push(o)}return r}function NF(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(hN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=Ame(t,r,i),o=s.length,l=c=>{let d=0;if(o>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=rm(e[d],e[d+1],c);return s[d](f)};return n?c=>l(fl(e[0],e[a-1],c)):l}function Pme(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=rm(0,t,r);e.push(cr(n,1,i))}}function Tme(e){const t=[0];return Pme(t,e.length-1),t}function Eme(e,t){return e.map(n=>n*t)}function Dme(e,t){return e.map(()=>t||lF).splice(0,e.length-1)}function Gg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=fme(r)?r.map(oE):oE(r),a={done:!1,value:t[0]},s=Eme(n&&n.length===t.length?n:Tme(t),e),o=NF(s,t,{ease:Array.isArray(i)?i:Dme(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function CF(e,t){return t?e*(1e3/t):0}const Mme=5;function jF(e,t,n){const r=Math.max(t-Mme,0);return CF(n-e(r),t-r)}const ny=.001,Ome=.01,Ime=10,_me=.05,Lme=1;function $me({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=fl(_me,Lme,s),e=fl(Ome,Ime,oo(e)),s<1?(i=c=>{const d=c*s,f=d*e,h=d-n,m=xw(c,s),p=Math.exp(-f);return ny-h/m*p},a=c=>{const f=c*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),g=xw(Math.pow(c,2),s);return(-i(c)+ny>0?-1:1)*((h-m)*p)/g}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-ny+d*f},a=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const o=5/e,l=Rme(i,a,o);if(e=cc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const Fme=12;function Rme(e,t,n){let r=n;for(let i=1;i<Fme;i++)r=r-e(r)/t(r);return r}function xw(e,t){return e*Math.sqrt(1-t*t)}const Bme=["duration","bounce"],zme=["stiffness","damping","mass"];function uE(e,t){return t.some(n=>e[n]!==void 0)}function Ume(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!uE(e,zme)&&uE(e,Bme)){const n=$me(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function AF({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=Ume({...r,velocity:-oo(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*c)),g=a-i,y=oo(Math.sqrt(o/c)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(p<1){const w=xw(y,p);b=k=>{const C=Math.exp(-p*y*k);return a-C*((m+p*y*g)/w*Math.sin(w*k)+g*Math.cos(w*k))}}else if(p===1)b=w=>a-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(p*p-1);b=k=>{const C=Math.exp(-p*y*k),N=Math.min(w*k,300);return a-C*((m+p*y*g)*Math.sinh(N)+w*g*Math.cosh(N))/w}}return{calculatedDuration:h&&d||null,next:w=>{const k=b(w);if(h)s.done=w>=d;else{let C=m;w!==0&&(p<1?C=jF(b,w,k):C=0);const N=Math.abs(C)<=n,j=Math.abs(a-k)<=t;s.done=N&&j}return s.value=s.done?a:k,s}}}function dE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=M=>o!==void 0&&M<o||l!==void 0&&M>l,p=M=>o===void 0?l:l===void 0||Math.abs(o-M)<Math.abs(l-M)?o:l;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=M=>-g*Math.exp(-M/r),w=M=>x+b(M),k=M=>{const _=b(M),T=w(M);h.done=Math.abs(_)<=c,h.value=h.done?x:T};let C,N;const j=M=>{m(h.value)&&(C=M,N=AF({keyframes:[h.value,p(h.value)],velocity:jF(w,M,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:M=>{let _=!1;return!N&&C===void 0&&(_=!0,k(M),j(M)),C!==void 0&&M>C?N.next(M-C):(!_&&k(M),h)}}}const Vme=e=>{const t=({timestamp:n})=>e(n);return{start:()=>tr.update(t,!0),stop:()=>yo(t),now:()=>gi.isProcessing?gi.timestamp:performance.now()}},fE=2e4;function mE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<fE;)t+=n,r=e.next(t);return t>=fE?1/0:t}const Wme={decay:dE,inertia:dE,tween:Gg,keyframes:Gg,spring:AF};function Yg({autoplay:e=!0,delay:t=0,driver:n=Vme,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,g,y;const x=()=>{y=new Promise(A=>{g=A})};x();let b;const w=Wme[i]||Gg;let k;w!==Gg&&typeof r[0]!="number"&&(k=NF([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...h,keyframes:r});let N;o==="mirror"&&(N=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let j="idle",M=null,_=null,T=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=mE(C));const{calculatedDuration:D}=C;let O=1/0,Z=1/0;D!==null&&(O=D+s,Z=O*(a+1)-s);let J=0;const se=A=>{if(_===null)return;m>0&&(_=Math.min(_,A)),m<0&&(_=Math.min(A-Z/m,_)),M!==null?J=M:J=Math.round(A-_)*m;const te=J-t*(m>=0?1:-1),S=m>=0?te<0:te>Z;J=Math.max(te,0),j==="finished"&&M===null&&(J=Z);let U=J,q=C;if(a){const R=Math.min(J,Z)/O;let H=Math.floor(R),le=R%1;!le&&R>=1&&(le=1),le===1&&H--,H=Math.min(H,a+1),!!(H%2)&&(o==="reverse"?(le=1-le,s&&(le-=s/O)):o==="mirror"&&(q=N)),U=fl(0,1,le)*O}const ee=S?{done:!1,value:r[0]}:q.next(U);k&&(ee.value=k(ee.value));let{done:K}=ee;!S&&D!==null&&(K=m>=0?J>=Z:J<=0);const re=M===null&&(j==="finished"||j==="running"&&K);return f&&f(ee.value),re&&G(),ee},de=()=>{b&&b.stop(),b=void 0},X=()=>{j="idle",de(),g(),x(),_=T=null},G=()=>{j="finished",d&&d(),de(),g()},F=()=>{if(p)return;b||(b=n(se));const A=b.now();l&&l(),M!==null?_=A-M:(!_||j==="finished")&&(_=A),j==="finished"&&x(),T=_,M=null,j="running",b.start()};e&&F();const P={then(A,te){return y.then(A,te)},get time(){return oo(J)},set time(A){A=cc(A),J=A,M!==null||!b||m===0?M=A:_=b.now()-A/m},get duration(){const A=C.calculatedDuration===null?mE(C):C.calculatedDuration;return oo(A)},get speed(){return m},set speed(A){A===m||!b||(m=A,P.time=oo(J))},get state(){return j},play:F,pause:()=>{j="paused",M=J},stop:()=>{p=!0,j!=="idle"&&(j="idle",c&&c(),X())},cancel:()=>{T!==null&&se(T),X()},complete:()=>{j="finished"},sample:A=>(_=0,se(A))};return P}function Hme(e){let t;return()=>(t===void 0&&(t=e()),t)}const qme=Hme(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Kme=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Wh=10,Gme=2e4,Yme=(e,t)=>t.type==="spring"||e==="backgroundColor"||!iF(t.ease);function Xme(e,t,{onUpdate:n,onComplete:r,...i}){if(!(qme()&&Kme.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,c=!1;const d=()=>{l=new Promise(w=>{o=w})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Yme(t,i)){const w=Yg({...i,repeat:0,delay:0});let k={done:!1,value:f[0]};const C=[];let N=0;for(;!k.done&&N<Gme;)k=w.sample(N),C.push(k.value),N+=Wh;p=void 0,f=C,h=N-Wh,m="linear"}const g=ame(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),y=()=>{c=!1,g.cancel()},x=()=>{c=!0,tr.update(y),o(),d()};return g.onfinish=()=>{c||(e.set(sme(f,i)),r&&r(),x())},{then(w,k){return l.then(w,k)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Ar},get time(){return oo(g.currentTime||0)},set time(w){g.currentTime=cc(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return oo(h)},play:()=>{s||(g.play(),yo(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const k=Yg({...i,autoplay:!1});e.setWithVelocity(k.sample(w-Wh).value,k.sample(w).value,Wh)}x()},complete:()=>{c||g.finish()},cancel:x}}function Qme({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ar,pause:Ar,stop:Ar,then:a=>(a(),Promise.resolve()),cancel:Ar,complete:Ar});return t?Yg({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Zme={type:"spring",stiffness:500,damping:25,restSpeed:10},Jme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ehe={type:"keyframes",duration:.8},the={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nhe=(e,{keyframes:t})=>t.length>2?ehe:Dc.has(e)?e.startsWith("scale")?Jme(t[1]):Zme:the,vw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ml.test(t)||t==="0")&&!t.startsWith("url(")),rhe=new Set(["brightness","contrast","saturate","opacity"]);function ihe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ax)||[];if(!r)return e;const i=n.replace(r,"");let a=rhe.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const ahe=/([a-z-]*)\(.*?\)/g,yw={...ml,getAnimatableNone:e=>{const t=e.match(ahe);return t?t.map(ihe).join(" "):e}},she={...U$,color:Mi,backgroundColor:Mi,outlineColor:Mi,fill:Mi,stroke:Mi,borderColor:Mi,borderTopColor:Mi,borderRightColor:Mi,borderBottomColor:Mi,borderLeftColor:Mi,filter:yw,WebkitFilter:yw},vN=e=>she[e];function PF(e,t){let n=vN(e);return n!==yw&&(n=ml),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const TF=e=>/^0[^.\s]+$/.test(e);function ohe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||TF(e)}function lhe(e,t,n,r){const i=vw(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),ohe(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];a[d]=PF(t,o)}return a}function che({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function yN(e,t){return e[t]||e.default||e}const uhe={skipAnimations:!1},bN=(e,t,n,r={})=>i=>{const a=yN(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-cc(s);const l=lhe(t,e,n,a),c=l[0],d=l[l.length-1],f=vw(e,c),h=vw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(che(a)||(m={...m,...nhe(e,m)}),m.duration&&(m.duration=cc(m.duration)),m.repeatDelay&&(m.repeatDelay=cc(m.repeatDelay)),!f||!h||ime.current||a.type===!1||uhe.skipAnimations)return Qme(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Xme(t,e,m);if(p)return p}return Yg(m)};function Xg(e){return!!(ea(e)&&e.add)}const EF=e=>/^\-?\d*\.?\d+$/.test(e);function wN(e,t){e.indexOf(t)===-1&&e.push(t)}function kN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class SN{constructor(){this.subscriptions=[]}add(t){return wN(this.subscriptions,t),()=>kN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dhe=e=>!isNaN(parseFloat(e));class fhe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=gi;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,tr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=dhe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new SN);const r=this.events[t].add(n);return t==="change"?()=>{r(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?CF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xu(e,t){return new fhe(e,t)}const DF=e=>t=>t.test(e),mhe={test:e=>e==="auto",parse:e=>e},MF=[Mc,Vt,Is,Fo,yfe,vfe,mhe],Ld=e=>MF.find(DF(e)),hhe=[...MF,Mi,ml],phe=e=>hhe.find(DF(e));function ghe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Xu(n))}function xhe(e,t){const n=Tx(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=Ife(a[s]);ghe(e,s,o)}}function vhe(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(EF(d)||TF(d))?d=parseFloat(d):!phe(d)&&ml.test(c)&&(d=PF(l,c)),e.addValue(l,Xu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function yhe(e,t){return t?(t[e]||t.default||t).from:void 0}function bhe(e,t,n){const r={};for(const i in e){const a=yhe(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function whe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function khe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function OF(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&whe(d,f))continue;const p={delay:n,elapsed:0,...yN(a||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[I$];if(x){const b=window.HandoffAppearAnimations(x,f,h,tr);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let g=!p.isHandoff&&!khe(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(bN(f,h,m,e.shouldReduceMotion&&Dc.has(f)?{type:!1}:p));const y=h.animation;Xg(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&xhe(e,s)}),c}function bw(e,t,n={}){const r=Tx(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(OF(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return She(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function She(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(Nhe).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(bw(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function Nhe(e,t){return e.sortNodePosition(t)}function Che(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>bw(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=bw(e,t,n);else{const i=typeof t=="function"?Tx(e,t,n.custom):t;r=Promise.all(OF(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const jhe=[...aN].reverse(),Ahe=aN.length;function Phe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Che(e,n,r)))}function The(e){let t=Phe(e);const n=Dhe();let r=!0;const i=(l,c)=>{const d=Tx(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},g=1/0;for(let x=0;x<Ahe;x++){const b=jhe[x],w=n[b],k=d[b]!==void 0?d[b]:f[b],C=tm(k),N=b===c?w.isActive:null;N===!1&&(g=x);let j=k===f[b]&&k!==d[b]&&C;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),w.protectedKeys={...p},!w.isActive&&N===null||!k&&!w.prevProp||Cx(k)||typeof k=="boolean")continue;let _=Ehe(w.prevProp,k)||b===c&&w.isActive&&!j&&C||x>g&&C,T=!1;const D=Array.isArray(k)?k:[k];let O=D.reduce(i,{});N===!1&&(O={});const{prevResolvedValues:Z={}}=w,J={...Z,...O},se=de=>{_=!0,m.has(de)&&(T=!0,m.delete(de)),w.needsAnimating[de]=!0};for(const de in J){const X=O[de],G=Z[de];if(p.hasOwnProperty(de))continue;let F=!1;qg(X)&&qg(G)?F=!nF(X,G):F=X!==G,F?X!==void 0?se(de):m.add(de):X!==void 0&&m.has(de)?se(de):w.protectedKeys[de]=!0}w.prevProp=k,w.prevResolvedValues=O,w.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&(_=!1),_&&(!j||T)&&h.push(...D.map(de=>({animation:de,options:{type:b,...l}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),h.push({animation:x})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function Ehe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!nF(t,e):!1}function $l(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dhe(){return{animate:$l(!0),whileInView:$l(),whileHover:$l(),whileTap:$l(),whileDrag:$l(),whileFocus:$l(),exit:$l()}}class Mhe extends kl{constructor(t){super(t),t.animationState||(t.animationState=The(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Cx(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Ohe=0;class Ihe extends kl{constructor(){super(...arguments),this.id=Ohe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const _he={animation:{Feature:Mhe},exit:{Feature:Ihe}},hE=(e,t)=>Math.abs(e-t);function Lhe(e,t){const n=hE(e.x,t.x),r=hE(e.y,t.y);return Math.sqrt(n**2+r**2)}class IF{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=iy(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Lhe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:g}=gi;this.history.push({...p,timestamp:g});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ry(h,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=iy(f.type==="pointercancel"?this.lastMoveEventInfo:ry(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),p&&p(f,y)},!Q$(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Px(t),o=ry(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=gi;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,iy(o,this.history)),this.removeListeners=ol(so(this.contextWindow,"pointermove",this.handlePointerMove),so(this.contextWindow,"pointerup",this.handlePointerUp),so(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yo(this.updatePoint)}}function ry(e,t){return t?{point:t(e.point)}:e}function pE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iy({point:e},t){return{point:e,delta:pE(e,_F(t)),offset:pE(e,$he(t)),velocity:Fhe(t,.1)}}function $he(e){return e[0]}function _F(e){return e[e.length-1]}function Fhe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=_F(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>cc(t)));)n--;if(!r)return{x:0,y:0};const a=oo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function wa(e){return e.max-e.min}function ww(e,t=0,n=.01){return Math.abs(e-t)<=n}function gE(e,t,n,r=.5){e.origin=r,e.originPoint=cr(t.min,t.max,e.origin),e.scale=wa(n)/wa(t),(ww(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=cr(n.min,n.max,e.origin)-e.originPoint,(ww(e.translate)||isNaN(e.translate))&&(e.translate=0)}function df(e,t,n,r){gE(e.x,t.x,n.x,r?r.originX:void 0),gE(e.y,t.y,n.y,r?r.originY:void 0)}function xE(e,t,n){e.min=n.min+t.min,e.max=e.min+wa(t)}function Rhe(e,t,n){xE(e.x,t.x,n.x),xE(e.y,t.y,n.y)}function vE(e,t,n){e.min=t.min-n.min,e.max=e.min+wa(t)}function ff(e,t,n){vE(e.x,t.x,n.x),vE(e.y,t.y,n.y)}function Bhe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?cr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?cr(n,e,r.max):Math.min(e,n)),e}function yE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function zhe(e,{top:t,left:n,bottom:r,right:i}){return{x:yE(e.x,n,i),y:yE(e.y,t,r)}}function bE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Uhe(e,t){return{x:bE(e.x,t.x),y:bE(e.y,t.y)}}function Vhe(e,t){let n=.5;const r=wa(e),i=wa(t);return i>r?n=rm(t.min,t.max-r,e.min):r>i&&(n=rm(e.min,e.max-i,t.min)),fl(0,1,n)}function Whe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const kw=.35;function Hhe(e=kw){return e===!1?e=0:e===!0&&(e=kw),{x:wE(e,"left","right"),y:wE(e,"top","bottom")}}function wE(e,t,n){return{min:kE(e,t),max:kE(e,n)}}function kE(e,t){return typeof e=="number"?e:e[t]||0}const SE=()=>({translate:0,scale:1,origin:0,originPoint:0}),yu=()=>({x:SE(),y:SE()}),NE=()=>({min:0,max:0}),Er=()=>({x:NE(),y:NE()});function Ia(e){return[e("x"),e("y")]}function LF({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function qhe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Khe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ay(e){return e===void 0||e===1}function Sw({scale:e,scaleX:t,scaleY:n}){return!ay(e)||!ay(t)||!ay(n)}function Wl(e){return Sw(e)||$F(e)||e.z||e.rotate||e.rotateX||e.rotateY}function $F(e){return CE(e.x)||CE(e.y)}function CE(e){return e&&e!=="0%"}function Qg(e,t,n){const r=e-n,i=t*r;return n+i}function jE(e,t,n,r,i){return i!==void 0&&(e=Qg(e,i,r)),Qg(e,n,r)+t}function Nw(e,t=0,n=1,r,i){e.min=jE(e.min,t,n,r,i),e.max=jE(e.max,t,n,r,i)}function FF(e,{x:t,y:n}){Nw(e.x,t.translate,t.scale,t.originPoint),Nw(e.y,n.translate,n.scale,n.originPoint)}function Ghe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&bu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,FF(e,s)),r&&Wl(a.latestValues)&&bu(e,a.latestValues))}t.x=AE(t.x),t.y=AE(t.y)}function AE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Vo(e,t){e.min=e.min+t,e.max=e.max+t}function PE(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=cr(e.min,e.max,a);Nw(e,t[n],t[r],s,t.scale)}const Yhe=["x","scaleX","originX"],Xhe=["y","scaleY","originY"];function bu(e,t){PE(e.x,t,Yhe),PE(e.y,t,Xhe)}function RF(e,t){return LF(Khe(e.getBoundingClientRect(),t))}function Qhe(e,t,n){const r=RF(e,n),{scroll:i}=t;return i&&(Vo(r.x,i.offset.x),Vo(r.y,i.offset.y)),r}const BF=({current:e})=>e?e.ownerDocument.defaultView:null,Zhe=new WeakMap;class Jhe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Er(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Px(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=J$(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ia(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Is.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(x=wa(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),p&&tr.update(()=>p(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=epe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Ia(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new IF(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:BF(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&tr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Hh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Bhe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&xu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=zhe(i.layoutBox,n):this.constraints=!1,this.elastic=Hhe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ia(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Whe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Qhe(r,i.root,this.visualElement.getTransformPagePoint());let s=Uhe(i.layout.layoutBox,a);if(n){const o=n(qhe(s));this.hasMutatedConstraints=!!o,o&&(s=LF(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ia(d=>{if(!Hh(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(bN(t,r,0,n))}stopAnimation(){Ia(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ia(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ia(n=>{const{drag:r}=this.getProps();if(!Hh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-cr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ia(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=Vhe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ia(s=>{if(!Hh(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(cr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Zhe.set(this.visualElement,this);const t=this.visualElement.current,n=so(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();xu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=no(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ia(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=kw,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Hh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function epe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class tpe extends kl{constructor(t){super(t),this.removeGroupControls=Ar,this.removeListeners=Ar,this.controls=new Jhe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const TE=e=>(t,n)=>{e&&tr.update(()=>e(t,n))};class npe extends kl{constructor(){super(...arguments),this.removePointerDownListener=Ar}onPointerDown(t){this.session=new IF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BF(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:TE(t),onStart:TE(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&tr.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=so(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function rpe(){const e=v.useContext(rN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=v.useId();return v.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const hp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $d={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Vt.test(e))e=parseFloat(e);else return e;const n=EE(e,t.target.x),r=EE(e,t.target.y);return`${n}% ${r}%`}},ipe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ml.parse(e);if(i.length>5)return r;const a=ml.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=cr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class ape extends Jg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;dfe(spe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),hp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||tr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zF(e){const[t,n]=rpe(),r=v.useContext(L$);return Jg.createElement(ape,{...e,layoutGroup:r,switchLayoutGroup:v.useContext($$),isPresent:t,safeToRemove:n})}const spe={borderRadius:{...$d,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$d,borderTopRightRadius:$d,borderBottomLeftRadius:$d,borderBottomRightRadius:$d,boxShadow:ipe},UF=["TopLeft","TopRight","BottomLeft","BottomRight"],ope=UF.length,DE=e=>typeof e=="string"?parseFloat(e):e,ME=e=>typeof e=="number"||Vt.test(e);function lpe(e,t,n,r,i,a){i?(e.opacity=cr(0,n.opacity!==void 0?n.opacity:1,cpe(r)),e.opacityExit=cr(t.opacity!==void 0?t.opacity:1,0,upe(r))):a&&(e.opacity=cr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<ope;s++){const o=`border${UF[s]}Radius`;let l=OE(t,o),c=OE(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ME(l)===ME(c)?(e[o]=Math.max(cr(DE(l),DE(c),r),0),(Is.test(c)||Is.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=cr(t.rotate||0,n.rotate||0,r))}function OE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cpe=VF(0,.5,dF),upe=VF(.5,.95,Ar);function VF(e,t,n){return r=>r<e?0:r>t?1:n(rm(e,t,r))}function IE(e,t){e.min=t.min,e.max=t.max}function Da(e,t){IE(e.x,t.x),IE(e.y,t.y)}function _E(e,t,n,r,i){return e-=t,e=Qg(e,1/n,r),i!==void 0&&(e=Qg(e,1/i,r)),e}function dpe(e,t=0,n=1,r=.5,i,a=e,s=e){if(Is.test(t)&&(t=parseFloat(t),t=cr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=cr(a.min,a.max,r);e===a&&(o-=t),e.min=_E(e.min,t,n,o,i),e.max=_E(e.max,t,n,o,i)}function LE(e,t,[n,r,i],a,s){dpe(e,t[n],t[r],t[i],t.scale,a,s)}const fpe=["x","scaleX","originX"],mpe=["y","scaleY","originY"];function $E(e,t,n,r){LE(e.x,t,fpe,n?n.x:void 0,r?r.x:void 0),LE(e.y,t,mpe,n?n.y:void 0,r?r.y:void 0)}function FE(e){return e.translate===0&&e.scale===1}function WF(e){return FE(e.x)&&FE(e.y)}function hpe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function HF(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function RE(e){return wa(e.x)/wa(e.y)}class ppe{constructor(){this.members=[]}add(t){wN(this.members,t),t.scheduleRender()}remove(t){if(kN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BE(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const gpe=(e,t)=>e.depth-t.depth;class xpe{constructor(){this.children=[],this.isDirty=!1}add(t){wN(this.children,t),this.isDirty=!0}remove(t){kN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gpe),this.isDirty=!1,this.children.forEach(t)}}function vpe(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(yo(r),e(a-t))};return tr.read(r,!0),()=>yo(r)}function ype(e){window.MotionDebug&&window.MotionDebug.record(e)}function bpe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function wpe(e,t,n){const r=ea(e)?e:Xu(e);return r.start(bN("",r,t,n)),r.animation}const zE=["","X","Y","Z"],kpe={visibility:"hidden"},UE=1e3;let Spe=0;const Hl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function qF({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Spe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hl.totalNodes=Hl.resolvedTargetDeltas=Hl.recalculatedProjection=0,this.nodes.forEach(jpe),this.nodes.forEach(Dpe),this.nodes.forEach(Mpe),this.nodes.forEach(Ape),ype(Hl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new xpe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new SN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bpe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=vpe(h,250),hp.hasAnimatedSinceResize&&(hp.hasAnimatedSinceResize=!1,this.nodes.forEach(WE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||$pe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!HF(this.targetLayout,p)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const k={...yN(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else h||WE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ope),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VE);return}this.isUpdating||this.nodes.forEach(Tpe),this.isUpdating=!1,this.nodes.forEach(Epe),this.nodes.forEach(Npe),this.nodes.forEach(Cpe),this.clearAllSnapshots();const o=performance.now();gi.delta=fl(0,1e3/60,o-gi.timestamp),gi.timestamp=o,gi.isProcessing=!0,Yv.update.process(gi),Yv.preRender.process(gi),Yv.render.process(gi),gi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Ppe),this.sharedNodes.forEach(Ipe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Er(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!WF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(o||Wl(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Fpe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Er();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Vo(o.x,l.offset.x),Vo(o.y,l.offset.y)),o}removeElementScroll(s){const o=Er();Da(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Da(o,s);const{scroll:h}=this.root;h&&(Vo(o.x,-h.offset.x),Vo(o.y,-h.offset.y))}Vo(o.x,d.offset.x),Vo(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Er();Da(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Wl(d.latestValues)&&bu(l,d.latestValues)}return Wl(this.latestValues)&&bu(l,this.latestValues),l}removeTransform(s){const o=Er();Da(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Wl(c.latestValues))continue;Sw(c.latestValues)&&c.updateSnapshot();const d=Er(),f=c.measurePageBox();Da(d,f),$E(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Wl(this.latestValues)&&$E(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=gi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Er(),this.relativeTargetOrigin=Er(),ff(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Er(),this.targetWithTransforms=Er()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Rhe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Da(this.target,this.layout.layoutBox),FF(this.target,this.targetDelta)):Da(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Er(),this.relativeTargetOrigin=Er(),ff(this.relativeTargetOrigin,this.target,m.target),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sw(this.parent.latestValues)||$F(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===gi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Da(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Ghe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=yu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=yu(),this.projectionDeltaWithTransform=yu());const g=this.projectionTransform;df(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=BE(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Hl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=yu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Er(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(Lpe));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const C=k/1e3;HE(f.x,s.x,C),HE(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ff(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_pe(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&hpe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Er()),Da(w,this.relativeTarget)),g&&(this.animationValues=d,lpe(d,c,this.latestValues,C,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{hp.hasAnimatedSinceResize=!0,this.currentAnimation=wpe(0,UE,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&KF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Er();const f=wa(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=wa(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Da(o,l),bu(o,d),df(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ppe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<zE.length;d++){const f="rotate"+zE[d];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kpe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=mp(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=mp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Wl(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=BE(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Wg){if(h[g]===void 0)continue;const{correct:y,applyTo:x}=Wg[g],b=c.transform==="none"?h[g]:y(h[g],f);if(x){const w=x.length;for(let k=0;k<w;k++)c[x[k]]=b}else c[g]=b}return this.options.layoutId&&(c.pointerEvents=f===this?mp(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(VE),this.root.sharedNodes.clear()}}}function Npe(e){e.updateLayout()}function Cpe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?Ia(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=wa(h);h.min=r[f].min,h.max=h.min+m}):KF(a,n.layoutBox,r)&&Ia(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=wa(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=yu();df(o,r,n.layoutBox);const l=yu();s?df(l,e.applyTransform(i,!0),n.measuredBox):df(l,r,n.layoutBox);const c=!WF(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Er();ff(p,n.layoutBox,h.layoutBox);const g=Er();ff(g,r,m.layoutBox),HF(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function jpe(e){Hl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ape(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ppe(e){e.clearSnapshot()}function VE(e){e.clearMeasurements()}function Tpe(e){e.isLayoutDirty=!1}function Epe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function WE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Dpe(e){e.resolveTargetDelta()}function Mpe(e){e.calcProjection()}function Ope(e){e.resetRotation()}function Ipe(e){e.removeLeadSnapshot()}function HE(e,t,n){e.translate=cr(t.translate,0,n),e.scale=cr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function qE(e,t,n,r){e.min=cr(t.min,n.min,r),e.max=cr(t.max,n.max,r)}function _pe(e,t,n,r){qE(e.x,t.x,n.x,r),qE(e.y,t.y,n.y,r)}function Lpe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const $pe={duration:.45,ease:[.4,0,.1,1]},KE=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),GE=KE("applewebkit/")&&!KE("chrome/")?Math.round:Ar;function YE(e){e.min=GE(e.min),e.max=GE(e.max)}function Fpe(e){YE(e.x),YE(e.y)}function KF(e,t,n){return e==="position"||e==="preserve-aspect"&&!ww(RE(t),RE(n),.2)}const Rpe=qF({attachResizeListener:(e,t)=>no(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sy={current:void 0},GF=qF({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sy.current){const e=new Rpe({});e.mount(window),e.setOptions({layoutScroll:!0}),sy.current=e}return sy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Bpe={pan:{Feature:npe},drag:{Feature:tpe,ProjectionNode:GF,MeasureLayout:zF}},zpe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Upe(e){const t=zpe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Cw(e,t,n=1){const[r,i]=Upe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return EF(s)?parseFloat(s):s}else return hw(i)?Cw(i,t,n+1):i}function Vpe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!hw(a))return;const s=Cw(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!hw(a))continue;const s=Cw(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const Wpe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),YF=e=>Wpe.has(e),Hpe=e=>Object.keys(e).some(YF),XE=e=>e===Mc||e===Vt,QE=(e,t)=>parseFloat(e.split(", ")[t]),ZE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return QE(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?QE(a[1],e):0}},qpe=new Set(["x","y","z"]),Kpe=Vm.filter(e=>!qpe.has(e));function Gpe(e){const t=[];return Kpe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Qu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ZE(4,13),y:ZE(5,14)};Qu.translateX=Qu.x;Qu.translateY=Qu.y;const Ype=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=Qu[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(o[c]),e[c]=Qu[c](l,a)}),e},Xpe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(YF);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Ld(d);const h=t[l];let m;if(qg(h)){const p=h.length,g=h[0]===null?1:0;d=h[g],f=Ld(d);for(let y=g;y<p&&h[y]!==null;y++)m?hN(Ld(h[y])===m):m=Ld(h[y])}else m=Ld(h);if(f!==m)if(XE(f)&&XE(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Vt&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(s||(a=Gpe(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Ype(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Nx&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Qpe(e,t,n,r){return Hpe(t)?Xpe(e,t,n,r):{target:t,transitionEnd:r}}const Zpe=(e,t,n,r)=>{const i=Vpe(e,t,r);return t=i.target,r=i.transitionEnd,Qpe(e,t,n,r)},jw={current:null},XF={current:!1};function Jpe(){if(XF.current=!0,!!Nx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jw.current=e.matches;e.addListener(t),t()}else jw.current=!1}function ege(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(ea(a))e.addValue(i,a),Xg(r)&&r.add(i);else if(ea(s))e.addValue(i,Xu(a,{owner:e})),Xg(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Xu(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const JE=new WeakMap,QF=Object.keys(nm),tge=QF.length,eD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nge=sN.length;class rge{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tr.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=jx(n),this.isVariantNode=_$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&ea(h)&&(h.set(o[f],!1),Xg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,JE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),XF.current||Jpe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){JE.delete(this.current),this.projection&&this.projection.unmount(),yo(this.notifyUpdate),yo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Dc.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&tr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<tge;l++){const c=QF[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=nm[c];h&&(s=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&xu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Er()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<eD.length;r++){const i=eD[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=ege(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<nge;r++){const i=sN[r],a=this.props[i];(tm(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Xu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=mN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ea(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new SN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ZF extends rge{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=bhe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){vhe(this,r,s);const o=Zpe(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function ige(e){return window.getComputedStyle(e)}class age extends ZF{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Dc.has(n)){const r=vN(n);return r&&r.default||0}else{const r=ige(t),i=(B$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return RF(t,n)}build(t,n,r,i){lN(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return fN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ea(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){q$(t,n,r,i)}}class sge extends ZF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Dc.has(n)){const r=vN(n);return r&&r.default||0}return n=K$.has(n)?n:iN(n),t.getAttribute(n)}measureInstanceViewportBox(){return Er()}scrapeMotionValuesFromProps(t,n){return Y$(t,n)}build(t,n,r,i){uN(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){G$(t,n,r,i)}mount(t){this.isSVGTag=dN(t.tagName),super.mount(t)}}const oge=(e,t)=>oN(e)?new sge(t,{enableHardwareAcceleration:!1}):new age(t,{enableHardwareAcceleration:!0}),lge={layout:{ProjectionNode:GF,MeasureLayout:zF}},cge={..._he,...tme,...Bpe,...lge},Cs=cfe((e,t)=>Ufe(e,t,cge,oge));function uge({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:g,children:y}){return e?u.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:x=>x.target===x.currentTarget&&t(),children:u.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),onFocus:s,onBlur:x=>o(x.relatedTarget),onKeyDown:x=>{x.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((x,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(x)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:x.section}),u.jsx("div",{className:"truncate",children:d(x.text,n)})]},`${x.hitId}-${b}-${x.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(zi,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[h.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((x,b)=>{const w=x.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${x.level===1?"proof-of-work-toc-item--l1":x.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":x.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(x),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:x.text})]},`${x.id}-${x.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:g,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:y})})]})})]})}):null}const Fl="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",Aw="arcbridge_web_theme_override",tD="arcbridge_web_kinetic_font_override",nD="__default__",JF=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},rD=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},dge=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},fge=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},mge=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},Pw=e=>e?e===$S?!0:Hd.some(t=>t.id===e):!1,hge=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&Pw(t))return t;const n=JF(Aw);if(!n)return null;try{const r=JSON.parse(n),i=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return i&&Pw(i)?i:null}catch{return null}},iD=(e,t)=>e?e===Fg?"matte":e===Rg||e===af?"kinetic":e===$S?"crt":t==="modern"||t==="classic"?t:"classic":t,aD=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},pge=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},sD=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),gge=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,c=`${l} ${n-l}`,d=n-i;return i+=l,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:c,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},xge=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function vge(){var Fc;const e=hge(),[t,n]=v.useState(null),[r,i]=v.useState(null),[a,s]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(""),[f,h]=v.useState(null),[m,p]=v.useState(null),[g,y]=v.useState(!1),[x,b]=v.useState(!1),[w,k]=v.useState(()=>iD(e,"classic")),[C,N]=v.useState("classic"),[j,M]=v.useState(up.id),[_,T]=v.useState(e),D=v.useMemo(()=>{const Y=new URLSearchParams(window.location.search),ve=Y.get("themeId")||Y.get("theme");return ve&&Pw(ve)?ve:null},[]),[O,Z]=v.useState("default"),[J,se]=v.useState(!1),[de,X]=v.useState(!1),[G,F]=v.useState(!1),[P,A]=v.useState(""),[te,S]=v.useState(""),[U,q]=v.useState([]),[ee,K]=v.useState(!1),[re,R]=v.useState("overview"),[H,le]=v.useState("kdr"),[ae,B]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),V=v.useRef(null),L=v.useRef(null),ne=v.useRef(null),Ce=v.useRef(null),ze=v.useRef(null),ce=v.useRef(null),He=v.useRef(new Map),Ie=v.useRef(null),mt=v.useRef(null),Ft=v.useMemo(()=>{let Y=window.location.pathname||"/";const ve=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return Y.endsWith("/index.html")&&(Y=Y.slice(0,-11)),Y.includes("/reports/")&&(Y=Y.replace(/\/reports\/[^/]+\/?$/,"")),ve&&(Y=Y.replace(/^\/web\/web(?=\/|$)/,"/web")),Y.endsWith("/")||(Y=`${Y}/`),Y},[]),hn=v.useMemo(()=>new URL(Ft,window.location.origin).toString(),[Ft]),jn=v.useMemo(()=>D?fge(hn,D):hn,[D,hn]),xe=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),_e=v.useMemo(()=>{const ve=[Ft,"./","/"],Ae=[];return ve.forEach(lt=>{let Dt=lt||"/";Dt!=="./"&&!Dt.endsWith("/")&&(Dt=`${Dt}/`),Ae.includes(Dt)||Ae.push(Dt)}),Ae},[Ft,xe]),[Pt,Yt]=v.useState(_e[0]||"/"),ln=Y=>{var ve;return typeof Y=="string"||typeof Y=="number"?String(Y):Array.isArray(Y)?Y.map(ln).join(""):Y&&typeof Y=="object"&&"props"in Y?ln((ve=Y.props)==null?void 0:ve.children):""},Nr=Y=>{const ve=sD(Y||"section")||"section",Ae=He.current,lt=(Ae.get(ve)??0)+1;return Ae.set(ve,lt),lt===1?ve:`${ve}-${lt}`},Kr=v.useMemo(()=>{const Y=Gv.split(`
`),ve=new Map,Ae=[],lt=Dt=>{const zt=sD(Dt||"section")||"section",rn=(ve.get(zt)??0)+1;return ve.set(zt,rn),rn===1?zt:`${zt}-${rn}`};for(const Dt of Y){const zt=/^(#{1,3})\s+(.*)\s*$/.exec(Dt);if(!zt)continue;const rn=zt[1].length,kt=zt[2].trim();kt&&Ae.push({level:rn,text:kt,id:lt(kt)})}return Ae},[Gv]),Pr=(Y,ve)=>{const Ae=Y==="./"?"./":Y.endsWith("/")?Y:`${Y}/`,lt=String(ve||"").replace(/^\/+/,"");return`${Ae}${lt}`};v.useEffect(()=>{const Y=JF(tD);(Y==="original"||Y==="default")&&Z(Y)},[]),v.useEffect(()=>{const Y=_||j,ve=Hd.find(Ae=>Ae.id===Y)||up;h(ve)},[_,j]),v.useEffect(()=>{if(!_){k(C);return}k(iD(_,C))},[_,C]),v.useEffect(()=>{Yt(_e[0]||"/");let Y=!0;return(async()=>{for(const Ae of _e)try{if((await fetch(Pr(Ae,"ui-theme.json"),{cache:"no-store"})).ok){Y&&Yt(Ae);return}}catch{}})(),()=>{Y=!1}},[_e]);const Ka=(Y,ve)=>{const Ae=ve.trim();if(!Ae)return Y;const lt=Y.toLowerCase(),Dt=Ae.toLowerCase(),zt=lt.indexOf(Dt);if(zt===-1)return Y;const rn=Y.slice(0,zt),kt=Y.slice(zt,zt+Ae.length),ct=Y.slice(zt+Ae.length);return u.jsxs(u.Fragment,{children:[rn,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:kt}),ct]})},Ci=(Y,ve)=>{const Ae=L.current;if(!Ae)return;let lt=Ae.querySelector(`[data-search-hit="${Y}"]`);if(!lt&&ve){const Dt=ve.trim().replace(/\s+/g," "),zt=Array.from(Ae.querySelectorAll("h1, h2, h3, p, li, code"));lt=zt.find(rn=>(rn.textContent||"").trim().replace(/\s+/g," ")===Dt)||null,lt||(lt=zt.find(rn=>(rn.textContent||"").toLowerCase().includes(Dt.toLowerCase()))||null)}lt&&requestAnimationFrame(()=>{const Dt=Ae.getBoundingClientRect(),zt=lt.getBoundingClientRect(),rn=Math.max(0,Ae.scrollTop+(zt.top-Dt.top)-12);Ae.scrollTop=rn,lt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),ce.current&&window.clearTimeout(ce.current),ce.current=window.setTimeout(()=>{lt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},xn=Y=>{const ve=L.current,Ae=Y.trim().toLowerCase();if(!ve||Ae.length<2){q([]);return}const lt=Array.from(ve.querySelectorAll("h1, h2, h3, p, li, code"));lt.forEach(rn=>rn.removeAttribute("data-search-hit"));const Dt=[];let zt=0;lt.forEach((rn,kt)=>{const ct=(rn.textContent||"").trim();if(ct&&ct.toLowerCase().includes(Ae)){let An="";for(let E=kt;E>=0;E-=1){const I=lt[E];if(I&&["H1","H2","H3"].includes(I.tagName)){An=(I.textContent||"").trim();break}}rn.setAttribute("data-search-hit",String(zt)),Dt.push({index:kt,text:ct,section:An||"Unlabeled Section",hitId:zt}),zt+=1}}),q(Dt.slice(0,12))};v.useEffect(()=>{var ve;if(!G)return;A(((ve=Kr[0])==null?void 0:ve.id)||"");const Y=Ae=>{var Dt;const lt=Ae.target;lt&&((Dt=ne.current)!=null&&Dt.contains(lt)||(K(!1),q([])))};return window.addEventListener("mousedown",Y),()=>{window.removeEventListener("mousedown",Y)}},[G,Kr]),v.useEffect(()=>{if(!G){A("");return}const Y=L.current;if(!Y)return;let ve=0;const Ae=()=>{var ie;const Dt=Array.from(Y.querySelectorAll("[data-heading-id]"));if(Dt.length===0)return;const rn=Y.getBoundingClientRect().top+18,kt=Dt.map((Se,ye)=>({index:ye,id:Se.dataset.headingId||Se.id||"",top:Se.getBoundingClientRect().top})).filter(Se=>!!Se.id);if(kt.length===0)return;let ct=0,An=!1;for(const Se of kt){if(Se.top<=rn){ct=Se.index,An=!0;continue}An||(ct=Se.index);break}Y.scrollTop+Y.clientHeight>=Y.scrollHeight-2&&(ct=Math.max(0,kt.length-1));const I=Kr[ct],$=((ie=kt[ct])==null?void 0:ie.id)||"",pe=(I==null?void 0:I.id)||$;pe&&A(pe)};Ae();const lt=()=>{ve&&cancelAnimationFrame(ve),ve=requestAnimationFrame(Ae)};return Y.addEventListener("scroll",lt,{passive:!0}),window.addEventListener("resize",lt),()=>{ve&&cancelAnimationFrame(ve),Y.removeEventListener("scroll",lt),window.removeEventListener("resize",lt)}},[G,Kr]);const Xt=v.useMemo(()=>[{id:"overview",label:"Overview",icon:E6,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:ic},{id:"fight-breakdown",label:"Fight Breakdown",icon:Yo},{id:"top-players",label:"Top Players",icon:ic},{id:"top-skills-outgoing",label:"Top Skills",icon:S1},{id:"squad-composition",label:"Classes",icon:kr},{id:"timeline",label:"Squad vs Enemy Size",icon:kr},{id:"map-distribution",label:"Map Distribution",icon:A1}]},{id:"roster",label:"Roster Intel",icon:Ef,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Ef},{id:"squad-comp-fight",label:"Squad Comp",icon:kr},{id:"fight-comp",label:"Fight Comp",icon:Yo}]},{id:"offense",label:"Offensive Stats",icon:Yo,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:j4},{id:"player-breakdown",label:"Player Breakdown",icon:j1},{id:"spike-damage",label:"Spike Damage",icon:Df},{id:"conditions-outgoing",label:"Conditions",icon:p0}]},{id:"defense",label:"Defensive Stats",icon:Fu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Fu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Df},{id:"defense-mitigation",label:"Damage Mitigation",icon:D1},{id:"boon-output",label:"Boon Output",icon:E1},{id:"support-detailed",label:"Support Detailed",icon:P1},{id:"healing-stats",label:"Healing Stats",icon:AO}]},{id:"other",label:"Other Metrics",icon:g0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:N1},{id:"special-buffs",label:"Special Buffs",icon:Bp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:M1},{id:"skill-usage",label:"Skill Usage",icon:C1},{id:"apm-stats",label:"APM Breakdown",icon:T1}]}],[]),fi=v.useMemo(()=>{const Y=new Map;return Xt.forEach(ve=>{Y.set(ve.id.toLowerCase(),ve.id),(ve.sectionIds||[]).forEach(Ae=>Y.set(String(Ae).toLowerCase(),ve.id)),(ve.items||[]).forEach(Ae=>Y.set(String(Ae.id).toLowerCase(),ve.id))}),Y.set("report-top","overview"),Y.set("overview","overview"),Y.set("kdr","overview"),Y},[Xt]),Wt=v.useMemo(()=>Xt.find(Y=>Y.id===re)||Xt[0],[Xt,re]),In=w==="kinetic",ni=v.useMemo(()=>{const ve=((Wt==null?void 0:Wt.sectionIds)||((Wt==null?void 0:Wt.items)||[]).map(Ae=>Ae.id)).map(Ae=>Ae==="kdr"?"overview":Ae);return new Set(ve)},[Wt]),Oc=Y=>{if(Y==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const ve=Y==="kdr"?"overview":Y,Ae=ve==="overview"&&Y!=="kdr"?"report-top":ve,lt=document.getElementById(Ae);if(!lt||!(lt.getAttribute("data-section-visible")!=="false")||!lt.offsetParent)return!1;const zt=lt.getBoundingClientRect();if(zt.height<=0)return!1;let rn=0;if(Ae==="stats-view-top"){const ct=document.getElementById("report-top");ct&&(rn=ct.getBoundingClientRect().height+12)}const kt=zt.top+window.scrollY-12-rn;return window.scrollTo({top:Math.max(0,kt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Ae}`),!0},Bs=(Y,ve=0)=>{Oc(Y)||ve>=12||window.setTimeout(()=>{requestAnimationFrame(()=>Bs(Y,ve+1))},40)};v.useEffect(()=>{if(!t)return;const Y=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(Ae=>{Ae.scrollHeight})});return()=>cancelAnimationFrame(Y)},[t]),v.useEffect(()=>{const Y=Ie.current;if(!Y)return;let ve=0;const Ae=()=>{if(Oc(Y)){Ie.current=null;return}if(ve+=1,ve>=20){Ie.current=null;return}window.setTimeout(()=>requestAnimationFrame(Ae),40)};requestAnimationFrame(Ae)},[re]),v.useEffect(()=>{const Y=()=>{var zt,rn;const ve=(window.location.hash||"").replace(/^#/,"").trim();if(!ve)return;let Ae=ve;try{Ae=decodeURIComponent(ve)}catch{Ae=ve}const lt=Ae.toLowerCase(),Dt=fi.get(lt);if(Dt){if(R(Dt),B(()=>{const kt={};return Xt.forEach(ct=>{kt[ct.id]=ct.id===Dt}),kt}),lt==="report-top")le("kdr");else{const kt=Xt.find(ct=>ct.id.toLowerCase()===lt);le(((rn=(zt=kt==null?void 0:kt.items)==null?void 0:zt[0])==null?void 0:rn.id)||lt)}Ie.current=lt==="report-top"?"kdr":lt}};return Y(),window.addEventListener("hashchange",Y),()=>{window.removeEventListener("hashchange",Y)}},[fi,Xt]);const ri=w==="matte",bs=f??up,Gr=In&&bs.id===af,Na=In?Gr?"142, 155, 214":"90, 80, 68":bs.rgb,To=ri?"#d8e1eb":In?Gr?"#f0d8a9":"#24211d":"var(--accent)",Sl={"--accent":`rgb(${Na})`,"--accent-rgb":Na,"--accent-soft":`rgba(${Na}, ${In?Gr?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${Na}, ${In?Gr?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${Na}, ${In?Gr?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${Na}, ${In?Gr?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${Na}, ${In?Gr?"0.08":"0.04":"0.08"})`},Eo=w==="modern"||w==="matte"||w==="kinetic",Ic=bs.pattern?ri||In?void 0:Eo?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${bs.pattern}`:bs.pattern:void 0,Ca=In?{backgroundImage:"none",backgroundColor:Gr?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:Gr?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:ri?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Eo?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var rn;let Y=!0;const Ae=new URLSearchParams(window.location.search).get("report")||((rn=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:rn[1])||null,lt=Ae?`${Ft}reports/${Ae}/report.json`:`${Ft}report.json`;Ae&&l(lt);const Dt=kt=>{var E,I,$;const ct=new Set((((E=kt==null?void 0:kt.meta)==null?void 0:E.commanders)||[]).map(pe=>String(pe)));if(ct.size===0)return kt;const An=kt.stats;return(I=An==null?void 0:An.leaderboards)!=null&&I.closestToTag&&(An.leaderboards.closestToTag=An.leaderboards.closestToTag.map(pe=>ct.has(String(pe==null?void 0:pe.account))?{...pe,value:0}:pe)),($=An==null?void 0:An.closestToTag)!=null&&$.player&&ct.has(String(An.closestToTag.player))&&(An.closestToTag={...An.closestToTag,value:0}),kt},zt=kt=>{var $,pe,ie,Se,ye;const ct=kt==null?void 0:kt.stats;if(!ct||typeof ct!="object")return kt;const An=Array.isArray(($=ct==null?void 0:ct.leaderboards)==null?void 0:$.downContrib)?ct.leaderboards.downContrib:[];if(!An.length)return kt;const I=An.map(Ue=>({...Ue,value:Number((Ue==null?void 0:Ue.value)??0)})).filter(Ue=>Number.isFinite(Ue.value)).sort((Ue,rt)=>rt.value-Ue.value||String((Ue==null?void 0:Ue.account)||"").localeCompare(String((rt==null?void 0:rt.account)||"")))[0];return I&&(ct.maxDownContrib={...ct.maxDownContrib||{},value:Number(I.value||0),player:String(I.account||((pe=ct.maxDownContrib)==null?void 0:pe.player)||"-"),count:Number(I.count||((ie=ct.maxDownContrib)==null?void 0:ie.count)||0),profession:String(I.profession||((Se=ct.maxDownContrib)==null?void 0:Se.profession)||"Unknown"),professionList:Array.isArray(I.professionList)?I.professionList:((ye=ct.maxDownContrib)==null?void 0:ye.professionList)||[]}),kt};return fetch(lt,{cache:"no-store"}).then(kt=>kt.ok?kt.json():Promise.reject()).then(kt=>{var An,E,I,$,pe;if(!Y)return;const ct=zt(Dt(kt));if(n(ct),!_){const ie=(An=ct==null?void 0:ct.stats)==null?void 0:An.uiTheme;ie==="modern"||ie==="classic"||ie==="crt"||ie==="matte"||ie==="kinetic"?N(ie):((E=ct==null?void 0:ct.stats)==null?void 0:E.webThemeId)===Fg?N("matte"):(((I=ct==null?void 0:ct.stats)==null?void 0:I.webThemeId)===Rg||(($=ct==null?void 0:ct.stats)==null?void 0:$.webThemeId)===af)&&N("kinetic"),typeof((pe=ct==null?void 0:ct.stats)==null?void 0:pe.webThemeId)=="string"&&ct.stats.webThemeId&&M(ct.stats.webThemeId)}}).catch(()=>{if(Ae){if(!Y)return;s("Report not found yet. It may still be deploying.")}fetch(`${Ft}reports/index.json`,{cache:"no-store"}).then(kt=>kt.ok?kt.json():Promise.reject()).then(kt=>{Y&&i(Array.isArray(kt)?kt:[])}).catch(()=>{Y&&s("No report data found.")})}),()=>{Y=!1}},[Ft,_]),v.useEffect(()=>{if(t){const Y=t.meta.dateLabel||aD(t.meta.dateStart,t.meta.dateEnd);document.title=Y?`ArcBridge  ${t.meta.title}  ${Y}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),v.useEffect(()=>{var ve;if(_)return;const Y=(ve=t==null?void 0:t.stats)==null?void 0:ve.webThemeId;typeof Y=="string"&&Y&&M(Y)},[t,_]),v.useEffect(()=>{const Y=document.body;Y.classList.add("web-report"),Y.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),ri?Y.classList.add("theme-matte"):w==="modern"?Y.classList.add("theme-modern"):w==="crt"?Y.classList.add("theme-crt"):w==="kinetic"?(Y.classList.add("theme-kinetic"),Gr&&Y.classList.add("theme-kinetic-dark"),O==="original"&&Y.classList.add("theme-kinetic-font-original")):Y.classList.add("theme-classic")},[w,ri,Gr,O]),v.useEffect(()=>{var ve;if(_||xe&&((ve=t==null?void 0:t.stats)!=null&&ve.webThemeId))return;let Y=!0;return fetch(Pr(Pt,"theme.json"),{cache:"no-store"}).then(Ae=>Ae.ok?Ae.json():Promise.reject()).then(Ae=>{Y&&typeof(Ae==null?void 0:Ae.id)=="string"&&Ae.id&&M(Ae.id)}).catch(()=>{}),()=>{Y=!1}},[Pt,xe,t,_]),v.useEffect(()=>{var zt,rn;if(_)return;const Y=(zt=t==null?void 0:t.stats)==null?void 0:zt.webThemeId,ve=(rn=t==null?void 0:t.stats)==null?void 0:rn.uiTheme;if((ve==="modern"||ve==="classic"||ve==="crt"||ve==="matte"||ve==="kinetic")&&!(Y===Fg&&ve!=="matte"||(Y===Rg||Y===af)&&ve!=="kinetic"||Y==="CRT"&&ve!=="crt"))return;let Dt=!0;return fetch(Pr(Pt,"ui-theme.json"),{cache:"no-store"}).then(kt=>kt.ok?kt.json():Promise.reject()).then(kt=>{if(!Dt)return;const ct=kt==null?void 0:kt.theme;(ct==="modern"||ct==="classic"||ct==="crt"||ct==="matte"||ct==="kinetic")&&N(ct)}).catch(()=>{}),()=>{Dt=!1}},[Pt,t,_]),v.useEffect(()=>{let Y=!0;return fetch(Pr(Pt,"logo.json"),{cache:"no-store"}).then(ve=>ve.ok?ve.json():Promise.reject()).then(ve=>{if(!Y)return;const Ae="svg/ArcBridge.svg",lt=ve!=null&&ve.path?String(ve.path):Ae,Dt=ve!=null&&ve.updatedAt?String(ve.updatedAt):"",zt=Pr(Pt,lt),rn=Dt?`${zt}?v=${encodeURIComponent(Dt)}`:zt;p(rn),y(!(ve!=null&&ve.path)||lt===Ae)}).catch(()=>{Y&&(p(null),y(!1))}),()=>{Y=!1}},[Pt]);const hr=v.useMemo(()=>r?[...r].sort((Y,ve)=>{const Ae=new Date(Y.dateEnd||Y.dateStart).getTime();return new Date(ve.dateEnd||ve.dateStart).getTime()-Ae}):[],[r]),ja=v.useMemo(()=>{if(!hr.length)return[];const Y=c.trim().toLowerCase();return Y?hr.filter(ve=>{var Dt;const Ae=((Dt=ve.commanders)==null?void 0:Dt.join(" "))||"";return`${ve.title} ${Ae} ${ve.dateLabel}`.toLowerCase().includes(Y)}):hr},[hr,c]),zs=Y=>{if(!Y){dge(Aw);return}rD(Aw,JSON.stringify({themeId:Y}))},_c=Y=>{const ve=Y===nD?null:Y;ve&&!Hd.some(Ae=>Ae.id===ve)||(T(ve),zs(ve),se(!1))},md=Y=>{Z(Y),rD(tD,Y),X(!1)};v.useEffect(()=>{const Y=Ae=>{if(!Ce.current)return;const lt=Ae.target;Ce.current.contains(lt)||ze.current&&ze.current.contains(lt)||(se(!1),X(!1))},ve=Ae=>{Ae.key==="Escape"&&(se(!1),X(!1))};return window.addEventListener("mousedown",Y),window.addEventListener("keydown",ve),()=>{window.removeEventListener("mousedown",Y),window.removeEventListener("keydown",ve)}},[]),v.useEffect(()=>()=>{mt.current!==null&&(cancelAnimationFrame(mt.current),mt.current=null)},[]);const Nl=v.useMemo(()=>{if(!_)return"Default";const Y=Hd.find(ve=>ve.id===_);return(Y==null?void 0:Y.label)||"Default"},[_]),Cl=u.jsxs("div",{className:"relative flex items-center gap-2",ref:Ce,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>se(Y=>!Y),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:Nl}),u.jsx("span",{className:`transition-transform ${J?"rotate-180":""}`,children:""})]}),J&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>_c(nD),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Hd.map(Y=>u.jsx("button",{type:"button",onClick:()=>_c(Y.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${_===Y.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:Y.label},Y.id))]})]}),Lc=In?u.jsxs("div",{className:"relative flex items-center gap-2",ref:ze,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),u.jsxs("button",{type:"button",onClick:()=>X(Y=>!Y),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:O==="original"?"Original App":"Kinetic Default"}),u.jsx("span",{className:`transition-transform ${de?"rotate-180":""}`,children:""})]}),de&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>md("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${O==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),u.jsx("button",{type:"button",onClick:()=>md("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${O==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,Do=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Cl}),Lc&&u.jsx("div",{className:"min-w-[160px]",children:Lc}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:Y=>{Y.preventDefault(),F(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),$c=u.jsxs(uge,{isOpen:G,onClose:()=>F(!1),searchValue:te,searchFocused:ee,searchResults:U,onSearchChange:Y=>{S(Y),requestAnimationFrame(()=>xn(Y))},onSearchFocus:()=>{K(!0),requestAnimationFrame(()=>xn(te))},onSearchBlur:Y=>{var ve;Y&&((ve=ne.current)!=null&&ve.contains(Y))||K(!1)},onSearchEnter:()=>{U.length>0&&Ci(U[0].hitId,U[0].text)},onSearchResultMouseDown:Y=>{K(!0),Ci(Y.hitId,Y.text)},renderHighlightedMatch:Ka,searchRef:ne,tocItems:Kr,activeTocId:P,onTocClick:Y=>{const ve=L.current;if(!ve)return;let Ae=ve.querySelector(`[data-heading-id="${Y.id}"]`);if(!Ae){const lt=Y.text.trim().replace(/\s+/g," ");Ae=Array.from(ve.querySelectorAll("h1, h2, h3")).find(zt=>(zt.textContent||"").trim().replace(/\s+/g," ")===lt)||null}Ae&&(A(Y.id),requestAnimationFrame(()=>{const lt=ve.getBoundingClientRect(),Dt=Ae.getBoundingClientRect(),zt=ve.scrollTop+(Dt.top-lt.top)-12;ve.scrollTop=Math.max(0,zt)}))},contentRef:L,children:[(He.current=new Map,null),u.jsx(Rce,{remarkPlugins:[Zde],components:{h1:({children:Y})=>{const ve=ln(Y),Ae=Nr(ve);return u.jsx("h1",{id:Ae,"data-heading-id":Ae,className:"text-2xl font-bold text-white scroll-mt-6",children:Y})},h2:({children:Y})=>{const ve=ln(Y),Ae=Nr(ve);return u.jsx("h2",{id:Ae,"data-heading-id":Ae,className:"text-xl font-semibold text-white scroll-mt-6",children:Y})},h3:({children:Y})=>{const ve=ln(Y),Ae=Nr(ve);return u.jsx("h3",{id:Ae,"data-heading-id":Ae,className:"text-lg font-semibold text-white scroll-mt-6",children:Y})},p:({children:Y})=>u.jsx("p",{className:"leading-6 text-gray-200",children:Y}),ul:({children:Y})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:Y}),ol:({children:Y})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:Y}),li:({children:Y})=>u.jsx("li",{className:"leading-6",children:Y}),blockquote:({children:Y})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:Y}),a:({href:Y,children:ve})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:Y,target:"_blank",rel:"noreferrer",children:ve}),table:({children:Y})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:Y})}),th:({children:Y})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:Y}),td:({children:Y})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:Y}),pre:({children:Y})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:Y}),code:Y=>{const{inline:ve,children:Ae}=Y;return ve===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Ae}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Ae})}},children:Gv})]});if(t){const Y=Pr(Pt,"svg/ArcBridge.svg"),ve=()=>{mt.current!==null&&(cancelAnimationFrame(mt.current),mt.current=null);const I=window.scrollY||window.pageYOffset||0;if(I<=1){window.scrollTo({top:0,behavior:"auto"});return}const $=320,pe=performance.now(),ie=Se=>{const ye=Se-pe,Ue=Math.min(1,ye/$),rt=1-Math.pow(1-Ue,3),yt=Math.max(0,Math.round(I*(1-rt)));window.scrollTo({top:yt,behavior:"auto"}),Ue<1?mt.current=requestAnimationFrame(ie):(mt.current=null,window.scrollTo({top:0,behavior:"auto"}))};mt.current=requestAnimationFrame(ie)},Ae=I=>{B(()=>{const $={};return Xt.forEach(pe=>{$[pe.id]=pe.id===I}),$})},lt=I=>{var pe,ie;Ie.current=null,R(I);const $=Xt.find(Se=>Se.id===I);le(((ie=(pe=$==null?void 0:$.items)==null?void 0:pe[0])==null?void 0:ie.id)||"kdr"),ve()},Dt=I=>{if(!!!ae[I]){Ae(I),lt(I);return}if(I!==re){lt(I);return}B(pe=>({...pe,[I]:!1}))},zt=(I,$)=>{ae[I]||Ae(I),le($);const pe=I===re;pe||(Ie.current=$,R(I),requestAnimationFrame(()=>Bs($))),pe&&requestAnimationFrame(()=>Bs($))},rn=I=>{const $=I.currentTarget;if(!($.scrollHeight>$.clientHeight)){window.scrollBy({top:I.deltaY,behavior:"auto"}),I.preventDefault();return}const ie=$.scrollTop<=0,Se=$.scrollTop+$.clientHeight>=$.scrollHeight-1;(ie&&I.deltaY<0||Se&&I.deltaY>0)&&(window.scrollBy({top:I.deltaY,behavior:"auto"}),I.preventDefault())},kt=I=>{const $=V.current;if(!$)return;const pe=I.target;if(!pe||!$.contains(pe))return;let ie=pe;for(;ie&&ie!==$;){const ye=window.getComputedStyle(ie).overflowY;if((ye==="auto"||ye==="scroll")&&ie.scrollHeight>ie.clientHeight+1){const rt=ie.scrollTop<=0,yt=ie.scrollTop+ie.clientHeight>=ie.scrollHeight-1;(I.deltaY<0&&rt||I.deltaY>0&&yt)&&(window.scrollBy({top:I.deltaY,behavior:"auto"}),I.preventDefault());return}ie=ie.parentElement}},ct=I=>{const $=Math.max(0,6-I);return{accordionDuration:.5+$*.07,itemDuration:.34+$*.035,stagger:.05+$*.01,delayChildren:.06+$*.015}},An=I=>{const $=ct(I);return{open:{transition:{staggerChildren:$.stagger,delayChildren:$.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,$.stagger*.7),staggerDirection:-1}}}},E={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:ri?"var(--bg-base)":In?Gr?"#2b3048":"#d8d1c5":Eo?"#0f141c":"#0f172a",backgroundImage:ri?"none":Ic,...Sl},children:[!ri&&!In&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>b(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${x?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:jn,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:rn,children:Xt.map(I=>{const $=I.icon,pe=I.id===re,ie=!!ae[I.id],Se=ct(I.items.length),ye=An(I.items.length);return u.jsxs(Cs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Dt(I.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${pe?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx($,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:I.label}),u.jsx(Cs.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:ie?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(eb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Cs.div,{initial:!1,animate:ie?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Se.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Cs.div,{variants:ye,initial:!1,animate:ie?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:I.items.map(Ue=>{const rt=Ue.icon;return u.jsxs(Cs.button,{variants:E,transition:{duration:Se.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{zt(I.id,Ue.id),b(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${H===Ue.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(rt,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Ue.label]},Ue.id)})})},`${I.id}-submenu-mobile`)]},I.id)})})]})}),u.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:To,maskImage:`url(${Y})`,WebkitMaskImage:`url(${Y})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:rn,children:Xt.map(I=>{const $=I.icon,pe=I.id===re,ie=!!ae[I.id],Se=ct(I.items.length),ye=An(I.items.length);return u.jsxs(Cs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Dt(I.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${pe?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx($,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:I.label}),u.jsx(Cs.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:ie?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(eb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Cs.div,{initial:!1,animate:ie?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Se.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Cs.div,{variants:ye,initial:!1,animate:ie?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:I.items.map(Ue=>{const rt=Ue.icon;return u.jsxs(Cs.button,{variants:E,transition:{duration:Se.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>zt(I.id,Ue.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${H===Ue.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(rt,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Ue.label]},Ue.id)})})},`${I.id}-submenu-desktop`)]},I.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:jn,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${Fl} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:Ca,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(g?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:To,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||aD(t.meta.dateStart,t.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>b(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(rC,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(w6,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(kr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(PO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Wt==null?void 0:Wt.items)||[]).map(I=>{const $=I.icon;return u.jsxs("button",{onClick:()=>zt((Wt==null?void 0:Wt.id)||"overview",I.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${H===I.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx($,{className:"w-3 h-3 text-[color:var(--accent)]"})}),I.label]},`chip-${I.id}`)})})]}),u.jsx("div",{ref:V,onWheelCapture:kt,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(tae,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(Fc=t.stats)==null?void 0:Fc.statsViewSettings,embedded:!0,uiTheme:w,sectionVisibility:I=>ni.has(I),dashboardTitle:`Statistics Dashboard - ${(Wt==null?void 0:Wt.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:Do})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:jn,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(CO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(rC,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(b6,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),$c]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:ri?"var(--bg-base)":In?Gr?"#2b3048":"#d8d1c5":Eo?"#0f141c":"#0f172a",backgroundImage:ri?"none":Ic,...Sl},children:[!ri&&!In&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${Fl} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:Ca,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(g?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:To,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[ja.length," Reports"]})})]}),u.jsxs("div",{className:`${Fl} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:Ca,children:[u.jsx("input",{type:"search",value:c,onChange:Y=>d(Y.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:ja.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:hr.length})]})]}),a&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:Ca,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:a}),o&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:o})]})]}),!a&&!r&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:Ca,children:"Loading reports..."}),ja.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:ja.map(Y=>{var ve,Ae,lt,Dt;return u.jsx("a",{href:mge(hn,Y.id,D),className:`${Fl} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:Ca,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:Y.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:pge(Y.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(kr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:Y.commanders.length?Y.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(ve=Y.summary)!=null&&ve.mapSlices&&Y.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(gge,{slices:Y.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(xge,{value:(Ae=Y.summary)==null?void 0:Ae.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((lt=Y.summary)==null?void 0:lt.avgSquadSize)??"--"," / ",((Dt=Y.summary)==null?void 0:Dt.avgEnemySize)??"--"]})]}),u.jsx(j6,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},Y.id)})}),!a&&r&&hr.length===0&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:Ca,children:"No reports uploaded yet."}),!a&&r&&hr.length>0&&ja.length===0&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:Ca,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:Do})]}),$c]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");oy.createRoot(document.getElementById("root")).render(u.jsx(Jg.StrictMode,{children:u.jsx(vge,{})}));
