var kR=Object.defineProperty;var SR=(e,t,n)=>t in e?kR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pv=(e,t,n)=>SR(e,typeof t!="symbol"?t+"":t,n);function NR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qE={exports:{}},Wg={},KE={exports:{}},mn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf=Symbol.for("react.element"),CR=Symbol.for("react.portal"),jR=Symbol.for("react.fragment"),PR=Symbol.for("react.strict_mode"),AR=Symbol.for("react.profiler"),TR=Symbol.for("react.provider"),ER=Symbol.for("react.context"),DR=Symbol.for("react.forward_ref"),MR=Symbol.for("react.suspense"),OR=Symbol.for("react.memo"),IR=Symbol.for("react.lazy"),UN=Symbol.iterator;function _R(e){return e===null||typeof e!="object"?null:(e=UN&&e[UN]||e["@@iterator"],typeof e=="function"?e:null)}var GE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YE=Object.assign,XE={};function qu(e,t,n){this.props=e,this.context=t,this.refs=XE,this.updater=n||GE}qu.prototype.isReactComponent={};qu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ZE(){}ZE.prototype=qu.prototype;function Nw(e,t,n){this.props=e,this.context=t,this.refs=XE,this.updater=n||GE}var Cw=Nw.prototype=new ZE;Cw.constructor=Nw;YE(Cw,qu.prototype);Cw.isPureReactComponent=!0;var VN=Array.isArray,QE=Object.prototype.hasOwnProperty,jw={current:null},JE={key:!0,ref:!0,__self:!0,__source:!0};function eD(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)QE.call(t,r)&&!JE.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Xf,type:e,key:a,ref:s,props:i,_owner:jw.current}}function LR(e,t){return{$$typeof:Xf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xf}function $R(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var WN=/\/+/g;function Av(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$R(""+e.key):t.toString(36)}function Fh(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Xf:case CR:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Av(s,0):r,VN(i)?(n="",e!=null&&(n=e.replace(WN,"$&/")+"/"),Fh(i,t,n,"",function(c){return c})):i!=null&&(Pw(i)&&(i=LR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(WN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",VN(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Av(a,o);s+=Fh(a,t,n,l,i)}else if(l=_R(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Av(a,o++),s+=Fh(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Xm(e,t,n){if(e==null)return e;var r=[],i=0;return Fh(e,r,"","",function(a){return t.call(n,a,i++)}),r}function FR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vi={current:null},Rh={transition:null},RR={ReactCurrentDispatcher:Vi,ReactCurrentBatchConfig:Rh,ReactCurrentOwner:jw};function tD(){throw Error("act(...) is not supported in production builds of React.")}mn.Children={map:Xm,forEach:function(e,t,n){Xm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xm(e,function(){t++}),t},toArray:function(e){return Xm(e,function(t){return t})||[]},only:function(e){if(!Pw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mn.Component=qu;mn.Fragment=jR;mn.Profiler=AR;mn.PureComponent=Nw;mn.StrictMode=PR;mn.Suspense=MR;mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RR;mn.act=tD;mn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=YE({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=jw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)QE.call(t,l)&&!JE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Xf,type:e.type,key:i,ref:a,props:r,_owner:s}};mn.createContext=function(e){return e={$$typeof:ER,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TR,_context:e},e.Consumer=e};mn.createElement=eD;mn.createFactory=function(e){var t=eD.bind(null,e);return t.type=e,t};mn.createRef=function(){return{current:null}};mn.forwardRef=function(e){return{$$typeof:DR,render:e}};mn.isValidElement=Pw;mn.lazy=function(e){return{$$typeof:IR,_payload:{_status:-1,_result:e},_init:FR}};mn.memo=function(e,t){return{$$typeof:OR,type:e,compare:t===void 0?null:t}};mn.startTransition=function(e){var t=Rh.transition;Rh.transition={};try{e()}finally{Rh.transition=t}};mn.unstable_act=tD;mn.useCallback=function(e,t){return Vi.current.useCallback(e,t)};mn.useContext=function(e){return Vi.current.useContext(e)};mn.useDebugValue=function(){};mn.useDeferredValue=function(e){return Vi.current.useDeferredValue(e)};mn.useEffect=function(e,t){return Vi.current.useEffect(e,t)};mn.useId=function(){return Vi.current.useId()};mn.useImperativeHandle=function(e,t,n){return Vi.current.useImperativeHandle(e,t,n)};mn.useInsertionEffect=function(e,t){return Vi.current.useInsertionEffect(e,t)};mn.useLayoutEffect=function(e,t){return Vi.current.useLayoutEffect(e,t)};mn.useMemo=function(e,t){return Vi.current.useMemo(e,t)};mn.useReducer=function(e,t,n){return Vi.current.useReducer(e,t,n)};mn.useRef=function(e){return Vi.current.useRef(e)};mn.useState=function(e){return Vi.current.useState(e)};mn.useSyncExternalStore=function(e,t,n){return Vi.current.useSyncExternalStore(e,t,n)};mn.useTransition=function(){return Vi.current.useTransition()};mn.version="18.3.1";KE.exports=mn;var x=KE.exports;const Hg=hs(x),BR=NR({__proto__:null,default:Hg},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR=x,UR=Symbol.for("react.element"),VR=Symbol.for("react.fragment"),WR=Object.prototype.hasOwnProperty,HR=zR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qR={key:!0,ref:!0,__self:!0,__source:!0};function nD(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)WR.call(t,r)&&!qR.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:UR,type:e,key:a,ref:s,props:i,_owner:HR.current}}Wg.Fragment=VR;Wg.jsx=nD;Wg.jsxs=nD;qE.exports=Wg;var u=qE.exports,ay={},rD={exports:{}},ja={},iD={exports:{}},aD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,oe){var T=X.length;X.push(oe);e:for(;0<T;){var j=T-1>>>1,U=X[j];if(0<i(U,oe))X[j]=oe,X[T]=U,T=j;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var oe=X[0],T=X.pop();if(T!==oe){X[0]=T;e:for(var j=0,U=X.length,k=U>>>1;j<k;){var O=2*(j+1)-1,re=X[O],Q=O+1,B=X[Q];if(0>i(re,T))Q<U&&0>i(B,re)?(X[j]=B,X[Q]=T,j=Q):(X[j]=re,X[O]=T,j=O);else if(Q<U&&0>i(B,T))X[j]=B,X[Q]=T,j=Q;else break e}}return oe}function i(X,oe){var T=X.sortIndex-oe.sortIndex;return T!==0?T:X.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(X){for(var oe=n(c);oe!==null;){if(oe.callback===null)r(c);else if(oe.startTime<=X)r(c),oe.sortIndex=oe.expirationTime,t(l,oe);else break;oe=n(c)}}function S(X){if(v=!1,w(X),!p)if(n(l)!==null)p=!0,W(C);else{var oe=n(c);oe!==null&&ee(S,oe.startTime-X)}}function C(X,oe){p=!1,v&&(v=!1,g(D),D=-1),m=!0;var T=h;try{for(w(oe),f=n(l);f!==null&&(!(f.expirationTime>oe)||X&&!$());){var j=f.callback;if(typeof j=="function"){f.callback=null,h=f.priorityLevel;var U=j(f.expirationTime<=oe);oe=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&r(l),w(oe)}else r(l);f=n(l)}if(f!==null)var k=!0;else{var O=n(c);O!==null&&ee(S,O.startTime-oe),k=!1}return k}finally{f=null,h=T,m=!1}}var N=!1,P=null,D=-1,_=5,A=-1;function $(){return!(e.unstable_now()-A<_)}function M(){if(P!==null){var X=e.unstable_now();A=X;var oe=!0;try{oe=P(!0,X)}finally{oe?te():(N=!1,P=null)}}else N=!1}var te;if(typeof b=="function")te=function(){b(M)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,se=Y.port2;Y.port1.onmessage=M,te=function(){se.postMessage(null)}}else te=function(){y(M,0)};function W(X){P=X,N||(N=!0,te())}function ee(X,oe){D=y(function(){X(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,W(C))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(X){switch(h){case 1:case 2:case 3:var oe=3;break;default:oe=h}var T=h;h=oe;try{return X()}finally{h=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var T=h;h=X;try{return oe()}finally{h=T}},e.unstable_scheduleCallback=function(X,oe,T){var j=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?j+T:j):T=j,X){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=T+U,X={id:d++,callback:oe,priorityLevel:X,startTime:T,expirationTime:U,sortIndex:-1},T>j?(X.sortIndex=T,t(c,X),n(l)===null&&X===n(c)&&(v?(g(D),D=-1):v=!0,ee(S,T-j))):(X.sortIndex=U,t(l,X),p||m||(p=!0,W(C))),X},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(X){var oe=h;return function(){var T=h;h=oe;try{return X.apply(this,arguments)}finally{h=T}}}})(aD);iD.exports=aD;var KR=iD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR=x,Sa=KR;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sD=new Set,af={};function Cc(e,t){Cu(e,t),Cu(e+"Capture",t)}function Cu(e,t){for(af[e]=t,e=0;e<t.length;e++)sD.add(t[e])}var fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sy=Object.prototype.hasOwnProperty,YR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HN={},qN={};function XR(e){return sy.call(qN,e)?!0:sy.call(HN,e)?!1:YR.test(e)?qN[e]=!0:(HN[e]=!0,!1)}function ZR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QR(e,t,n,r){if(t===null||typeof t>"u"||ZR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wi(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var gi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gi[e]=new Wi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gi[t]=new Wi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gi[e]=new Wi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gi[e]=new Wi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gi[e]=new Wi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gi[e]=new Wi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gi[e]=new Wi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gi[e]=new Wi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gi[e]=new Wi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Aw=/[\-:]([a-z])/g;function Tw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Aw,Tw);gi[t]=new Wi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Aw,Tw);gi[t]=new Wi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Aw,Tw);gi[t]=new Wi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gi[e]=new Wi(e,1,!1,e.toLowerCase(),null,!1,!1)});gi.xlinkHref=new Wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gi[e]=new Wi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ew(e,t,n,r){var i=gi.hasOwnProperty(t)?gi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QR(t,n,i,r)&&(n=null),r||i===null?XR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var So=GR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zm=Symbol.for("react.element"),Zc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),Dw=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),oD=Symbol.for("react.provider"),lD=Symbol.for("react.context"),Mw=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),cy=Symbol.for("react.suspense_list"),Ow=Symbol.for("react.memo"),Bo=Symbol.for("react.lazy"),cD=Symbol.for("react.offscreen"),KN=Symbol.iterator;function dd(e){return e===null||typeof e!="object"?null:(e=KN&&e[KN]||e["@@iterator"],typeof e=="function"?e:null)}var xr=Object.assign,Tv;function Md(e){if(Tv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tv=t&&t[1]||""}return`
`+Tv+e}var Ev=!1;function Dv(e,t){if(!e||Ev)return"";Ev=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Ev=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Md(e):""}function JR(e){switch(e.tag){case 5:return Md(e.type);case 16:return Md("Lazy");case 13:return Md("Suspense");case 19:return Md("SuspenseList");case 0:case 2:case 15:return e=Dv(e.type,!1),e;case 11:return e=Dv(e.type.render,!1),e;case 1:return e=Dv(e.type,!0),e;default:return""}}function uy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qc:return"Fragment";case Zc:return"Portal";case oy:return"Profiler";case Dw:return"StrictMode";case ly:return"Suspense";case cy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lD:return(e.displayName||"Context")+".Consumer";case oD:return(e._context.displayName||"Context")+".Provider";case Mw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ow:return t=e.displayName||null,t!==null?t:uy(e.type)||"Memo";case Bo:t=e._payload,e=e._init;try{return uy(e(t))}catch{}}return null}function eB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uy(t);case 8:return t===Dw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tB(e){var t=uD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qm(e){e._valueTracker||(e._valueTracker=tB(e))}function dD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dy(e,t){var n=t.checked;return xr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function GN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ll(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fD(e,t){t=t.checked,t!=null&&Ew(e,"checked",t,!1)}function fy(e,t){fD(e,t);var n=ll(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?my(e,t.type,n):t.hasOwnProperty("defaultValue")&&my(e,t.type,ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function YN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function my(e,t,n){(t!=="number"||cp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Od=Array.isArray;function pu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ll(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return xr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function XN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(Od(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ll(n)}}function mD(e,t){var n=ll(t.value),r=ll(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ZN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function py(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jm,pD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jm=Jm||document.createElement("div"),Jm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nB=["Webkit","ms","Moz","O"];Object.keys(Rd).forEach(function(e){nB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rd[t]=Rd[e]})});function gD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rd.hasOwnProperty(e)&&Rd[e]?(""+t).trim():t+"px"}function vD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var rB=xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gy(e,t){if(t){if(rB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function vy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xy=null;function Iw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yy=null,gu=null,vu=null;function QN(e){if(e=Jf(e)){if(typeof yy!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Xg(t),yy(e.stateNode,e.type,t))}}function xD(e){gu?vu?vu.push(e):vu=[e]:gu=e}function yD(){if(gu){var e=gu,t=vu;if(vu=gu=null,QN(e),t)for(e=0;e<t.length;e++)QN(t[e])}}function bD(e,t){return e(t)}function wD(){}var Mv=!1;function kD(e,t,n){if(Mv)return e(t,n);Mv=!0;try{return bD(e,t,n)}finally{Mv=!1,(gu!==null||vu!==null)&&(wD(),yD())}}function of(e,t){var n=e.stateNode;if(n===null)return null;var r=Xg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var by=!1;if(fo)try{var fd={};Object.defineProperty(fd,"passive",{get:function(){by=!0}}),window.addEventListener("test",fd,fd),window.removeEventListener("test",fd,fd)}catch{by=!1}function iB(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Bd=!1,up=null,dp=!1,wy=null,aB={onError:function(e){Bd=!0,up=e}};function sB(e,t,n,r,i,a,s,o,l){Bd=!1,up=null,iB.apply(aB,arguments)}function oB(e,t,n,r,i,a,s,o,l){if(sB.apply(this,arguments),Bd){if(Bd){var c=up;Bd=!1,up=null}else throw Error(Ue(198));dp||(dp=!0,wy=c)}}function jc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function SD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function JN(e){if(jc(e)!==e)throw Error(Ue(188))}function lB(e){var t=e.alternate;if(!t){if(t=jc(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return JN(i),e;if(a===r)return JN(i),t;a=a.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function ND(e){return e=lB(e),e!==null?CD(e):null}function CD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=CD(e);if(t!==null)return t;e=e.sibling}return null}var jD=Sa.unstable_scheduleCallback,e2=Sa.unstable_cancelCallback,cB=Sa.unstable_shouldYield,uB=Sa.unstable_requestPaint,Er=Sa.unstable_now,dB=Sa.unstable_getCurrentPriorityLevel,_w=Sa.unstable_ImmediatePriority,PD=Sa.unstable_UserBlockingPriority,fp=Sa.unstable_NormalPriority,fB=Sa.unstable_LowPriority,AD=Sa.unstable_IdlePriority,qg=null,Ds=null;function mB(e){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(qg,e,void 0,(e.current.flags&128)===128)}catch{}}var as=Math.clz32?Math.clz32:gB,hB=Math.log,pB=Math.LN2;function gB(e){return e>>>=0,e===0?32:31-(hB(e)/pB|0)|0}var eh=64,th=4194304;function Id(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Id(o):(a&=s,a!==0&&(r=Id(a)))}else s=n&~i,s!==0?r=Id(s):a!==0&&(r=Id(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-as(t),i=1<<n,r|=e[n],t&=~i;return r}function vB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-as(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=vB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function ky(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function TD(){var e=eh;return eh<<=1,!(eh&4194240)&&(eh=64),e}function Ov(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-as(t),e[t]=n}function yB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-as(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Lw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-as(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var On=0;function ED(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var DD,$w,MD,OD,ID,Sy=!1,nh=[],Zo=null,Qo=null,Jo=null,lf=new Map,cf=new Map,Ho=[],bB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t2(e,t){switch(e){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":lf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cf.delete(t.pointerId)}}function md(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Jf(t),t!==null&&$w(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wB(e,t,n,r,i){switch(t){case"focusin":return Zo=md(Zo,e,t,n,r,i),!0;case"dragenter":return Qo=md(Qo,e,t,n,r,i),!0;case"mouseover":return Jo=md(Jo,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lf.set(a,md(lf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,cf.set(a,md(cf.get(a)||null,e,t,n,r,i)),!0}return!1}function _D(e){var t=Hl(e.target);if(t!==null){var n=jc(t);if(n!==null){if(t=n.tag,t===13){if(t=SD(n),t!==null){e.blockedOn=t,ID(e.priority,function(){MD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ny(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xy=r,n.target.dispatchEvent(r),xy=null}else return t=Jf(n),t!==null&&$w(t),e.blockedOn=n,!1;t.shift()}return!0}function n2(e,t,n){Bh(e)&&n.delete(t)}function kB(){Sy=!1,Zo!==null&&Bh(Zo)&&(Zo=null),Qo!==null&&Bh(Qo)&&(Qo=null),Jo!==null&&Bh(Jo)&&(Jo=null),lf.forEach(n2),cf.forEach(n2)}function hd(e,t){e.blockedOn===t&&(e.blockedOn=null,Sy||(Sy=!0,Sa.unstable_scheduleCallback(Sa.unstable_NormalPriority,kB)))}function uf(e){function t(i){return hd(i,e)}if(0<nh.length){hd(nh[0],e);for(var n=1;n<nh.length;n++){var r=nh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zo!==null&&hd(Zo,e),Qo!==null&&hd(Qo,e),Jo!==null&&hd(Jo,e),lf.forEach(t),cf.forEach(t),n=0;n<Ho.length;n++)r=Ho[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ho.length&&(n=Ho[0],n.blockedOn===null);)_D(n),n.blockedOn===null&&Ho.shift()}var xu=So.ReactCurrentBatchConfig,hp=!0;function SB(e,t,n,r){var i=On,a=xu.transition;xu.transition=null;try{On=1,Fw(e,t,n,r)}finally{On=i,xu.transition=a}}function NB(e,t,n,r){var i=On,a=xu.transition;xu.transition=null;try{On=4,Fw(e,t,n,r)}finally{On=i,xu.transition=a}}function Fw(e,t,n,r){if(hp){var i=Ny(e,t,n,r);if(i===null)Vv(e,t,r,pp,n),t2(e,r);else if(wB(i,e,t,n,r))r.stopPropagation();else if(t2(e,r),t&4&&-1<bB.indexOf(e)){for(;i!==null;){var a=Jf(i);if(a!==null&&DD(a),a=Ny(e,t,n,r),a===null&&Vv(e,t,r,pp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Vv(e,t,r,null,n)}}var pp=null;function Ny(e,t,n,r){if(pp=null,e=Iw(r),e=Hl(e),e!==null)if(t=jc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=SD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pp=e,null}function LD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dB()){case _w:return 1;case PD:return 4;case fp:case fB:return 16;case AD:return 536870912;default:return 16}default:return 16}}var Go=null,Rw=null,zh=null;function $D(){if(zh)return zh;var e,t=Rw,n=t.length,r,i="value"in Go?Go.value:Go.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return zh=i.slice(e,1<r?1-r:void 0)}function Uh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rh(){return!0}function r2(){return!1}function Pa(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?rh:r2,this.isPropagationStopped=r2,this}return xr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rh)},persist:function(){},isPersistent:rh}),t}var Ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bw=Pa(Ku),Qf=xr({},Ku,{view:0,detail:0}),CB=Pa(Qf),Iv,_v,pd,Kg=xr({},Qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pd&&(pd&&e.type==="mousemove"?(Iv=e.screenX-pd.screenX,_v=e.screenY-pd.screenY):_v=Iv=0,pd=e),Iv)},movementY:function(e){return"movementY"in e?e.movementY:_v}}),i2=Pa(Kg),jB=xr({},Kg,{dataTransfer:0}),PB=Pa(jB),AB=xr({},Qf,{relatedTarget:0}),Lv=Pa(AB),TB=xr({},Ku,{animationName:0,elapsedTime:0,pseudoElement:0}),EB=Pa(TB),DB=xr({},Ku,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MB=Pa(DB),OB=xr({},Ku,{data:0}),a2=Pa(OB),IB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $B(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LB[e])?!!t[e]:!1}function zw(){return $B}var FB=xr({},Qf,{key:function(e){if(e.key){var t=IB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_B[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zw,charCode:function(e){return e.type==="keypress"?Uh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RB=Pa(FB),BB=xr({},Kg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s2=Pa(BB),zB=xr({},Qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zw}),UB=Pa(zB),VB=xr({},Ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),WB=Pa(VB),HB=xr({},Kg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qB=Pa(HB),KB=[9,13,27,32],Uw=fo&&"CompositionEvent"in window,zd=null;fo&&"documentMode"in document&&(zd=document.documentMode);var GB=fo&&"TextEvent"in window&&!zd,FD=fo&&(!Uw||zd&&8<zd&&11>=zd),o2=" ",l2=!1;function RD(e,t){switch(e){case"keyup":return KB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jc=!1;function YB(e,t){switch(e){case"compositionend":return BD(t);case"keypress":return t.which!==32?null:(l2=!0,o2);case"textInput":return e=t.data,e===o2&&l2?null:e;default:return null}}function XB(e,t){if(Jc)return e==="compositionend"||!Uw&&RD(e,t)?(e=$D(),zh=Rw=Go=null,Jc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FD&&t.locale!=="ko"?null:t.data;default:return null}}var ZB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZB[e.type]:t==="textarea"}function zD(e,t,n,r){xD(r),t=gp(t,"onChange"),0<t.length&&(n=new Bw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ud=null,df=null;function QB(e){QD(e,0)}function Gg(e){var t=nu(e);if(dD(t))return e}function JB(e,t){if(e==="change")return t}var UD=!1;if(fo){var $v;if(fo){var Fv="oninput"in document;if(!Fv){var u2=document.createElement("div");u2.setAttribute("oninput","return;"),Fv=typeof u2.oninput=="function"}$v=Fv}else $v=!1;UD=$v&&(!document.documentMode||9<document.documentMode)}function d2(){Ud&&(Ud.detachEvent("onpropertychange",VD),df=Ud=null)}function VD(e){if(e.propertyName==="value"&&Gg(df)){var t=[];zD(t,df,e,Iw(e)),kD(QB,t)}}function ez(e,t,n){e==="focusin"?(d2(),Ud=t,df=n,Ud.attachEvent("onpropertychange",VD)):e==="focusout"&&d2()}function tz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gg(df)}function nz(e,t){if(e==="click")return Gg(t)}function rz(e,t){if(e==="input"||e==="change")return Gg(t)}function iz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cs=typeof Object.is=="function"?Object.is:iz;function ff(e,t){if(cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sy.call(t,i)||!cs(e[i],t[i]))return!1}return!0}function f2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function m2(e,t){var n=f2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f2(n)}}function WD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?WD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function HD(){for(var e=window,t=cp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cp(e.document)}return t}function Vw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function az(e){var t=HD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&WD(n.ownerDocument.documentElement,n)){if(r!==null&&Vw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=m2(n,a);var s=m2(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sz=fo&&"documentMode"in document&&11>=document.documentMode,eu=null,Cy=null,Vd=null,jy=!1;function h2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jy||eu==null||eu!==cp(r)||(r=eu,"selectionStart"in r&&Vw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vd&&ff(Vd,r)||(Vd=r,r=gp(Cy,"onSelect"),0<r.length&&(t=new Bw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=eu)))}function ih(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tu={animationend:ih("Animation","AnimationEnd"),animationiteration:ih("Animation","AnimationIteration"),animationstart:ih("Animation","AnimationStart"),transitionend:ih("Transition","TransitionEnd")},Rv={},qD={};fo&&(qD=document.createElement("div").style,"AnimationEvent"in window||(delete tu.animationend.animation,delete tu.animationiteration.animation,delete tu.animationstart.animation),"TransitionEvent"in window||delete tu.transitionend.transition);function Yg(e){if(Rv[e])return Rv[e];if(!tu[e])return e;var t=tu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qD)return Rv[e]=t[n];return e}var KD=Yg("animationend"),GD=Yg("animationiteration"),YD=Yg("animationstart"),XD=Yg("transitionend"),ZD=new Map,p2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hl(e,t){ZD.set(e,t),Cc(t,[e])}for(var Bv=0;Bv<p2.length;Bv++){var zv=p2[Bv],oz=zv.toLowerCase(),lz=zv[0].toUpperCase()+zv.slice(1);hl(oz,"on"+lz)}hl(KD,"onAnimationEnd");hl(GD,"onAnimationIteration");hl(YD,"onAnimationStart");hl("dblclick","onDoubleClick");hl("focusin","onFocus");hl("focusout","onBlur");hl(XD,"onTransitionEnd");Cu("onMouseEnter",["mouseout","mouseover"]);Cu("onMouseLeave",["mouseout","mouseover"]);Cu("onPointerEnter",["pointerout","pointerover"]);Cu("onPointerLeave",["pointerout","pointerover"]);Cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cz=new Set("cancel close invalid load scroll toggle".split(" ").concat(_d));function g2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oB(r,t,void 0,e),e.currentTarget=null}function QD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;g2(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;g2(i,o,c),a=l}}}if(dp)throw e=wy,dp=!1,wy=null,e}function Qn(e,t){var n=t[Dy];n===void 0&&(n=t[Dy]=new Set);var r=e+"__bubble";n.has(r)||(JD(t,e,2,!1),n.add(r))}function Uv(e,t,n){var r=0;t&&(r|=4),JD(n,e,r,t)}var ah="_reactListening"+Math.random().toString(36).slice(2);function mf(e){if(!e[ah]){e[ah]=!0,sD.forEach(function(n){n!=="selectionchange"&&(cz.has(n)||Uv(n,!1,e),Uv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ah]||(t[ah]=!0,Uv("selectionchange",!1,t))}}function JD(e,t,n,r){switch(LD(t)){case 1:var i=SB;break;case 4:i=NB;break;default:i=Fw}n=i.bind(null,t,n,e),i=void 0,!by||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vv(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Hl(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}kD(function(){var c=a,d=Iw(n),f=[];e:{var h=ZD.get(e);if(h!==void 0){var m=Bw,p=e;switch(e){case"keypress":if(Uh(n)===0)break e;case"keydown":case"keyup":m=RB;break;case"focusin":p="focus",m=Lv;break;case"focusout":p="blur",m=Lv;break;case"beforeblur":case"afterblur":m=Lv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=i2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=UB;break;case KD:case GD:case YD:m=EB;break;case XD:m=WB;break;case"scroll":m=CB;break;case"wheel":m=qB;break;case"copy":case"cut":case"paste":m=MB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=s2}var v=(t&4)!==0,y=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=of(b,g),S!=null&&v.push(hf(b,S,w)))),y)break;b=b.return}0<v.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==xy&&(p=n.relatedTarget||n.fromElement)&&(Hl(p)||p[mo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?Hl(p):null,p!==null&&(y=jc(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(v=i2,S="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=s2,S="onPointerLeave",g="onPointerEnter",b="pointer"),y=m==null?h:nu(m),w=p==null?h:nu(p),h=new v(S,b+"leave",m,n,d),h.target=y,h.relatedTarget=w,S=null,Hl(d)===c&&(v=new v(g,b+"enter",p,n,d),v.target=w,v.relatedTarget=y,S=v),y=S,m&&p)t:{for(v=m,g=p,b=0,w=v;w;w=zc(w))b++;for(w=0,S=g;S;S=zc(S))w++;for(;0<b-w;)v=zc(v),b--;for(;0<w-b;)g=zc(g),w--;for(;b--;){if(v===g||g!==null&&v===g.alternate)break t;v=zc(v),g=zc(g)}v=null}else v=null;m!==null&&v2(f,h,m,v,!1),p!==null&&y!==null&&v2(f,y,p,v,!0)}}e:{if(h=c?nu(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=JB;else if(c2(h))if(UD)C=rz;else{C=tz;var N=ez}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=nz);if(C&&(C=C(e,c))){zD(f,C,n,d);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&my(h,"number",h.value)}switch(N=c?nu(c):window,e){case"focusin":(c2(N)||N.contentEditable==="true")&&(eu=N,Cy=c,Vd=null);break;case"focusout":Vd=Cy=eu=null;break;case"mousedown":jy=!0;break;case"contextmenu":case"mouseup":case"dragend":jy=!1,h2(f,n,d);break;case"selectionchange":if(sz)break;case"keydown":case"keyup":h2(f,n,d)}var P;if(Uw)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Jc?RD(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(FD&&n.locale!=="ko"&&(Jc||D!=="onCompositionStart"?D==="onCompositionEnd"&&Jc&&(P=$D()):(Go=d,Rw="value"in Go?Go.value:Go.textContent,Jc=!0)),N=gp(c,D),0<N.length&&(D=new a2(D,e,null,n,d),f.push({event:D,listeners:N}),P?D.data=P:(P=BD(n),P!==null&&(D.data=P)))),(P=GB?YB(e,n):XB(e,n))&&(c=gp(c,"onBeforeInput"),0<c.length&&(d=new a2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=P))}QD(f,t)})}function hf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=of(e,n),a!=null&&r.unshift(hf(e,a,i)),a=of(e,t),a!=null&&r.push(hf(e,a,i))),e=e.return}return r}function zc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=of(n,a),l!=null&&s.unshift(hf(n,l,o))):i||(l=of(n,a),l!=null&&s.push(hf(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var uz=/\r\n?/g,dz=/\u0000|\uFFFD/g;function x2(e){return(typeof e=="string"?e:""+e).replace(uz,`
`).replace(dz,"")}function sh(e,t,n){if(t=x2(t),x2(e)!==t&&n)throw Error(Ue(425))}function vp(){}var Py=null,Ay=null;function Ty(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ey=typeof setTimeout=="function"?setTimeout:void 0,fz=typeof clearTimeout=="function"?clearTimeout:void 0,y2=typeof Promise=="function"?Promise:void 0,mz=typeof queueMicrotask=="function"?queueMicrotask:typeof y2<"u"?function(e){return y2.resolve(null).then(e).catch(hz)}:Ey;function hz(e){setTimeout(function(){throw e})}function Wv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),uf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uf(t)}function el(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function b2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gu=Math.random().toString(36).slice(2),Ts="__reactFiber$"+Gu,pf="__reactProps$"+Gu,mo="__reactContainer$"+Gu,Dy="__reactEvents$"+Gu,pz="__reactListeners$"+Gu,gz="__reactHandles$"+Gu;function Hl(e){var t=e[Ts];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[Ts]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=b2(e);e!==null;){if(n=e[Ts])return n;e=b2(e)}return t}e=n,n=e.parentNode}return null}function Jf(e){return e=e[Ts]||e[mo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Xg(e){return e[pf]||null}var My=[],ru=-1;function pl(e){return{current:e}}function er(e){0>ru||(e.current=My[ru],My[ru]=null,ru--)}function qn(e,t){ru++,My[ru]=e.current,e.current=t}var cl={},Ti=pl(cl),ta=pl(!1),cc=cl;function ju(e,t){var n=e.type.contextTypes;if(!n)return cl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function na(e){return e=e.childContextTypes,e!=null}function xp(){er(ta),er(Ti)}function w2(e,t,n){if(Ti.current!==cl)throw Error(Ue(168));qn(Ti,t),qn(ta,n)}function eM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ue(108,eB(e)||"Unknown",i));return xr({},n,r)}function yp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cl,cc=Ti.current,qn(Ti,e),qn(ta,ta.current),!0}function k2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ue(169));n?(e=eM(e,t,cc),r.__reactInternalMemoizedMergedChildContext=e,er(ta),er(Ti),qn(Ti,e)):er(ta),qn(ta,n)}var Xs=null,Zg=!1,Hv=!1;function tM(e){Xs===null?Xs=[e]:Xs.push(e)}function vz(e){Zg=!0,tM(e)}function gl(){if(!Hv&&Xs!==null){Hv=!0;var e=0,t=On;try{var n=Xs;for(On=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xs=null,Zg=!1}catch(i){throw Xs!==null&&(Xs=Xs.slice(e+1)),jD(_w,gl),i}finally{On=t,Hv=!1}}return null}var iu=[],au=0,bp=null,wp=0,Fa=[],Ra=0,uc=null,to=1,no="";function $l(e,t){iu[au++]=wp,iu[au++]=bp,bp=e,wp=t}function nM(e,t,n){Fa[Ra++]=to,Fa[Ra++]=no,Fa[Ra++]=uc,uc=e;var r=to;e=no;var i=32-as(r)-1;r&=~(1<<i),n+=1;var a=32-as(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,to=1<<32-as(t)+i|n<<i|r,no=a+e}else to=1<<a|n<<i|r,no=e}function Ww(e){e.return!==null&&($l(e,1),nM(e,1,0))}function Hw(e){for(;e===bp;)bp=iu[--au],iu[au]=null,wp=iu[--au],iu[au]=null;for(;e===uc;)uc=Fa[--Ra],Fa[Ra]=null,no=Fa[--Ra],Fa[Ra]=null,to=Fa[--Ra],Fa[Ra]=null}var ya=null,va=null,sr=!1,ts=null;function rM(e,t){var n=za(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function S2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ya=e,va=el(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ya=e,va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=uc!==null?{id:to,overflow:no}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=za(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ya=e,va=null,!0):!1;default:return!1}}function Oy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Iy(e){if(sr){var t=va;if(t){var n=t;if(!S2(e,t)){if(Oy(e))throw Error(Ue(418));t=el(n.nextSibling);var r=ya;t&&S2(e,t)?rM(r,n):(e.flags=e.flags&-4097|2,sr=!1,ya=e)}}else{if(Oy(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,sr=!1,ya=e}}}function N2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ya=e}function oh(e){if(e!==ya)return!1;if(!sr)return N2(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ty(e.type,e.memoizedProps)),t&&(t=va)){if(Oy(e))throw iM(),Error(Ue(418));for(;t;)rM(e,t),t=el(t.nextSibling)}if(N2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){va=el(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}va=null}}else va=ya?el(e.stateNode.nextSibling):null;return!0}function iM(){for(var e=va;e;)e=el(e.nextSibling)}function Pu(){va=ya=null,sr=!1}function qw(e){ts===null?ts=[e]:ts.push(e)}var xz=So.ReactCurrentBatchConfig;function gd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function lh(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function C2(e){var t=e._init;return t(e._payload)}function aM(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=il(g,b),g.index=0,g.sibling=null,g}function a(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,b,w,S){return b===null||b.tag!==6?(b=Qv(w,g.mode,S),b.return=g,b):(b=i(b,w),b.return=g,b)}function l(g,b,w,S){var C=w.type;return C===Qc?d(g,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Bo&&C2(C)===b.type)?(S=i(b,w.props),S.ref=gd(g,b,w),S.return=g,S):(S=Yh(w.type,w.key,w.props,null,g.mode,S),S.ref=gd(g,b,w),S.return=g,S)}function c(g,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Jv(w,g.mode,S),b.return=g,b):(b=i(b,w.children||[]),b.return=g,b)}function d(g,b,w,S,C){return b===null||b.tag!==7?(b=nc(w,g.mode,S,C),b.return=g,b):(b=i(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Qv(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zm:return w=Yh(b.type,b.key,b.props,null,g.mode,w),w.ref=gd(g,null,b),w.return=g,w;case Zc:return b=Jv(b,g.mode,w),b.return=g,b;case Bo:var S=b._init;return f(g,S(b._payload),w)}if(Od(b)||dd(b))return b=nc(b,g.mode,w,null),b.return=g,b;lh(g,b)}return null}function h(g,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(g,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zm:return w.key===C?l(g,b,w,S):null;case Zc:return w.key===C?c(g,b,w,S):null;case Bo:return C=w._init,h(g,b,C(w._payload),S)}if(Od(w)||dd(w))return C!==null?null:d(g,b,w,S,null);lh(g,w)}return null}function m(g,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,o(b,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zm:return g=g.get(S.key===null?w:S.key)||null,l(b,g,S,C);case Zc:return g=g.get(S.key===null?w:S.key)||null,c(b,g,S,C);case Bo:var N=S._init;return m(g,b,w,N(S._payload),C)}if(Od(S)||dd(S))return g=g.get(w)||null,d(b,g,S,C,null);lh(b,S)}return null}function p(g,b,w,S){for(var C=null,N=null,P=b,D=b=0,_=null;P!==null&&D<w.length;D++){P.index>D?(_=P,P=null):_=P.sibling;var A=h(g,P,w[D],S);if(A===null){P===null&&(P=_);break}e&&P&&A.alternate===null&&t(g,P),b=a(A,b,D),N===null?C=A:N.sibling=A,N=A,P=_}if(D===w.length)return n(g,P),sr&&$l(g,D),C;if(P===null){for(;D<w.length;D++)P=f(g,w[D],S),P!==null&&(b=a(P,b,D),N===null?C=P:N.sibling=P,N=P);return sr&&$l(g,D),C}for(P=r(g,P);D<w.length;D++)_=m(P,g,D,w[D],S),_!==null&&(e&&_.alternate!==null&&P.delete(_.key===null?D:_.key),b=a(_,b,D),N===null?C=_:N.sibling=_,N=_);return e&&P.forEach(function($){return t(g,$)}),sr&&$l(g,D),C}function v(g,b,w,S){var C=dd(w);if(typeof C!="function")throw Error(Ue(150));if(w=C.call(w),w==null)throw Error(Ue(151));for(var N=C=null,P=b,D=b=0,_=null,A=w.next();P!==null&&!A.done;D++,A=w.next()){P.index>D?(_=P,P=null):_=P.sibling;var $=h(g,P,A.value,S);if($===null){P===null&&(P=_);break}e&&P&&$.alternate===null&&t(g,P),b=a($,b,D),N===null?C=$:N.sibling=$,N=$,P=_}if(A.done)return n(g,P),sr&&$l(g,D),C;if(P===null){for(;!A.done;D++,A=w.next())A=f(g,A.value,S),A!==null&&(b=a(A,b,D),N===null?C=A:N.sibling=A,N=A);return sr&&$l(g,D),C}for(P=r(g,P);!A.done;D++,A=w.next())A=m(P,g,D,A.value,S),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?D:A.key),b=a(A,b,D),N===null?C=A:N.sibling=A,N=A);return e&&P.forEach(function(M){return t(g,M)}),sr&&$l(g,D),C}function y(g,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Qc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Zm:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===Qc){if(N.tag===7){n(g,N.sibling),b=i(N,w.props.children),b.return=g,g=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Bo&&C2(C)===N.type){n(g,N.sibling),b=i(N,w.props),b.ref=gd(g,N,w),b.return=g,g=b;break e}n(g,N);break}else t(g,N);N=N.sibling}w.type===Qc?(b=nc(w.props.children,g.mode,S,w.key),b.return=g,g=b):(S=Yh(w.type,w.key,w.props,null,g.mode,S),S.ref=gd(g,b,w),S.return=g,g=S)}return s(g);case Zc:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(g,b.sibling),b=i(b,w.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=Jv(w,g.mode,S),b.return=g,g=b}return s(g);case Bo:return N=w._init,y(g,b,N(w._payload),S)}if(Od(w))return p(g,b,w,S);if(dd(w))return v(g,b,w,S);lh(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(g,b.sibling),b=i(b,w),b.return=g,g=b):(n(g,b),b=Qv(w,g.mode,S),b.return=g,g=b),s(g)):n(g,b)}return y}var Au=aM(!0),sM=aM(!1),kp=pl(null),Sp=null,su=null,Kw=null;function Gw(){Kw=su=Sp=null}function Yw(e){var t=kp.current;er(kp),e._currentValue=t}function _y(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yu(e,t){Sp=e,Kw=su=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ji=!0),e.firstContext=null)}function Wa(e){var t=e._currentValue;if(Kw!==e)if(e={context:e,memoizedValue:t,next:null},su===null){if(Sp===null)throw Error(Ue(308));su=e,Sp.dependencies={lanes:0,firstContext:e}}else su=su.next=e;return t}var ql=null;function Xw(e){ql===null?ql=[e]:ql.push(e)}function oM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Xw(t)):(n.next=i.next,i.next=n),t.interleaved=n,ho(e,r)}function ho(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zo=!1;function Zw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,wn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ho(e,n)}return i=r.interleaved,i===null?(t.next=t,Xw(r)):(t.next=i.next,i.next=t),r.interleaved=t,ho(e,n)}function Vh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lw(e,n)}}function j2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Np(e,t,n,r){var i=e.updateQueue;zo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(h=t,m=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=xr({},f,h);break e;case 2:zo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);fc|=s,e.lanes=s,e.memoizedState=f}}function P2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var em={},Ms=pl(em),gf=pl(em),vf=pl(em);function Kl(e){if(e===em)throw Error(Ue(174));return e}function Qw(e,t){switch(qn(vf,t),qn(gf,e),qn(Ms,em),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:py(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=py(t,e)}er(Ms),qn(Ms,t)}function Tu(){er(Ms),er(gf),er(vf)}function cM(e){Kl(vf.current);var t=Kl(Ms.current),n=py(t,e.type);t!==n&&(qn(gf,e),qn(Ms,n))}function Jw(e){gf.current===e&&(er(Ms),er(gf))}var hr=pl(0);function Cp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qv=[];function e1(){for(var e=0;e<qv.length;e++)qv[e]._workInProgressVersionPrimary=null;qv.length=0}var Wh=So.ReactCurrentDispatcher,Kv=So.ReactCurrentBatchConfig,dc=0,vr=null,Hr=null,ii=null,jp=!1,Wd=!1,xf=0,yz=0;function bi(){throw Error(Ue(321))}function t1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cs(e[n],t[n]))return!1;return!0}function n1(e,t,n,r,i,a){if(dc=a,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wh.current=e===null||e.memoizedState===null?Sz:Nz,e=n(r,i),Wd){a=0;do{if(Wd=!1,xf=0,25<=a)throw Error(Ue(301));a+=1,ii=Hr=null,t.updateQueue=null,Wh.current=Cz,e=n(r,i)}while(Wd)}if(Wh.current=Pp,t=Hr!==null&&Hr.next!==null,dc=0,ii=Hr=vr=null,jp=!1,t)throw Error(Ue(300));return e}function r1(){var e=xf!==0;return xf=0,e}function js(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?vr.memoizedState=ii=e:ii=ii.next=e,ii}function Ha(){if(Hr===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=Hr.next;var t=ii===null?vr.memoizedState:ii.next;if(t!==null)ii=t,Hr=e;else{if(e===null)throw Error(Ue(310));Hr=e,e={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},ii===null?vr.memoizedState=ii=e:ii=ii.next=e}return ii}function yf(e,t){return typeof t=="function"?t(e):t}function Gv(e){var t=Ha(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=Hr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((dc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,vr.lanes|=d,fc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,cs(r,t.memoizedState)||(Ji=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,vr.lanes|=a,fc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yv(e){var t=Ha(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);cs(a,t.memoizedState)||(Ji=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function uM(){}function dM(e,t){var n=vr,r=Ha(),i=t(),a=!cs(r.memoizedState,i);if(a&&(r.memoizedState=i,Ji=!0),r=r.queue,i1(hM.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ii!==null&&ii.memoizedState.tag&1){if(n.flags|=2048,bf(9,mM.bind(null,n,r,i,t),void 0,null),ai===null)throw Error(Ue(349));dc&30||fM(n,t,i)}return i}function fM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mM(e,t,n,r){t.value=n,t.getSnapshot=r,pM(t)&&gM(e)}function hM(e,t,n){return n(function(){pM(t)&&gM(e)})}function pM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cs(e,n)}catch{return!0}}function gM(e){var t=ho(e,1);t!==null&&ss(t,e,1,-1)}function A2(e){var t=js();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:e},t.queue=e,e=e.dispatch=kz.bind(null,vr,e),[t.memoizedState,e]}function bf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vM(){return Ha().memoizedState}function Hh(e,t,n,r){var i=js();vr.flags|=e,i.memoizedState=bf(1|t,n,void 0,r===void 0?null:r)}function Qg(e,t,n,r){var i=Ha();r=r===void 0?null:r;var a=void 0;if(Hr!==null){var s=Hr.memoizedState;if(a=s.destroy,r!==null&&t1(r,s.deps)){i.memoizedState=bf(t,n,a,r);return}}vr.flags|=e,i.memoizedState=bf(1|t,n,a,r)}function T2(e,t){return Hh(8390656,8,e,t)}function i1(e,t){return Qg(2048,8,e,t)}function xM(e,t){return Qg(4,2,e,t)}function yM(e,t){return Qg(4,4,e,t)}function bM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wM(e,t,n){return n=n!=null?n.concat([e]):null,Qg(4,4,bM.bind(null,t,e),n)}function a1(){}function kM(e,t){var n=Ha();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&t1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function SM(e,t){var n=Ha();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&t1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function NM(e,t,n){return dc&21?(cs(n,t)||(n=TD(),vr.lanes|=n,fc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ji=!0),e.memoizedState=n)}function bz(e,t){var n=On;On=n!==0&&4>n?n:4,e(!0);var r=Kv.transition;Kv.transition={};try{e(!1),t()}finally{On=n,Kv.transition=r}}function CM(){return Ha().memoizedState}function wz(e,t,n){var r=rl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jM(e))PM(t,n);else if(n=oM(e,t,n,r),n!==null){var i=Bi();ss(n,e,r,i),AM(n,t,r)}}function kz(e,t,n){var r=rl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jM(e))PM(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,cs(o,s)){var l=t.interleaved;l===null?(i.next=i,Xw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=oM(e,t,i,r),n!==null&&(i=Bi(),ss(n,e,r,i),AM(n,t,r))}}function jM(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function PM(e,t){Wd=jp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function AM(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lw(e,n)}}var Pp={readContext:Wa,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useInsertionEffect:bi,useLayoutEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useMutableSource:bi,useSyncExternalStore:bi,useId:bi,unstable_isNewReconciler:!1},Sz={readContext:Wa,useCallback:function(e,t){return js().memoizedState=[e,t===void 0?null:t],e},useContext:Wa,useEffect:T2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hh(4194308,4,bM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hh(4,2,e,t)},useMemo:function(e,t){var n=js();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=js();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wz.bind(null,vr,e),[r.memoizedState,e]},useRef:function(e){var t=js();return e={current:e},t.memoizedState=e},useState:A2,useDebugValue:a1,useDeferredValue:function(e){return js().memoizedState=e},useTransition:function(){var e=A2(!1),t=e[0];return e=bz.bind(null,e[1]),js().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vr,i=js();if(sr){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),ai===null)throw Error(Ue(349));dc&30||fM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,T2(hM.bind(null,r,a,e),[e]),r.flags|=2048,bf(9,mM.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=js(),t=ai.identifierPrefix;if(sr){var n=no,r=to;n=(r&~(1<<32-as(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nz={readContext:Wa,useCallback:kM,useContext:Wa,useEffect:i1,useImperativeHandle:wM,useInsertionEffect:xM,useLayoutEffect:yM,useMemo:SM,useReducer:Gv,useRef:vM,useState:function(){return Gv(yf)},useDebugValue:a1,useDeferredValue:function(e){var t=Ha();return NM(t,Hr.memoizedState,e)},useTransition:function(){var e=Gv(yf)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:uM,useSyncExternalStore:dM,useId:CM,unstable_isNewReconciler:!1},Cz={readContext:Wa,useCallback:kM,useContext:Wa,useEffect:i1,useImperativeHandle:wM,useInsertionEffect:xM,useLayoutEffect:yM,useMemo:SM,useReducer:Yv,useRef:vM,useState:function(){return Yv(yf)},useDebugValue:a1,useDeferredValue:function(e){var t=Ha();return Hr===null?t.memoizedState=e:NM(t,Hr.memoizedState,e)},useTransition:function(){var e=Yv(yf)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:uM,useSyncExternalStore:dM,useId:CM,unstable_isNewReconciler:!1};function Ja(e,t){if(e&&e.defaultProps){t=xr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ly(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jg={isMounted:function(e){return(e=e._reactInternals)?jc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bi(),i=rl(e),a=so(r,i);a.payload=t,n!=null&&(a.callback=n),t=tl(e,a,i),t!==null&&(ss(t,e,i,r),Vh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bi(),i=rl(e),a=so(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=tl(e,a,i),t!==null&&(ss(t,e,i,r),Vh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bi(),r=rl(e),i=so(n,r);i.tag=2,t!=null&&(i.callback=t),t=tl(e,i,r),t!==null&&(ss(t,e,r,n),Vh(t,e,r))}};function E2(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!ff(n,r)||!ff(i,a):!0}function TM(e,t,n){var r=!1,i=cl,a=t.contextType;return typeof a=="object"&&a!==null?a=Wa(a):(i=na(t)?cc:Ti.current,r=t.contextTypes,a=(r=r!=null)?ju(e,i):cl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function D2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Jg.enqueueReplaceState(t,t.state,null)}function $y(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Zw(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Wa(a):(a=na(t)?cc:Ti.current,i.context=ju(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ly(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Jg.enqueueReplaceState(i,i.state,null),Np(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Eu(e,t){try{var n="",r=t;do n+=JR(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Xv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jz=typeof WeakMap=="function"?WeakMap:Map;function EM(e,t,n){n=so(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Tp||(Tp=!0,Gy=r),Fy(e,t)},n}function DM(e,t,n){n=so(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fy(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Fy(e,t),typeof r!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function M2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Bz.bind(null,e,t,n),t.then(e,e))}function O2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function I2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=so(-1,1),t.tag=2,tl(n,t,1))),n.lanes|=1),e)}var Pz=So.ReactCurrentOwner,Ji=!1;function $i(e,t,n,r){t.child=e===null?sM(t,null,n,r):Au(t,e.child,n,r)}function _2(e,t,n,r,i){n=n.render;var a=t.ref;return yu(t,i),r=n1(e,t,n,r,a,i),n=r1(),e!==null&&!Ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,po(e,t,i)):(sr&&n&&Ww(t),t.flags|=1,$i(e,t,r,i),t.child)}function L2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!m1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,MM(e,t,a,r,i)):(e=Yh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:ff,n(s,r)&&e.ref===t.ref)return po(e,t,i)}return t.flags|=1,e=il(a,r),e.ref=t.ref,e.return=t,t.child=e}function MM(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(ff(a,r)&&e.ref===t.ref)if(Ji=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ji=!0);else return t.lanes=e.lanes,po(e,t,i)}return Ry(e,t,n,r,i)}function OM(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(lu,ha),ha|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qn(lu,ha),ha|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,qn(lu,ha),ha|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,qn(lu,ha),ha|=r;return $i(e,t,i,n),t.child}function IM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ry(e,t,n,r,i){var a=na(n)?cc:Ti.current;return a=ju(t,a),yu(t,i),n=n1(e,t,n,r,a,i),r=r1(),e!==null&&!Ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,po(e,t,i)):(sr&&r&&Ww(t),t.flags|=1,$i(e,t,n,i),t.child)}function $2(e,t,n,r,i){if(na(n)){var a=!0;yp(t)}else a=!1;if(yu(t,i),t.stateNode===null)qh(e,t),TM(t,n,r),$y(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wa(c):(c=na(n)?cc:Ti.current,c=ju(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&D2(t,s,r,c),zo=!1;var h=t.memoizedState;s.state=h,Np(t,r,s,i),l=t.memoizedState,o!==r||h!==l||ta.current||zo?(typeof d=="function"&&(Ly(t,n,d,r),l=t.memoizedState),(o=zo||E2(t,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,lM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ja(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wa(l):(l=na(n)?cc:Ti.current,l=ju(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&D2(t,s,r,l),zo=!1,h=t.memoizedState,s.state=h,Np(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||ta.current||zo?(typeof m=="function"&&(Ly(t,n,m,r),p=t.memoizedState),(c=zo||E2(t,n,c,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return By(e,t,n,r,a,i)}function By(e,t,n,r,i,a){IM(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&k2(t,n,!1),po(e,t,a);r=t.stateNode,Pz.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Au(t,e.child,null,a),t.child=Au(t,null,o,a)):$i(e,t,o,a),t.memoizedState=r.state,i&&k2(t,n,!0),t.child}function _M(e){var t=e.stateNode;t.pendingContext?w2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&w2(e,t.context,!1),Qw(e,t.containerInfo)}function F2(e,t,n,r,i){return Pu(),qw(i),t.flags|=256,$i(e,t,n,r),t.child}var zy={dehydrated:null,treeContext:null,retryLane:0};function Uy(e){return{baseLanes:e,cachePool:null,transitions:null}}function LM(e,t,n){var r=t.pendingProps,i=hr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qn(hr,i&1),e===null)return Iy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=n0(s,r,0,null),e=nc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Uy(n),t.memoizedState=zy,e):s1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Az(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=il(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=il(o,a):(a=nc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Uy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=zy,r}return a=e.child,e=a.sibling,r=il(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function s1(e,t){return t=n0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ch(e,t,n,r){return r!==null&&qw(r),Au(t,e.child,null,n),e=s1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Az(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Xv(Error(Ue(422))),ch(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=n0({mode:"visible",children:r.children},i,0,null),a=nc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Au(t,e.child,null,s),t.child.memoizedState=Uy(s),t.memoizedState=zy,a);if(!(t.mode&1))return ch(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ue(419)),r=Xv(a,r,void 0),ch(e,t,s,r)}if(o=(s&e.childLanes)!==0,Ji||o){if(r=ai,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ho(e,i),ss(r,e,i,-1))}return f1(),r=Xv(Error(Ue(421))),ch(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,va=el(i.nextSibling),ya=t,sr=!0,ts=null,e!==null&&(Fa[Ra++]=to,Fa[Ra++]=no,Fa[Ra++]=uc,to=e.id,no=e.overflow,uc=t),t=s1(t,r.children),t.flags|=4096,t)}function R2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_y(e.return,t,n)}function Zv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function $M(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if($i(e,t,r.children,n),r=hr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&R2(e,n,t);else if(e.tag===19)R2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qn(hr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Cp(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Cp(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zv(t,!0,n,null,a);break;case"together":Zv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function po(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=il(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=il(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tz(e,t,n){switch(t.tag){case 3:_M(t),Pu();break;case 5:cM(t);break;case 1:na(t.type)&&yp(t);break;case 4:Qw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;qn(kp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qn(hr,hr.current&1),t.flags|=128,null):n&t.child.childLanes?LM(e,t,n):(qn(hr,hr.current&1),e=po(e,t,n),e!==null?e.sibling:null);qn(hr,hr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $M(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qn(hr,hr.current),r)break;return null;case 22:case 23:return t.lanes=0,OM(e,t,n)}return po(e,t,n)}var FM,Vy,RM,BM;FM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vy=function(){};RM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Kl(Ms.current);var a=null;switch(n){case"input":i=dy(e,i),r=dy(e,r),a=[];break;case"select":i=xr({},i,{value:void 0}),r=xr({},r,{value:void 0}),a=[];break;case"textarea":i=hy(e,i),r=hy(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vp)}gy(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(af.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(af.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Qn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};BM=function(e,t,n,r){n!==r&&(t.flags|=4)};function vd(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ez(e,t,n){var r=t.pendingProps;switch(Hw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(t),null;case 1:return na(t.type)&&xp(),wi(t),null;case 3:return r=t.stateNode,Tu(),er(ta),er(Ti),e1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ts!==null&&(Zy(ts),ts=null))),Vy(e,t),wi(t),null;case 5:Jw(t);var i=Kl(vf.current);if(n=t.type,e!==null&&t.stateNode!=null)RM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ue(166));return wi(t),null}if(e=Kl(Ms.current),oh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ts]=t,r[pf]=a,e=(t.mode&1)!==0,n){case"dialog":Qn("cancel",r),Qn("close",r);break;case"iframe":case"object":case"embed":Qn("load",r);break;case"video":case"audio":for(i=0;i<_d.length;i++)Qn(_d[i],r);break;case"source":Qn("error",r);break;case"img":case"image":case"link":Qn("error",r),Qn("load",r);break;case"details":Qn("toggle",r);break;case"input":GN(r,a),Qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qn("invalid",r);break;case"textarea":XN(r,a),Qn("invalid",r)}gy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&sh(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&sh(r.textContent,o,e),i=["children",""+o]):af.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Qn("scroll",r)}switch(n){case"input":Qm(r),YN(r,a,!0);break;case"textarea":Qm(r),ZN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=vp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ts]=t,e[pf]=r,FM(e,t,!1,!1),t.stateNode=e;e:{switch(s=vy(n,r),n){case"dialog":Qn("cancel",e),Qn("close",e),i=r;break;case"iframe":case"object":case"embed":Qn("load",e),i=r;break;case"video":case"audio":for(i=0;i<_d.length;i++)Qn(_d[i],e);i=r;break;case"source":Qn("error",e),i=r;break;case"img":case"image":case"link":Qn("error",e),Qn("load",e),i=r;break;case"details":Qn("toggle",e),i=r;break;case"input":GN(e,r),i=dy(e,r),Qn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=xr({},r,{value:void 0}),Qn("invalid",e);break;case"textarea":XN(e,r),i=hy(e,r),Qn("invalid",e);break;default:i=r}gy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?vD(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pD(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sf(e,l):typeof l=="number"&&sf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(af.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Qn("scroll",e):l!=null&&Ew(e,a,l,s))}switch(n){case"input":Qm(e),YN(e,r,!1);break;case"textarea":Qm(e),ZN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ll(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?pu(e,!!r.multiple,a,!1):r.defaultValue!=null&&pu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=vp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wi(t),null;case 6:if(e&&t.stateNode!=null)BM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=Kl(vf.current),Kl(Ms.current),oh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ts]=t,(a=r.nodeValue!==n)&&(e=ya,e!==null))switch(e.tag){case 3:sh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ts]=t,t.stateNode=r}return wi(t),null;case 13:if(er(hr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&va!==null&&t.mode&1&&!(t.flags&128))iM(),Pu(),t.flags|=98560,a=!1;else if(a=oh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[Ts]=t}else Pu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wi(t),a=!1}else ts!==null&&(Zy(ts),ts=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||hr.current&1?Kr===0&&(Kr=3):f1())),t.updateQueue!==null&&(t.flags|=4),wi(t),null);case 4:return Tu(),Vy(e,t),e===null&&mf(t.stateNode.containerInfo),wi(t),null;case 10:return Yw(t.type._context),wi(t),null;case 17:return na(t.type)&&xp(),wi(t),null;case 19:if(er(hr),a=t.memoizedState,a===null)return wi(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)vd(a,!1);else{if(Kr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Cp(e),s!==null){for(t.flags|=128,vd(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qn(hr,hr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Er()>Du&&(t.flags|=128,r=!0,vd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Cp(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!sr)return wi(t),null}else 2*Er()-a.renderingStartTime>Du&&n!==1073741824&&(t.flags|=128,r=!0,vd(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Er(),t.sibling=null,n=hr.current,qn(hr,r?n&1|2:n&1),t):(wi(t),null);case 22:case 23:return d1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ha&1073741824&&(wi(t),t.subtreeFlags&6&&(t.flags|=8192)):wi(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function Dz(e,t){switch(Hw(t),t.tag){case 1:return na(t.type)&&xp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tu(),er(ta),er(Ti),e1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jw(t),null;case 13:if(er(hr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Pu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return er(hr),null;case 4:return Tu(),null;case 10:return Yw(t.type._context),null;case 22:case 23:return d1(),null;case 24:return null;default:return null}}var uh=!1,Ni=!1,Mz=typeof WeakSet=="function"?WeakSet:Set,ut=null;function ou(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cr(e,t,r)}else n.current=null}function Wy(e,t,n){try{n()}catch(r){Cr(e,t,r)}}var B2=!1;function Oz(e,t){if(Py=hp,e=HD(),Vw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ay={focusedElem:e,selectionRange:n},hp=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){t=ut;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,y=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ja(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(S){Cr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}return p=B2,B2=!1,p}function Hd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Wy(t,n,a)}i=i.next}while(i!==r)}}function e0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zM(e){var t=e.alternate;t!==null&&(e.alternate=null,zM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ts],delete t[pf],delete t[Dy],delete t[pz],delete t[gz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function UM(e){return e.tag===5||e.tag===3||e.tag===4}function z2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||UM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vp));else if(r!==4&&(e=e.child,e!==null))for(qy(e,t,n),e=e.sibling;e!==null;)qy(e,t,n),e=e.sibling}function Ky(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ky(e,t,n),e=e.sibling;e!==null;)Ky(e,t,n),e=e.sibling}var fi=null,es=!1;function Lo(e,t,n){for(n=n.child;n!==null;)VM(e,t,n),n=n.sibling}function VM(e,t,n){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(qg,n)}catch{}switch(n.tag){case 5:Ni||ou(n,t);case 6:var r=fi,i=es;fi=null,Lo(e,t,n),fi=r,es=i,fi!==null&&(es?(e=fi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fi.removeChild(n.stateNode));break;case 18:fi!==null&&(es?(e=fi,n=n.stateNode,e.nodeType===8?Wv(e.parentNode,n):e.nodeType===1&&Wv(e,n),uf(e)):Wv(fi,n.stateNode));break;case 4:r=fi,i=es,fi=n.stateNode.containerInfo,es=!0,Lo(e,t,n),fi=r,es=i;break;case 0:case 11:case 14:case 15:if(!Ni&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Wy(n,t,s),i=i.next}while(i!==r)}Lo(e,t,n);break;case 1:if(!Ni&&(ou(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cr(n,t,o)}Lo(e,t,n);break;case 21:Lo(e,t,n);break;case 22:n.mode&1?(Ni=(r=Ni)||n.memoizedState!==null,Lo(e,t,n),Ni=r):Lo(e,t,n);break;default:Lo(e,t,n)}}function U2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mz),t.forEach(function(r){var i=Uz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:fi=o.stateNode,es=!1;break e;case 3:fi=o.stateNode.containerInfo,es=!0;break e;case 4:fi=o.stateNode.containerInfo,es=!0;break e}o=o.return}if(fi===null)throw Error(Ue(160));VM(a,s,i),fi=null,es=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Cr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)WM(t,e),t=t.sibling}function WM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qa(t,e),ks(e),r&4){try{Hd(3,e,e.return),e0(3,e)}catch(v){Cr(e,e.return,v)}try{Hd(5,e,e.return)}catch(v){Cr(e,e.return,v)}}break;case 1:Qa(t,e),ks(e),r&512&&n!==null&&ou(n,n.return);break;case 5:if(Qa(t,e),ks(e),r&512&&n!==null&&ou(n,n.return),e.flags&32){var i=e.stateNode;try{sf(i,"")}catch(v){Cr(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&fD(i,a),vy(o,s);var c=vy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?vD(i,f):d==="dangerouslySetInnerHTML"?pD(i,f):d==="children"?sf(i,f):Ew(i,d,f,c)}switch(o){case"input":fy(i,a);break;case"textarea":mD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?pu(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?pu(i,!!a.multiple,a.defaultValue,!0):pu(i,!!a.multiple,a.multiple?[]:"",!1))}i[pf]=a}catch(v){Cr(e,e.return,v)}}break;case 6:if(Qa(t,e),ks(e),r&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Cr(e,e.return,v)}}break;case 3:if(Qa(t,e),ks(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uf(t.containerInfo)}catch(v){Cr(e,e.return,v)}break;case 4:Qa(t,e),ks(e);break;case 13:Qa(t,e),ks(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(c1=Er())),r&4&&U2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ni=(c=Ni)||d,Qa(t,e),Ni=c):Qa(t,e),ks(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ut=e,d=e.child;d!==null;){for(f=ut=d;ut!==null;){switch(h=ut,m=h.child,h.tag){case 0:case 11:case 14:case 15:Hd(4,h,h.return);break;case 1:ou(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){Cr(r,n,v)}}break;case 5:ou(h,h.return);break;case 22:if(h.memoizedState!==null){W2(f);continue}}m!==null?(m.return=h,ut=m):W2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=gD("display",s))}catch(v){Cr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Cr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qa(t,e),ks(e),r&4&&U2(e);break;case 21:break;default:Qa(t,e),ks(e)}}function ks(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(UM(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sf(i,""),r.flags&=-33);var a=z2(e);Ky(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=z2(e);qy(e,o,s);break;default:throw Error(Ue(161))}}catch(l){Cr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Iz(e,t,n){ut=e,HM(e)}function HM(e,t,n){for(var r=(e.mode&1)!==0;ut!==null;){var i=ut,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||uh;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ni;o=uh;var c=Ni;if(uh=s,(Ni=l)&&!c)for(ut=i;ut!==null;)s=ut,l=s.child,s.tag===22&&s.memoizedState!==null?H2(i):l!==null?(l.return=s,ut=l):H2(i);for(;a!==null;)ut=a,HM(a),a=a.sibling;ut=i,uh=o,Ni=c}V2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ut=a):V2(e)}}function V2(e){for(;ut!==null;){var t=ut;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ni||e0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ni)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ja(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&P2(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}P2(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&uf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Ni||t.flags&512&&Hy(t)}catch(h){Cr(t,t.return,h)}}if(t===e){ut=null;break}if(n=t.sibling,n!==null){n.return=t.return,ut=n;break}ut=t.return}}function W2(e){for(;ut!==null;){var t=ut;if(t===e){ut=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ut=n;break}ut=t.return}}function H2(e){for(;ut!==null;){var t=ut;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{e0(4,t)}catch(l){Cr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Cr(t,i,l)}}var a=t.return;try{Hy(t)}catch(l){Cr(t,a,l)}break;case 5:var s=t.return;try{Hy(t)}catch(l){Cr(t,s,l)}}}catch(l){Cr(t,t.return,l)}if(t===e){ut=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ut=o;break}ut=t.return}}var _z=Math.ceil,Ap=So.ReactCurrentDispatcher,o1=So.ReactCurrentOwner,Va=So.ReactCurrentBatchConfig,wn=0,ai=null,$r=null,pi=0,ha=0,lu=pl(0),Kr=0,wf=null,fc=0,t0=0,l1=0,qd=null,Qi=null,c1=0,Du=1/0,Ys=null,Tp=!1,Gy=null,nl=null,dh=!1,Yo=null,Ep=0,Kd=0,Yy=null,Kh=-1,Gh=0;function Bi(){return wn&6?Er():Kh!==-1?Kh:Kh=Er()}function rl(e){return e.mode&1?wn&2&&pi!==0?pi&-pi:xz.transition!==null?(Gh===0&&(Gh=TD()),Gh):(e=On,e!==0||(e=window.event,e=e===void 0?16:LD(e.type)),e):1}function ss(e,t,n,r){if(50<Kd)throw Kd=0,Yy=null,Error(Ue(185));Zf(e,n,r),(!(wn&2)||e!==ai)&&(e===ai&&(!(wn&2)&&(t0|=n),Kr===4&&qo(e,pi)),ra(e,r),n===1&&wn===0&&!(t.mode&1)&&(Du=Er()+500,Zg&&gl()))}function ra(e,t){var n=e.callbackNode;xB(e,t);var r=mp(e,e===ai?pi:0);if(r===0)n!==null&&e2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&e2(n),t===1)e.tag===0?vz(q2.bind(null,e)):tM(q2.bind(null,e)),mz(function(){!(wn&6)&&gl()}),n=null;else{switch(ED(r)){case 1:n=_w;break;case 4:n=PD;break;case 16:n=fp;break;case 536870912:n=AD;break;default:n=fp}n=JM(n,qM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qM(e,t){if(Kh=-1,Gh=0,wn&6)throw Error(Ue(327));var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=mp(e,e===ai?pi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dp(e,r);else{t=r;var i=wn;wn|=2;var a=GM();(ai!==e||pi!==t)&&(Ys=null,Du=Er()+500,tc(e,t));do try{Fz();break}catch(o){KM(e,o)}while(!0);Gw(),Ap.current=a,wn=i,$r!==null?t=0:(ai=null,pi=0,t=Kr)}if(t!==0){if(t===2&&(i=ky(e),i!==0&&(r=i,t=Xy(e,i))),t===1)throw n=wf,tc(e,0),qo(e,r),ra(e,Er()),n;if(t===6)qo(e,r);else{if(i=e.current.alternate,!(r&30)&&!Lz(i)&&(t=Dp(e,r),t===2&&(a=ky(e),a!==0&&(r=a,t=Xy(e,a))),t===1))throw n=wf,tc(e,0),qo(e,r),ra(e,Er()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ue(345));case 2:Fl(e,Qi,Ys);break;case 3:if(qo(e,r),(r&130023424)===r&&(t=c1+500-Er(),10<t)){if(mp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Bi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ey(Fl.bind(null,e,Qi,Ys),t);break}Fl(e,Qi,Ys);break;case 4:if(qo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-as(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Er()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_z(r/1960))-r,10<r){e.timeoutHandle=Ey(Fl.bind(null,e,Qi,Ys),r);break}Fl(e,Qi,Ys);break;case 5:Fl(e,Qi,Ys);break;default:throw Error(Ue(329))}}}return ra(e,Er()),e.callbackNode===n?qM.bind(null,e):null}function Xy(e,t){var n=qd;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),e=Dp(e,t),e!==2&&(t=Qi,Qi=n,t!==null&&Zy(t)),e}function Zy(e){Qi===null?Qi=e:Qi.push.apply(Qi,e)}function Lz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!cs(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qo(e,t){for(t&=~l1,t&=~t0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-as(t),r=1<<n;e[n]=-1,t&=~r}}function q2(e){if(wn&6)throw Error(Ue(327));bu();var t=mp(e,0);if(!(t&1))return ra(e,Er()),null;var n=Dp(e,t);if(e.tag!==0&&n===2){var r=ky(e);r!==0&&(t=r,n=Xy(e,r))}if(n===1)throw n=wf,tc(e,0),qo(e,t),ra(e,Er()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fl(e,Qi,Ys),ra(e,Er()),null}function u1(e,t){var n=wn;wn|=1;try{return e(t)}finally{wn=n,wn===0&&(Du=Er()+500,Zg&&gl())}}function mc(e){Yo!==null&&Yo.tag===0&&!(wn&6)&&bu();var t=wn;wn|=1;var n=Va.transition,r=On;try{if(Va.transition=null,On=1,e)return e()}finally{On=r,Va.transition=n,wn=t,!(wn&6)&&gl()}}function d1(){ha=lu.current,er(lu)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fz(n)),$r!==null)for(n=$r.return;n!==null;){var r=n;switch(Hw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xp();break;case 3:Tu(),er(ta),er(Ti),e1();break;case 5:Jw(r);break;case 4:Tu();break;case 13:er(hr);break;case 19:er(hr);break;case 10:Yw(r.type._context);break;case 22:case 23:d1()}n=n.return}if(ai=e,$r=e=il(e.current,null),pi=ha=t,Kr=0,wf=null,l1=t0=fc=0,Qi=qd=null,ql!==null){for(t=0;t<ql.length;t++)if(n=ql[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}ql=null}return e}function KM(e,t){do{var n=$r;try{if(Gw(),Wh.current=Pp,jp){for(var r=vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jp=!1}if(dc=0,ii=Hr=vr=null,Wd=!1,xf=0,o1.current=null,n===null||n.return===null){Kr=1,wf=t,$r=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=pi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=O2(s);if(m!==null){m.flags&=-257,I2(m,s,o,a,t),m.mode&1&&M2(a,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}else{if(!(t&1)){M2(a,c,t),f1();break e}l=Error(Ue(426))}}else if(sr&&o.mode&1){var y=O2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),I2(y,s,o,a,t),qw(Eu(l,o));break e}}a=l=Eu(l,o),Kr!==4&&(Kr=2),qd===null?qd=[a]:qd.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=EM(a,l,t);j2(a,g);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(nl===null||!nl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=DM(a,o,t);j2(a,S);break e}}a=a.return}while(a!==null)}XM(n)}catch(C){t=C,$r===n&&n!==null&&($r=n=n.return);continue}break}while(!0)}function GM(){var e=Ap.current;return Ap.current=Pp,e===null?Pp:e}function f1(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),ai===null||!(fc&268435455)&&!(t0&268435455)||qo(ai,pi)}function Dp(e,t){var n=wn;wn|=2;var r=GM();(ai!==e||pi!==t)&&(Ys=null,tc(e,t));do try{$z();break}catch(i){KM(e,i)}while(!0);if(Gw(),wn=n,Ap.current=r,$r!==null)throw Error(Ue(261));return ai=null,pi=0,Kr}function $z(){for(;$r!==null;)YM($r)}function Fz(){for(;$r!==null&&!cB();)YM($r)}function YM(e){var t=QM(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?XM(e):$r=t,o1.current=null}function XM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dz(n,t),n!==null){n.flags&=32767,$r=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kr=6,$r=null;return}}else if(n=Ez(n,t,ha),n!==null){$r=n;return}if(t=t.sibling,t!==null){$r=t;return}$r=t=e}while(t!==null);Kr===0&&(Kr=5)}function Fl(e,t,n){var r=On,i=Va.transition;try{Va.transition=null,On=1,Rz(e,t,n,r)}finally{Va.transition=i,On=r}return null}function Rz(e,t,n,r){do bu();while(Yo!==null);if(wn&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(yB(e,a),e===ai&&($r=ai=null,pi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dh||(dh=!0,JM(fp,function(){return bu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Va.transition,Va.transition=null;var s=On;On=1;var o=wn;wn|=4,o1.current=null,Oz(e,n),WM(n,e),az(Ay),hp=!!Py,Ay=Py=null,e.current=n,Iz(n),uB(),wn=o,On=s,Va.transition=a}else e.current=n;if(dh&&(dh=!1,Yo=e,Ep=i),a=e.pendingLanes,a===0&&(nl=null),mB(n.stateNode),ra(e,Er()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tp)throw Tp=!1,e=Gy,Gy=null,e;return Ep&1&&e.tag!==0&&bu(),a=e.pendingLanes,a&1?e===Yy?Kd++:(Kd=0,Yy=e):Kd=0,gl(),null}function bu(){if(Yo!==null){var e=ED(Ep),t=Va.transition,n=On;try{if(Va.transition=null,On=16>e?16:e,Yo===null)var r=!1;else{if(e=Yo,Yo=null,Ep=0,wn&6)throw Error(Ue(331));var i=wn;for(wn|=4,ut=e.current;ut!==null;){var a=ut,s=a.child;if(ut.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ut=c;ut!==null;){var d=ut;switch(d.tag){case 0:case 11:case 15:Hd(8,d,a)}var f=d.child;if(f!==null)f.return=d,ut=f;else for(;ut!==null;){d=ut;var h=d.sibling,m=d.return;if(zM(d),d===c){ut=null;break}if(h!==null){h.return=m,ut=h;break}ut=m}}}var p=a.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}ut=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ut=s;else e:for(;ut!==null;){if(a=ut,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Hd(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,ut=g;break e}ut=a.return}}var b=e.current;for(ut=b;ut!==null;){s=ut;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ut=w;else e:for(s=b;ut!==null;){if(o=ut,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:e0(9,o)}}catch(C){Cr(o,o.return,C)}if(o===s){ut=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ut=S;break e}ut=o.return}}if(wn=i,gl(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(qg,e)}catch{}r=!0}return r}finally{On=n,Va.transition=t}}return!1}function K2(e,t,n){t=Eu(n,t),t=EM(e,t,1),e=tl(e,t,1),t=Bi(),e!==null&&(Zf(e,1,t),ra(e,t))}function Cr(e,t,n){if(e.tag===3)K2(e,e,n);else for(;t!==null;){if(t.tag===3){K2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nl===null||!nl.has(r))){e=Eu(n,e),e=DM(t,e,1),t=tl(t,e,1),e=Bi(),t!==null&&(Zf(t,1,e),ra(t,e));break}}t=t.return}}function Bz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Bi(),e.pingedLanes|=e.suspendedLanes&n,ai===e&&(pi&n)===n&&(Kr===4||Kr===3&&(pi&130023424)===pi&&500>Er()-c1?tc(e,0):l1|=n),ra(e,t)}function ZM(e,t){t===0&&(e.mode&1?(t=th,th<<=1,!(th&130023424)&&(th=4194304)):t=1);var n=Bi();e=ho(e,t),e!==null&&(Zf(e,t,n),ra(e,n))}function zz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ZM(e,n)}function Uz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(t),ZM(e,n)}var QM;QM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ta.current)Ji=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ji=!1,Tz(e,t,n);Ji=!!(e.flags&131072)}else Ji=!1,sr&&t.flags&1048576&&nM(t,wp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qh(e,t),e=t.pendingProps;var i=ju(t,Ti.current);yu(t,n),i=n1(null,t,r,e,i,n);var a=r1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,na(r)?(a=!0,yp(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zw(t),i.updater=Jg,t.stateNode=i,i._reactInternals=t,$y(t,r,e,n),t=By(null,t,r,!0,a,n)):(t.tag=0,sr&&a&&Ww(t),$i(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Wz(r),e=Ja(r,e),i){case 0:t=Ry(null,t,r,e,n);break e;case 1:t=$2(null,t,r,e,n);break e;case 11:t=_2(null,t,r,e,n);break e;case 14:t=L2(null,t,r,Ja(r.type,e),n);break e}throw Error(Ue(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ja(r,i),Ry(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ja(r,i),$2(e,t,r,i,n);case 3:e:{if(_M(t),e===null)throw Error(Ue(387));r=t.pendingProps,a=t.memoizedState,i=a.element,lM(e,t),Np(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Eu(Error(Ue(423)),t),t=F2(e,t,r,n,i);break e}else if(r!==i){i=Eu(Error(Ue(424)),t),t=F2(e,t,r,n,i);break e}else for(va=el(t.stateNode.containerInfo.firstChild),ya=t,sr=!0,ts=null,n=sM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pu(),r===i){t=po(e,t,n);break e}$i(e,t,r,n)}t=t.child}return t;case 5:return cM(t),e===null&&Iy(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Ty(r,i)?s=null:a!==null&&Ty(r,a)&&(t.flags|=32),IM(e,t),$i(e,t,s,n),t.child;case 6:return e===null&&Iy(t),null;case 13:return LM(e,t,n);case 4:return Qw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Au(t,null,r,n):$i(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ja(r,i),_2(e,t,r,i,n);case 7:return $i(e,t,t.pendingProps,n),t.child;case 8:return $i(e,t,t.pendingProps.children,n),t.child;case 12:return $i(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,qn(kp,r._currentValue),r._currentValue=s,a!==null)if(cs(a.value,s)){if(a.children===i.children&&!ta.current){t=po(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=so(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),_y(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ue(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),_y(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}$i(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,yu(t,n),i=Wa(i),r=r(i),t.flags|=1,$i(e,t,r,n),t.child;case 14:return r=t.type,i=Ja(r,t.pendingProps),i=Ja(r.type,i),L2(e,t,r,i,n);case 15:return MM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ja(r,i),qh(e,t),t.tag=1,na(r)?(e=!0,yp(t)):e=!1,yu(t,n),TM(t,r,i),$y(t,r,i,n),By(null,t,r,!0,e,n);case 19:return $M(e,t,n);case 22:return OM(e,t,n)}throw Error(Ue(156,t.tag))};function JM(e,t){return jD(e,t)}function Vz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(e,t,n,r){return new Vz(e,t,n,r)}function m1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wz(e){if(typeof e=="function")return m1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mw)return 11;if(e===Ow)return 14}return 2}function il(e,t){var n=e.alternate;return n===null?(n=za(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yh(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")m1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Qc:return nc(n.children,i,a,t);case Dw:s=8,i|=8;break;case oy:return e=za(12,n,t,i|2),e.elementType=oy,e.lanes=a,e;case ly:return e=za(13,n,t,i),e.elementType=ly,e.lanes=a,e;case cy:return e=za(19,n,t,i),e.elementType=cy,e.lanes=a,e;case cD:return n0(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oD:s=10;break e;case lD:s=9;break e;case Mw:s=11;break e;case Ow:s=14;break e;case Bo:s=16,r=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=za(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function nc(e,t,n,r){return e=za(7,e,r,t),e.lanes=n,e}function n0(e,t,n,r){return e=za(22,e,r,t),e.elementType=cD,e.lanes=n,e.stateNode={isHidden:!1},e}function Qv(e,t,n){return e=za(6,e,null,t),e.lanes=n,e}function Jv(e,t,n){return t=za(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hz(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ov(0),this.expirationTimes=Ov(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ov(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function h1(e,t,n,r,i,a,s,o,l){return e=new Hz(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=za(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zw(a),e}function qz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function eO(e){if(!e)return cl;e=e._reactInternals;e:{if(jc(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(na(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(na(n))return eM(e,n,t)}return t}function tO(e,t,n,r,i,a,s,o,l){return e=h1(n,r,!0,e,i,a,s,o,l),e.context=eO(null),n=e.current,r=Bi(),i=rl(n),a=so(r,i),a.callback=t??null,tl(n,a,i),e.current.lanes=i,Zf(e,i,r),ra(e,r),e}function r0(e,t,n,r){var i=t.current,a=Bi(),s=rl(i);return n=eO(n),t.context===null?t.context=n:t.pendingContext=n,t=so(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tl(i,t,s),e!==null&&(ss(e,i,s,a),Vh(e,i,s)),s}function Mp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function G2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function p1(e,t){G2(e,t),(e=e.alternate)&&G2(e,t)}function Kz(){return null}var nO=typeof reportError=="function"?reportError:function(e){console.error(e)};function g1(e){this._internalRoot=e}i0.prototype.render=g1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));r0(e,t,null,null)};i0.prototype.unmount=g1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mc(function(){r0(null,e,null,null)}),t[mo]=null}};function i0(e){this._internalRoot=e}i0.prototype.unstable_scheduleHydration=function(e){if(e){var t=OD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ho.length&&t!==0&&t<Ho[n].priority;n++);Ho.splice(n,0,e),n===0&&_D(e)}};function v1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function a0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Y2(){}function Gz(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Mp(s);a.call(c)}}var s=tO(t,r,e,0,null,!1,!1,"",Y2);return e._reactRootContainer=s,e[mo]=s.current,mf(e.nodeType===8?e.parentNode:e),mc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Mp(l);o.call(c)}}var l=h1(e,0,!1,null,null,!1,!1,"",Y2);return e._reactRootContainer=l,e[mo]=l.current,mf(e.nodeType===8?e.parentNode:e),mc(function(){r0(t,l,n,r)}),l}function s0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Mp(s);o.call(l)}}r0(t,s,e,i)}else s=Gz(n,t,e,i,r);return Mp(s)}DD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Id(t.pendingLanes);n!==0&&(Lw(t,n|1),ra(t,Er()),!(wn&6)&&(Du=Er()+500,gl()))}break;case 13:mc(function(){var r=ho(e,1);if(r!==null){var i=Bi();ss(r,e,1,i)}}),p1(e,1)}};$w=function(e){if(e.tag===13){var t=ho(e,134217728);if(t!==null){var n=Bi();ss(t,e,134217728,n)}p1(e,134217728)}};MD=function(e){if(e.tag===13){var t=rl(e),n=ho(e,t);if(n!==null){var r=Bi();ss(n,e,t,r)}p1(e,t)}};OD=function(){return On};ID=function(e,t){var n=On;try{return On=e,t()}finally{On=n}};yy=function(e,t,n){switch(t){case"input":if(fy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Xg(r);if(!i)throw Error(Ue(90));dD(r),fy(r,i)}}}break;case"textarea":mD(e,n);break;case"select":t=n.value,t!=null&&pu(e,!!n.multiple,t,!1)}};bD=u1;wD=mc;var Yz={usingClientEntryPoint:!1,Events:[Jf,nu,Xg,xD,yD,u1]},xd={findFiberByHostInstance:Hl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xz={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:So.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ND(e),e===null?null:e.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||Kz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{qg=fh.inject(Xz),Ds=fh}catch{}}ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yz;ja.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v1(t))throw Error(Ue(200));return qz(e,t,null,n)};ja.createRoot=function(e,t){if(!v1(e))throw Error(Ue(299));var n=!1,r="",i=nO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=h1(e,1,!1,null,null,n,!1,r,i),e[mo]=t.current,mf(e.nodeType===8?e.parentNode:e),new g1(t)};ja.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=ND(t),e=e===null?null:e.stateNode,e};ja.flushSync=function(e){return mc(e)};ja.hydrate=function(e,t,n){if(!a0(t))throw Error(Ue(200));return s0(null,e,t,!0,n)};ja.hydrateRoot=function(e,t,n){if(!v1(e))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=nO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=tO(t,null,e,1,n??null,i,!1,a,s),e[mo]=t.current,mf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new i0(t)};ja.render=function(e,t,n){if(!a0(t))throw Error(Ue(200));return s0(null,e,t,!1,n)};ja.unmountComponentAtNode=function(e){if(!a0(e))throw Error(Ue(40));return e._reactRootContainer?(mc(function(){s0(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0):!1};ja.unstable_batchedUpdates=u1;ja.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!a0(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return s0(e,t,n,!1,r)};ja.version="18.3.1-next-f1338f8080-20240426";function rO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rO)}catch(e){console.error(e)}}rO(),rD.exports=ja;var Yu=rD.exports,X2=Yu;ay.createRoot=X2.createRoot,ay.hydrateRoot=X2.hydrateRoot;const Zz=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),iO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],aO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],Qz=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],sO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],Jz=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],e6=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],t6=new Set([10244]),n6=(e,t)=>{var i;if(t6.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return e6.some(a=>r.includes(a))},r6=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},Z2=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},oO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,lO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},_a=(e,t=2)=>Number.isFinite(e)?oO()&&Math.abs(e)>=1e4?lO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Fo=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return oO()&&t>=1e4?lO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var i6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const a6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),en=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>x.createElement("svg",{ref:c,...i6,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${a6(e)}`,...l},[...t.map(([d,f])=>x.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},cO=en("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),s6=en("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),x1=en("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),uO=en("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),o6=en("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),l6=en("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),dO=en("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Gl=en("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),c6=en("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),us=en("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),u6=en("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),d6=en("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),f6=en("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),kf=en("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),m6=en("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),h6=en("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),fO=en("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),p6=en("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),y1=en("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),g6=en("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),b1=en("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),v6=en("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),w1=en("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Aa=en("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Q2=en("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),x6=en("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),y6=en("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),b6=en("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),mO=en("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Mu=en("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),o0=en("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),l0=en("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Op=en("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),w6=en("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Gd=en("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),rc=en("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),k6=en("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Dr=en("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),S6=en("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),hO=en("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Hi=en("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sf=en("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),k1=({className:e})=>u.jsx(x6,{className:e,strokeWidth:3.2}),Ip=({className:e})=>u.jsx(w6,{className:e,style:{transform:"rotate(45deg)"}}),tm=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},S1=({className:e=""})=>{const t=tm("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},N1=({className:e=""})=>{const t=tm("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},C1=({className:e=""})=>{const t=tm("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},j1=({className:e=""})=>{const t=tm("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},N6=e=>{const[t,n]=x.useState(!1),[r,i]=x.useState("overview"),a=x.useRef(null),s=x.useRef(null),o=x.useRef(0),l=x.useMemo(()=>[{id:"overview",label:"Overview",icon:rc,items:[{id:"overview",label:"Overview",icon:rc},{id:"top-players",label:"Top Players",icon:rc},{id:"top-skills-outgoing",label:"Top Skills",icon:x1},{id:"timeline",label:"Squad vs Enemy",icon:Dr},{id:"map-distribution",label:"Map Distribution",icon:w1}]},{id:"roster",label:"Roster Intel",icon:kf,items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:kf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Dr},{id:"fight-comp",label:"Fight Comp",icon:Gd}]},{id:"offense",label:"Offensive Stats",icon:Ip,items:[{id:"offense-detailed",label:"Offense Detailed",icon:Ip},{id:"player-breakdown",label:"Player Breakdown",icon:b1},{id:"spike-damage",label:"Spike Damage",icon:Sf},{id:"conditions-outgoing",label:"Conditions",icon:o0}]},{id:"defense",label:"Defensive Stats",icon:Mu,items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:b6},{id:"defense-detailed",label:"Defense Detailed",icon:Mu},{id:"defense-mitigation",label:"Damage Mitigation",icon:C1},{id:"support-detailed",label:"Support Detailed",icon:k1},{id:"healing-stats",label:"Healing Stats",icon:fO},{id:"boon-output",label:"Boon Output",icon:N1}]},{id:"other",label:"Other Metrics",icon:Op,items:[{id:"special-buffs",label:"Special Buffs",icon:Op},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:j1},{id:"skill-usage",label:"Skill Usage",icon:y1},{id:"apm-stats",label:"APM Breakdown",icon:S1}]}],[]),c=x.useMemo(()=>l.flatMap(h=>h.items),[l]),d=h=>{const m=h==="kdr"?"overview":h,p=a.current,v=document.getElementById(m);if(p&&v){const y=p.getBoundingClientRect(),b=v.getBoundingClientRect().top-y.top+p.scrollTop,w=Math.max(0,p.scrollHeight-p.clientHeight),S=Math.min(Math.max(b-16,0),w);p.scrollTo({top:S,behavior:"smooth"}),i(m)}else v&&(v.scrollIntoView({behavior:"smooth",block:"start"}),i(m));n(!1)};x.useEffect(()=>{if(e)return;const h=m=>{const p=a.current;if(!p)return;const v=m.target;if(!(v instanceof Element&&v.closest("[data-stats-mobile-nav]"))&&!(v instanceof Node&&p.contains(v))&&m.deltaY!==0&&!(p.scrollHeight<=p.clientHeight)){if(o.current+=m.deltaY,s.current===null){const y=()=>{const g=o.current;if(Math.abs(g)<.5){o.current=0,s.current=null;return}const b=g*.2;o.current=g-b,p.scrollBy({top:b,behavior:"auto"}),s.current=requestAnimationFrame(y)};s.current=requestAnimationFrame(y)}m.preventDefault()}};return window.addEventListener("wheel",h,{passive:!1}),()=>{window.removeEventListener("wheel",h),s.current!==null&&(cancelAnimationFrame(s.current),s.current=null),o.current=0}},[e]);const f=h=>{var y;const m=Math.max(0,c.findIndex(g=>g.id===r)),p=Math.min(Math.max(m+h,0),c.length-1),v=(y=c[p])==null?void 0:y.id;v&&d(v)};return x.useEffect(()=>{const h=a.current;if(!h)return;let m=0;const p=()=>{var b;const y=h.getBoundingClientRect().top;let g=((b=c[0])==null?void 0:b.id)||"overview";c.forEach(w=>{const S=document.getElementById(w.id);if(!S)return;S.getBoundingClientRect().top-y<=24&&(g=w.id)}),i(w=>w===g?w:g)},v=()=>{m&&cancelAnimationFrame(m),m=requestAnimationFrame(p)};return p(),h.addEventListener("scroll",v,{passive:!0}),window.addEventListener("resize",v),()=>{m&&cancelAnimationFrame(m),h.removeEventListener("scroll",v),window.removeEventListener("resize",v)}},[c]),{mobileNavOpen:t,setMobileNavOpen:n,activeNavId:r,setActiveNavId:i,scrollContainerRef:a,tocGroups:l,tocItems:c,scrollToSection:d,stepSection:f}},C6=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=x.useState({uploading:!1,message:null,url:null}),[c,d]=x.useState("idle"),f=()=>{const p=new Set;let v=null,y=null;e.forEach(_=>{const A=_.details;if(!A)return;const $=A.timeStartStd||A.timeStart||A.uploadTime||_.uploadTime,M=A.timeEndStd||A.timeEnd||A.uploadTime||_.uploadTime,te=$?new Date($):null,Y=M?new Date(M):null;te&&!Number.isNaN(te.getTime())&&(!v||te<v)&&(v=te),Y&&!Number.isNaN(Y.getTime())&&(!y||Y>y)&&(y=Y),(A.players||[]).forEach(W=>{if(!(W!=null&&W.notInSquad)&&W!=null&&W.hasCommanderTag){const ee=(W==null?void 0:W.name)||(W==null?void 0:W.account)||"Unknown";p.add(ee)}})});const g=Array.from(p).sort((_,A)=>_.localeCompare(A)),b=v||new Date,w=y||b,S=b.toISOString(),C=w.toISOString(),N=`${b.toLocaleString()} - ${w.toLocaleString()}`,P=_=>String(_).padStart(2,"0");return{id:`${b.getFullYear()}${P(b.getMonth()+1)}${P(b.getDate())}-${P(b.getHours())}${P(b.getMinutes())}${P(b.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:g.length?g.join(", "):"Unknown Commander",commanders:g,dateStart:S,dateEnd:C,dateLabel:N,generatedAt:new Date().toISOString()}};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const p=f();await s({meta:p,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:i||"classic"}})}catch(p){console.error("[StatsView] Web upload failed:",p)}},handleDevMockUpload:async()=>{var p;if(!(a||!((p=window.electronAPI)!=null&&p.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const v=f(),y=await window.electronAPI.mockWebReport({meta:v,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:i||"classic"}});y!=null&&y.success?l({uploading:!1,message:"Local report ready.",url:y.url||null}):l({uploading:!1,message:(y==null?void 0:y.error)||"Local report failed.",url:null})}catch(v){l({uploading:!1,message:(v==null?void 0:v.message)||"Local report failed.",url:null})}}}}};function j6(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const P6=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function al(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Uc=null;function pO(e={}){return Uc||(e.includeStyleProperties?(Uc=e.includeStyleProperties,Uc):(Uc=al(window.getComputedStyle(document.documentElement)),Uc))}function _p(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function A6(e){const t=_p(e,"border-left-width"),n=_p(e,"border-right-width");return e.clientWidth+t+n}function T6(e){const t=_p(e,"border-top-width"),n=_p(e,"border-bottom-width");return e.clientHeight+t+n}function gO(e,t={}){const n=t.width||A6(e),r=t.height||T6(e);return{width:n,height:r}}function E6(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const fa=16384;function D6(e){(e.width>fa||e.height>fa)&&(e.width>fa&&e.height>fa?e.width>e.height?(e.height*=fa/e.width,e.width=fa):(e.width*=fa/e.height,e.height=fa):e.width>fa?(e.height*=fa/e.width,e.width=fa):(e.width*=fa/e.height,e.height=fa))}function Lp(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function M6(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function O6(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),M6(i)}const ia=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ia(n,t)};function I6(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function _6(e,t){return pO(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function L6(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?I6(n):_6(n,r);return document.createTextNode(`${i}{${a}}`)}function J2(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=P6();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(L6(s,n,i,r)),t.appendChild(o)}function $6(e,t,n){J2(e,t,":before",n),J2(e,t,":after",n)}const eC="application/font-woff",tC="image/jpeg",F6={woff:eC,woff2:eC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:tC,jpeg:tC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function R6(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function P1(e){const t=R6(e).toLowerCase();return F6[t]||""}function B6(e){return e.split(/,/)[1]}function Qy(e){return e.search(/^(data:)/)!==-1}function z6(e,t){return`data:${t};base64,${e}`}async function vO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const ex={};function U6(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function A1(e,t,n){const r=U6(e,t,n.includeQueryParams);if(ex[r]!=null)return ex[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await vO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),B6(o)));i=z6(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return ex[r]=i,i}async function V6(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Lp(t)}async function W6(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Lp(o)}const n=e.poster,r=P1(n),i=await A1(n,r,t);return Lp(i)}async function H6(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await c0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function q6(e,t){return ia(e,HTMLCanvasElement)?V6(e):ia(e,HTMLVideoElement)?W6(e,t):ia(e,HTMLIFrameElement)?H6(e,t):e.cloneNode(xO(e))}const K6=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",xO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function G6(e,t,n){var r,i;if(xO(t))return t;let a=[];return K6(e)&&e.assignedNodes?a=al(e.assignedNodes()):ia(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=al(e.contentDocument.body.childNodes):a=al(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||ia(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>c0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function Y6(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):pO(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),ia(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function X6(e,t){ia(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ia(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Z6(e,t){if(ia(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function Q6(e,t,n){return ia(t,Element)&&(Y6(e,t,n),$6(e,t,n),X6(e,t),Z6(e,t)),t}async function J6(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await c0(c,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function c0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>q6(r,t)).then(r=>G6(e,r,t)).then(r=>Q6(e,r,t)).then(r=>J6(r,t))}const yO=/url\((['"]?)([^'"]+?)\1\)/g,eU=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,tU=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function nU(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function rU(e){const t=[];return e.replace(yO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!Qy(n))}async function iU(e,t,n,r,i){try{const a=n?j6(t,n):t,s=P1(t);let o;return i||(o=await A1(a,s,r)),e.replace(nU(t),`$1${o}$3`)}catch{}return e}function aU(e,{preferredFontFormat:t}){return t?e.replace(tU,n=>{for(;;){const[r,,i]=eU.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function bO(e){return e.search(yO)!==-1}async function wO(e,t,n){if(!bO(e))return e;const r=aU(e,n);return rU(r).reduce((a,s)=>a.then(o=>iU(o,s,t,n)),Promise.resolve(r))}async function Vc(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await wO(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function sU(e,t){await Vc("background",e,t)||await Vc("background-image",e,t),await Vc("mask",e,t)||await Vc("-webkit-mask",e,t)||await Vc("mask-image",e,t)||await Vc("-webkit-mask-image",e,t)}async function oU(e,t){const n=ia(e,HTMLImageElement);if(!(n&&!Qy(e.src))&&!(ia(e,SVGImageElement)&&!Qy(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await A1(r,P1(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function lU(e,t){const r=al(e.childNodes).map(i=>kO(i,t));await Promise.all(r).then(()=>e)}async function kO(e,t){ia(e,Element)&&(await sU(e,t),await oU(e,t),await lU(e,t))}function cU(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const nC={};async function rC(e){let t=nC[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},nC[e]=t,t}async function iC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),vO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function aC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function uU(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,c=rC(l).then(d=>iC(d,t)).then(d=>aC(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(rC(i.href).then(o=>iC(o,t)).then(o=>aC(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function dU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>bO(t.style.getPropertyValue("src")))}async function fU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=al(e.ownerDocument.styleSheets),r=await uU(n,t);return dU(r)}function SO(e){return e.trim().replace(/["']/g,"")}function mU(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(SO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function hU(e,t){const n=await fU(e,t),r=mU(e);return(await Promise.all(n.filter(a=>r.has(SO(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return wO(a.cssText,s,t)}))).join(`
`)}async function pU(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await hU(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function gU(e,t={}){const{width:n,height:r}=gO(e,t),i=await c0(e,t,!0);return await pU(i,t),await kO(i,t),cU(i,t),await O6(i,n,r)}async function vU(e,t={}){const{width:n,height:r}=gO(e,t),i=await gU(e,t),a=await Lp(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||E6(),c=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=c*l,s.height=d*l,t.skipAutoScale||D6(s),s.style.width=`${c}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function xU(e,t={}){return(await vU(e,t)).toDataURL()}const yU=e=>{const[t,n]=x.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=c,globalThis.fetch=c;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],c=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var b;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const v=await c(p);if(!v)return;const y=m.src,g=m.srcset;m.src=v,m.srcset="",l.push(()=>{m.src=y,m.srcset=g});try{await((b=m.decode)==null?void 0:b.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const v=window.getComputedStyle(m).backgroundImage;if(!v||v==="none"||!v.includes("url("))return;const y=Array.from(v.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!y.length)return;let g=v,b=!1;for(const S of y){const C=S[1];if(!C)continue;const N=await c(C);N&&(g=g.replace(S[0],`url("${N}")`),b=!0)}if(!b)return;const w=m.style.backgroundImage;m.style.backgroundImage=g,l.push(()=>{m.style.backgroundImage=w})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(v=>setTimeout(v,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(v=>{v.dataset.prevDisplay=v.style.display,v.style.display="none"});let c;const d=await i(s);try{const v=s.scrollWidth,y=s.scrollHeight;c=await r(()=>xU(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:v,height:y,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(v=>{v.style.display=v.dataset.prevDisplay||"",delete v.dataset.prevDisplay})}const m=await(await(await fetch(c)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},sC=["selfBuffs","groupBuffs","squadBuffs"],Gs=(e,t,n=0)=>t?e/t:n,oC=e=>e!=null&&e.classification?e.classification==="Boon":!0,NO=e=>`b${e}`,bU=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},CO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},wU=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let h=1;t==="groupBuffs"?h=Gs(a-i,i,1):t==="squadBuffs"?h=Gs(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?Gs(d,r):Gs(d,r)*100,p=n?Gs(f,r):Gs(f,r)*100;else{const v=Gs(d,r)/(h||1),y=Gs(f,r)/(h||1);m=n?v:v*100,p=n?y:y*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},jO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=wU(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?Gs(i,s):a},kU=(e,t,n,r,i)=>{const a=jO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,c=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${c}%`:c},SU=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const v=t.get(m)||{},y={name:v.name||p.name,stacking:v.stacking??p.stacking,icon:v.icon||p.icon,classification:v.classification||p.classification};t.set(m,y)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",v=m.profession||"Unknown",y=m.group??0,g=h.get(y)||1,b=bU(m,o);n.has(p)||n.set(p,{account:p,profession:v,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const w=n.get(p);w.profession=v,v!=="Unknown"&&(w.professions.add(v),w.professionTimeMs[v]=(w.professionTimeMs[v]||0)+b),w.activeTimeMs+=b,w.numFights+=1,w.groupSupported+=g,w.squadSupported+=f,sC.forEach(S=>{(m[S]||[]).forEach(N=>{var Y,se,W,ee;if(typeof(N==null?void 0:N.id)!="number")return;const P=NO(N.id),D=l[P];if(!oC(D))return;const _=(D==null?void 0:D.stacking)??!1,A=((se=(Y=N.buffData)==null?void 0:Y[0])==null?void 0:se.generation)??0,$=((ee=(W=N.buffData)==null?void 0:W[0])==null?void 0:ee.wasted)??0,{generationMs:M,wastedMs:te}=CO(S,_,A,$,o,g,f);!M&&!te||(t.has(P)||t.set(P,D||{}),w.boons[P]||(w.boons[P]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),w.boons[P][S].generationMs+=M,w.boons[P][S].wastedMs+=te)})})})}),{boonTables:Array.from(t.keys()).filter(a=>oC(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const c=l.boons[a];if(!c||!sC.some(p=>c[p].generationMs>0||c[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(v=>{var g;const y=((g=l.professionTimeMs)==null?void 0:g[v])||0;y>p&&(p=y,h=v)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...c.selfBuffs},groupBuffs:{...c.groupBuffs},squadBuffs:{...c.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},lC=(e,t,n,r,i,a,s={})=>{var m,p,v,y;const l=((e==null?void 0:e[t])||[]).find(g=>g.id===n);if(!l)return{generationMs:0,wastedMs:0};const c=s[NO(n)],d=(c==null?void 0:c.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((y=(v=l.buffData)==null?void 0:v[0])==null?void 0:y.wasted)??0;return CO(t,d,f,h,r,i,a)},NU={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},CU={methods:NU},jU=CU,T1="count",PU=e=>(e||0)/1e3,AU=(e,t)=>{var i;if(!e)return 0;const n=(i=jU.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},PO=(e,t,n)=>n==="duration"?PU(t):n==="tiered"?AU(e,t):e;function TU(e,t=T1){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return PO(r,i,t)}function EU(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,c=lC(o,"selfBuffs",1122,n,l,a,r),d=lC(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function DU(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function MU(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function OU(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const IU=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},_U=(e,t=T1)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return PO(r,i,t)},LU=e=>DU(e),$U=e=>OU(e),FU=e=>MU(e),RU=(e,t=T1)=>TU(e,t),BU=(e,t)=>EU(e,t),zU="count",AO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Jy={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},UU={uploading:!1,message:null,url:null,buildStatus:"idle"},cC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),TO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},mh=e=>{if(e)return TO[e]},Nf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=cC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=cC.get(i);if(a)return a}return null},Gc=e=>Nf(e),EO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Nf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(TO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Xh=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=Nf(i);if(a)return a}return e?Nf(e):null},VU=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},WU=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},HU=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},qU=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||VU,s=EO(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(v=>{v&&v.forEach(y=>{if(!y.id)return;let g=`Skill ${y.id}`,b;r&&(r[`s${y.id}`]?(g=r[`s${y.id}`].name||g,b=r[`s${y.id}`].icon||b):r[`${y.id}`]&&(g=r[`${y.id}`].name||g,b=r[`${y.id}`].icon||b));const w=Xh(g,y.id,i);if(!w)return;const S=i==null?void 0:i[`b${y.id}`],C=S==null?void 0:S.name,N=s.get(w)||(S==null?void 0:S.icon),P=g.startsWith("Skill ")?C||w:g,D=b||(S==null?void 0:S.icon),_=Number(y.connectedHits??0),A=Number(y.hits??0),$=_>0?_:A,M=Number(y.totalDamage??0);if(!Number.isFinite($)&&!Number.isFinite(M))return;const te=l[w]||{name:w,icon:N,applications:0,damage:0};te.applications+=Number.isFinite($)?$:0,te.damage+=Number.isFinite(M)?M:0,!te.icon&&N&&(te.icon=N),l[w]=te;const Y=o[p][w]||{icon:N,applications:0,damage:0,skills:{}};Y.applications+=Number.isFinite($)?$:0,Y.damage+=Number.isFinite(M)?M:0;const se=Y.skills[P]||{name:P,hits:0,damage:0,icon:D};se.hits+=Number.isFinite($)?$:0,se.damage+=Number.isFinite(M)?M:0,!se.icon&&D&&(se.icon=D),Y.skills[P]=se,!Y.icon&&N&&(Y.icon=N),o[p][w]=Y})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&c.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const v=Number(p==null?void 0:p.id);if(!Number.isFinite(v))return;const y=i==null?void 0:i[`b${v}`],g=Nf(y==null?void 0:y.name);if(!g||y!=null&&y.classification&&y.classification!=="Condition")return;const b=g;if(!b)return;const w=p.statesPerSource||{};h+=1,Object.entries(w).forEach(([S,C])=>{var $;const N=c.get(S);if(!N)return;f+=1;const P=WU(C),D=HU(C);d+=P;const _=(($=o[N])==null?void 0:$[b])||{applications:0,damage:0,skills:{}};_.applicationsFromBuffs=(_.applicationsFromBuffs||0)+P,_.applicationsFromBuffsActive=(_.applicationsFromBuffsActive||0)+D,o[N]=o[N]||{},o[N][b]=_;const A=l[b]||{name:b,applications:0,damage:0};A.applicationsFromBuffs=(A.applicationsFromBuffs||0)+P,A.applicationsFromBuffsActive=(A.applicationsFromBuffsActive||0)+D,l[b]=A})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Cf={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},KU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function ic(e){return Cf[e]||Cf.Unknown}function GU(e){return e?KU[e]||e:"Unknown"}function Yl(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Cf[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=GU(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const YU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},Xi=(e,t)=>YU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),tx=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const a=(()=>{const f=e.filter(h=>h.details&&h.details.players&&h.details.players.length>0);return console.log("[useStatsAggregation] Filtering logs:",{total:e.length,passed:f.length,statuses:e.map(h=>h.status),hasDetails:e.map(h=>!!h.details)}),f})(),s=r||Jy,o=n||AO,l=f=>{if(!f||typeof f!="object")return f;const h=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!h||h.length===0)return f;const m=g=>Array.isArray(g)&&g.some(b=>b&&Number(b.count)>0),p=new Map,v=new Map;e.forEach(g=>{var S;const b=(g==null?void 0:g.filePath)||(g==null?void 0:g.id);b&&p.set(String(b),g);const w=(g==null?void 0:g.permalink)||((S=g==null?void 0:g.details)==null?void 0:S.permalink);typeof w=="string"&&w.trim()&&v.set(w.trim(),g)});const y=h.map(g=>{var P;if(!g||typeof g!="object")return g;const b=g.id?String(g.id):"",w=typeof g.permalink=="string"?g.permalink.trim():"",S=(b?p.get(b):void 0)||(w?v.get(w):void 0);if(!S)return g;let C=g;if(Number(g.timestamp)<=0){const D=Xi(S==null?void 0:S.details,S);D&&(C={...C,timestamp:D})}const N=(P=S==null?void 0:S.details)==null?void 0:P.teamBreakdown;return m(N)&&(C={...C,teamBreakdown:N}),C});return{...f,fightBreakdown:y}},c=(()=>{if(t)return l(t);const f=i||zU,h=s.topSkillDamageSource||"target",m=s.topSkillsMetric||"damage",p=a.length;let v=0,y=0,g=0,b=0,w=0,S=0,C=0,N=0;const P=E=>{const H=((E==null?void 0:E.players)||[]).filter(ot=>!ot.notInSquad);let ye=0,fe=0,Ve=0,Ne=0;return H.forEach(ot=>{var Gt;const mt=(Gt=ot.defenses)==null?void 0:Gt[0];if(!mt)return;const wt=Number(mt.downCount||0),qt=Number(mt.deadCount||0);ye+=wt+qt,Ve+=qt}),H.forEach(ot=>{!ot.statsTargets||ot.statsTargets.length===0||ot.statsTargets.forEach(mt=>{const wt=mt==null?void 0:mt[0];if(!wt)return;const qt=Number(wt.downed||0),Gt=Number(wt.killed||0);fe+=qt+Gt,Ne+=Gt})}),{squadDownsDeaths:ye,enemyDownsDeaths:fe,squadDeaths:Ve,enemyDeaths:Ne}},D=E=>{const{squadDownsDeaths:V,enemyDownsDeaths:H}=P(E);return V>0||H>0?H>V:typeof(E==null?void 0:E.success)=="boolean"?E.success:!1},_=new Map,A=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),$={},M={},te=new Map,Y={},se={},W={},ee=new Map,X=new Map,oe=new Set(Object.keys(Cf)),T=Object.keys(Cf).filter(E=>E&&E!=="Unknown").sort((E,V)=>V.length-E.length),j=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],U=E=>{if(!E)return"Unknown";const V=String(E).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(oe.has(V))return V;const H=V.toLowerCase();for(const fe of T)if(H.includes(fe.toLowerCase()))return fe;return j.find(fe=>H.includes(fe.toLowerCase()))||V||"Unknown"},k=E=>E!=null&&E.classification?E.classification==="Boon":!0,O=new Map,re=new Map,Q=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),B=E=>{const V=Number(E);return Number.isFinite(V)?V:0},J=E=>{const V=String(E).split("|"),H=V[0]||"Unknown",ye=U(V[1]||"Unknown"),fe=V[2]||H||"Unknown";return{name:H,profession:ye,account:fe}},L=(E,V,H)=>{let ye=E.get(V);return ye?H.profession&&!ye.professionList.includes(H.profession)&&ye.professionList.push(H.profession):(ye={account:H.account,name:H.name,profession:H.profession,professionList:H.profession?[H.profession]:[],activeMs:0,mitigationTotals:Q()},E.set(V,ye)),ye},K=(E,V,H)=>{let ye=E.get(V);return ye?H.profession&&!ye.professionList.includes(H.profession)&&ye.professionList.push(H.profession):(ye={account:H.account,name:H.name,profession:H.profession,professionList:H.profession?[H.profession]:[],activeMs:0,mitigationTotals:Q(),minion:H.minion},E.set(V,ye)),ye},le=(E,V)=>{E.totalHits+=B((V==null?void 0:V.skill_hits)??(V==null?void 0:V.skillHits)),E.blocked+=B(V==null?void 0:V.blocked),E.evaded+=B(V==null?void 0:V.evaded),E.glanced+=B(V==null?void 0:V.glanced),E.missed+=B(V==null?void 0:V.missed),E.invulned+=B(V==null?void 0:V.invulned),E.interrupted+=B(V==null?void 0:V.interrupted),E.totalMitigation+=B((V==null?void 0:V.avoided_damage)??(V==null?void 0:V.avoidedDamage)),E.minMitigation+=B((V==null?void 0:V.min_avoided_damage)??(V==null?void 0:V.minAvoidedDamage))},ne=E=>Object.values(E).some(V=>V>0);console.log("[useStatsAggregation] Starting aggregation loop",{validLogsCount:a.length});const z=(E,V,H)=>{var Ve,Ne,ot,mt;const ye=`s${E}`;if((Ve=V==null?void 0:V[ye])!=null&&Ve.name)return V[ye].name;if((Ne=V==null?void 0:V[String(E)])!=null&&Ne.name)return V[String(E)].name;const fe=`b${E}`;return(ot=H==null?void 0:H[fe])!=null&&ot.name?H[fe].name:(mt=H==null?void 0:H[String(E)])!=null&&mt.name?H[String(E)].name:`Unknown Skill ${E}`},R=new Map,I=E=>{const V=R.get(E);if(!V)return{hasSkill:!1,avg:1,min:1,hits:0};const H=V.connectedHits||0,ye=H>0?V.totalDamage/H:0,fe=V.minCount>0?V.minTotal/V.minCount:0;return{hasSkill:!0,avg:ye,min:fe,hits:H}},Z="Ashtonlightstone.9145",je="Illusionary Warden",$e=[],ie=[],Be=[],De=[],vt=new Map,sn=new Map,Pn=(E,V,H)=>{const ye=E.get(V)||Q();return ye.totalHits+=H.totalHits,ye.blocked+=H.blocked,ye.evaded+=H.evaded,ye.glanced+=H.glanced,ye.missed+=H.missed,ye.invulned+=H.invulned,ye.interrupted+=H.interrupted,E.set(V,ye),ye};a.forEach(E=>{const V=E.details;if(!V)return;(V.targets||[]).forEach(ye=>{const fe=(ye==null?void 0:ye.totalDamageDist)||[],Ve=Array.isArray(fe)?fe[0]:null;Ve==null||Ve.forEach(Ne=>{if(!(Ne!=null&&Ne.id))return;const ot=Number(Ne.id),mt=R.get(ot)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};mt.totalDamage+=Number(Ne.totalDamage||0),mt.connectedHits+=Number(Ne.connectedHits||0);const wt=Number.isFinite(Number(Ne.min))?Number(Ne.min):0;mt.minTotal+=wt,mt.minCount+=1,R.set(ot,mt)})})}),a.forEach((E,V)=>{var Zt,bn;const H=E.details;if(!H)return;const ye=H.players;console.log(`[useStatsAggregation] Processing log ${V}:`,{playerCount:ye==null?void 0:ye.length,hasTargets:!!H.targets,firstPlayer:ye!=null&&ye[0]?{account:ye[0].account,notInSquad:ye[0].notInSquad}:"none"});const fe=H.targets||[],Ve=H.skillMap||{},Ne=H.buffMap||{},ot=new Map,mt=new Map;fe.forEach(ue=>{const Pe=(ue==null?void 0:ue.totalDamageDist)||[],it=Array.isArray(Pe)?Pe[0]:null;it==null||it.forEach($t=>{var Dt;if(!($t!=null&&$t.id))return;const Nt=Number($t.id),ae=((Dt=Ve==null?void 0:Ve[Nt])==null?void 0:Dt.name)||$t.name||$t.skillName||String(Nt),He=ot.get(Nt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};He.totalDamage+=Number($t.totalDamage||0),He.connectedHits+=Number($t.connectedHits||0);const Oe=Number.isFinite(Number($t.min))?Number($t.min):0;He.minTotal+=Oe,He.minCount+=1,ot.set(Nt,He);const nt=mt.get(ae)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};nt.totalDamage+=Number($t.totalDamage||0),nt.connectedHits+=Number($t.connectedHits||0);const Et=Number.isFinite(Number($t.min))?Number($t.min):0;nt.minTotal+=Et,nt.minCount+=1,mt.set(ae,nt)})});const wt=ue=>{const Pe=ot.get(ue);if(!Pe||Pe.connectedHits<=0)return{avg:1,min:1};const it=Pe.connectedHits>0?Pe.totalDamage/Pe.connectedHits:0,$t=Pe.minCount>0?Pe.minTotal/Pe.minCount:it;return{avg:it||1,min:$t||1}},qt=ue=>{const Pe=mt.get(ue);if(!Pe||Pe.connectedHits<=0)return{avg:1,min:1};const it=Pe.connectedHits>0?Pe.totalDamage/Pe.connectedHits:0,$t=Pe.minCount>0?Pe.minTotal/Pe.minCount:it;return{avg:it||1,min:$t||1}},Gt=H.combatReplayMetaData||{},In=(Gt==null?void 0:Gt.inchToPixel)>0?Gt.inchToPixel:1,Xe=(Gt==null?void 0:Gt.pollingRate)>0?Gt.pollingRate:1,Ye=5e3,ft=ue=>Array.isArray(ue)?ue.map(Pe=>Array.isArray(Pe)?[Number(Pe[0]),Number(Pe[1])]:null).filter(Pe=>!!Pe&&Number.isFinite(Pe[0])):[];let Lt=[],Yt=H.durationMS||0,ve=!1;const ke=ye.find(ue=>(ue==null?void 0:ue.hasCommanderTag)&&!(ue!=null&&ue.notInSquad));(Zt=ke==null?void 0:ke.combatReplayData)!=null&&Zt.positions&&(Lt=ke.combatReplayData.positions,ft(ke.combatReplayData.dead).forEach(([Pe])=>{Pe>0&&(ve=!0,Yt=Math.min(Yt,Pe))}));const ze=ue=>{var nt;const Pe=(nt=ue.statsAll)==null?void 0:nt[0];if((Pe==null?void 0:Pe.distToCom)!==void 0&&(Pe==null?void 0:Pe.distToCom)!=="Infinity")return Math.round(Number(Pe.distToCom));if((Pe==null?void 0:Pe.stackDist)!==void 0)return Math.round(Number(Pe.stackDist))||0;if(ue.hasCommanderTag)return 0;const it=ue.combatReplayData;if(!(it!=null&&it.positions)||!Lt.length)return 0;const $t=it.positions,Nt=ft(it.dead),ae=ft(it.down),He=Math.floor((it.start||0)/Xe);let Oe=0;if(Nt.length&&ae.length)for(const[Et]of Nt){if(Et<0)continue;const Dt=Math.max(0,Math.floor(Et/Xe))-He;for(const[gt,xt]of ae){if(Et!==xt)continue;const Rt=ve&&gt>Yt?Math.max(1,Math.floor(Yt/Xe)):Dt,Ut=Math.max(0,Math.min(Rt,$t.length,Lt.length));if(Ut<=0)continue;let Ot=0;for(let At=0;At<Ut;At++){const[Ie,tt]=$t[At],[lt,yt]=Lt[At];Ot+=Math.hypot(Ie-lt,tt-yt)}Oe=Math.round(Ot/Ut/In)}}return Oe},Me=ye.filter(ue=>!ue.notInSquad);g+=Me.length,b+=fe.filter(ue=>!ue.isFake).length,BU(ye,{durationMS:H.durationMS,buffMap:H.buffMap});const{squadDeaths:Ze,enemyDeaths:me}=P(H);w+=Ze,S+=me,N+=Ze,C+=me,D(H)?v++:y++;const _e=H.skillMap?Number((bn=Object.keys(H.skillMap).find(ue=>{var Pe,it;return((it=(Pe=H.skillMap)==null?void 0:Pe[ue])==null?void 0:it.name)==="Battle Standard"}))==null?void 0:bn.replace(/^s/,"")):null;ye.forEach((ue,Pe)=>{var Us,Vs,Ta,Ws,jl,od,Ea,Pl,Rm,Bm,zm,Um,ys;if(ue.notInSquad)return;const it=ue.account||"Unknown",$t=it!=="Unknown"?it:ue.name||"Unknown",Nt=ue.name||"Unknown";_.has($t)||_.set($t,{name:Nt,account:$t,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:ue.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const ae=_.get($t);if(ue.hasCommanderTag&&(ae.isCommander=!0),Nt!=="Unknown"&&ae.characterNames.add(String(Nt)),ue.profession&&ue.profession!=="Unknown"){ae.profession=ue.profession,ae.professions.add(ue.profession);const Ae=Array.isArray(ue.activeTimes)&&typeof ue.activeTimes[0]=="number"?ue.activeTimes[0]:H.durationMS||0;ae.professionTimeMs[ue.profession]=(ae.professionTimeMs[ue.profession]||0)+Ae}ae.logsJoined++,ae.downContrib+=LU(ue),ae.cleanses+=IU(ue),ae.strips+=_U(ue,f),ae.healing+=$U(ue),ae.barrier+=FU(ue),ae.cc+=RU(ue,f),ae.stab+=ue.stabGeneration||0;const He=ze(ue);He<=Ye&&(ae.totalDist+=He,ae.distCount++),(Us=ue.defenses)!=null&&Us[0]&&(ae.dodges+=ue.defenses[0].dodgeCount||0,ae.downs+=ue.defenses[0].downCount||0,ae.deaths+=ue.defenses[0].deadCount||0),H.durationMS&&(ae.totalFightMs+=H.durationMS);const Oe=Array.isArray(ue.activeTimes)&&typeof ue.activeTimes[0]=="number"?ue.activeTimes[0]:H.durationMS||0;ae.squadActiveMs+=Oe;const nt=Xi(H,E),Et=Number((H==null?void 0:H.durationMS)||0);nt>0&&((ae.firstSeenFightTs<=0||nt<ae.firstSeenFightTs)&&(ae.firstSeenFightTs=nt),ae.lastSeenFightTs<=0||nt>ae.lastSeenFightTs?(ae.lastSeenFightTs=nt,ae.lastSeenFightDurationMs=Et):nt===ae.lastSeenFightTs&&Et>ae.lastSeenFightDurationMs&&(ae.lastSeenFightDurationMs=Et)),ae.defenseActiveMs+=Oe,ae.supportActiveMs+=Oe,ae.healingActiveMs+=Oe,Array.isArray(ue.buffUptimes)&&ue.buffUptimes.length>0&&ue.buffUptimes.forEach(Ae=>{var Vm,da,Wm,Al,Oc,Hm;if(typeof(Ae==null?void 0:Ae.id)!="number")return;const qe=`b${Ae.id}`,Ke=((Vm=H.buffMap)==null?void 0:Vm[qe])||((da=H.buffMap)==null?void 0:da[String(Ae.id)]);if(!Ke||k(Ke))return;const Je=Number(((Al=(Wm=Ae.buffData)==null?void 0:Wm[0])==null?void 0:Al.uptime)??0),zt=Number(((Hm=(Oc=Ae.buffData)==null?void 0:Oc[0])==null?void 0:Hm.presence)??0);if((!Number.isFinite(Je)||Je<=0)&&(!Number.isFinite(zt)||zt<=0))return;const Tn=(Ke==null?void 0:Ke.stacking)??!1,ei=(Tn?Number.isFinite(Je)?Je:0:Number.isFinite(Je)?Je/100:0)*Oe,li=Tn?zt:Je,Oo=Math.min(Math.max(Number.isFinite(li)?li:0,0),100)/100*Oe,Hs=Number.isFinite(ei)&&ei>0,qi=Number.isFinite(Oo)&&Oo>0;if(!Hs&&!qi)return;const Ki=Gc(Ke==null?void 0:Ke.name);if(Ki&&Zz.has(Ki)&&(!(Ke!=null&&Ke.classification)||Ke.classification==="Condition")){const Ic=ei/1e3,dr=Ke==null?void 0:Ke.icon,Tl=Y[Ki]||{name:Ki,icon:dr,applications:0,damage:0};Tl.applicationsFromUptime=(Tl.applicationsFromUptime||0)+Ic,!Tl.icon&&dr&&(Tl.icon=dr),Y[Ki]=Tl;const bs=ae.outgoingConditions[Ki]||{applications:0,damage:0,skills:{},icon:dr};bs.applicationsFromUptime=(bs.applicationsFromUptime||0)+Ic,!bs.icon&&dr&&(bs.icon=dr),ae.outgoingConditions[Ki]=bs;const El=se[Ki]||{name:Ki,icon:dr,applications:0,damage:0};El.applicationsFromUptime=(El.applicationsFromUptime||0)+Ic,!El.icon&&dr&&(El.icon=dr),se[Ki]=El;const Dl=ae.incomingConditions[Ki]||{applications:0,damage:0,skills:{},icon:dr};Dl.applicationsFromUptime=(Dl.applicationsFromUptime||0)+Ic,!Dl.icon&&dr&&(Dl.icon=dr),ae.incomingConditions[Ki]=Dl}ee.has(qe)||ee.set(qe,{name:Ke==null?void 0:Ke.name,stacking:Tn,icon:Ke==null?void 0:Ke.icon}),X.has(qe)||X.set(qe,new Map);const vi=X.get(qe),ci=ae.account||ue.account||ue.name||"Unknown";let xi=vi.get(ci);xi||(xi={account:ci,profession:ae.profession||ue.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},vi.set(ci,xi));const Io=ue.profession||ae.profession;Io&&Io!=="Unknown"&&(xi.professions.add(Io),xi.professionTimeMs[Io]=(xi.professionTimeMs[Io]||0)+Oe,xi.profession=Io),xi.totalMs+=Hs?ei:0,xi.uptimeMs+=qi?Oo:0,xi.durationMs+=Oe}),(Vs=ue.defenses)!=null&&Vs[0]&&aO.forEach(Ae=>{const qe=Number(ue.defenses[0][Ae.field]??0);Number.isFinite(qe)&&(ae.defenseTotals[Ae.id]=(ae.defenseTotals[Ae.id]||0)+qe)}),(Ta=ue.support)!=null&&Ta[0]&&sO.forEach(Ae=>{let qe=Number(ue.support[0][Ae.field]??0);Number.isFinite(qe)&&(A.has(Ae.field)&&qe>999999&&(qe=0),ae.supportTotals[Ae.id]=(ae.supportTotals[Ae.id]||0)+qe)});const Dt=(Ae,qe)=>{Number.isFinite(qe)&&(ae.healingTotals[Ae]=(ae.healingTotals[Ae]||0)+qe)},gt=(Ae,qe)=>Array.isArray(Ae)?Ae.reduce((Ke,Je)=>Ke+Number((Je==null?void 0:Je[qe])??0),0):0,xt=(Ae,qe,Ke)=>{if(!Number.isFinite(Ke)||Ke<=0)return;const Je=ye[qe],zt=qe===Pe,Tn=Je==null?void 0:Je.notInSquad,Gn=!Tn,ei=Gn&&(Je==null?void 0:Je.group)!=null&&Je.group===ue.group;Dt(Ae,Ke),Gn&&Dt(`squad${Ae[0].toUpperCase()}${Ae.slice(1)}`,Ke),ei&&Dt(`group${Ae[0].toUpperCase()}${Ae.slice(1)}`,Ke),zt&&Dt(`self${Ae[0].toUpperCase()}${Ae.slice(1)}`,Ke),Tn&&Dt(`offSquad${Ae[0].toUpperCase()}${Ae.slice(1)}`,Ke)};if(Array.isArray(ue.rotation)){let Ae=0;ue.rotation.forEach(qe=>{var Je;if(!(qe!=null&&qe.id)||!n6(qe.id,H.skillMap))return;const Ke=((Je=qe.skills)==null?void 0:Je.length)||0;Ke>0&&(Ae+=Ke,Dt(`resUtility_s${qe.id}`,Ke))}),Ae>0&&Dt("resUtility",Ae)}const Rt=(Ws=ue.extHealingStats)==null?void 0:Ws.outgoingHealingAllies;Array.isArray(Rt)&&Rt.forEach((Ae,qe)=>{const Ke=gt(Ae,"healing"),Je=gt(Ae,"downedHealing");xt("healing",qe,Ke),xt("downedHealing",qe,Je)});const Ut=(jl=ue.extBarrierStats)==null?void 0:jl.outgoingBarrierAllies;Array.isArray(Ut)&&Ut.forEach((Ae,qe)=>{const Ke=gt(Ae,"barrier");xt("barrier",qe,Ke)});const Ot=(od=ue.statsAll)==null?void 0:od[0],At=(Ea=ue.dpsAll)==null?void 0:Ea[0],Ie=(Pl=ue.support)==null?void 0:Pl[0];if(iO.forEach(Ae=>{if(Ae.id==="downContributionPercent"||!Ae.field)return;let qe=0,Ke=0;Ae.source==="dpsAll"&&At?qe=Number(At[Ae.field]??0):Ae.source==="statsAll"&&Ot?(qe=Number(Ot[Ae.field]??0),Ke=Number(Ot[Ae.denomField||Ae.weightField||"connectedDamageCount"]??0)):Ae.source==="support"&&Ie?qe=Number(Ie[Ae.field]??0):ue.statsTargets&&ue.statsTargets.forEach(Je=>{Je!=null&&Je[0]&&(qe+=Number(Je[0][Ae.field]??0),Ke+=Number(Je[0][Ae.denomField||Ae.weightField||"connectedDamageCount"]??0))}),Number.isFinite(qe)&&(ae.offenseTotals[Ae.id]=(ae.offenseTotals[Ae.id]||0)+qe,Ae.isRate&&Ke>0&&(ae.offenseRateWeights[Ae.id]=(ae.offenseRateWeights[Ae.id]||0)+Ke))}),ue.targetDamageDist&&Number.isFinite(_e)){const Ae=ue.targetDamageDist.flatMap(qe=>qe||[]).flatMap(qe=>qe||[]).reduce((qe,Ke)=>Ke!=null&&Ke.id&&Ke.id===_e?qe+((Ke==null?void 0:Ke.connectedHits)||0):qe,0);ae.offenseTotals.battleStandardHits=(ae.offenseTotals.battleStandardHits||0)+Ae}ae.revives+=((Bm=(Rm=ue.support)==null?void 0:Rm[0])==null?void 0:Bm.resurrects)||0,At&&(ae.damage+=At.damage||0,ae.dps+=At.dps||0);const tt=Ae=>{var zt,Tn,Gn,ei;let qe=`Skill ${Ae.id}`;const Ke=((zt=H.skillMap)==null?void 0:zt[`s${Ae.id}`])||((Tn=H.skillMap)==null?void 0:Tn[`${Ae.id}`]);let Je=Ke==null?void 0:Ke.icon;if(Ke!=null&&Ke.name&&(qe=Ke.name),qe.startsWith("Skill ")){const li=Xh(qe,Ae.id,H.buffMap);li&&(qe=li,Je=((ei=(Gn=H.buffMap)==null?void 0:Gn[`b${Ae.id}`])==null?void 0:ei.icon)||Je)}return{name:qe,icon:Je}},lt=Ae=>{if(!(Ae!=null&&Ae.id))return;const{name:qe,icon:Ke}=tt(Ae);$[Ae.id]||($[Ae.id]={name:qe,icon:Ke,damage:0,hits:0,downContribution:0}),$[Ae.id].name.startsWith("Skill ")&&!qe.startsWith("Skill ")&&($[Ae.id].name=qe),!$[Ae.id].icon&&Ke&&($[Ae.id].icon=Ke),$[Ae.id].damage+=Ae.totalDamage,$[Ae.id].hits+=Ae.connectedHits,$[Ae.id].downContribution+=Number(Ae.downContribution||0)},yt=ue.account||ue.name||"Unknown",ln=ue.profession||"Unknown",kn=`${yt}|${ln}`;let _n=te.get(kn);_n||(_n={key:kn,account:yt,displayName:yt,profession:ln,professionList:[ln],totalFightMs:0,skills:new Map},te.set(kn,_n)),_n.professionList.includes(ln)||_n.professionList.push(ln),_n.totalFightMs+=H.durationMS||0;const Vr=Ae=>{if(!(Ae!=null&&Ae.id))return;const{name:qe,icon:Ke}=tt(Ae),Je=`s${Ae.id}`;let zt=_n.skills.get(Je);zt||(zt={id:Je,name:qe,icon:Ke,damage:0,downContribution:0},_n.skills.set(Je,zt)),zt.name.startsWith("Skill ")&&!qe.startsWith("Skill ")&&(zt.name=qe),!zt.icon&&Ke&&(zt.icon=Ke),zt.damage+=Number(Ae.totalDamage||0),zt.downContribution+=Number(Ae.downContribution||0)};if(h==="total")(zm=ue.totalDamageDist)==null||zm.forEach(Ae=>{Ae==null||Ae.forEach(qe=>{lt(qe),Vr(qe)})});else{const Ae=new Map;(Um=ue.targetDamageDist)==null||Um.forEach(Ke=>{Ke==null||Ke.forEach(Je=>{Je==null||Je.forEach(zt=>{const Tn=Number(zt==null?void 0:zt.id);if(Number.isFinite(Tn)){const Gn=Ae.get(Tn)||{damage:0,hits:0,downContribution:0};Gn.damage+=Number((zt==null?void 0:zt.totalDamage)||0),Gn.hits+=Number((zt==null?void 0:zt.connectedHits)||0),Gn.downContribution+=Number((zt==null?void 0:zt.downContribution)||0),Ae.set(Tn,Gn)}lt(zt),Vr(zt)})})}),!(H!=null&&H.detailedWvW)&&((ys=ue.totalDamageDist)==null||ys.forEach(Ke=>{Ke==null||Ke.forEach(Je=>{const zt=Number(Je==null?void 0:Je.id);if(!Number.isFinite(zt))return;const Tn=Ae.get(zt);if(!Tn){lt(Je),Vr(Je);return}const Gn=Number((Je==null?void 0:Je.totalDamage)||0),ei=Number((Je==null?void 0:Je.connectedHits)||0),li=Number((Je==null?void 0:Je.downContribution)||0),Oi=Gn-Number(Tn.damage||0),Oo=ei-Number(Tn.hits||0),Hs=li-Number(Tn.downContribution||0);if(Oi<=0&&Oo<=0&&Hs<=0)return;const qi={...Je,totalDamage:Math.max(0,Oi),connectedHits:Math.max(0,Oo),downContribution:Math.max(0,Hs)};lt(qi),Vr(qi)})}))}ue.totalDamageTaken&&ue.totalDamageTaken.forEach(Ae=>{Ae==null||Ae.forEach(qe=>{var Tn,Gn,ei,li;if(!(qe!=null&&qe.id))return;let Ke=`Skill ${qe.id}`;const Je=((Tn=H.skillMap)==null?void 0:Tn[`s${qe.id}`])||((Gn=H.skillMap)==null?void 0:Gn[`${qe.id}`]);let zt=Je==null?void 0:Je.icon;if(Je!=null&&Je.name&&(Ke=Je.name),Ke.startsWith("Skill ")){const Oi=Xh(Ke,qe.id,H.buffMap);Oi&&(Ke=Oi,zt=((li=(ei=H.buffMap)==null?void 0:ei[`b${qe.id}`])==null?void 0:li.icon)||zt)}M[qe.id]||(M[qe.id]={name:Ke,icon:zt,damage:0,hits:0}),(!M[qe.id].name.startsWith("Skill ")||Ke.startsWith("Skill "))&&(M[qe.id].name=Ke),!M[qe.id].icon&&zt&&(M[qe.id].icon=zt),M[qe.id].damage+=qe.totalDamage,M[qe.id].hits+=qe.hits})})}),fe.forEach(ue=>{if(ue!=null&&ue.isFake)return;const Pe=U((ue==null?void 0:ue.profession)||(ue==null?void 0:ue.name)||(ue==null?void 0:ue.id));Pe&&(W[Pe]=(W[Pe]||0)+1)});const Le=qU({players:ye,targets:fe,skillMap:H.skillMap,buffMap:H.buffMap,getPlayerKey:ue=>ue.account&&ue.account!=="Unknown"?ue.account:ue.name||null}),Qe=EO(H.buffMap);Object.entries(Le.playerConditions).forEach(([ue,Pe])=>{const it=_.get(ue);it&&Object.entries(Pe).forEach(([$t,Nt])=>{const ae=it.outgoingConditions[$t]||{applications:0,damage:0,skills:{},icon:Nt.icon};ae.applications+=Number(Nt.applications||0),ae.damage+=Number(Nt.damage||0),Nt.applicationsFromBuffs&&(ae.applicationsFromBuffs=(ae.applicationsFromBuffs||0)+Nt.applicationsFromBuffs),Nt.applicationsFromBuffsActive&&(ae.applicationsFromBuffsActive=(ae.applicationsFromBuffsActive||0)+Nt.applicationsFromBuffsActive),Object.entries(Nt.skills||{}).forEach(([He,Oe])=>{const nt=ae.skills[He]||{name:Oe.name,hits:0,damage:0,icon:Oe.icon};nt.hits+=Number(Oe.hits||0),nt.damage+=Number(Oe.damage||0),!nt.icon&&Oe.icon&&(nt.icon=Oe.icon),ae.skills[He]=nt}),!ae.icon&&Nt.icon&&(ae.icon=Nt.icon),it.outgoingConditions[$t]=ae})}),Object.entries(Le.summary).forEach(([ue,Pe])=>{const it=Y[ue]||{name:Pe.name||ue,icon:Pe.icon,applications:0,damage:0};it.applications+=Number(Pe.applications||0),it.damage+=Number(Pe.damage||0),Pe.applicationsFromBuffs&&(it.applicationsFromBuffs=(it.applicationsFromBuffs||0)+Pe.applicationsFromBuffs),Pe.applicationsFromBuffsActive&&(it.applicationsFromBuffsActive=(it.applicationsFromBuffsActive||0)+Pe.applicationsFromBuffsActive),!it.icon&&Pe.icon&&(it.icon=Pe.icon),Y[ue]=it}),Me.forEach(ue=>{const Pe=ue.account&&ue.account!=="Unknown"?ue.account:ue.name||"Unknown",it=_.get(Pe);!it||!ue.totalDamageTaken||ue.totalDamageTaken.forEach($t=>$t==null?void 0:$t.forEach(Nt=>{var At,Ie,tt,lt,yt,ln;if(!(Nt!=null&&Nt.id))return;let ae=`Skill ${Nt.id}`;const He=((At=H.skillMap)==null?void 0:At[`s${Nt.id}`])||((Ie=H.skillMap)==null?void 0:Ie[`${Nt.id}`]);He!=null&&He.name&&(ae=He.name);const Oe=Xh(ae,Nt.id,H.buffMap);if(!Oe)return;const nt=(lt=(tt=H.buffMap)==null?void 0:tt[`b${Nt.id}`])==null?void 0:lt.name,Et=Qe.get(Oe)||((ln=(yt=H.buffMap)==null?void 0:yt[`b${Nt.id}`])==null?void 0:ln.icon),Dt=(He==null?void 0:He.icon)||Et;ae.startsWith("Skill ")&&(nt||Oe)&&(ae=nt||Oe);const gt=Number(Nt.hits??0),xt=Number(Nt.totalDamage??0),Rt=se[Oe]||{name:Oe,icon:Et,applications:0,damage:0};Rt.applications+=Number.isFinite(gt)?gt:0,Rt.damage+=Number.isFinite(xt)?xt:0,!Rt.icon&&Et&&(Rt.icon=Et),se[Oe]=Rt;const Ut=it.incomingConditions[Oe]||{applications:0,damage:0,skills:{},icon:Et};Ut.applications+=Number.isFinite(gt)?gt:0,Ut.damage+=Number.isFinite(xt)?xt:0;const Ot=Ut.skills[ae]||{name:ae,hits:0,damage:0,icon:Dt};Ot.hits+=Number.isFinite(gt)?gt:0,Ot.damage+=Number.isFinite(xt)?xt:0,!Ot.icon&&Dt&&(Ot.icon=Dt),Ut.skills[ae]=Ot,!Ut.icon&&Et&&(Ut.icon=Et),it.incomingConditions[Oe]=Ut}))});const Vt=H.player_damage_mitigation||H.playerDamageMitigation,on=Vt&&typeof Vt=="object"&&Object.keys(Vt).length>0;on&&Object.entries(Vt).forEach(([ue,Pe])=>{if(!Pe||typeof Pe!="object")return;const it=J(ue),$t=L(O,it.account,it);Object.values(Pe).forEach(Nt=>{B((Nt==null?void 0:Nt.avoided_damage)??(Nt==null?void 0:Nt.avoidedDamage))<=0||le($t.mitigationTotals,Nt)})});const An=H.player_minion_damage_mitigation||H.playerMinionDamageMitigation,Xt=An&&typeof An=="object"&&Object.keys(An).length>0;Xt&&Object.entries(An).forEach(([ue,Pe])=>{if(!Pe||typeof Pe!="object")return;const it=J(ue);Object.entries(Pe).forEach(([$t,Nt])=>{if(!Nt||typeof Nt!="object")return;const ae=`${it.account}::${$t}`,He=K(re,ae,{...it,minion:String($t||"Unknown")});Object.values(Nt).forEach(Oe=>{le(He.mitigationTotals,Oe)})})}),(!on||!Xt)&&(on||Me.forEach(ue=>{const Pe=(ue==null?void 0:ue.totalDamageTaken)||[];if(!Array.isArray(Pe)||Pe.length===0)return;const it=ue.account||ue.name||"Unknown",$t={account:it,name:ue.name||it,profession:U(ue.profession||"Unknown")};L(O,it,$t);const Nt=H.skillMap||{},ae=H.buffMap||{},He=Array.isArray(Pe)?Pe[0]:null;if(He==null||He.forEach(Oe=>{if(!(Oe!=null&&Oe.id))return;const nt=B(Oe.blocked),Et=B(Oe.evaded),Dt=B(Oe.glance??Oe.glanced),gt=B(Oe.missed),xt=B(Oe.invulned),Rt=B(Oe.interrupted),Ut=B(Oe.hits??Oe.connectedHits),Ot=Number(Oe.id),At=z(Ot,Nt,ae);if(Pn(vt,`${it}::${Ot}`,{totalHits:Ut,blocked:nt,evaded:Et,glanced:Dt,missed:gt,invulned:xt,interrupted:Rt}),it===Z){const Ie=R.get(Ot),tt=I(Ot),lt=tt.hasSkill?tt.hits>0?tt.avg:0:1,yt=tt.hasSkill?tt.min||0:1,ln=tt.hits>0?Dt*lt/2+(nt+Et+gt+xt+Rt)*lt:0,kn=tt.hits>0?Dt*yt/2+(nt+Et+gt+xt+Rt)*yt:0;Be.push({logId:E.filePath||E.id||V,skillId:Oe.id,skillName:At,blocked:nt,evaded:Et,glanced:Dt,missed:gt,invulned:xt,interrupted:Rt,totalAvoids:nt+Et+Dt+gt+xt+Rt,avg:lt,min:yt,enemyHits:(Ie==null?void 0:Ie.connectedHits)??0,enemyTotalDmg:(Ie==null?void 0:Ie.totalDamage)??0,avoidDmg:ln,avoidMinDmg:kn})}}),it===Z){const Oe=(nt,Et)=>{let Dt=0,gt=0,xt=0;if(!Array.isArray(nt))return{total:Dt,minTotal:gt,hits:xt};for(const Rt of nt){if(!(Rt!=null&&Rt.id))continue;const Ut=B(Rt.blocked),Ot=B(Rt.evaded),At=B(Rt.glance??Rt.glanced),Ie=B(Rt.missed),tt=B(Rt.invulned),lt=B(Rt.interrupted),yt=z(Number(Rt.id),Ve,Ne),ln=Et(Number(Rt.id),yt);(ln.hits??0)>0&&(Dt+=At*ln.avg/2+(Ut+Ot+Ie+tt+lt)*ln.avg,gt+=At*ln.min/2+(Ut+Ot+Ie+tt+lt)*ln.min),xt+=B(Rt.hits??Rt.connectedHits)}return{total:Dt,minTotal:gt,hits:xt}};De.push({logId:E.filePath||E.id||V,variant:"current_global_name_taken0",...Oe(He,(nt,Et)=>{const Dt=I(nt),gt=Dt.hasSkill?Dt.hits>0?Dt.avg:0:1,xt=Dt.hasSkill?Dt.min||0:1;return{avg:gt,min:xt,hits:Dt.hits}})})}}),Xt||Me.forEach(ue=>{const Pe=(ue==null?void 0:ue.minions)||[];if(!Array.isArray(Pe)||Pe.length===0)return;const it=ue.account||ue.name||"Unknown",$t={account:it,name:ue.name||it,profession:U(ue.profession||"Unknown")},Nt=H.skillMap||{},ae=H.buffMap||{};Pe.forEach(He=>{const Oe=(He==null?void 0:He.totalDamageTakenDist)||[];if(!Array.isArray(Oe)||Oe.length===0)return;let nt=String((He==null?void 0:He.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";nt.toUpperCase().includes("UNKNOWN")&&(nt="Unknown");const Et=`${it}::${nt}`;K(re,Et,{...$t,minion:nt});const Dt=Array.isArray(Oe)?Oe[0]:null;if(Dt==null||Dt.forEach(gt=>{if(!(gt!=null&&gt.id))return;const xt=B(gt.blocked),Rt=B(gt.evaded),Ut=B(gt.glance??gt.glanced),Ot=B(gt.missed),At=B(gt.invulned),Ie=B(gt.interrupted),tt=B(gt.hits??gt.connectedHits),lt=Number(gt.id),yt=z(lt,Nt,ae);if(Pn(sn,`${Et}::${lt}`,{totalHits:tt,blocked:xt,evaded:Rt,glanced:Ut,missed:Ot,invulned:At,interrupted:Ie}),it===Z&&nt===je){const ln=R.get(lt),kn=I(lt),_n=kn.hasSkill?kn.hits>0?kn.avg:0:1,Vr=kn.hasSkill?kn.min||0:1,Us=kn.hits>0?Ut*_n/2+(xt+Rt+Ot+At+Ie)*_n:0,Vs=kn.hits>0?Ut*Vr/2+(xt+Rt+Ot+At+Ie)*Vr:0;$e.push({logId:E.filePath||E.id||V,skillId:gt.id,skillName:yt,blocked:xt,evaded:Rt,glanced:Ut,missed:Ot,invulned:At,interrupted:Ie,totalAvoids:xt+Rt+Ut+Ot+At+Ie,avg:_n,min:Vr,enemyHits:(ln==null?void 0:ln.connectedHits)??0,enemyTotalDmg:(ln==null?void 0:ln.totalDamage)??0,avoidDmg:Us,avoidMinDmg:Vs})}}),it===Z&&nt===je){const gt=(Ot,At)=>{let Ie=0,tt=0,lt=0;if(!Array.isArray(Ot))return{total:Ie,minTotal:tt,hits:lt};for(const yt of Ot){if(!(yt!=null&&yt.id))continue;const ln=B(yt.blocked),kn=B(yt.evaded),_n=B(yt.glance??yt.glanced),Vr=B(yt.missed),Us=B(yt.invulned),Vs=B(yt.interrupted),Ta=z(Number(yt.id),Ve,Ne),{avg:Ws,min:jl}=At(Number(yt.id),Ta);B(yt.hits??yt.connectedHits)>0&&(Ie+=_n*Ws/2+(ln+kn+Vr+Us+Vs)*Ws,tt+=_n*jl/2+(ln+kn+Vr+Us+Vs)*jl),lt+=B(yt.hits??yt.connectedHits)}return{total:Ie,minTotal:tt,hits:lt}},xt=Array.isArray(Oe)?Oe[0]||[]:[],Rt=Array.isArray(Oe)?Oe.flat():[],Ut=Array.isArray(He==null?void 0:He.totalDamageTaken)?He.totalDamageTaken[0]||[]:[];ie.push({logId:E.filePath||E.id||V,variant:"current_global_name_dist0",...gt(xt,(Ot,At)=>{const Ie=I(Ot),tt=Ie.hasSkill?Ie.hits>0?Ie.avg:0:1,lt=Ie.hasSkill&&Ie.min||0;return{avg:tt,min:lt}})}),ie.push({logId:E.filePath||E.id||V,variant:"local_name_dist0",...gt(xt,(Ot,At)=>qt(At))}),ie.push({logId:E.filePath||E.id||V,variant:"local_id_dist0",...gt(xt,Ot=>wt(Ot))}),ie.push({logId:E.filePath||E.id||V,variant:"global_name_alllists",...gt(Rt,(Ot,At)=>{const Ie=I(Ot),tt=Ie.hasSkill?Ie.hits>0?Ie.avg:0:1,lt=Ie.hasSkill&&Ie.min||0;return{avg:tt,min:lt}})}),ie.push({logId:E.filePath||E.id||V,variant:"global_name_taken0",...gt(Ut,(Ot,At)=>{const Ie=I(Ot),tt=Ie.hasSkill?Ie.hits>0?Ie.avg:0:1,lt=Ie.hasSkill&&Ie.min||0;return{avg:tt,min:lt}})})}})}))}),$e.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table($e),ie.length>0&&console.table(ie),console.groupEnd()),Be.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(Be),De.length>0&&console.table(De),console.groupEnd());const un=(E,V)=>{const H=new Map,ye=fe=>{let Ve=H.get(fe);return Ve||(Ve=Q(),H.set(fe,Ve)),Ve};V.forEach((fe,Ve)=>{const Ne=Ve.lastIndexOf("::"),ot=Ne>-1?Ve.slice(0,Ne):Ve,mt=Ne>-1?Number(Ve.slice(Ne+2)):Number.NaN,wt=Number.isFinite(mt)?I(mt):{hasSkill:!1,avg:0,min:0,hits:0};if(!wt.hasSkill||wt.hits<=0)return;const qt=wt.avg,Gt=wt.min,In=fe.glanced*qt/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*qt,Xe=fe.glanced*Gt/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*Gt;if(In<=0)return;const Ye=ye(ot);Ye.totalHits+=fe.totalHits,Ye.blocked+=fe.blocked,Ye.evaded+=fe.evaded,Ye.glanced+=fe.glanced,Ye.missed+=fe.missed,Ye.invulned+=fe.invulned,Ye.interrupted+=fe.interrupted,Ye.totalMitigation+=In,Ye.minMitigation+=Xe}),E.forEach((fe,Ve)=>{const Ne=H.get(Ve)||Q();fe.mitigationTotals.totalHits=Ne.totalHits,fe.mitigationTotals.blocked=Ne.blocked,fe.mitigationTotals.evaded=Ne.evaded,fe.mitigationTotals.glanced=Ne.glanced,fe.mitigationTotals.missed=Ne.missed,fe.mitigationTotals.invulned=Ne.invulned,fe.mitigationTotals.interrupted=Ne.interrupted,fe.mitigationTotals.totalMitigation=Ne.totalMitigation,fe.mitigationTotals.minMitigation=Ne.minMitigation})};un(O,vt),un(re,sn);const he=p>0?Math.round(g/p):0,Se=p>0?Math.round(b/p):0,Ft=w>0?(S/w).toFixed(2):S>0?"":"0.00",Ht=C>0?(N/C).toFixed(2):N>0?"":"0.00",gn=(E,V)=>{const ye=E.filter(Ne=>Number.isFinite(Ne.value)&&(V?Ne.value>0:Ne.value>=0)).sort((Ne,ot)=>{const mt=V?ot.value-Ne.value:Ne.value-ot.value;return mt!==0?mt:Ne.account.localeCompare(ot.account)});let fe=null,Ve=0;return ye.map((Ne,ot)=>((fe===null||Ne.value!==fe)&&(Ve=ot+1,fe=Ne.value),{rank:Ve,...Ne}))},hn=Array.from(_.values()).map(E=>{const V=Array.from(E.professions).filter(H=>H!=="Unknown");if(E.professionList=V,V.length>0){let H=V[0],ye=E.professionTimeMs[H]||0;V.forEach(fe=>{const Ve=E.professionTimeMs[fe]||0;Ve>ye&&(ye=Ve,H=fe)}),E.profession=H}return{key:E.account,stat:E}}),zr=E=>{const V=_.get(E.account);if(!V){const fe=E.professionList.length>0?E.professionList:E.profession?[E.profession]:[];return{...E,professionList:fe}}const H=V.professionList&&V.professionList.length>0?V.professionList:Array.from(V.professions||[]).filter(fe=>fe&&fe!=="Unknown"),ye=V.profession||E.profession;return{...E,profession:ye,professionList:H.length>0?H:ye?[ye]:[],activeMs:V.defenseActiveMs||V.totalFightMs||E.activeMs}},cr=Array.from(O.values()).map(zr).filter(E=>ne(E.mitigationTotals)).sort((E,V)=>E.account.localeCompare(V.account)),ua=Array.from(re.values()).map(zr).filter(E=>E.mitigationTotals.totalMitigation>0).sort((E,V)=>{const H=E.account.localeCompare(V.account);return H!==0?H:String(E.minion||"").localeCompare(String(V.minion||""))}),Di=(E,V)=>{switch(V){case"downContrib":return E.downContrib;case"barrier":return E.barrier;case"healing":return E.healing;case"dodges":return E.dodges;case"strips":return E.strips;case"cleanses":return E.cleanses;case"cc":return E.cc;case"stability":return E.stab;case"revives":return E.revives;case"dps":return E.dps;case"damage":return E.damage;case"participation":return E.logsJoined;case"closestToTag":return!E.isCommander&&E.distCount>0?E.totalDist/E.distCount:Number.POSITIVE_INFINITY;default:return 0}},vn=(E,V)=>gn(hn.map(({stat:H})=>({account:H.account,profession:H.profession,professionList:H.professionList,value:Di(H,E),count:H.logsJoined})),V),xn={downContrib:vn("downContrib",!0),barrier:vn("barrier",!0),healing:vn("healing",!0),dodges:vn("dodges",!0),strips:vn("strips",!0),cleanses:vn("cleanses",!0),cc:vn("cc",!0),stability:vn("stability",!0),revives:vn("revives",!0),participation:vn("participation",!0),dps:vn("dps",!0),damage:vn("damage",!0),closestToTag:vn("closestToTag",!1).filter(E=>Number.isFinite(E.value))},br={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},dn=E=>{const V=E==null?void 0:E[0];return{value:(V==null?void 0:V.value)??0,player:(V==null?void 0:V.account)??"-",count:(V==null?void 0:V.count)??0,profession:(V==null?void 0:V.profession)??"Unknown",professionList:(V==null?void 0:V.professionList)??[]}},Jr={maxDownContrib:dn([]),maxBarrier:dn([]),maxHealing:dn([]),maxDodges:dn([]),maxStrips:dn([]),maxCleanses:dn([]),maxCC:dn([]),maxStab:dn([]),closestToTag:dn([])},Mi={},Mc=(E,V)=>{if(V==="closestToTag")return Di(E,V);const H=Math.max(1,(E.totalFightMs||0)/1e3);return Di(E,V)/H};Object.values(br).forEach(E=>{const V=E!=="closestToTag";Mi[E]=gn(hn.map(({stat:H})=>({account:H.account,profession:H.profession,professionList:H.professionList,value:Mc(H,E),count:H.logsJoined})),V)}),Jr.maxDownContrib=dn(Mi.downContrib),Jr.maxBarrier=dn(Mi.barrier),Jr.maxHealing=dn(Mi.healing),Jr.maxDodges=dn(Mi.dodges),Jr.maxStrips=dn(Mi.strips),Jr.maxCleanses=dn(Mi.cleanses),Jr.maxCC=dn(Mi.cc),Jr.maxStab=dn(Mi.stability),Jr.closestToTag=dn(Mi.closestToTag);const Sl={maxDownContrib:dn(xn.downContrib),maxBarrier:dn(xn.barrier),maxHealing:dn(xn.healing),maxDodges:dn(xn.dodges),maxStrips:dn(xn.strips),maxCleanses:dn(xn.cleanses),maxCC:dn(xn.cc),maxStab:dn(xn.stability),closestToTag:dn(xn.closestToTag)};let Nl={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Bs,Cl,zs=0;if(s!=null&&s.showMvp){const E={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},V=Ve=>{const Ne=E[Ve];return Ne?Number(o[Ne]||0)>0:!1},H=[],ye=Ve=>[...Ve||[]].filter(Ne=>V(Ne==null?void 0:Ne.name)).sort((Ne,ot)=>ot.ratio-Ne.ratio||Ne.rank-ot.rank||Ne.name.localeCompare(ot.name)).slice(0,3),fe=Ve=>{var ot;if(!Ve)return;const Ne=ye(Ve.contribs);return{...Ve,player:Ve.name,reason:((ot=Ne[0])==null?void 0:ot.name)||"Top Performance",topStats:Ne}};hn.forEach(({stat:Ve})=>{let Ne=0;const ot=[],mt=(wt,qt,Gt,In,Xe=!0)=>{var ft,Lt;if(Gt<=0)return;const Ye=((ft=qt[0])==null?void 0:ft.value)||0;if(Ye&&Number.isFinite(wt)&&(Xe?wt>0:wt<Number.POSITIVE_INFINITY)){const Yt=Xe?wt/Ye:Ye/wt;Ne+=Yt*Gt;const ve=((Lt=qt.find(ke=>ke.account===Ve.account))==null?void 0:Lt.rank)||0;ot.push({name:In,ratio:Yt,val:wt.toLocaleString(),rank:ve})}};mt(Ve.downContrib,xn.downContrib,o.downContribution,"Down Contribution"),mt(Ve.healing,xn.healing,o.healing,"Healing"),mt(Ve.cleanses,xn.cleanses,o.cleanses,"Cleanses"),mt(Ve.strips,xn.strips,o.strips,"Strips"),mt(Ve.stab,xn.stability,o.stability,"Stability"),mt(Ve.cc,xn.cc,o.cc,"CC"),mt(Ve.revives,xn.revives,o.revives,"Revives"),mt(Di(Ve,"closestToTag"),xn.closestToTag,o.distanceToTag,"Distance to Tag",!1),mt(Ve.logsJoined,xn.participation,o.participation,"Participation"),mt(Ve.dodges,xn.dodges,o.dodging,"Dodging"),mt(Ve.dps,xn.dps,o.dps,"DPS"),mt(Ve.damage,xn.damage,o.damage,"Damage"),H.push({...Ve,score:Ne,contribs:ot.filter(wt=>V(wt.name))})}),H.sort((Ve,Ne)=>Ne.score-Ve.score),H[0]&&H[0].score>0&&(Nl=fe(H[0])||Nl),Bs=fe(H[1]),Cl=fe(H[2]),zs=H.length>0?H.reduce((Ve,Ne)=>Ve+Ne.score,0)/H.length:0}const G=Object.values($).sort((E,V)=>{const H=m==="downContribution"?E.downContribution:E.damage;return(m==="downContribution"?V.downContribution:V.damage)-H}).slice(0,25),pe=Object.values(M).sort((E,V)=>V.damage-E.damage).slice(0,25),we=E=>{const V=String(E).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),H=V.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return H?`${H[1]} Borderlands`:V||"Unknown"},rt=(E,V)=>we((E==null?void 0:E.zone)||(E==null?void 0:E.mapName)||(E==null?void 0:E.map)||(E==null?void 0:E.location)||(E==null?void 0:E.fightName)||(V==null?void 0:V.fightName)||(V==null?void 0:V.encounterName)||"Unknown"),Ct=(E,V)=>{const H=(V==null?void 0:V.permalink)||(E==null?void 0:E.permalink);if(typeof H=="string"&&H.trim().length>0)return H.trim();const ye=E==null?void 0:E.uploadLinks;if(!Array.isArray(ye))return"";for(const fe of ye){if(typeof fe=="string"&&fe.trim().length>0)return fe.trim();if(fe&&typeof fe=="object"){const Ve=fe.permalink||fe.link||fe.url||fe.reportLink;if(typeof Ve=="string"&&Ve.trim().length>0)return Ve.trim()}}return""},_t={};a.forEach(E=>{const V=rt(E==null?void 0:E.details,E);_t[V]=(_t[V]||0)+1});const an=Object.entries(_t).map(([E,V])=>{const H=String(E).trim(),ye=/eternal battlegrounds|^ebg$/i.test(H);let fe="#64748b";return ye?fe="#ffffff":/red/i.test(H)?fe="#ef4444":/blue/i.test(H)?fe="#3b82f6":/green/i.test(H)&&(fe="#22c55e"),{name:E,value:V,color:fe}}).sort((E,V)=>V.value-E.value),{boonTables:Pt}=SU(a),jt=a.map((E,V)=>{var ye,fe;const H=((ye=E.details)==null?void 0:ye.players)||[];return{index:V+1,label:`Log ${V+1}`,timestamp:Xi(E.details,E),squadCount:H.filter(Ve=>!Ve.notInSquad).length,friendlyCount:H.length,enemies:((fe=E.details)==null?void 0:fe.targets).filter(Ve=>!Ve.isFake).length}}).sort((E,V)=>E.timestamp-V.timestamp),tn={};Array.from(_.values()).forEach(E=>{E.profession&&E.profession!=="Unknown"&&(tn[E.profession]=(tn[E.profession]||0)+1)});const Ge=Object.entries(tn).map(([E,V])=>({name:E,value:V,color:ic(E)})).sort((E,V)=>V.value-E.value),pt={};Object.keys(W).length===0&&a.forEach(E=>{var V,H;(H=(V=E.details)==null?void 0:V.targets)==null||H.forEach(ye=>{if(ye.isFake)return;const fe=ye.profession&&ye.profession!=="Unknown"?ye.profession:ye.name||ye.id||"Unknown",Ve=U(fe);pt[Ve]=(pt[Ve]||0)+1})});const Nn=Object.keys(W).length>0?W:pt,cn=Object.entries(Nn).map(([E,V])=>({name:E,value:V,color:ic(E)})).sort((E,V)=>V.value-E.value),Or=a.map((E,V)=>({log:E,originalIndex:V})).sort((E,V)=>Xi(E.log.details,E.log)-Xi(V.log.details,V.log)).map(({log:E},V)=>{const H=E.details;if(!H)return null;const ye=H.players||[],fe=ye.filter(me=>!me.notInSquad),Ve=ye.filter(me=>me.notInSquad),ot=(H.targets||[]).filter(me=>!me.isFake),mt=fe.reduce((me,Fe)=>{var _e,Le;return me+(((Le=(_e=Fe.dpsAll)==null?void 0:_e[0])==null?void 0:Le.damage)||0)},0),wt=fe.reduce((me,Fe)=>{var _e,Le;return me+(((Le=(_e=Fe.defenses)==null?void 0:_e[0])==null?void 0:Le.damageTaken)||0)},0),{enemyDeaths:qt,enemyDownsDeaths:Gt}=P(H),In=D(H),Xe=Xi(H,E),Ye=rt(H,E),ft=me=>{if(!me||typeof me!="object")return;const Fe=me.teamID??me.teamId??me.team??me.teamColor??me.team_color;if(Fe!=null)return Fe;const _e=Object.keys(me).find(Le=>/^team/i.test(Le));return _e?me[_e]:void 0},Lt=(me,Fe)=>{const _e={};return me.forEach(Le=>{const Qe=Fe(Le),Vt=U(Qe);Vt&&(_e[Vt]=(_e[Vt]||0)+1)}),_e},Yt=Lt(fe,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)),ve=Lt(Ve,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)),ke=Lt(ot,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)||(me==null?void 0:me.id)),ze=new Set;fe.forEach(me=>{const Fe=ft(me);Fe!=null&&ze.add(String(Fe))});const Me=new Map;ot.forEach(me=>{if((me==null?void 0:me.enemyPlayer)===!1)return;const Fe=ft(me);if(Fe==null)return;const _e=String(Fe);ze.has(_e)||Me.set(_e,(Me.get(_e)||0)+1)});const Ze=Array.from(Me.entries()).sort((me,Fe)=>{const _e=Fe[1]-me[1];return _e!==0?_e:me[0].localeCompare(Fe[0],void 0,{numeric:!0})}).slice(0,3).map(([me,Fe])=>({teamId:me,count:Fe}));return{id:E.filePath||`fight-${V}`,label:E.encounterName||`Fight ${V+1}`,permalink:Ct(H,E),timestamp:Xe,mapName:Ye,duration:Z2(H.durationMS),isWin:In,squadCount:fe.length,allyCount:Ve.length,enemyCount:ot.length,teamBreakdown:Ze,alliesDown:fe.reduce((me,Fe)=>{var _e,Le;return me+(((Le=(_e=Fe.defenses)==null?void 0:_e[0])==null?void 0:Le.downCount)||0)},0),alliesDead:fe.reduce((me,Fe)=>{var _e,Le;return me+(((Le=(_e=Fe.defenses)==null?void 0:_e[0])==null?void 0:Le.deadCount)||0)},0),alliesRevived:fe.reduce((me,Fe)=>{var _e,Le;return Number(((Le=(_e=Fe.statsAll)==null?void 0:_e[0])==null?void 0:Le.saved)||0)>0?me+1:me},0),rallies:0,enemyDeaths:qt,enemyDowns:Math.max(0,Gt-qt),totalOutgoingDamage:mt,totalIncomingDamage:wt,incomingBarrierAbsorbed:fe.reduce((me,Fe)=>{var _e,Le;return me+(((Le=(_e=Fe.defenses)==null?void 0:_e[0])==null?void 0:Le.damageBarrier)||0)},0),outgoingBarrierAbsorbed:fe.reduce((me,Fe)=>{var Qe;const _e=(Qe=Fe.extBarrierStats)==null?void 0:Qe.outgoingBarrier;if(!Array.isArray(_e))return me;let Le=0;return _e.forEach(Vt=>{if(Array.isArray(Vt)){Vt.forEach(on=>{Le+=Number((on==null?void 0:on.barrier)||0)});return}Le+=Number((Vt==null?void 0:Vt.barrier)||0)}),me+Le},0),squadClassCountsFight:Yt,allyClassCountsFight:ve,enemyClassCounts:ke}}).filter(Boolean),ur=Array.from(_.values()).map(E=>{const V=Object.entries(E.professionTimeMs||{}).map(([H,ye])=>({profession:H,timeMs:Number(ye||0)})).filter(H=>H.profession&&H.profession!=="Unknown"&&H.timeMs>0).sort((H,ye)=>{const fe=ye.timeMs-H.timeMs;return fe!==0?fe:H.profession.localeCompare(ye.profession)});return{account:E.account||"Unknown",characterNames:Array.from(E.characterNames||[]).filter(Boolean).sort((H,ye)=>H.localeCompare(ye)),classTimes:V,combatTimeMs:Number(E.squadActiveMs||E.totalFightMs||0),squadTimeMs:(()=>{const H=Number(E.firstSeenFightTs||0),ye=Number(E.lastSeenFightTs||0),fe=Math.max(0,Number(E.lastSeenFightDurationMs||0));return H>0&&ye>0?Math.max(0,ye+fe-H):Number(E.squadActiveMs||E.totalFightMs||0)})()}}).filter(E=>E.account&&E.account!=="Unknown").sort((E,V)=>{const H=V.squadTimeMs-E.squadTimeMs;return H!==0?H:String(E.account).localeCompare(String(V.account))}),Ur=a.map(E=>E).sort((E,V)=>Xi(E.details,E)-Xi(V.details,V)).map((E,V)=>{const H=E==null?void 0:E.details,ye=Array.isArray(H==null?void 0:H.players)?H.players.filter(Ne=>!(Ne!=null&&Ne.notInSquad)):[],fe=new Map;ye.forEach(Ne=>{const ot=Number(Ne==null?void 0:Ne.group),mt=Number.isFinite(ot)&&ot>0?ot:0;fe.has(mt)||fe.set(mt,{party:mt,players:[],classCounts:{}});const wt=U((Ne==null?void 0:Ne.profession)||(Ne==null?void 0:Ne.name)||"Unknown"),qt=String((Ne==null?void 0:Ne.account)||"Unknown"),Gt=String((Ne==null?void 0:Ne.name)||(Ne==null?void 0:Ne.character_name)||""),In=!!(Ne!=null&&Ne.hasCommanderTag),Xe=fe.get(mt);Xe.players.push({account:qt,characterName:Gt,profession:wt,isCommander:In}),Xe.classCounts[wt]=(Xe.classCounts[wt]||0)+1});const Ve=Array.from(fe.values()).map(Ne=>({...Ne,players:Ne.players.sort((ot,mt)=>{const wt=+!!mt.isCommander-+!!ot.isCommander;if(wt!==0)return wt;const qt=String(ot.profession).localeCompare(String(mt.profession));return qt!==0?qt:String(ot.account).localeCompare(String(mt.account))})})).sort((Ne,ot)=>Ne.party===0&&ot.party!==0?1:ot.party===0&&Ne.party!==0?-1:Ne.party-ot.party);return{id:String((E==null?void 0:E.filePath)||(E==null?void 0:E.id)||`fight-${V+1}`),label:`F${V+1}`,timestamp:Xi(H,E),mapName:rt(H,E),duration:Z2(Number((H==null?void 0:H.durationMS)||0)),parties:Ve}}),Ar=(E,V)=>{const H=(V==null?void 0:V.skillMap)||{},ye=(V==null?void 0:V.buffMap)||{};let fe=0,Ve="";const Ne=wt=>{const qt=Number(wt);if(!Number.isFinite(qt))return String(wt||"Unknown Skill");const Gt=(H==null?void 0:H[`s${qt}`])||(H==null?void 0:H[`${qt}`]);if(Gt!=null&&Gt.name)return String(Gt.name);const In=(ye==null?void 0:ye[`b${qt}`])||(ye==null?void 0:ye[`${qt}`]);return In!=null&&In.name?String(In.name):`Skill ${qt}`},ot=wt=>{if(!wt||typeof wt!="object")return;const qt=[Number(wt.max),Number(wt.maxDamage),Number(wt.maxHit)].filter(In=>Number.isFinite(In)),Gt=qt.length>0?Math.max(...qt):0;Gt>fe&&(fe=Gt,Ve=Ne(wt.id))};let mt=!1;return Array.isArray(E==null?void 0:E.targetDamageDist)&&E.targetDamageDist.forEach(wt=>{Array.isArray(wt)&&wt.forEach(qt=>{Array.isArray(qt)&&qt.forEach(Gt=>{mt=!0,ot(Gt)})})}),(!mt||fe<=0)&&Array.isArray(E==null?void 0:E.totalDamageDist)&&E.totalDamageDist.forEach(wt=>{Array.isArray(wt)&&wt.forEach(qt=>ot(qt))}),{peak:fe,skillName:Ve||"Unknown Skill"}},xs=(()=>{const E=Xe=>String(Xe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=Xe=>E(Xe).toLowerCase().split(/[^a-z0-9]+/i).map(Ye=>Ye.trim()).filter(Boolean).map(Ye=>Ye.length>3&&Ye.endsWith("s")?Ye.slice(0,-1):Ye),H=(Xe,Ye)=>{const ft=E(Xe),Lt=E(Ye);if(!Lt)return ft;if(!ft)return Lt;const Yt=V(ft),ve=V(Lt),ke=new Set(Yt),ze=new Set(ve),Me=ve.length>0&&ve.every(me=>ke.has(me)),Ze=Yt.length>0&&Yt.every(me=>ze.has(me));return Me||Ze?ft:`${ft} - ${Lt}`},ye=[],fe=new Map,Ve=Xe=>{const Ye=Me=>{if(!Array.isArray(Me)||Me.length===0)return[];const Ze=[];for(let me=0;me<Me.length;me+=1){const Fe=Number(Me[me]||0),_e=me>0?Number(Me[me-1]||0):0;Ze.push(Math.max(0,Fe-_e))}return Ze},ft=Me=>{if(!Array.isArray(Me))return[];const Ze=Me.reduce((Fe,_e)=>Math.max(Fe,Array.isArray(_e)?_e.length:0),0);if(Ze<=0)return[];const me=new Array(Ze).fill(0);return Me.forEach(Fe=>{if(Array.isArray(Fe))for(let _e=0;_e<Ze;_e+=1)me[_e]+=Number(Fe[_e]||0)}),me},Lt=Me=>Array.isArray(Me)?Me.map(Ze=>Number(Ze||0)):null,ve=(Me=>{if(!Array.isArray(Me)||Me.length===0)return null;const Ze=Me[0];if(!Array.isArray(Ze))return null;if(Array.isArray(Ze[0])&&Array.isArray(Ze[0][0]))return ft(Ze);if(Array.isArray(Ze[0])&&!Array.isArray(Ze[0][0])){const me=Me.map(Fe=>Lt(Array.isArray(Fe)?Fe[0]:null)).filter(Fe=>Array.isArray(Fe)&&Fe.length>0);if(me.length>0)return ft(me)}return null})(Xe==null?void 0:Xe.targetDamage1S),ke=Array.isArray(Xe==null?void 0:Xe.damage1S)&&Array.isArray(Xe.damage1S[0])?Xe.damage1S[0]:null,ze=ve||(Array.isArray(ke)?ke.map(Me=>Number(Me||0)):[]);return Ye(ze)},Ne=(Xe,Ye)=>{if(!Array.isArray(Xe)||Xe.length===0||Ye<=0)return 0;let ft=0,Lt=0;for(let Yt=0;Yt<Xe.length;Yt+=1)ft+=Number(Xe[Yt]||0),Yt>=Ye&&(ft-=Number(Xe[Yt-Ye]||0)),Yt>=Ye-1&&ft>Lt&&(Lt=ft);return Math.max(0,Lt)},ot=(Xe,Ye)=>{if(!Array.isArray(Xe)||Xe.length===0||Ye<=0)return[];const ft=[];for(let Lt=0;Lt<Xe.length;Lt+=Ye){const Yt=Math.min(Lt+Ye,Xe.length),ve=Xe.slice(Lt,Yt).reduce((ke,ze)=>ke+Number(ze||0),0);ft.push(ve)}return ft},mt=(Xe,Ye)=>{const ft=Number(Xe);if(!Number.isFinite(ft))return{name:String(Xe||"Unknown Skill"),icon:void 0};const Lt=(Ye==null?void 0:Ye.skillMap)||{},Yt=(Ye==null?void 0:Ye.buffMap)||{},ve=(Lt==null?void 0:Lt[`s${ft}`])||(Lt==null?void 0:Lt[`${ft}`]);if(ve!=null&&ve.name)return{name:String(ve.name),icon:ve==null?void 0:ve.icon};const ke=(Yt==null?void 0:Yt[`b${ft}`])||(Yt==null?void 0:Yt[`${ft}`]);return ke!=null&&ke.name?{name:String(ke.name),icon:ke==null?void 0:ke.icon}:{name:`Skill ${ft}`,icon:void 0}},wt=Xe=>Array.isArray(Xe)?Xe.map(Ye=>Array.isArray(Ye)?[Number(Ye[0]),Number(Ye[1])]:Ye&&typeof Ye=="object"?[Number(Ye.time),Number(Ye.value)]:null).filter(Ye=>!!Ye&&Number.isFinite(Ye[0])&&Ye[0]>=0):[],qt=(Xe,Ye,ft,Lt,Yt)=>{if(!Xe.length||Lt<=0)return[];const ve=Math.max(Lt*5e3,Yt||0),ke=Qe=>Qe.reduce((Vt,on)=>on>=0&&on<=ve+2e3?Vt+1:Vt,0),ze=Xe.map(Qe=>Number(Qe||0)).filter(Qe=>Number.isFinite(Qe)&&Qe>=0);if(!ze.length)return[];const Me=[ze],Ze=ze.reduce((Qe,Vt)=>Math.max(Qe,Vt),0),me=ze.reduce((Qe,Vt)=>Math.min(Qe,Vt),Number.POSITIVE_INFINITY);Ze>ve*20&&Me.push(ze.map(Qe=>Qe/1e3)),Ze<=ve*2&&me>=0&&Ze>0&&Ze<Math.max(120,Lt*5+10)&&Me.push(ze.map(Qe=>Qe*1e3));let Fe=ze,_e=0,Le=-1;return Me.forEach(Qe=>{const Vt=Qe.reduce((An,Xt)=>Math.min(An,Xt),Number.POSITIVE_INFINITY),on=new Set([0,...Ye,...ft]);if(Number.isFinite(Vt)&&ve>0&&Vt>ve){const An=Math.floor(Vt/ve)*ve;on.add(An),on.add(Math.max(0,An-ve))}on.forEach(An=>{const Xt=Qe.map(bn=>bn-An),Zt=ke(Xt);Zt>Le&&(Le=Zt,_e=An,Fe=Qe)})}),Fe.map(Qe=>Qe-_e).filter(Qe=>Number.isFinite(Qe)&&Qe>=0)},Gt=(Xe,Ye,ft,Lt,Yt)=>{const ve=qt(Xe,Ye,ft,Lt,Yt);return Array.from(new Set(ve.map(ke=>Math.floor(ke/5e3)).filter(ke=>Number.isFinite(ke)&&ke>=0&&ke<Lt)))};a.map(Xe=>({log:Xe,ts:Xi(Xe==null?void 0:Xe.details,Xe)})).sort((Xe,Ye)=>Xe.ts-Ye.ts).forEach(({log:Xe},Ye)=>{const ft=Xe==null?void 0:Xe.details;if(!ft)return;const Lt=E(ft.fightName||Xe.fightName||`Fight ${Ye+1}`),Yt=rt(ft,Xe),ve=H(Lt,String(Yt||"")),ke={},ze=Array.isArray(ft.players)?ft.players:[],Me=ze.flatMap(Le=>{const Qe=Le==null?void 0:Le.combatReplayData;return Array.isArray(Qe)?Qe.map(Vt=>Number(Vt==null?void 0:Vt.start)):[Number(Qe==null?void 0:Qe.start)]}).filter(Le=>Number.isFinite(Le)&&Le>=0);ze.forEach(Le=>{if(Le!=null&&Le.notInSquad)return;const Qe=String((Le==null?void 0:Le.account)||(Le==null?void 0:Le.name)||"Unknown"),Vt=String((Le==null?void 0:Le.character_name)||(Le==null?void 0:Le.display_name)||(Le==null?void 0:Le.name)||""),on=String((Le==null?void 0:Le.profession)||"Unknown"),An=`${Qe}|${on}`,Xt=Ar(Le,ft),Zt=Number(Xt.peak||0),bn=Ve(Le),ue=Number(Ne(bn,1)||0),Pe=Number(Ne(bn,5)||0),it=Number(Ne(bn,30)||0),$t=Math.max(0,Math.ceil(Number((ft==null?void 0:ft.durationMS)||0)/5e3)),Nt=Math.max(0,Math.ceil(bn.length/5)),ae=Math.max($t,Nt),He=ot(bn,5),Oe=Array.from({length:ae},(Ie,tt)=>Number(He[tt]||0)),nt=new Map,Et=Ie=>{if(!Ie||typeof Ie!="object"||Ie.indirectDamage)return;const tt=Number(Ie.totalDamage||0);if(!Number.isFinite(tt)||tt<=0)return;const lt=Number(Ie.connectedHits||Ie.hits||0),yt=mt(Ie.id,ft),ln=yt.name,kn=nt.get(ln)||{skillName:ln,damage:0,hits:0,icon:yt.icon};kn.damage+=tt,kn.hits+=Number.isFinite(lt)?lt:0,!kn.icon&&yt.icon&&(kn.icon=yt.icon),nt.set(ln,kn)},Dt=new Map;Array.isArray(Le==null?void 0:Le.targetDamageDist)&&Le.targetDamageDist.forEach(Ie=>{Array.isArray(Ie)&&Ie.forEach(tt=>{Array.isArray(tt)&&tt.forEach(lt=>{const yt=Number(lt==null?void 0:lt.id),ln=Number((lt==null?void 0:lt.totalDamage)||0);if(Number.isFinite(yt)){const kn=Dt.get(yt)||{damage:0,hits:0};kn.damage+=Number.isFinite(ln)?ln:0,kn.hits+=Number((lt==null?void 0:lt.connectedHits)||(lt==null?void 0:lt.hits)||0),Dt.set(yt,kn)}Et(lt)})})}),!(ft!=null&&ft.detailedWvW)&&Array.isArray(Le==null?void 0:Le.totalDamageDist)&&Le.totalDamageDist.forEach(Ie=>{Array.isArray(Ie)&&Ie.forEach(tt=>{const lt=Number(tt==null?void 0:tt.id);if(!Number.isFinite(lt)){Et(tt);return}const yt=Dt.get(lt);if(!yt){Et(tt);return}const ln=Number((tt==null?void 0:tt.totalDamage)||0),kn=Number((tt==null?void 0:tt.connectedHits)||(tt==null?void 0:tt.hits)||0),_n=ln-Number(yt.damage||0),Vr=kn-Number(yt.hits||0);_n<=0&&Vr<=0||Et({...tt,totalDamage:Math.max(0,_n),connectedHits:Math.max(0,Vr),hits:Math.max(0,Vr)})})});const xt=(()=>{const Ie=Le==null?void 0:Le.combatReplayData;return Array.isArray(Ie)?Ie.filter(tt=>tt&&typeof tt=="object"):Ie&&typeof Ie=="object"?[Ie]:[]})(),Rt=xt.map(Ie=>Number(Ie==null?void 0:Ie.start)).filter(Ie=>Number.isFinite(Ie)&&Ie>=0),Ut=xt.flatMap(Ie=>wt(Ie==null?void 0:Ie.down).map(([tt])=>Number(tt||0))),Ot=xt.flatMap(Ie=>wt(Ie==null?void 0:Ie.dead).map(([tt])=>Number(tt||0)));ke[An]={hit:Zt,burst1s:ue,burst5s:Pe,burst30s:it,skillName:Xt.skillName,buckets5s:Oe,downIndices5s:Gt(Ut,Rt,Me,ae,Number((ft==null?void 0:ft.durationMS)||0)),deathIndices5s:Gt(Ot,Rt,Me,ae,Number((ft==null?void 0:ft.durationMS)||0)),skillRows:Array.from(nt.values()).sort((Ie,tt)=>tt.damage-Ie.damage).slice(0,50)};const At=fe.get(An)||{key:An,account:Qe,displayName:Qe,characterName:Vt,profession:on,professionList:[on],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};At.logs+=1,At.professionList.includes(on)||At.professionList.push(on),!At.characterName&&Vt&&(At.characterName=Vt),Zt>At.peakHit&&(At.peakHit=Zt,At.peakFightLabel=ve,At.peakSkillName=Xt.skillName),ue>At.peak1s&&(At.peak1s=ue),Pe>At.peak5s&&(At.peak5s=Pe),it>At.peak30s&&(At.peak30s=it),fe.set(An,At)});const Ze=Object.values(ke).reduce((Le,Qe)=>Math.max(Le,Number((Qe==null?void 0:Qe.hit)||0)),0),me=Object.values(ke).reduce((Le,Qe)=>Math.max(Le,Number((Qe==null?void 0:Qe.burst1s)||0)),0),Fe=Object.values(ke).reduce((Le,Qe)=>Math.max(Le,Number((Qe==null?void 0:Qe.burst5s)||0)),0),_e=Object.values(ke).reduce((Le,Qe)=>Math.max(Le,Number((Qe==null?void 0:Qe.burst30s)||0)),0);ye.push({id:Xe.filePath||Xe.id||`fight-${Ye+1}`,shortLabel:`F${Ye+1}`,fullLabel:ve,timestamp:Xi(ft,Xe),values:ke,maxHit:Ze,max1s:me,max5s:Fe,max30s:_e})});const In=Array.from(fe.values()).sort((Xe,Ye)=>Ye.peakHit!==Xe.peakHit?Ye.peakHit-Xe.peakHit:Xe.displayName.localeCompare(Ye.displayName));return{fights:ye,players:In}})(),kv=(()=>{const E=ve=>String(ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=ve=>E(ve).toLowerCase().split(/[^a-z0-9]+/i).map(ke=>ke.trim()).filter(Boolean).map(ke=>ke.length>3&&ke.endsWith("s")?ke.slice(0,-1):ke),H=(ve,ke)=>{const ze=E(ve),Me=E(ke);if(!Me)return ze;if(!ze)return Me;const Ze=V(ze),me=V(Me),Fe=new Set(Ze),_e=new Set(me),Le=me.length>0&&me.every(Vt=>Fe.has(Vt)),Qe=Ze.length>0&&Ze.every(Vt=>_e.has(Vt));return Le||Qe?ze:`${ze} - ${Me}`},ye=[],fe=new Map,Ve=(ve,ke)=>{const ze=Number(ve);if(!Number.isFinite(ze))return{name:String(ve||"Unknown Skill"),icon:void 0};const Me=(ke==null?void 0:ke.skillMap)||{},Ze=(ke==null?void 0:ke.buffMap)||{},me=(Me==null?void 0:Me[`s${ze}`])||(Me==null?void 0:Me[`${ze}`]);if(me!=null&&me.name)return{name:String(me.name),icon:me==null?void 0:me.icon};const Fe=(Ze==null?void 0:Ze[`b${ze}`])||(Ze==null?void 0:Ze[`${ze}`]);return Fe!=null&&Fe.name?{name:String(Fe.name),icon:Fe==null?void 0:Fe.icon}:{name:`Skill ${ze}`,icon:void 0}},Ne=(ve,ke)=>{let ze=0,Me="";const Ze=me=>{if(!me||typeof me!="object"||me.indirectDamage)return;const Fe=[Number(me.max),Number(me.maxDamage),Number(me.maxHit)].filter(Le=>Number.isFinite(Le)),_e=Fe.length>0?Math.max(...Fe):0;_e>ze&&(ze=_e,Me=Ve(me.id,ke).name)};return Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(me=>{Array.isArray(me)&&me.forEach(Fe=>Ze(Fe))}),Array.isArray(ve==null?void 0:ve.targetDamageDist)&&ve.targetDamageDist.forEach(me=>{Array.isArray(me)&&me.forEach(Fe=>{Array.isArray(Fe)&&Fe.forEach(_e=>Ze(_e))})}),{peak:ze,skillName:Me||"Unknown Skill"}},ot=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ke=[];for(let ze=0;ze<ve.length;ze+=1){const Me=Number(ve[ze]||0),Ze=ze>0?Number(ve[ze-1]||0):0;ke.push(Math.max(0,Me-Ze))}return ke},mt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ke=ve.reduce((Me,Ze)=>Math.max(Me,Array.isArray(Ze)?Ze.length:0),0);if(ke<=0)return[];const ze=new Array(ke).fill(0);return ve.forEach(Me=>{if(Array.isArray(Me))for(let Ze=0;Ze<ke;Ze+=1)ze[Ze]+=Number(Me[Ze]||0)}),ze},wt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ke=ve[0];if(typeof ke=="number")return ve.map(ze=>Number(ze||0));if(Array.isArray(ke)&&ke.length>0){if(typeof ke[0]=="number")return ke.map(ze=>Number(ze||0));if(Array.isArray(ke[0])){const ze=ke.map(Me=>Array.isArray(Me)?Me.map(Ze=>Number(Ze||0)):null).filter(Me=>Array.isArray(Me)&&Me.length>0);if(ze.length>0)return mt(ze)}}return[]},qt=ve=>{const ke=wt(ve==null?void 0:ve.powerDamage1S),ze=wt(ve==null?void 0:ve.damage1S),Me=ke.length>0?ke:ze;return ot(Me)},Gt=(ve,ke)=>{const ze=ve==null?void 0:ve.targetPowerDamage1S;if(!Array.isArray(ze)||!Array.isArray(ze[ke]))return[];const Me=ze[ke];if(!Array.isArray(Me)||Me.length===0)return[];if(typeof Me[0]=="number")return Me.map(Ze=>Number(Ze||0));if(Array.isArray(Me[0])&&!Array.isArray(Me[0][0]))return Me[0].map(Ze=>Number(Ze||0));if(Array.isArray(Me[0])&&Array.isArray(Me[0][0])){const me=Me[0].map(Fe=>Array.isArray(Fe)?Fe.map(_e=>Number(_e||0)):null).filter(Fe=>Array.isArray(Fe)&&Fe.length>0);return mt(me)}return[]},In=(ve,ke)=>{if(!Array.isArray(ve)||ve.length===0||ke<=0)return 0;let ze=0,Me=0;for(let Ze=0;Ze<ve.length;Ze+=1)ze+=Number(ve[Ze]||0),Ze>=ke&&(ze-=Number(ve[Ze-ke]||0)),Ze>=ke-1&&ze>Me&&(Me=ze);return Math.max(0,Me)},Xe=(ve,ke)=>{if(!Array.isArray(ve)||ve.length===0||ke<=0)return[];const ze=[];for(let Me=0;Me<ve.length;Me+=ke){const Ze=Math.min(Me+ke,ve.length),me=ve.slice(Me,Ze).reduce((Fe,_e)=>Fe+Number(_e||0),0);ze.push(me)}return ze},Ye=ve=>Array.isArray(ve)?ve.map(ke=>Array.isArray(ke)?[Number(ke[0]),Number(ke[1])]:ke&&typeof ke=="object"?[Number(ke.time),Number(ke.value)]:null).filter(ke=>!!ke&&Number.isFinite(ke[0])&&ke[0]>=0):[],ft=(ve,ke,ze,Me,Ze)=>{if(!ve.length||Me<=0)return[];const me=Math.max(Me*5e3,Ze||0),Fe=Zt=>Zt.reduce((bn,ue)=>ue>=0&&ue<=me+2e3?bn+1:bn,0),_e=ve.map(Zt=>Number(Zt||0)).filter(Zt=>Number.isFinite(Zt)&&Zt>=0);if(!_e.length)return[];const Le=[_e],Qe=_e.reduce((Zt,bn)=>Math.max(Zt,bn),0),Vt=_e.reduce((Zt,bn)=>Math.min(Zt,bn),Number.POSITIVE_INFINITY);Qe>me*20&&Le.push(_e.map(Zt=>Zt/1e3)),Qe<=me*2&&Vt>=0&&Qe>0&&Qe<Math.max(120,Me*5+10)&&Le.push(_e.map(Zt=>Zt*1e3));let on=_e,An=0,Xt=-1;return Le.forEach(Zt=>{const bn=Zt.reduce((Pe,it)=>Math.min(Pe,it),Number.POSITIVE_INFINITY),ue=new Set([0,...ke,...ze]);if(Number.isFinite(bn)&&me>0&&bn>me){const Pe=Math.floor(bn/me)*me;ue.add(Pe),ue.add(Math.max(0,Pe-me))}ue.forEach(Pe=>{const it=Zt.map(Nt=>Nt-Pe),$t=Fe(it);$t>Xt&&(Xt=$t,An=Pe,on=Zt)})}),on.map(Zt=>Zt-An).filter(Zt=>Number.isFinite(Zt)&&Zt>=0)},Lt=(ve,ke,ze,Me,Ze)=>{const me=ft(ve,ke,ze,Me,Ze);return Array.from(new Set(me.map(Fe=>Math.floor(Fe/5e3)).filter(Fe=>Number.isFinite(Fe)&&Fe>=0&&Fe<Me)))};a.map(ve=>({log:ve,ts:Xi(ve==null?void 0:ve.details,ve)})).sort((ve,ke)=>ve.ts-ke.ts).forEach(({log:ve},ke)=>{const ze=ve==null?void 0:ve.details;if(!ze)return;const Me=E(ze.fightName||ve.fightName||`Fight ${ke+1}`),Ze=rt(ze,ve),me=H(Me,String(Ze||"")),Fe={},Le=(Array.isArray(ze.players)?ze.players:[]).filter(ae=>!(ae!=null&&ae.notInSquad)),Qe=Le.flatMap(ae=>{const He=ae==null?void 0:ae.combatReplayData;return Array.isArray(He)?He.map(Oe=>Number(Oe==null?void 0:Oe.start)):[Number(He==null?void 0:He.start)]}).filter(ae=>Number.isFinite(ae)&&ae>=0),Vt=Le.flatMap(ae=>{const He=ae==null?void 0:ae.combatReplayData;return(Array.isArray(He)?He:He?[He]:[]).flatMap(nt=>Ye(nt==null?void 0:nt.down).map(([Et])=>Number(Et||0)))}),on=Le.flatMap(ae=>{const He=ae==null?void 0:ae.combatReplayData;return(Array.isArray(He)?He:He?[He]:[]).flatMap(nt=>Ye(nt==null?void 0:nt.dead).map(([Et])=>Number(Et||0)))}),An=new Map,Xt=new Map,Zt=new Map;(Array.isArray(ze.targets)?ze.targets:[]).forEach((ae,He)=>{if(!ae||ae.isFake||!ae.enemyPlayer)return;const Oe=U((ae==null?void 0:ae.profession)||(ae==null?void 0:ae.name)||(ae==null?void 0:ae.id))||"Unknown";Zt.set(Oe,(Zt.get(Oe)||0)+1);const nt=Xt.get(Oe)||new Map;Array.isArray(ae==null?void 0:ae.totalDamageDist)&&ae.totalDamageDist.forEach(Ut=>{Array.isArray(Ut)&&Ut.forEach(Ot=>{if(!Ot||typeof Ot!="object"||Ot.indirectDamage)return;const At=Number(Ot.totalDamage||0);if(!Number.isFinite(At)||At<=0)return;const Ie=Number(Ot.connectedHits||Ot.hits||0),tt=Ve(Ot.id,ze),lt=tt.name,yt=nt.get(lt)||{skillName:lt,damage:0,hits:0,icon:tt.icon};yt.damage+=At,yt.hits+=Number.isFinite(Ie)?Ie:0,!yt.icon&&tt.icon&&(yt.icon=tt.icon),nt.set(lt,yt)})}),Xt.set(Oe,nt);const Et=mt(Le.map(Ut=>Gt(Ut,He))),Dt=Et.length>0?ot(Et):qt(ae),gt=Ne(ae,ze);let xt=An.get(Oe);xt||(xt={perSecond:[],hit:0,skillName:""},An.set(Oe,xt)),Dt.length>xt.perSecond.length&&(xt.perSecond.length=Dt.length);for(let Ut=0;Ut<Dt.length;Ut+=1)xt.perSecond[Ut]=Number(xt.perSecond[Ut]||0)+Number(Dt[Ut]||0);const Rt=Number(gt.peak||0);Rt>xt.hit&&(xt.hit=Rt,xt.skillName=gt.skillName||"Unknown Skill")});const ue=Array.from(An.values()).some(ae=>Array.isArray(ae.perSecond)&&ae.perSecond.some(He=>Number(He||0)>0));if(An.size===0||!ue){const ae=mt(Le.map(Oe=>{const nt=wt(Oe==null?void 0:Oe.powerDamageTaken1S);return ot(nt)})),He=Array.from(Zt.values()).reduce((Oe,nt)=>Oe+Number(nt||0),0);ae.length>0&&He>0&&Zt.forEach((Oe,nt)=>{const Et=Number(Oe||0)/He,Dt=ae.map(xt=>Number(xt||0)*Et),gt=An.get(nt);An.set(nt,{perSecond:Dt,hit:Number((gt==null?void 0:gt.hit)||0),skillName:String((gt==null?void 0:gt.skillName)||"")})})}An.forEach((ae,He)=>{var tt;const Oe=He,nt=Number(ae.hit||0),Et=Number(In(ae.perSecond,1)||0),Dt=Number(In(ae.perSecond,5)||0),gt=Number(In(ae.perSecond,30)||0),xt=Math.max(0,Math.ceil(Number((ze==null?void 0:ze.durationMS)||0)/5e3)),Rt=Math.max(0,Math.ceil(ae.perSecond.length/5)),Ut=Math.max(xt,Rt),Ot=Xe(ae.perSecond,5),At=Array.from({length:Ut},(lt,yt)=>Number(Ot[yt]||0));Fe[Oe]={hit:nt,burst1s:Et,burst5s:Dt,burst30s:gt,skillName:ae.skillName||"Unknown Skill",buckets5s:At,downIndices5s:Lt(Vt,[],Qe,Ut,Number((ze==null?void 0:ze.durationMS)||0)),deathIndices5s:Lt(on,[],Qe,Ut,Number((ze==null?void 0:ze.durationMS)||0)),skillRows:Array.from(((tt=Xt.get(He))==null?void 0:tt.values())||[]).sort((lt,yt)=>yt.damage-lt.damage).slice(0,50)};const Ie=fe.get(Oe)||{key:Oe,account:He,displayName:He,characterName:"",profession:He,professionList:[He],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Ie.logs+=1,nt>Ie.peakHit&&(Ie.peakHit=nt,Ie.peakFightLabel=me,Ie.peakSkillName=ae.skillName||"Unknown Skill"),Et>Ie.peak1s&&(Ie.peak1s=Et),Dt>Ie.peak5s&&(Ie.peak5s=Dt),gt>Ie.peak30s&&(Ie.peak30s=gt),fe.set(Oe,Ie)});const Pe=Object.values(Fe).reduce((ae,He)=>Math.max(ae,Number((He==null?void 0:He.hit)||0)),0),it=Object.values(Fe).reduce((ae,He)=>Math.max(ae,Number((He==null?void 0:He.burst1s)||0)),0),$t=Object.values(Fe).reduce((ae,He)=>Math.max(ae,Number((He==null?void 0:He.burst5s)||0)),0),Nt=Object.values(Fe).reduce((ae,He)=>Math.max(ae,Number((He==null?void 0:He.burst30s)||0)),0);ye.push({id:ve.filePath||ve.id||`fight-${ke+1}`,shortLabel:`F${ke+1}`,fullLabel:me,timestamp:Xi(ze,ve),values:Fe,maxHit:Pe,max1s:it,max5s:$t,max30s:Nt})});const Yt=Array.from(fe.values()).sort((ve,ke)=>ke.peakHit!==ve.peakHit?ke.peakHit-ve.peakHit:ve.displayName.localeCompare(ke.displayName));return{fights:ye,players:Yt}})(),Sv=Array.from(X.entries()).map(([E,V])=>{const H=ee.get(E)||{},ye=Array.from(V.values()).map(fe=>{var In,Xe;const Ve=Array.from(fe.professions||[]).filter(Ye=>Ye&&Ye!=="Unknown");let Ne=fe.profession||"Unknown";if(Ve.length>0){Ne=Ve[0];let Ye=((In=fe.professionTimeMs)==null?void 0:In[Ne])||0;Ve.forEach(ft=>{var Yt;const Lt=((Yt=fe.professionTimeMs)==null?void 0:Yt[ft])||0;Lt>Ye&&(Ye=Lt,Ne=ft)})}const ot=fe.durationMs||0,mt=fe.totalMs/1e3,wt=ot>0?fe.totalMs/ot:0,qt=((Xe=_.get(fe.account))==null?void 0:Xe.supportActiveMs)||ot,Gt=qt>0?fe.uptimeMs/qt:0;return{account:fe.account,profession:Ne,professionList:Ve,total:mt,perSecond:wt,uptimePerSecond:Gt,duration:ot/1e3}}).filter(fe=>fe.total>0||fe.perSecond>0);return{id:E,name:H.name||E,icon:H.icon,rows:ye}}).filter(E=>E.rows.length>0),Nv=Array.from(te.values()).map(E=>{const V=Array.from(E.skills.values()).sort((ye,fe)=>fe.damage-ye.damage),H=V.reduce((ye,fe)=>(ye[fe.id]=fe,ye),{});return{key:E.key,account:E.account,displayName:E.displayName,profession:E.profession,professionList:E.professionList,totalFightMs:E.totalFightMs,skills:V,skillMap:H}}).sort((E,V)=>E.displayName.localeCompare(V.displayName));return{total:p,wins:v,losses:y,avgSquadSize:he,avgEnemies:Se,squadKDR:Ft,enemyKDR:Ht,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:xn,...Sl,outgoingConditionSummary:Object.values(Y).sort((E,V)=>V.damage-E.damage),incomingConditionSummary:Object.values(se).sort((E,V)=>V.damage-E.damage),outgoingConditionPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.outgoingConditions})),incomingConditionPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.incomingConditions})),topSkills:G,topIncomingSkills:pe,playerSkillBreakdowns:Nv,topSkillsMetric:m,mapData:an,timelineData:jt,boonTables:Pt,offensePlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,offenseTotals:E.offenseTotals,offenseRateWeights:E.offenseRateWeights,totalFightMs:E.totalFightMs})),defensePlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,defenseTotals:E.defenseTotals,activeMs:E.defenseActiveMs})),damageMitigationPlayers:cr,damageMitigationMinions:ua,supportPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,supportTotals:E.supportTotals,activeMs:E.supportActiveMs})),healingPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,healingTotals:E.healingTotals,activeMs:E.healingActiveMs})),mvp:Nl,silver:Bs,bronze:Cl,squadClassData:Ge,enemyClassData:cn,fightBreakdown:Or,attendanceData:ur,squadCompByFight:Ur,spikeDamage:xs,incomingStrikeDamage:kv,specialTables:Sv,topStatsPerSecond:Jr,topStatsLeaderboardsPerSecond:Mi,avgMvpScore:zs}})(),d=(()=>{const f=new Map,h=new Map,m=[],p=new Map,v=new Map;a.forEach(g=>{const b=g.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=Xi(b,g)||Date.now(),N={id:g.filePath||g.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(D=>{if(D.notInSquad)return;const _=D.account||D.name||"Unknown",A=D.profession||"Unknown",$=`${_}|${A}`;let M=h.get($);M||(M={key:$,account:_,displayName:_,profession:A,professionList:[A],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set($,M)),M.logs++;const te=(Array.isArray(D.activeTimes)?D.activeTimes[0]:0)/1e3;M.totalActiveSeconds=(M.totalActiveSeconds||0)+te,N.playerActiveSeconds[$]=te,(D.rotation||[]).forEach(Y=>{var oe,T,j;if(!(Y!=null&&Y.id))return;const se=((oe=Y.skills)==null?void 0:oe.length)||0;if(se<=0)return;const W=`s${Y.id}`,ee=((T=w[W])==null?void 0:T.name)||`Skill ${Y.id}`,X=(j=w[W])==null?void 0:j.icon;M.skillTotals[W]=(M.skillTotals[W]||0)+se,f.set(W,(f.get(W)||0)+se),p.set(W,ee),X&&!v.has(W)&&v.set(W,X),N.skillEntries[W]||(N.skillEntries[W]={name:ee,icon:X,players:{}}),!N.skillEntries[W].icon&&X&&(N.skillEntries[W].icon=X),N.skillEntries[W].players[$]=(N.skillEntries[W].players[$]||0)+se})}),m.push(N)});const y=Array.from(f.entries()).map(([g,b])=>({id:g,name:p.get(g)||g,total:b,icon:v.get(g)})).sort((g,b)=>b.total-g.total);return{logRecords:m,players:Array.from(h.values()),skillOptions:y,resUtilitySkills:[]}})();return{validLogs:a,stats:c,skillUsageData:d}},XU=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const[a,s]=x.useState(()=>tx({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[o,l]=x.useState(0),[c,d]=x.useState(0),[f,h]=x.useState(0),[m,p]=x.useState(0),[v,y]=x.useState(null),g=x.useRef(0),[b,w]=x.useState(0),S=x.useRef(null),C=x.useRef(null),[N,P]=x.useState(!1),D=x.useRef(null),A=e.length<=8,$=x.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}),[e,t,n,r,i]);x.useEffect(()=>{if(!(typeof Worker>"u")&&!N&&A)return C.current||(C.current=new Worker(new URL(""+new URL("statsWorker-DfbeUPZR.js",import.meta.url).href,import.meta.url),{type:"module"}),C.current.onmessage=Y=>{var se;((se=Y.data)==null?void 0:se.type)==="result"&&(s(Y.data.result),typeof Y.data.computeId=="number"?l(Y.data.computeId):l(W=>W+1),typeof Y.data.logCount=="number"&&d(Y.data.logCount),typeof Y.data.token=="number"&&h(Y.data.token),typeof Y.data.completedAt=="number"&&p(Y.data.completedAt),typeof Y.data.flushId=="number"&&y(Y.data.flushId))},C.current.onerror=Y=>{var se;console.warn("[StatsWorker] Worker error. Falling back to main thread.",Y),(se=C.current)==null||se.terminate(),C.current=null,P(!0)},C.current.onmessageerror=Y=>{var se;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",Y),(se=C.current)==null||se.terminate(),C.current=null,P(!0)},S.current!==null&&C.current.postMessage({type:"flush",flushId:S.current})),()=>{var Y;(Y=C.current)==null||Y.terminate(),C.current=null}},[N,A]),x.useEffect(()=>{var Y;if(!(!C.current||N||!A))try{g.current+=1,w(g.current),C.current.postMessage({type:"reset",token:g.current}),C.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}}),D.current&&(window.clearTimeout(D.current),D.current=null);let se=0;const W=()=>{if(!C.current)return;const ee=5;for(let X=0;X<ee&&se<e.length;X+=1,se+=1)C.current.postMessage({type:"log",payload:e[se]});se<e.length?D.current=window.setTimeout(W,0):(D.current=null,C.current.postMessage({type:"flush"}))};W()}catch(se){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",se),(Y=C.current)==null||Y.terminate(),C.current=null,P(!0)}},[$,e,t,n,r,i,A]);const M=x.useMemo(()=>!N&&typeof Worker<"u"&&A?null:tx({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}),[N,e,t,n,r,i,A]);return x.useEffect(()=>{!N&&typeof Worker<"u"&&A||(l(Y=>Y+1),d(e.length),h(g.current),p(Date.now()))},[M,N,e.length,A]),{result:N||typeof Worker>"u"||!A?M??tx({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}):a,computeTick:o,lastComputedLogCount:c,lastComputedToken:f,activeToken:b,lastComputedAt:m,lastComputedFlushId:v,requestFlush:()=>{const Y=Date.now();return S.current=Y,C.current&&!N&&C.current.postMessage({type:"flush",flushId:Y}),Y}}},ZU=e=>({apmSpecBuckets:x.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let c=!1;return l&&typeof l.autoAttack=="boolean"?c=l.autoAttack:c=r6(s),i.set(o,c),c};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const c=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(c)&&c>0?c:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,N])=>{const P=Number(N);if(!Number.isFinite(P)||P<=0)return;const D=r.get(C),_=(D==null?void 0:D.name)||C,A=D==null?void 0:D.icon,$=a(_,C);f+=P,$&&(h+=P);let M=l.skillMap.get(C);M||(M={id:C,name:_,icon:A,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,M)),!M.icon&&A&&(M.icon=A),M.totalCasts+=P;const te=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;M.playerCounts.set(te,P)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,v=p>0?f/p:0,y=Math.max(0,f-h),g=p>0?y/p:0,b=d>0?f/d:0,w=d>0?y/d:0,S={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:v,apmNoAuto:g,aps:b,apsNoAuto:w};l.playerRows.push(S)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,c=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?c/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?c/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(v=>{var S;const y=Number(((S=d.playerCounts)==null?void 0:S.get(v.key))||0);if(!Number.isFinite(y)||y<=0)return null;const g=Number(v.totalActiveSeconds||0),b=g>0?y/(g/60):0,w=g>0?y/g:0;return{...v,count:y,apm:b,aps:w}}).filter(Boolean).sort((v,y)=>y.apm-v.apm||String(v.displayName||"").localeCompare(String(y.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),QU=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=x.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=x.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const v=h.totalActiveSeconds||1;p=v>0?m/v:0}d.set(h.key,p)}),d},[e.players,t,r]),s=x.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=x.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const v=m.skillEntries[t];if(!v)return null;const y={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let g=!1,b=!1;if(Object.entries(v.players).forEach(([w,S])=>{var N;if(n.size>0&&!n.has(w))return;let C=S;if(f){const P=((N=m.playerActiveSeconds)==null?void 0:N[w])||0;C=P>0?S/P:0}y[w]=C,C>d&&(d=C),g=!0,b=!0}),n.size>0){if(!b)return null}else if(!g)return null;return n.forEach(w=>{y[w]===void 0&&(y[w]=0)}),y}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),c=x.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function DO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=DO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=DO(e))&&(r&&(r+=" "),r+=t);return r}var JU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function E1(e){if(typeof e!="string")return!1;var t=JU;return t.includes(e)}var e8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],t8=new Set(e8);function MO(e){return typeof e!="string"?!1:t8.has(e)}function OO(e){return typeof e=="string"&&e.startsWith("data-")}function qa(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(MO(n)||OO(n))&&(t[n]=e[n]);return t}function Ou(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return qa(t)}return typeof e=="object"&&!Array.isArray(e)?qa(e):null}function zi(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(MO(n)||OO(n)||E1(n))&&(t[n]=e[n]);return t}function n8(e){return e==null?null:x.isValidElement(e)?zi(e.props):typeof e=="object"&&!Array.isArray(e)?zi(e):null}var r8=["children","width","height","viewBox","className","style","title","desc"];function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eb.apply(null,arguments)}function i8(e,t){if(e==null)return{};var n,r,i=a8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var D1=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=i8(e,r8),f=a||{width:r,height:i,x:0,y:0},h=jn("recharts-surface",s);return x.createElement("svg",eb({},zi(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,c),n)}),s8=["children","className"];function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tb.apply(null,arguments)}function o8(e,t){if(e==null)return{};var n,r,i=l8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aa=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=o8(e,s8),a=jn("recharts-layer",r);return x.createElement("g",tb({className:a},zi(i),{ref:t}),n)}),IO=x.createContext(null),c8=()=>x.useContext(IO);function Hn(e){return function(){return e}}const _O=Math.cos,$p=Math.sin,ps=Math.sqrt,Fp=Math.PI,u0=2*Fp,nb=Math.PI,rb=2*nb,Rl=1e-6,u8=rb-Rl;function LO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function d8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return LO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class f8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?LO:d8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Rl)if(!(Math.abs(f*l-c*d)>Rl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,v=l*l+c*c,y=m*m+p*p,g=Math.sqrt(v),b=Math.sqrt(h),w=a*Math.tan((nb-Math.acos((v+h-y)/(2*g*b)))/2),S=w/b,C=w/g;Math.abs(S-1)>Rl&&this._append`L${t+S*d},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Rl||Math.abs(this._y1-d)>Rl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%rb+rb),h>u8?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>Rl&&this._append`A${r},${r},0,${+(h>=nb)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function M1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new f8(t)}function O1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $O(e){this._context=e}$O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function d0(e){return new $O(e)}function FO(e){return e[0]}function RO(e){return e[1]}function BO(e,t){var n=Hn(!0),r=null,i=d0,a=null,s=M1(o);e=typeof e=="function"?e:e===void 0?FO:Hn(e),t=typeof t=="function"?t:t===void 0?RO:Hn(t);function o(l){var c,d=(l=O1(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Hn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Hn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Hn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function hh(e,t,n){var r=null,i=Hn(!0),a=null,s=d0,o=null,l=M1(c);e=typeof e=="function"?e:e===void 0?FO:Hn(+e),t=typeof t=="function"?t:Hn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?RO:Hn(+n);function c(f){var h,m,p,v=(f=O1(f)).length,y,g=!1,b,w=new Array(v),S=new Array(v);for(a==null&&(o=s(b=l())),h=0;h<=v;++h){if(!(h<v&&i(y=f[h],h,f))===g)if(g=!g)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],S[p]);o.lineEnd(),o.areaEnd()}g&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),o.point(r?+r(y,h,f):w[h],n?+n(y,h,f):S[h]))}if(b)return o=null,b+""||null}function d(){return BO().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Hn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Hn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Hn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class zO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function m8(e){return new zO(e,!0)}function h8(e){return new zO(e,!1)}const I1={draw(e,t){const n=ps(t/Fp);e.moveTo(n,0),e.arc(0,0,n,0,u0)}},p8={draw(e,t){const n=ps(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},UO=ps(1/3),g8=UO*2,v8={draw(e,t){const n=ps(t/g8),r=n*UO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},x8={draw(e,t){const n=ps(t),r=-n/2;e.rect(r,r,n,n)}},y8=.8908130915292852,VO=$p(Fp/10)/$p(7*Fp/10),b8=$p(u0/10)*VO,w8=-_O(u0/10)*VO,k8={draw(e,t){const n=ps(t*y8),r=b8*n,i=w8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=u0*a/5,o=_O(s),l=$p(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},nx=ps(3),S8={draw(e,t){const n=-ps(t/(nx*3));e.moveTo(0,n*2),e.lineTo(-nx*n,-n),e.lineTo(nx*n,-n),e.closePath()}},Da=-.5,Ma=ps(3)/2,ib=1/ps(12),N8=(ib/2+1)*3,C8={draw(e,t){const n=ps(t/N8),r=n/2,i=n*ib,a=r,s=n*ib+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Da*r-Ma*i,Ma*r+Da*i),e.lineTo(Da*a-Ma*s,Ma*a+Da*s),e.lineTo(Da*o-Ma*l,Ma*o+Da*l),e.lineTo(Da*r+Ma*i,Da*i-Ma*r),e.lineTo(Da*a+Ma*s,Da*s-Ma*a),e.lineTo(Da*o+Ma*l,Da*l-Ma*o),e.closePath()}};function j8(e,t){let n=null,r=M1(i);e=typeof e=="function"?e:Hn(e||I1),t=typeof t=="function"?t:Hn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Hn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Hn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Rp(){}function Bp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function WO(e){this._context=e}WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P8(e){return new WO(e)}function HO(e){this._context=e}HO.prototype={areaStart:Rp,areaEnd:Rp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A8(e){return new HO(e)}function qO(e){this._context=e}qO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T8(e){return new qO(e)}function KO(e){this._context=e}KO.prototype={areaStart:Rp,areaEnd:Rp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function E8(e){return new KO(e)}function uC(e){return e<0?-1:1}function dC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(uC(a)+uC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function fC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rx(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function zp(e){this._context=e}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rx(this,this._t0,fC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rx(this,fC(this,n=dC(this,e,t)),n);break;default:rx(this,this._t0,n=dC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function GO(e){this._context=new YO(e)}(GO.prototype=Object.create(zp.prototype)).point=function(e,t){zp.prototype.point.call(this,t,e)};function YO(e){this._context=e}YO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function D8(e){return new zp(e)}function M8(e){return new GO(e)}function XO(e){this._context=e}XO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=mC(e),i=mC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function O8(e){return new XO(e)}function f0(e,t){this._context=e,this._t=t}f0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function I8(e){return new f0(e,.5)}function _8(e){return new f0(e,0)}function L8(e){return new f0(e,1)}function hc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ab(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function $8(e,t){return e[t]}function F8(e){const t=[];return t.key=e,t}function R8(){var e=Hn([]),t=ab,n=hc,r=$8;function i(a){var s=Array.from(e.apply(this,arguments),F8),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=O1(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Hn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Hn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?ab:typeof a=="function"?a:Hn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??hc,i):n},i}function B8(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}hc(e,t)}}function z8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}hc(e,t)}}function U8(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var v=e[t[p]],y=v[r][1]||0,g=v[r-1][1]||0;m+=y-g}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,hc(e,t)}}var m0={},ZO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(ZO);var _1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(_1);var h0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(h0);var p0={},QO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(QO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QO,n=h0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(p0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO,n=_1,r=h0,i=p0;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(m0);var V8=m0.get;const pc=hs(V8);var W8=4;function Xo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Xo(o)+a:i+a},"")}var Pi=e=>e===0?0:e>0?1:-1,_s=e=>typeof e=="number"&&e!=+e,go=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,St=e=>(typeof e=="number"||e instanceof Number)&&!_s(e),Ls=e=>St(e)||typeof e=="string",H8=0,jf=e=>{var t=++H8;return"".concat(e||"").concat(t)},ba=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!St(t)&&typeof t!="string")return r;var a;if(go(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return _s(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},JO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function ji(e,t,n){return St(e)&&St(t)?Xo(e+n*(t-e)):t}function e5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):pc(r,t))===n)}var Gr=e=>e===null||typeof e>"u",nm=e=>Gr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function q8(e){return e!=null}function rm(){}var K8=["type","size","sizeType"];function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(null,arguments)}function hC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(n),!0).forEach(function(r){G8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G8(e,t,n){return(t=Y8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y8(e){var t=X8(e,"string");return typeof t=="symbol"?t:t+""}function X8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z8(e,t){if(e==null)return{};var n,r,i=Q8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var t5={symbolCircle:I1,symbolCross:p8,symbolDiamond:v8,symbolSquare:x8,symbolStar:k8,symbolTriangle:S8,symbolWye:C8},J8=Math.PI/180,eV=e=>{var t="symbol".concat(nm(e));return t5[t]||I1},tV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*J8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},nV=(e,t)=>{t5["symbol".concat(nm(e))]=t},L1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Z8(e,K8),a=pC(pC({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=eV(s),m=j8().type(h).size(tV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:c,cy:d}=a,f=zi(a);return St(c)&&St(d)&&St(n)?x.createElement("path",sb({},f,{className:jn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};L1.registerSymbol=nV;var n5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,$1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{E1(i)&&(r[i]=a=>n[i](n,a))}),r},rV=(e,t,n)=>r=>(e(t,n,r),null),F1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];E1(i)&&typeof a=="function"&&(r||(r={}),r[i]=rV(a,t,n))}),r};function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(n),!0).forEach(function(r){aV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aV(e,t,n){return(t=sV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(e,t){var n=iV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Up.apply(null,arguments)}function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){cV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cV(e,t,n){return(t=uV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uV(e){var t=dV(e,"string");return typeof t=="symbol"?t:t+""}function dV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var La=32,fV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function mV(e){var{data:t,iconType:n,inactiveColor:r}=e,i=La/2,a=La/6,s=La/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:La,y2:i,className:"recharts-legend-icon"})}if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(La,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(La/8,"h").concat(La,"v").concat(La*3/4,"h").concat(-La,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var d=lV({},t);return delete d.legendIcon,x.cloneElement(t.legendIcon,d)}return x.createElement(L1,{fill:o,cx:i,cy:i,size:La,sizeType:"diameter",type:l})}function hV(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:La,height:La},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=jn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,v=h?h(d.value,d,f):d.value;return x.createElement("li",Up({className:m,style:l,key:"legend-item-".concat(f)},F1(e,d,f)),x.createElement(D1,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(v," legend icon")},x.createElement(mV,{data:d,iconType:s,inactiveColor:a})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},v))})}var pV=e=>{var t=Yr(e,fV),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},x.createElement(hV,Up({},t,{payload:n})))},r5={},i5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(i5);var a5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(a5);var R1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(R1);var s5={},g0={},o5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(o5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o5;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(g0);var l5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(l5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0,n=l5;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(s5);var c5={},u5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(u5);var d5={},B1={},f5={},z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(z1);var U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(U1);var V1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(V1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,n=U1,r=V1;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,v,y,g,b,w){const S=h(p,v,y,g,b,w);return S!==void 0?!!S:a(p,v,m,w)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<p.length;v++){const y=p[v];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,v]of f.entries()){const y=d.get(p);if(h(y,v,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let v=0;v<f.length;v++){const y=f[v];let g=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let S=!1;if(h(w,y,v,d,f,m)&&(S=!0),S){p.add(b),g=!0;break}}if(!g)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(f5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f5;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(B1);var m5={},W1={},h5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(h5);var v0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(v0);var H1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",v="[object DataView]",y="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",D="[object BigInt64Array]",_="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=v,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=_,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=P,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=g})(H1);var p5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(p5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h5,n=v0,r=H1,i=U1,a=p5;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const v=p==null?void 0:p(d,f,h,m);if(v!==void 0)return v;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let g=0;g<d.length;g++)y[g]=o(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[g,b]of d)y.set(g,o(b,g,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const g of d)y.add(o(g,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let g=0;g<d.length;g++)y[g]=o(d[g],g,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),l(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),l(y,d,h,m,p),y}return d}function l(d,f,h=d,m,p){const v=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<v.length;y++){const g=v[y],b=Object.getOwnPropertyDescriptor(d,g);(b==null||b.writable)&&(d[g]=o(f[g],g,h,m,p))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(W1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(m5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=m5;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(d5);var g5={},v5={},x5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1,n=v0,r=H1;function i(a,s){return t.cloneDeepWith(a,(o,l,c,d)=>{const f=s==null?void 0:s(o,l,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(x5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x5;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(v5);var y5={},q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(q1);var b5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(b5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_1,n=q1,r=b5,i=p0;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(y5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=h0,r=v5,i=m0,a=y5;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(g5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R1,n=u5,r=d5,i=g5;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(c5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i5,n=a5,r=R1,i=s5,a=c5;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(r5);var gV=r5.uniqBy;const xC=hs(gV);function w5(e,t,n){return t===!0?xC(e,n):typeof t=="function"?xC(e,t):e}var k5={exports:{}},S5={},N5={exports:{}},C5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=x;function vV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xV=typeof Object.is=="function"?Object.is:vV,yV=Iu.useState,bV=Iu.useEffect,wV=Iu.useLayoutEffect,kV=Iu.useDebugValue;function SV(e,t){var n=t(),r=yV({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return wV(function(){i.value=n,i.getSnapshot=t,ix(i)&&a({inst:i})},[e,n,t]),bV(function(){return ix(i)&&a({inst:i}),e(function(){ix(i)&&a({inst:i})})},[e]),kV(n),n}function ix(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xV(e,n)}catch{return!0}}function NV(e,t){return t()}var CV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?NV:SV;C5.useSyncExternalStore=Iu.useSyncExternalStore!==void 0?Iu.useSyncExternalStore:CV;N5.exports=C5;var jV=N5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0=x,PV=jV;function AV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TV=typeof Object.is=="function"?Object.is:AV,EV=PV.useSyncExternalStore,DV=x0.useRef,MV=x0.useEffect,OV=x0.useMemo,IV=x0.useDebugValue;S5.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=DV(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=OV(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,TV(d,m))return p;var v=r(m);return i!==void 0&&i(p,v)?(d=m,p):(d=m,f=v)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=EV(e,a[0],a[1]);return MV(function(){s.hasValue=!0,s.value=o},[o]),IV(o),o};k5.exports=S5;var _V=k5.exports,K1=x.createContext(null),LV=e=>e,Kn=()=>{var e=x.useContext(K1);return e?e.store.dispatch:LV},Zh=()=>{},$V=()=>Zh,FV=(e,t)=>e===t;function bt(e){var t=x.useContext(K1);return _V.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$V,t?t.store.getState:Zh,t?t.store.getState:Zh,t?e:Zh,FV)}function RV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function BV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var yC=e=>Array.isArray(e)?e:[e];function UV(e){const t=Array.isArray(e[0])?e[0]:e;return zV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function VV(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var WV=class{constructor(e){this.value=e}deref(){return this.value}},HV=typeof WeakRef<"u"?WeakRef:WV,qV=0,bC=1;function ph(){return{s:qV,v:void 0,o:null,p:null}}function j5(e,t={}){let n=ph();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const y=v.get(p);y===void 0?(o=ph(),v.set(p,o)):o=y}else{let v=o.p;v===null&&(o.p=v=new Map);const y=v.get(p);y===void 0?(o=ph(),v.set(p,o)):o=y}}const c=o;let d;if(o.s===bC)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new HV(d):d}return c.s=bC,c.v=d,d}return s.clearCache=()=>{n=ph(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function KV(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),RV(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=j5,argsMemoizeOptions:p=[]}=d,v=yC(h),y=yC(p),g=UV(i),b=f(function(){return a++,c.apply(null,arguments)},...v),w=m(function(){s++;const C=VV(g,arguments);return o=b.apply(null,C),o},...y);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var de=KV(j5),GV=Object.assign((e,t=de)=>{BV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>GV}),P5={},A5={},T5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(T5);var E5={},G1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(G1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(E5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T5,n=E5,r=p0;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let v=m;for(let y=0;y<p.length&&v!=null;++y)v=v[p[y]];return v},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let v=0;v<f.length;v++){const y=t.compareValues(m.criteria[v],p.criteria[v],o[v]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(A5);var D5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(D5);var Y1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1,n=g0,r=z1,i=V1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(Y1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A5,n=D5,r=Y1;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(P5);var YV=P5.sortBy;const y0=hs(YV);var M5=e=>e.legend.settings,XV=e=>e.legend.size,ZV=e=>e.legend.payload,QV=de([ZV,M5],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?y0(r,n):r});function JV(){return bt(QV)}var gh=1;function O5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>gh||Math.abs(s.left-t.left)>gh||Math.abs(s.top-t.top)>gh||Math.abs(s.width-t.width)>gh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function di(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var e9=typeof Symbol=="function"&&Symbol.observable||"@@observable",wC=e9,ax=()=>Math.random().toString(36).substring(7).split("").join("."),t9={INIT:`@@redux/INIT${ax()}`,REPLACE:`@@redux/REPLACE${ax()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ax()}`},Vp=t9;function X1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function I5(e,t,n){if(typeof e!="function")throw new Error(di(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(di(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(di(1));return n(I5)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,g)=>{s.set(g,y)}))}function d(){if(l)throw new Error(di(3));return i}function f(y){if(typeof y!="function")throw new Error(di(4));if(l)throw new Error(di(5));let g=!0;c();const b=o++;return s.set(b,y),function(){if(g){if(l)throw new Error(di(6));g=!1,c(),s.delete(b),a=null}}}function h(y){if(!X1(y))throw new Error(di(7));if(typeof y.type>"u")throw new Error(di(8));if(typeof y.type!="string")throw new Error(di(17));if(l)throw new Error(di(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(b=>{b()}),y}function m(y){if(typeof y!="function")throw new Error(di(10));r=y,h({type:Vp.REPLACE})}function p(){const y=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(di(11));function b(){const S=g;S.next&&S.next(d())}return b(),{unsubscribe:y(b)}},[wC](){return this}}}return h({type:Vp.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[wC]:p}}function n9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Vp.INIT})>"u")throw new Error(di(12));if(typeof n(void 0,{type:Vp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(di(13))})}function _5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{n9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(di(14));c[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function Wp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function r9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(di(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=Wp(...o)(i.dispatch),{...i,dispatch:a}}}function L5(e){return X1(e)&&"type"in e&&typeof e.type=="string"}var $5=Symbol.for("immer-nothing"),kC=Symbol.for("immer-draftable"),Ui=Symbol.for("immer-state");function ns(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xa=Object,_u=xa.getPrototypeOf,Hp="constructor",b0="prototype",ob="configurable",qp="enumerable",Qh="writable",Pf="value",vo=e=>!!e&&!!e[Ui];function ds(e){var t;return e?F5(e)||k0(e)||!!e[kC]||!!((t=e[Hp])!=null&&t[kC])||S0(e)||N0(e):!1}var i9=xa[b0][Hp].toString(),SC=new WeakMap;function F5(e){if(!e||!Z1(e))return!1;const t=_u(e);if(t===null||t===xa[b0])return!0;const n=xa.hasOwnProperty.call(t,Hp)&&t[Hp];if(n===Object)return!0;if(!Yc(n))return!1;let r=SC.get(n);return r===void 0&&(r=Function.toString.call(n),SC.set(n,r)),r===i9}function w0(e,t,n=!0){im(e)===0?(n?Reflect.ownKeys(e):xa.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function im(e){const t=e[Ui];return t?t.type_:k0(e)?1:S0(e)?2:N0(e)?3:0}var NC=(e,t,n=im(e))=>n===2?e.has(t):xa[b0].hasOwnProperty.call(e,t),lb=(e,t,n=im(e))=>n===2?e.get(t):e[t],Kp=(e,t,n,r=im(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function a9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var k0=Array.isArray,S0=e=>e instanceof Map,N0=e=>e instanceof Set,Z1=e=>typeof e=="object",Yc=e=>typeof e=="function",sx=e=>typeof e=="boolean";function s9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Zs=e=>e.copy_||e.base_,Q1=e=>e.modified_?e.copy_:e.base_;function cb(e,t){if(S0(e))return new Map(e);if(N0(e))return new Set(e);if(k0(e))return Array[b0].slice.call(e);const n=F5(e);if(t===!0||t==="class_only"&&!n){const r=xa.getOwnPropertyDescriptors(e);delete r[Ui];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[Qh]===!1&&(o[Qh]=!0,o[ob]=!0),(o.get||o.set)&&(r[s]={[ob]:!0,[Qh]:!0,[qp]:o[qp],[Pf]:e[s]})}return xa.create(_u(e),r)}else{const r=_u(e);if(r!==null&&n)return{...e};const i=xa.create(r);return xa.assign(i,e)}}function J1(e,t=!1){return C0(e)||vo(e)||!ds(e)||(im(e)>1&&xa.defineProperties(e,{set:vh,add:vh,clear:vh,delete:vh}),xa.freeze(e),t&&w0(e,(n,r)=>{J1(r,!0)},!1)),e}function o9(){ns(2)}var vh={[Pf]:o9};function C0(e){return e===null||!Z1(e)?!0:xa.isFrozen(e)}var Gp="MapSet",ub="Patches",CC="ArrayMethods",R5={};function gc(e){const t=R5[e];return t||ns(0,e),t}var jC=e=>!!R5[e],Af,B5=()=>Af,l9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:jC(Gp)?gc(Gp):void 0,arrayMethodsPlugin_:jC(CC)?gc(CC):void 0});function PC(e,t){t&&(e.patchPlugin_=gc(ub),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function db(e){fb(e),e.drafts_.forEach(c9),e.drafts_=null}function fb(e){e===Af&&(Af=e.parent_)}var AC=e=>Af=l9(Af,e);function c9(e){const t=e[Ui];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function TC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ui].modified_&&(db(t),ns(4)),ds(e)&&(e=EC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Ui].base_,e,t)}else e=EC(t,n);return u9(t,e,!0),db(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$5?e:void 0}function EC(e,t){if(C0(t))return t;const n=t[Ui];if(!n)return Yp(t,e.handledSet_,e);if(!j0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);V5(n,e)}return n.copy_}function u9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&J1(t,n)}function z5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var j0=(e,t)=>e.scope_===t,d9=[];function U5(e,t,n,r){const i=Zs(e),a=e.type_;if(r!==void 0&&lb(i,r,a)===t){Kp(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;w0(i,(l,c)=>{if(vo(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const s=e.draftLocations_.get(t)??d9;for(const o of s)Kp(i,o,n,a)}function f9(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!j0(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=Q1(a);U5(e,a.draft_??a,s,n),V5(a,i)})}function V5(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}z5(e)}}function m9(e,t,n){const{scope_:r}=e;if(vo(n)){const i=n[Ui];j0(i,r)&&i.callbacks_.push(function(){Jh(e);const s=Q1(i);U5(e,n,s,t)})}else ds(n)&&e.callbacks_.push(function(){const a=Zs(e);e.type_===3?a.has(n)&&Yp(n,r.handledSet_,r):lb(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Yp(lb(e.copy_,t,e.type_),r.handledSet_,r)})}function Yp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||vo(e)||t.has(e)||!ds(e)||C0(e)||(t.add(e),w0(e,(r,i)=>{if(vo(i)){const a=i[Ui];if(j0(a,n)){const s=Q1(a);Kp(e,r,s,e.type_),z5(a)}}else ds(i)&&Yp(i,t,n)})),e}function h9(e,t){const n=k0(e),r={type_:n?1:0,scope_:t?t.scope_:B5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Xp;n&&(i=[r],a=Tf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Xp={get(e,t){if(t===Ui)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Zs(e);if(!NC(i,t,e.type_))return p9(e,i,t);const a=i[t];if(e.finalized_||!ds(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&s9(t))return a;if(a===ox(e.base_,t)){Jh(e);const s=e.type_===1?+t:t,o=hb(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Zs(e)},ownKeys(e){return Reflect.ownKeys(Zs(e))},set(e,t,n){const r=W5(Zs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ox(Zs(e),t),a=i==null?void 0:i[Ui];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(a9(n,i)&&(n!==void 0||NC(e.base_,t,e.type_)))return!0;Jh(e),mb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),m9(e,t,n)),!0},deleteProperty(e,t){return Jh(e),ox(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),mb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Zs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Qh]:!0,[ob]:e.type_!==1||t!=="length",[qp]:r[qp],[Pf]:n[t]}},defineProperty(){ns(11)},getPrototypeOf(e){return _u(e.base_)},setPrototypeOf(){ns(12)}},Tf={};for(let e in Xp){let t=Xp[e];Tf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Tf.deleteProperty=function(e,t){return Tf.set.call(this,e,t,void 0)};Tf.set=function(e,t,n){return Xp.set.call(this,e[0],t,n,e[0])};function ox(e,t){const n=e[Ui];return(n?Zs(n):e)[t]}function p9(e,t,n){var i;const r=W5(t,n);return r?Pf in r?r[Pf]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function W5(e,t){if(!(t in e))return;let n=_u(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=_u(n)}}function mb(e){e.modified_||(e.modified_=!0,e.parent_&&mb(e.parent_))}function Jh(e){e.copy_||(e.assigned_=new Map,e.copy_=cb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var g9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Yc(n)&&!Yc(r)){const s=r;r=n;const o=this;return function(c=s,...d){return o.produce(c,f=>r.call(this,f,...d))}}Yc(r)||ns(6),i!==void 0&&!Yc(i)&&ns(7);let a;if(ds(n)){const s=AC(this),o=hb(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?db(s):fb(s)}return PC(s,i),TC(a,s)}else if(!n||!Z1(n)){if(a=r(n),a===void 0&&(a=n),a===$5&&(a=void 0),this.autoFreeze_&&J1(a,!0),i){const s=[],o=[];gc(ub).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else ns(1,n)},this.produceWithPatches=(n,r)=>{if(Yc(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},sx(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),sx(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),sx(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ds(t)||ns(8),vo(t)&&(t=os(t));const n=AC(this),r=hb(n,t,void 0);return r[Ui].isManual_=!0,fb(n),r}finishDraft(t,n){const r=t&&t[Ui];(!r||!r.isManual_)&&ns(9);const{scope_:i}=r;return PC(i,n),TC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=gc(ub).applyPatches_;return vo(t)?i(t,n):this.produce(t,a=>i(a,n))}};function hb(e,t,n,r){const[i,a]=S0(t)?gc(Gp).proxyMap_(t,n):N0(t)?gc(Gp).proxySet_(t,n):h9(t,n);return((n==null?void 0:n.scope_)??B5()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?f9(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function os(e){return vo(e)||ns(10,e),H5(e)}function H5(e){if(!ds(e)||C0(e))return e;const t=e[Ui];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=cb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=cb(e,!0);return w0(n,(i,a)=>{Kp(n,i,H5(a))},r),t&&(t.finalized_=!1),n}var v9=new g9,q5=v9.produce;function K5(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var x9=K5(),y9=K5,b9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wp:Wp.apply(null,arguments)};function Ka(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(wa(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>L5(r)&&r.type===e,n}var G5=class Ld extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ld.prototype)}static get[Symbol.species](){return Ld}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ld(...t[0].concat(this)):new Ld(...t.concat(this))}};function DC(e){return ds(e)?q5(e,()=>{}):e}function xh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function w9(e){return typeof e=="boolean"}var k9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new G5;return n&&(w9(n)?s.push(x9):s.push(y9(n.extraArgument))),s},Y5="RTK_autoBatch",ar=()=>e=>({payload:e,meta:{[Y5]:!0}}),MC=e=>t=>{setTimeout(t,e)},X5=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:MC(10):e.type==="callback"?e.queueNotification:MC(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[Y5]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},S9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new G5(e);return r&&i.push(X5(typeof r=="object"?r:void 0)),i};function N9(e){const t=k9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(X1(n))o=_5(n);else throw new Error(wa(1));let l;typeof r=="function"?l=r(t):l=t();let c=Wp;i&&(c=b9({trace:!1,...typeof i=="object"&&i}));const d=r9(...l),f=S9(d);let h=typeof s=="function"?s(f):f();const m=c(...h);return I5(o,a,m)}function Z5(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(wa(28));if(o in t)throw new Error(wa(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function C9(e){return typeof e=="function"}function j9(e,t){let[n,r,i]=Z5(t),a;if(C9(e))a=()=>DC(e());else{const o=DC(e);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(vo(d)){const m=f(d,l);return m===void 0?d:m}else{if(ds(d))return q5(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var P9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",A9=(e=21)=>{let t="",n=e;for(;n--;)t+=P9[Math.random()*64|0];return t},T9=Symbol.for("rtk-slice-createasyncthunk");function E9(e,t){return`${e}/${t}`}function D9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[T9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(wa(11));const o=(typeof i.reducers=="function"?i.reducers(O9()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,C){const N=typeof S=="string"?S:S.type;if(!N)throw new Error(wa(12));if(N in c.sliceCaseReducersByType)throw new Error(wa(13));return c.sliceCaseReducersByType[N]=C,d},addMatcher(S,C){return c.sliceMatchers.push({matcher:S,reducer:C}),d},exposeAction(S,C){return c.actionCreators[S]=C,d},exposeCaseReducer(S,C){return c.sliceCaseReducersByName[S]=C,d}};l.forEach(S=>{const C=o[S],N={reducerName:S,type:E9(a,S),createNotation:typeof i.reducers=="function"};_9(C)?$9(N,C,d,t):I9(N,C,d)});function f(){const[S={},C=[],N=void 0]=typeof i.extraReducers=="function"?Z5(i.extraReducers):[i.extraReducers],P={...S,...c.sliceCaseReducersByType};return j9(i.initialState,D=>{for(let _ in P)D.addCase(_,P[_]);for(let _ of c.sliceMatchers)D.addMatcher(_.matcher,_.reducer);for(let _ of C)D.addMatcher(_.matcher,_.reducer);N&&D.addDefaultCase(N)})}const h=S=>S,m=new Map,p=new WeakMap;let v;function y(S,C){return v||(v=f()),v(S,C)}function g(){return v||(v=f()),v.getInitialState()}function b(S,C=!1){function N(D){let _=D[S];return typeof _>"u"&&C&&(_=xh(p,N,g)),_}function P(D=h){const _=xh(m,C,()=>new WeakMap);return xh(_,D,()=>{const A={};for(const[$,M]of Object.entries(i.selectors??{}))A[$]=M9(M,D,()=>xh(p,D,g),C);return A})}return{reducerPath:S,getSelectors:P,get selectors(){return P(N)},selectSlice:N}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...b(s),injectInto(S,{reducerPath:C,...N}={}){const P=C??s;return S.inject({reducerPath:P,reducer:y},N),{...w,...b(P,!0)}}};return w}}function M9(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var oa=D9();function O9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function I9({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!L9(r))throw new Error(wa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Ka(e,s):Ka(e))}function _9(e){return e._reducerDefinitionType==="asyncThunk"}function L9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(wa(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:s||yh,pending:o||yh,rejected:l||yh,settled:c||yh})}function yh(){}var F9="task",Q5="listener",J5="completed",ek="cancelled",R9=`task-${ek}`,B9=`task-${J5}`,pb=`${Q5}-${ek}`,z9=`${Q5}-${J5}`,P0=class{constructor(e){Pv(this,"name","TaskAbortError");Pv(this,"message");this.code=e,this.message=`${F9} ${ek} (reason: ${e})`}},tk=(e,t)=>{if(typeof e!="function")throw new TypeError(wa(32))},Zp=()=>{},eI=(e,t=Zp)=>(e.catch(t),e),tI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ac=e=>{if(e.aborted)throw new P0(e.reason)};function nI(e,t){let n=Zp;return new Promise((r,i)=>{const a=()=>i(new P0(e.reason));if(e.aborted){a();return}n=tI(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Zp})}var U9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof P0?"cancelled":"rejected",error:n}}finally{t==null||t()}},Qp=e=>t=>eI(nI(e,t).then(n=>(ac(e),n))),rI=e=>{const t=Qp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:wu}=Object,OC={},A0="listenerMiddleware",V9=(e,t)=>{const n=r=>tI(e,()=>r.abort(e.reason));return(r,i)=>{tk(r);const a=new AbortController;n(a);const s=U9(async()=>{ac(e),ac(a.signal);const o=await r({pause:Qp(a.signal),delay:rI(a.signal),signal:a.signal});return ac(a.signal),o},()=>a.abort(B9));return i!=null&&i.autoJoin&&t.push(s.catch(Zp)),{result:Qp(e)(s),cancel(){a.abort(R9)}}}},W9=(e,t)=>{const n=async(r,i)=>{ac(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await nI(t,Promise.race(o));return ac(t),l}finally{a()}};return(r,i)=>eI(n(r,i))},iI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ka(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(wa(21));return tk(a),{predicate:i,type:t,effect:a}},aI=wu(e=>{const{type:t,predicate:n,effect:r}=iI(e);return{id:A9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wa(22))}}},{withTypes:()=>aI}),IC=(e,t)=>{const{type:n,effect:r,predicate:i}=iI(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},gb=e=>{e.pending.forEach(t=>{t.abort(pb)})},H9=(e,t)=>()=>{for(const n of t.keys())gb(n);e.clear()},_C=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},sI=wu(Ka(`${A0}/add`),{withTypes:()=>sI}),q9=Ka(`${A0}/removeAll`),oI=wu(Ka(`${A0}/remove`),{withTypes:()=>oI}),K9=(...e)=>{console.error(`${A0}/error`,...e)},am=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=K9}=e;tk(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&gb(m)}),l=m=>{const p=IC(t,m)??aI(m);return o(p)};wu(l,{withTypes:()=>l});const c=m=>{const p=IC(t,m);return p&&(p.unsubscribe(),m.cancelActive&&gb(p)),!!p};wu(c,{withTypes:()=>c});const d=async(m,p,v,y)=>{const g=new AbortController,b=W9(l,g.signal),w=[];try{m.pending.add(g),r(m),await Promise.resolve(m.effect(p,wu({},v,{getOriginalState:y,condition:(S,C)=>b(S,C).then(Boolean),take:b,delay:rI(g.signal),pause:Qp(g.signal),extra:a,signal:g.signal,fork:V9(g.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,C,N)=>{S!==g&&(S.abort(pb),N.delete(S))})},cancel:()=>{g.abort(pb),m.pending.delete(g)},throwIfCancelled:()=>{ac(g.signal)}})))}catch(S){S instanceof P0||_C(s,S,{raisedBy:"effect"})}finally{await Promise.all(w),g.abort(z9),i(m),m.pending.delete(g)}},f=H9(t,n);return{middleware:m=>p=>v=>{if(!L5(v))return p(v);if(sI.match(v))return l(v.payload);if(q9.match(v)){f();return}if(oI.match(v))return c(v.payload);let y=m.getState();const g=()=>{if(y===OC)throw new Error(wa(23));return y};let b;try{if(b=p(v),t.size>0){const w=m.getState(),S=Array.from(t.values());for(const C of S){let N=!1;try{N=C.predicate(v,w,y)}catch(P){N=!1,_C(s,P,{raisedBy:"predicate"})}N&&d(C,v,m,g)}}}finally{y=OC}return b},startListening:l,stopListening:c,clearListeners:f}};function wa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var G9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lI=oa({name:"chartLayout",initialState:G9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Y9,setLayout:X9,setChartSize:Z9,setScale:Q9}=lI.actions,J9=lI.reducer;function cI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Br(e){return Number.isFinite(e)}function $s(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function LC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(n),!0).forEach(function(r){eW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eW(e,t,n){return(t=tW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tr(e,t,n){return Gr(e)||Gr(t)?n:Ls(t)?pc(e,t,n):typeof t=="function"?t(e):n}var rW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&St(e[a]))return cu(cu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&St(e[s]))return cu(cu({},e),{},{[s]:e[s]+(i||0)})}return e},vl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",uI=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},dI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(v=m==="angleAxis"&&a&&a.length>=2?Pi(a[0]-a[1])*2*v:v,f||h){var y=(f||h||[]).map((g,b)=>{var w=r?r.indexOf(g):g;return{coordinate:s(w)+v,value:g,offset:v,index:b}});return y.filter(g=>!_s(g.coordinate))}return l&&c?c.map((g,b)=>({coordinate:s(g)+v,value:g,index:b,offset:v})):s.ticks&&d!=null?s.ticks(d).map((g,b)=>({coordinate:s(g)+v,value:g,offset:v,index:b})):s.domain().map((g,b)=>({coordinate:s(g)+v,value:r?r[g]:g,index:b,offset:v}))},$C=1e-4,iW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-$C,a=Math.max(r[0],r[1])+$C,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},aW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],h=_s(d)?f:d;h>=0?(c[0]=a,c[1]=a+h,a=d):(c[0]=s,c[1]=s+h,s=d)}}}},sW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=_s(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},oW={sign:aW,expand:B8,none:hc,silhouette:z8,wiggle:U8,positive:sW},lW=(e,t,n)=>{var r,i=(r=oW[n])!==null&&r!==void 0?r:hc,a=R8().keys(t).value((o,l)=>Number(tr(o,l,0))).order(ab).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,d)=>{var f=tr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&St(f[0])&&St(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function FC(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Gr(i[t.dataKey])){var o=e5(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=tr(i,Gr(s)?t.dataKey:s);return Gr(l)?null:t.scale(l)}var cW=e=>{var t=e.flat(2).filter(St);return[Math.min(...t),Math.max(...t)]},uW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],dW=(e,t,n)=>{if(e!=null)return uW(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var d=cI(c,t,n),f=cW(d);return!Br(f[0])||!Br(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},RC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jp=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=y0(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function zC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return cu(cu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function T0(e,t){if(e)return String(e);if(typeof t=="string")return t}var fW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},mW=(e,t)=>t==="centric"?e.angle:e.radius,No=e=>e.layout.width,Co=e=>e.layout.height,hW=e=>e.layout.scale,fI=e=>e.layout.margin,E0=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),D0=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),mI="data-recharts-item-index",hI="data-recharts-item-id",sm=60;function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(n),!0).forEach(function(r){pW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pW(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xW=e=>e.brush.height;function yW(e){var t=D0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sm;return n+i}return n},0)}function bW(e){var t=D0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sm;return n+i}return n},0)}function wW(e){var t=E0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function kW(e){var t=E0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var si=de([No,Co,fI,xW,yW,bW,wW,kW,M5,XV],(e,t,n,r,i,a,s,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=bh(bh({},f),d),m=h.bottom;h.bottom+=r,h=rW(h,l,c);var p=e-h.left-h.right,v=t-h.top-h.bottom;return bh(bh({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(v,0)})}),SW=de(si,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),pI=de(No,Co,(e,t)=>({x:0,y:0,width:e,height:t})),NW=x.createContext(null),la=()=>x.useContext(NW)!=null,M0=e=>e.brush,O0=de([M0,si,fI],(e,t,n)=>({height:e.height,x:St(e.x)?e.x:t.left,y:St(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:St(e.width)?e.width:t.width})),gI={},vI={},xI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),v()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{p(),s=void 0,o=null},y=()=>{d()},g=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=h==null;m(),l&&w&&d()};return g.schedule=m,g.cancel=v,g.flush=y,i==null||i.addEventListener("abort",v,{once:!0}),g}e.debounce=t})(xI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=r.apply(this,v),f=null},i,{edges:c}),m=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(vI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vI;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(gI);var CW=gI.throttle;const jW=hs(CW);var eg=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},yI=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=go(r)?e:Number(r),l=go(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},PW={width:0,height:0,overflow:"visible"},AW={width:0,overflowX:"visible"},TW={height:0,overflowY:"visible"},EW={},DW=e=>{var{width:t,height:n}=e,r=go(t),i=go(n);return r&&i?PW:r?AW:i?TW:EW};function MW(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vb.apply(null,arguments)}function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(n),!0).forEach(function(r){OW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OW(e,t,n){return(t=IW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bI=x.createContext({width:-1,height:-1});function LW(e){return $s(e.width)&&$s(e.height)}function wI(e){var{children:t,width:n,height:r}=e,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return LW(i)?x.createElement(bI.Provider,{value:i},t):null}var nk=()=>x.useContext(bI),$W=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,v=x.useRef(null),y=x.useRef();y.current=m,x.useImperativeHandle(t,()=>v.current);var[g,b]=x.useState({containerWidth:r.width,containerHeight:r.height}),w=x.useCallback((D,_)=>{b(A=>{var $=Math.round(D),M=Math.round(_);return A.containerWidth===$&&A.containerHeight===M?A:{containerWidth:$,containerHeight:M}})},[]);x.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return rm;var D=M=>{var te,{width:Y,height:se}=M[0].contentRect;w(Y,se),(te=y.current)===null||te===void 0||te.call(y,Y,se)};d>0&&(D=jW(D,d,{trailing:!0,leading:!1}));var _=new ResizeObserver(D),{width:A,height:$}=v.current.getBoundingClientRect();return w(A,$),_.observe(v.current),()=>{_.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=g;eg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:P}=yI(S,C,{width:i,height:a,aspect:n,maxHeight:l});return eg(N!=null&&N>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,P,i,a,s,o,n),x.createElement("div",{id:f?"".concat(f):void 0,className:jn("recharts-responsive-container",h),style:WC(WC({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:v},x.createElement("div",{style:DW({width:i,height:a})},x.createElement(wI,{width:N,height:P},c)))}),vc=x.forwardRef((e,t)=>{var n=nk();if($s(n.width)&&$s(n.height))return e.children;var{width:r,height:i}=MW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=yI(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return St(a)&&St(s)?x.createElement(wI,{width:a,height:s},e.children):x.createElement($W,vb({},e,{width:r,height:i,ref:t}))});function kI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var I0=()=>{var e,t=la(),n=bt(SW),r=bt(O0),i=(e=bt(M0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},FW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},SI=()=>{var e;return(e=bt(si))!==null&&e!==void 0?e:FW},rk=()=>bt(No),ik=()=>bt(Co),RW=()=>bt(e=>e.layout.margin),Fn=e=>e.layout.layoutType,om=()=>bt(Fn),BW=()=>{var e=om();return e!==void 0},_0=e=>{var t=Kn(),n=la(),{width:r,height:i}=e,a=nk(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),x.useEffect(()=>{!n&&$s(s)&&$s(o)&&t(Z9({width:s,height:o}))},[t,n,s,o]),null},NI=Symbol.for("immer-nothing"),HC=Symbol.for("immer-draftable"),Na=Symbol.for("immer-state");function rs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ef=Object.getPrototypeOf;function Lu(e){return!!e&&!!e[Na]}function xc(e){var t;return e?CI(e)||Array.isArray(e)||!!e[HC]||!!((t=e.constructor)!=null&&t[HC])||lm(e)||$0(e):!1}var zW=Object.prototype.constructor.toString(),qC=new WeakMap;function CI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=qC.get(n);return r===void 0&&(r=Function.toString.call(n),qC.set(n,r)),r===zW}function tg(e,t,n=!0){L0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function L0(e){const t=e[Na];return t?t.type_:Array.isArray(e)?1:lm(e)?2:$0(e)?3:0}function xb(e,t){return L0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jI(e,t,n){const r=L0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function UW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function lm(e){return e instanceof Map}function $0(e){return e instanceof Set}function Bl(e){return e.copy_||e.base_}function yb(e,t){if(lm(e))return new Map(e);if($0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=CI(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Na];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Ef(e),r)}else{const r=Ef(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function ak(e,t=!1){return F0(e)||Lu(e)||!xc(e)||(L0(e)>1&&Object.defineProperties(e,{set:wh,add:wh,clear:wh,delete:wh}),Object.freeze(e),t&&Object.values(e).forEach(n=>ak(n,!0))),e}function VW(){rs(2)}var wh={value:VW};function F0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var WW={};function yc(e){const t=WW[e];return t||rs(0,e),t}var Df;function PI(){return Df}function HW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function KC(e,t){t&&(yc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bb(e){wb(e),e.drafts_.forEach(qW),e.drafts_=null}function wb(e){e===Df&&(Df=e.parent_)}function GC(e){return Df=HW(Df,e)}function qW(e){const t=e[Na];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function YC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Na].modified_&&(bb(t),rs(4)),xc(e)&&(e=ng(t,e),t.parent_||rg(t,e)),t.patches_&&yc("Patches").generateReplacementPatches_(n[Na].base_,e,t.patches_,t.inversePatches_)):e=ng(t,n,[]),bb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NI?e:void 0}function ng(e,t,n){if(F0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Na];if(!i)return tg(t,(a,s)=>XC(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return rg(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),tg(s,(l,c)=>XC(e,i,a,l,c,n,o),r),rg(e,a,!1),n&&e.patches_&&yc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function XC(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=F0(i);if(!(o&&!s)){if(Lu(i)){const l=a&&t&&t.type_!==3&&!xb(t.assigned_,r)?a.concat(r):void 0,c=ng(e,i,l);if(jI(n,r,c),Lu(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(xc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;ng(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(lm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&rg(e,i)}}}function rg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ak(t,n)}function KW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:PI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=sk;n&&(i=[r],a=Mf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var sk={get(e,t){if(t===Na)return e;const n=Bl(e);if(!xb(n,t))return GW(e,n,t);const r=n[t];return e.finalized_||!xc(r)?r:r===lx(e.base_,t)?(cx(e),e.copy_[t]=Sb(r,e)):r},has(e,t){return t in Bl(e)},ownKeys(e){return Reflect.ownKeys(Bl(e))},set(e,t,n){const r=AI(Bl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=lx(Bl(e),t),a=i==null?void 0:i[Na];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(UW(n,i)&&(n!==void 0||xb(e.base_,t)))return!0;cx(e),kb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cx(e),kb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Bl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){rs(11)},getPrototypeOf(e){return Ef(e.base_)},setPrototypeOf(){rs(12)}},Mf={};tg(sk,(e,t)=>{Mf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Mf.deleteProperty=function(e,t){return Mf.set.call(this,e,t,void 0)};Mf.set=function(e,t,n){return sk.set.call(this,e[0],t,n,e[0])};function lx(e,t){const n=e[Na];return(n?Bl(n):e)[t]}function GW(e,t,n){var i;const r=AI(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function AI(e,t){if(!(t in e))return;let n=Ef(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ef(n)}}function kb(e){e.modified_||(e.modified_=!0,e.parent_&&kb(e.parent_))}function cx(e){e.copy_||(e.copy_=yb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var YW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&rs(6),r!==void 0&&typeof r!="function"&&rs(7);let i;if(xc(t)){const a=GC(this),s=Sb(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?bb(a):wb(a)}return KC(a,r),YC(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===NI&&(i=void 0),this.autoFreeze_&&ak(i,!0),r){const a=[],s=[];yc("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else rs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xc(e)||rs(8),Lu(e)&&(e=XW(e));const t=GC(this),n=Sb(e,void 0);return n[Na].isManual_=!0,wb(t),n}finishDraft(e,t){const n=e&&e[Na];(!n||!n.isManual_)&&rs(9);const{scope_:r}=n;return KC(r,t),YC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=yc("Patches").applyPatches_;return Lu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Sb(e,t){const n=lm(e)?yc("MapSet").proxyMap_(e,t):$0(e)?yc("MapSet").proxySet_(e,t):KW(e,t);return(t?t.scope_:PI()).drafts_.push(n),n}function XW(e){return Lu(e)||rs(10,e),TI(e)}function TI(e){if(!xc(e)||F0(e))return e;const t=e[Na];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=yb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=yb(e,!0);return tg(n,(i,a)=>{jI(n,i,TI(a))},r),t&&(t.finalized_=!1),n}var ZW=new YW;ZW.produce;var QW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},EI=oa({name:"legend",initialState:QW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ar()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=os(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:ar()},removeLegendPayload:{reducer(e,t){var n=os(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ar()}}}),{setLegendSize:ZC,setLegendSettings:JW,addLegendPayload:DI,replaceLegendPayload:MI,removeLegendPayload:OI}=EI.actions,eH=EI.reducer,tH=["contextPayload"];function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nb.apply(null,arguments)}function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(r){nH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nH(e,t,n){return(t=rH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aH(e,t){if(e==null)return{};var n,r,i=sH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oH(e){return e.value}function lH(e){var{contextPayload:t}=e,n=aH(e,tH),r=w5(t,e.payloadUniqBy,oH),i=$u($u({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(pV,i)}function cH(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),$u($u({},c),d)}function uH(e){var t=Kn();return x.useEffect(()=>{t(JW(e))},[t,e]),null}function dH(e){var t=Kn();return x.useEffect(()=>(t(ZC(e)),()=>{t(ZC({width:0,height:0}))}),[t,e]),null}function fH(e,t,n,r){return e==="vertical"&&St(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var mH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function II(e){var t=Yr(e,mH),n=JV(),r=c8(),i=RW(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,d]=O5([n]),f=rk(),h=ik();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=fH(t.layout,s,a,m),v=l?o:$u($u({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},cH(o,t,i,f,h,c)),o),y=l??r;if(y==null||n==null)return null;var g=x.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},x.createElement(uH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&x.createElement(dH,{width:c.width,height:c.height}),x.createElement(lH,Nb({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return Yu.createPortal(g,y)}II.displayName="Legend";function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cb.apply(null,arguments)}function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ux(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(n),!0).forEach(function(r){hH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hH(e,t,n){return(t=pH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vH(e){return Array.isArray(e)&&Ls(e[0])&&Ls(e[1])?e.join(" ~ "):e}var xH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},N=(o?y0(a,o):a).map((P,D)=>{if(P.type==="none")return null;var _=P.formatter||s||vH,{value:A,name:$}=P,M=A,te=$;if(_){var Y=_(A,$,P,D,a);if(Array.isArray(Y))[M,te]=Y;else if(Y!=null)M=Y;else return null}var se=ux({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:se},Ls(te)?x.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Ls(te)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},M),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},p=ux({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=ux({margin:0},i),y=!Gr(d),g=y?d:"",b=jn("recharts-default-tooltip",l),w=jn("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(g=f(d,a));var S=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Cb({className:b,style:p},S),x.createElement("p",{className:w,style:v},x.isValidElement(g)?g:"".concat(g)),m())},yd="recharts-tooltip-wrapper",yH={visibility:"hidden"};function bH(e){var{coordinate:t,translateX:n,translateY:r}=e;return jn(yd,{["".concat(yd,"-right")]:St(n)&&t&&St(t.x)&&n>=t.x,["".concat(yd,"-left")]:St(n)&&t&&St(t.x)&&n<t.x,["".concat(yd,"-bottom")]:St(r)&&t&&St(t.y)&&r>=t.y,["".concat(yd,"-top")]:St(r)&&t&&St(t.y)&&r<t.y})}function ej(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&St(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var v=f+o,y=h+c;return v>y?Math.max(d,h):Math.max(f,h)}function wH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function kH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,d,f;return s.height>0&&s.width>0&&n?(d=ej({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=ej({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=wH({translateX:d,translateY:f,useTranslate3d:o})):c=yH,{cssProperties:c,cssClasses:bH({translateX:d,translateY:f,coordinate:n})}}function tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(n),!0).forEach(function(r){jb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jb(e,t,n){return(t=SH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CH extends x.PureComponent{constructor(){super(...arguments),jb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:v,innerRef:y,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:w}=kH({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:m}),S=g?{}:kh(kh({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=kh(kh({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:y},a)}}var _I=()=>{var e;return(e=bt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(n),!0).forEach(function(r){jH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jH(e,t,n){return(t=PH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ij={curveBasisClosed:A8,curveBasisOpen:T8,curveBasis:P8,curveBumpX:m8,curveBumpY:h8,curveLinearClosed:E8,curveLinear:d0,curveMonotoneX:D8,curveMonotoneY:M8,curveNatural:O8,curveStep:I8,curveStepAfter:L8,curveStepBefore:_8},ig=e=>Br(e.x)&&Br(e.y),aj=e=>e.base!=null&&ig(e.base)&&ig(e),bd=e=>e.x,wd=e=>e.y,TH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(nm(e));return(n==="curveMonotone"||n==="curveBump")&&t?ij["".concat(n).concat(t==="vertical"?"Y":"X")]:ij[n]||d0},EH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=TH(t,i),o=a?n.filter(ig):n,l;if(Array.isArray(r)){var c=n.map((m,p)=>rj(rj({},m),{},{base:r[p]}));i==="vertical"?l=hh().y(wd).x1(bd).x0(m=>m.base.x):l=hh().x(bd).y1(wd).y0(m=>m.base.y);var d=l.defined(aj).curve(s),f=a?c.filter(aj):c;return d(f)}i==="vertical"&&St(r)?l=hh().y(wd).x1(bd).x0(r):St(r)?l=hh().x(bd).y1(wd).y0(r):l=BO().x(bd).y(wd);var h=l.defined(ig).curve(s);return h(o)},ok=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=om();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?EH(s):r;return x.createElement("path",Pb({},qa(e),$1(e),{className:jn("recharts-curve",t),d:o===null?void 0:o,ref:i}))},DH=["x","y","top","left","width","height","className"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(null,arguments)}function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(n),!0).forEach(function(r){OH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OH(e,t,n){return(t=IH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LH(e,t){if(e==null)return{};var n,r,i=$H(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $H(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FH=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),RH=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=LH(e,DH),c=MH({x:t,y:n,top:r,left:i,width:a,height:s},l);return!St(t)||!St(n)||!St(a)||!St(s)||!St(r)||!St(i)?null:x.createElement("path",Ab({},zi(c),{className:jn("recharts-cross",o),d:FH(t,n,a,s,r,i)}))};function BH(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){zH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zH(e,t,n){return(t=UH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),LI=(e,t,n)=>e.map(r=>"".concat(WH(r)," ").concat(t,"ms ").concat(n)).join(","),HH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Of=(e,t)=>Object.keys(t).reduce((n,r)=>lj(lj({},n),{},{[r]:e(r,t[r])}),{});function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(r){qH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qH(e,t,n){return(t=KH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ag=(e,t,n)=>e+(t-e)*n,Tb=e=>{var{from:t,to:n}=e;return t!==n},$I=(e,t,n)=>{var r=Of((i,a)=>{if(Tb(a)){var[s,o]=e(a.from,a.to,a.velocity);return qr(qr({},a),{},{from:s,velocity:o})}return a},t);return n<1?Of((i,a)=>Tb(a)&&r[i]!=null?qr(qr({},a),{},{velocity:ag(a.velocity,r[i].velocity,n),from:ag(a.from,r[i].from,n)}):a,t):$I(e,r,n-1)};function YH(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>qr(qr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Of((h,m)=>m.from,o),c=()=>!Object.values(o).filter(Tb).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=$I(n,o,p),i(qr(qr(qr({},e),t),l())),s=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function XH(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:qr(qr({},f),{},{[h]:[m,p]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/r,m=Of((v,y)=>ag(...y,n(h)),l);if(a(qr(qr(qr({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=Of((v,y)=>ag(...y,n(1)),l);a(qr(qr(qr({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const ZH=(e,t,n,r,i,a)=>{var s=HH(e,t);return n==null?()=>(i(qr(qr({},e),t)),()=>{}):n.isStepper===!0?YH(e,t,n,s,i,a):XH(e,t,n,r,s,i,a)};var sg=1e-4,FI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],RI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),uj=(e,t)=>n=>{var r=FI(e,t);return RI(r,n)},QH=(e,t)=>n=>{var r=FI(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return RI(i,n)},JH=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},e7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=JH(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},t7=(e,t,n,r)=>{var i=uj(e,n),a=uj(t,r),s=QH(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<sg||p<sg)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},dj=function(){return t7(...e7(...arguments))},n7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*n,d=l*r,f=l+(c-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<sg&&Math.abs(f)<sg?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},r7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dj(e);case"spring":return n7();default:if(e.split("(")[0]==="cubic-bezier")return dj(e)}return typeof e=="function"?e:null};function i7(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class a7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function s7(){return i7(new a7)}var o7=x.createContext(s7);function l7(e,t){var n=x.useContext(o7);return x.useMemo(()=>t??n(e),[e,t,n])}var c7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),R0={isSsr:c7()},u7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},fj={t:0},dx={t:1};function B0(e){var t=Yr(e,u7),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=n==="auto"?!R0.isSsr:n,f=l7(t.animationId,t.animationManager),[h,m]=x.useState(d?fj:dx),p=x.useRef(null);return x.useEffect(()=>{d||m(dx)},[d]),x.useEffect(()=>{if(!d||!r)return rm;var v=ZH(fj,dx,r7(a),i,m,f.getTimeoutController()),y=()=>{p.current=v()};return f.start([l,s,y,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),c(h.t)}function z0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(jf(t)),r=x.useRef(e);return r.current!==e&&(n.current=jf(t),r.current=e),n.current}var d7=["radius"],f7=["radius"],mj,hj,pj,gj,vj,xj,yj,bj,wj,kj;function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(r){m7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m7(e,t,n){return(t=h7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},og.apply(null,arguments)}function Cj(e,t){if(e==null)return{};var n,r,i=g7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ss(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var jj=(e,t,n,r,i)=>{var a=Xo(n),s=Xo(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Nr(mj||(mj=Ss(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Nr(hj||(hj=Ss(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=Nr(pj||(pj=Ss(["L ",",",""])),e+n-c*h[1],t),h[1]>0&&(f+=Nr(gj||(gj=Ss(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=Nr(vj||(vj=Ss(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Nr(xj||(xj=Ss(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-c*h[2],t+r)),f+=Nr(yj||(yj=Ss(["L ",",",""])),e+c*h[3],t+r),h[3]>0&&(f+=Nr(bj||(bj=Ss(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f=Nr(wj||(wj=Ss(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*v,v,v,d,e+c*v,t,e+n-c*v,t,v,v,d,e+n,t+l*v,e+n,t+r-l*v,v,v,d,e+n-c*v,t+r,e+c*v,t+r,v,v,d,e,t+r-l*v)}else f=Nr(kj||(kj=Ss(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},Pj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BI=e=>{var t=Yr(e,Pj),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ee=n.current.getTotalLength();ee&&i(ee)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:v}=t,y=x.useRef(o),g=x.useRef(l),b=x.useRef(a),w=x.useRef(s),S=x.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),C=z0(S,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var N=jn("recharts-rectangle",d);if(!v){var P=zi(t),{radius:D}=P,_=Cj(P,d7);return x.createElement("path",og({},_,{x:Xo(a),y:Xo(s),width:Xo(o),height:Xo(l),radius:typeof c=="number"?c:void 0,className:N,d:jj(a,s,o,l,c)}))}var A=y.current,$=g.current,M=b.current,te=w.current,Y="0px ".concat(r===-1?1:r,"px"),se="".concat(r,"px 0px"),W=LI(["strokeDasharray"],h,typeof f=="string"?f:Pj.animationEasing);return x.createElement(B0,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:v,begin:m},ee=>{var X=ji(A,o,ee),oe=ji($,l,ee),T=ji(M,a,ee),j=ji(te,s,ee);n.current&&(y.current=X,g.current=oe,b.current=T,w.current=j);var U;p?ee>0?U={transition:W,strokeDasharray:se}:U={strokeDasharray:Y}:U={strokeDasharray:se};var k=zi(t),{radius:O}=k,re=Cj(k,f7);return x.createElement("path",og({},re,{radius:typeof c=="number"?c:void 0,className:N,d:jj(T,j,X,oe,c),ref:n,style:Nj(Nj({},U),t.style)}))})};function Aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(n),!0).forEach(function(r){v7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v7(e,t,n){return(t=x7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lg=Math.PI/180,b7=e=>e*180/Math.PI,Fr=(e,t,n,r)=>({x:e+Math.cos(-lg*r)*n,y:t+Math.sin(-lg*r)*n}),zI=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},w7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},k7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=w7({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:b7(l),angleInRadian:l}},S7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},N7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},C7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=k7({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=S7(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?Tj(Tj({},t),{},{radius:i,angle:N7(d,t)}):null};function UI(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Fr(t,n,r,i),o=Fr(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var Ej,Dj,Mj,Oj,Ij,_j,Lj;function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(null,arguments)}function Xl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j7=(e,t)=>{var n=Pi(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Sh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,d=Math.asin(o/c)/lg,f=l?i:i+a*d,h=Fr(t,n,c,f),m=Fr(t,n,r,f),p=l?i-a*d:i,v=Fr(t,n,c*Math.cos(d*lg),p);return{center:h,circleTangency:m,lineTangency:v,theta:d}},VI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=j7(a,s),l=a+o,c=Fr(t,n,i,a),d=Fr(t,n,i,l),f=Nr(Ej||(Ej=Xl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Fr(t,n,r,a),m=Fr(t,n,r,l);f+=Nr(Dj||(Dj=Xl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Nr(Mj||(Mj=Xl(["L ",","," Z"])),t,n);return f},P7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=Pi(c-l),{circleTangency:f,lineTangency:h,theta:m}=Sh({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:v,theta:y}=Sh({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),g=o?Math.abs(l-c):Math.abs(l-c)-m-y;if(g<0)return s?Nr(Oj||(Oj=Xl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):VI({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b=Nr(Ij||(Ij=Xl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(g>180),+(d<0),p.x,p.y,a,a,+(d<0),v.x,v.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=Sh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:N,lineTangency:P,theta:D}=Sh({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),_=o?Math.abs(l-c):Math.abs(l-c)-C-D;if(_<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=Nr(_j||(_j=Xl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,a,a,+(d<0),N.x,N.y,r,r,+(_>180),+(d>0),w.x,w.y,a,a,+(d<0),S.x,S.y)}else b+=Nr(Lj||(Lj=Xl(["L",",","Z"])),t,n);return b},A7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WI=e=>{var t=Yr(e,A7),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=jn("recharts-sector",f),m=a-i,p=ba(s,m,0,!0),v;return p>0&&Math.abs(c-d)<360?v=P7({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):v=VI({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),x.createElement("path",Eb({},zi(t),{className:h,d:v}))};function T7(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(n5(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Fr(r,i,a,o),c=Fr(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return UI(t)}}var HI={},qI={},KI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(KI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KI;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(qI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1,n=qI;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=r})(HI);var E7=HI.range;const GI=hs(E7);function sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function D7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lk(e){let t,n,r;e.length!==2?(t=sl,n=(o,l)=>sl(e(o),l),r=(o,l)=>e(o)-l):(t=e===sl||e===D7?e:M7,n=e,r=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function M7(){return 0}function YI(e){return e===null?NaN:+e}function*O7(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const I7=lk(sl),cm=I7.right;lk(YI).center;class $j extends Map{constructor(t,n=$7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Fj(this,t))}has(t){return super.has(Fj(this,t))}set(t,n){return super.set(_7(this,t),n)}delete(t){return super.delete(L7(this,t))}}function Fj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function L7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function $7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function F7(e=sl){if(e===sl)return XI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function XI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const R7=Math.sqrt(50),B7=Math.sqrt(10),z7=Math.sqrt(2);function cg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=R7?10:a>=B7?5:a>=z7?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?cg(e,t,n*2):[o,l,c]}function Db(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?cg(t,e,n):cg(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Mb(e,t,n){return t=+t,e=+e,n=+n,cg(e,t,n)[2]}function Ob(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Mb(t,e,n):Mb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Rj(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Bj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZI(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?XI:F7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+h)),p=Math.min(r,Math.floor(t+(l-c)*f/l+h));ZI(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(kd(e,n,t),i(e[r],a)>0&&kd(e,n,r);s<o;){for(kd(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?kd(e,n,o):(++o,kd(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function kd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function U7(e,t,n){if(e=Float64Array.from(O7(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Bj(e);if(t>=1)return Rj(e);var r,i=(r-1)*t,a=Math.floor(i),s=Rj(ZI(e,a).subarray(0,a+1)),o=Bj(e.subarray(a+1));return s+(o-s)*(i-a)}}function V7(e,t,n=YI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function W7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ya(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ib=Symbol("implicit");function ck(){var e=new $j,t=[],n=[],r=Ib;function i(a){let s=e.get(a);if(s===void 0){if(r!==Ib)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new $j;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ck(t,n).unknown(r)},Ya.apply(i,arguments),i}function uk(){var e=ck().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,v=m?r:i;a=(v-p)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),p+=(v-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=W7(h).map(function(g){return p+a*g});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return uk(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Ya.apply(f(),arguments)}function QI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QI(t())},e}function H7(){return QI(uk.apply(null,arguments).paddingInner(1))}function dk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function JI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function um(){}var If=.7,ug=1/If,ku="\\s*([+-]?\\d+)\\s*",_f="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q7=/^#([0-9a-f]{3,8})$/,K7=new RegExp(`^rgb\\(${ku},${ku},${ku}\\)$`),G7=new RegExp(`^rgb\\(${Os},${Os},${Os}\\)$`),Y7=new RegExp(`^rgba\\(${ku},${ku},${ku},${_f}\\)$`),X7=new RegExp(`^rgba\\(${Os},${Os},${Os},${_f}\\)$`),Z7=new RegExp(`^hsl\\(${_f},${Os},${Os}\\)$`),Q7=new RegExp(`^hsla\\(${_f},${Os},${Os},${_f}\\)$`),zj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dk(um,Lf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Uj,formatHex:Uj,formatHex8:J7,formatHsl:eq,formatRgb:Vj,toString:Vj});function Uj(){return this.rgb().formatHex()}function J7(){return this.rgb().formatHex8()}function eq(){return e_(this).formatHsl()}function Vj(){return this.rgb().formatRgb()}function Lf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=q7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Wj(t):n===3?new ea(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=K7.exec(e))?new ea(t[1],t[2],t[3],1):(t=G7.exec(e))?new ea(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Y7.exec(e))?Nh(t[1],t[2],t[3],t[4]):(t=X7.exec(e))?Nh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Z7.exec(e))?Kj(t[1],t[2]/100,t[3]/100,1):(t=Q7.exec(e))?Kj(t[1],t[2]/100,t[3]/100,t[4]):zj.hasOwnProperty(e)?Wj(zj[e]):e==="transparent"?new ea(NaN,NaN,NaN,0):null}function Wj(e){return new ea(e>>16&255,e>>8&255,e&255,1)}function Nh(e,t,n,r){return r<=0&&(e=t=n=NaN),new ea(e,t,n,r)}function tq(e){return e instanceof um||(e=Lf(e)),e?(e=e.rgb(),new ea(e.r,e.g,e.b,e.opacity)):new ea}function _b(e,t,n,r){return arguments.length===1?tq(e):new ea(e,t,n,r??1)}function ea(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}dk(ea,_b,JI(um,{brighter(e){return e=e==null?ug:Math.pow(ug,e),new ea(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new ea(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ea(sc(this.r),sc(this.g),sc(this.b),dg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hj,formatHex:Hj,formatHex8:nq,formatRgb:qj,toString:qj}));function Hj(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}`}function nq(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}${Zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function qj(){const e=dg(this.opacity);return`${e===1?"rgb(":"rgba("}${sc(this.r)}, ${sc(this.g)}, ${sc(this.b)}${e===1?")":`, ${e})`}`}function dg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zl(e){return e=sc(e),(e<16?"0":"")+e.toString(16)}function Kj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new is(e,t,n,r)}function e_(e){if(e instanceof is)return new is(e.h,e.s,e.l,e.opacity);if(e instanceof um||(e=Lf(e)),!e)return new is;if(e instanceof is)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new is(s,o,l,e.opacity)}function rq(e,t,n,r){return arguments.length===1?e_(e):new is(e,t,n,r??1)}function is(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}dk(is,rq,JI(um,{brighter(e){return e=e==null?ug:Math.pow(ug,e),new is(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new is(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ea(fx(e>=240?e-240:e+120,i,r),fx(e,i,r),fx(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new is(Gj(this.h),Ch(this.s),Ch(this.l),dg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dg(this.opacity);return`${e===1?"hsl(":"hsla("}${Gj(this.h)}, ${Ch(this.s)*100}%, ${Ch(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Gj(e){return e=(e||0)%360,e<0?e+360:e}function Ch(e){return Math.max(0,Math.min(1,e||0))}function fx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fk=e=>()=>e;function iq(e,t){return function(n){return e+n*t}}function aq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function sq(e){return(e=+e)==1?t_:function(t,n){return n-t?aq(t,n,e):fk(isNaN(t)?n:t)}}function t_(e,t){var n=t-e;return n?iq(e,n):fk(isNaN(e)?t:e)}const Yj=function e(t){var n=sq(t);function r(i,a){var s=n((i=_b(i)).r,(a=_b(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=t_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function oq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function lq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Xu(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function uq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function dq(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Xu(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Lb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mx=new RegExp(Lb.source,"g");function fq(e){return function(){return e}}function mq(e){return function(t){return e(t)+""}}function hq(e,t){var n=Lb.lastIndex=mx.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Lb.exec(e))&&(i=mx.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:fg(r,i)})),n=mx.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?mq(l[0].x):fq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function Xu(e,t){var n=typeof t,r;return t==null||n==="boolean"?fk(t):(n==="number"?fg:n==="string"?(r=Lf(t))?(t=r,Yj):hq:t instanceof Lf?Yj:t instanceof Date?uq:lq(t)?oq:Array.isArray(t)?cq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dq:fg)(e,t)}function mk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function pq(e,t){t===void 0&&(t=e,e=Xu);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function gq(e){return function(){return e}}function mg(e){return+e}var Xj=[0,1];function Ri(e){return e}function $b(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gq(isNaN(t)?NaN:.5)}function vq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function xq(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=$b(i,r),a=n(s,a)):(r=$b(r,i),a=n(a,s)),function(o){return a(r(o))}}function yq(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=$b(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=cm(e,o,1,r)-1;return a[l](i[l](o))}}function dm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function U0(){var e=Xj,t=Xj,n=Xu,r,i,a,s=Ri,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==Ri&&(s=vq(e[0],e[h-1])),o=h>2?yq:xq,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(r),fg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,mg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=mk,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Ri,d()):s!==Ri},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function hk(){return U0()(Ri,Ri)}function bq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fu(e){return e=hg(Math.abs(e)),e?e[1]:NaN}function wq(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function kq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Sq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(e){if(!(t=Sq.exec(e)))throw new Error("invalid format: "+e);var t;return new pk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$f.prototype=pk.prototype;function pk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nq(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var pg;function Cq(e,t){var n=hg(e,t);if(!n)return pg=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(pg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+hg(e,Math.max(0,t+a-1))[0]}function Zj(e,t){var n=hg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Qj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zj(e*100,t),r:Zj,s:Cq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Jj(e){return e}var eP=Array.prototype.map,tP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jq(e){var t=e.grouping===void 0||e.thousands===void 0?Jj:wq(eP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Jj:kq(eP.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=$f(f);var m=f.fill,p=f.align,v=f.sign,y=f.symbol,g=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):Qj[N]||(S===void 0&&(S=12),C=!0,N="g"),(g||m==="0"&&p==="=")&&(g=!0,m="0",p="=");var P=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),D=(y==="$"?r:/[%p]/.test(N)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),_=Qj[N],A=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function $(M){var te=P,Y=D,se,W,ee;if(N==="c")Y=_(M)+Y,M="";else{M=+M;var X=M<0||1/M<0;if(M=isNaN(M)?l:_(Math.abs(M),S),C&&(M=Nq(M)),X&&+M==0&&v!=="+"&&(X=!1),te=(X?v==="("?v:o:v==="-"||v==="("?"":v)+te,Y=(N==="s"&&!isNaN(M)&&pg!==void 0?tP[8+pg/3]:"")+Y+(X&&v==="("?")":""),A){for(se=-1,W=M.length;++se<W;)if(ee=M.charCodeAt(se),48>ee||ee>57){Y=(ee===46?i+M.slice(se+1):M.slice(se))+Y,M=M.slice(0,se);break}}}w&&!g&&(M=t(M,1/0));var oe=te.length+M.length+Y.length,T=oe<b?new Array(b-oe+1).join(m):"";switch(w&&g&&(M=t(T+M,T.length?b-Y.length:1/0),T=""),p){case"<":M=te+M+Y+T;break;case"=":M=te+T+M+Y;break;case"^":M=T.slice(0,oe=T.length>>1)+te+M+Y+T.slice(oe);break;default:M=T+te+M+Y;break}return a(M)}return $.toString=function(){return f+""},$}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Fu(h)/3)))*3,p=Math.pow(10,-m),v=c((f=$f(f),f.type="f",f),{suffix:tP[8+m/3]});return function(y){return v(p*y)}}return{format:c,formatPrefix:d}}var jh,gk,n_;Pq({thousands:",",grouping:[3],currency:["$",""]});function Pq(e){return jh=jq(e),gk=jh.format,n_=jh.formatPrefix,jh}function Aq(e){return Math.max(0,-Fu(Math.abs(e)))}function Tq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fu(t)/3)))*3-Fu(Math.abs(e)))}function Eq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fu(t)-Fu(e))+1}function r_(e,t,n,r){var i=Ob(e,t,n),a;switch(r=$f(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Tq(i,s))&&(r.precision=a),n_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Eq(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Aq(i))&&(r.precision=a-(r.type==="%")*2);break}}return gk(r)}function xl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Db(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return r_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=Mb(s,o,n),c===l)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function i_(){var e=hk();return e.copy=function(){return dm(e,i_())},Ya.apply(e,arguments),xl(e)}function a_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,mg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return a_(e).unknown(t)},e=arguments.length?Array.from(e,mg):[0,1],xl(n)}function s_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function nP(e){return Math.log(e)}function rP(e){return Math.exp(e)}function Dq(e){return-Math.log(-e)}function Mq(e){return-Math.exp(-e)}function Oq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Iq(e){return e===10?Oq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _q(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iP(e){return(t,n)=>-e(-t,n)}function vk(e){const t=e(nP,rP),n=t.domain;let r=10,i,a;function s(){return i=_q(r),a=Iq(r),n()[0]<0?(i=iP(i),a=iP(a),e(Dq,Mq)):e(nP,rP),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),p,v;const y=o==null?10:+o;let g=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<r;++p)if(v=h<0?p/a(-h):p*a(h),!(v<c)){if(v>d)break;g.push(v)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(v=h>0?p/a(-h):p*a(h),!(v<c)){if(v>d)break;g.push(v)}g.length*2<y&&(g=Db(c,d,y))}else g=Db(h,m,Math.min(m-h,y)).map(a);return f?g.reverse():g},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=$f(l)).precision==null&&(l.trim=!0),l=gk(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(s_(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function o_(){const e=vk(U0()).domain([1,10]);return e.copy=()=>dm(e,o_()).base(e.base()),Ya.apply(e,arguments),e}function aP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xk(e){var t=1,n=e(aP(t),sP(t));return n.constant=function(r){return arguments.length?e(aP(t=+r),sP(t)):t},xl(n)}function l_(){var e=xk(U0());return e.copy=function(){return dm(e,l_()).constant(e.constant())},Ya.apply(e,arguments)}function oP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $q(e){return e<0?-e*e:e*e}function yk(e){var t=e(Ri,Ri),n=1;function r(){return n===1?e(Ri,Ri):n===.5?e(Lq,$q):e(oP(n),oP(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},xl(t)}function bk(){var e=yk(U0());return e.copy=function(){return dm(e,bk()).exponent(e.exponent())},Ya.apply(e,arguments),e}function Fq(){return bk.apply(null,arguments).exponent(.5)}function lP(e){return Math.sign(e)*e*e}function Rq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function c_(){var e=hk(),t=[0,1],n=!1,r;function i(a){var s=Rq(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(lP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,mg)).map(lP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return c_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ya.apply(i,arguments),xl(i)}function u_(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=V7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[cm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(sl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return u_().domain(e).range(t).unknown(r)},Ya.apply(a,arguments)}function d_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[cm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return d_().domain([e,t]).range(i).unknown(a)},Ya.apply(xl(s),arguments)}function f_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[cm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return f_().domain(e).range(t).unknown(n)},Ya.apply(i,arguments)}const hx=new Date,px=new Date;function Xr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Xr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(hx.setTime(+a),px.setTime(+s),e(hx),e(px),Math.floor(n(hx,px))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const gg=Xr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):gg);gg.range;const ro=1e3,Ua=ro*60,io=Ua*60,xo=io*24,wk=xo*7,cP=xo*30,gx=xo*365,Ql=Xr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ro)},(e,t)=>(t-e)/ro,e=>e.getUTCSeconds());Ql.range;const kk=Xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ro)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getMinutes());kk.range;const Sk=Xr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCMinutes());Sk.range;const Nk=Xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ro-e.getMinutes()*Ua)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getHours());Nk.range;const Ck=Xr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getUTCHours());Ck.range;const fm=Xr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ua)/xo,e=>e.getDate()-1);fm.range;const V0=Xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xo,e=>e.getUTCDate()-1);V0.range;const m_=Xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xo,e=>Math.floor(e/xo));m_.range;function Pc(e){return Xr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ua)/wk)}const W0=Pc(0),vg=Pc(1),Bq=Pc(2),zq=Pc(3),Ru=Pc(4),Uq=Pc(5),Vq=Pc(6);W0.range;vg.range;Bq.range;zq.range;Ru.range;Uq.range;Vq.range;function Ac(e){return Xr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/wk)}const H0=Ac(0),xg=Ac(1),Wq=Ac(2),Hq=Ac(3),Bu=Ac(4),qq=Ac(5),Kq=Ac(6);H0.range;xg.range;Wq.range;Hq.range;Bu.range;qq.range;Kq.range;const jk=Xr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jk.range;const Pk=Xr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Pk.range;const yo=Xr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});yo.range;const bo=Xr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});bo.range;function h_(e,t,n,r,i,a){const s=[[Ql,1,ro],[Ql,5,5*ro],[Ql,15,15*ro],[Ql,30,30*ro],[a,1,Ua],[a,5,5*Ua],[a,15,15*Ua],[a,30,30*Ua],[i,1,io],[i,3,3*io],[i,6,6*io],[i,12,12*io],[r,1,xo],[r,2,2*xo],[n,1,wk],[t,1,cP],[t,3,3*cP],[e,1,gx]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),p=m?m.range(c,+d+1):[];return h?p.reverse():p}function l(c,d,f){const h=Math.abs(d-c)/f,m=lk(([,,y])=>y).right(s,h);if(m===s.length)return e.every(Ob(c/gx,d/gx,f));if(m===0)return gg.every(Math.max(Ob(c,d,f),1));const[p,v]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(v)}return[o,l]}const[Gq,Yq]=h_(bo,Pk,H0,m_,Ck,Sk),[Xq,Zq]=h_(yo,jk,W0,fm,Nk,kk);function vx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Sd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Qq(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Nd(i),d=Cd(i),f=Nd(a),h=Cd(a),m=Nd(s),p=Cd(s),v=Nd(o),y=Cd(o),g=Nd(l),b=Cd(l),w={a:ee,A:X,b:oe,B:T,c:null,d:pP,e:pP,f:wK,g:DK,G:OK,H:xK,I:yK,j:bK,L:p_,m:kK,M:SK,p:j,q:U,Q:xP,s:yP,S:NK,u:CK,U:jK,V:PK,w:AK,W:TK,x:null,X:null,y:EK,Y:MK,Z:IK,"%":vP},S={a:k,A:O,b:re,B:Q,c:null,d:gP,e:gP,f:FK,g:GK,G:XK,H:_K,I:LK,j:$K,L:v_,m:RK,M:BK,p:B,q:J,Q:xP,s:yP,S:zK,u:UK,U:VK,V:WK,w:HK,W:qK,x:null,X:null,y:KK,Y:YK,Z:ZK,"%":vP},C={a:A,A:$,b:M,B:te,c:Y,d:mP,e:mP,f:hK,g:fP,G:dP,H:hP,I:hP,j:uK,L:mK,m:cK,M:dK,p:_,q:lK,Q:gK,s:vK,S:fK,u:rK,U:iK,V:aK,w:nK,W:sK,x:se,X:W,y:fP,Y:dP,Z:oK,"%":pK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(L,K){return function(le){var ne=[],z=-1,R=0,I=L.length,Z,je,$e;for(le instanceof Date||(le=new Date(+le));++z<I;)L.charCodeAt(z)===37&&(ne.push(L.slice(R,z)),(je=uP[Z=L.charAt(++z)])!=null?Z=L.charAt(++z):je=Z==="e"?" ":"0",($e=K[Z])&&(Z=$e(le,je)),ne.push(Z),R=z+1);return ne.push(L.slice(R,z)),ne.join("")}}function P(L,K){return function(le){var ne=Sd(1900,void 0,1),z=D(ne,L,le+="",0),R,I;if(z!=le.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(K&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(R=xx(Sd(ne.y,0,1)),I=R.getUTCDay(),R=I>4||I===0?xg.ceil(R):xg(R),R=V0.offset(R,(ne.V-1)*7),ne.y=R.getUTCFullYear(),ne.m=R.getUTCMonth(),ne.d=R.getUTCDate()+(ne.w+6)%7):(R=vx(Sd(ne.y,0,1)),I=R.getDay(),R=I>4||I===0?vg.ceil(R):vg(R),R=fm.offset(R,(ne.V-1)*7),ne.y=R.getFullYear(),ne.m=R.getMonth(),ne.d=R.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),I="Z"in ne?xx(Sd(ne.y,0,1)).getUTCDay():vx(Sd(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(I+5)%7:ne.w+ne.U*7-(I+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,xx(ne)):vx(ne)}}function D(L,K,le,ne){for(var z=0,R=K.length,I=le.length,Z,je;z<R;){if(ne>=I)return-1;if(Z=K.charCodeAt(z++),Z===37){if(Z=K.charAt(z++),je=C[Z in uP?K.charAt(z++):Z],!je||(ne=je(L,le,ne))<0)return-1}else if(Z!=le.charCodeAt(ne++))return-1}return ne}function _(L,K,le){var ne=c.exec(K.slice(le));return ne?(L.p=d.get(ne[0].toLowerCase()),le+ne[0].length):-1}function A(L,K,le){var ne=m.exec(K.slice(le));return ne?(L.w=p.get(ne[0].toLowerCase()),le+ne[0].length):-1}function $(L,K,le){var ne=f.exec(K.slice(le));return ne?(L.w=h.get(ne[0].toLowerCase()),le+ne[0].length):-1}function M(L,K,le){var ne=g.exec(K.slice(le));return ne?(L.m=b.get(ne[0].toLowerCase()),le+ne[0].length):-1}function te(L,K,le){var ne=v.exec(K.slice(le));return ne?(L.m=y.get(ne[0].toLowerCase()),le+ne[0].length):-1}function Y(L,K,le){return D(L,t,K,le)}function se(L,K,le){return D(L,n,K,le)}function W(L,K,le){return D(L,r,K,le)}function ee(L){return s[L.getDay()]}function X(L){return a[L.getDay()]}function oe(L){return l[L.getMonth()]}function T(L){return o[L.getMonth()]}function j(L){return i[+(L.getHours()>=12)]}function U(L){return 1+~~(L.getMonth()/3)}function k(L){return s[L.getUTCDay()]}function O(L){return a[L.getUTCDay()]}function re(L){return l[L.getUTCMonth()]}function Q(L){return o[L.getUTCMonth()]}function B(L){return i[+(L.getUTCHours()>=12)]}function J(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var K=N(L+="",w);return K.toString=function(){return L},K},parse:function(L){var K=P(L+="",!1);return K.toString=function(){return L},K},utcFormat:function(L){var K=N(L+="",S);return K.toString=function(){return L},K},utcParse:function(L){var K=P(L+="",!0);return K.toString=function(){return L},K}}}var uP={"-":"",_:" ",0:"0"},oi=/^\s*\d+/,Jq=/^%/,eK=/[\\^$*+?|[\]().{}]/g;function Sn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function tK(e){return e.replace(eK,"\\$&")}function Nd(e){return new RegExp("^(?:"+e.map(tK).join("|")+")","i")}function Cd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function nK(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rK(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function dP(e,t,n){var r=oi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function fP(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lK(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function cK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function mP(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function hP(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=oi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pK(e,t,n){var r=Jq.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gK(e,t,n){var r=oi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vK(e,t,n){var r=oi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function pP(e,t){return Sn(e.getDate(),t,2)}function xK(e,t){return Sn(e.getHours(),t,2)}function yK(e,t){return Sn(e.getHours()%12||12,t,2)}function bK(e,t){return Sn(1+fm.count(yo(e),e),t,3)}function p_(e,t){return Sn(e.getMilliseconds(),t,3)}function wK(e,t){return p_(e,t)+"000"}function kK(e,t){return Sn(e.getMonth()+1,t,2)}function SK(e,t){return Sn(e.getMinutes(),t,2)}function NK(e,t){return Sn(e.getSeconds(),t,2)}function CK(e){var t=e.getDay();return t===0?7:t}function jK(e,t){return Sn(W0.count(yo(e)-1,e),t,2)}function g_(e){var t=e.getDay();return t>=4||t===0?Ru(e):Ru.ceil(e)}function PK(e,t){return e=g_(e),Sn(Ru.count(yo(e),e)+(yo(e).getDay()===4),t,2)}function AK(e){return e.getDay()}function TK(e,t){return Sn(vg.count(yo(e)-1,e),t,2)}function EK(e,t){return Sn(e.getFullYear()%100,t,2)}function DK(e,t){return e=g_(e),Sn(e.getFullYear()%100,t,2)}function MK(e,t){return Sn(e.getFullYear()%1e4,t,4)}function OK(e,t){var n=e.getDay();return e=n>=4||n===0?Ru(e):Ru.ceil(e),Sn(e.getFullYear()%1e4,t,4)}function IK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sn(t/60|0,"0",2)+Sn(t%60,"0",2)}function gP(e,t){return Sn(e.getUTCDate(),t,2)}function _K(e,t){return Sn(e.getUTCHours(),t,2)}function LK(e,t){return Sn(e.getUTCHours()%12||12,t,2)}function $K(e,t){return Sn(1+V0.count(bo(e),e),t,3)}function v_(e,t){return Sn(e.getUTCMilliseconds(),t,3)}function FK(e,t){return v_(e,t)+"000"}function RK(e,t){return Sn(e.getUTCMonth()+1,t,2)}function BK(e,t){return Sn(e.getUTCMinutes(),t,2)}function zK(e,t){return Sn(e.getUTCSeconds(),t,2)}function UK(e){var t=e.getUTCDay();return t===0?7:t}function VK(e,t){return Sn(H0.count(bo(e)-1,e),t,2)}function x_(e){var t=e.getUTCDay();return t>=4||t===0?Bu(e):Bu.ceil(e)}function WK(e,t){return e=x_(e),Sn(Bu.count(bo(e),e)+(bo(e).getUTCDay()===4),t,2)}function HK(e){return e.getUTCDay()}function qK(e,t){return Sn(xg.count(bo(e)-1,e),t,2)}function KK(e,t){return Sn(e.getUTCFullYear()%100,t,2)}function GK(e,t){return e=x_(e),Sn(e.getUTCFullYear()%100,t,2)}function YK(e,t){return Sn(e.getUTCFullYear()%1e4,t,4)}function XK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Bu(e):Bu.ceil(e),Sn(e.getUTCFullYear()%1e4,t,4)}function ZK(){return"+0000"}function vP(){return"%"}function xP(e){return+e}function yP(e){return Math.floor(+e/1e3)}var Wc,y_,b_;QK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QK(e){return Wc=Qq(e),y_=Wc.format,Wc.parse,b_=Wc.utcFormat,Wc.utcParse,Wc}function JK(e){return new Date(e)}function eG(e){return e instanceof Date?+e:+new Date(+e)}function Ak(e,t,n,r,i,a,s,o,l,c){var d=hk(),f=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),v=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(N){return(l(N)<N?m:o(N)<N?p:s(N)<N?v:a(N)<N?y:r(N)<N?i(N)<N?g:b:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,eG)):h().map(JK)},d.ticks=function(N){var P=h();return e(P[0],P[P.length-1],N??10)},d.tickFormat=function(N,P){return P==null?C:c(P)},d.nice=function(N){var P=h();return(!N||typeof N.range!="function")&&(N=t(P[0],P[P.length-1],N??10)),N?h(s_(P,N)):d},d.copy=function(){return dm(d,Ak(e,t,n,r,i,a,s,o,l,c))},d}function tG(){return Ya.apply(Ak(Xq,Zq,yo,jk,W0,fm,Nk,kk,Ql,y_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nG(){return Ya.apply(Ak(Gq,Yq,bo,Pk,H0,V0,Ck,Sk,Ql,b_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function q0(){var e=0,t=1,n,r,i,a,s=Ri,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=d(Xu),c.rangeRound=d(mk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function yl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function w_(){var e=xl(q0()(Ri));return e.copy=function(){return yl(e,w_())},jo.apply(e,arguments)}function k_(){var e=vk(q0()).domain([1,10]);return e.copy=function(){return yl(e,k_()).base(e.base())},jo.apply(e,arguments)}function S_(){var e=xk(q0());return e.copy=function(){return yl(e,S_()).constant(e.constant())},jo.apply(e,arguments)}function Tk(){var e=yk(q0());return e.copy=function(){return yl(e,Tk()).exponent(e.exponent())},jo.apply(e,arguments)}function rG(){return Tk.apply(null,arguments).exponent(.5)}function N_(){var e=[],t=Ri;function n(r){if(r!=null&&!isNaN(r=+r))return t((cm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(sl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>U7(e,a/r))},n.copy=function(){return N_(t).domain(e)},jo.apply(n,arguments)}function K0(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,c=Ri,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-a)*(r*v<r*a?o:l),c(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(c=v,m):c};function p(v){return function(y){var g,b,w;return arguments.length?([g,b,w]=y,c=pq(v,[g,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=p(Xu),m.rangeRound=p(mk),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,i=v(e),a=v(t),s=v(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function C_(){var e=xl(K0()(Ri));return e.copy=function(){return yl(e,C_())},jo.apply(e,arguments)}function j_(){var e=vk(K0()).domain([.1,1,10]);return e.copy=function(){return yl(e,j_()).base(e.base())},jo.apply(e,arguments)}function P_(){var e=xk(K0());return e.copy=function(){return yl(e,P_()).constant(e.constant())},jo.apply(e,arguments)}function Ek(){var e=yk(K0());return e.copy=function(){return yl(e,Ek()).exponent(e.exponent())},jo.apply(e,arguments)}function iG(){return Ek.apply(null,arguments).exponent(.5)}const $d=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uk,scaleDiverging:C_,scaleDivergingLog:j_,scaleDivergingPow:Ek,scaleDivergingSqrt:iG,scaleDivergingSymlog:P_,scaleIdentity:a_,scaleImplicit:Ib,scaleLinear:i_,scaleLog:o_,scaleOrdinal:ck,scalePoint:H7,scalePow:bk,scaleQuantile:u_,scaleQuantize:d_,scaleRadial:c_,scaleSequential:w_,scaleSequentialLog:k_,scaleSequentialPow:Tk,scaleSequentialQuantile:N_,scaleSequentialSqrt:rG,scaleSequentialSymlog:S_,scaleSqrt:Fq,scaleSymlog:l_,scaleThreshold:f_,scaleTime:tG,scaleUtc:nG,tickFormat:r_},Symbol.toStringTag,{value:"Module"}));var bl=e=>e.chartData,Dk=de([bl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Mk=(e,t,n,r)=>r?Dk(e):bl(e);function ul(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Br(t)&&Br(n))return!0}return!1}function bP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function A_(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Br(n))i=n;else if(typeof n=="function")return;if(Br(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ul(s))return s}}function aG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ul(r))return bP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(St(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&RC.test(i)){var l=RC.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(St(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&BC.test(a)){var d=BC.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(ul(h))return t==null?h:bP(h,t,n)}}}var Zu=1e9,sG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ik,or=!0,Ga="[DecimalError] ",oc=Ga+"Invalid argument: ",Ok=Ga+"Exponent out of range: ",Qu=Math.floor,zl=Math.pow,oG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ga,ri=1e7,Jn=7,T_=9007199254740991,yg=Qu(T_/Jn),dt={};dt.absoluteValue=dt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};dt.comparedTo=dt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};dt.decimalPlaces=dt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Jn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};dt.dividedBy=dt.div=function(e){return oo(this,new this.constructor(e))};dt.dividedToIntegerBy=dt.idiv=function(e){var t=this,n=t.constructor;return zn(oo(t,new n(e),0,1),n.precision)};dt.equals=dt.eq=function(e){return!this.cmp(e)};dt.exponent=function(){return Rr(this)};dt.greaterThan=dt.gt=function(e){return this.cmp(e)>0};dt.greaterThanOrEqualTo=dt.gte=function(e){return this.cmp(e)>=0};dt.isInteger=dt.isint=function(){return this.e>this.d.length-2};dt.isNegative=dt.isneg=function(){return this.s<0};dt.isPositive=dt.ispos=function(){return this.s>0};dt.isZero=function(){return this.s===0};dt.lessThan=dt.lt=function(e){return this.cmp(e)<0};dt.lessThanOrEqualTo=dt.lte=function(e){return this.cmp(e)<1};dt.logarithm=dt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ga))throw Error(Ga+"NaN");if(n.s<1)throw Error(Ga+(n.s?"NaN":"-Infinity"));return n.eq(ga)?new r(0):(or=!1,t=oo(Ff(n,a),Ff(e,a),a),or=!0,zn(t,i))};dt.minus=dt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?M_(t,e):E_(t,(e.s=-e.s,e))};dt.modulo=dt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ga+"NaN");return n.s?(or=!1,t=oo(n,e,0,1).times(e),or=!0,n.minus(t)):zn(new r(n),i)};dt.naturalExponential=dt.exp=function(){return D_(this)};dt.naturalLogarithm=dt.ln=function(){return Ff(this)};dt.negated=dt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};dt.plus=dt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E_(t,e):M_(t,(e.s=-e.s,e))};dt.precision=dt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(oc+e);if(t=Rr(i)+1,r=i.d.length-1,n=r*Jn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};dt.squareRoot=dt.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ga+"NaN")}for(e=Rr(o),or=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Es(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Qu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(oo(o,a,s+2)).times(.5),Es(a.d).slice(0,s)===(t=Es(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(zn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return or=!0,zn(r,n)};dt.times=dt.mul=function(e){var t,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%ri|0,t=o/ri|0;a[i]=(a[i]+t)%ri|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,or?zn(e,f.precision):e};dt.toDecimalPlaces=dt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Fs(e,0,Zu),t===void 0?t=r.rounding:Fs(t,0,8),zn(n,e+Rr(n)+1,t))};dt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=bc(r,!0):(Fs(e,0,Zu),t===void 0?t=i.rounding:Fs(t,0,8),r=zn(new i(r),e+1,t),n=bc(r,!0,e+1)),n};dt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?bc(i):(Fs(e,0,Zu),t===void 0?t=a.rounding:Fs(t,0,8),r=zn(new a(i),e+Rr(i)+1,t),n=bc(r.abs(),!1,e+Rr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};dt.toInteger=dt.toint=function(){var e=this,t=e.constructor;return zn(new t(e),Rr(e)+1,t.rounding)};dt.toNumber=function(){return+this};dt.toPower=dt.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(ga);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ga+"Infinity");return o}if(o.eq(ga))return o;if(r=l.precision,e.eq(ga))return zn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=T_){for(i=new l(ga),t=Math.ceil(r/Jn+4),or=!1;n%2&&(i=i.times(o),kP(i.d,t)),n=Qu(n/2),n!==0;)o=o.times(o),kP(o.d,t);return or=!0,e.s<0?new l(ga).div(i):zn(i,r)}}else if(a<0)throw Error(Ga+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,or=!1,i=e.times(Ff(o,r+c)),or=!0,i=D_(i),i.s=a,i};dt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Rr(i),r=bc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fs(e,1,Zu),t===void 0?t=a.rounding:Fs(t,0,8),i=zn(new a(i),e,t),n=Rr(i),r=bc(i,e<=n||n<=a.toExpNeg,e)),r};dt.toSignificantDigits=dt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Fs(e,1,Zu),t===void 0?t=r.rounding:Fs(t,0,8)),zn(new r(n),e,t)};dt.toString=dt.valueOf=dt.val=dt.toJSON=dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rr(e),n=e.constructor;return bc(e,t<=n.toExpNeg||t>=n.toExpPos)};function E_(e,t){var n,r,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),or?zn(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/Jn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/ri|0,l[a]%=ri;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,or?zn(t,f):t}function Fs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(oc+e)}function Es(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=Jn-r.length,n&&(a+=Uo(n)),a+=r;s=e[t],r=s+"",n=Jn-r.length,n&&(a+=Uo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var oo=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ri|0,s=a/ri|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ri+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,m,p,v,y,g,b,w,S,C,N,P,D,_=r.constructor,A=r.s==i.s?1:-1,$=r.d,M=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(Ga+"Division by zero");for(l=r.e-i.e,P=M.length,C=$.length,m=new _(A),p=m.d=[],c=0;M[c]==($[c]||0);)++c;if(M[c]>($[c]||0)&&--l,a==null?b=a=_.precision:s?b=a+(Rr(r)-Rr(i))+1:b=a,b<0)return new _(0);if(b=b/Jn+2|0,c=0,P==1)for(d=0,M=M[0],b++;(c<C||d)&&b--;c++)w=d*ri+($[c]||0),p[c]=w/M|0,d=w%M|0;else{for(d=ri/(M[0]+1)|0,d>1&&(M=e(M,d),$=e($,d),P=M.length,C=$.length),S=P,v=$.slice(0,P),y=v.length;y<P;)v[y++]=0;D=M.slice(),D.unshift(0),N=M[0],M[1]>=ri/2&&++N;do d=0,o=t(M,v,P,y),o<0?(g=v[0],P!=y&&(g=g*ri+(v[1]||0)),d=g/N|0,d>1?(d>=ri&&(d=ri-1),f=e(M,d),h=f.length,y=v.length,o=t(f,v,h,y),o==1&&(d--,n(f,P<h?D:M,h))):(d==0&&(o=d=1),f=M.slice()),h=f.length,h<y&&f.unshift(0),n(v,f,y),o==-1&&(y=v.length,o=t(M,v,P,y),o<1&&(d++,n(v,P<y?D:M,y))),y=v.length):o===0&&(d++,v=[0]),p[c++]=d,o&&v[0]?v[y++]=$[S]||0:(v=[$[S]],y=1);while((S++<C||v[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=l,zn(m,s?a+Rr(m)+1:a)}}();function D_(e,t){var n,r,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(Rr(e)>16)throw Error(Ok+Rr(e));if(!e.s)return new d(ga);for(or=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(zl(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(ga),d.precision=o;;){if(i=zn(i.times(e),o),n=n.times(++l),s=a.plus(oo(i,n,o)),Es(s.d).slice(0,o)===Es(a.d).slice(0,o)){for(;c--;)a=zn(a.times(a),o);return d.precision=f,t==null?(or=!0,zn(a,f)):a}a=s}}function Rr(e){for(var t=e.e*Jn,n=e.d[0];n>=10;n/=10)t++;return t}function yx(e,t,n){if(t>e.LN10.sd())throw or=!0,n&&(e.precision=n),Error(Ga+"LN10 precision limit exceeded");return zn(new e(e.LN10),t)}function Uo(e){for(var t="";e--;)t+="0";return t}function Ff(e,t){var n,r,i,a,s,o,l,c,d,f=1,h=10,m=e,p=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(Ga+(m.s?"NaN":"-Infinity"));if(m.eq(ga))return new v(0);if(t==null?(or=!1,c=y):c=t,m.eq(10))return t==null&&(or=!0),yx(v,c);if(c+=h,v.precision=c,n=Es(p),r=n.charAt(0),a=Rr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Es(m.d),r=n.charAt(0),f++;a=Rr(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1))}else return l=yx(v,c+2,y).times(a+""),m=Ff(new v(r+"."+n.slice(1)),c-h).plus(l),v.precision=y,t==null?(or=!0,zn(m,y)):m;for(o=s=m=oo(m.minus(ga),m.plus(ga),c),d=zn(m.times(m),c),i=3;;){if(s=zn(s.times(d),c),l=o.plus(oo(s,new v(i),c)),Es(l.d).slice(0,c)===Es(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(yx(v,c+2,y).times(a+""))),o=oo(o,new v(f),c),v.precision=y,t==null?(or=!0,zn(o,y)):o;o=l,i+=2}}function wP(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Qu(n/Jn),e.d=[],r=(n+1)%Jn,n<0&&(r+=Jn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Jn;r<i;)e.d.push(+t.slice(r,r+=Jn));t=t.slice(r),r=Jn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),or&&(e.e>yg||e.e<-yg))throw Error(Ok+n)}else e.s=0,e.e=0,e.d=[0];return e}function zn(e,t,n){var r,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=Jn,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Jn),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=Jn,i=r-Jn+s}if(n!==void 0&&(a=zl(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/zl(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Rr(e),f.length=1,t=t-a-1,f[0]=zl(10,(Jn-t%Jn)%Jn),e.e=Qu(-t/Jn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=zl(10,Jn-r),f[d]=i>0?(c/zl(10,s-i)%zl(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==ri&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=ri)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(or&&(e.e>yg||e.e<-yg))throw Error(Ok+Rr(e));return e}function M_(e,t){var n,r,i,a,s,o,l,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),or?zn(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/Jn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ri-1;--l[a],l[i]+=ri}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,or?zn(t,m):t):new h(0)}function bc(e,t,n){var r,i=Rr(e),a=Es(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Uo(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Uo(-i-1)+a,n&&(r=n-s)>0&&(a+=Uo(r))):i>=s?(a+=Uo(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Uo(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Uo(r))),e.s<0?"-"+a:a}function kP(e,t){if(e.length>t)return e.length=t,!0}function O_(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(oc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return wP(s,a.toString())}else if(typeof a!="string")throw Error(oc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,oG.test(a))wP(s,a);else throw Error(oc+a)}if(i.prototype=dt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=O_,i.config=i.set=lG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function lG(e){if(!e||typeof e!="object")throw Error(Ga+"Object expected");var t,n,r,i=["precision",1,Zu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Qu(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(oc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(oc+n+": "+r);return this}var Ik=O_(sG);ga=new Ik(1);const Dn=Ik;var cG=e=>e,I_={},__=e=>e===I_,SP=e=>function t(){return arguments.length===0||arguments.length===1&&__(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},L_=(e,t)=>e===1?t:SP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==I_).length;return a>=e?t(...r):L_(e-a,SP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(d=>__(d)?o.shift():d);return t(...c,...o)}))}),uG=e=>L_(e.length,e),Fb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},dG=uG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),fG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return cG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function $_(e){var t;return e===0?t=1:t=Math.floor(new Dn(e).abs().log(10).toNumber())+1,t}function F_(e,t,n){for(var r=new Dn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var R_=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},B_=(e,t,n)=>{if(e.lte(0))return new Dn(0);var r=$_(e.toNumber()),i=new Dn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Dn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Dn(l.toNumber()):new Dn(Math.ceil(l.toNumber()))},mG=(e,t,n)=>{var r=new Dn(1),i=new Dn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Dn(10).pow($_(e)-1),i=new Dn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Dn(Math.floor(e)))}else e===0?i=new Dn(Math.floor((t-1)/2)):n||(i=new Dn(Math.floor(e)));var s=Math.floor((t-1)/2),o=fG(dG(l=>i.add(new Dn(l-s).mul(r)).toNumber()),Fb);return o(0,t)},z_=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Dn(0),tickMin:new Dn(0),tickMax:new Dn(0)};var s=B_(new Dn(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Dn(0):(o=new Dn(t).add(n).div(2),o=o.sub(new Dn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Dn(n).sub(o).div(s).toNumber()),d=l+c+1;return d>r?z_(t,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Dn(l).mul(s)),tickMax:o.add(new Dn(c).mul(s))})},hG=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=R_([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Fb(0,i-1).map(()=>1/0)]:[...Fb(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return mG(o,i,a);var{step:d,tickMin:f,tickMax:h}=z_(o,l,s,a,0),m=F_(f,h.add(new Dn(.1).mul(d)),d);return n>r?m.reverse():m},pG=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=R_([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=B_(new Dn(o).sub(s).div(l-1),a,0),d=[...F_(new Dn(s),new Dn(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},gG=e=>e.rootProps.barCategoryGap,mm=e=>e.rootProps.stackOffset,U_=e=>e.rootProps.reverseStackOrder,_k=e=>e.options.chartName,Lk=e=>e.rootProps.syncId,V_=e=>e.rootProps.syncMethod,$k=e=>e.options.eventEmitter,hi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Qs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},pa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},G0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},vG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qs.angleAxisId,includeHidden:!1,name:void 0,reversed:Qs.reversed,scale:Qs.scale,tick:Qs.tick,tickCount:void 0,ticks:void 0,type:Qs.type,unit:void 0},xG={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:pa.type,unit:void 0},yG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qs.scale,tick:Qs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bG={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:"category",unit:void 0},Fk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?yG:vG,Rk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?bG:xG,Y0=e=>e.polarOptions,Bk=de([No,Co,si],zI),W_=de([Y0,Bk],(e,t)=>{if(e!=null)return ba(e.innerRadius,t,0)}),H_=de([Y0,Bk],(e,t)=>{if(e!=null)return ba(e.outerRadius,t,t*.8)}),wG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},q_=de([Y0],wG);de([Fk,q_],G0);var K_=de([Bk,W_,H_],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});de([Rk,K_],G0);var G_=de([Fn,Y0,W_,H_,No,Co],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:ba(s,i,i/2),cy:ba(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),lr=(e,t)=>t,hm=(e,t,n)=>n;function Y_(e){return e==null?void 0:e.id}function X_(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=Y_(o);c.forEach((f,h)=>{var m=a==null||i?h:String(tr(f,a,null)),p=tr(f,o.dataKey,0),v;s.has(m)?v=s.get(m):v={},Object.assign(v,{[d]:p}),s.set(m,v)})}}),Array.from(s.values())}function zk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var X0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Z0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function kG(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Zr=e=>{var t=Fn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ju=e=>e.tooltip.settings.axisId;function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(r){SG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SG(e,t,n){return(t=NG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NG(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rb=[0,"auto"],ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Z_=(e,t)=>e.cartesianAxis.xAxis[t],Po=(e,t)=>{var n=Z_(e,t);return n??ti},ni={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Rb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sm},Q_=(e,t)=>e.cartesianAxis.yAxis[t],Ao=(e,t)=>{var n=Q_(e,t);return n??ni},jG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Uk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??jG},yr=(e,t,n)=>{switch(t){case"xAxis":return Po(e,n);case"yAxis":return Ao(e,n);case"zAxis":return Uk(e,n);case"angleAxis":return Fk(e,n);case"radiusAxis":return Rk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},PG=(e,t,n)=>{switch(t){case"xAxis":return Po(e,n);case"yAxis":return Ao(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pm=(e,t,n)=>{switch(t){case"xAxis":return Po(e,n);case"yAxis":return Ao(e,n);case"angleAxis":return Fk(e,n);case"radiusAxis":return Rk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},J_=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Vk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var e3=e=>e.graphicalItems.cartesianItems,AG=de([lr,hm],Vk),Wk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),gm=de([e3,yr,AG],Wk,{memoizeOptions:{resultEqualityCheck:Z0}}),t3=de([gm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(zk)),n3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),TG=de([gm],n3),Hk=e=>e.map(t=>t.data).filter(Boolean).flat(1),EG=de([gm],Hk,{memoizeOptions:{resultEqualityCheck:Z0}}),qk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Kk=de([EG,Mk],qk),Gk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:tr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:tr(i,r)}))):e.map(r=>({value:r})),Q0=de([Kk,yr,gm],Gk);function r3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ep(e){if(Ls(e)||e instanceof Date){var t=Number(e);if(Br(t))return t}}function CP(e){if(Array.isArray(e)){var t=[ep(e[0]),ep(e[1])];return ul(t)?t:void 0}var n=ep(e);if(n!=null)return[n,n]}function wo(e){return e.map(ep).filter(q8)}function DG(e,t,n){return!n||typeof t!="number"||_s(t)?[]:n.length?wo(n.flatMap(r=>{var i=tr(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Br(a)||!Br(s)))return[t-a,t+s]})):[]}var Qr=e=>{var t=Zr(e),n=Ju(e);return pm(e,t,n)},vm=de([Qr],e=>e==null?void 0:e.dataKey),MG=de([t3,Mk,Qr],X_),i3=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,d=c.map(Y_);return[o,{stackedData:lW(e,d,n),graphicalItems:c}]}))},OG=de([MG,t3,mm,U_],i3),a3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=dW(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},IG=de([yr],e=>e.allowDataOverflow),Yk=e=>{var t;if(e==null||!("domain"in e))return Rb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=wo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Rb},Xk=de([yr],Yk),Zk=de([Xk,IG],A_),_G=de([OG,bl,lr,Zk],a3,{memoizeOptions:{resultEqualityCheck:X0}}),J0=e=>e.errorBars,LG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>r3(n,r)),wg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},Qk=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(g=>r3(i,g)),h=tr(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=DG(o,h,f);if(m.length>=2){var p=Math.min(...m),v=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||v>s)&&(s=v)}var y=CP(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=CP(tr(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Br(a)&&Br(s))return[a,s]},$G=de([Kk,yr,TG,J0,lr],Qk,{memoizeOptions:{resultEqualityCheck:X0}});function FG(e){var{value:t}=e;if(Ls(t)||t instanceof Date)return t}var RG=(e,t,n)=>{var r=e.map(FG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&JO(r))?GI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},s3=e=>e.referenceElements.dots,ed=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),BG=de([s3,lr,hm],ed),o3=e=>e.referenceElements.areas,zG=de([o3,lr,hm],ed),l3=e=>e.referenceElements.lines,UG=de([l3,lr,hm],ed),c3=(e,t)=>{if(e!=null){var n=wo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VG=de(BG,lr,c3),u3=(e,t)=>{if(e!=null){var n=wo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},WG=de([zG,lr],u3);function HG(e){var t;if(e.x!=null)return wo([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:wo(n)}function qG(e){var t;if(e.y!=null)return wo([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:wo(n)}var d3=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?HG(r):qG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},KG=de([UG,lr],d3),GG=de(VG,KG,WG,(e,t,n)=>wg(e,n,t)),Jk=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?wg(r,a,i):wg(a,i);return aG(t,c,e.allowDataOverflow)},YG=de([yr,Xk,Zk,_G,$G,GG,Fn,lr],Jk,{memoizeOptions:{resultEqualityCheck:X0}}),XG=[0,1],eS=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=vl(t,a);if(c&&o==null){var d;return GI(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?RG(r,e,c):i==="expand"?XG:s}},tS=de([yr,Fn,Kk,Q0,mm,lr,YG],eS),f3=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(nm(a));return o in $d?o:"point"}}},td=de([yr,Fn,J_,_k,lr],f3);function ZG(e){if(e!=null){if(e in $d)return $d[e]();var t="scale".concat(nm(e));if(t in $d)return $d[t]()}}function nS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=ZG(t);if(i!=null){var a=i.domain(n).range(r);return iW(a),a}}}var rS=(e,t,n)=>{var r=Yk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ul(e))return hG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ul(e))return pG(e,t.tickCount,t.allowDecimals)}},iS=de([tS,pm,td],rS),aS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ul(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},QG=de([yr,tS,iS,lr],aS),JG=de(Q0,yr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(wo(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/s}}),m3=de(JG,Fn,gG,si,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Br(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ba(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),eY=(e,t,n)=>{var r=Po(e,t);return r==null||typeof r.padding!="string"?0:m3(e,"xAxis",t,n,r.padding)},tY=(e,t,n)=>{var r=Ao(e,t);return r==null||typeof r.padding!="string"?0:m3(e,"yAxis",t,n,r.padding)},nY=de(Po,eY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),rY=de(Ao,tY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),iY=de([si,nY,O0,M0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),aY=de([si,Fn,rY,O0,M0,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),xm=(e,t,n,r)=>{var i;switch(t){case"xAxis":return iY(e,n,r);case"yAxis":return aY(e,n,r);case"zAxis":return(i=Uk(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return q_(e);case"radiusAxis":return K_(e,n);default:return}},h3=de([yr,xm],G0),ev=de([yr,td,QG,h3],nS);de([gm,J0,lr],LG);function p3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var tv=(e,t)=>t,nv=(e,t,n)=>n,sY=de(E0,tv,nv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(p3)),oY=de(D0,tv,nv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(p3)),g3=(e,t)=>({width:e.width,height:t.height}),lY=(e,t)=>{var n=typeof t.width=="number"?t.width:sm;return{width:n,height:e.height}},cY=de(si,Po,g3),uY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},dY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},fY=de(Co,si,sY,tv,nv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=g3(t,o);s==null&&(s=uY(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),mY=de(No,si,oY,tv,nv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=lY(t,o);s==null&&(s=dY(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),hY=(e,t)=>{var n=Po(e,t);if(n!=null)return fY(e,n.orientation,n.mirror)},pY=de([si,Po,hY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),gY=(e,t)=>{var n=Ao(e,t);if(n!=null)return mY(e,n.orientation,n.mirror)},vY=de([si,Ao,gY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),xY=de(si,Ao,(e,t)=>{var n=typeof t.width=="number"?t.width:sm;return{width:n,height:e.height}}),v3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=vl(e,r),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&JO(l))return l}},sS=de([Fn,Q0,yr,lr],v3),x3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=vl(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},oS=de([Fn,Q0,pm,lr],x3),jP=de([Fn,PG,td,ev,sS,oS,xm,iS,lr],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var c=vl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),yY=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var c=vl(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?Pi(a[0]-a[1])*2*p:p;var v=f||i;if(v){var y=v.map((g,b)=>{var w=s?s.indexOf(g):g;return{index:b,coordinate:r(w)+p,value:g,offset:p}});return y.filter(g=>Br(g.coordinate))}return c&&o?o.map((g,b)=>({coordinate:r(g)+p,value:g,index:b,offset:p})).filter(g=>Br(g.coordinate)):r.ticks?r.ticks(h).map(g=>({coordinate:r(g)+p,value:g,offset:p})):r.domain().map((g,b)=>({coordinate:r(g)+p,value:s?s[g]:g,index:b,offset:p}))}},y3=de([Fn,pm,td,ev,iS,xm,sS,oS,lr],yY),bY=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=vl(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Pi(r[0]-r[1])*2*c:c,o&&a?a.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},b3=de([Fn,pm,ev,xm,sS,oS,lr],bY),w3=de(yr,ev,(e,t)=>{if(!(e==null||t==null))return bg(bg({},e),{},{scale:t})}),wY=de([yr,td,tS,h3],nS);de((e,t,n)=>Uk(e,n),wY,(e,t)=>{if(!(e==null||t==null))return bg(bg({},e),{},{scale:t})});var kY=de([Fn,E0,D0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),k3=e=>e.options.defaultTooltipEventType,S3=e=>e.options.validateTooltipEventTypes;function N3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function lS(e,t){var n=k3(e),r=S3(e);return N3(t,n,r)}function SY(e){return bt(t=>lS(t,e))}var C3=(e,t)=>{var n,r=Number(t);if(!(_s(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},NY=e=>e.tooltip.settings,Ko={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},CY={itemInteraction:{click:Ko,hover:Ko},axisInteraction:{click:Ko,hover:Ko},keyboardInteraction:Ko,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},j3=oa({name:"tooltip",initialState:CY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ar()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=os(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:ar()},removeTooltipEntrySettings:{reducer(e,t){var n=os(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ar()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:jY,replaceTooltipEntrySettings:PY,removeTooltipEntrySettings:AY,setTooltipSettingsState:TY,setActiveMouseOverItemIndex:P3,mouseLeaveItem:EY,mouseLeaveChart:A3,setActiveClickItemIndex:DY,setMouseOverAxisIndex:T3,setMouseClickAxisIndex:MY,setSyncInteraction:Bb,setKeyboardInteraction:zb}=j3.actions,OY=j3.reducer;function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(r){IY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IY(e,t,n){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Y(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Y(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function FY(e){return e.index!=null}var E3=(e,t,n,r)=>{if(t==null)return Ko;var i=$Y(e,t,n);if(i==null)return Ko;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(FY(i)){if(a)return Ph(Ph({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ph(Ph({},Ko),{},{coordinate:i.coordinate})};function RY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function BY(e,t){var n=RY(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function zY(e,t,n){if(n==null||t==null)return!0;var r=tr(e,t);return r==null||!ul(n)?!0:BY(r,n)}var cS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Br(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||zY(c,n,r)?String(l):null},D3=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},M3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},ym=e=>e.options.tooltipPayloadSearcher,nd=e=>e.tooltip;function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){UY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UY(e,t,n){return(t=VY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HY(e,t){return e??t}var O3=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:v,settings:y}=m,g=HY(v,o),b=Array.isArray(g)?cI(g,c,d):g,w=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,S=y==null?void 0:y.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?C=e5(b,r,i):C=a(b,t,l,S),Array.isArray(C))C.forEach(P=>{var D=TP(TP({},y),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(zC({tooltipEntrySettings:D,dataKey:P.dataKey,payload:P.payload,value:tr(P.payload,P.dataKey),name:P.name}))});else{var N;h.push(zC({tooltipEntrySettings:y,dataKey:w,payload:C,value:tr(C,w),name:(N=tr(C,S))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},uS=de([Qr,Fn,J_,_k,Zr],f3),qY=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),KY=de([Zr,Ju],Vk),rd=de([qY,Qr,KY],Wk,{memoizeOptions:{resultEqualityCheck:Z0}}),GY=de([rd],e=>e.filter(zk)),YY=de([rd],Hk,{memoizeOptions:{resultEqualityCheck:Z0}}),id=de([YY,bl],qk),XY=de([GY,bl,Qr],X_),dS=de([id,Qr,rd],Gk),I3=de([Qr],Yk),ZY=de([Qr],e=>e.allowDataOverflow),_3=de([I3,ZY],A_),QY=de([rd],e=>e.filter(zk)),JY=de([XY,QY,mm,U_],i3),eX=de([JY,bl,Zr,_3],a3),tX=de([rd],n3),nX=de([id,Qr,tX,J0,Zr],Qk,{memoizeOptions:{resultEqualityCheck:X0}}),rX=de([s3,Zr,Ju],ed),iX=de([rX,Zr],c3),aX=de([o3,Zr,Ju],ed),sX=de([aX,Zr],u3),oX=de([l3,Zr,Ju],ed),lX=de([oX,Zr],d3),cX=de([iX,lX,sX],wg),uX=de([Qr,I3,_3,eX,nX,cX,Fn,Zr],Jk),bm=de([Qr,Fn,id,dS,mm,Zr,uX],eS),dX=de([bm,Qr,uS],rS),fX=de([Qr,bm,dX,Zr],aS),L3=e=>{var t=Zr(e),n=Ju(e),r=!1;return xm(e,t,n,r)},$3=de([Qr,L3],G0),F3=de([Qr,uS,fX,$3],nS),mX=de([Fn,dS,Qr,Zr],v3),hX=de([Fn,dS,Qr,Zr],x3),pX=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=vl(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Pi(i[0]-i[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},To=de([Fn,Qr,uS,F3,L3,mX,hX,Zr],pX),fS=de([k3,S3,NY],(e,t,n)=>N3(n.shared,e,t)),R3=e=>e.tooltip.settings.trigger,mS=e=>e.tooltip.settings.defaultIndex,wm=de([nd,fS,R3,mS],E3),zu=de([wm,id,vm,bm],cS),B3=de([To,zu],C3),z3=de([wm],e=>{if(e)return e.dataKey}),gX=de([wm],e=>{if(e)return e.graphicalItemId}),U3=de([nd,fS,R3,mS],M3),vX=de([No,Co,Fn,si,To,mS,U3,ym],D3),xX=de([wm,vX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yX=de([wm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),bX=de([U3,zu,bl,vm,B3,ym,fS],O3),wX=de([bX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){kX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kX(e,t,n){return(t=SX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CX=()=>bt(Qr),jX=()=>{var e=CX(),t=bt(To),n=bt(F3);return Jp(!e||!n?void 0:DP(DP({},e),{},{scale:n}),t)};function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(r){PX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PX(e,t,n){return(t=AX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},DX=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Hc(Hc(Hc({},r),Fr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Hc(Hc(Hc({},r),Fr(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function MX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var V3=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,v=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||v==null))if(Pi(p-m)!==Pi(v-p)){var g=[];if(Pi(v-p)===Pi(i[1]-i[0])){y=v;var b=p+i[1]-i[0];g[0]=Math.min(b,(b+m)/2),g[1]=Math.max(b,(b+m)/2)}else{y=m;var w=v+i[1]-i[0];g[0]=Math.min(p,(w+p)/2),g[1]=Math.max(p,(w+p)/2)}var S=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>S[0]&&e<=S[1]||e>=g[0]&&e<=g[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,v),P=Math.max(m,v);if(e>(N+p)/2&&e<=(P+p)/2){var D;return(D=n[o])===null||D===void 0?void 0:D.index}}}else if(t)for(var _=0;_<s;_++){var A=t[_];if(A!=null){var $=t[_+1],M=t[_-1];if(_===0&&$!=null&&e<=(A.coordinate+$.coordinate)/2||_===s-1&&M!=null&&e>(A.coordinate+M.coordinate)/2||_>0&&_<s-1&&M!=null&&$!=null&&e>(A.coordinate+M.coordinate)/2&&e<=(A.coordinate+$.coordinate)/2)return A.index}}return-1},OX=()=>bt(_k),hS=(e,t)=>t,W3=(e,t,n)=>n,pS=(e,t,n,r)=>r,IX=de(To,e=>y0(e,t=>t.coordinate)),gS=de([nd,hS,W3,pS],E3),vS=de([gS,id,vm,bm],cS),_X=(e,t,n)=>{if(t!=null){var r=nd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},H3=de([nd,hS,W3,pS],M3),kg=de([No,Co,Fn,si,To,pS,H3,ym],D3),LX=de([gS,kg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),q3=de([To,vS],C3),$X=de([H3,vS,bl,vm,q3,ym,hS],O3),FX=de([gS,vS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),RX=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&MX(e,s)){var o=fW(e,t),l=V3(o,a,i,n,r),c=EX(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},BX=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=C7(e,n);if(o){var l=mW(o,t),c=V3(l,s,a,r,i),d=DX(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},zX=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?RX(e,t,r,i,a,s,o):BX(e,t,n,r,i,a,s)},UX=de(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),VX=de(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(hi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:kG}});function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){WX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WX(e,t,n){return(t=HX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KX={},GX={zIndexMap:Object.values(hi).reduce((e,t)=>IP(IP({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),KX)},YX=new Set(Object.values(hi));function XX(e){return YX.has(e)}var K3=oa({name:"zIndex",initialState:GX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ar()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!XX(n)&&delete e.zIndexMap[n])},prepare:ar()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:ar()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:ar()}}}),{registerZIndexPortal:ZX,unregisterZIndexPortal:QX,registerZIndexPortalElement:JX,unregisterZIndexPortalElement:eZ}=K3.actions,tZ=K3.reducer;function gs(e){var{zIndex:t,children:n}=e,r=BW(),i=r&&t!==void 0&&t!==0,a=la(),s=Kn();x.useLayoutEffect(()=>i?(s(ZX({zIndex:t})),()=>{s(QX({zIndex:t}))}):rm,[s,t,i]);var o=bt(l=>UX(l,t,a));return i?o?Yu.createPortal(n,o):null:n}function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ub.apply(null,arguments)}function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(r){nZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nZ(e,t,n){return(t=rZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rZ(e){var t=iZ(e,"string");return typeof t=="symbol"?t:t+""}function iZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aZ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(n,r)}function sZ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,v,y;if(d==="ScatterChart")p=f,v=RH,y=hi.cursorLine;else if(d==="BarChart")p=BH(o,f,a,s),v=BI,y=hi.cursorRectangle;else if(o==="radial"&&n5(f)){var{cx:g,cy:b,radius:w,startAngle:S,endAngle:C}=UI(f);p={cx:g,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},v=WI,y=hi.cursorLine}else p={points:T7(o,f,a)},v=ok,y=hi.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,P=Ah(Ah(Ah(Ah({stroke:"#ccc",pointerEvents:"none"},a),p),Ou(l)),{},{payload:h,payloadIndex:m,className:jn("recharts-tooltip-cursor",N)});return x.createElement(gs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},x.createElement(aZ,{cursor:l,cursorComp:v,cursorProps:P}))}function oZ(e){var t=jX(),n=SI(),r=om(),i=OX();return t==null||n==null||r==null||i==null?null:x.createElement(sZ,Ub({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var G3=x.createContext(null),lZ=()=>x.useContext(G3),Y3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,p){var v=n?n+c:c;if(!this._events[v])return!1;var y=this._events[v],g=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,C;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),g){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(C=1,b=new Array(g-1);C<g;C++)b[C-1]=arguments[C];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var v=0,y=[],g=p.length;v<g;v++)(p[v].fn!==d||h&&!p[v].once||f&&p[v].context!==f)&&y.push(p[v]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(Y3);var cZ=Y3.exports;const uZ=hs(cZ);var Rf=new uZ,Vb="recharts.syncEvent.tooltip",LP="recharts.syncEvent.brush";function X3(e,t){if(t){var n=Number.parseInt(t,10);if(!_s(n))return e==null?void 0:e[n]}}var dZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Z3=oa({name:"options",initialState:dZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fZ=Z3.reducer,{createEventEmitter:mZ}=Z3.actions;function hZ(e){return e.tooltip.syncInteraction}var pZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Q3=oa({name:"chartData",initialState:pZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:$P,setDataStartEndIndexes:gZ,setComputedData:lge}=Q3.actions,vZ=Q3.reducer,xZ=["x","y"];function FP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(n),!0).forEach(function(r){yZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yZ(e,t,n){return(t=bZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bZ(e){var t=wZ(e,"string");return typeof t=="symbol"?t:t+""}function wZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kZ(e,t){if(e==null)return{};var n,r,i=SZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NZ(){var e=bt(Lk),t=bt($k),n=Kn(),r=bt(V_),i=bt(To),a=om(),s=I0(),o=bt(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return rm;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:v}=m,y=kZ(m,xZ),{x:g,y:b,width:w,height:S}=d.payload.sourceViewBox,C=qc(qc({},y),{},{x:s.x+(w?(p-g)/w:0)*s.width,y:s.y+(S?(v-b)/S:0)*s.height});n(qc(qc({},d),{},{payload:qc(qc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var N;if(typeof r=="function"){var P={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},D=r(i,P);N=i[D]}else r==="value"&&(N=i.find(W=>String(W.value)===d.payload.label));var{coordinate:_}=d.payload;if(N==null||d.payload.active===!1||_==null||s==null){n(Bb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:A,y:$}=_,M=Math.min(A,s.x+s.width),te=Math.min($,s.y+s.height),Y={x:a==="horizontal"?N.coordinate:M,y:a==="horizontal"?te:N.coordinate},se=Bb({active:d.payload.active,coordinate:Y,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(se)}}};return Rf.on(Vb,l),()=>{Rf.off(Vb,l)}},[o,n,t,e,r,i,a,s])}function CZ(){var e=bt(Lk),t=bt($k),n=Kn();x.useEffect(()=>{if(e==null)return rm;var r=(i,a,s)=>{t!==s&&e===i&&n(gZ(a))};return Rf.on(LP,r),()=>{Rf.off(LP,r)}},[n,t,e])}function jZ(){var e=Kn();x.useEffect(()=>{e(mZ())},[e]),NZ(),CZ()}function PZ(e,t,n,r,i,a){var s=bt(m=>_X(m,e,t)),o=bt($k),l=bt(Lk),c=bt(V_),d=bt(hZ),f=d==null?void 0:d.active,h=I0();x.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Bb({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Rf.emit(Vb,l,m,o)}},[f,n,s,i,r,o,l,c,a,h])}function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(r){AZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AZ(e,t,n){return(t=TZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DZ(e){return e.dataKey}function MZ(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(xH,t)}var zP=[],OZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wc(e){var t,n,r=Yr(e,OZ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:v,wrapperStyle:y,cursor:g,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:N}=r,P=Kn(),D=typeof S=="number"?String(S):S;x.useEffect(()=>{P(TY({shared:b,trigger:w,axisId:N,active:i,defaultIndex:D}))},[P,b,w,N,i,D]);var _=I0(),A=_I(),$=SY(b),{activeIndex:M,isActive:te}=(t=bt(B=>FX(B,$,w,D)))!==null&&t!==void 0?t:{},Y=bt(B=>$X(B,$,w,D)),se=bt(B=>q3(B,$,w,D)),W=bt(B=>LX(B,$,w,D)),ee=Y,X=lZ(),oe=(n=i??te)!==null&&n!==void 0?n:!1,[T,j]=O5([ee,oe]),U=$==="axis"?se:void 0;PZ($,w,W,U,M,oe);var k=C??X;if(k==null||_==null||$==null)return null;var O=ee??zP;oe||(O=zP),c&&O.length&&(O=w5(O.filter(B=>B.value!=null&&(B.hide!==!0||r.includeHidden)),h,DZ));var re=O.length>0,Q=x.createElement(CH,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:oe,coordinate:W,hasPayload:re,offset:f,position:m,reverseDirection:p,useTranslate3d:v,viewBox:_,wrapperStyle:y,lastBoundingBox:T,innerRef:j,hasPortalFromProps:!!C},MZ(l,BP(BP({},r),{},{payload:O,label:U,active:oe,activeIndex:M,coordinate:W,accessibilityLayer:A})));return x.createElement(x.Fragment,null,Yu.createPortal(Q,k),oe&&x.createElement(oZ,{cursor:g,tooltipEventType:$,coordinate:W,payload:O,index:M}))}var Uu=e=>null;Uu.displayName="Cell";function IZ(e,t,n){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Z(e){var t=LZ(e,"string");return typeof t=="symbol"?t:t+""}function LZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $Z{constructor(t){IZ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function UP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(n),!0).forEach(function(r){RZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RZ(e,t,n){return(t=BZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BZ(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UZ={cacheSize:2e3,enableCache:!0},J3=FZ({},UZ),VP=new $Z(J3.cacheSize),VZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WP="recharts_measurement_span";function WZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var HP=(e,t)=>{try{var n=document.getElementById(WP);n||(n=document.createElement("span"),n.setAttribute("id",WP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,VZ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Yd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||R0.isSsr)return{width:0,height:0};if(!J3.enableCache)return HP(t,n);var r=WZ(t,n),i=VP.get(r);if(i)return i;var a=HP(t,n);return VP.set(r,a),a},e4;function HZ(e,t,n){return(t=qZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ZZ=["cm","mm","pt","pc","in","Q","px"];function QZ(e){return ZZ.includes(e)}var uu="NaN";function JZ(e,t){return e*XZ[t]}class mi{static parse(t){var n,[,r,i]=(n=YZ.exec(t))!==null&&n!==void 0?n:[];return r==null?mi.NaN:new mi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,_s(t)&&(this.unit=""),n!==""&&!GZ.test(n)&&(this.num=NaN,this.unit=""),QZ(n)&&(this.num=JZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new mi(NaN,""):new mi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new mi(NaN,""):new mi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mi(NaN,""):new mi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mi(NaN,""):new mi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _s(this.num)}}e4=mi;HZ(mi,"NaN",new e4(NaN,""));function t4(e){if(e==null||e.includes(uu))return uu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=qP.exec(t))!==null&&n!==void 0?n:[],s=mi.parse(r??""),o=mi.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return uu;t=t.replace(qP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=KP.exec(t))!==null&&c!==void 0?c:[],m=mi.parse(d??""),p=mi.parse(h??""),v=f==="+"?m.add(p):m.subtract(p);if(v.isNaN())return uu;t=t.replace(KP,v.toString())}return t}var GP=/\(([^()]*)\)/;function eQ(e){for(var t=e,n;(n=GP.exec(t))!=null;){var[,r]=n;t=t.replace(GP,t4(r))}return t}function tQ(e){var t=e.replace(/\s+/g,"");return t=eQ(t),t=t4(t),t}function nQ(e){try{return tQ(e)}catch{return uu}}function bx(e){var t=nQ(e.slice(5,-1));return t===uu?"":t}var rQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],iQ=["dx","dy","angle","className","breakAll"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wb.apply(null,arguments)}function YP(e,t){if(e==null)return{};var n,r,i=aQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var n4=/[ \f\n\r\t\v\u2028\u2029]+/,r4=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Gr(t)||(n?i=t.toString().split(""):i=t.toString().split(n4));var a=i.map(o=>({word:o,width:Yd(o,r).width})),s=n?0:Yd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function sQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var i4=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),a4=e=>e.reduce((t,n)=>t.width>n.width?t:n),oQ="",XP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),c=r4({breakAll:n,style:r,children:l+oQ});if(!c)return[!1,[]];var d=i4(c.wordsWithComputedWidth,a,s,o),f=d.length>i||a4(d).width>Number(a);return[f,d]},lQ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=St(a),d=String(s),f=i4(t,r,n,i);if(!c||i)return f;var h=f.length>a||a4(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,v=0,y;m<=p&&v<=d.length-1;){var g=Math.floor((m+p)/2),b=g-1,[w,S]=XP(d,b,l,o,a,r,n,i),[C]=XP(d,g,l,o,a,r,n,i);if(!w&&!C&&(m=g+1),w&&C&&(p=g-1),!w&&C){y=S;break}v++}return y||f},ZP=e=>{var t=Gr(e)?[]:e.toString().split(n4);return[{words:t,width:void 0}]},cQ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!R0.isSsr){var o,l,c=r4({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return ZP(r);return lQ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return ZP(r)},s4="#808080",uQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:s4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},rv=x.forwardRef((e,t)=>{var n=Yr(e,uQ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=YP(n,rQ),h=x.useMemo(()=>cQ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:v,className:y,breakAll:g}=f,b=YP(f,iQ);if(!Ls(r)||!Ls(i)||h.length===0)return null;var w=Number(r)+(St(m)?m:0),S=Number(i)+(St(p)?p:0);if(!Br(w)||!Br(S))return null;var C;switch(d){case"start":C=bx("calc(".concat(s,")"));break;case"middle":C=bx("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=bx("calc(".concat(h.length-1," * -").concat(a,")"));break}var N=[];if(l){var P=h[0].width,{width:D}=f;N.push("scale(".concat(St(D)&&St(P)?D/P:1,")"))}return v&&N.push("rotate(".concat(v,", ").concat(w,", ").concat(S,")")),N.length&&(b.transform=N.join(" ")),x.createElement("text",Wb({},zi(b),{ref:t,x:w,y:S,className:jn("recharts-text",y),textAnchor:c,fill:o.includes("url")?s4:o}),h.map((_,A)=>{var $=_.words.join(g?"":" ");return x.createElement("tspan",{x:w,dy:A===0?C:a,key:"".concat($,"-").concat(A)},$)}))});rv.displayName="Text";var dQ=["labelRef"],fQ=["content"];function QP(e,t){if(e==null)return{};var n,r,i=mQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=pQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pQ(e){var t=gQ(e,"string");return typeof t=="symbol"?t:t+""}function gQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Js.apply(null,arguments)}var o4=x.createContext(null),vQ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=x.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return x.createElement(o4.Provider,{value:l},o)},l4=()=>{var e=x.useContext(o4),t=I0();return e||kI(t)},xQ=x.createContext(null),yQ=()=>{var e=x.useContext(xQ),t=bt(G_);return e||t},bQ=e=>{var{value:t,formatter:n}=e,r=Gr(e.children)?t:e.children;return typeof n=="function"?n(r):r},xS=e=>e!=null&&typeof e=="function",wQ=(e,t)=>{var n=Pi(t-e),r=Math.min(Math.abs(t-e),360);return n*r},kQ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(c+d)/2,v=wQ(f,h),y=v>=0?1:-1,g,b;switch(t){case"insideStart":g=f+y*a,b=m;break;case"insideEnd":g=h-y*a,b=!m;break;case"end":g=h+y*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var w=Fr(o,l,p,g),S=Fr(o,l,p,g+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Gr(e.id)?jf("recharts-radial-line-"):e.id;return x.createElement("text",Js({},r,{dominantBaseline:"central",className:jn("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:N,d:C})),x.createElement("textPath",{xlinkHref:"#".concat(N)},n))},SQ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Fr(r,i,s+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Fr(r,i,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Hb=e=>"cx"in e&&St(e.cx),NQ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Hb(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=s,h=s+(l-c)/2,m=(f+h)/2,p=(l+c)/2,v=f+l/2,y=d>=0?1:-1,g=y*r,b=y>0?"end":"start",w=y>0?"start":"end",S=l>=0?1:-1,C=S*r,N=S>0?"end":"start",P=S>0?"start":"end";if(i==="top"){var D={x:f+l/2,y:o-g,textAnchor:"middle",verticalAnchor:b};return Tr(Tr({},D),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var _={x:h+c/2,y:o+d+g,textAnchor:"middle",verticalAnchor:w};return Tr(Tr({},_),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var A={x:m-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Tr(Tr({},A),a?{width:Math.max(A.x-a.x,0),height:d}:{})}if(i==="right"){var $={x:m+p+C,y:o+d/2,textAnchor:P,verticalAnchor:"middle"};return Tr(Tr({},$),a?{width:Math.max(a.x+a.width-$.x,0),height:d}:{})}var M=a?{width:p,height:d}:{};return i==="insideLeft"?Tr({x:m+C,y:o+d/2,textAnchor:P,verticalAnchor:"middle"},M):i==="insideRight"?Tr({x:m+p-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},M):i==="insideTop"?Tr({x:f+l/2,y:o+g,textAnchor:"middle",verticalAnchor:w},M):i==="insideBottom"?Tr({x:h+c/2,y:o+d-g,textAnchor:"middle",verticalAnchor:b},M):i==="insideTopLeft"?Tr({x:f+C,y:o+g,textAnchor:P,verticalAnchor:w},M):i==="insideTopRight"?Tr({x:f+l-C,y:o+g,textAnchor:N,verticalAnchor:w},M):i==="insideBottomLeft"?Tr({x:h+C,y:o+d-g,textAnchor:P,verticalAnchor:b},M):i==="insideBottomRight"?Tr({x:h+c-C,y:o+d-g,textAnchor:N,verticalAnchor:b},M):i&&typeof i=="object"&&(St(i.x)||go(i.x))&&(St(i.y)||go(i.y))?Tr({x:s+ba(i.x,p),y:o+ba(i.y,d),textAnchor:"end",verticalAnchor:"end"},M):Tr({x:v,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},CQ={angle:0,offset:5,zIndex:hi.label,position:"middle",textBreakAll:!1};function Vo(e){var t=Yr(e,CQ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,d=yQ(),f=l4(),h=r==="center"?f:d??f,m,p,v;if(n==null?m=h:Hb(n)?m=n:m=kI(n),!m||Gr(i)&&Gr(a)&&!x.isValidElement(s)&&typeof s!="function")return null;var y=Tr(Tr({},t),{},{viewBox:m});if(x.isValidElement(s)){var{labelRef:g}=y,b=QP(y,dQ);return x.cloneElement(s,b)}if(typeof s=="function"){var{content:w}=y,S=QP(y,fQ);if(p=x.createElement(s,S),x.isValidElement(p))return p}else p=bQ(t);var C=zi(t);if(Hb(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return kQ(t,r,p,C,m);v=SQ(m,t.offset,t.position)}else v=NQ(t,m);return x.createElement(gs,{zIndex:t.zIndex},x.createElement(rv,Js({ref:c,className:jn("recharts-label",o)},C,v,{textAnchor:sQ(C.textAnchor)?C.textAnchor:v.textAnchor,breakAll:l}),p))}Vo.displayName="Label";var jQ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Vo,Js({key:"label-implicit"},r)):Ls(e)?x.createElement(Vo,Js({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Vo?x.cloneElement(e,Tr({key:"label-implicit"},r)):x.createElement(Vo,Js({key:"label-implicit",content:e},r)):xS(e)?x.createElement(Vo,Js({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Vo,Js({},e,{key:"label-implicit"},r)):null};function PQ(e){var{label:t,labelRef:n}=e,r=l4();return jQ(t,r,n)||null}var c4={},u4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(u4);var d4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(d4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u4,n=d4,r=g0;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(c4);var AQ=c4.last;const TQ=hs(AQ);var EQ=["valueAccessor"],DQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg.apply(null,arguments)}function eA(e,t){if(e==null)return{};var n,r,i=MQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OQ=e=>Array.isArray(e.value)?TQ(e.value):e.value,f4=x.createContext(void 0),IQ=f4.Provider,m4=x.createContext(void 0),_Q=m4.Provider;function LQ(){return x.useContext(f4)}function $Q(){return x.useContext(m4)}function tp(e){var{valueAccessor:t=OQ}=e,n=eA(e,EQ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=eA(n,DQ),c=LQ(),d=$Q(),f=c||d;return!f||!f.length?null:x.createElement(gs,{zIndex:o??hi.label},x.createElement(aa,{className:"recharts-label-list"},f.map((h,m)=>{var p,v=Gr(r)?t(h,m):tr(h&&h.payload,r),y=Gr(a)?{}:{id:"".concat(a,"-").concat(m)};return x.createElement(Vo,Sg({key:"label-".concat(m)},zi(h),l,y,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}tp.displayName="LabelList";function h4(e){var{label:t}=e;return t?t===!0?x.createElement(tp,{key:"labelList-implicit"}):x.isValidElement(t)||xS(t)?x.createElement(tp,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(tp,Sg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qb.apply(null,arguments)}var p4=e=>{var{cx:t,cy:n,r,className:i}=e,a=jn("recharts-dot",i);return St(t)&&St(n)&&St(r)?x.createElement("circle",qb({},qa(e),$1(e),{className:a,cx:t,cy:n,r})):null},g4=e=>e.graphicalItems.polarItems,FQ=de([lr,hm],Vk),iv=de([g4,yr,FQ],Wk),RQ=de([iv],Hk),av=de([RQ,Dk],qk),BQ=de([av,yr,iv],Gk);de([av,yr,iv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=tr(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:tr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var tA=()=>{},zQ=de([av,yr,iv,J0,lr],Qk),UQ=de([yr,Xk,Zk,tA,zQ,tA,Fn,lr],Jk),v4=de([yr,Fn,av,BQ,mm,lr,UQ],eS),VQ=de([v4,yr,td],rS);de([yr,v4,VQ,lr],aS);var WQ={radiusAxis:{},angleAxis:{}},x4=oa({name:"polarAxis",initialState:WQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:cge,removeRadiusAxis:uge,addAngleAxis:dge,removeAngleAxis:fge}=x4.actions,HQ=x4.reducer;function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){qQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qQ(e,t,n){return(t=KQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KQ(e){var t=GQ(e,"string");return typeof t=="symbol"?t:t+""}function GQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YQ=(e,t)=>t,yS=de([g4,YQ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),XQ=[],bS=(e,t,n)=>(n==null?void 0:n.length)===0?XQ:n,y4=de([Dk,yS,bS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>rA(rA({},t.presentationProps),a.props))),i!=null)return i}}),ZQ=de([y4,yS,bS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=tr(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:T0(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),QQ=de([y4,yS,bS,si],(e,t,n,r)=>{if(!(t==null||e==null))return dee({offset:r,pieSettings:t,displayedData:e,cells:n})}),b4={exports:{}},Vn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=60103,ov=60106,km=60107,Sm=60108,Nm=60114,Cm=60109,jm=60110,Pm=60112,Am=60113,wS=60120,Tm=60115,Em=60116,w4=60121,k4=60122,S4=60117,N4=60129,C4=60131;if(typeof Symbol=="function"&&Symbol.for){var ui=Symbol.for;sv=ui("react.element"),ov=ui("react.portal"),km=ui("react.fragment"),Sm=ui("react.strict_mode"),Nm=ui("react.profiler"),Cm=ui("react.provider"),jm=ui("react.context"),Pm=ui("react.forward_ref"),Am=ui("react.suspense"),wS=ui("react.suspense_list"),Tm=ui("react.memo"),Em=ui("react.lazy"),w4=ui("react.block"),k4=ui("react.server.block"),S4=ui("react.fundamental"),N4=ui("react.debug_trace_mode"),C4=ui("react.legacy_hidden")}function vs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sv:switch(e=e.type,e){case km:case Nm:case Sm:case Am:case wS:return e;default:switch(e=e&&e.$$typeof,e){case jm:case Pm:case Em:case Tm:case Cm:return e;default:return t}}case ov:return t}}}var JQ=Cm,eJ=sv,tJ=Pm,nJ=km,rJ=Em,iJ=Tm,aJ=ov,sJ=Nm,oJ=Sm,lJ=Am;Vn.ContextConsumer=jm;Vn.ContextProvider=JQ;Vn.Element=eJ;Vn.ForwardRef=tJ;Vn.Fragment=nJ;Vn.Lazy=rJ;Vn.Memo=iJ;Vn.Portal=aJ;Vn.Profiler=sJ;Vn.StrictMode=oJ;Vn.Suspense=lJ;Vn.isAsyncMode=function(){return!1};Vn.isConcurrentMode=function(){return!1};Vn.isContextConsumer=function(e){return vs(e)===jm};Vn.isContextProvider=function(e){return vs(e)===Cm};Vn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sv};Vn.isForwardRef=function(e){return vs(e)===Pm};Vn.isFragment=function(e){return vs(e)===km};Vn.isLazy=function(e){return vs(e)===Em};Vn.isMemo=function(e){return vs(e)===Tm};Vn.isPortal=function(e){return vs(e)===ov};Vn.isProfiler=function(e){return vs(e)===Nm};Vn.isStrictMode=function(e){return vs(e)===Sm};Vn.isSuspense=function(e){return vs(e)===Am};Vn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===km||e===Nm||e===N4||e===Sm||e===Am||e===wS||e===C4||typeof e=="object"&&e!==null&&(e.$$typeof===Em||e.$$typeof===Tm||e.$$typeof===Cm||e.$$typeof===jm||e.$$typeof===Pm||e.$$typeof===S4||e.$$typeof===w4||e[0]===k4)};Vn.typeOf=vs;b4.exports=Vn;var cJ=b4.exports,iA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",aA=null,wx=null,j4=e=>{if(e===aA&&Array.isArray(wx))return wx;var t=[];return x.Children.forEach(e,n=>{Gr(n)||(cJ.isFragment(n)?t=t.concat(j4(n.props.children)):t.push(n))}),wx=t,aA=e,t};function P4(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>iA(i)):r=[iA(t)],j4(e).forEach(i=>{var a=pc(i,"type.displayName")||pc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var A4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,T4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(T4);var uJ=T4.isPlainObject;const dJ=hs(uJ);var sA,oA,lA,cA,uA;function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){fJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(null,arguments)}function jd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var mA=(e,t,n,r,i)=>{var a=n-r,s;return s=Nr(sA||(sA=jd(["M ",",",""])),e,t),s+=Nr(oA||(oA=jd(["L ",",",""])),e+n,t),s+=Nr(lA||(lA=jd(["L ",",",""])),e+n-a/2,t+i),s+=Nr(cA||(cA=jd(["L ",",",""])),e+n-a/2-r,t+i),s+=Nr(uA||(uA=jd(["L ",","," Z"])),e,t),s},pJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gJ=e=>{var t=Yr(e,pJ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=x.useRef(null),[m,p]=x.useState(-1),v=x.useRef(i),y=x.useRef(a),g=x.useRef(s),b=x.useRef(n),w=x.useRef(r),S=z0(e,"trapezoid-");if(x.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var Y=h.current.getTotalLength();Y&&p(Y)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=jn("recharts-trapezoid",o);if(!f)return x.createElement("g",null,x.createElement("path",Ng({},zi(t),{className:C,d:mA(n,r,i,a,s)})));var N=v.current,P=y.current,D=g.current,_=b.current,A=w.current,$="0px ".concat(m===-1?1:m,"px"),M="".concat(m,"px 0px"),te=LI(["strokeDasharray"],c,l);return x.createElement(B0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},Y=>{var se=ji(N,i,Y),W=ji(P,a,Y),ee=ji(D,s,Y),X=ji(_,n,Y),oe=ji(A,r,Y);h.current&&(v.current=se,y.current=W,g.current=ee,b.current=X,w.current=oe);var T=Y>0?{transition:te,strokeDasharray:M}:{strokeDasharray:$};return x.createElement("path",Ng({},zi(t),{className:C,d:mA(X,oe,se,W,ee),ref:h,style:fA(fA({},T),t.style)}))})},vJ=["option","shapeType","activeClassName"];function xJ(e,t){if(e==null)return{};var n,r,i=yJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){bJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bJ(e,t,n){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wJ(e){var t=kJ(e,"string");return typeof t=="symbol"?t:t+""}function kJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SJ(e,t){return Cg(Cg({},t),e)}function NJ(e,t){return e==="symbols"}function pA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(BI,n);case"trapezoid":return x.createElement(gJ,n);case"sector":return x.createElement(WI,n);case"symbols":if(NJ(t))return x.createElement(L1,n);break;case"curve":return x.createElement(ok,n);default:return null}}function CJ(e){return x.isValidElement(e)?e.props:e}function E4(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=xJ(e,vJ),a;if(x.isValidElement(t))a=x.cloneElement(t,Cg(Cg({},i),CJ(t)));else if(typeof t=="function")a=t(i,i.index);else if(dJ(t)&&typeof t!="boolean"){var s=SJ(t,i);a=x.createElement(pA,{shapeType:n,elementProps:s})}else{var o=i;a=x.createElement(pA,{shapeType:n,elementProps:o})}return i.isActive?x.createElement(aa,{className:r},a):a}var jJ=(e,t,n)=>{var r=Kn();return(i,a)=>s=>{e==null||e(i,a,s),r(P3({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},PJ=e=>{var t=Kn();return(n,r)=>i=>{e==null||e(n,r,i),t(EY())}},AJ=(e,t,n)=>{var r=Kn();return(i,a)=>s=>{e==null||e(i,a,s),r(DY({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function D4(e){var{tooltipEntrySettings:t}=e,n=Kn(),r=la(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(jY(t)):i.current!==t&&n(PY({prev:i.current,next:t})),i.current=t)},[t,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(AY(i.current)),i.current=null)},[n]),null}function TJ(e){var{legendPayload:t}=e,n=Kn(),r=la(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(DI(t)):i.current!==t&&n(MI({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(OI(i.current)),i.current=null)},[n]),null}function EJ(e){var{legendPayload:t}=e,n=Kn(),r=bt(Fn),i=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(DI(t)):i.current!==t&&n(MI({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(OI(i.current)),i.current=null)},[n]),null}var kx,DJ=()=>{var[e]=x.useState(()=>jf("uid-"));return e},MJ=(kx=BR.useId)!==null&&kx!==void 0?kx:DJ;function OJ(e,t){var n=MJ();return t||(e?"".concat(e,"-").concat(n):n)}var IJ=x.createContext(void 0),M4=e=>{var{id:t,type:n,children:r}=e,i=OJ("recharts-".concat(n),t);return x.createElement(IJ.Provider,{value:i},r(i))},_J={cartesianItems:[],polarItems:[]},O4=oa({name:"graphicalItems",initialState:_J,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ar()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=os(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:ar()},removeCartesianGraphicalItem:{reducer(e,t){var n=os(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ar()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ar()},removePolarGraphicalItem:{reducer(e,t){var n=os(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ar()}}}),{addCartesianGraphicalItem:LJ,replaceCartesianGraphicalItem:$J,removeCartesianGraphicalItem:FJ,addPolarGraphicalItem:RJ,removePolarGraphicalItem:BJ}=O4.actions,zJ=O4.reducer,UJ=e=>{var t=Kn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(LJ(e)):n.current!==e&&t($J({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t(FJ(n.current)),n.current=null)},[t]),null},VJ=x.memo(UJ);function WJ(e){var t=Kn();return x.useLayoutEffect(()=>(t(RJ(e)),()=>{t(BJ(e))}),[t,e]),null}var HJ=["key"],qJ=["onMouseEnter","onClick","onMouseLeave"],KJ=["id"],GJ=["id"];function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(r){YJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YJ(e,t,n){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(null,arguments)}function lv(e,t){if(e==null)return{};var n,r,i=QJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JJ(e){var t=x.useMemo(()=>P4(e.children,Uu),[e.children]),n=bt(r=>ZQ(r,e.id,t));return n==null?null:x.createElement(EJ,{legendPayload:n})}var eee=x.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:T0(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:d}};return x.createElement(D4,{tooltipEntrySettings:f})}),tee=(e,t)=>e>t?"start":e<t?"end":"middle",nee=(e,t,n)=>ba(typeof t=="function"?t(e):t,n,n*.8),ree=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=zI(a,s),l=i+ba(e.cx,a,a/2),c=r+ba(e.cy,s,s/2),d=ba(e.innerRadius,o,0),f=nee(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},iee=(e,t)=>{var n=Pi(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function aee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var see=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=jn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=lv(t,HJ);return x.createElement(ok,dl({},i,{type:"linear",className:n}))},oee=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var i=jn("recharts-pie-label-text",aee(e));return x.createElement(rv,dl({},t,{alignmentBaseline:"middle",className:i}),r)};function lee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=qa(n),l=Ou(i),c=Ou(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,v=Fr(h.cx,h.cy,h.outerRadius+d,p),y=jr(jr(jr(jr({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:tee(v.x,h.cx)},v),g=jr(jr(jr(jr({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[Fr(h.cx,h.cy,h.outerRadius,p),v],key:"line"});return x.createElement(gs,{zIndex:hi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},x.createElement(aa,null,a&&see(a,g),oee(i,y,tr(h,s))))});return x.createElement(aa,{className:"recharts-pie-labels"},f)}function cee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(h4,{label:i}):x.createElement(lee,{sectors:t,props:n,showLabels:r})}function uee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=bt(zu),l=bt(z3),c=bt(gX),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=lv(i,qJ),p=jJ(d,i.dataKey,s),v=PJ(h),y=AJ(f,i.dataKey,s);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((g,b)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=c==null||c===s,S=String(b)===o&&(l==null||i.dataKey===l)&&w,C=o?r:null,N=n&&S?n:C,P=jr(jr({},g),{},{stroke:g.stroke,tabIndex:-1,[mI]:b,[hI]:s});return x.createElement(aa,dl({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},F1(m,g,b),{onMouseEnter:p(g,b),onMouseLeave:v(g,b),onClick:y(g,b)}),x.createElement(E4,dl({option:a??N,index:b,shapeType:"sector",isActive:S},P)))}))}function dee(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=iee(o,l),p=Math.abs(m),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(N=>tr(N,c,0)!==0).length,g=(p>=360?y:y-1)*v,b=p-y*h-g,w=r.reduce((N,P)=>{var D=tr(P,c,0);return N+(St(D)?D:0)},0),S;if(w>0){var C;S=r.map((N,P)=>{var D=tr(N,c,0),_=tr(N,d,P),A=ree(n,a,N),$=(St(D)?D:0)/w,M,te=jr(jr({},N),i&&i[P]&&i[P].props);P?M=C.endAngle+Pi(m)*v*(D!==0?1:0):M=o;var Y=M+Pi(m)*((D!==0?h:0)+$*b),se=(M+Y)/2,W=(A.innerRadius+A.outerRadius)/2,ee=[{name:_,value:D,payload:te,dataKey:c,type:f,graphicalItemId:n.id}],X=Fr(A.cx,A.cy,W,se);return C=jr(jr(jr(jr({},n.presentationProps),{},{percent:$,cornerRadius:typeof s=="string"?parseFloat(s):s,name:_,tooltipPayload:ee,midAngle:se,middleRadius:W,tooltipPosition:X},te),A),{},{value:D,dataKey:c,startAngle:M,endAngle:Y,payload:te,paddingAngle:Pi(m)*v}),C})}return S}function fee(e){var{showLabels:t,sectors:n,children:r}=e,i=x.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return x.createElement(_Q,{value:t?i:void 0},r)}function mee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=z0(t,"recharts-pie-"),p=n.current,[v,y]=x.useState(!1),g=x.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),b=x.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return x.createElement(fee,{showLabels:!v,sectors:i},x.createElement(B0,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:g,key:m},w=>{var S=[],C=i&&i[0],N=C==null?void 0:C.startAngle;return i==null||i.forEach((P,D)=>{var _=p&&p[D],A=D>0?pc(P,"paddingAngle",0):0;if(_){var $=ji(_.endAngle-_.startAngle,P.endAngle-P.startAngle,w),M=jr(jr({},P),{},{startAngle:N+A,endAngle:N+$+A});S.push(M),N=M.endAngle}else{var{endAngle:te,startAngle:Y}=P,se=ji(0,te-Y,w),W=jr(jr({},P),{},{startAngle:N+A,endAngle:N+se+A});S.push(W),N=W.endAngle}}),n.current=S,x.createElement(aa,null,x.createElement(uee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),x.createElement(cee,{showLabels:!v,sectors:i,props:t}),t.children)}var hee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:hi.area};function pee(e){var{id:t}=e,n=lv(e,KJ),{hide:r,className:i,rootTabIndex:a}=e,s=x.useMemo(()=>P4(e.children,Uu),[e.children]),o=bt(d=>QQ(d,t,s)),l=x.useRef(null),c=jn("recharts-pie",i);return r||o==null?(l.current=null,x.createElement(aa,{tabIndex:a,className:c})):x.createElement(gs,{zIndex:e.zIndex},x.createElement(eee,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),x.createElement(aa,{tabIndex:a,className:c},x.createElement(mee,{props:jr(jr({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function jg(e){var t=Yr(e,hee),{id:n}=t,r=lv(t,GJ),i=qa(r);return x.createElement(M4,{id:n,type:"pie"},a=>x.createElement(x.Fragment,null,x.createElement(WJ,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),x.createElement(JJ,dl({},r,{id:a})),x.createElement(pee,dl({},r,{id:a}))))}jg.displayName="Pie";var gee=["points"];function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(r){vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vee(e,t,n){return(t=xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xee(e){var t=yee(e,"string");return typeof t=="symbol"?t:t+""}function yee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pg.apply(null,arguments)}function bee(e,t){if(e==null)return{};var n,r,i=wee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kee(e){var{option:t,dotProps:n,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var i=jn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=bee(a,gee);return x.createElement(p4,Pg({},o,{className:i}))}function See(e,t){return e==null?!1:t?!0:e.length===1}function Nee(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=hi.scatter}=e;if(!See(t,n))return null;var d=A4(n),f=n8(n),h=t.map((p,v)=>{var y,g,b=Sx(Sx(Sx({r:3},s),f),{},{index:v,cx:(y=p.x)!==null&&y!==void 0?y:void 0,cy:(g=p.y)!==null&&g!==void 0?g:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return x.createElement(kee,{key:"dot-".concat(v),option:n,dotProps:b,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),x.createElement(gs,{zIndex:c},x.createElement(aa,Pg({className:r},m),h))}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){Cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cee(e,t,n){return(t=jee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jee(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aee={xAxis:{},yAxis:{},zAxis:{}},I4=oa({name:"cartesianAxis",initialState:Aee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ar()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ar()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ar()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ar()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ar()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ar()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ar()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ar()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ar()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=yA(yA({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Tee,replaceXAxis:Eee,removeXAxis:Dee,addYAxis:Mee,replaceYAxis:Oee,removeYAxis:Iee,addZAxis:mge,replaceZAxis:hge,removeZAxis:pge,updateYAxisWidth:_ee}=I4.actions,Lee=I4.reducer,$ee=de([si],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Fee=de([$ee,No,Co],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),kS=()=>bt(Fee),Ree=()=>bt(wX);function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(r){Bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bee(e,t,n){return(t=zee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Nx(Nx(Nx({},o),Ou(i)),$1(i)),c;return x.isValidElement(i)?c=x.cloneElement(i,l):typeof i=="function"?c=i(l):c=x.createElement(p4,l),x.createElement(aa,{className:"recharts-active-dot",clipPath:s},c)};function Wee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=hi.activeDot}=e,o=bt(zu),l=Ree();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Gr(c)?null:x.createElement(gs,{zIndex:s},x.createElement(Vee,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var _4=e=>{var{chartData:t}=e,n=Kn(),r=la();return x.useEffect(()=>r?()=>{}:(n($P(t)),()=>{n($P(void 0))}),[t,n,r]),null},wA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},L4=oa({name:"brush",initialState:wA,reducers:{setBrushSettings(e,t){return t.payload==null?wA:t.payload}}}),{setBrushSettings:gge}=L4.actions,Hee=L4.reducer;function qee(e,t,n){return(t=Kee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SS{static create(t){return new SS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}qee(SS,"EPS",1e-4);function Yee(e){return(e%180+180)%180}var Xee=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Yee(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Zee={dots:[],areas:[],lines:[]},$4=oa({name:"referenceElements",initialState:Zee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=os(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=os(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=os(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:vge,removeDot:xge,addArea:yge,removeArea:bge,addLine:wge,removeLine:kge}=$4.actions,Qee=$4.reducer,Jee=x.createContext(void 0),ete=e=>{var{children:t}=e,[n]=x.useState("".concat(jf("recharts"),"-clip")),r=kS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return x.createElement(Jee.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function F4(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function tte(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Xee(r,n)}function nte(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Bf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function rte(e,t){return F4(e,t+1)}function ite(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:F4(r,c)};var v=l,y,g=()=>(y===void 0&&(y=n(p,v)),y),b=p.coordinate,w=l===0||Bf(e,b,g,d,o);w||(l=0,d=s,c+=1),w&&(d=b+e*(g()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function ate(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var d=(s-1)%c,f=o,h=!0,m=function(){var b=r[p],w=p,S,C=()=>(S===void 0&&(S=n(b,w)),S),N=b.coordinate,P=p===d||Bf(e,N,C,f,l);if(!P)return h=!1,1;P&&(f=N+e*(C()/2+i))},p=d;p<s&&!m();p+=c);if(h){for(var v=[],y=d;y<s;y+=c)v.push(r[y]);return v}}return[]}function kA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(n),!0).forEach(function(r){ste(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ste(e,t,n){return(t=ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ote(e){var t=lte(e,"string");return typeof t=="symbol"?t:t+""}function lte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cte(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(h){var m=a[h],p,v=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var y=e*(m.coordinate+e*v()/2-l);a[h]=m=Si(Si({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=Si(Si({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=Bf(e,m.tickCoord,v,o,l);g&&(l=m.tickCoord-e*(v()/2+i),a[h]=Si(Si({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function ute(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=Si(Si({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Bf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+i),s[o-1]=Si(Si({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,v=function(b){var w=s[b],S,C=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var N=e*(w.coordinate-e*C()/2-l);s[b]=w=Si(Si({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else s[b]=w=Si(Si({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var P=Bf(e,w.tickCoord,C,l,c);P&&(l=w.tickCoord+e*(C()/2+i),s[b]=Si(Si({},w),{},{isShow:!0}))}},y=0;y<p;y++)v(y);return s}function NS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(St(l)||R0.isSsr){var h;return(h=rte(i,St(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",v=d&&p==="width"?Yd(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return p==="width"?tte(Yd(C,{fontSize:t,letterSpacing:n}),v,f):Yd(C,{fontSize:t,letterSpacing:n})[p]},g=i.length>=2?Pi(i[1].coordinate-i[0].coordinate):1,b=nte(a,g,p);return l==="equidistantPreserveStart"?ite(g,b,y,i,s):l==="equidistantPreserveEnd"?ate(g,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=ute(g,b,y,i,s,l==="preserveStartEnd"):m=cte(g,b,y,i,s),m.filter(w=>w.isShow))}var dte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},fte=["axisLine","width","height","className","hide","ticks","axisType"];function mte(e,t){if(e==null)return{};var n,r,i=hte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(null,arguments)}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=gte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gte(e){var t=vte(e,"string");return typeof t=="symbol"?t:t+""}function vte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:hi.axis};function xte(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Lr(Lr(Lr({},l),qa(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=Lr(Lr({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=Lr(Lr({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return x.createElement("line",kc({},c,{className:jn("recharts-cartesian-axis-line",pc(o,"className"))}))}function yte(e,t,n,r,i,a,s,o,l){var c,d,f,h,m,p,v=o?-1:1,y=e.tickSize||s,g=St(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=n+ +!o*i,f=h-v*y,p=f-v*l,m=g;break;case"left":f=h=e.coordinate,d=t+ +!o*r,c=d-v*y,m=c-v*l,p=g;break;case"right":f=h=e.coordinate,d=t+ +o*r,c=d+v*y,m=c+v*l,p=g;break;default:c=d=e.coordinate,h=n+ +o*i,f=h+v*y,p=f+v*l,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function bte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function wte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function kte(e){var{option:t,tickProps:n,value:r}=e,i,a=jn(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,Lr(Lr({},n),{},{className:a}));else if(typeof t=="function")i=t(Lr(Lr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=jn(s,t==null?void 0:t.className)),i=x.createElement(rv,kc({},n,{className:s}),r)}return i}var Ste=x.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:p,height:v,tickSize:y,tickMargin:g,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:N}=e,P=NS(Lr(Lr({},S),{},{ticks:n}),b,w),D=bte(d,f),_=wte(d,f),A=qa(S),$=Ou(r),M={};typeof i=="object"&&(M=i);var te=Lr(Lr({},A),{},{fill:"none"},M),Y=P.map(ee=>Lr({entry:ee},yte(ee,h,m,p,v,d,y,f,g))),se=Y.map(ee=>{var{entry:X,line:oe}=ee;return x.createElement(aa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},i&&x.createElement("line",kc({},te,oe,{className:jn("recharts-cartesian-axis-tick-line",pc(i,"className"))})))}),W=Y.map((ee,X)=>{var{entry:oe,tick:T}=ee,j=Lr(Lr(Lr(Lr({textAnchor:D,verticalAnchor:_},A),{},{stroke:"none",fill:a},$),T),{},{index:X,payload:oe,visibleTicksCount:P.length,tickFormatter:s,padding:l},c);return x.createElement(aa,kc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},F1(C,oe,X)),r&&x.createElement(kte,{option:r,tickProps:j,value:"".concat(typeof s=="function"?s(oe.value,X):oe.value).concat(o||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},W.length>0&&x.createElement(gs,{zIndex:hi.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},W)),se.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},se))}),Nte=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=mte(e,fte),[d,f]=x.useState(""),[h,m]=x.useState(""),p=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return dte({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=x.useCallback(y=>{if(y){var g=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=g;var b=g[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==h)&&(f(S),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(gs,{zIndex:e.zIndex},x.createElement(aa,{className:jn("recharts-cartesian-axis",a)},x.createElement(xte,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:qa(e)}),x.createElement(Ste,{ref:v,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(vQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(PQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),CS=x.forwardRef((e,t)=>{var n=Yr(e,lo);return x.createElement(Nte,kc({},n,{ref:t}))});CS.displayName="CartesianAxis";var Cte=["x1","y1","x2","y2","key"],jte=["offset"],Pte=["xAxisId","yAxisId"],Ate=["xAxisId","yAxisId"];function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=Ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ete(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl.apply(null,arguments)}function Ag(e,t){if(e==null)return{};var n,r,i=Mte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ote=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return x.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function R4(e){var{option:t,lineItemProps:n}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,d=Ag(n,Cte),f=(i=qa(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=Ag(f,jte);r=x.createElement("line",Jl({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function Ite(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Ag(e,Pte),l=i.map((c,d)=>{var f=Ci(Ci({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return x.createElement(R4,{key:"line-".concat(d),option:r,lineItemProps:f})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function _te(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Ag(e,Ate),l=i.map((c,d)=>{var f=Ci(Ci({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return x.createElement(R4,{option:r,lineItemProps:f,key:"line-".concat(d)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Lte(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var v=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function $te(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var v=h%n.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Fte=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return uI(NS(Ci(Ci(Ci({},lo),n),{},{ticks:dI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Rte=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return uI(NS(Ci(Ci(Ci({},lo),n),{},{ticks:dI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Bte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:hi.grid};function zf(e){var t=rk(),n=ik(),r=SI(),i=Ci(Ci({},Yr(e,Bte)),{},{x:St(e.x)?e.x:r.left,y:St(e.y)?e.y:r.top,width:St(e.width)?e.width:r.width,height:St(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=la(),v=bt(_=>jP(_,"xAxis",a,p)),y=bt(_=>jP(_,"yAxis",s,p));if(!$s(c)||!$s(d)||!St(o)||!St(l))return null;var g=i.verticalCoordinatesGenerator||Fte,b=i.horizontalCoordinatesGenerator||Rte,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var C=h&&h.length,N=b({yAxis:y?Ci(Ci({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);eg(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof g=="function"){var P=m&&m.length,D=g({xAxis:v?Ci(Ci({},v),{},{ticks:P?m:v.ticks}):void 0,width:t??c,height:n??d,offset:r},P?!0:f);eg(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(S=D)}return x.createElement(gs,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Ote,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Lte,Jl({},i,{horizontalPoints:w})),x.createElement($te,Jl({},i,{verticalPoints:S})),x.createElement(Ite,Jl({},i,{offset:r,horizontalPoints:w,xAxis:v,yAxis:y})),x.createElement(_te,Jl({},i,{offset:r,verticalPoints:S,xAxis:v,yAxis:y}))))}zf.displayName="CartesianGrid";var zte={},B4=oa({name:"errorBars",initialState:zte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Sge,replaceErrorBar:Nge,removeErrorBar:Cge}=B4.actions,Ute=B4.reducer,Vte=["children"];function Wte(e,t){if(e==null)return{};var n,r,i=Hte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Kte=x.createContext(qte);function Gte(e){var{children:t}=e,n=Wte(e,Vte);return x.createElement(Kte.Provider,{value:n},t)}function z4(e,t){var n,r,i=bt(c=>Po(c,e)),a=bt(c=>Ao(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ti.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ni.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Yte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=kS(),{needClipX:a,needClipY:s,needClip:o}=z4(t,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}var U4=(e,t,n,r)=>w3(e,"xAxis",t,r),V4=(e,t,n,r)=>b3(e,"xAxis",t,r),W4=(e,t,n,r)=>w3(e,"yAxis",n,r),H4=(e,t,n,r)=>b3(e,"yAxis",n,r),Xte=de([Fn,U4,W4,V4,H4],(e,t,n,r,i)=>vl(e,"xAxis")?Jp(t,r,!1):Jp(n,i,!1)),Zte=(e,t,n,r,i)=>i;function Qte(e){return e.type==="line"}var Jte=de([e3,Zte],(e,t)=>e.filter(Qte).find(n=>n.id===t)),ene=de([Fn,U4,W4,V4,H4,Jte,Xte,Mk],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,d+1),m!=null)return Hne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function tne(e){var t=Ou(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var nne={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=x;function rne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ine=typeof Object.is=="function"?Object.is:rne,ane=Dm.useSyncExternalStore,sne=Dm.useRef,one=Dm.useEffect,lne=Dm.useMemo,cne=Dm.useDebugValue;nne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=sne(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=lne(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,ine(d,m))return p;var v=r(m);return i!==void 0&&i(p,v)?(d=m,p):(d=m,f=v)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=ane(e,a[0],a[1]);return one(function(){s.hasValue=!0,s.value=o},[o]),cne(o),o};function une(e){e()}function dne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){une(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var CA={notify(){},get:()=>[]};function fne(e,t){let n,r=CA,i=0,a=!1;function s(v){d();const y=r.subscribe(v);let g=!1;return()=>{g||(g=!0,y(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=dne())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=CA)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var mne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hne=mne(),pne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gne=pne(),vne=()=>hne||gne?x.useLayoutEffect:x.useEffect,xne=vne();function jA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function yne(e,t){if(jA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!jA(e[n[i]],t[n[i]]))return!1;return!0}var Cx=Symbol.for("react-redux-context"),jx=typeof globalThis<"u"?globalThis:{};function bne(){if(!x.createContext)return{};const e=jx[Cx]??(jx[Cx]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var wne=bne();function kne(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const l=fne(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=x.useMemo(()=>i.getState(),[i]);xne(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||wne;return x.createElement(o.Provider,{value:a},t)}var Sne=kne,Nne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Cne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function jS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Nne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!yne(e[r],t[r]))return!1}else if(!Cne(e[r],t[r]))return!1;return!0}var jne=["id"],Pne=["type","layout","connectNulls","needClip","shape"],Ane=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uf.apply(null,arguments)}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function As(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){Tne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tne(e,t,n){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ene(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PS(e,t){if(e==null)return{};var n,r,i=Mne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var One=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:T0(n,t),payload:e}]},Ine=x.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:T0(s,t),hide:o,type:c,color:r,unit:l,graphicalItemId:d}};return x.createElement(D4,{tooltipEntrySettings:f})}),q4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function _ne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Lne=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return q4(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[..._ne(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function $ne(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=PS(r,jne),c=qa(l);return x.createElement(Nee,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function Fne(e){var{showLabels:t,children:n,points:r}=e,i=x.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return As(As({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(IQ,{value:t?i:void 0},n)}function AA(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,f=PS(a,Pne),h=As(As({},zi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,(r==null?void 0:r.length)>1&&x.createElement(E4,Uf({shapeType:"curve",option:d},h,{pathRef:n})),x.createElement($ne,{points:r,clipPathId:t,props:a}))}function Rne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Bne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:v,onAnimationStart:y}=n,g=i.current,b=z0(s,"recharts-line-"),w=x.useRef(b),[S,C]=x.useState(!1),N=!S,P=x.useCallback(()=>{typeof v=="function"&&v(),C(!1)},[v]),D=x.useCallback(()=>{typeof y=="function"&&y(),C(!0)},[y]),_=Rne(r.current),A=x.useRef(0);w.current!==b&&(A.current=a.current,w.current=b);var $=A.current;return x.createElement(Fne,{points:s,showLabels:N},n.children,x.createElement(B0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:P,onAnimationStart:D,key:b},M=>{var te=ji($,_+$,M),Y=Math.min(te,_),se;if(l)if(o){var W="".concat(o).split(/[,\s]+/gim).map(oe=>parseFloat(oe));se=Lne(Y,_,W)}else se=q4(_,Y);else se=o==null?void 0:String(o);if(M>0&&_>0&&(i.current=s,a.current=Math.max(a.current,Y)),g){var ee=g.length/s.length,X=M===1?s:s.map((oe,T)=>{var j=Math.floor(T*ee);if(g[j]){var U=g[j];return As(As({},oe),{},{x:ji(U.x,oe.x,M),y:ji(U.y,oe.y,M)})}return h?As(As({},oe),{},{x:ji(m*2,oe.x,M),y:ji(p/2,oe.y,M)}):As(As({},oe),{},{x:oe.x,y:oe.y})});return i.current=X,x.createElement(AA,{props:n,points:X,clipPathId:t,pathRef:r,strokeDasharray:se})}return x.createElement(AA,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:se})}),x.createElement(h4,{label:n.label}))}function zne(e){var{clipPathId:t,props:n}=e,r=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(Bne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Une=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:tr(e.payload,t)}};class Vne extends x.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=jn("recharts-line",i),v=f,{r:y,strokeWidth:g}=tne(n),b=A4(n),w=y*2+g,S=h?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return x.createElement(gs,{zIndex:m},x.createElement(aa,{className:p},h&&x.createElement("defs",null,x.createElement(Yte,{clipPathId:v,xAxisId:a,yAxisId:s}),!b&&x.createElement("clipPath",{id:"clipPath-dots-".concat(v)},x.createElement("rect",{x:l-w/2,y:o-w/2,width:c+w,height:d+w}))),x.createElement(Gte,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Une,errorBarOffset:0},x.createElement(zne,{props:this.props,clipPathId:v}))),x.createElement(Wee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var K4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:hi.line,type:"linear"};function Wne(e){var t=Yr(e,K4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:v}=t,y=PS(t,Ane),{needClip:g}=z4(m,p),b=kS(),w=om(),S=la(),C=bt(A=>ene(A,m,p,S,v));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:P,x:D,y:_}=b;return x.createElement(Vne,Uf({},y,{id:v,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:w,height:N,width:P,left:D,top:_,needClip:g}))}function Hne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=tr(c,s);if(t==="horizontal"){var h=FC({axis:n,ticks:i,bandSize:o,entry:c,index:d}),m=Gr(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:c}}var p=Gr(f)?null:n.scale(f),v=FC({axis:r,ticks:a,bandSize:o,entry:c,index:d});return p==null||v==null?null:{x:p,y:v,value:f,payload:c}}).filter(Boolean)}function qne(e){var t=Yr(e,K4),n=la();return x.createElement(M4,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(TJ,{legendPayload:One(t)}),x.createElement(Ine,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),x.createElement(VJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(Wne,Uf({},t,{id:r}))))}var eo=x.memo(qne,jS);eo.displayName="Line";var Kne=["domain","range"],Gne=["domain","range"];function TA(e,t){if(e==null)return{};var n,r,i=Yne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function G4(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=TA(e,Kne),{domain:a,range:s}=t,o=TA(t,Gne);return!EA(n,a)||!EA(r,s)?!1:jS(i,o)}var Xne=["dangerouslySetInnerHTML","ticks","scale"],Zne=["id","scale"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(null,arguments)}function DA(e,t){if(e==null)return{};var n,r,i=Qne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jne(e){var t=Kn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Tee(e)):n.current!==e&&t(Eee({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(Dee(n.current)),n.current=null)},[t]),null}var ere=e=>{var{xAxisId:t,className:n}=e,r=bt(pI),i=la(),a="xAxis",s=bt(g=>y3(g,a,t,i)),o=bt(g=>cY(g,t)),l=bt(g=>pY(g,t)),c=bt(g=>Z_(g,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=DA(e,Xne),{id:p,scale:v}=c,y=DA(c,Zne);return x.createElement(CS,Kb({},m,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:jn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},tre={allowDataOverflow:ti.allowDataOverflow,allowDecimals:ti.allowDecimals,allowDuplicatedCategory:ti.allowDuplicatedCategory,angle:ti.angle,axisLine:lo.axisLine,height:ti.height,hide:!1,includeHidden:ti.includeHidden,interval:ti.interval,minTickGap:ti.minTickGap,mirror:ti.mirror,orientation:ti.orientation,padding:ti.padding,reversed:ti.reversed,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,tickLine:lo.tickLine,tickSize:lo.tickSize,type:ti.type,xAxisId:0},nre=e=>{var t=Yr(e,tre);return x.createElement(x.Fragment,null,x.createElement(Jne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(ere,t))},Vf=x.memo(nre,G4);Vf.displayName="XAxis";var rre=["dangerouslySetInnerHTML","ticks","scale"],ire=["id","scale"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}function MA(e,t){if(e==null)return{};var n,r,i=are(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sre(e){var t=Kn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Mee(e)):n.current!==e&&t(Oee({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(Iee(n.current)),n.current=null)},[t]),null}var ore=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),s=x.useRef(null),o=bt(pI),l=la(),c=Kn(),d="yAxis",f=bt(N=>xY(N,t)),h=bt(N=>vY(N,t)),m=bt(N=>y3(N,d,t,l)),p=bt(N=>Q_(N,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!f||xS(i)||x.isValidElement(i)||p==null)){var N=a.current;if(N){var P=N.getCalculatedWidth();Math.round(f.width)!==Math.round(P)&&c(_ee({id:t,width:P}))}}},[m,f,c,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:v,ticks:y,scale:g}=e,b=MA(e,rre),{id:w,scale:S}=p,C=MA(p,ire);return x.createElement(CS,Gb({},b,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:jn("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},lre={allowDataOverflow:ni.allowDataOverflow,allowDecimals:ni.allowDecimals,allowDuplicatedCategory:ni.allowDuplicatedCategory,angle:ni.angle,axisLine:lo.axisLine,hide:!1,includeHidden:ni.includeHidden,interval:ni.interval,minTickGap:ni.minTickGap,mirror:ni.mirror,orientation:ni.orientation,padding:ni.padding,reversed:ni.reversed,scale:ni.scale,tick:ni.tick,tickCount:ni.tickCount,tickLine:lo.tickLine,tickSize:lo.tickSize,type:ni.type,width:ni.width,yAxisId:0},cre=e=>{var t=Yr(e,lre);return x.createElement(x.Fragment,null,x.createElement(sre,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(ore,t))},Wf=x.memo(cre,G4);Wf.displayName="YAxis";var ure=(e,t)=>t,AS=de([ure,Fn,G_,Zr,$3,To,IX,si],zX),TS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Y4=Ka("mouseClick"),X4=am();X4.startListening({actionCreator:Y4,effect:(e,t)=>{var n=e.payload,r=AS(t.getState(),TS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(MY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Yb=Ka("mouseMove"),Z4=am(),Th=null;Z4.startListening({actionCreator:Yb,effect:(e,t)=>{var n=e.payload;Th!==null&&cancelAnimationFrame(Th);var r=TS(n);Th=requestAnimationFrame(()=>{var i=t.getState(),a=lS(i,i.tooltip.settings.shared);if(a==="axis"){var s=AS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(T3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(A3())}Th=null})}});function dre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var OA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Q4=oa({name:"rootProps",initialState:OA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:OA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),fre=Q4.reducer,{updateOptions:mre}=Q4.actions,J4=oa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hre}=J4.actions,pre=J4.reducer,eL=Ka("keyDown"),tL=Ka("focus"),ES=am();ES.startListening({actionCreator:eL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=cS(i,id(n),vm(n),bm(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=To(n);if(a==="Enter"){var c=kg(n,"axis","hover",String(i.index));t.dispatch(zb({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=kY(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=kg(n,"axis","hover",String(m));t.dispatch(zb({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});ES.startListening({actionCreator:tL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=kg(n,"axis","hover",String(a));t.dispatch(zb({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ia=Ka("externalEvent"),nL=am(),Px=new Map;nL.startListening({actionCreator:Ia,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Px.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:xX(o),activeDataKey:z3(o),activeIndex:zu(o),activeLabel:B3(o),activeTooltipIndex:zu(o),isTooltipActive:yX(o)};n(l,r)}finally{Px.delete(i)}});Px.set(i,s)}}});var gre=de([nd],e=>e.tooltipItemPayloads),vre=de([gre,ym,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),rL=Ka("touchMove"),iL=am();iL.startListening({actionCreator:rL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=lS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=AS(r,TS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(T3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(mI),f=(o=c.getAttribute(hI))!==null&&o!==void 0?o:void 0,h=rd(r).find(v=>v.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=vre(r,d,f);t.dispatch(P3({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var xre=_5({brush:Hee,cartesianAxis:Lee,chartData:vZ,errorBars:Ute,graphicalItems:zJ,layout:J9,legend:eH,options:fZ,polarAxis:HQ,polarOptions:pre,referenceElements:Qee,rootProps:fre,tooltip:OY,zIndex:tZ}),yre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return N9({reducer:xre,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([X4.middleware,Z4.middleware,ES.middleware,nL.middleware,iL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(X5({type:"raf"}))},devTools:{serialize:{replacer:dre},name:"recharts-".concat(n)}})};function aL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=la(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=yre(t,r));var s=K1;return x.createElement(Sne,{context:s,store:a.current},n)}function bre(e){var{layout:t,margin:n}=e,r=Kn(),i=la();return x.useEffect(()=>{i||(r(X9(t)),r(Y9(n)))},[r,i,t,n]),null}var sL=x.memo(bre,jS);function oL(e){var t=Kn();return x.useEffect(()=>{t(mre(e))},[t,e]),null}function IA(e){var{zIndex:t,isPanorama:n}=e,r=x.useRef(null),i=Kn();return x.useLayoutEffect(()=>(r.current&&i(JX({zIndex:t,element:r.current,isPanorama:n})),()=>{i(eZ({zIndex:t,isPanorama:n}))}),[i,t,n]),x.createElement("g",{tabIndex:-1,ref:r})}function _A(e){var{children:t,isPanorama:n}=e,r=bt(VX);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return x.createElement(x.Fragment,null,i.map(s=>x.createElement(IA,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>x.createElement(IA,{key:s,zIndex:s,isPanorama:n})))}var wre=["children"];function kre(e,t){if(e==null)return{};var n,r,i=Sre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tg.apply(null,arguments)}var Nre={width:"100%",height:"100%",display:"block"},Cre=x.forwardRef((e,t)=>{var n=rk(),r=ik(),i=_I();if(!$s(n)||!$s(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),x.createElement(D1,Tg({},s,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:Nre,ref:t}),a)}),jre=e=>{var{children:t}=e,n=bt(O0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return x.createElement(D1,{width:r,height:i,x:s,y:a},t)},LA=x.forwardRef((e,t)=>{var{children:n}=e,r=kre(e,wre),i=la();return i?x.createElement(jre,null,x.createElement(_A,{isPanorama:!0},n)):x.createElement(Cre,Tg({ref:t},r),x.createElement(_A,{isPanorama:!1},n))});function Pre(){var e=Kn(),[t,n]=x.useState(null),r=bt(hW);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Br(a)&&a!==r&&e(Q9(a))}},[t,e,r]),n}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Are(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){Tre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tre(e,t,n){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ere(e){var t=Dre(e,"string");return typeof t=="symbol"?t:t+""}function Dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(null,arguments)}var Mre=()=>(jZ(),null);function Eg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ore=x.forwardRef((e,t)=>{var n,r,i=x.useRef(null),[a,s]=x.useState({containerWidth:Eg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Eg((r=e.style)===null||r===void 0?void 0:r.height)}),o=x.useCallback((c,d)=>{s(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=x.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=p=>{var{width:v,height:y}=p[0].contentRect;o(v,y)},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,o]);return x.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),x.createElement(x.Fragment,null,x.createElement(_0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Sc({ref:l},e)))}),Ire=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=x.useState({containerWidth:Eg(n),containerHeight:Eg(r)}),s=x.useCallback((l,c)=>{a(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=x.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return x.createElement(x.Fragment,null,x.createElement(_0,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Sc({ref:o},e)))}),_re=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(_0,{width:n,height:r}),x.createElement("div",Sc({ref:t},e)))}),Lre=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return go(n)||go(r)?x.createElement(Ire,Sc({},e,{ref:t})):x.createElement(_re,Sc({},e,{ref:t}))});function $re(e){return e===!0?Ore:Lre}var Fre=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:v,style:y,width:g,responsive:b,dispatchTouchEvents:w=!0}=e,S=x.useRef(null),C=Kn(),[N,P]=x.useState(null),[D,_]=x.useState(null),A=Pre(),$=nk(),M=($==null?void 0:$.width)>0?$.width:g,te=($==null?void 0:$.height)>0?$.height:i,Y=x.useCallback(L=>{A(L),typeof t=="function"&&t(L),P(L),_(L),L!=null&&(S.current=L)},[A,t,P,_]),se=x.useCallback(L=>{C(Y4(L)),C(Ia({handler:a,reactEvent:L}))},[C,a]),W=x.useCallback(L=>{C(Yb(L)),C(Ia({handler:c,reactEvent:L}))},[C,c]),ee=x.useCallback(L=>{C(A3()),C(Ia({handler:d,reactEvent:L}))},[C,d]),X=x.useCallback(L=>{C(Yb(L)),C(Ia({handler:f,reactEvent:L}))},[C,f]),oe=x.useCallback(()=>{C(tL())},[C]),T=x.useCallback(L=>{C(eL(L.key))},[C]),j=x.useCallback(L=>{C(Ia({handler:s,reactEvent:L}))},[C,s]),U=x.useCallback(L=>{C(Ia({handler:o,reactEvent:L}))},[C,o]),k=x.useCallback(L=>{C(Ia({handler:l,reactEvent:L}))},[C,l]),O=x.useCallback(L=>{C(Ia({handler:h,reactEvent:L}))},[C,h]),re=x.useCallback(L=>{C(Ia({handler:v,reactEvent:L}))},[C,v]),Q=x.useCallback(L=>{w&&C(rL(L)),C(Ia({handler:p,reactEvent:L}))},[C,w,p]),B=x.useCallback(L=>{C(Ia({handler:m,reactEvent:L}))},[C,m]),J=$re(b);return x.createElement(G3.Provider,{value:N},x.createElement(IO.Provider,{value:D},x.createElement(J,{width:M??(y==null?void 0:y.width),height:te??(y==null?void 0:y.height),className:jn("recharts-wrapper",r),style:Are({position:"relative",cursor:"default",width:M,height:te},y),onClick:se,onContextMenu:j,onDoubleClick:U,onFocus:oe,onKeyDown:T,onMouseDown:k,onMouseEnter:W,onMouseLeave:ee,onMouseMove:X,onMouseUp:O,onTouchEnd:B,onTouchMove:Q,onTouchStart:re,ref:Y},x.createElement(Mre,null),n)))}),Rre=["width","height","responsive","children","className","style","compact","title","desc"];function Bre(e,t){if(e==null)return{};var n,r,i=zre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lL=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=Bre(e,Rre),h=qa(f);return l?x.createElement(x.Fragment,null,x.createElement(_0,{width:n,height:r}),x.createElement(LA,{otherAttributes:h,title:c,desc:d},a)):x.createElement(Fre,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(LA,{otherAttributes:h,title:c,desc:d,ref:t},x.createElement(ete,null,a)))});function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}var Ure={top:5,right:5,bottom:5,left:5},Vre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ure,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Wre=x.forwardRef(function(t,n){var r,i=Yr(t.categoricalChartProps,Vre),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return x.createElement(aL,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},x.createElement(_4,{chartData:c.data}),x.createElement(sL,{layout:i.layout,margin:i.margin}),x.createElement(oL,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(lL,Xb({},i,{ref:n})))}),Hre=["axis"],Dg=x.forwardRef((e,t)=>x.createElement(Wre,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hre,tooltipPayloadSearcher:X3,categoricalChartProps:e,ref:t}));function qre(e){var t=Kn();return x.useEffect(()=>{t(hre(e))},[t,e]),null}var Kre=["layout"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}function Gre(e,t){if(e==null)return{};var n,r,i=Yre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xre={top:5,right:5,bottom:5,left:5},cL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Zre=x.forwardRef(function(t,n){var r,i=Yr(t.categoricalChartProps,cL),{layout:a}=i,s=Gre(i,Kre),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(aL,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},x.createElement(_4,{chartData:i.data}),x.createElement(sL,{layout:a,margin:i.margin}),x.createElement(oL,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(qre,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(lL,Zb({},s,{ref:n})))});function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){Qre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qre(e,t,n){return(t=Jre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jre(e){var t=eie(e,"string");return typeof t=="symbol"?t:t+""}function eie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tie=["item"],nie=RA(RA({},cL),{},{layout:"centric",startAngle:0,endAngle:360}),Qb=x.forwardRef((e,t)=>{var n=Yr(e,nie);return x.createElement(Zre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:tie,tooltipPayloadSearcher:X3,categoricalChartProps:n,ref:t})});const Mn=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),BA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Xd=new Map,Su=new Map,rie=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(Xd.has(r)||Su.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&Xd.set(r,s),s})();Su.set(r,i);try{await i}finally{Su.delete(r)}}))},iie=e=>{const[t,n]=x.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Xd.get(e)||BA:null});return x.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=Xd.get(e);if(r){n(r);return}let i=!0;const a=Su.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&Xd.set(e,l),l})();return Su.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(BA)}}).finally(()=>{Su.delete(e)}),()=>{i=!1}},[e]),t},aie=(e,t,n,r)=>{const[i,a]=x.useState("bottom"),[s,o]=x.useState(0);return x.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(D=>{let _=(D==null?void 0:D.parentElement)||null;for(;_;){const A=window.getComputedStyle(_),$=`${A.overflow}${A.overflowY}${A.overflowX}`;if(/(auto|scroll|hidden)/.test($))return _;_=_.parentElement}return null})(c),v=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=v.bottom-f.bottom,g=f.top-v.top,b=y<h.height+8&&g>y?"top":"bottom";a(b);const w=6,S=f.left+f.width/2,C=v.left+w+h.width/2,N=v.right-w-h.width/2,P=Math.min(Math.max(S,C),N);o(P-S)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},sie=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},uL=(e,t,n,r,i=8)=>{const[a,s]=x.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return x.useEffect(()=>{if(!e)return;const o=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,v=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),y=f.left+f.width/2,g=i+h.width/2,b=window.innerWidth-i-h.width/2,w=Math.min(Math.max(y,g),b);s({position:"fixed",top:v,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},oie=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Yl(i||"Unknown"),s=r.length>1,[o,l]=x.useState(!1),c=x.useRef(null),d=x.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=aie(o,[r.length,f],c,d),p=Array.from(new Set(r.map(b=>ic(b||"Unknown")))).slice(0,4),v=p.length>1?`conic-gradient(${p.map((b,w)=>`${b} ${w*360/p.length}deg ${(w+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const y=h==="top"?"bottom-full mb-2":"top-full mt-2",g={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:v},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/90"})}),u.jsxs("div",{ref:d,style:g,className:`absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${y} ${o?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Yl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},lie=(e,t,n="w-4 h-4 object-contain")=>u.jsx(oie,{profession:e,professionList:t,className:n}),Ax=({count:e,classCounts:t,label:n,className:r})=>{const i=sie(t||{}),a=e>0,[s,o]=x.useState(!1),l=x.useRef(null),c=x.useRef(null),d=uL(s,[i.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&Yu.createPortal(u.jsxs("div",{ref:c,style:d,className:`z-[9999] w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${s?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const v=Yl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[v?u.jsx("img",{src:v,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Pr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i=""})=>{const a=iie(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[a?u.jsx("img",{src:a,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`truncate ${i}`,children:e})]})},zA=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=x.useState(!1),o=x.useRef(null),l=x.useRef(null),c=uL(a,[n.length],o,l);return u.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{children:e}),i&&typeof document<"u"&&Yu.createPortal(u.jsxs("div",{ref:l,style:c,className:`z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg backdrop-blur-md opacity-0 pointer-events-none transition-opacity ${a?"opacity-100":""}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Pr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},cie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:v,setSkillUsagePlayerFilter:y,skillUsageView:g,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:P,skillBarData:D,selectedSkillName:_,selectedSkillIcon:A,skillUsageReady:$,skillUsageAvailable:M,isSkillUsagePerSecond:te,skillChartData:Y,skillChartMaxY:se,playerTotalsForSkill:W,hoveredSkillPlayer:ee,setHoveredSkillPlayer:X,getLineStrokeColor:oe,getLineDashForPlayer:T,formatSkillUsageValue:j,renderProfessionIcon:U})=>u.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(y1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Mn,{value:g,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]})]}),o.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(k=>{const O=d.get(k);return O?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:O.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[O.logs," ",O.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(O.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(hO,{className:"w-3 h-3"})})]},O.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:v,onChange:k=>y(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(k=>{const O=h===k.profession,re=k.players.map(B=>B.key),Q=re.length>0&&re.every(B=>o.includes(B));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(O){m(null);return}m(k.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${O?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[U(k.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[k.players.length,"p"]}),O?u.jsx(Gl,{className:"w-3.5 h-3.5"}):u.jsx(c6,{className:"w-3.5 h-3.5"})]})]})}),O&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[k.players.length," ",k.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(B=>{if(Q)return B.filter(L=>!re.includes(L));const J=new Set(B);return re.forEach(L=>J.add(L)),Array.from(J)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:Q?"Clear All":"Select All"})]}),k.players.map(B=>{const J=o.includes(B.key);return u.jsx("button",{type:"button",onClick:()=>p(B.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${J?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:B.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[B.account,"  ",B.profession,"  ",B.logs," ",B.logs===1?"log":"logs"]})]}),J&&u.jsx(dO,{className:"w-4 h-4 text-cyan-300"})]})},B.key)})]})]},k.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${te?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:k=>C(k.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):D.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const k=D.reduce((O,re)=>Math.max(O,re.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:D.map((O,re)=>{const Q=Math.min(100,O.total/k*100),B=N===O.skillId;return u.jsxs("button",{type:"button",onClick:()=>P(O.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${B?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${re+1}`}),u.jsx(Pr,{name:O.name,iconUrl:O.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:j(O.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Q}%`,backgroundColor:O.color}})})]},O.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:$?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:_?u.jsx(Pr,{name:_,iconUrl:A,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",te?"casts per second":"casts per log",")"]})]}),u.jsx(vc,{width:"100%",height:250,children:u.jsxs(Dg,{data:Y,children:[u.jsx(zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Vf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:k=>{const O=Y[k],re=String((O==null?void 0:O.shortLabel)??k);return re.length>20?`${re.slice(0,20)}`:re}}),u.jsx(Wf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,se)],allowDecimals:!1}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:k,payload:O,label:re})=>{var L;if(!k||!O||O.length===0)return null;const Q=[...O].sort((K,le)=>(le.value||0)-(K.value||0)),B=Q[0],J=((L=B==null?void 0:B.payload)==null?void 0:L.fullLabel)||re;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:J}),u.jsx("div",{className:"space-y-1",children:Q.map(K=>{const le=String(K.name||""),ne=d.get(le),z=(ne==null?void 0:ne.displayName)||le||"Player",R=j(Number(K.value||0)),I=K.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:I},children:z}),u.jsx("span",{className:"text-gray-200 font-mono",children:R})]},`${z}-${R}`)})})]})}}),o.map(k=>{const O=ee.includes(k),re=ee.length>0,Q=oe(k,O,re),B=T(k),J=ee.length>0&&!O;return u.jsx(eo,{dataKey:k,stroke:Q,strokeWidth:O?4:3,strokeDasharray:B,opacity:J?.6:1,dot:!1,isAnimationActive:!1},k)})]})})]}),o.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((k,O)=>(W.get(O)||0)-(W.get(k)||0)).map(k=>{const O=d.get(k),re=W.get(k)??0,Q=ee.includes(k),B=ee.length>0,J=oe(k,Q,B);return u.jsxs("button",{type:"button",onClick:()=>{X(L=>L.includes(k)?L.filter(K=>K!==k):[...L,k])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${Q?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":Q,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:J,strokeWidth:"2",strokeDasharray:T(k),strokeLinecap:"round"})}),U(O==null?void 0:O.profession,O==null?void 0:O.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(O==null?void 0:O.displayName)||k}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(O==null?void 0:O.logs)??0," ",((O==null?void 0:O.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:j(re)})]},k)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:M?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),uie=({containerRef:e,className:t=""})=>{const n=x.useRef(null),[r,i]=x.useState(0),[a,s]=x.useState(0),o=x.useRef(!1),l=x.useRef(0),c=x.useRef(0);x.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=h,N=w>S,P=n.current,D=(P==null?void 0:P.clientWidth)||0;if(!D){m=window.requestAnimationFrame(p);return}if(!N){i(D),s(0);return}const _=S/w,A=Math.max(20,Math.floor(D*_)),$=w-S,M=Math.max(0,D-A),te=$>0?Math.floor(C/$*M):0;i(A),s(te)};p();const v=()=>p(),y=new ResizeObserver(p);y.observe(h);const g=h.firstElementChild;g instanceof HTMLElement&&y.observe(g),n.current&&y.observe(n.current);const b=new MutationObserver(()=>p());return b.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",v),()=>{m&&window.cancelAnimationFrame(m),y.disconnect(),b.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",v)}},[e]),x.useEffect(()=>{const h=p=>{if(!o.current)return;const v=n.current,y=e.current;if(!v||!y)return;const g=v.getBoundingClientRect(),b=p.clientX-l.current,w=Math.max(0,g.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=y.scrollWidth-y.clientWidth,N=w>0?S/w*C:0;y.scrollLeft=N},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const v=m.getBoundingClientRect(),y=h.clientX-v.left,g=Math.max(0,v.width-r),b=Math.min(g,Math.max(0,y-r/2)),w=p.scrollWidth-p.clientWidth;p.scrollLeft=g>0?b/g*w:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,c.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},fs=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const c=x.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?u.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),p&&u.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>u.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),u.jsx(uie,{containerRef:c})]})},ms=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=x.useState(""),[o,l]=x.useState(!1),[c,d]=x.useState(0),f=x.useRef(null),h=x.useRef(null),m=x.useRef(new Map);x.useEffect(()=>{const g=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const p=x.useMemo(()=>{const g=a.trim().toLowerCase();return g?e.filter(b=>b.label.toLowerCase().includes(g)).slice(0,50):e.slice(0,50)},[e,a]),v=x.useMemo(()=>{const g=new Map;return p.forEach((b,w)=>{g.set(`${b.type}-${b.id}`,w)}),g},[p]),y=x.useMemo(()=>{const g=p.filter(w=>w.type==="column"),b=p.filter(w=>w.type==="player");return{columns:g,players:b}},[p]);return x.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(g=>Math.min(Math.max(g,0),p.length-1))}},[p,o]),x.useEffect(()=>{if(!o)return;const g=p[c];if(!g)return;const b=`${g.type}-${g.id}`,w=m.current.get(b);w&&h.current&&w.scrollIntoView({block:"nearest"})},[c,p,o]),u.jsxs("div",{ref:f,className:`relative ${i}`,children:[u.jsx("input",{value:a,onChange:g=>{s(g.target.value),l(!0)},onKeyDown:g=>{if(!o&&(g.key==="ArrowDown"||g.key==="ArrowUp")){l(!0);return}if(o)if(g.key==="ArrowDown"){if(g.preventDefault(),p.length===0)return;d(b=>(b+1)%p.length)}else if(g.key==="ArrowUp"){if(g.preventDefault(),p.length===0)return;d(b=>(b-1+p.length)%p.length)}else if(g.key==="Enter"){g.preventDefault();const b=p[c];if(!b)return;r(b),s(""),l(!1)}else g.key==="Escape"&&(g.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[y.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),y.columns.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),s(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===v.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]}),y.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),y.players.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),s(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===v.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]})]})})]})},gr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=x.useState(!1),c=x.useRef(null),d=new Set(t);return x.useEffect(()=>{const f=h=>{c.current&&(c.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${i}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,u.jsx("span",{children:a}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},die=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:v,setActiveApmSkillId:y,ALL_SKILLS_KEY:g,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:N,apmView:P,setApmView:D,formatApmValue:_,formatCastRateValue:A,formatCastCountValue:$,renderProfessionIcon:M})=>{var B;const[te,Y]=x.useState({key:"apm",dir:"desc"}),se=e==="apm-stats",[W,ee]=x.useState({columnId:"",dir:"desc"}),[X,oe]=x.useState([]),[T,j]=x.useState([]),[U,k]=x.useState({}),O=se?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,re=J=>{Y(L=>({key:J,dir:L.key===J&&L.dir==="desc"?"asc":"desc"}))},Q=x.useMemo(()=>{const J=[...(S==null?void 0:S.playerRows)||[]];return J.sort((L,K)=>{const le=te.key==="apm"?Number(P==="perSecond"?L.aps:L.apm):Number(P==="perSecond"?L.apsNoAuto:L.apmNoAuto),ne=te.key==="apm"?Number(P==="perSecond"?K.aps:K.apm):Number(P==="perSecond"?K.apsNoAuto:K.apmNoAuto);return(te.dir==="desc"?ne-le:le-ne)||String(L.displayName||"").localeCompare(String(K.displayName||""))}),J},[S,te,P]);return u.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:J=>w(J.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:O,children:d.map(J=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const L=f!==J.profession;h(J.profession),p(L?J.profession:m===J.profession?null:J.profession),L&&(y(g),oe([]),j([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===J.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M(J.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[J.players.length,"p"]})})]})}),!se&&m===J.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:U[J.profession]||"",onChange:L=>{const K=L.target.value;k(le=>({...le,[J.profession]:K}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{h(J.profession),y(g)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===J.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(J.skills||[]).filter(L=>{const K=(U[J.profession]||"").trim().toLowerCase();return K?String(L.name||"").toLowerCase().includes(K):!0}).map(L=>u.jsx("button",{type:"button",onClick:()=>{h(J.profession),y(L.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===J.profession&&v===L.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:L.name})]})},L.id)),(J.skills||[]).filter(L=>{const K=(U[J.profession]||"").trim().toLowerCase();return K?String(L.name||"").toLowerCase().includes(K):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},J.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[se&&(()=>{const J=S.skills||[],L=(S.playerRows||[]).map(z=>({id:z.key,label:z.displayName||z.account||z.key,icon:M(z.profession,z.professionList,"w-3 h-3")})),K=J.map(z=>({id:z.id,label:z.name,icon:z.icon?u.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),le=[...J.map(z=>({id:z.id,label:z.name,type:"column",icon:z.icon?u.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(z=>({id:z.key,label:z.displayName||z.account||z.key,type:"player",icon:M(z.profession,z.professionList,"w-3 h-3")}))],ne=new Set([...X.map(z=>`column:${z}`),...T.map(z=>`player:${z}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:le,selectedIds:ne,onSelect:z=>{z.type==="column"?oe(R=>R.includes(z.id)?R.filter(I=>I!==z.id):[...R,z.id]):j(R=>R.includes(z.id)?R.filter(I=>I!==z.id):[...R,z.id])},className:"w-full sm:w-64"}),u.jsx(gr,{options:K,selectedIds:X,onToggle:z=>{oe(R=>R.includes(z)?R.filter(I=>I!==z):[...R,z])},onClear:()=>oe([]),buttonLabel:"Columns",buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:L,selectedIds:T,onToggle:z=>{j(R=>R.includes(z)?R.filter(I=>I!==z):[...R,z])},onClear:()=>j([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:P,onChange:D,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(X.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{oe([]),j([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),X.map(z=>{var I;const R=((I=J.find(Z=>Z.id===z))==null?void 0:I.name)||z;return u.jsxs("button",{type:"button",onClick:()=>oe(Z=>Z.filter(je=>je!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},z)}),T.map(z=>{var I;const R=((I=L.find(Z=>Z.id===z))==null?void 0:I.label)||z;return u.jsxs("button",{type:"button",onClick:()=>j(Z=>Z.filter(je=>je!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},z)})]})]})})(),se?(()=>{var z,R;const J=S.skills||[],L=X.length>0?J.filter(I=>X.includes(I.id)):J,K=T.length>0?(S.playerRows||[]).filter(I=>T.includes(I.key)):S.playerRows||[];if(J.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const le=((z=L.find(I=>I.id===W.columnId))==null?void 0:z.id)||((R=L[0])==null?void 0:R.id)||"",ne=[...K].map(I=>{const Z={},je={};return L.forEach($e=>{var De;const ie=Number(((De=$e.playerCounts)==null?void 0:De.get(I.key))||0),Be=P==="perSecond"?ie/Math.max(1,I.totalActiveSeconds||0):ie;je[$e.id]=Be,Z[$e.id]=P==="perSecond"?A(Be):$(Be)}),{row:I,values:Z,numericValues:je}}).sort((I,Z)=>{const je=I.numericValues[le]??0,$e=Z.numericValues[le]??0;return(W.dir==="desc"?$e-je:je-$e)||String(I.row.displayName||"").localeCompare(String(Z.row.displayName||""))});return u.jsx(fs,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:le,sortDirection:W.dir,onSortColumn:I=>{ee(Z=>({columnId:I,dir:Z.columnId===I&&Z.dir==="desc"?"asc":"desc"}))},columns:L.map(I=>({id:I.id,label:u.jsx(Pr,{name:I.name,iconUrl:I.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ne.map((I,Z)=>({id:`${S.profession}-${I.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Z+1}),M(I.row.profession,I.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:I.row.displayName})]}),values:I.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Pr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((B=S.playerRows)==null?void 0:B.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>re("apm"),className:`text-right transition-colors ${te.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[P==="perSecond"?"APS":"APM",te.key==="apm"?te.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>re("apmNoAuto"),className:`text-right transition-colors ${te.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[P==="perSecond"?"APS":"APM"," (No Auto)",te.key==="apmNoAuto"?te.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:P==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:Q.map((J,L)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),M(J.profession,J.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:J.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(P==="perSecond"?J.aps:J.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(P==="perSecond"?J.apsNoAuto:J.apmNoAuto)})]},`${S.profession}-all-${J.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((J,L)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),M(J.profession,J.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:J.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(Number(J.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(Number(P==="perSecond"?J.aps||0:J.apm||0))})]},`${S.profession}-${C.id}-${J.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},fie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:v,activePlayerSkillId:y,setActivePlayerSkillId:g,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:P,skillSearch:D,setSkillSearch:_,activePlayerBreakdown:A,activePlayerSkill:$,activeClassBreakdown:M,activeClassSkill:te,renderProfessionIcon:Y})=>{const se=d.length,W=((A==null?void 0:A.skills)||[]).reduce((R,I)=>R+(I.damage||0),0),ee=(M==null?void 0:M.players)||[],[X,oe]=x.useState({key:"down",dir:"desc"}),T=e==="player-breakdown",[j,U]=x.useState([]),[k,O]=x.useState([]),[re,Q]=x.useState({columnId:"",dir:"desc"}),[B,J]=x.useState({}),[L,K]=x.useState({}),le=T?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,ne=x.useMemo(()=>{if(!M||!te)return ee;const R=[...ee];return R.sort((I,Z)=>{var he,Se;const je=(he=I.skillMap)==null?void 0:he[te.id],$e=(Se=Z.skillMap)==null?void 0:Se[te.id],ie=Number((je==null?void 0:je.downContribution)||0),Be=Number(($e==null?void 0:$e.downContribution)||0),De=Number((je==null?void 0:je.damage)||0),vt=Number(($e==null?void 0:$e.damage)||0),sn=I.totalFightMs>0?De/(I.totalFightMs/1e3):0,Pn=Z.totalFightMs>0?vt/(Z.totalFightMs/1e3):0;let un=0;return X.key==="down"&&(un=ie-Be),X.key==="damage"&&(un=De-vt),X.key==="dps"&&(un=sn-Pn),X.dir==="asc"?un:-un}),R},[M,ee,te,X]),z=R=>{oe(I=>I.key!==R?{key:R,dir:"desc"}:{key:R,dir:I.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(b1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[se," ",se===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:T?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!T&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(R=>{const I=l===R.id;return u.jsx("button",{type:"button",onClick:()=>c(R.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${I?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:R.label},R.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:D,onChange:R=>_(R.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:le,children:(T?"class":l)==="player"?d.map(R=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const I=h!==R.key;I&&(g(null),U([]),O([])),m(R.key),v(I?R.key:p===R.key?null:R.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===R.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:R.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(R.profession,R.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:R.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[R.skills.length," skills"]})})]})}),!T&&p===R.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:B[R.key]||"",onChange:I=>{const Z=I.target.value;J(je=>({...je,[R.key]:Z}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),R.skills.filter(I=>{const Z=(B[R.key]||"").trim().toLowerCase();return Z?String(I.name||"").toLowerCase().includes(Z):!0}).map(I=>u.jsx("button",{type:"button",onClick:()=>{m(R.key),g(I.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===R.key&&y===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:I.name})]})},I.id)),R.skills.filter(I=>{const Z=(B[R.key]||"").trim().toLowerCase();return Z?String(I.name||"").toLowerCase().includes(Z):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},R.key)):f.map(R=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const I=b!==R.profession;I&&(P(null),U([]),O([])),w(R.profession),C(I?R.profession:S===R.profession?null:R.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===R.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(R.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:R.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[R.players.length,"p"]})})]})}),!T&&S===R.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:L[R.profession]||"",onChange:I=>{const Z=I.target.value;K(je=>({...je,[R.profession]:Z}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),R.skills.filter(I=>{const Z=(L[R.profession]||"").trim().toLowerCase();return Z?String(I.name||"").toLowerCase().includes(Z):!0}).map(I=>u.jsx("button",{type:"button",onClick:()=>{w(R.profession),P(I.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===R.profession&&N===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:I.name})]})},I.id)),R.skills.filter(I=>{const Z=(L[R.profession]||"").trim().toLowerCase();return Z?String(I.name||"").toLowerCase().includes(Z):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},R.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(T?"class":l)==="player"?!A||!T&&!$?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[T&&(()=>{const R=A.skills||[],I=d.map(ie=>({id:ie.key,label:ie.displayName||ie.key,icon:Y(ie.profession,ie.professionList,"w-3 h-3")})),Z=R.map(ie=>({id:ie.id,label:ie.name,icon:ie.icon?u.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),je=[...R.map(ie=>({id:ie.id,label:ie.name,type:"column",icon:ie.icon?u.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(ie=>({id:ie.key,label:ie.displayName||ie.key,type:"player",icon:Y(ie.profession,ie.professionList,"w-3 h-3")}))],$e=new Set([...j.map(ie=>`column:${ie}`),...k.map(ie=>`player:${ie}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:je,selectedIds:$e,onSelect:ie=>{ie.type==="column"?U(Be=>Be.includes(ie.id)?Be.filter(De=>De!==ie.id):[...Be,ie.id]):O(Be=>Be.includes(ie.id)?Be.filter(De=>De!==ie.id):[...Be,ie.id])},className:"w-full sm:w-64"}),u.jsx(gr,{options:Z,selectedIds:j,onToggle:ie=>{U(Be=>Be.includes(ie)?Be.filter(De=>De!==ie):[...Be,ie])},onClear:()=>U([]),buttonLabel:"Columns",buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:I,selectedIds:k,onToggle:ie=>{O(Be=>Be.includes(ie)?Be.filter(De=>De!==ie):[...Be,ie])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{U([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(ie=>{var De;const Be=((De=R.find(vt=>vt.id===ie))==null?void 0:De.name)||ie;return u.jsxs("button",{type:"button",onClick:()=>U(vt=>vt.filter(sn=>sn!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ie)}),k.map(ie=>{var De;const Be=((De=I.find(vt=>vt.id===ie))==null?void 0:De.label)||ie;return u.jsxs("button",{type:"button",onClick:()=>O(vt=>vt.filter(sn=>sn!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ie)})]})]})})(),T?(()=>{var ie,Be;const R=A.skills||[],I=j.length>0?R.filter(De=>j.includes(De.id)):R,Z=k.length>0?d.filter(De=>k.includes(De.key)):d,je=((ie=I.find(De=>De.id===re.columnId))==null?void 0:ie.id)||((Be=I[0])==null?void 0:Be.id)||"",$e=Z.map(De=>{const vt={},sn={};return I.forEach(Pn=>{var Se;const un=(Se=De.skillMap)==null?void 0:Se[Pn.id],he=Number((un==null?void 0:un.damage)||0);sn[Pn.id]=he,vt[Pn.id]=Fo(he)}),{player:De,values:vt,numericValues:sn}}).sort((De,vt)=>{const sn=De.numericValues[je]??0,Pn=vt.numericValues[je]??0;return(re.dir==="desc"?Pn-sn:sn-Pn)||String(De.player.displayName||"").localeCompare(String(vt.player.displayName||""))});return u.jsx(fs,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:je,sortDirection:re.dir,onSortColumn:De=>{Q(vt=>({columnId:De,dir:vt.columnId===De&&vt.dir==="desc"?"asc":"desc"}))},columns:I.map(De=>({id:De.id,label:u.jsx(Pr,{name:De.name,iconUrl:De.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:$e.map((De,vt)=>({id:`${De.player.key}-${vt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:vt+1}),Y(De.player.profession,De.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:De.player.displayName})]}),values:De.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(A.profession,A.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Pr,{name:($==null?void 0:$.name)||"",iconUrl:$==null?void 0:$.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[A.skills.length," skills | ",Fo(W)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Fo(($==null?void 0:$.downContribution)||0)},{label:"Total Damage",value:Fo(($==null?void 0:$.damage)||0)},{label:"DPS",value:_a(A.totalFightMs>0?(($==null?void 0:$.damage)||0)/(A.totalFightMs/1e3):0,1)}].map(R=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:R.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R.value})]},R.label))})]})]}):!M||!T&&!te?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[T&&(()=>{const R=M.skills||[],I=ee.map(ie=>({id:ie.key,label:ie.displayName||ie.key,icon:Y(ie.profession,ie.professionList,"w-3 h-3")})),Z=R.map(ie=>({id:ie.id,label:ie.name,icon:ie.icon?u.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),je=[...R.map(ie=>({id:ie.id,label:ie.name,type:"column",icon:ie.icon?u.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4"}):void 0})),...ee.map(ie=>({id:ie.key,label:ie.displayName||ie.key,type:"player",icon:Y(ie.profession,ie.professionList,"w-3 h-3")}))],$e=new Set([...j.map(ie=>`column:${ie}`),...k.map(ie=>`player:${ie}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:je,selectedIds:$e,onSelect:ie=>{ie.type==="column"?U(Be=>Be.includes(ie.id)?Be.filter(De=>De!==ie.id):[...Be,ie.id]):O(Be=>Be.includes(ie.id)?Be.filter(De=>De!==ie.id):[...Be,ie.id])},className:"w-full sm:w-64"}),u.jsx(gr,{options:Z,selectedIds:j,onToggle:ie=>{U(Be=>Be.includes(ie)?Be.filter(De=>De!==ie):[...Be,ie])},onClear:()=>U([]),buttonLabel:"Columns",buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:I,selectedIds:k,onToggle:ie=>{O(Be=>Be.includes(ie)?Be.filter(De=>De!==ie):[...Be,ie])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{U([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(ie=>{var De;const Be=((De=R.find(vt=>vt.id===ie))==null?void 0:De.name)||ie;return u.jsxs("button",{type:"button",onClick:()=>U(vt=>vt.filter(sn=>sn!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ie)}),k.map(ie=>{var De;const Be=((De=I.find(vt=>vt.id===ie))==null?void 0:De.label)||ie;return u.jsxs("button",{type:"button",onClick:()=>O(vt=>vt.filter(sn=>sn!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ie)})]})]})})(),T?(()=>{var ie,Be;const R=M.skills||[],I=j.length>0?R.filter(De=>j.includes(De.id)):R,Z=k.length>0?ee.filter(De=>k.includes(De.key)):ee,je=((ie=I.find(De=>De.id===re.columnId))==null?void 0:ie.id)||((Be=I[0])==null?void 0:Be.id)||"",$e=Z.map(De=>{const vt={},sn={};return I.forEach(Pn=>{var Se;const un=(Se=De.skillMap)==null?void 0:Se[Pn.id],he=Number((un==null?void 0:un.damage)||0);sn[Pn.id]=he,vt[Pn.id]=Fo(he)}),{player:De,values:vt,numericValues:sn}}).sort((De,vt)=>{const sn=De.numericValues[je]??0,Pn=vt.numericValues[je]??0;return(re.dir==="desc"?Pn-sn:sn-Pn)||String(De.player.displayName||"").localeCompare(String(vt.player.displayName||""))});return u.jsx(fs,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:je,sortDirection:re.dir,onSortColumn:De=>{Q(vt=>({columnId:De,dir:vt.columnId===De&&vt.dir==="desc"?"asc":"desc"}))},columns:I.map(De=>({id:De.id,label:u.jsx(Pr,{name:De.name,iconUrl:De.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:$e.map((De,vt)=>({id:`${De.player.key}-${vt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:vt+1}),Y(De.player.profession,De.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:De.player.displayName})]}),values:De.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(M.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:M.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Pr,{name:(te==null?void 0:te.name)||"",iconUrl:te==null?void 0:te.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[ee.length," players | ",M.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>z("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${X.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:X.key==="down"?X.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>z("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${X.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:X.key==="damage"?X.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>z("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${X.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:X.key==="dps"?X.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ne.map(R=>{var ie;const I=(ie=R.skillMap)==null?void 0:ie[(te==null?void 0:te.id)||""],Z=Number((I==null?void 0:I.downContribution)||0),je=Number((I==null?void 0:I.damage)||0),$e=R.totalFightMs>0?je/(R.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Y(R.profession,R.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:R.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Fo(Z)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Fo(je)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_a($e,1)})]},`${M.profession}-${R.key}`)})})]})]})})]})})]})},Eo=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),Do=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),mie=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:y,sectionClass:g,sidebarListClass:b})=>{var T;const[w,S]=x.useState({key:"value",dir:"desc"}),[C,N]=x.useState({columnId:((T=t[0])==null?void 0:T.id)||"value",dir:"desc"}),P=f==="offense-detailed",[D,_]=x.useState([]),[A,$]=x.useState([]),M=t.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),te=t.map(j=>({id:j.id,label:j.label})),Y=te.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),W=D.length>0?t.filter(j=>D.includes(j.id)):t,ee=Array.from(new Map(e.offensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:d(j.profession,j.professionList,"w-3 h-3")})),X=new Set([...D.map(j=>`column:${j}`),...A.map(j=>`player:${j}`)]),oe=j=>{S(U=>({key:j,dir:U.key===j&&U.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":v("offense-detailed"),"data-section-first":y("offense-detailed"),className:g("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Ip,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...te.map(j=>({...j,type:"column"})),...ee.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?_(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):$(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:X,className:"w-full sm:w-64"}),u.jsx(gr,{options:Y,selectedIds:D,onToggle:j=>{_(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>_([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:ee,selectedIds:A,onToggle:j=>{$(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||A.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(j=>{var k;const U=((k=te.find(O=>O.id===j))==null?void 0:k.label)||j;return u.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(re=>re!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),A.map(j=>u.jsxs("button",{type:"button",onClick:()=>$(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:M.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var Q,B;const j=J=>Math.max(1,(J.totalFightMs||0)/1e3),U=(J,L,K)=>{var le,ne,z,R,I;if(L==="downContributionPercent"){const Z=((le=J.offenseTotals)==null?void 0:le.downContribution)||0,je=((ne=J.offenseTotals)==null?void 0:ne.damage)||0;return je>0?Z/je*100:0}if(K.isRate){const Z=((z=J.offenseRateWeights)==null?void 0:z[L])||0,je=((R=J.offenseTotals)==null?void 0:R[L])||0;return Z>0?je/Z*100:0}return((I=J.offenseTotals)==null?void 0:I[L])||0},k=(J,L)=>{const K=n&&!L.isPercent&&o==="total"?0:2,le=c(J,K);return L.isPercent?`${le}%`:le},O=((Q=W.find(J=>J.id===C.columnId))==null?void 0:Q.id)||((B=W[0])==null?void 0:B.id)||"",re=[...e.offensePlayers].filter(J=>A.length===0||A.includes(J.account)).map(J=>{const L={},K={};return W.forEach(le=>{const ne=U(J,le.id,le),z=o==="total"||le.isPercent||le.isRate?ne:o==="per1s"?ne/j(J):ne*60/j(J);K[le.id]=z,L[le.id]=k(z,le)}),{row:J,values:L,numericValues:K}}).sort((J,L)=>{const K=J.numericValues[O]??0,le=L.numericValues[O]??0;return(C.dir==="desc"?le-K:K-le)||String(J.row.account||"").localeCompare(String(L.row.account||""))});return u.jsx(fs,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:O,sortDirection:C.dir,onSortColumn:J=>{N(L=>({columnId:J,dir:L.columnId===J&&L.dir==="desc"?"asc":"desc"}))},columns:W.map(J=>({id:J.id,label:J.label,align:"right",minWidth:90})),rows:re.map((J,L)=>({id:`${J.row.account}-${L}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:L+1}),d(J.row.profession,J.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.row.account})]}),values:J.values}))})})()})]}):u.jsx(Eo,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:j=>i(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:M.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):M.map(j=>u.jsx("button",{onClick:()=>s(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===j.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const j=t.find(Q=>Q.id===a)||t[0],U=Q=>Math.max(1,(Q.totalFightMs||0)/1e3),k=Q=>{var B,J,L,K,le;if(j.id==="downContributionPercent"){const ne=((B=Q.offenseTotals)==null?void 0:B.downContribution)||0,z=((J=Q.offenseTotals)==null?void 0:J.damage)||0;return z>0?ne/z*100:0}if(j.isRate){const ne=((L=Q.offenseRateWeights)==null?void 0:L[j.id])||0,z=((K=Q.offenseTotals)==null?void 0:K[j.id])||0;return ne>0?z/ne*100:0}return((le=Q.offenseTotals)==null?void 0:le[j.id])||0},O=Q=>{const B=n&&!j.isPercent&&o==="total"?0:2,J=c(Q,B);return j.isPercent?`${J}%`:J},re=[...e.offensePlayers].map(Q=>({...Q,total:k(Q),per1s:j.isPercent||j.isRate?k(Q):k(Q)/U(Q),per60s:j.isPercent||j.isRate?k(Q):k(Q)*60/U(Q)})).sort((Q,B)=>{const J=w.key==="fightTime"?Number(Q.totalFightMs||0):Number(o==="total"?Q.total:o==="per1s"?Q.per1s:Q.per60s),L=w.key==="fightTime"?Number(B.totalFightMs||0):Number(o==="total"?B.total:o==="per1s"?B.per1s:B.per60s);return(w.dir==="desc"?L-J:J-L)||Q.account.localeCompare(B.account)});return u.jsx(Do,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>oe("value"),className:`text-right transition-colors ${w.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>oe("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:re.map((Q,B)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:B+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(Q.profession,Q.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Q.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const J=o==="total"?Q.total:o==="per1s"?Q.per1s:Q.per60s;return O(J)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:Q.totalFightMs?`${(Q.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${Q.account}-${B}`))})})})()})})]})},hie=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:y,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var T;const C=m==="conditions-outgoing",[N,P]=x.useState([]),[D,_]=x.useState([]),[A,$]=x.useState({columnId:"all",dir:"desc"}),M=j=>{if(!j)return 0;if(s!=="outgoing"){const re=Number(j.applicationsFromUptime);return Number.isFinite(re)&&re>0?re:Number(j.applications||0)}const U=Number(j.applicationsFromUptime);if(Number.isFinite(U)&&U>0)return U;const k=Number(j.applicationsFromBuffsActive);if(Number.isFinite(k)&&k>0)return k;const O=Number(j.applicationsFromBuffs);return Number.isFinite(O)&&O>0?O:Number(j.applications||0)},te=[...e||[]].sort((j,U)=>(U.damage||0)-(j.damage||0)),Y=te.filter(j=>j.name.toLowerCase().includes(n.trim().toLowerCase())),se=Y.map(j=>({id:j.name,label:j.name,icon:j.icon?u.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ee=N.length>0?te.filter(j=>N.includes(j.name)):te,X=Array.from(new Map((t||[]).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:h(j.profession,j.professionList,"w-3 h-3")})),oe=new Set([...N.map(j=>`column:${j}`),...D.map(j=>`player:${j}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":g("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(o0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?y():v("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e&&e.length>0?C?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...te.map(j=>({id:j.name,label:j.name,type:"column"})),...X.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?P(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):_(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:oe,className:"w-full sm:w-64"}),u.jsx(gr,{options:se,selectedIds:N,onToggle:j=>{P(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>P([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:X,selectedIds:D,onToggle:j=>{_(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(Mn,{value:c.key,onChange:j=>d({key:j,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Y.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const j=c.key,U=[{id:"all",label:"All Conditions",icon:null},...ee],k=(t||[]).filter(Q=>D.length===0||D.includes(Q.account)).map(Q=>{const B=Q.conditions||{},J={},L={};return U.forEach(K=>{if(K.id==="all"||K.name==="All Conditions"){const z=Object.values(B).reduce((I,Z)=>{const je=M(Z);return I.applications+=Number(je||0),I.damage+=Number((Z==null?void 0:Z.damage)||0),I},{applications:0,damage:0}),R=j==="applications"?z.applications:z.damage;L.all=R||0,J.all=Math.round(R||0).toLocaleString();return}const le=B[K.name],ne=j==="applications"?M(le):Number((le==null?void 0:le.damage)||0);L[K.name]=Number(ne||0),J[K.name]=Math.round(ne||0).toLocaleString()}),{player:Q,values:J,numericValues:L}}).filter(Q=>Object.values(Q.values).some(B=>B!=="0")),O=["all",...ee.map(Q=>Q.name)].includes(A.columnId)?A.columnId:"all",re=[...k].sort((Q,B)=>{const J=Q.numericValues[O]??0,L=B.numericValues[O]??0;return(A.dir==="desc"?L-J:J-L)||String(Q.player.account||"").localeCompare(String(B.player.account||""))});return u.jsx(fs,{title:"Conditions - Dense View",subtitle:j==="applications"?"Applications":"Damage",sortColumnId:O,sortDirection:A.dir,onSortColumn:Q=>{$(B=>({columnId:Q,dir:B.columnId===Q&&B.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...ee.map(Q=>({id:Q.name,label:u.jsx(Pr,{name:Q.name,iconUrl:Q.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:re.map((Q,B)=>({id:`${Q.player.account}-${B}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),h(Q.player.profession,Q.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Q.player.account})]}),values:Q.values}))})})()}),(N.length>0||D.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),N.map(j=>u.jsxs("button",{type:"button",onClick:()=>P(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j)),D.map(j=>u.jsxs("button",{type:"button",onClick:()=>_(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}):u.jsx(Eo,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:Y.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),Y.map(j=>u.jsx("button",{type:"button",onClick:()=>a(j.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})},j.name))]})})]}),content:u.jsx(Do,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":u.jsx(Pr,{name:i,iconUrl:(T=e.find(j=>j.name===i))==null?void 0:T.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(Mn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const U=(t||[]).map(k=>{const O=k.conditions||{};if(i==="all"){const Q=Object.values(O).reduce((B,J)=>{const L=M(J);return B.applications+=Number(L||0),B.damage+=Number((J==null?void 0:J.damage)||0),B},{applications:0,damage:0});return{...k,applications:Q.applications,damage:Q.damage}}const re=O[i];return{...k,applications:M(re),damage:Number((re==null?void 0:re.damage)||0)}}).filter(k=>k.applications>0||k.damage>0).sort((k,O)=>{const re=c.key==="applications"?k.applications||0:k.damage||0,Q=c.key==="applications"?O.applications||0:O.damage||0,B=c.dir==="desc"?Q-re:re-Q;if(B!==0)return B;const J=c.key==="applications"?(O.damage||0)-(k.damage||0):(O.applications||0)-(k.applications||0);return J!==0?J:String(k.account||"").localeCompare(String(O.account||""))});return U.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):U.map((k,O)=>{var z;const re=k.conditions||{};let Q={};i==="all"?Object.values(re).forEach(R=>{const I=(R==null?void 0:R.skills)||{};Object.values(I).forEach(Z=>{const je=(Z==null?void 0:Z.name)||"Unknown",$e=Number((Z==null?void 0:Z.hits)||0),ie=Number((Z==null?void 0:Z.damage)||0);if((!Number.isFinite($e)||$e<=0)&&(!Number.isFinite(ie)||ie<=0))return;const Be=Q[je]||{name:je,hits:0,damage:0,icon:Z==null?void 0:Z.icon};Be.hits+=Number.isFinite($e)?$e:0,Be.damage+=Number.isFinite(ie)?ie:0,!Be.icon&&(Z!=null&&Z.icon)&&(Be.icon=Z.icon),Q[je]=Be})}):Q=((z=re[i])==null?void 0:z.skills)||{};const B=Object.values(Q).filter(R=>Number.isFinite(R.hits)&&R.hits>0).sort((R,I)=>I.hits-R.hits||R.name.localeCompare(I.name)),J=Object.values(Q).filter(R=>Number.isFinite(R.damage)&&R.damage>0).sort((R,I)=>I.damage-R.damage||R.name.localeCompare(I.name)),L=i==="all"&&B.length>0,K=i==="all"&&J.length>0,le=Math.round(k.applications||0).toLocaleString(),ne=Math.round(k.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L?u.jsx(zA,{value:le,label:"Condition Sources",items:B.map(R=>({name:R.name,iconUrl:R.icon,value:Math.round(R.hits).toLocaleString()})),className:"justify-end"}):le}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:K?u.jsx(zA,{value:ne,label:"Condition Damage Sources",items:J.map(R=>({name:R.name,iconUrl:R.icon,value:Math.round(R.damage).toLocaleString()})),className:"justify-end"}):ne}):null]},`${k.account}-${O}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},pie=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:v,expandedSectionClosing:y,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:N})=>{const[P,D]=x.useState({key:"value",dir:"desc"}),[_,A]=x.useState({columnId:"",dir:"desc"}),$=v==="boon-output",[M,te]=x.useState([]),[Y,se]=x.useState([]),W=e.boonTables||[],X=M.length>0?W.filter(k=>M.includes(k.id)):W,oe=l.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),T=Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:m(k.profession,k.professionList,"w-3 h-3")})),j=new Set([...M.map(k=>`column:${k}`),...Y.map(k=>`player:${k}`)]),U=k=>{D(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${v==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${y?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>v==="boon-output"?b():g("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":v==="boon-output"?"Close Boon Output":"Expand Boon Output",title:v==="boon-output"?"Close":"Expand",children:v==="boon-output"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):$?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...W.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:m(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?te(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id]):se(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id])},selectedIds:j,className:"w-full sm:w-64"}),u.jsx(gr,{options:oe,selectedIds:M,onToggle:k=>{te(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>te([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:T,selectedIds:Y,onToggle:k=>{se(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>se([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||Y.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{te([]),se([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>{var re;const O=((re=W.find(Q=>Q.id===k))==null?void 0:re.name)||k;return u.jsxs("button",{type:"button",onClick:()=>te(Q=>Q.filter(B=>B!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:O}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),Y.map(k=>u.jsxs("button",{type:"button",onClick:()=>se(O=>O.filter(re=>re!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:W.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var J,L;const k=X,O=((J=k.find(K=>K.id===_.columnId))==null?void 0:J.id)||(a&&k.some(K=>K.id===a)?a:void 0)||((L=k[0])==null?void 0:L.id)||"",re=new Map,Q=new Map;k.forEach(K=>{const le=new Map;K.rows.forEach(ne=>{const z=ne.account||ne.name||ne.id;z&&(le.set(z,ne),Q.has(z)||Q.set(z,ne))}),re.set(K.id,le)});const B=Array.from(Q.entries()).filter(([K])=>Y.length===0||Y.includes(String(K))).map(([K,le])=>{const ne={};return k.forEach(z=>{var I;const R=(I=re.get(z.id))==null?void 0:I.get(K);ne[z.id]=R?f(R,t,z.stacking,r,{roundCountStats:p}):"-"}),{key:K,row:le,values:ne}}).sort((K,le)=>{var $e,ie;if(!O)return String(K.key).localeCompare(String(le.key));const ne=k.find(Be=>Be.id===O),z=ne?($e=re.get(ne.id))==null?void 0:$e.get(K.key):null,R=ne?(ie=re.get(ne.id))==null?void 0:ie.get(le.key):null,I=z?h(z,t,ne==null?void 0:ne.stacking,r):0,Z=R?h(R,t,ne==null?void 0:ne.stacking,r):0;return(_.dir==="desc"?Z-I:I-Z)||String(K.key).localeCompare(String(le.key))});return u.jsx(fs,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:O,sortDirection:_.dir,onSortColumn:K=>{A(le=>({columnId:K,dir:le.columnId===K&&le.dir==="desc"?"asc":"desc"}))},columns:k.map(K=>({id:K.id,label:u.jsx(Pr,{name:K.name,iconUrl:K.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:B.map((K,le)=>({id:`${K.key}-${le}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:le+1}),m(K.row.profession,K.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:K.row.account||K.row.name||K.key})]}),values:K.values}))})})()})]}):u.jsx(Eo,{expanded:v==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${v==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${v==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:k=>d(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${v==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(k=>u.jsx("button",{onClick:()=>s(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:k.name,iconUrl:k.icon,iconClassName:"h-3.5 w-3.5"})},k.id))})]}),content:o?u.jsx(Do,{expanded:v==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Pr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Mn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>U("value"),className:`text-right transition-colors ${P.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",P.key==="value"?P.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>U("fightTime"),className:`text-right transition-colors ${P.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P.key==="fightTime"?P.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...o.rows].sort((k,O)=>(()=>{const re=P.key==="fightTime"?Number(k.activeTimeMs||0):h(k,t,o.stacking,r),Q=P.key==="fightTime"?Number(O.activeTimeMs||0):h(O,t,o.stacking,r);return(P.dir==="desc"?Q-re:re-Q)||String(k.account||"").localeCompare(String(O.account||""))})()).map((k,O)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(k,t,o.stacking,r,{roundCountStats:p})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeTimeMs?`${(k.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${O}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},gie=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:y,sectionClass:g,sidebarListClass:b})=>{var T;const[w,S]=x.useState({key:"value",dir:"desc"}),[C,N]=x.useState({columnId:((T=t[0])==null?void 0:T.id)||"value",dir:"desc"}),P=f==="defense-detailed",[D,_]=x.useState([]),[A,$]=x.useState([]),M=t.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),te=t.map(j=>({id:j.id,label:j.label})),Y=te.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),W=D.length>0?t.filter(j=>D.includes(j.id)):t,ee=Array.from(new Map(e.defensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:d(j.profession,j.professionList,"w-3 h-3")})),X=new Set([...D.map(j=>`column:${j}`),...A.map(j=>`player:${j}`)]),oe=j=>{S(U=>({key:j,dir:U.key===j&&U.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"defense-detailed","data-section-visible":v("defense-detailed"),"data-section-first":y("defense-detailed"),className:g("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Mu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...te.map(j=>({...j,type:"column"})),...ee.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?_(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):$(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:X,className:"w-full sm:w-64"}),u.jsx(gr,{options:Y,selectedIds:D,onToggle:j=>{_(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>_([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:ee,selectedIds:A,onToggle:j=>{$(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||A.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(j=>{var k;const U=((k=te.find(O=>O.id===j))==null?void 0:k.label)||j;return u.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(re=>re!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),A.map(j=>u.jsxs("button",{type:"button",onClick:()=>$(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:M.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var re,Q;const j=B=>Math.max(1,(B.activeMs||0)/1e3),U=(B,J)=>{const L=J.isPercent,le=c(B,l&&!L&&s==="total"?0:2);return L?`${le}%`:le},k=((re=W.find(B=>B.id===C.columnId))==null?void 0:re.id)||((Q=W[0])==null?void 0:Q.id)||"",O=[...e.defensePlayers].filter(B=>A.length===0||A.includes(B.account)).map(B=>{const J={},L={};return W.forEach(K=>{var R;const le=((R=B.defenseTotals)==null?void 0:R[K.id])||0,ne=K.isPercent,z=s==="total"||ne?le:s==="per1s"?le/j(B):le*60/j(B);L[K.id]=z,J[K.id]=U(z,K)}),{row:B,values:J,numericValues:L}}).sort((B,J)=>{const L=B.numericValues[k]??0,K=J.numericValues[k]??0;return(C.dir==="desc"?K-L:L-K)||String(B.row.account||"").localeCompare(String(J.row.account||""))});return u.jsx(fs,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:k,sortDirection:C.dir,onSortColumn:B=>{N(J=>({columnId:B,dir:J.columnId===B&&J.dir==="desc"?"asc":"desc"}))},columns:W.map(B=>({id:B.id,label:B.label,align:"right",minWidth:90})),rows:O.map((B,J)=>({id:`${B.row.account}-${J}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:J+1}),d(B.row.profession,B.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.row.account})]}),values:B.values}))})})()})]}):u.jsx(Eo,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:M.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):M.map(j=>u.jsx("button",{onClick:()=>a(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const j=t.find(O=>O.id===i)||t[0],U=O=>Math.max(1,(O.activeMs||0)/1e3),k=[...e.defensePlayers].map(O=>{var re,Q,B;return{...O,total:((re=O.defenseTotals)==null?void 0:re[j.id])||0,per1s:(((Q=O.defenseTotals)==null?void 0:Q[j.id])||0)/U(O),per60s:(((B=O.defenseTotals)==null?void 0:B[j.id])||0)*60/U(O)}}).sort((O,re)=>{const Q=w.key==="fightTime"?Number(O.activeMs||0):Number(s==="total"?O.total:s==="per1s"?O.per1s:O.per60s),B=w.key==="fightTime"?Number(re.activeMs||0):Number(s==="total"?re.total:s==="per1s"?re.per1s:re.per60s);return(w.dir==="desc"?B-Q:Q-B)||O.account.localeCompare(re.account)});return u.jsx(Do,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>oe("value"),className:`text-right transition-colors ${w.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>oe("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:k.map((O,re)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:re+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(O.profession,O.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:O.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Q=s==="total"?O.total:s==="per1s"?O.per1s:O.per60s;return c(Q,l&&s==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:O.activeMs?`${(O.activeMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${O.account}-${re}`))})})})()})})]})},vie=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:y,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var le,ne;const C=((le=t.find(z=>z.id==="totalMitigation"))==null?void 0:le.id)||((ne=t[0])==null?void 0:ne.id)||"totalMitigation",[N,P]=x.useState({key:"value",dir:"desc"}),[D,_]=x.useState({columnId:C,dir:"desc"}),A=m==="defense-mitigation",[$,M]=x.useState([]),[te,Y]=x.useState([]),[se,W]=x.useState([]),ee=e.damageMitigationPlayers||[],X=e.damageMitigationMinions||[],oe=l==="minions"?X:ee,T=ee.length>0||X.length>0,j=t.filter(z=>z.label.toLowerCase().includes(n.trim().toLowerCase())),U=t.map(z=>({id:z.id,label:z.label})),k=U.filter(z=>z.label.toLowerCase().includes(n.trim().toLowerCase())),re=$.length>0?t.filter(z=>$.includes(z.id)):t,Q=Array.from(new Map(oe.map(z=>[z.account,z])).values()).map(z=>({id:z.account,label:z.account,icon:h(z.profession,z.professionList,"w-3 h-3")})),B=Array.from(new Map(X.map(z=>[z.minion,z])).values()).filter(z=>z==null?void 0:z.minion).map(z=>({id:String(z.minion),label:String(z.minion)})),J=new Set([...$.map(z=>`column:${z}`),...te.map(z=>`player:${z}`)]),L=z=>{P(R=>({key:z,dir:R.key===z&&R.dir==="desc"?"asc":"desc"}))},K=z=>f(z,d&&s==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":g("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(C1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?y():v("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),T?A?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...U.map(z=>({...z,type:"column"})),...Q.map(z=>({...z,type:"player"}))],onSelect:z=>{z.type==="column"?M(R=>R.includes(z.id)?R.filter(I=>I!==z.id):[...R,z.id]):Y(R=>R.includes(z.id)?R.filter(I=>I!==z.id):[...R,z.id])},selectedIds:J,className:"w-full sm:w-64"}),u.jsx(gr,{options:k,selectedIds:$,onToggle:z=>{M(R=>R.includes(z)?R.filter(I=>I!==z):[...R,z])},onClear:()=>M([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:Q,selectedIds:te,onToggle:z=>{Y(R=>R.includes(z)?R.filter(I=>I!==z):[...R,z])},onClear:()=>Y([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(gr,{options:B,selectedIds:se,onToggle:z=>{W(R=>R.includes(z)?R.filter(I=>I!==z):[...R,z])},onClear:()=>W([]),buttonLabel:"Minions"}),u.jsx(Mn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),($.length>0||te.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),Y([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(z=>{var I;const R=((I=U.find(Z=>Z.id===z))==null?void 0:I.label)||z;return u.jsxs("button",{type:"button",onClick:()=>M(Z=>Z.filter(je=>je!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},z)}),te.map(z=>u.jsxs("button",{type:"button",onClick:()=>Y(R=>R.filter(I=>I!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},z))]}),l==="minions"&&se.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>W([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),se.map(z=>u.jsxs("button",{type:"button",onClick:()=>W(R=>R.filter(I=>I!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},z))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:oe.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):j.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var Z,je;const z=$e=>Math.max(1,($e.activeMs||0)/1e3),R=((Z=re.find($e=>$e.id===D.columnId))==null?void 0:Z.id)||((je=re[0])==null?void 0:je.id)||"",I=[...oe].filter($e=>te.length===0||te.includes($e.account)).filter($e=>l!=="minions"||!se.length?!0:se.includes(String($e.minion||""))).map($e=>{const ie={},Be={};return re.forEach(De=>{var Pn;const vt=((Pn=$e.mitigationTotals)==null?void 0:Pn[De.id])||0,sn=s==="total"?vt:s==="per1s"?vt/z($e):vt*60/z($e);Be[De.id]=sn,ie[De.id]=K(sn)}),{row:$e,values:ie,numericValues:Be}}).sort(($e,ie)=>{const Be=$e.numericValues[R]??0,De=ie.numericValues[R]??0;return(D.dir==="desc"?De-Be:Be-De)||String($e.row.account||"").localeCompare(String(ie.row.account||""))});return u.jsx(fs,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:R,sortDirection:D.dir,onSortColumn:$e=>{_(ie=>({columnId:$e,dir:ie.columnId===$e&&ie.dir==="desc"?"asc":"desc"}))},columns:re.map($e=>({id:$e.id,label:$e.label,align:"right",minWidth:90})),rows:I.map(($e,ie)=>({id:`${$e.row.account}-${$e.row.minion||"player"}-${ie}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ie+1}),h($e.row.profession,$e.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:$e.row.account}),$e.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:$e.row.minion})]})]}),values:$e.values}))})})()})]}):u.jsx(Eo,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:z=>r(z.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:j.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):j.map(z=>u.jsx("button",{onClick:()=>a(z.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===z.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:z.label},z.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const z=t.find(Z=>Z.id===i)||t[0],R=Z=>Math.max(1,(Z.activeMs||0)/1e3),I=[...oe].map(Z=>{var je,$e,ie;return{...Z,total:((je=Z.mitigationTotals)==null?void 0:je[z.id])||0,per1s:((($e=Z.mitigationTotals)==null?void 0:$e[z.id])||0)/R(Z),per60s:(((ie=Z.mitigationTotals)==null?void 0:ie[z.id])||0)*60/R(Z)}}).filter(Z=>l!=="minions"||!se.length?!0:se.includes(String(Z.minion||""))).sort((Z,je)=>{const $e=N.key==="fightTime"?Number(Z.activeMs||0):Number(s==="total"?Z.total:s==="per1s"?Z.per1s:Z.per60s),ie=N.key==="fightTime"?Number(je.activeMs||0):Number(s==="total"?je.total:s==="per1s"?je.per1s:je.per60s);return(N.dir==="desc"?ie-$e:$e-ie)||Z.account.localeCompare(je.account)});return u.jsx(Do,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:z.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Mn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(Mn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>L("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>L("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:I.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:I.map((Z,je)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:je+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(Z.profession,Z.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:Z.account}),Z.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Z.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const $e=s==="total"?Z.total:s==="per1s"?Z.per1s:Z.per60s;return K($e)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:Z.activeMs?`${(Z.activeMs/1e3).toFixed(1)}s`:"-"})]},`${z.id}-${Z.account}-${Z.minion||"player"}-${je}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},xie=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:y,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var U;const[C,N]=x.useState({key:"value",dir:"desc"}),[P,D]=x.useState({columnId:((U=t[0])==null?void 0:U.id)||"value",dir:"desc"}),_=m==="support-detailed",[A,$]=x.useState([]),[M,te]=x.useState([]),Y=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),se=t.map(k=>({id:k.id,label:k.label})),W=se.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),X=A.length>0?t.filter(k=>A.includes(k.id)):t,oe=Array.from(new Map(e.supportPlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:h(k.profession,k.professionList,"w-3 h-3")})),T=new Set([...A.map(k=>`column:${k}`),...M.map(k=>`player:${k}`)]),j=k=>{N(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":g("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(k1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?y():v("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):_?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...se.map(k=>({...k,type:"column"})),...oe.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?$(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id]):te(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id])},selectedIds:T,className:"w-full sm:w-64"}),u.jsx(gr,{options:W,selectedIds:A,onToggle:k=>{$(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>$([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:oe,selectedIds:M,onToggle:k=>{te(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>te([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&u.jsx(Mn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(A.length>0||M.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{$([]),te([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(k=>{var re;const O=((re=se.find(Q=>Q.id===k))==null?void 0:re.label)||k;return u.jsxs("button",{type:"button",onClick:()=>$(Q=>Q.filter(B=>B!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:O}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),M.map(k=>u.jsxs("button",{type:"button",onClick:()=>te(O=>O.filter(re=>re!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Y.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var J,L;const k=(K,le)=>{var ne,z,R;if(le==="condiCleanse"){const I=((ne=K.supportTotals)==null?void 0:ne.condiCleanse)||0,Z=((z=K.supportTotals)==null?void 0:z.condiCleanseSelf)||0;return l==="all"?I+Z:I}return((R=K.supportTotals)==null?void 0:R[le])||0},O=K=>Math.max(1,(K.activeMs||0)/1e3),re=(K,le)=>{const ne=K.isTime?1:d&&s==="total"?0:2;return f(le,ne)},Q=((J=X.find(K=>K.id===P.columnId))==null?void 0:J.id)||((L=X[0])==null?void 0:L.id)||"",B=[...e.supportPlayers].filter(K=>M.length===0||M.includes(K.account)).map(K=>{const le={},ne={};return X.forEach(z=>{const R=k(K,z.id),I=s==="total"?R:s==="per1s"?R/O(K):R*60/O(K);ne[z.id]=I,le[z.id]=re(z,I)}),{row:K,values:le,numericValues:ne}}).sort((K,le)=>{const ne=K.numericValues[Q]??0,z=le.numericValues[Q]??0;return(P.dir==="desc"?z-ne:ne-z)||String(K.row.account||"").localeCompare(String(le.row.account||""))});return u.jsx(fs,{title:"Support - Dense View",subtitle:"Support",sortColumnId:Q,sortDirection:P.dir,onSortColumn:K=>{D(le=>({columnId:K,dir:le.columnId===K&&le.dir==="desc"?"asc":"desc"}))},columns:X.map(K=>({id:K.id,label:K.label,align:"right",minWidth:90})),rows:B.map((K,le)=>({id:`${K.row.account}-${le}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:le+1}),h(K.row.profession,K.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:K.row.account})]}),values:K.values}))})})()})]}):u.jsx(Eo,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:Y.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):Y.map(k=>u.jsx("button",{onClick:()=>a(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(B=>B.id===i)||t[0],O=B=>{var J,L,K;if(k.id==="condiCleanse"){const le=((J=B.supportTotals)==null?void 0:J.condiCleanse)||0,ne=((L=B.supportTotals)==null?void 0:L.condiCleanseSelf)||0;return l==="all"?le+ne:le}return((K=B.supportTotals)==null?void 0:K[k.id])||0},re=B=>Math.max(1,(B.activeMs||0)/1e3),Q=[...e.supportPlayers].map(B=>({...B,total:O(B),per1s:O(B)/re(B),per60s:O(B)*60/re(B)})).sort((B,J)=>{const L=C.key==="fightTime"?Number(B.activeMs||0):Number(s==="total"?B.total:s==="per1s"?B.per1s:B.per60s),K=C.key==="fightTime"?Number(J.activeMs||0):Number(s==="total"?J.total:s==="per1s"?J.per1s:J.per60s);return(C.dir==="desc"?K-L:L-K)||B.account.localeCompare(J.account)});return u.jsx(Do,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[k.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Mn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>j("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>j("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:Q.map((B,J)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:J+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(B.profession,B.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const L=s==="total"?B.total:s==="per1s"?B.per1s:B.per60s,K=k.isTime?1:d&&s==="total"?0:2;return f(L,K)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:B.activeMs?`${(B.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${B.account}-${J}`))})})})()})})]})},yie=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:y,sectionClass:g})=>{var W;const[b,w]=x.useState({key:"value",dir:"desc"}),[S,C]=x.useState({columnId:((W=t[0])==null?void 0:W.id)||"value",dir:"desc"}),N=f==="healing-stats",[P,D]=x.useState([]),[_,A]=x.useState([]),$=Array.from(new Map(e.healingPlayers.map(ee=>[ee.account,ee])).values()).map(ee=>({id:ee.account,label:ee.account,icon:d(ee.profession,ee.professionList,"w-3 h-3")})),M=new Set([..._.map(ee=>`column:${ee}`),...P.map(ee=>`player:${ee}`)]),te=t.map(ee=>({id:ee.id,label:ee.label})),Y=_.length>0?t.filter(ee=>_.includes(ee.id)):t,se=ee=>{w(X=>({key:ee,dir:X.key===ee&&X.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":v("healing-stats"),"data-section-first":y("healing-stats"),className:g("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(cO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...te.map(ee=>({...ee,type:"column"})),...$.map(ee=>({...ee,type:"player"}))],onSelect:ee=>{ee.type==="column"?A(X=>X.includes(ee.id)?X.filter(oe=>oe!==ee.id):[...X,ee.id]):D(X=>X.includes(ee.id)?X.filter(oe=>oe!==ee.id):[...X,ee.id])},selectedIds:M,className:"w-full sm:w-64"}),u.jsx(Mn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(gr,{options:te,selectedIds:_,onToggle:ee=>{A(X=>X.includes(ee)?X.filter(oe=>oe!==ee):[...X,ee])},onClear:()=>A([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(ee=>({value:ee.id,label:ee.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(gr,{options:$,selectedIds:P,onToggle:ee=>{D(X=>X.includes(ee)?X.filter(oe=>oe!==ee):[...X,ee])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})})]}),(_.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(ee=>{var oe;const X=((oe=te.find(T=>T.id===ee))==null?void 0:oe.label)||ee;return u.jsxs("button",{type:"button",onClick:()=>A(T=>T.filter(j=>j!==ee)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:X}),u.jsx("span",{className:"text-gray-400",children:""})]},ee)}),P.map(ee=>u.jsxs("button",{type:"button",onClick:()=>D(X=>X.filter(oe=>oe!==ee)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ee}),u.jsx("span",{className:"text-gray-400",children:""})]},ee))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var j,U;const ee=k=>Math.max(1,(k.activeMs||0)/1e3),X=k=>{const O=k.baseField==="resUtility",re=O||i==="total"?"":i==="offSquad"?"offSquad":i;return O?s==="all"?"resUtility":`resUtility_${s}`:re?`${re}${k.baseField[0].toUpperCase()}${k.baseField.slice(1)}`:k.baseField},oe=[...e.healingPlayers].filter(k=>P.length===0||P.includes(k.account)).filter(k=>Object.values(k.healingTotals||{}).some(O=>Number(O)>0)).map(k=>{const O={},re={};return Y.forEach(Q=>{var K;const B=X(Q),J=Number(((K=k.healingTotals)==null?void 0:K[B])??0),L=Q.perSecond?J/ee(k):J;re[Q.id]=L,O[Q.id]=c(L,Q.decimals)}),{row:k,values:O,numericValues:re}}).sort((k,O)=>{var L,K;const re=((L=Y.find(le=>le.id===S.columnId))==null?void 0:L.id)||((K=Y[0])==null?void 0:K.id)||"",Q=k.numericValues[re]??0,B=O.numericValues[re]??0;return(S.dir==="desc"?B-Q:Q-B)||String(k.row.account||"").localeCompare(String(O.row.account||""))}),T=((j=Y.find(k=>k.id===S.columnId))==null?void 0:j.id)||((U=Y[0])==null?void 0:U.id)||"";return u.jsx(fs,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:T,sortDirection:S.dir,onSortColumn:k=>{C(O=>({columnId:k,dir:O.columnId===k&&O.dir==="desc"?"asc":"desc"}))},columns:Y.map(k=>({id:k.id,label:k.label,align:"right",minWidth:90})),rows:oe.map((k,O)=>({id:`${k.row.account}-${O}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:O+1}),d(k.row.profession,k.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.row.account})]}),values:k.values}))})})()})]}):u.jsx(Eo,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(ee=>u.jsx("button",{onClick:()=>r(ee.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===ee.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:ee.label},ee.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const ee=t.find(k=>k.id===n)||t[0],X=ee.baseField==="resUtility",oe=k=>Math.max(1,(k.activeMs||0)/1e3),T=X||i==="total"?"":i==="offSquad"?"offSquad":i,j=X?s==="all"?"resUtility":`resUtility_${s}`:T?`${T}${ee.baseField[0].toUpperCase()}${ee.baseField.slice(1)}`:ee.baseField,U=[...e.healingPlayers].filter(k=>Object.values(k.healingTotals||{}).some(O=>Number(O)>0)).map(k=>{var Q;const O=Number(((Q=k.healingTotals)==null?void 0:Q[j])??0),re=ee.perSecond?O/oe(k):O;return{...k,value:re}}).sort((k,O)=>{const re=b.key==="fightTime"?Number(k.activeMs||0):Number(k.value||0),Q=b.key==="fightTime"?Number(O.activeMs||0):Number(O.value||0);return(b.dir==="desc"?Q-re:re-Q)||k.account.localeCompare(O.account)});return u.jsx(Do,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:ee.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[X&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(Mn,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(k=>({value:k.id,label:k.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!X&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>se("value"),className:`text-right transition-colors ${b.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[ee.label,b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>se("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:U.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):U.map((k,O)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(k.value,ee.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeMs?`${(k.activeMs/1e3).toFixed(1)}s`:"-"})]},`${ee.id}-${k.account}-${O}`))})})})()})})]})},bie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",wie=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:v,sidebarListClass:y})=>{const[g,b]=x.useState("total"),[w,S]=x.useState("desc"),[C,N]=x.useState({columnId:"",dir:"desc"}),P=c==="special-buffs",[D,_]=x.useState([]),[A,$]=x.useState([]),M=e.specialTables||[],Y=D.length>0?M.filter(j=>D.includes(j.id)):M,se=r.map(j=>({id:j.id,label:j.name,icon:j.icon?u.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),W=Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:l(j.profession,j.professionList,"w-3 h-3")})),ee=new Set([...D.map(j=>`column:${j}`),...A.map(j=>`player:${j}`)]),X=x.useMemo(()=>{if(!(s!=null&&s.rows))return[];const j=[...s.rows];return j.sort((U,k)=>{const O=Number((U==null?void 0:U[g])??0),re=Number((k==null?void 0:k[g])??0),Q=w==="desc"?re-O:O-re;return Q!==0?Q:String((U==null?void 0:U.account)||"").localeCompare(String((k==null?void 0:k.account)||""))}),j},[s,g,w]),oe=j=>{if(g===j){S(U=>U==="desc"?"asc":"desc");return}b(j),S("desc")},T=j=>g!==j?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:v("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(l0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ms,{options:[...M.map(j=>({id:j.id,label:j.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,type:"player",icon:l(j.profession,j.professionList,"w-3 h-3")}))],onSelect:j=>{j.type==="column"?_(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):$(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:ee,className:"w-full sm:w-64"}),u.jsx(gr,{options:se,selectedIds:D,onToggle:j=>{_(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>_([]),buttonIcon:u.jsx(us,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:W,selectedIds:A,onToggle:j=>{$(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:g,onChange:j=>b(j),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||A.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(j=>{var k;const U=((k=M.find(O=>O.id===j))==null?void 0:k.name)||j;return u.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(re=>re!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),A.map(j=>u.jsxs("button",{type:"button",onClick:()=>$(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:M.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var B,J;const j=Y,U=new Map,k=new Map;j.forEach(L=>{const K=new Map;L.rows.forEach(le=>{const ne=le.account||le.name||le.id;ne&&(K.set(ne,le),k.has(ne)||k.set(ne,le))}),U.set(L.id,K)});const O=Array.from(k.entries()).filter(([L])=>A.length===0||A.includes(String(L))).map(([L,K])=>{const le={},ne={};return j.forEach(z=>{var je;const R=(je=U.get(z.id))==null?void 0:je.get(L);if(!R){le[z.id]="-",ne[z.id]=0;return}if(g==="duration"){le[z.id]=R.duration?`${R.duration.toFixed(1)}s`:"-",ne[z.id]=Number(R.duration||0);return}const I=g==="total"?R.total:R.perSecond,Z=g==="total"?0:1;ne[z.id]=Number(I||0),le[z.id]=o(I||0,Z)}),{key:L,row:K,values:le,numericValues:ne}}),re=((B=j.find(L=>L.id===C.columnId))==null?void 0:B.id)||(i&&j.some(L=>L.id===i)?i:void 0)||((J=j[0])==null?void 0:J.id)||"",Q=[...O].sort((L,K)=>{if(!re)return String(L.key).localeCompare(String(K.key));const le=L.numericValues[re]??0,ne=K.numericValues[re]??0;return(C.dir==="desc"?ne-le:le-ne)||String(L.key).localeCompare(String(K.key))});return u.jsx(fs,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:re,sortDirection:C.dir,onSortColumn:L=>{N(K=>({columnId:L,dir:K.columnId===L&&K.dir==="desc"?"asc":"desc"}))},columns:j.map(L=>({id:L.id,label:u.jsx(Pr,{name:L.name,iconUrl:L.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Q.map((L,K)=>({id:`${L.key}-${K}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:K+1}),l(L.row.profession,L.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:L.row.account||L.row.name||L.key})]}),values:L.values}))})})()})]}):u.jsx(Eo,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(j=>u.jsx("button",{onClick:()=>a(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:bie(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(Do,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Pr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>oe("total"),className:`text-right transition-colors ${g==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",T("total")]}),u.jsxs("button",{type:"button",onClick:()=>oe("perSecond"),className:`text-right transition-colors ${g==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",T("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>oe("duration"),className:`text-right transition-colors ${g==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",T("duration")]})]}),rows:u.jsx(u.Fragment,{children:X.map((j,U)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(j.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:o(j.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:j.duration?`${j.duration.toFixed(1)}s`:"-"})]},`${s.id}-${j.account}-${U}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},kie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Sie=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:v,sidebarListClass:y})=>{const[g,b]=x.useState("desc"),w=c==="sigil-relic-uptime",S=x.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((N,P)=>{const D=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),_=Number((P==null?void 0:P.uptimePerSecond)??(P==null?void 0:P.perSecond)??0),A=g==="desc"?_-D:D-_;return A!==0?A:String((N==null?void 0:N.account)||"").localeCompare(String((P==null?void 0:P.account)||""))}),C},[s,g]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:v("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(j1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e?u.jsx(Eo,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:kie(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(Do,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Pr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",g==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,N)=>{const P=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(P,1),"%"]})]},`${s.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Nie=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),Cie=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=x.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),v=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(v)||v<=0||c.set(p,(c.get(p)||0)+v)})}),Array.from(c.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const v=Number(d);if(Number.isFinite(v)&&v>0)f=v>1e12?v:v*1e3;else{const y=Date.parse(d);Number.isFinite(y)&&y>0&&(f=y)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(Mn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ax,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ax,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ax,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},UA={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},jie=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:c})=>{const d=UA[r]||UA.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Pie=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},VA=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Aie=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(rc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(d6,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(l0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Op,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:VA(m.val,s)})]},p))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,v,y,g,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((v=m.data)==null?void 0:v.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((y=m.data)==null?void 0:y.profession)||"Unknown"})]})]}),(b=(g=m.data)==null?void 0:g.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:VA(w.val,s)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,v=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,y=m?"":"Total ",g=m?" /s":"",b=[{icon:p6,title:`Down Contribution${g}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Mu,title:`${y}Barrier${g}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:cO,title:`${y}Healing${g}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:S6,title:`${y}Dodges${g}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Sf,title:`${y}Strips${g}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:m6,title:`${y}Cleanses${g}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:h6,title:`${y}CC${g}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:mO,title:`${y}Stab Gen${g}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:u6,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?s(S):o(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var _,A,$,M;const C=i==="all",N=Pie((v==null?void 0:v[S.statKey])||[],S.higherIsBetter),P=N[0],D=P?{...S.data,value:Number(P.value||0),player:P.account||((_=S.data)==null?void 0:_.player)||"-",count:P.count||((A=S.data)==null?void 0:A.count)||0,profession:P.profession||(($=S.data)==null?void 0:$.profession)||"Unknown",professionList:P.professionList||((M=S.data)==null?void 0:M.professionList)||[]}:S.data;return u.jsx(jie,{...S,data:D,active:C,onClick:()=>a(te=>te==="all"?null:"all"),rows:N,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,Tie=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution",o=s?"Down Contrib":"Damage",l=s?"downContribution":"damage",c=[...e.topSkills||[]].sort((h,m)=>{const p=Number((h==null?void 0:h[l])||0);return Number((m==null?void 0:m[l])||0)-p||Number((m==null?void 0:m.hits)||0)-Number((h==null?void 0:h.hits)||0)||String((h==null?void 0:h.name)||"").localeCompare(String((m==null?void 0:m.name)||""))}),d=Math.max(1,...c.map(h=>Number((h==null?void 0:h[l])||0))),f=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(x1,{className:"w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:o})]}),f&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(h=>{const m=(t||e.topSkillsMetric)===h.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(h.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${m?"bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:h.label},h.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[c.map((h,m)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",m+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Pr,{name:h.name,iconUrl:h.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-orange-400 font-mono font-bold",children:Math.round(h[l]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",h.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${Number(h[l]||0)/d*100}%`}})})]})]},m)),c.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(s6,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[e.topIncomingSkills.map((h,m)=>{var p;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",m+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Pr,{name:h.name,iconUrl:h.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(h.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",h.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${h.damage/(((p=e.topIncomingSkills[0])==null?void 0:p.damage)||1)*100}%`}})})]})]},m)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Eie=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"squad-composition","data-section-visible":r("squad-composition"),"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Dr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Qb,{children:[u.jsx(jg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,o)=>u.jsx(Uu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${o}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})})}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(o0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Qb,{children:[u.jsx(jg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,o)=>u.jsx(Uu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${o}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})})}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]}),Die=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Dr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Dg,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Vf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Wf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c.payload;return l!=null&&l.label?`Log ${l.index}  ${l.label}`:`Log ${s}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(eo,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(eo,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Mie=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(w1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Qb,{children:[u.jsx(jg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>u.jsx(Uu,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(II,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",u.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),WA=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:v,spikeMode:y,setSpikeMode:g,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:P,setSelectedSpikeFightIndex:D,spikeDrilldownTitle:_,spikeDrilldownData:A,spikeDrilldownDownIndices:$,spikeDrilldownDeathIndices:M,spikeFightSkillRows:te=[],spikeFightSkillTitle:Y="Skill Damage (Selected Fight)",formatWithCommas:se,renderProfessionIcon:W})=>{const[ee,X]=x.useState(null),[oe,T]=x.useState(null),j=I=>String(I||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=s===e,k=S?ic(S.profession):"#fda4af",O=y==="hit"?"Highest Damage":y==="1s"?"1s Burst":y==="5s"?"5s Burst":"30s Burst",re=I=>y==="hit"?I.peakHit:y==="1s"?I.peak1s:y==="5s"?I.peak5s:I.peak30s,Q=v.flatMap(I=>I.players.map(Z=>({...Z,groupProfession:I.profession}))).sort((I,Z)=>{const je=re(Z)-re(I);return je!==0?je:I.displayName.localeCompare(Z.displayName)}),B=C.reduce((I,Z)=>!I||Z.damage>I.damage?Z:I,null),J=I=>{if(!Number.isFinite(I)||I<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(I))}catch{return""}},L=A.reduce((I,Z)=>Math.max(I,Number(Z.value||0)),0),K=Math.max(1,L),le=new Set($),ne=new Set(M),z=A.map((I,Z)=>({...I,downMarker:le.has(Z)?Math.max(Number(I.value||0),K*.88):null,deathMarker:ne.has(Z)?Math.max(Number(I.value||0),K*.96):null})),R=I=>Z=>{const je=Number(Z==null?void 0:Z.cx),$e=Number(Z==null?void 0:Z.cy),ie=Number(Z==null?void 0:Z.index);if(!Number.isFinite(je)||!Number.isFinite($e)||!Number.isFinite(ie))return null;const Be=(Z==null?void 0:Z.payload)||{},De=I==="down"?Be==null?void 0:Be.downMarker:Be==null?void 0:Be.deathMarker;if(!Number.isFinite(Number(De)))return null;const vt=`${I}-${ie}`,sn=ee===vt,Pn=I==="down"?"#facc15":"#ef4444",un=I==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{X(vt),T({x:je,y:$e,kind:I,label:String((Be==null?void 0:Be.label)||"")})},onMouseLeave:()=>{X(he=>he===vt?null:he),T(he=>(he==null?void 0:he.kind)===I&&(he==null?void 0:he.label)===String((Be==null?void 0:Be.label)||"")?null:he)},children:[u.jsx("circle",{cx:je,cy:$e,r:sn?10:7,fill:un,opacity:sn?.35:.18}),u.jsx("circle",{cx:je,cy:$e,r:sn?7:5.5,fill:Pn,stroke:"#0f172a",strokeWidth:sn?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${U?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:U?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Sf,{className:`w-5 h-5 ${a}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${U?"pr-10 md:pr-0":""}`,children:[u.jsx(Mn,{value:y,onChange:I=>g(I),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>U?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${U?"absolute top-2 right-2 md:static":""}`,"aria-label":U?`Close ${t}`:`Expand ${t}`,title:U?"Close":"Expand",children:U?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:I=>p(I.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:Q.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:Q.map(I=>{const Z=b===I.key;return u.jsx("button",{type:"button",onClick:()=>w(I.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${Z?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[W(I.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:I.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:I.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[I.characterName||I.displayName,"  ",I.logs," ",I.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:se(re(I)||0,0)})]})},I.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",O]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Dg,{data:C,onClick:I=>{const Z=Number(I==null?void 0:I.activeTooltipIndex);Number.isFinite(Z)&&D(P===Z?null:Z)},children:[u.jsx(zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Vf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Wf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:I=>se(I,0)}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,Z)=>[se(Number(I||0),0),String(Z||"")],labelFormatter:(I,Z)=>{var ie;const je=(ie=Z==null?void 0:Z[0])==null?void 0:ie.payload;if(!je)return"";const $e=j(je.fullLabel||"");return y==="hit"&&je.skillName?`${$e}  ${je.skillName}`:$e}}),u.jsx(eo,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:k,strokeWidth:3,dot:I=>{var $e;const Z=Number(($e=I==null?void 0:I.payload)==null?void 0:$e.index);if(!Number.isFinite(Z))return null;const je=P===Z;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:ie=>{ie.stopPropagation(),D(je?null:Z)},children:[u.jsx("circle",{cx:I.cx,cy:I.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:I.cx,cy:I.cy,r:je?4:3,fill:k,stroke:je?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:je?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(eo,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[W(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Highest Skill Damage":`Peak ${O}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:se(re(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const I=j((B==null?void 0:B.fullLabel)||S.peakFightLabel||"N/A"),Z=J(Number((B==null?void 0:B.timestamp)||0)),je=Z?`${Z} - ${I}`:I;return y!=="hit"?je:S.peakSkillName?`${S.peakSkillName}  ${je}`:je})()})]})]}),S&&P!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:_}),u.jsx("button",{type:"button",onClick:()=>D(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:A.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Dg,{data:z,children:[u.jsx(zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Vf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Wf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:I=>se(I,0)}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,Z)=>{const je=String(Z||"");return je==="Down"?["Downed","Event"]:je==="Death"?["Dead","Event"]:[se(Number(I||0),0),"Damage"]},labelFormatter:I=>String(I||"")}),u.jsx(eo,{type:"monotone",dataKey:"value",name:"Damage",stroke:k,strokeWidth:2.5,dot:y==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(eo,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:R("down")}),u.jsx(eo,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:R("death")})]})}),oe&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,oe.x)}px`,top:`${Math.max(8,oe.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${oe.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:oe.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:oe.label})]})]})})]}),S&&P!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${te.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:Y}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[te.length," ",te.length===1?"skill":"skills"]})]}),te.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:te.map((I,Z)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate",title:I.skillName,children:I.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:se(Number(I.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:se(Number(I.hits||0),0)})]},`${I.skillName}-${Z}`))})]})]})]})},Tx=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},Oie=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(""),[o,l]=x.useState("squad"),[c,d]=x.useState("desc"),f=a.trim().toLowerCase(),h=x.useMemo(()=>{const p=e.filter(y=>{if(!f)return!0;const g=String(y.account||"").toLowerCase(),b=(y.characterNames||[]).join(" ").toLowerCase(),w=(y.classTimes||[]).map(S=>String(S.profession||"").toLowerCase()).join(" ");return g.includes(f)||b.includes(f)||w.includes(f)}),v=y=>Number(o==="fight"?y.combatTimeMs??y.squadTimeMs??0:y.squadTimeMs??0);return[...p].sort((y,g)=>{const b=v(g)-v(y);return b!==0?c==="desc"?b:-b:String(y.account||"").localeCompare(String(g.account||""))})},[e,f,c,o]),m=p=>{if(o===p){d(v=>v==="desc"?"asc":"desc");return}l(p),d("desc")};return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(kf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsx("input",{value:a,onChange:p=>s(p.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[900px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] bg-white/5",children:[u.jsx("th",{className:"text-left py-2 px-4",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[h.map(p=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:p.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:p.characterNames.length>0?p.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:p.classTimes.length>0?p.classTimes.map(v=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(v.profession)?u.jsx("img",{src:t(v.profession),alt:v.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:v.profession}),u.jsx("span",{className:"text-gray-400",children:Tx(v.timeMs)})]},`${p.account}-${v.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Tx(Number(p.combatTimeMs??p.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Tx(p.squadTimeMs)})]},p.account)),h.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Iie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},_ie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(null),[o,l]=x.useState(""),c=o.trim().toLowerCase(),d=tm("svg/commander_tag.svg");x.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=x.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!c)return!1;const p=String(m.account||"").toLowerCase(),v=String(m.characterName||"").toLowerCase(),y=String(m.profession||"").toLowerCase();return p.includes(c)||v.includes(c)||y.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Dr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return u.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Iie(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-1.5 min-w-0",children:m.players.map((p,v)=>(()=>{const y=h(p);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${y?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?u.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:u.jsx("span",{className:"truncate min-w-0",children:p.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${v}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Lie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},$ie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(null);x.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(c=>c.id===a))&&s(e[0].id)},[e,a]);const o=x.useMemo(()=>e.find(c=>c.id===a)||null,[e,a]),l=x.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[o]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Gd,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===a;return u.jsxs("button",{onClick:()=>s(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Lie(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-3 overflow-x-auto",children:o?u.jsxs("div",{className:"grid grid-cols-2 gap-3 min-w-[640px]",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2.5 space-y-1.5",children:o.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>String((f==null?void 0:f.profession)||"Unknown")).filter(f=>f&&f!=="Unknown").sort((f,h)=>f.localeCompare(h)):Object.entries(c.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>String(f))).filter(f=>f&&f!=="Unknown").sort((f,h)=>f.localeCompare(h));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[42px_minmax(0,1fr)] gap-2 items-center rounded-lg border border-white/10 bg-white/[0.03] px-2 py-1.5",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-1",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:d.length>0?d.map((f,h)=>u.jsx("span",{title:f,className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1.5 py-1",children:t(f)?u.jsx("img",{src:t(f),alt:f,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${c.party}-${f}-${h}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2.5",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1.5",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/[0.03] px-2 py-1",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1.5 py-1",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[11px] font-mono text-gray-200",children:c.count})]},`${o.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Fie=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const h=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(uO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(rc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[i&&u.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(l0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(k6,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(y6,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Rie=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=x.useState("idle"),c=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(v6,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(dO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(hO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},Bie=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),zie=({embedded:e,mobileNavOpen:t,setMobileNavOpen:n,tocGroups:r,tocItems:i,activeNavId:a,scrollToSection:s,stepSection:o})=>{var d;const[l,c]=x.useState({});return x.useEffect(()=>{r.length!==0&&c(f=>{if(Object.keys(f).length>0)return f;const h={};return r.forEach((m,p)=>{h[m.id]=p===0}),h})},[r]),x.useEffect(()=>{const f=r.find(h=>h.items.some(m=>m.id===a));f&&c(h=>({...h,[f.id]:!0}))},[a,r]),e?null:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 z-40 bg-black/60 transition-opacity ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>n(!1)}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl border border-white/15 bg-[#1f252b] px-3 py-1.5",children:[u.jsxs("button",{onClick:()=>o(-1),className:"flex items-center gap-2 px-3 py-1.5 rounded-xl bg-[#202830] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(Gl,{className:"w-4 h-4 rotate-90 text-[color:var(--accent)]"}),"Prev"]}),u.jsxs("button",{onClick:()=>n(f=>!f),className:"flex items-center gap-2 px-4 py-1.5 rounded-xl bg-[#202830] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx("span",{className:"truncate max-w-[160px]",children:((d=i.find(f=>f.id===a))==null?void 0:d.label)||"Sections"}),u.jsx(Gl,{className:`w-4 h-4 text-[color:var(--accent)] transition-transform ${t?"rotate-180":""}`})]}),u.jsxs("button",{onClick:()=>o(1),className:"flex items-center gap-2 px-3 py-1.5 rounded-xl bg-[#202830] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:["Next",u.jsx(Gl,{className:"w-4 h-4 -rotate-90 text-[color:var(--accent)]"})]})]})}),t&&u.jsx("div",{"data-stats-mobile-nav":"overlay",className:"fixed inset-0 z-50 flex items-center justify-center px-4",onClick:f=>{f.target===f.currentTarget&&n(!1)},children:u.jsxs("div",{"data-stats-mobile-nav":"panel",className:"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-[#1f252b] flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.3em] text-gray-400",children:"Jump to"}),u.jsx("button",{onClick:()=>n(!1),className:"p-1.5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors","aria-label":"Close navigation",children:u.jsx(Hi,{className:"w-4 h-4"})})]}),u.jsx("div",{"data-stats-mobile-nav":"list",className:"flex-1 min-h-0 overflow-y-auto overscroll-contain touch-pan-y -mx-4 px-4 pb-8",onWheel:f=>f.stopPropagation(),onTouchMove:f=>f.stopPropagation(),children:u.jsx("div",{className:"space-y-3",children:r.map(f=>{const h=f.icon,m=l[f.id]??!1,p=f.items.some(v=>v.id===a);return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>c(v=>({...v,[f.id]:!m})),className:`w-full text-left flex items-center gap-2 px-2 py-2 rounded-lg border transition-colors ${p?"bg-white/10 border-white/15 text-white":"bg-white/5 border-white/10 text-gray-200 hover:bg-white/[0.08]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(h,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] truncate",children:f.label}),u.jsx(Gl,{className:`ml-auto w-4 h-4 text-gray-300 transition-transform ${m?"rotate-180":""}`})]}),m&&u.jsx("div",{className:"space-y-1 pl-2",children:f.items.map(v=>{const y=v.icon,g=v.id===a;return u.jsxs("button",{onClick:()=>s(v.id),className:`stats-nav-entry stats-nav-entry--item w-full text-left flex items-center gap-2 px-2 py-2 text-gray-200 transition-colors min-w-0 rounded-md ${g?"bg-white/10":"hover:bg-white/[0.03]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(y,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[13px] font-medium truncate min-w-0",children:v.label})]},v.id)})})]},f.id)})})})]})})]})},Ns="space-y-1 pr-1 max-h-72 overflow-y-auto",Uie=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Vie=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function Wie({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0}){var PN,AN;const p=n||AO,v=r||Jy,y=a||UU,g=v.showTopStats,b=v.showMvp,w=v.roundCountStats,S=v.topStatsMode||"total",[C,N]=x.useState(v.topSkillsMetric||"damage"),P=(i?v.topSkillsMetric:C)||"damage",D=y.uploading,_=y.message,A=y.url,$=y.buildStatus,M=!c&&!1,{result:te}=XU({logs:e,precomputedStats:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),{stats:Y,skillUsageData:se}=te,W=x.useMemo(()=>{var ct,Qt,kt,Jt,st,Rn;const F=Y&&typeof Y=="object"?Y:{},q=Ce=>Array.isArray(Ce)?Ce:[],ge=Ce=>Ce&&typeof Ce=="object"?Ce:{},Re=(Ce,Mt)=>Ce&&typeof Ce=="object"?Ce:Mt,Ee={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Te={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},ce={...F,total:Number(F.total||0),timelineData:q(F.timelineData),mapData:q(F.mapData),fightBreakdown:q(F.fightBreakdown),topSkills:q(F.topSkills),topIncomingSkills:q(F.topIncomingSkills),leaderboards:ge(F.leaderboards),topStatsPerSecond:ge(F.topStatsPerSecond),topStatsLeaderboardsPerSecond:ge(F.topStatsLeaderboardsPerSecond),maxDownContrib:Re(F.maxDownContrib,Ee),maxBarrier:Re(F.maxBarrier,Ee),maxHealing:Re(F.maxHealing,Ee),maxDodges:Re(F.maxDodges,Ee),maxStrips:Re(F.maxStrips,Ee),maxCleanses:Re(F.maxCleanses,Ee),maxCC:Re(F.maxCC,Ee),maxStab:Re(F.maxStab,Ee),closestToTag:Re(F.closestToTag,Ee),mvp:{...Te,...ge(F.mvp),topStats:q((ct=F==null?void 0:F.mvp)==null?void 0:ct.topStats)},silver:Re(F.silver,Te),bronze:Re(F.bronze,Te),avgMvpScore:Number(F.avgMvpScore||0),offensePlayers:q(F.offensePlayers),defensePlayers:q(F.defensePlayers),damageMitigationPlayers:q(F.damageMitigationPlayers),damageMitigationMinions:q(F.damageMitigationMinions),supportPlayers:q(F.supportPlayers),healingPlayers:q(F.healingPlayers),boonTables:q(F.boonTables),specialTables:q(F.specialTables),outgoingConditionSummary:q(F.outgoingConditionSummary),outgoingConditionPlayers:q(F.outgoingConditionPlayers),incomingConditionSummary:q(F.incomingConditionSummary),incomingConditionPlayers:q(F.incomingConditionPlayers),squadClassData:q(F.squadClassData),enemyClassData:q(F.enemyClassData),attendanceData:q(F.attendanceData),squadCompByFight:q(F.squadCompByFight),playerSkillBreakdowns:q(F.playerSkillBreakdowns)},pn=q((Qt=ce.leaderboards)==null?void 0:Qt.downContrib).map(Ce=>({...Ce,value:Number((Ce==null?void 0:Ce.value)??0)})).filter(Ce=>Number.isFinite(Ce.value)).sort((Ce,Mt)=>Mt.value-Ce.value||String((Ce==null?void 0:Ce.account)||"").localeCompare(String((Mt==null?void 0:Mt.account)||"")))[0];return pn&&(ce.maxDownContrib={...ce.maxDownContrib||{},value:Number(pn.value||0),player:String(pn.account||((kt=ce.maxDownContrib)==null?void 0:kt.player)||"-"),count:Number(pn.count||((Jt=ce.maxDownContrib)==null?void 0:Jt.count)||0),profession:String(pn.profession||((st=ce.maxDownContrib)==null?void 0:st.profession)||"Unknown"),professionList:Array.isArray(pn.professionList)?pn.professionList:((Rn=ce.maxDownContrib)==null?void 0:Rn.professionList)||[]}),ce},[Y]);x.useEffect(()=>{var ge;if(!((ge=window==null?void 0:window.electronAPI)!=null&&ge.fetchImageAsDataUrl))return;const F=new Set,q=Re=>{if(Re){if(typeof Re=="string"){/^https?:\/\//i.test(Re)&&F.add(Re);return}if(Array.isArray(Re)){Re.forEach(q);return}typeof Re=="object"&&Object.entries(Re).forEach(([Ee,Te])=>{if((Ee==="icon"||Ee==="iconUrl")&&typeof Te=="string"){/^https?:\/\//i.test(Te)&&F.add(Te);return}q(Te)})}};q(W),F.size>0&&rie(Array.from(F))},[W]);const ee=x.useMemo(()=>{const F=(l==null?void 0:l.skillUsageData)??se;return{logRecords:Array.isArray(F==null?void 0:F.logRecords)?F.logRecords:[],players:Array.isArray(F==null?void 0:F.players)?F.players:[],skillOptions:Array.isArray(F==null?void 0:F.skillOptions)?F.skillOptions:[],resUtilitySkills:Array.isArray(F==null?void 0:F.resUtilitySkills)?F.resUtilitySkills:[]}},[se,l==null?void 0:l.skillUsageData]),X=ee.players.length>0;x.useEffect(()=>{i||N(v.topSkillsMetric||"damage")},[v.topSkillsMetric,i]);const oe=F=>{if(i){i({...v,topSkillsMetric:F});return}N(F)},{mobileNavOpen:T,setMobileNavOpen:j,activeNavId:U,scrollContainerRef:k,tocGroups:O,tocItems:re,scrollToSection:Q,stepSection:B}=N6(c),{devMockUploadState:J,webCopyStatus:L,setWebCopyStatus:K,handleWebUpload:le,handleDevMockUpload:ne}=C6({logs:e,stats:W,skillUsageData:ee,activeStatsViewSettings:r||Jy,uiTheme:h||"classic",embedded:c,onWebUpload:s}),{sharing:z,handleShare:R}=yU(c),I={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},Z=F=>{const q=I[F];return q?p[q]>0:!0},[je,$e]=x.useState(null),[ie,Be]=x.useState(null),[De,vt]=x.useState("totalBuffs"),[sn,Pn]=x.useState("total"),[un,he]=x.useState(""),[Se,Ft]=x.useState(null),[Ht,gn]=x.useState(""),[hn,zr]=x.useState(null),[cr,ua]=x.useState(""),[Di,vn]=x.useState(""),[xn,br]=x.useState(""),[dn,Jr]=x.useState(""),[Mi,Mc]=x.useState(""),[Sl,Nl]=x.useState(""),[Bs,Cl]=x.useState(""),[zs,G]=x.useState("outgoing"),[pe,we]=x.useState(""),[rt,Ct]=x.useState("damage"),[_t,an]=x.useState("damageTaken"),[Pt,jt]=x.useState("totalMitigation"),[tn,Ge]=x.useState("all"),[pt,Nn]=x.useState({key:"damage",dir:"desc"}),Or=!(tn!=="all"&&Uie.has(tn)),ur=Or?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",Ur=Or?pt:{key:"applications",dir:pt.key==="applications"?pt.dir:"desc"},[Ar,xs]=x.useState("condiCleanse"),[kv,Sv]=x.useState("healing"),[Nv,E]=x.useState("total"),[V,H]=x.useState("all"),[ye,fe]=x.useState("total"),[Ve,Ne]=x.useState("total"),[ot,mt]=x.useState("total"),[wt,qt]=x.useState("total"),[Gt,In]=x.useState("all"),[Xe,Ye]=x.useState("squad"),[ft,Lt]=x.useState("player"),[Yt,ve]=x.useState(""),[ke,ze]=x.useState(""),[Me,Ze]=x.useState(null),[me,Fe]=x.useState([]),[_e,Le]=x.useState(null),[Qe,Vt]=x.useState(null),[on,An]=x.useState("hit"),[Xt,Zt]=x.useState(null),[bn,ue]=x.useState(null),[Pe,it]=x.useState("hit"),[$t,Nt]=x.useState([]),[ae,He]=x.useState(null),[Oe,nt]=x.useState(!1),Et=x.useRef(null),[Dt,gt]=x.useState("sizes"),[xt,Rt]=x.useState("total"),Ut=xt==="perSecond",[Ot,At]=x.useState(null),[Ie,tt]=x.useState("total"),[lt,yt]=x.useState(null),[ln,kn]=x.useState(null),[_n,Vr]=x.useState(null),[Us,Vs]=x.useState(""),[Ta,Ws]=x.useState(null),[jl,od]=x.useState(null),[Ea,Pl]=x.useState(null),[Rm,Bm]=x.useState(""),[zm,Um]=x.useState("player"),[ys,Ae]=x.useState(null),[qe,Ke]=x.useState(null),[Je,zt]=x.useState(null),{apmSpecBuckets:Tn}=ZU(ee),Gn=W.playerSkillBreakdowns||[],ei=x.useMemo(()=>{const F=new Map;return Gn.forEach(q=>F.set(q.key,q)),F},[Gn]),li=x.useMemo(()=>{const F=new Map;return Gn.forEach(q=>{const ge=q.profession||"Unknown";F.has(ge)||F.set(ge,{profession:ge,players:[],skills:new Map});const Re=F.get(ge);Re.players.push(q),q.skills.forEach(Ee=>{var ce;const Te=Re.skills.get(Ee.id)||{...Ee,damage:0,downContribution:0};Te.damage+=Number(Ee.damage||0),Te.downContribution+=Number(Ee.downContribution||0),!Te.icon&&Ee.icon&&(Te.icon=Ee.icon),(ce=Te.name)!=null&&ce.startsWith("Skill ")&&!Ee.name.startsWith("Skill ")&&(Te.name=Ee.name),Re.skills.set(Ee.id,Te)})}),Array.from(F.values()).map(q=>{const ge=Array.from(q.skills.values()).sort((Ee,Te)=>Te.damage-Ee.damage),Re=ge.reduce((Ee,Te)=>(Ee[Te.id]=Te,Ee),{});return{profession:q.profession,players:q.players,skills:ge,skillMap:Re}}).sort((q,ge)=>q.profession.localeCompare(ge.profession))},[Gn]),Oi=Ta&&ei.get(Ta)||null,Oo=Oi&&Ea&&((PN=Oi.skillMap)==null?void 0:PN[Ea])||null,Hs=x.useMemo(()=>{const F=new Map;return li.forEach(q=>F.set(q.profession,q)),F},[li]),qi=ys&&Hs.get(ys)||null,Ki=qi&&Je&&((AN=qi.skillMap)==null?void 0:AN[Je])||null,vi=x.useMemo(()=>{const F=Ce=>String(Ce||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),q=Ce=>F(Ce).toLowerCase().split(/[^a-z0-9]+/i).map(Mt=>Mt.trim()).filter(Boolean).map(Mt=>Mt.length>3&&Mt.endsWith("s")?Mt.slice(0,-1):Mt),ge=(Ce,Mt)=>{const be=F(Ce),Bn=F(Mt);if(!Bn)return be;if(!be)return Bn;const Wr=q(be),wr=q(Bn),fr=new Set(Wr),Cn=new Set(wr),_i=wr.length>0&&wr.every(Yn=>fr.has(Yn)),Tt=Wr.length>0&&Wr.every(Yn=>Cn.has(Yn));return _i||Tt?be:`${be} - ${Bn}`},Re=Ce=>{if(Ce==null||Ce==="")return 0;if(typeof Ce=="number")return!Number.isFinite(Ce)||Ce<=0?0:Ce>1e12?Ce:Ce*1e3;if(Ce instanceof Date){const fr=Ce.getTime();return Number.isFinite(fr)&&fr>0?fr:0}const Mt=String(Ce).trim();if(!Mt)return 0;const be=Number(Mt);if(Number.isFinite(be)&&be>0)return be>1e12?be:be*1e3;const Bn=Date.parse(Mt);if(Number.isFinite(Bn)&&Bn>0)return Bn;const Wr=Mt.replace(/([+-]\d{2})$/,"$1:00"),wr=Date.parse(Wr);return Number.isFinite(wr)&&wr>0?wr:0},Ee=(Ce,Mt)=>Re((Ce==null?void 0:Ce.uploadTime)??(Mt==null?void 0:Mt.uploadTime)??(Ce==null?void 0:Ce.timeStartStd)??(Ce==null?void 0:Ce.timeStart)??(Ce==null?void 0:Ce.timeEndStd)??(Ce==null?void 0:Ce.timeEnd)),Te=W==null?void 0:W.spikeDamage,ce=Array.isArray(Te==null?void 0:Te.fights)?Te.fights:[],et=Array.isArray(Te==null?void 0:Te.players)?Te.players:[],pn=ce.some(Ce=>(Ce!=null&&Ce.values&&typeof Ce.values=="object"?Object.values(Ce.values):[]).some(be=>be&&typeof be=="object"&&(Number(be.burst1s||0)>0||Number(be.burst5s||0)>0||Number(be.burst30s||0)>0)))||et.some(Ce=>Number((Ce==null?void 0:Ce.peak1s)||0)>0||Number((Ce==null?void 0:Ce.peak5s)||0)>0||Number((Ce==null?void 0:Ce.peak30s)||0)>0);if((ce.length>0||et.length>0)&&(pn||e.length===0)){const Ce=ce.map((be,Bn)=>{const Wr=be!=null&&be.values&&typeof be.values=="object"?be.values:{},wr={};return Object.entries(Wr).forEach(([fr,Cn])=>{if(Cn&&typeof Cn=="object"){const _i=Number(Cn.damage||0);wr[fr]={hit:Number(Cn.hit??_i),burst1s:Number(Cn.burst1s||0),burst5s:Number(Cn.burst5s||0),burst30s:Number(Cn.burst30s||0),skillName:String(Cn.skillName||""),buckets5s:Array.isArray(Cn.buckets5s)?Cn.buckets5s.map(Tt=>Number(Tt||0)):void 0,downIndices5s:Array.isArray(Cn.downIndices5s)?Cn.downIndices5s.map(Tt=>Number(Tt)).filter(Tt=>Number.isFinite(Tt)&&Tt>=0):void 0,deathIndices5s:Array.isArray(Cn.deathIndices5s)?Cn.deathIndices5s.map(Tt=>Number(Tt)).filter(Tt=>Number.isFinite(Tt)&&Tt>=0):void 0,skillRows:Array.isArray(Cn.skillRows)?Cn.skillRows.map(Tt=>({skillName:String((Tt==null?void 0:Tt.skillName)||(Tt==null?void 0:Tt.name)||"Unknown Skill"),damage:Number((Tt==null?void 0:Tt.damage)||0),hits:Number((Tt==null?void 0:Tt.hits)||0),icon:typeof(Tt==null?void 0:Tt.icon)=="string"?Tt.icon:void 0})).filter(Tt=>Number.isFinite(Tt.damage)&&Tt.damage>0):void 0};return}wr[fr]={hit:Number(Cn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((be==null?void 0:be.id)||`fight-${Bn+1}`),shortLabel:String((be==null?void 0:be.shortLabel)||`F${Bn+1}`),fullLabel:F((be==null?void 0:be.fullLabel)||`Fight ${Bn+1}`),timestamp:Number((be==null?void 0:be.timestamp)||0),values:wr,maxHit:Number((be==null?void 0:be.maxHit)??(be==null?void 0:be.maxDamage)??0),max1s:Number((be==null?void 0:be.max1s)||0),max5s:Number((be==null?void 0:be.max5s)||0),max30s:Number((be==null?void 0:be.max30s)||0)}}),Mt=et.map(be=>({key:String((be==null?void 0:be.key)||""),account:String((be==null?void 0:be.account)||"Unknown"),displayName:String((be==null?void 0:be.displayName)||(be==null?void 0:be.account)||"Unknown"),characterName:String((be==null?void 0:be.characterName)||(be==null?void 0:be.name)||(be==null?void 0:be.character_name)||(be==null?void 0:be.display_name)||""),profession:String((be==null?void 0:be.profession)||"Unknown"),professionList:Array.isArray(be==null?void 0:be.professionList)?be.professionList.map(Bn=>String(Bn)):[],logs:Number((be==null?void 0:be.logs)||0),peakHit:Number((be==null?void 0:be.peakHit)||0),peak1s:Number((be==null?void 0:be.peak1s)||0),peak5s:Number((be==null?void 0:be.peak5s)||0),peak30s:Number((be==null?void 0:be.peak30s)||0),peakFightLabel:F((be==null?void 0:be.peakFightLabel)||""),peakSkillName:String((be==null?void 0:be.peakSkillName)||"")}));return{fights:Ce,players:Mt}}const Qt=(Ce,Mt)=>{const be=(Mt==null?void 0:Mt.skillMap)||{},Bn=(Mt==null?void 0:Mt.buffMap)||{};let Wr=0,wr="";const fr=Tt=>{const Yn=Number(Tt);if(!Number.isFinite(Yn))return String(Tt||"Unknown Skill");const nn=(be==null?void 0:be[`s${Yn}`])||(be==null?void 0:be[`${Yn}`]);if(nn!=null&&nn.name)return String(nn.name);const ht=(Bn==null?void 0:Bn[`b${Yn}`])||(Bn==null?void 0:Bn[`${Yn}`]);return ht!=null&&ht.name?String(ht.name):`Skill ${Yn}`},Cn=Tt=>{if(!Tt||typeof Tt!="object")return;const Yn=[Number(Tt.max),Number(Tt.maxDamage),Number(Tt.maxHit)].filter(ht=>Number.isFinite(ht)),nn=Yn.length>0?Math.max(...Yn):0;nn>Wr&&(Wr=nn,wr=fr(Tt.id))};let _i=!1;return Array.isArray(Ce==null?void 0:Ce.targetDamageDist)&&Ce.targetDamageDist.forEach(Tt=>{Array.isArray(Tt)&&Tt.forEach(Yn=>{Array.isArray(Yn)&&Yn.forEach(nn=>{_i=!0,Cn(nn)})})}),(!_i||Wr<=0)&&Array.isArray(Ce==null?void 0:Ce.totalDamageDist)&&Ce.totalDamageDist.forEach(Tt=>{Array.isArray(Tt)&&Tt.forEach(Yn=>Cn(Yn))}),{peak:Wr,skillName:wr||"Unknown Skill"}},kt=(Ce,Mt)=>{const be=nn=>{if(!Array.isArray(nn)||nn.length===0)return[];const ht=[];for(let Wt=0;Wt<nn.length;Wt+=1){const kr=Number(nn[Wt]||0),Xn=Wt>0?Number(nn[Wt-1]||0):0;ht.push(Math.max(0,kr-Xn))}return ht},Bn=(nn,ht)=>{if(!Array.isArray(nn)||nn.length===0||ht<=0)return 0;let Wt=0,kr=0;for(let Xn=0;Xn<nn.length;Xn+=1)Wt+=Number(nn[Xn]||0),Xn>=ht&&(Wt-=Number(nn[Xn-ht]||0)),Xn>=ht-1&&Wt>kr&&(kr=Wt);return Math.max(0,kr)},Wr=nn=>{if(!Array.isArray(nn))return[];const ht=nn.reduce((kr,Xn)=>Math.max(kr,Array.isArray(Xn)?Xn.length:0),0);if(ht<=0)return[];const Wt=new Array(ht).fill(0);return nn.forEach(kr=>{if(Array.isArray(kr))for(let Xn=0;Xn<ht;Xn+=1)Wt[Xn]+=Number(kr[Xn]||0)}),Wt},wr=nn=>Array.isArray(nn)?nn.map(ht=>Number(ht||0)):null,Cn=(nn=>{if(!Array.isArray(nn)||nn.length===0)return null;const ht=nn[0];if(!Array.isArray(ht))return null;if(Array.isArray(ht[0])&&Array.isArray(ht[0][0]))return Wr(ht);if(Array.isArray(ht[0])&&!Array.isArray(ht[0][0])){const Wt=nn.map(kr=>wr(Array.isArray(kr)?kr[0]:null)).filter(kr=>Array.isArray(kr)&&kr.length>0);if(Wt.length>0)return Wr(Wt)}return null})(Ce==null?void 0:Ce.targetDamage1S),_i=Array.isArray(Ce==null?void 0:Ce.damage1S)&&Array.isArray(Ce.damage1S[0])?Ce.damage1S[0]:null,Tt=Cn||(Array.isArray(_i)?_i.map(nn=>Number(nn||0)):[]),Yn=be(Tt);return Bn(Yn,Mt)},Jt=[],st=new Map;e.forEach(Ce=>{const Mt=Ce==null?void 0:Ce.details;if(!Mt)return;const be=Jt.length+1,Bn=F(Mt.fightName||Ce.fightName||`Fight ${be}`),Wr=Mt.zone||Mt.mapName||Mt.map||Mt.location||"",wr=ge(Bn,String(Wr||"")),fr={};(Array.isArray(Mt.players)?Mt.players:[]).forEach(ht=>{if(ht!=null&&ht.notInSquad)return;const Wt=String((ht==null?void 0:ht.account)||(ht==null?void 0:ht.name)||"Unknown"),kr=String((ht==null?void 0:ht.character_name)||(ht==null?void 0:ht.display_name)||(ht==null?void 0:ht.name)||""),Xn=String((ht==null?void 0:ht.profession)||"Unknown"),$c=`${Wt}|${Xn}`,Ym=Qt(ht,Mt),Fc=Number(Ym.peak||0),Rc=Number(kt(ht,1)||0),cd=Number(kt(ht,5)||0),Ml=Number(kt(ht,30)||0);fr[$c]={hit:Fc,burst1s:Rc,burst5s:cd,burst30s:Ml,skillName:Ym.skillName};const Sr=st.get($c)||{key:$c,account:Wt,displayName:Wt,characterName:kr,profession:Xn,professionList:[Xn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Sr.logs+=1,Sr.professionList.includes(Xn)||Sr.professionList.push(Xn),!Sr.characterName&&kr&&(Sr.characterName=kr),Fc>Sr.peakHit&&(Sr.peakHit=Fc,Sr.peakFightLabel=wr,Sr.peakSkillName=Ym.skillName),Rc>Sr.peak1s&&(Sr.peak1s=Rc),cd>Sr.peak5s&&(Sr.peak5s=cd),Ml>Sr.peak30s&&(Sr.peak30s=Ml),st.set($c,Sr)});const _i=Object.values(fr).reduce((ht,Wt)=>Math.max(ht,Number((Wt==null?void 0:Wt.hit)||0)),0),Tt=Object.values(fr).reduce((ht,Wt)=>Math.max(ht,Number((Wt==null?void 0:Wt.burst1s)||0)),0),Yn=Object.values(fr).reduce((ht,Wt)=>Math.max(ht,Number((Wt==null?void 0:Wt.burst5s)||0)),0),nn=Object.values(fr).reduce((ht,Wt)=>Math.max(ht,Number((Wt==null?void 0:Wt.burst30s)||0)),0);Jt.push({id:Ce.filePath||Ce.id||`fight-${be}`,shortLabel:`F${be}`,fullLabel:wr,timestamp:Ee(Mt,Ce),values:fr,maxHit:_i,max1s:Tt,max5s:Yn,max30s:nn})});const Rn=Array.from(st.values()).sort((Ce,Mt)=>Mt.peakHit!==Ce.peakHit?Mt.peakHit-Ce.peakHit:Ce.displayName.localeCompare(Mt.displayName));return{fights:Jt,players:Rn}},[e,W]),ci=x.useMemo(()=>{const F=ce=>String(ce||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),q=W==null?void 0:W.incomingStrikeDamage,ge=Array.isArray(q==null?void 0:q.fights)?q.fights:[],Re=Array.isArray(q==null?void 0:q.players)?q.players:[];if(ge.length===0&&Re.length===0)return{fights:[],players:[]};const Ee=ge.map((ce,et)=>{const pn=ce!=null&&ce.values&&typeof ce.values=="object"?ce.values:{},ct={};return Object.entries(pn).forEach(([Qt,kt])=>{if(kt&&typeof kt=="object"){const Jt=Number(kt.damage||0);ct[Qt]={hit:Number(kt.hit??Jt),burst1s:Number(kt.burst1s||0),burst5s:Number(kt.burst5s||0),burst30s:Number(kt.burst30s||0),skillName:String(kt.skillName||""),buckets5s:Array.isArray(kt.buckets5s)?kt.buckets5s.map(st=>Number(st||0)):void 0,downIndices5s:Array.isArray(kt.downIndices5s)?kt.downIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):void 0,deathIndices5s:Array.isArray(kt.deathIndices5s)?kt.deathIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):void 0,skillRows:Array.isArray(kt.skillRows)?kt.skillRows.map(st=>({skillName:String((st==null?void 0:st.skillName)||(st==null?void 0:st.name)||"Unknown Skill"),damage:Number((st==null?void 0:st.damage)||0),hits:Number((st==null?void 0:st.hits)||0),icon:typeof(st==null?void 0:st.icon)=="string"?st.icon:void 0})).filter(st=>Number.isFinite(st.damage)&&st.damage>0):void 0};return}ct[Qt]={hit:Number(kt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((ce==null?void 0:ce.id)||`fight-${et+1}`),shortLabel:String((ce==null?void 0:ce.shortLabel)||`F${et+1}`),fullLabel:F((ce==null?void 0:ce.fullLabel)||`Fight ${et+1}`),timestamp:Number((ce==null?void 0:ce.timestamp)||0),values:ct,maxHit:Number((ce==null?void 0:ce.maxHit)??(ce==null?void 0:ce.maxDamage)??0),max1s:Number((ce==null?void 0:ce.max1s)||0),max5s:Number((ce==null?void 0:ce.max5s)||0),max30s:Number((ce==null?void 0:ce.max30s)||0)}}),Te=Re.map(ce=>({key:String((ce==null?void 0:ce.key)||""),account:String((ce==null?void 0:ce.account)||"Unknown"),displayName:String((ce==null?void 0:ce.displayName)||(ce==null?void 0:ce.account)||"Unknown"),characterName:String((ce==null?void 0:ce.characterName)||(ce==null?void 0:ce.name)||(ce==null?void 0:ce.character_name)||(ce==null?void 0:ce.display_name)||""),profession:String((ce==null?void 0:ce.profession)||"Unknown"),professionList:Array.isArray(ce==null?void 0:ce.professionList)?ce.professionList.map(et=>String(et)):[],logs:Number((ce==null?void 0:ce.logs)||0),peakHit:Number((ce==null?void 0:ce.peakHit)||0),peak1s:Number((ce==null?void 0:ce.peak1s)||0),peak5s:Number((ce==null?void 0:ce.peak5s)||0),peak30s:Number((ce==null?void 0:ce.peak30s)||0),peakFightLabel:F((ce==null?void 0:ce.peakFightLabel)||""),peakSkillName:String((ce==null?void 0:ce.peakSkillName)||"")}));return{fights:Ee,players:Te}},[W]),xi=x.useMemo(()=>{const F=new Map;return vi.players.forEach(q=>F.set(q.key,q)),F},[vi.players]),Io=x.useMemo(()=>{const F=Ee=>on==="hit"?Ee.peakHit:on==="1s"?Ee.peak1s:on==="5s"?Ee.peak5s:Ee.peak30s,q=Sl.trim().toLowerCase(),ge=q?vi.players.filter(Ee=>Ee.displayName.toLowerCase().includes(q)||Ee.account.toLowerCase().includes(q)||Ee.profession.toLowerCase().includes(q)):vi.players,Re=new Map;return ge.forEach(Ee=>{const Te=Ee.profession||"Unknown",ce=Re.get(Te)||[];ce.push(Ee),Re.set(Te,ce)}),Array.from(Re.entries()).map(([Ee,Te])=>({profession:Ee,players:[...Te].sort((ce,et)=>F(et)-F(ce)||ce.displayName.localeCompare(et.displayName))})).sort((Ee,Te)=>Ee.profession.localeCompare(Te.profession))},[vi.players,Sl,on]),Vm=_e&&xi.get(_e)||null,da=x.useMemo(()=>{if(!_e)return[];const F=ge=>ge?Number(on==="hit"?ge.hit||0:on==="1s"?ge.burst1s||0:on==="5s"?ge.burst5s||0:ge.burst30s||0):0,q=ge=>Number(on==="hit"?ge.maxHit||0:on==="1s"?ge.max1s||0:on==="5s"?ge.max5s||0:ge.max30s||0);return vi.fights.map((ge,Re)=>{var Ee;return{index:Re,fightId:ge.id,shortLabel:ge.shortLabel,fullLabel:ge.fullLabel,timestamp:Number(ge.timestamp||0),damage:F(ge.values[_e]),maxDamage:q(ge),skillName:String(((Ee=ge.values[_e])==null?void 0:Ee.skillName)||"")}})},[vi.fights,_e,on]),Wm=x.useMemo(()=>{const F=da.reduce((ge,Re)=>Math.max(ge,Number(Re.damage||0)),0),q=da.reduce((ge,Re)=>Math.max(ge,Number(Re.maxDamage||0)),0);return Math.max(1,F,q)},[da]),Al=x.useMemo(()=>{var EN,DN,MN,ON,IN,_N,LN,$N,FN;const F=Qe===null?null:da.find(xe=>xe.index===Qe)||null;if(!F||!_e)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const q=vi.fights.find((xe,at)=>String(xe.id||"")===String(F.fightId||"")||at===F.index)||null,[ge,Re]=_e.split("|"),Ee=e.find(xe=>String((xe==null?void 0:xe.filePath)||(xe==null?void 0:xe.id)||"")===String(F.fightId||"")),Te=Ee==null?void 0:Ee.details,ce=xe=>Array.isArray(xe)?xe.map(at=>Array.isArray(at)?[Number(at[0]),Number(at[1])]:at&&typeof at=="object"?[Number(at.time),Number(at.value)]:null).filter(at=>!!at&&Number.isFinite(at[0])&&at[0]>=0):[],et=xe=>String(xe||"").trim().toLowerCase(),pn=et(ge),ct=et(Re),Qt=xi.get(_e),kt=new Set([et(Qt==null?void 0:Qt.displayName),et(Qt==null?void 0:Qt.characterName),et(Qt==null?void 0:Qt.account)].filter(Boolean)),Jt=Array.isArray(Te==null?void 0:Te.players)&&((EN=Te.players.map(xe=>{const at=et(xe==null?void 0:xe.account),Kt=et(xe==null?void 0:xe.name),Zn=et(xe==null?void 0:xe.profession),En=!!at&&at===pn,$n=!!Kt&&(Kt===pn||kt.has(Kt)),Yi=!!at&&kt.has(at),_o=!ct||Zn===ct;let Za=0;return En&&(Za+=100),$n&&(Za+=90),Yi&&(Za+=80),_o&&(Za+=20),{player:xe,score:Za}}).filter(xe=>xe.score>0).sort((xe,at)=>at.score-xe.score)[0])==null?void 0:EN.player)||null,st=(()=>{const xe=Jt==null?void 0:Jt.combatReplayData;return Array.isArray(xe)?xe.filter(at=>at&&typeof at=="object"):xe&&typeof xe=="object"?[xe]:[]})(),Rn=st.flatMap(xe=>ce(xe==null?void 0:xe.down).map(([at])=>at)),Ce=st.flatMap(xe=>ce(xe==null?void 0:xe.dead).map(([at])=>at)),Mt=st.map(xe=>Number(xe==null?void 0:xe.start)).filter(xe=>Number.isFinite(xe)&&xe>=0),be=Array.isArray(Te==null?void 0:Te.players)?Te.players.flatMap(xe=>{const at=xe==null?void 0:xe.combatReplayData;return Array.isArray(at)?at.map(Kt=>Number(Kt==null?void 0:Kt.start)):[Number(at==null?void 0:at.start)]}).filter(xe=>Number.isFinite(xe)&&xe>=0).reduce((xe,at)=>Math.min(xe,at),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Bn=[0,Number((Te==null?void 0:Te.logStartOffset)||0),...Mt,Number.isFinite(be)?be:0].filter(xe=>Number.isFinite(xe)&&xe>=0),Wr=xe=>{const at=Math.max(0,Math.floor(Number(xe||0)/1e3)),Kt=Math.floor(at/5)*5;return`${Kt}s-${Kt+5}s`},wr=(xe,at)=>{if(xe.length===0||at.length===0)return[];const Kt=at.length*5e3,Zn=mr=>mr.reduce((ws,Bc)=>Bc>=0&&Bc<=Kt+2e3?ws+1:ws,0),En=[],$n=xe.map(mr=>Number(mr||0)).filter(mr=>Number.isFinite(mr)&&mr>=0);if($n.length===0)return[];En.push($n);const Yi=$n.reduce((mr,ws)=>Math.max(mr,ws),0),_o=$n.reduce((mr,ws)=>Math.min(mr,ws),Number.POSITIVE_INFINITY);Yi>Kt*20&&En.push($n.map(mr=>mr/1e3)),Yi<=Kt*2&&_o>=0&&Yi>0&&Yi<Math.max(120,at.length*5+10)&&En.push($n.map(mr=>mr*1e3));let Za=$n,RN=0,BN=-1;return En.forEach(mr=>{const ws=new Set(Bn),Bc=mr.reduce((Ol,jv)=>Math.min(Ol,jv),Number.POSITIVE_INFINITY);if(Number.isFinite(Bc)&&Kt>0&&Bc>Kt){const Ol=Math.floor(Bc/Kt)*Kt;ws.add(Ol),ws.add(Math.max(0,Ol-Kt))}ws.forEach(Ol=>{const jv=mr.map(wR=>wR-Ol),zN=Zn(jv);zN>BN&&(BN=zN,RN=Ol,Za=mr)})}),Za.map(mr=>mr-RN).filter(mr=>Number.isFinite(mr)&&mr>=0)},fr=(xe,at)=>{if(xe.length===0||at.length===0)return[];const Kt=wr(at,xe),Zn=new Map;xe.forEach($n=>{const Yi=/^(\d+)s-/.exec(String($n));if(!Yi)return;const _o=Number(Yi[1]);Number.isFinite(_o)&&Zn.set(_o,$n)});const En=[];return Kt.forEach($n=>{const Yi=Math.max(0,Math.floor(Number($n||0)/1e3)),_o=Math.floor(Yi/5)*5,Za=Zn.get(_o)||Wr($n);xe.includes(Za)&&En.push(Za)}),Array.from(new Set(En))},Cn=(xe,at)=>{if(xe<=0||at.length===0)return[];const Kt=Array.from({length:xe},($n,Yi)=>`${Yi*5}s-${(Yi+1)*5}s`),En=wr(at,Kt).map($n=>Math.floor(Math.max(0,Number($n||0))/5e3)).filter($n=>Number.isFinite($n)&&$n>=0&&$n<xe);return Array.from(new Set(En))},_i=Array.isArray((MN=(DN=q==null?void 0:q.values)==null?void 0:DN[_e])==null?void 0:MN.buckets5s)?((IN=(ON=q==null?void 0:q.values)==null?void 0:ON[_e])==null?void 0:IN.buckets5s)||[]:[],Tt=Array.isArray((LN=(_N=q==null?void 0:q.values)==null?void 0:_N[_e])==null?void 0:LN.downIndices5s)?q.values[_e].downIndices5s.map(xe=>Number(xe)).filter(xe=>Number.isFinite(xe)&&xe>=0):[],Yn=Array.isArray((FN=($N=q==null?void 0:q.values)==null?void 0:$N[_e])==null?void 0:FN.deathIndices5s)?q.values[_e].deathIndices5s.map(xe=>Number(xe)).filter(xe=>Number.isFinite(xe)&&xe>=0):[];if(_i.length>0){const xe=Math.max(0,Math.ceil(Number((Te==null?void 0:Te.durationMS)||0)/5e3)),at=Math.max(_i.length,xe),Kt=Array.from({length:at},(En,$n)=>({label:`${$n*5}s-${($n+1)*5}s`,value:Number(_i[$n]||0)})),Zn=Kt.map(En=>En.label);return{title:`Fight Breakdown - ${F.shortLabel||"Fight"} (5s Damage Buckets)`,data:Kt,downLabels:fr(Zn,Rn),deathLabels:fr(Zn,Ce),downIndices:Tt.length>0?Tt.filter(En=>En<Kt.length):Cn(Kt.length,Rn),deathIndices:Yn.length>0?Yn.filter(En=>En<Kt.length):Cn(Kt.length,Ce)}}const nn=F.shortLabel||"Fight";if(!Te||!Array.isArray(Te.players))return{title:`Fight Breakdown - ${nn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ht=Te.players.find(xe=>String((xe==null?void 0:xe.account)||(xe==null?void 0:xe.name)||"Unknown")===ge&&String((xe==null?void 0:xe.profession)||"Unknown")===Re);if(!ht)return{title:`Fight Breakdown - ${nn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Wt=ht,kr=xe=>{if(!Array.isArray(xe)||xe.length===0)return[];const at=[];for(let Kt=0;Kt<xe.length;Kt+=1){const Zn=Number(xe[Kt]||0),En=Kt>0?Number(xe[Kt-1]||0):0;at.push(Math.max(0,Zn-En))}return at},Xn=xe=>{if(!Array.isArray(xe))return[];const at=xe.reduce((Zn,En)=>Math.max(Zn,Array.isArray(En)?En.length:0),0);if(at<=0)return[];const Kt=new Array(at).fill(0);return xe.forEach(Zn=>{if(Array.isArray(Zn))for(let En=0;En<at;En+=1)Kt[En]+=Number(Zn[En]||0)}),Kt},$c=xe=>Array.isArray(xe)?xe.map(at=>Number(at||0)):null,Fc=(xe=>{if(!Array.isArray(xe)||xe.length===0)return null;const at=xe[0];if(!Array.isArray(at))return null;if(Array.isArray(at[0])&&Array.isArray(at[0][0]))return Xn(at);if(Array.isArray(at[0])&&!Array.isArray(at[0][0])){const Kt=xe.map(Zn=>$c(Array.isArray(Zn)?Zn[0]:null)).filter(Zn=>Array.isArray(Zn)&&Zn.length>0);if(Kt.length>0)return Xn(Kt)}return null})(Wt==null?void 0:Wt.targetDamage1S),Rc=Array.isArray(Wt==null?void 0:Wt.damage1S)&&Array.isArray(Wt.damage1S[0])?Wt.damage1S[0]:null,cd=Fc||(Array.isArray(Rc)?Rc.map(xe=>Number(xe||0)):[]),Ml=kr(cd),Sr=5,xR=Math.max(0,Math.ceil(Number((Te==null?void 0:Te.durationMS)||0)/(Sr*1e3))),yR=Math.max(0,Math.ceil(Ml.length/Sr)),bR=Math.max(xR,yR),ud=[];for(let xe=0;xe<bR;xe+=1){const at=xe*Sr,Kt=Math.min(at+Sr,Ml.length),Zn=Ml.slice(at,Kt).reduce((En,$n)=>En+Number($n||0),0);ud.push({label:`${at}s-${at+Sr}s`,value:Zn})}const TN=ud.map(xe=>xe.label);return{title:`Fight Breakdown - ${nn} (5s Damage Buckets)`,data:ud,downLabels:fr(TN,Rn),deathLabels:fr(TN,Ce),downIndices:Cn(ud.length,Rn),deathIndices:Cn(ud.length,Ce)}},[Qe,da,_e,e,vi.fights,xi]),Oc=x.useMemo(()=>{const F=new Map;return ci.players.forEach(q=>F.set(q.key,q)),F},[ci.players]),Hm=x.useMemo(()=>{const F=Ee=>Pe==="hit"?Ee.peakHit:Pe==="1s"?Ee.peak1s:Pe==="5s"?Ee.peak5s:Ee.peak30s,q=Bs.trim().toLowerCase(),ge=q?ci.players.filter(Ee=>Ee.displayName.toLowerCase().includes(q)||Ee.account.toLowerCase().includes(q)||Ee.profession.toLowerCase().includes(q)):ci.players,Re=new Map;return ge.forEach(Ee=>{const Te=Ee.profession||"Unknown",ce=Re.get(Te)||[];ce.push(Ee),Re.set(Te,ce)}),Array.from(Re.entries()).map(([Ee,Te])=>({profession:Ee,players:[...Te].sort((ce,et)=>F(et)-F(ce)||ce.displayName.localeCompare(et.displayName))})).sort((Ee,Te)=>Ee.profession.localeCompare(Te.profession))},[ci.players,Bs,Pe]),Ic=Xt&&Oc.get(Xt)||null,dr=x.useMemo(()=>{if(!Xt)return[];const F=ge=>ge?Number(Pe==="hit"?ge.hit||0:Pe==="1s"?ge.burst1s||0:Pe==="5s"?ge.burst5s||0:ge.burst30s||0):0,q=ge=>Number(Pe==="hit"?ge.maxHit||0:Pe==="1s"?ge.max1s||0:Pe==="5s"?ge.max5s||0:ge.max30s||0);return ci.fights.map((ge,Re)=>{var Ee;return{index:Re,fightId:ge.id,shortLabel:ge.shortLabel,fullLabel:ge.fullLabel,timestamp:Number(ge.timestamp||0),damage:F(ge.values[Xt]),maxDamage:q(ge),skillName:String(((Ee=ge.values[Xt])==null?void 0:Ee.skillName)||"")}})},[ci.fights,Xt,Pe]),Tl=x.useMemo(()=>{const F=dr.reduce((ge,Re)=>Math.max(ge,Number(Re.damage||0)),0),q=dr.reduce((ge,Re)=>Math.max(ge,Number(Re.maxDamage||0)),0);return Math.max(1,F,q)},[dr]),bs=x.useMemo(()=>{var Te,ce,et,pn,ct,Qt,kt,Jt;const F=bn===null?null:dr.find(st=>st.index===bn)||null;if(!F||!Xt)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const q=ci.fights.find((st,Rn)=>String(st.id||"")===String(F.fightId||"")||Rn===F.index)||null,ge=Array.isArray((ce=(Te=q==null?void 0:q.values)==null?void 0:Te[Xt])==null?void 0:ce.buckets5s)?((pn=(et=q==null?void 0:q.values)==null?void 0:et[Xt])==null?void 0:pn.buckets5s)||[]:[],Re=Array.isArray((Qt=(ct=q==null?void 0:q.values)==null?void 0:ct[Xt])==null?void 0:Qt.downIndices5s)?q.values[Xt].downIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):[],Ee=Array.isArray((Jt=(kt=q==null?void 0:q.values)==null?void 0:kt[Xt])==null?void 0:Jt.deathIndices5s)?q.values[Xt].deathIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):[];if(ge.length>0){const st=ge.map((Rn,Ce)=>({label:`${Ce*5}s-${(Ce+1)*5}s`,value:Number(Rn||0)}));return{title:`Fight Breakdown - ${F.shortLabel||"Fight"} (5s Damage Buckets)`,data:st,downLabels:[],deathLabels:[],downIndices:Re.filter(Rn=>Rn<st.length),deathIndices:Ee.filter(Rn=>Rn<st.length)}}return{title:`Fight Breakdown - ${F.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[bn,dr,Xt,ci.fights]),El=x.useMemo(()=>{var Re,Ee;if(bn===null||!Xt)return[];const F=dr.find(Te=>Te.index===bn);if(!F)return[];const q=ci.fights.find((Te,ce)=>String(Te.id||"")===String(F.fightId||"")||ce===F.index);return[...((Ee=(Re=q==null?void 0:q.values)==null?void 0:Re[Xt])==null?void 0:Ee.skillRows)||[]].filter(Te=>Number((Te==null?void 0:Te.damage)||0)>0).sort((Te,ce)=>Number(ce.damage||0)-Number(Te.damage||0)).slice(0,30)},[bn,Xt,dr,ci.fights]),Dl=x.useMemo(()=>{var Re,Ee;if(Qe===null||!_e)return[];const F=da.find(Te=>Te.index===Qe);if(!F)return[];const q=vi.fights.find((Te,ce)=>String(Te.id||"")===String(F.fightId||"")||ce===F.index);return[...((Ee=(Re=q==null?void 0:q.values)==null?void 0:Re[_e])==null?void 0:Ee.skillRows)||[]].filter(Te=>Number((Te==null?void 0:Te.damage)||0)>0).sort((Te,ce)=>Number(ce.damage||0)-Number(Te.damage||0)).slice(0,30)},[Qe,_e,da,vi.fights]);x.useEffect(()=>{if(Gn.length===0){Ta!==null&&Ws(null),Ea!==null&&Pl(null);return}if(!Ta||!ei.has(Ta)){const F=Gn[0].key;Ws(F),od(null)}},[Gn,ei,Ta,Ea]),x.useEffect(()=>{if(!Oi||Oi.skills.length===0){Ea!==null&&Pl(null);return}const F=Oi.skills.some(q=>q.id===Ea);(!Ea||!F)&&Pl(Oi.skills[0].id)},[Oi,Ea]),x.useEffect(()=>{if(li.length===0){ys!==null&&Ae(null),Je!==null&&zt(null);return}if(!ys||!Hs.has(ys)){const F=li[0].profession;Ae(F),Ke(null)}},[li,Hs,ys,Je]),x.useEffect(()=>{if(!qi||qi.skills.length===0){Je!==null&&zt(null);return}const F=qi.skills.some(q=>q.id===Je);(!Je||!F)&&zt(qi.skills[0].id)},[qi,Je]),x.useEffect(()=>{if(vi.players.length===0){_e!==null&&Le(null);return}(!_e||!xi.has(_e))&&_e!==null&&Le(null)},[vi.players,xi,_e]),x.useEffect(()=>{Vt(null)},[_e,on]),x.useEffect(()=>{if(Qe===null)return;da.some(q=>q.index===Qe)||Vt(null)},[da,Qe]),x.useEffect(()=>{if(ci.players.length===0){Xt!==null&&Zt(null);return}(!Xt||!Oc.has(Xt))&&Xt!==null&&Zt(null)},[ci.players,Oc,Xt]),x.useEffect(()=>{ue(null)},[Xt,Pe]),x.useEffect(()=>{if(bn===null)return;dr.some(q=>q.index===bn)||ue(null)},[dr,bn]);const $F=x.useMemo(()=>new Set(me),[me]),{playerMapByKey:qs,playerTotalsForSkill:_c,skillChartData:FF,skillChartMaxY:RF,groupedSkillUsagePlayers:BF}=QU({skillUsageData:ee,selectedSkillId:Me,selectedPlayers:$F,skillUsageView:xt==="perSecond"?"perSecond":"total"}),vN=x.useMemo(()=>{const F=new Map,q=Te=>{Te.forEach(ce=>{const et=Gc(ce==null?void 0:ce.name)||(ce==null?void 0:ce.name);et&&ce!=null&&ce.icon&&!F.has(et)&&F.set(et,ce.icon)})},ge=Te=>{Te.forEach(ce=>{Object.entries((ce==null?void 0:ce.conditions)||{}).forEach(([et,pn])=>{const ct=Gc(et)||et;pn!=null&&pn.icon&&!F.has(ct)&&F.set(ct,pn.icon)})})},Re=Te=>{const ce=new Map;return Te.forEach(et=>{const pn=Gc(et==null?void 0:et.name)||(et==null?void 0:et.name);if(!pn)return;const ct=ce.get(pn)||{name:pn,icon:(et==null?void 0:et.icon)||F.get(pn)||mh(pn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};ct.applications+=Number((et==null?void 0:et.applications)||0),ct.damage+=Number((et==null?void 0:et.damage)||0),et!=null&&et.applicationsFromUptime&&(ct.applicationsFromUptime+=Number(et.applicationsFromUptime||0)),et!=null&&et.applicationsFromBuffs&&(ct.applicationsFromBuffs+=Number(et.applicationsFromBuffs||0)),et!=null&&et.applicationsFromBuffsActive&&(ct.applicationsFromBuffsActive+=Number(et.applicationsFromBuffsActive||0)),!ct.icon&&(et!=null&&et.icon)&&(ct.icon=et.icon),ct.icon||(ct.icon=mh(pn)),ce.set(pn,ct)}),Array.from(ce.values())},Ee=Te=>Te.map(ce=>{const et={};return Object.entries((ce==null?void 0:ce.conditions)||{}).forEach(([pn,ct])=>{const Qt=Gc(pn)||pn;if(!Qt)return;const kt=et[Qt]||{icon:(ct==null?void 0:ct.icon)||F.get(Qt)||mh(Qt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};kt.applications+=Number((ct==null?void 0:ct.applications)||0),kt.damage+=Number((ct==null?void 0:ct.damage)||0),ct!=null&&ct.applicationsFromUptime&&(kt.applicationsFromUptime+=Number(ct.applicationsFromUptime||0)),ct!=null&&ct.applicationsFromBuffs&&(kt.applicationsFromBuffs+=Number(ct.applicationsFromBuffs||0)),ct!=null&&ct.applicationsFromBuffsActive&&(kt.applicationsFromBuffsActive+=Number(ct.applicationsFromBuffsActive||0)),!kt.icon&&(ct!=null&&ct.icon)&&(kt.icon=ct.icon),kt.icon||(kt.icon=mh(Qt)),Object.values((ct==null?void 0:ct.skills)||{}).forEach(Jt=>{const st=(Jt==null?void 0:Jt.name)||"Unknown",Rn=kt.skills[st]||{name:st,hits:0,damage:0,icon:Jt==null?void 0:Jt.icon};Rn.hits+=Number((Jt==null?void 0:Jt.hits)||0),Rn.damage+=Number((Jt==null?void 0:Jt.damage)||0),!Rn.icon&&(Jt!=null&&Jt.icon)&&(Rn.icon=Jt.icon),kt.skills[st]=Rn}),et[Qt]=kt}),{...ce,conditions:et}});return(Te,ce)=>(q(Te),ge(ce),{summary:Re(Te),players:Ee(ce)})},[]),xN=zs==="outgoing"?W.outgoingConditionSummary:W.incomingConditionSummary,yN=zs==="outgoing"?W.outgoingConditionPlayers:W.incomingConditionPlayers,{summary:qm,players:zF}=x.useMemo(()=>vN(xN||[],yN||[]),[vN,xN,yN]);x.useEffect(()=>{if(tn==="all"||qm.some(q=>q.name===tn))return;const F=Gc(tn);F&&qm.some(q=>q.name===F)?Ge(F):Ge("all")},[tn,qm,Ge]);const UF=x.useMemo(()=>{const F={};return _c.forEach((q,ge)=>{const Re=qs.get(ge);if(!Re)return;const Ee=Re.profession;(!F[Ee]||q>F[Ee])&&(F[Ee]=q)}),F},[_c,qs]),Ln=x.useCallback(F=>d?d(F):!0,[d]),rr=x.useCallback((F,q)=>{const ge=Ln(F);return`${q} transition-[opacity,transform] duration-700 ease-in-out ${ge?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Ln]),bN=x.useMemo(()=>Vie.find(F=>Ln(F))||null,[Ln]),ir=x.useCallback(F=>F===bN,[bN]),VF=x.useMemo(()=>{const F=new Map,q=new Map;return me.forEach(ge=>{const Re=qs.get(ge);if(!Re)return;const Ee=_c.get(ge)??0,Te=q.get(Re.profession)||[];Te.push({key:ge,total:Ee}),q.set(Re.profession,Te)}),q.forEach(ge=>{ge.sort((Re,Ee)=>Ee.total-Re.total),ge.forEach((Re,Ee)=>{F.set(Re.key,Ee)})}),F},[me,qs,_c]),wN=["0","12 3","8 3","6 3","4 3","2 3"],WF=F=>{const q=qs.get(F),ge=ic((q==null?void 0:q.profession)||""),Re=_c.get(F)??0,Ee=q!=null&&q.profession&&UF[q.profession]||1,ce=.35+(Ee>0?Re/Ee:1)*.65;return Km(ge,ce)},HF=F=>{const q=VF.get(F)??0;return wN[q%wN.length]},qF=(F,q,ge)=>{if(!ge)return WF(F);const Re=qs.get(F),Ee=ic((Re==null?void 0:Re.profession)||"");return q?Km(Ee,1.2):Km(Ee,.5)},Km=(F,q)=>{const ge=F.replace("#","");if(ge.length!==6)return F;const Re=ct=>Math.max(0,Math.min(255,ct)),Ee=ct=>Number.parseInt(ge.slice(ct,ct+2),16),Te=ct=>Re(Math.round(ct)).toString(16).padStart(2,"0"),ce=Ee(0),et=Ee(2),pn=Ee(4);return`#${Te(ce*q)}${Te(et*q)}${Te(pn*q)}`},kN=x.useMemo(()=>{const F=new Map;return ee.skillOptions.forEach(q=>{F.set(q.id,{name:q.name,icon:q.icon})}),F},[ee.skillOptions]),ld=x.useMemo(()=>{var ct;if(me.length===0)return[];const F=new Map,q=new Map;let ge=0;me.forEach(Qt=>{const kt=qs.get(Qt);if(!kt)return;ge+=kt.totalActiveSeconds||0,Object.entries(kt.skillTotals||{}).forEach(([st,Rn])=>{F.set(st,(F.get(st)||0)+Number(Rn||0))});const Jt=kt.profession||"Unknown";q.set(Jt,(q.get(Jt)||0)+(kt.totalActiveSeconds||0))});const Re=ke.trim().toLowerCase(),Ee=xt==="perSecond",Te=((ct=Array.from(q.entries()).sort((Qt,kt)=>kt[1]-Qt[1])[0])==null?void 0:ct[0])||"Unknown",ce=ic(Te),et="#64748b";return Array.from(F.entries()).map(([Qt,kt])=>{const Jt=kN.get(Qt),st=(Jt==null?void 0:Jt.name)||Qt,Rn=Ee&&ge>0?kt/ge:kt;return{skillId:Qt,name:st,icon:Jt==null?void 0:Jt.icon,total:Rn}}).filter(Qt=>Qt.total>0&&(!Re||Qt.name.toLowerCase().includes(Re))).sort((Qt,kt)=>kt.total-Qt.total).map((Qt,kt)=>({...Qt,color:kt===0?ce:Km(ce,.85-Math.min(kt*.06,.4))||et}))},[me,qs,ke,xt,kN]);x.useEffect(()=>{if(ld.length===0){Me!==null&&Ze(null);return}(!Me||!ld.some(F=>F.skillId===Me))&&Ze(ld[0].skillId)},[ld,Me,Ze]);const Lc=ee.skillOptions.find(F=>F.id===Me),KF=(Lc==null?void 0:Lc.name)||"",GF=(Lc==null?void 0:Lc.icon)||null,YF=X&&!!Me&&me.length>0,Gm="__all__",XF=X&&Tn.length>0,Ks=x.useMemo(()=>Tn.find(F=>F.profession===lt)??null,[Tn,lt]),ZF=_n===Gm,QF=x.useMemo(()=>{var F;return((F=Ks==null?void 0:Ks.skills)==null?void 0:F.find(q=>q.id===_n))??null},[Ks,_n]);x.useEffect(()=>{if(Tn.length===0){lt!==null&&yt(null),ln!==null&&kn(null);return}if(!lt||!Tn.some(F=>F.profession===lt)){const F=Tn[0].profession;yt(F),kn(null)}},[Tn,lt,ln]),x.useEffect(()=>{if(!Ks||Ks.skills.length===0){_n!==null&&Vr(null);return}const F=Ks.skills.some(q=>q.id===_n);(!_n||!F&&_n!==Gm)&&Vr(Gm)},[Ks,_n]);const JF=F=>{Fe(q=>q.includes(F)?q.filter(ge=>ge!==F):[...q,F])},eR=F=>{Fe(q=>q.filter(ge=>ge!==F))},tR=x.useMemo(()=>{const F=un.trim().toLowerCase(),q=W.boonTables||[];return F?q.filter(ge=>ge.name.toLowerCase().includes(F)):q},[W.boonTables,un]),nR=x.useMemo(()=>ie?(W.boonTables||[]).find(F=>F.id===ie)??null:null,[W.boonTables,ie]),rR=x.useMemo(()=>{const F=Ht.trim().toLowerCase(),q=[...W.specialTables||[]].sort((ge,Re)=>ge.name.localeCompare(Re.name));return F?q.filter(ge=>ge.name.toLowerCase().includes(F)):q},[W.specialTables,Ht]),Xa=x.useMemo(()=>[...W.specialTables||[]].filter(q=>/\b(sigil|relic)\b/i.test(String((q==null?void 0:q.name)||""))).sort((q,ge)=>q.name.localeCompare(ge.name)),[W.specialTables]),iR=x.useMemo(()=>{const F=cr.trim().toLowerCase();return F?Xa.filter(q=>q.name.toLowerCase().includes(F)):Xa},[Xa,cr]),aR=x.useMemo(()=>Se?(W.specialTables||[]).find(F=>F.id===Se)??null:null,[W.specialTables,Se]),sR=x.useMemo(()=>hn?Xa.find(F=>F.id===hn)??null:null,[Xa,hn]);x.useEffect(()=>{!W.boonTables||W.boonTables.length===0||(!ie||!W.boonTables.some(F=>F.id===ie))&&Be(W.boonTables[0].id)},[W.boonTables,ie]),x.useEffect(()=>{!W.specialTables||W.specialTables.length===0||(!Se||!W.specialTables.some(F=>F.id===Se))&&Ft(W.specialTables[0].id)},[W.specialTables,Se]),x.useEffect(()=>{if(!Xa||Xa.length===0){hn!==null&&zr(null);return}(!hn||!Xa.some(F=>F.id===hn))&&zr(Xa[0].id)},[Xa,hn]),x.useEffect(()=>{const F=()=>{const ge=window.getSelection();ge&&ge.rangeCount>0&&ge.removeAllRanges()},q=ge=>{var Ee;const Re=ge.target;(Ee=Re==null?void 0:Re.closest)!=null&&Ee.call(Re,".recharts-wrapper")&&(ge.preventDefault(),F())};return document.addEventListener("selectstart",q),document.addEventListener("mousedown",q),document.addEventListener("mousemove",q),document.addEventListener("dragstart",q),()=>{document.removeEventListener("selectstart",q),document.removeEventListener("mousedown",q),document.removeEventListener("mousemove",q),document.removeEventListener("dragstart",q)}},[]);const Gi=F=>{Et.current&&(window.clearTimeout(Et.current),Et.current=null),nt(!1),He(F)},yi=()=>{ae&&(Et.current&&window.clearTimeout(Et.current),nt(!0),Et.current=window.setTimeout(()=>{He(null),nt(!1),Et.current=null},160))};x.useEffect(()=>{if(!ae)return;const F=Re=>{Re.key==="Escape"&&yi()},q=document.body.style.overflow,ge=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",F),()=>{window.removeEventListener("keydown",F),document.body.style.overflow=q,document.documentElement.style.overflow=ge}},[ae]);const SN=(F,q)=>{const ge=((q==null?void 0:q.value)||0)-((F==null?void 0:F.value)||0);return ge!==0?ge:String((F==null?void 0:F.name)||"").localeCompare(String((q==null?void 0:q.name)||""))},NN=Array.isArray(W==null?void 0:W.squadClassData)?W.squadClassData:[],CN=Array.isArray(W==null?void 0:W.enemyClassData)?W.enemyClassData:[],oR=Array.isArray(W==null?void 0:W.attendanceData)?W.attendanceData:[],Cv=Array.isArray(W==null?void 0:W.squadCompByFight)?W.squadCompByFight:[],jN=Array.isArray(W==null?void 0:W.fightBreakdown)?W.fightBreakdown:[],lR=x.useMemo(()=>{const F=new Map;return jN.forEach(q=>{const ge=String((q==null?void 0:q.id)||"");ge&&F.set(ge,q)}),Cv.map(q=>{const ge=F.get(String((q==null?void 0:q.id)||""))||null;return{...q,enemyClassCounts:(ge==null?void 0:ge.enemyClassCounts)||{}}})},[Cv,jN]),cR=x.useMemo(()=>[...NN].sort(SN),[NN]),uR=x.useMemo(()=>[...CN].sort(SN),[CN]),dR=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-6xl mx-auto overflow-hidden",fR=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${ae?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${ae?"":"backdrop-blur-2xl"}`,mR=c&&h!=="matte"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:void 0,hR=F=>xt==="perSecond"?F.toFixed(1):Math.round(F).toLocaleString(),pR=F=>F.toFixed(1),gR=F=>Math.round(F).toLocaleString(),vR=F=>typeof F=="number"&&Number.isFinite(F)?F.toFixed(1):"0.0",Ii=lie;return u.jsxs("div",{className:dR,children:[ae&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${Oe?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:yi}),u.jsx(Fie,{embedded:c,dashboardTitle:f,totalLogs:W.total,onBack:t,devMockAvailable:M,devMockUploadState:J,onDevMockUpload:ne,uploadingWeb:D,onWebUpload:le,sharing:z,canShareDiscord:m,onShare:R}),u.jsx(Rie,{embedded:c,webUploadMessage:_,webUploadUrl:A,webUploadBuildStatus:$,webCopyStatus:L,setWebCopyStatus:K}),u.jsx(Bie,{embedded:c,devMockAvailable:M,devMockUploadState:J}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:k,className:`${fR} ${c?"":"flex-1"}`,style:mR,children:[u.jsxs(u.Fragment,{children:[u.jsx(Nie,{stats:W,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr}),u.jsx(Cie,{stats:W,fightBreakdownTab:Dt,setFightBreakdownTab:gt,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr}),u.jsx(Aie,{stats:W,showTopStats:g,showMvp:b,topStatsMode:S,expandedLeader:je,setExpandedLeader:$e,formatTopStatValue:Fo,formatWithCommas:_a,isMvpStatEnabled:Z,renderProfessionIcon:Ii,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr}),u.jsx(Tie,{stats:W,topSkillsMetric:P,onTopSkillsMetricChange:oe,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr}),u.jsx(Eie,{sortedSquadClassData:cR,sortedEnemyClassData:uR,getProfessionIconPath:Yl,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr}),u.jsx(Oie,{attendanceRows:oR,getProfessionIconPath:Yl,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr}),u.jsx(_ie,{fights:Cv,getProfessionIconPath:Yl,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr}),u.jsx($ie,{fights:lR,getProfessionIconPath:Yl,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr}),u.jsx(Die,{timelineData:W.timelineData,timelineFriendlyScope:Xe,setTimelineFriendlyScope:Ye,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr}),u.jsx(Mie,{mapData:W.mapData,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr}),u.jsx(mie,{stats:W,OFFENSE_METRICS:iO,roundCountStats:w,offenseSearch:Di,setOffenseSearch:vn,activeOffenseStat:rt,setActiveOffenseStat:Ct,offenseViewMode:ye,setOffenseViewMode:fe,formatWithCommas:_a,renderProfessionIcon:Ii,expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,sidebarListClass:Ns}),u.jsx(fie,{expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,sidebarListClass:Ns,viewMode:zm,setViewMode:Um,playerSkillBreakdowns:Gn,classSkillBreakdowns:li,activePlayerKey:Ta,setActivePlayerKey:Ws,expandedPlayerKey:jl,setExpandedPlayerKey:od,activePlayerSkillId:Ea,setActivePlayerSkillId:Pl,activeClassKey:ys,setActiveClassKey:Ae,expandedClassKey:qe,setExpandedClassKey:Ke,activeClassSkillId:Je,setActiveClassSkillId:zt,skillSearch:Rm,setSkillSearch:Bm,activePlayerBreakdown:Oi,activePlayerSkill:Oo,activeClassBreakdown:qi,activeClassSkill:Ki,renderProfessionIcon:Ii}),u.jsx(WA,{expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,spikePlayerFilter:Sl,setSpikePlayerFilter:Nl,groupedSpikePlayers:Io,spikeMode:on,setSpikeMode:An,selectedSpikePlayerKey:_e,setSelectedSpikePlayerKey:Le,selectedSpikePlayer:Vm,spikeChartData:da,spikeChartMaxY:Wm,selectedSpikeFightIndex:Qe,setSelectedSpikeFightIndex:Vt,spikeDrilldownTitle:Al.title,spikeDrilldownData:Al.data,spikeDrilldownDownIndices:Al.downIndices,spikeDrilldownDeathIndices:Al.deathIndices,spikeFightSkillRows:Dl,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:_a,renderProfessionIcon:Ii}),u.jsx(hie,{conditionSummary:qm,conditionPlayers:zF,conditionSearch:Mi,setConditionSearch:Mc,activeConditionName:tn,setActiveConditionName:Ge,conditionDirection:zs,setConditionDirection:G,conditionGridClass:ur,effectiveConditionSort:Ur,setConditionSort:Nn,showConditionDamage:Or,renderProfessionIcon:Ii,expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,sidebarListClass:Ns}),u.jsx(gie,{stats:W,DEFENSE_METRICS:aO,defenseSearch:xn,setDefenseSearch:br,activeDefenseStat:_t,setActiveDefenseStat:an,defenseViewMode:Ve,setDefenseViewMode:Ne,roundCountStats:w,formatWithCommas:_a,renderProfessionIcon:Ii,expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,sidebarListClass:Ns}),u.jsx(WA,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,spikePlayerFilter:Bs,setSpikePlayerFilter:Cl,groupedSpikePlayers:Hm,spikeMode:Pe,setSpikeMode:it,selectedSpikePlayerKey:Xt,setSelectedSpikePlayerKey:Zt,selectedSpikePlayer:Ic,spikeChartData:dr,spikeChartMaxY:Tl,selectedSpikeFightIndex:bn,setSelectedSpikeFightIndex:ue,spikeDrilldownTitle:bs.title,spikeDrilldownData:bs.data,spikeDrilldownDownIndices:bs.downIndices,spikeDrilldownDeathIndices:bs.deathIndices,spikeFightSkillRows:El,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:_a,renderProfessionIcon:Ii}),u.jsx(vie,{stats:W,DAMAGE_MITIGATION_METRICS:Qz,damageMitigationSearch:dn,setDamageMitigationSearch:Jr,activeDamageMitigationStat:Pt,setActiveDamageMitigationStat:jt,damageMitigationViewMode:ot,setDamageMitigationViewMode:mt,damageMitigationScope:ft,setDamageMitigationScope:Lt,roundCountStats:w,formatWithCommas:_a,renderProfessionIcon:Ii,expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,sidebarListClass:Ns}),u.jsx(pie,{stats:W,activeBoonCategory:De,setActiveBoonCategory:F=>vt(F),activeBoonMetric:sn,setActiveBoonMetric:Pn,activeBoonTab:ie,setActiveBoonTab:Be,activeBoonTable:nR,filteredBoonTables:tR,boonSearch:un,setBoonSearch:he,formatBoonMetricDisplay:kU,getBoonMetricValue:jO,renderProfessionIcon:Ii,roundCountStats:w,expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,sidebarListClass:Ns}),u.jsx(xie,{stats:W,SUPPORT_METRICS:sO,supportSearch:pe,setSupportSearch:we,activeSupportStat:Ar,setActiveSupportStat:xs,supportViewMode:wt,setSupportViewMode:qt,cleanseScope:Gt,setCleanseScope:In,roundCountStats:w,formatWithCommas:_a,renderProfessionIcon:Ii,expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,sidebarListClass:Ns}),u.jsx(yie,{stats:W,HEALING_METRICS:Jz,activeHealingMetric:kv,setActiveHealingMetric:Sv,healingCategory:Nv,setHealingCategory:E,activeResUtilitySkill:V,setActiveResUtilitySkill:H,skillUsageData:ee,formatWithCommas:_a,renderProfessionIcon:Ii,expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr}),u.jsx(wie,{stats:W,specialSearch:Ht,setSpecialSearch:gn,filteredSpecialTables:rR,activeSpecialTab:Se,setActiveSpecialTab:Ft,activeSpecialTable:aR,formatWithCommas:_a,renderProfessionIcon:Ii,expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,sidebarListClass:Ns}),u.jsx(Sie,{hasSigilRelicTables:Xa.length>0,sigilRelicSearch:cr,setSigilRelicSearch:ua,filteredSigilRelicTables:iR,activeSigilRelicTab:hn,setActiveSigilRelicTab:zr,activeSigilRelicTable:sR,formatWithCommas:_a,renderProfessionIcon:Ii,expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,sidebarListClass:Ns}),u.jsx(cie,{expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,selectedPlayers:me,setSelectedPlayers:Fe,removeSelectedPlayer:eR,playerMapByKey:qs,groupedSkillUsagePlayers:BF,expandedSkillUsageClass:Ot,setExpandedSkillUsageClass:At,togglePlayerSelection:JF,skillUsagePlayerFilter:Yt,setSkillUsagePlayerFilter:ve,skillUsageView:xt,setSkillUsageView:Rt,skillUsageData:ee,skillUsageSkillFilter:ke,setSkillUsageSkillFilter:ze,selectedSkillId:Me,setSelectedSkillId:Ze,skillBarData:ld,selectedSkillName:KF,selectedSkillIcon:GF,skillUsageReady:YF,skillUsageAvailable:X,isSkillUsagePerSecond:Ut,skillChartData:FF,skillChartMaxY:RF,playerTotalsForSkill:_c,hoveredSkillPlayer:$t,setHoveredSkillPlayer:Nt,getLineStrokeColor:qF,getLineDashForPlayer:HF,formatSkillUsageValue:hR,renderProfessionIcon:Ii}),u.jsx(die,{expandedSection:ae,expandedSectionClosing:Oe,openExpandedSection:Gi,closeExpandedSection:yi,isSectionVisible:Ln,isFirstVisibleSection:ir,sectionClass:rr,sidebarListClass:Ns,apmSpecAvailable:XF,skillUsageAvailable:X,apmSpecTables:Tn,activeApmSpec:lt,setActiveApmSpec:yt,expandedApmSpec:ln,setExpandedApmSpec:kn,activeApmSkillId:_n,setActiveApmSkillId:Vr,ALL_SKILLS_KEY:Gm,apmSkillSearch:Us,setApmSkillSearch:Vs,activeApmSpecTable:Ks,activeApmSkill:QF,isAllApmSkills:ZF,apmView:Ie,setApmView:tt,formatApmValue:vR,formatCastRateValue:pR,formatCastCountValue:gR,renderProfessionIcon:Ii})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})}),u.jsx(zie,{embedded:c,mobileNavOpen:T,setMobileNavOpen:j,tocGroups:O,tocItems:re,activeNavId:U,scrollToSection:Q,stepSection:B})]})}const Hie="Arcane",qie="CRT",np="MatteSlate",rp={id:Hie,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Kie={id:np,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Gie=[rp,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Yie={id:qie,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Pd=[...Gie,Yie,Kie];function Xie(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Zie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qie=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Jie={};function HA(e,t){return(Jie.jsx?Qie:Zie).test(e)}const eae=/[ \t\n\f\r]/g;function tae(e){return typeof e=="object"?e.type==="text"?qA(e.value):!1:qA(e)}function qA(e){return e.replace(eae,"")===""}class Mm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Mm.prototype.normal={};Mm.prototype.property={};Mm.prototype.space=void 0;function dL(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Mm(n,r,t)}function Jb(e){return e.toLowerCase()}class ca{constructor(t,n){this.attribute=n,this.property=t}}ca.prototype.attribute="";ca.prototype.booleanish=!1;ca.prototype.boolean=!1;ca.prototype.commaOrSpaceSeparated=!1;ca.prototype.commaSeparated=!1;ca.prototype.defined=!1;ca.prototype.mustUseProperty=!1;ca.prototype.number=!1;ca.prototype.overloadedBoolean=!1;ca.prototype.property="";ca.prototype.spaceSeparated=!1;ca.prototype.space=void 0;let nae=0;const rn=Tc(),_r=Tc(),ew=Tc(),We=Tc(),Wn=Tc(),Nu=Tc(),ma=Tc();function Tc(){return 2**++nae}const tw=Object.freeze(Object.defineProperty({__proto__:null,boolean:rn,booleanish:_r,commaOrSpaceSeparated:ma,commaSeparated:Nu,number:We,overloadedBoolean:ew,spaceSeparated:Wn},Symbol.toStringTag,{value:"Module"})),Ex=Object.keys(tw);class DS extends ca{constructor(t,n,r,i){let a=-1;if(super(t,n),KA(this,"space",i),typeof r=="number")for(;++a<Ex.length;){const s=Ex[a];KA(this,Ex[a],(r&tw[s])===tw[s])}}}DS.prototype.defined=!0;function KA(e,t,n){n&&(e[t]=n)}function ad(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new DS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[Jb(r)]=r,n[Jb(a.attribute)]=r}return new Mm(t,n,e.space)}const fL=ad({properties:{ariaActiveDescendant:null,ariaAtomic:_r,ariaAutoComplete:null,ariaBusy:_r,ariaChecked:_r,ariaColCount:We,ariaColIndex:We,ariaColSpan:We,ariaControls:Wn,ariaCurrent:null,ariaDescribedBy:Wn,ariaDetails:null,ariaDisabled:_r,ariaDropEffect:Wn,ariaErrorMessage:null,ariaExpanded:_r,ariaFlowTo:Wn,ariaGrabbed:_r,ariaHasPopup:null,ariaHidden:_r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Wn,ariaLevel:We,ariaLive:null,ariaModal:_r,ariaMultiLine:_r,ariaMultiSelectable:_r,ariaOrientation:null,ariaOwns:Wn,ariaPlaceholder:null,ariaPosInSet:We,ariaPressed:_r,ariaReadOnly:_r,ariaRelevant:null,ariaRequired:_r,ariaRoleDescription:Wn,ariaRowCount:We,ariaRowIndex:We,ariaRowSpan:We,ariaSelected:_r,ariaSetSize:We,ariaSort:null,ariaValueMax:We,ariaValueMin:We,ariaValueNow:We,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function mL(e,t){return t in e?e[t]:t}function hL(e,t){return mL(e,t.toLowerCase())}const rae=ad({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Nu,acceptCharset:Wn,accessKey:Wn,action:null,allow:null,allowFullScreen:rn,allowPaymentRequest:rn,allowUserMedia:rn,alt:null,as:null,async:rn,autoCapitalize:null,autoComplete:Wn,autoFocus:rn,autoPlay:rn,blocking:Wn,capture:null,charSet:null,checked:rn,cite:null,className:Wn,cols:We,colSpan:null,content:null,contentEditable:_r,controls:rn,controlsList:Wn,coords:We|Nu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rn,defer:rn,dir:null,dirName:null,disabled:rn,download:ew,draggable:_r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rn,formTarget:null,headers:Wn,height:We,hidden:ew,high:We,href:null,hrefLang:null,htmlFor:Wn,httpEquiv:Wn,id:null,imageSizes:null,imageSrcSet:null,inert:rn,inputMode:null,integrity:null,is:null,isMap:rn,itemId:null,itemProp:Wn,itemRef:Wn,itemScope:rn,itemType:Wn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rn,low:We,manifest:null,max:null,maxLength:We,media:null,method:null,min:null,minLength:We,multiple:rn,muted:rn,name:null,nonce:null,noModule:rn,noValidate:rn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rn,optimum:We,pattern:null,ping:Wn,placeholder:null,playsInline:rn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rn,referrerPolicy:null,rel:Wn,required:rn,reversed:rn,rows:We,rowSpan:We,sandbox:Wn,scope:null,scoped:rn,seamless:rn,selected:rn,shadowRootClonable:rn,shadowRootDelegatesFocus:rn,shadowRootMode:null,shape:null,size:We,sizes:null,slot:null,span:We,spellCheck:_r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:We,step:null,style:null,tabIndex:We,target:null,title:null,translate:null,type:null,typeMustMatch:rn,useMap:null,value:_r,width:We,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Wn,axis:null,background:null,bgColor:null,border:We,borderColor:null,bottomMargin:We,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rn,declare:rn,event:null,face:null,frame:null,frameBorder:null,hSpace:We,leftMargin:We,link:null,longDesc:null,lowSrc:null,marginHeight:We,marginWidth:We,noResize:rn,noHref:rn,noShade:rn,noWrap:rn,object:null,profile:null,prompt:null,rev:null,rightMargin:We,rules:null,scheme:null,scrolling:_r,standby:null,summary:null,text:null,topMargin:We,valueType:null,version:null,vAlign:null,vLink:null,vSpace:We,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rn,disableRemotePlayback:rn,prefix:null,property:null,results:We,security:null,unselectable:null},space:"html",transform:hL}),iae=ad({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ma,accentHeight:We,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:We,amplitude:We,arabicForm:null,ascent:We,attributeName:null,attributeType:null,azimuth:We,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:We,by:null,calcMode:null,capHeight:We,className:Wn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:We,diffuseConstant:We,direction:null,display:null,dur:null,divisor:We,dominantBaseline:null,download:rn,dx:null,dy:null,edgeMode:null,editable:null,elevation:We,enableBackground:null,end:null,event:null,exponent:We,externalResourcesRequired:null,fill:null,fillOpacity:We,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Nu,g2:Nu,glyphName:Nu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:We,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:We,horizOriginX:We,horizOriginY:We,id:null,ideographic:We,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:We,k:We,k1:We,k2:We,k3:We,k4:We,kernelMatrix:ma,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:We,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:We,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:We,overlineThickness:We,paintOrder:null,panose1:null,path:null,pathLength:We,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Wn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:We,pointsAtY:We,pointsAtZ:We,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ma,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ma,rev:ma,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ma,requiredFeatures:ma,requiredFonts:ma,requiredFormats:ma,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:We,specularExponent:We,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:We,strikethroughThickness:We,string:null,stroke:null,strokeDashArray:ma,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:We,strokeOpacity:We,strokeWidth:null,style:null,surfaceScale:We,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ma,tabIndex:We,tableValues:null,target:null,targetX:We,targetY:We,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ma,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:We,underlineThickness:We,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:We,values:null,vAlphabetic:We,vMathematical:We,vectorEffect:null,vHanging:We,vIdeographic:We,version:null,vertAdvY:We,vertOriginX:We,vertOriginY:We,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:We,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:mL}),pL=ad({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),gL=ad({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:hL}),vL=ad({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),aae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sae=/[A-Z]/g,GA=/-[a-z]/g,oae=/^data[-\w.:]+$/i;function lae(e,t){const n=Jb(t);let r=t,i=ca;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&oae.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(GA,uae);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!GA.test(a)){let s=a.replace(sae,cae);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=DS}return new i(r,t)}function cae(e){return"-"+e.toLowerCase()}function uae(e){return e.charAt(1).toUpperCase()}const dae=dL([fL,rae,pL,gL,vL],"html"),MS=dL([fL,iae,pL,gL,vL],"svg");function fae(e){return e.join(" ").trim()}var OS={},YA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,mae=/\n/g,hae=/^\s*/,pae=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,gae=/^:\s*/,vae=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,xae=/^[;\s]*/,yae=/^\s+|\s+$/g,bae=`
`,XA="/",ZA="*",Wl="",wae="comment",kae="declaration";function Sae(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var v=p.match(mae);v&&(n+=v.length);var y=p.lastIndexOf(bae);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(v){return v.position=new s(p),c(),v}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var v=new Error(t.source+":"+n+":"+r+": "+p);if(v.reason=p,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(p){var v=p.exec(e);if(v){var y=v[0];return i(y),e=e.slice(y.length),v}}function c(){l(hae)}function d(p){var v;for(p=p||[];v=f();)v!==!1&&p.push(v);return p}function f(){var p=a();if(!(XA!=e.charAt(0)||ZA!=e.charAt(1))){for(var v=2;Wl!=e.charAt(v)&&(ZA!=e.charAt(v)||XA!=e.charAt(v+1));)++v;if(v+=2,Wl===e.charAt(v-1))return o("End of comment missing");var y=e.slice(2,v-2);return r+=2,i(y),e=e.slice(v),r+=2,p({type:wae,comment:y})}}function h(){var p=a(),v=l(pae);if(v){if(f(),!l(gae))return o("property missing ':'");var y=l(vae),g=p({type:kae,property:QA(v[0].replace(YA,Wl)),value:y?QA(y[0].replace(YA,Wl)):Wl});return l(xae),g}}function m(){var p=[];d(p);for(var v;v=h();)v!==!1&&(p.push(v),d(p));return p}return c(),m()}function QA(e){return e?e.replace(yae,Wl):Wl}var Nae=Sae,Cae=lp&&lp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OS,"__esModule",{value:!0});OS.default=Pae;const jae=Cae(Nae);function Pae(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,jae.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var cv={};Object.defineProperty(cv,"__esModule",{value:!0});cv.camelCase=void 0;var Aae=/^--[a-zA-Z0-9_-]+$/,Tae=/-([a-z])/g,Eae=/^[^-]+$/,Dae=/^-(webkit|moz|ms|o|khtml)-/,Mae=/^-(ms)-/,Oae=function(e){return!e||Eae.test(e)||Aae.test(e)},Iae=function(e,t){return t.toUpperCase()},JA=function(e,t){return"".concat(t,"-")},_ae=function(e,t){return t===void 0&&(t={}),Oae(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Mae,JA):e=e.replace(Dae,JA),e.replace(Tae,Iae))};cv.camelCase=_ae;var Lae=lp&&lp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},$ae=Lae(OS),Fae=cv;function nw(e,t){var n={};return!e||typeof e!="string"||(0,$ae.default)(e,function(r,i){r&&i&&(n[(0,Fae.camelCase)(r,t)]=i)}),n}nw.default=nw;var Rae=nw;const Bae=hs(Rae),xL=yL("end"),IS=yL("start");function yL(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function zae(e){const t=IS(e),n=xL(e);if(t&&n)return{start:t,end:n}}function Zd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?eT(e.position):"start"in e||"end"in e?eT(e):"line"in e||"column"in e?rw(e):""}function rw(e){return tT(e&&e.line)+":"+tT(e&&e.column)}function eT(e){return rw(e&&e.start)+"-"+rw(e&&e.end)}function tT(e){return e&&typeof e=="number"?e:1}class Ei extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Zd(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ei.prototype.file="";Ei.prototype.name="";Ei.prototype.reason="";Ei.prototype.message="";Ei.prototype.stack="";Ei.prototype.column=void 0;Ei.prototype.line=void 0;Ei.prototype.ancestors=void 0;Ei.prototype.cause=void 0;Ei.prototype.fatal=void 0;Ei.prototype.place=void 0;Ei.prototype.ruleId=void 0;Ei.prototype.source=void 0;const _S={}.hasOwnProperty,Uae=new Map,Vae=/[A-Z]/g,Wae=new Set(["table","tbody","thead","tfoot","tr"]),Hae=new Set(["td","th"]),bL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function qae(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=ese(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Jae(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?MS:dae,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=wL(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function wL(e,t,n){if(t.type==="element")return Kae(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Gae(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Xae(e,t,n);if(t.type==="mdxjsEsm")return Yae(e,t);if(t.type==="root")return Zae(e,t,n);if(t.type==="text")return Qae(e,t)}function Kae(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=MS,e.schema=i),e.ancestors.push(t);const a=SL(e,t.tagName,!1),s=tse(e,t);let o=$S(e,t);return Wae.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!tae(l):!0})),kL(e,s,a,t),LS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Gae(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Hf(e,t.position)}function Yae(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Hf(e,t.position)}function Xae(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=MS,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:SL(e,t.name,!0),s=nse(e,t),o=$S(e,t);return kL(e,s,a,t),LS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Zae(e,t,n){const r={};return LS(r,$S(e,t)),e.create(t,e.Fragment,r,n)}function Qae(e,t){return t.value}function kL(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function LS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Jae(e,t,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:t;return o?c(a,s,o):c(a,s)}}function ese(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=IS(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function tse(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&_S.call(t.properties,i)){const a=rse(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Hae.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function nse(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Hf(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Hf(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function $S(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Uae;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=wL(e,a,s);o!==void 0&&n.push(o)}return n}function rse(e,t,n){const r=lae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Xie(n):fae(n)),r.property==="style"){let i=typeof n=="object"?n:ise(e,String(n));return e.stylePropertyNameCase==="css"&&(i=ase(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?aae[r.property]||r.property:r.attribute,n]}}function ise(e,t){try{return Bae(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ei("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=bL+"#cannot-parse-style-attribute",i}}function SL(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=HA(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=HA(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return _S.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Hf(e)}function Hf(e,t){const n=new Ei("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=bL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ase(e){const t={};let n;for(n in e)_S.call(e,n)&&(t[sse(n)]=e[n]);return t}function sse(e){let t=e.replace(Vae,ose);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ose(e){return"-"+e.toLowerCase()}const Dx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},lse={};function FS(e,t){const n=lse,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return NL(e,r,i)}function NL(e,t,n){if(cse(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return nT(e.children,t,n)}return Array.isArray(e)?nT(e,t,n):""}function nT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=NL(e[i],t,n);return r.join("")}function cse(e){return!!(e&&typeof e=="object")}const rT=document.createElement("i");function RS(e){const t="&"+e+";";rT.innerHTML=t;const n=rT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ka(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Ba(e,t){return e.length>0?(ka(e,e.length,0,t),e):t}const iT={}.hasOwnProperty;function CL(e){const t={};let n=-1;for(;++n<e.length;)use(t,e[n]);return t}function use(e,t){let n;for(n in t){const i=(iT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){iT.call(i,s)||(i[s]=[]);const o=a[s];dse(i[s],Array.isArray(o)?o:o?[o]:[])}}}function dse(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ka(e,0,0,r)}function jL(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ls(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Fi=wl(/[A-Za-z]/),Ai=wl(/[\dA-Za-z]/),fse=wl(/[#-'*+\--9=?A-Z^-~]/);function Mg(e){return e!==null&&(e<32||e===127)}const iw=wl(/\d/),mse=wl(/[\dA-Fa-f]/),hse=wl(/[!-/:-@[-`{-~]/);function It(e){return e!==null&&e<-2}function Un(e){return e!==null&&(e<0||e===32)}function fn(e){return e===-2||e===-1||e===32}const uv=wl(new RegExp("\\p{P}|\\p{S}","u")),Nc=wl(/\s/);function wl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function sd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Ai(e.charCodeAt(n+1))&&Ai(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function yn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return fn(l)?(e.enter(n),o(l)):t(l)}function o(l){return fn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const pse={tokenize:gse};function gse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),yn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return It(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const vse={tokenize:xse},aT={tokenize:yse};function xse(e){const t=this,n=[];let r=0,i,a,s;return o;function o(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let C=S,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}g(r);let P=S;for(;P<t.events.length;)t.events[P][1].end={...N},P++;return ka(t.events,C+1,0,t.events.slice(S)),t.events.length=P,c(w)}return o(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(aT,d,f)(w)}function d(w){return i&&b(),g(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function h(w){return t.containerState={},e.attempt(aT,m,p)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function p(w){if(w===null){i&&b(),g(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),v(w)}function v(w){if(w===null){y(e.exit("chunkFlow"),!0),g(0),e.consume(w);return}return It(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),v)}function y(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const P=t.events.length;let D=P,_,A;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(_){A=t.events[D][1].end;break}_=!0}for(g(r),N=P;N<t.events.length;)t.events[N][1].end={...A},N++;ka(t.events,D+1,0,t.events.slice(P)),t.events.length=N}}function g(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function yse(e,t,n){return yn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Vu(e){if(e===null||Un(e)||Nc(e))return 1;if(uv(e))return 2}function dv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const aw={name:"attention",resolveAll:bse,tokenize:wse};function bse(e,t){let n=-1,r,i,a,s,o,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};sT(f,-l),sT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Ba(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Ba(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=Ba(c,dv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Ba(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Ba(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ka(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function wse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Vu(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),d=Vu(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function sT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const kse={name:"autolink",tokenize:Sse};function Sse(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Fi(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||Ai(m)?(r=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ai(m))&&r++<32?(e.consume(m),o):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Mg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):fse(m)?(e.consume(m),c):n(m)}function d(m){return Ai(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Ai(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const Om={partial:!0,tokenize:Nse};function Nse(e,t,n){return r;function r(a){return fn(a)?yn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||It(a)?t(a):n(a)}}const PL={continuation:{tokenize:jse},exit:Pse,name:"blockQuote",tokenize:Cse};function Cse(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return fn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function jse(e,t,n){const r=this;return i;function i(s){return fn(s)?yn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(PL,t,n)(s)}}function Pse(e){e.exit("blockQuote")}const AL={name:"characterEscape",tokenize:Ase};function Ase(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return hse(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const TL={name:"characterReference",tokenize:Tse};function Tse(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=Ai,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=mse,d):(e.enter("characterReferenceValue"),a=7,s=iw,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Ai&&!RS(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const oT={partial:!0,tokenize:Dse},lT={concrete:!0,name:"codeFenced",tokenize:Ese};function Ese(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(N){return c(N)}function c(N){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===o?(s++,e.consume(N),d):s<3?n(N):(e.exit("codeFencedFenceSequence"),fn(N)?yn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||It(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(oT,v,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||It(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):fn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),yn(e,m,"whitespace")(N)):N===96&&N===o?n(N):(e.consume(N),h)}function m(N){return N===null||It(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||It(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===o?n(N):(e.consume(N),p)}function v(N){return e.attempt(i,S,y)(N)}function y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),g}function g(N){return a>0&&fn(N)?yn(e,b,"linePrefix",a+1)(N):b(N)}function b(N){return N===null||It(N)?e.check(oT,v,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||It(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function C(N,P,D){let _=0;return A;function A(se){return N.enter("lineEnding"),N.consume(se),N.exit("lineEnding"),$}function $(se){return N.enter("codeFencedFence"),fn(se)?yn(N,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):M(se)}function M(se){return se===o?(N.enter("codeFencedFenceSequence"),te(se)):D(se)}function te(se){return se===o?(_++,N.consume(se),te):_>=s?(N.exit("codeFencedFenceSequence"),fn(se)?yn(N,Y,"whitespace")(se):Y(se)):D(se)}function Y(se){return se===null||It(se)?(N.exit("codeFencedFence"),P(se)):D(se)}}}function Dse(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Mx={name:"codeIndented",tokenize:Ose},Mse={partial:!0,tokenize:Ise};function Ose(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),yn(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):It(c)?e.attempt(Mse,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||It(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function Ise(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):It(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):yn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):It(s)?i(s):n(s)}}const _se={name:"codeText",previous:$se,resolve:Lse,tokenize:Fse};function Lse(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function $se(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Fse(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):It(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||It(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Rse{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ad(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ad(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ad(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ad(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ad(this.left,n.reverse())}}}function Ad(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function EL(e){const t={};let n=-1,r,i,a,s,o,l,c;const d=new Rse(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Bse(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return ka(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Bse(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,m=n,p=0,v=0;const y=[v];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(v=h+1,y.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const g=o.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+g.length-1]),e.splice(b,2,g)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const zse={resolve:Vse,tokenize:Wse},Use={partial:!0,tokenize:Hse};function Vse(e){return EL(e),e}function Wse(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):It(o)?e.check(Use,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Hse(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),yn(e,a,"linePrefix")}function a(s){if(s===null||It(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function DL(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(g),e.exit(a),h):g===null||g===32||g===41||Mg(g)?n(g):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),v(g))}function h(g){return g===62?(e.enter(a),e.consume(g),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(o),h(g)):g===null||g===60||It(g)?n(g):(e.consume(g),g===92?p:m)}function p(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function v(g){return!d&&(g===null||g===41||Un(g))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(g)):d<c&&g===40?(e.consume(g),d++,v):g===41?(e.consume(g),d--,v):g===null||g===32||g===40||Mg(g)?n(g):(e.consume(g),g===92?y:v)}function y(g){return g===40||g===41||g===92?(e.consume(g),v):v(g)}}function ML(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):It(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||It(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!fn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function OL(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===s?(e.exit(a),l(s)):h===null?n(h):It(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),yn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||It(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function Qd(e,t){let n;return r;function r(i){return It(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):fn(i)?yn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const qse={name:"definition",tokenize:Gse},Kse={partial:!0,tokenize:Yse};function Gse(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return ML.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=ls(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Un(m)?Qd(e,c)(m):c(m)}function c(m){return DL(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Kse,f,f)(m)}function f(m){return fn(m)?yn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||It(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Yse(e,t,n){return r;function r(o){return Un(o)?Qd(e,i)(o):n(o)}function i(o){return OL(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return fn(o)?yn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||It(o)?t(o):n(o)}}const Xse={name:"hardBreakEscape",tokenize:Zse};function Zse(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return It(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Qse={name:"headingAtx",resolve:Jse,tokenize:eoe};function Jse(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ka(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function eoe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Un(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||It(d)?(e.exit("atxHeading"),t(d)):fn(d)?yn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Un(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const toe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cT=["pre","script","style","textarea"],noe={concrete:!0,name:"htmlFlow",resolveTo:aoe,tokenize:soe},roe={partial:!0,tokenize:loe},ioe={partial:!0,tokenize:ooe};function aoe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function soe(e,t,n){const r=this;let i,a,s,o,l;return c;function c(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),a=!0,v):k===63?(e.consume(k),i=3,r.interrupt?t:T):Fi(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function h(k){return k===45?(e.consume(k),i=2,m):k===91?(e.consume(k),i=5,o=0,p):Fi(k)?(e.consume(k),i=4,r.interrupt?t:T):n(k)}function m(k){return k===45?(e.consume(k),r.interrupt?t:T):n(k)}function p(k){const O="CDATA[";return k===O.charCodeAt(o++)?(e.consume(k),o===O.length?r.interrupt?t:M:p):n(k)}function v(k){return Fi(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function y(k){if(k===null||k===47||k===62||Un(k)){const O=k===47,re=s.toLowerCase();return!O&&!a&&cT.includes(re)?(i=1,r.interrupt?t(k):M(k)):toe.includes(s.toLowerCase())?(i=6,O?(e.consume(k),g):r.interrupt?t(k):M(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?b(k):w(k))}return k===45||Ai(k)?(e.consume(k),s+=String.fromCharCode(k),y):n(k)}function g(k){return k===62?(e.consume(k),r.interrupt?t:M):n(k)}function b(k){return fn(k)?(e.consume(k),b):A(k)}function w(k){return k===47?(e.consume(k),A):k===58||k===95||Fi(k)?(e.consume(k),S):fn(k)?(e.consume(k),w):A(k)}function S(k){return k===45||k===46||k===58||k===95||Ai(k)?(e.consume(k),S):C(k)}function C(k){return k===61?(e.consume(k),N):fn(k)?(e.consume(k),C):w(k)}function N(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,P):fn(k)?(e.consume(k),N):D(k)}function P(k){return k===l?(e.consume(k),l=null,_):k===null||It(k)?n(k):(e.consume(k),P)}function D(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Un(k)?C(k):(e.consume(k),D)}function _(k){return k===47||k===62||fn(k)?w(k):n(k)}function A(k){return k===62?(e.consume(k),$):n(k)}function $(k){return k===null||It(k)?M(k):fn(k)?(e.consume(k),$):n(k)}function M(k){return k===45&&i===2?(e.consume(k),W):k===60&&i===1?(e.consume(k),ee):k===62&&i===4?(e.consume(k),j):k===63&&i===3?(e.consume(k),T):k===93&&i===5?(e.consume(k),oe):It(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(roe,U,te)(k)):k===null||It(k)?(e.exit("htmlFlowData"),te(k)):(e.consume(k),M)}function te(k){return e.check(ioe,Y,U)(k)}function Y(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),se}function se(k){return k===null||It(k)?te(k):(e.enter("htmlFlowData"),M(k))}function W(k){return k===45?(e.consume(k),T):M(k)}function ee(k){return k===47?(e.consume(k),s="",X):M(k)}function X(k){if(k===62){const O=s.toLowerCase();return cT.includes(O)?(e.consume(k),j):M(k)}return Fi(k)&&s.length<8?(e.consume(k),s+=String.fromCharCode(k),X):M(k)}function oe(k){return k===93?(e.consume(k),T):M(k)}function T(k){return k===62?(e.consume(k),j):k===45&&i===2?(e.consume(k),T):M(k)}function j(k){return k===null||It(k)?(e.exit("htmlFlowData"),U(k)):(e.consume(k),j)}function U(k){return e.exit("htmlFlow"),t(k)}}function ooe(e,t,n){const r=this;return i;function i(s){return It(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function loe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Om,t,n)}}const coe={name:"htmlText",tokenize:uoe};function uoe(e,t,n){const r=this;let i,a,s;return o;function o(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),l}function l(T){return T===33?(e.consume(T),c):T===47?(e.consume(T),C):T===63?(e.consume(T),w):Fi(T)?(e.consume(T),D):n(T)}function c(T){return T===45?(e.consume(T),d):T===91?(e.consume(T),a=0,p):Fi(T)?(e.consume(T),b):n(T)}function d(T){return T===45?(e.consume(T),m):n(T)}function f(T){return T===null?n(T):T===45?(e.consume(T),h):It(T)?(s=f,ee(T)):(e.consume(T),f)}function h(T){return T===45?(e.consume(T),m):f(T)}function m(T){return T===62?W(T):T===45?h(T):f(T)}function p(T){const j="CDATA[";return T===j.charCodeAt(a++)?(e.consume(T),a===j.length?v:p):n(T)}function v(T){return T===null?n(T):T===93?(e.consume(T),y):It(T)?(s=v,ee(T)):(e.consume(T),v)}function y(T){return T===93?(e.consume(T),g):v(T)}function g(T){return T===62?W(T):T===93?(e.consume(T),g):v(T)}function b(T){return T===null||T===62?W(T):It(T)?(s=b,ee(T)):(e.consume(T),b)}function w(T){return T===null?n(T):T===63?(e.consume(T),S):It(T)?(s=w,ee(T)):(e.consume(T),w)}function S(T){return T===62?W(T):w(T)}function C(T){return Fi(T)?(e.consume(T),N):n(T)}function N(T){return T===45||Ai(T)?(e.consume(T),N):P(T)}function P(T){return It(T)?(s=P,ee(T)):fn(T)?(e.consume(T),P):W(T)}function D(T){return T===45||Ai(T)?(e.consume(T),D):T===47||T===62||Un(T)?_(T):n(T)}function _(T){return T===47?(e.consume(T),W):T===58||T===95||Fi(T)?(e.consume(T),A):It(T)?(s=_,ee(T)):fn(T)?(e.consume(T),_):W(T)}function A(T){return T===45||T===46||T===58||T===95||Ai(T)?(e.consume(T),A):$(T)}function $(T){return T===61?(e.consume(T),M):It(T)?(s=$,ee(T)):fn(T)?(e.consume(T),$):_(T)}function M(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),i=T,te):It(T)?(s=M,ee(T)):fn(T)?(e.consume(T),M):(e.consume(T),Y)}function te(T){return T===i?(e.consume(T),i=void 0,se):T===null?n(T):It(T)?(s=te,ee(T)):(e.consume(T),te)}function Y(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||Un(T)?_(T):(e.consume(T),Y)}function se(T){return T===47||T===62||Un(T)?_(T):n(T)}function W(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),t):n(T)}function ee(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),X}function X(T){return fn(T)?yn(e,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):oe(T)}function oe(T){return e.enter("htmlTextData"),s(T)}}const BS={name:"labelEnd",resolveAll:hoe,resolveTo:poe,tokenize:goe},doe={tokenize:voe},foe={tokenize:xoe},moe={tokenize:yoe};function hoe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ka(e,0,e.length,n),e}function poe(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=Ba(o,e.slice(a+1,a+r+3)),o=Ba(o,[["enter",d,t]]),o=Ba(o,dv(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=Ba(o,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),o=Ba(o,e.slice(s+1)),o=Ba(o,[["exit",l,t]]),ka(e,a,e.length,o),e}function goe(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(ls(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(doe,d,s?d:f)(h):h===91?e.attempt(foe,d,s?c:f)(h):s?d(h):f(h)}function c(h){return e.attempt(moe,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function voe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Un(f)?Qd(e,a)(f):a(f)}function a(f){return f===41?d(f):DL(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Un(f)?Qd(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?OL(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Un(f)?Qd(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function xoe(e,t,n){const r=this;return i;function i(o){return ML.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(ls(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function yoe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const boe={name:"labelStartImage",resolveAll:BS.resolveAll,tokenize:woe};function woe(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const koe={name:"labelStartLink",resolveAll:BS.resolveAll,tokenize:Soe};function Soe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Ox={name:"lineEnding",tokenize:Noe};function Noe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),yn(e,t,"linePrefix")}}const ip={name:"thematicBreak",tokenize:Coe};function Coe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||It(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),fn(c)?yn(e,o,"whitespace")(c):o(c))}}const Zi={continuation:{tokenize:Toe},exit:Doe,name:"list",tokenize:Aoe},joe={partial:!0,tokenize:Moe},Poe={partial:!0,tokenize:Eoe};function Aoe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:iw(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(ip,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return iw(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Om,r.interrupt?n:d,e.attempt(joe,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return fn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Toe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Om,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!fn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Poe,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,yn(e,e.attempt(Zi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Eoe(e,t,n){const r=this;return yn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Doe(e){e.exit(this.containerState.type)}function Moe(e,t,n){const r=this;return yn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!fn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const uT={name:"setextUnderline",resolveTo:Ooe,tokenize:Ioe};function Ooe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function Ioe(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),fn(c)?yn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||It(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const _oe={tokenize:Loe};function Loe(e){const t=this,n=e.attempt(Om,r,e.attempt(this.parser.constructs.flowInitial,i,yn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(zse,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const $oe={resolveAll:_L()},Foe=IL("string"),Roe=IL("text");function IL(e){return{resolveAll:_L(e==="text"?Boe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function _L(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Boe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const zoe={42:Zi,43:Zi,45:Zi,48:Zi,49:Zi,50:Zi,51:Zi,52:Zi,53:Zi,54:Zi,55:Zi,56:Zi,57:Zi,62:PL},Uoe={91:qse},Voe={[-2]:Mx,[-1]:Mx,32:Mx},Woe={35:Qse,42:ip,45:[uT,ip],60:noe,61:uT,95:ip,96:lT,126:lT},Hoe={38:TL,92:AL},qoe={[-5]:Ox,[-4]:Ox,[-3]:Ox,33:boe,38:TL,42:aw,60:[kse,coe],91:koe,92:[Xse,AL],93:BS,95:aw,96:_se},Koe={null:[aw,$oe]},Goe={null:[42,95]},Yoe={null:[]},Xoe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Goe,contentInitial:Uoe,disable:Yoe,document:zoe,flow:Woe,flowInitial:Voe,insideSpan:Koe,string:Hoe,text:qoe},Symbol.toStringTag,{value:"Module"}));function Zoe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:P(C),check:P(N),consume:b,enter:w,exit:S,interrupt:P(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:v,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f($){return s=Ba(s,$),y(),s[s.length-1]!==null?[]:(D(t,0),c.events=dv(a,c.events,c),c.events)}function h($,M){return Joe(m($),M)}function m($){return Qoe(s,$)}function p(){const{_bufferIndex:$,_index:M,line:te,column:Y,offset:se}=r;return{_bufferIndex:$,_index:M,line:te,column:Y,offset:se}}function v($){i[$.line]=$.column,A()}function y(){let $;for(;r._index<s.length;){const M=s[r._index];if(typeof M=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<M.length;)g(M.charCodeAt(r._bufferIndex));else g(M)}}function g($){d=d($)}function b($){It($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,A()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=$}function w($,M){const te=M||{};return te.type=$,te.start=p(),c.events.push(["enter",te,c]),o.push(te),te}function S($){const M=o.pop();return M.end=p(),c.events.push(["exit",M,c]),M}function C($,M){D($,M.from)}function N($,M){M.restore()}function P($,M){return te;function te(Y,se,W){let ee,X,oe,T;return Array.isArray(Y)?U(Y):"tokenize"in Y?U([Y]):j(Y);function j(Q){return B;function B(J){const L=J!==null&&Q[J],K=J!==null&&Q.null,le=[...Array.isArray(L)?L:L?[L]:[],...Array.isArray(K)?K:K?[K]:[]];return U(le)(J)}}function U(Q){return ee=Q,X=0,Q.length===0?W:k(Q[X])}function k(Q){return B;function B(J){return T=_(),oe=Q,Q.partial||(c.currentConstruct=Q),Q.name&&c.parser.constructs.disable.null.includes(Q.name)?re():Q.tokenize.call(M?Object.assign(Object.create(c),M):c,l,O,re)(J)}}function O(Q){return $(oe,T),se}function re(Q){return T.restore(),++X<ee.length?k(ee[X]):W}}}function D($,M){$.resolveAll&&!a.includes($)&&a.push($),$.resolve&&ka(c.events,M,c.events.length-M,$.resolve(c.events.slice(M),c)),$.resolveTo&&(c.events=$.resolveTo(c.events,c))}function _(){const $=p(),M=c.previous,te=c.currentConstruct,Y=c.events.length,se=Array.from(o);return{from:Y,restore:W};function W(){r=$,c.previous=M,c.currentConstruct=te,c.events.length=Y,o=se,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Qoe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function Joe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function ele(e){const r={constructs:CL([Xoe,...(e||{}).extensions||[]]),content:i(pse),defined:[],document:i(vse),flow:i(_oe),lazy:{},string:i(Foe),text:i(Roe)};return r;function i(a){return s;function s(o){return Zoe(r,a,o)}}}function tle(e){for(;!EL(e););return e}const dT=/[\0\t\n\r]/g;function nle(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(dT.lastIndex=f,c=dT.exec(a),h=c&&c.index!==void 0?c.index:a.length,m=a.charCodeAt(h),!c){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const rle=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ile(e){return e.replace(rle,ale)}function ale(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return jL(n.slice(a?2:1),a?16:10)}return RS(n)||e}const LL={}.hasOwnProperty;function sle(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ole(n)(tle(ele(n).document().write(nle()(e,t,!0))))}function ole(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ie),autolinkProtocol:_,autolinkEmail:_,atxHeading:a(I),blockQuote:a(K),characterEscape:_,characterReference:_,codeFenced:a(le),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(le,s),codeText:a(ne,s),codeTextData:_,data:_,codeFlowValue:_,definition:a(z),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(R),hardBreakEscape:a(Z),hardBreakTrailing:a(Z),htmlFlow:a(je,s),htmlFlowData:_,htmlText:a(je,s),htmlTextData:_,image:a($e),label:s,link:a(ie),listItem:a(De),listItemValue:h,listOrdered:a(Be,f),listUnordered:a(Be),paragraph:a(vt),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(I),strong:a(sn),thematicBreak:a(un)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:L,autolinkProtocol:J,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:re,characterReferenceMarkerNumeric:re,characterReferenceValue:Q,characterReference:B,codeFenced:l(y),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:A,codeIndented:l(g),codeText:l(se),codeTextData:A,data:A,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l(te),htmlFlowData:A,htmlText:l(Y),htmlTextData:A,image:l(ee),label:oe,labelText:X,lineEnding:$,link:l(W),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:O,resourceDestinationString:T,resourceTitleString:j,resource:U,setextHeading:l(D),setextHeadingLineSequence:P,setextHeadingText:N,strong:l(),thematicBreak:l()}};$L(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(he){let Se={type:"root",children:[]};const Ft={stack:[Se],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:d,data:n},Ht=[];let gn=-1;for(;++gn<he.length;)if(he[gn][1].type==="listOrdered"||he[gn][1].type==="listUnordered")if(he[gn][0]==="enter")Ht.push(gn);else{const hn=Ht.pop();gn=i(he,hn,gn)}for(gn=-1;++gn<he.length;){const hn=t[he[gn][0]];LL.call(hn,he[gn][1].type)&&hn[he[gn][1].type].call(Object.assign({sliceSerialize:he[gn][2].sliceSerialize},Ft),he[gn][1])}if(Ft.tokenStack.length>0){const hn=Ft.tokenStack[Ft.tokenStack.length-1];(hn[1]||fT).call(Ft,void 0,hn[0])}for(Se.position={start:$o(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:$o(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},gn=-1;++gn<t.transforms.length;)Se=t.transforms[gn](Se)||Se;return Se}function i(he,Se,Ft){let Ht=Se-1,gn=-1,hn=!1,zr,cr,ua,Di;for(;++Ht<=Ft;){const vn=he[Ht];switch(vn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{vn[0]==="enter"?gn++:gn--,Di=void 0;break}case"lineEndingBlank":{vn[0]==="enter"&&(zr&&!Di&&!gn&&!ua&&(ua=Ht),Di=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Di=void 0}if(!gn&&vn[0]==="enter"&&vn[1].type==="listItemPrefix"||gn===-1&&vn[0]==="exit"&&(vn[1].type==="listUnordered"||vn[1].type==="listOrdered")){if(zr){let xn=Ht;for(cr=void 0;xn--;){const br=he[xn];if(br[1].type==="lineEnding"||br[1].type==="lineEndingBlank"){if(br[0]==="exit")continue;cr&&(he[cr][1].type="lineEndingBlank",hn=!0),br[1].type="lineEnding",cr=xn}else if(!(br[1].type==="linePrefix"||br[1].type==="blockQuotePrefix"||br[1].type==="blockQuotePrefixWhitespace"||br[1].type==="blockQuoteMarker"||br[1].type==="listItemIndent"))break}ua&&(!cr||ua<cr)&&(zr._spread=!0),zr.end=Object.assign({},cr?he[cr][1].start:vn[1].end),he.splice(cr||Ht,0,["exit",zr,vn[2]]),Ht++,Ft++}if(vn[1].type==="listItemPrefix"){const xn={type:"listItem",_spread:!1,start:Object.assign({},vn[1].start),end:void 0};zr=xn,he.splice(Ht,0,["enter",xn,vn[2]]),Ht++,Ft++,ua=void 0,Di=!0}}}return he[Se][1]._spread=hn,Ft}function a(he,Se){return Ft;function Ft(Ht){o.call(this,he(Ht),Ht),Se&&Se.call(this,Ht)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(he,Se,Ft){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Se,Ft||void 0]),he.position={start:$o(Se.start),end:void 0}}function l(he){return Se;function Se(Ft){he&&he.call(this,Ft),c.call(this,Ft)}}function c(he,Se){const Ft=this.stack.pop(),Ht=this.tokenStack.pop();if(Ht)Ht[0].type!==he.type&&(Se?Se.call(this,he,Ht[0]):(Ht[1]||fT).call(this,he,Ht[0]));else throw new Error("Cannot close `"+he.type+"` ("+Zd({start:he.start,end:he.end})+"): its not open");Ft.position.end=$o(he.end)}function d(){return FS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(he){if(this.data.expectingFirstListItemValue){const Se=this.stack[this.stack.length-2];Se.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function m(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.lang=he}function p(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.meta=he}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he.replace(/(\r?\n|\r)$/g,"")}function b(he){const Se=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=Se,Ft.identifier=ls(this.sliceSerialize(he)).toLowerCase()}function w(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.title=he}function S(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.url=he}function C(he){const Se=this.stack[this.stack.length-1];if(!Se.depth){const Ft=this.sliceSerialize(he).length;Se.depth=Ft}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function P(he){const Se=this.stack[this.stack.length-1];Se.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function _(he){const Ft=this.stack[this.stack.length-1].children;let Ht=Ft[Ft.length-1];(!Ht||Ht.type!=="text")&&(Ht=Pn(),Ht.position={start:$o(he.start),end:void 0},Ft.push(Ht)),this.stack.push(Ht)}function A(he){const Se=this.stack.pop();Se.value+=this.sliceSerialize(he),Se.position.end=$o(he.end)}function $(he){const Se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ft=Se.children[Se.children.length-1];Ft.position.end=$o(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Se.type)&&(_.call(this,he),A.call(this,he))}function M(){this.data.atHardBreak=!0}function te(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he}function Y(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he}function se(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he}function W(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Se=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Se,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function ee(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Se=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Se,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function X(he){const Se=this.sliceSerialize(he),Ft=this.stack[this.stack.length-2];Ft.label=ile(Se),Ft.identifier=ls(Se).toLowerCase()}function oe(){const he=this.stack[this.stack.length-1],Se=this.resume(),Ft=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ft.type==="link"){const Ht=he.children;Ft.children=Ht}else Ft.alt=Se}function T(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.url=he}function j(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.title=he}function U(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function O(he){const Se=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=Se,Ft.identifier=ls(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function re(he){this.data.characterReferenceType=he.type}function Q(he){const Se=this.sliceSerialize(he),Ft=this.data.characterReferenceType;let Ht;Ft?(Ht=jL(Se,Ft==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ht=RS(Se);const gn=this.stack[this.stack.length-1];gn.value+=Ht}function B(he){const Se=this.stack.pop();Se.position.end=$o(he.end)}function J(he){A.call(this,he);const Se=this.stack[this.stack.length-1];Se.url=this.sliceSerialize(he)}function L(he){A.call(this,he);const Se=this.stack[this.stack.length-1];Se.url="mailto:"+this.sliceSerialize(he)}function K(){return{type:"blockquote",children:[]}}function le(){return{type:"code",lang:null,meta:null,value:""}}function ne(){return{type:"inlineCode",value:""}}function z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function R(){return{type:"emphasis",children:[]}}function I(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function je(){return{type:"html",value:""}}function $e(){return{type:"image",title:null,url:"",alt:null}}function ie(){return{type:"link",title:null,url:"",children:[]}}function Be(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function De(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function vt(){return{type:"paragraph",children:[]}}function sn(){return{type:"strong",children:[]}}function Pn(){return{type:"text",value:""}}function un(){return{type:"thematicBreak"}}}function $o(e){return{line:e.line,column:e.column,offset:e.offset}}function $L(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?$L(e,r):lle(e,r)}}function lle(e,t){let n;for(n in t)if(LL.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function fT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Zd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Zd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Zd({start:t.start,end:t.end})+") is still open")}function cle(e){const t=this;t.parser=n;function n(r){return sle(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ule(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function dle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function fle(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function mle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ple(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=sd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function gle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function FL(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function xle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return FL(e,t);const i={src:sd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function yle(e,t){const n={src:sd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function ble(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function wle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return FL(e,t);const i={href:sd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function kle(e,t){const n={href:sd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Sle(e,t,n){const r=e.all(t),i=n?Nle(n):RL(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function Nle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=RL(n[r])}return t}function RL(e){const t=e.spread;return t??e.children.length>1}function Cle(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function jle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ple(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Ale(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Tle(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=IS(t.children[1]),l=xL(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Ele(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),c.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Dle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const mT=9,hT=32;function Mle(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(pT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(pT(t.slice(i),i>0,!1)),a.join("")}function pT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===mT||a===hT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===mT||a===hT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Ole(e,t){const n={type:"text",value:Mle(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Ile(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const _le={blockquote:ule,break:dle,code:fle,delete:mle,emphasis:hle,footnoteReference:ple,heading:gle,html:vle,imageReference:xle,image:yle,inlineCode:ble,linkReference:wle,link:kle,listItem:Sle,list:Cle,paragraph:jle,root:Ple,strong:Ale,table:Tle,tableCell:Dle,tableRow:Ele,text:Ole,thematicBreak:Ile,toml:Eh,yaml:Eh,definition:Eh,footnoteDefinition:Eh};function Eh(){}const BL=-1,fv=0,Jd=1,Og=2,zS=3,US=4,VS=5,WS=6,zL=7,UL=8,gT=typeof self=="object"?self:globalThis,Lle=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case fv:case BL:return n(s,i);case Jd:{const o=n([],i);for(const l of s)o.push(r(l));return o}case Og:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case zS:return n(new Date(s),i);case US:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case VS:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case WS:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case zL:{const{name:o,message:l}=s;return n(new gT[o](l),i)}case UL:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new gT[a](s),i)};return r},vT=e=>Lle(new Map,e)(0),Kc="",{toString:$le}={},{keys:Fle}=Object,Td=e=>{const t=typeof e;if(t!=="object"||!e)return[fv,t];const n=$le.call(e).slice(8,-1);switch(n){case"Array":return[Jd,Kc];case"Object":return[Og,Kc];case"Date":return[zS,Kc];case"RegExp":return[US,Kc];case"Map":return[VS,Kc];case"Set":return[WS,Kc];case"DataView":return[Jd,n]}return n.includes("Array")?[Jd,n]:n.includes("Error")?[zL,n]:[Og,n]},Dh=([e,t])=>e===fv&&(t==="function"||t==="symbol"),Rle=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Td(s);switch(o){case fv:{let d=s;switch(l){case"bigint":o=UL,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([BL],s)}return i([o,d],s)}case Jd:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case Og:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Fle(s))(e||!Dh(Td(s[h])))&&d.push([a(h),a(s[h])]);return f}case zS:return i([o,s.toISOString()],s);case US:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case VS:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Dh(Td(h))||Dh(Td(m))))&&d.push([a(h),a(m)]);return f}case WS:{const d=[],f=i([o,d],s);for(const h of s)(e||!Dh(Td(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},xT=(e,{json:t,lossy:n}={})=>{const r=[];return Rle(!(t||n),!!t,new Map,r)(e),r},Ig=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?vT(xT(e,t)):structuredClone(e):(e,t)=>vT(xT(e,t));function Ble(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function zle(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Ule(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ble,r=e.options.footnoteBackLabel||zle,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=sd(f.toLowerCase());let m=0;const p=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++m<=v;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,g),o.push(g)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Ig(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const mv=function(e){if(e==null)return qle;if(typeof e=="function")return hv(e);if(typeof e=="object")return Array.isArray(e)?Vle(e):Wle(e);if(typeof e=="string")return Hle(e);throw new Error("Expected function, string, or object as test")};function Vle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=mv(e[n]);return hv(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Wle(e){const t=e;return hv(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Hle(e){return hv(t);function t(n){return n&&n.type===e}}function hv(e){return t;function t(n,r,i){return!!(Kle(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function qle(){return!0}function Kle(e){return e!==null&&typeof e=="object"&&"type"in e}const VL=[],Gle=!0,sw=!1,Yle="skip";function WL(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=mv(i),s=r?-1:1;o(e,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=VL,p,v,y;if((!t||a(l,c,d[d.length-1]||void 0))&&(m=Xle(n(l,d)),m[0]===sw))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==Yle)for(v=(r?g.children.length:-1)+s,y=d.concat(g);v>-1&&v<g.children.length;){const b=g.children[v];if(p=o(b,v,y)(),p[0]===sw)return p;v=typeof p[1]=="number"?p[1]:v+s}}return m}}}function Xle(e){return Array.isArray(e)?e:typeof e=="number"?[Gle,e]:e==null?VL:[e]}function HS(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),WL(e,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const ow={}.hasOwnProperty,Zle={};function Qle(e,t){const n=t||Zle,r=new Map,i=new Map,a=new Map,s={..._le,...n.handlers},o={all:c,applyData:ece,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:Jle,wrap:nce};return HS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(ow.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:v,...y}=d,g=Ig(y);return g.children=o.all(d),g}return Ig(d)}return(o.options.unknownHandler||tce)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=yT(p.value)),!Array.isArray(p)&&p.type==="element")){const v=p.children[0];v&&v.type==="text"&&(v.value=yT(v.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function Jle(e,t){e.position&&(t.position=zae(e))}function ece(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Ig(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function tce(e,t){const n=t.data||{},r="value"in t&&!(ow.call(n,"hProperties")||ow.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function yT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function bT(e,t){const n=Qle(e,t),r=n.one(e,void 0),i=Ule(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function rce(e,t){return e&&"run"in e?async function(n,r){const i=bT(n,{file:r,...t});await e.run(i,r)}:function(n,r){return bT(n,{file:r,...e||t})}}function wT(e){if(e)throw e}var ap=Object.prototype.hasOwnProperty,HL=Object.prototype.toString,kT=Object.defineProperty,ST=Object.getOwnPropertyDescriptor,NT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):HL.call(t)==="[object Array]"},CT=function(t){if(!t||HL.call(t)!=="[object Object]")return!1;var n=ap.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ap.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ap.call(t,i)},jT=function(t,n){kT&&n.name==="__proto__"?kT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},PT=function(t,n){if(n==="__proto__")if(ap.call(t,n)){if(ST)return ST(t,n).value}else return;return t[n]},ice=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=PT(o,n),i=PT(t,n),o!==i&&(d&&i&&(CT(i)||(a=NT(i)))?(a?(a=!1,s=r&&NT(r)?r:[]):s=r&&CT(r)?r:{},jT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&jT(o,{name:n,newValue:i}));return o};const Ix=hs(ice);function lw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ace(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?sce(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function sce(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const Ps={basename:oce,dirname:lce,extname:cce,join:uce,sep:"/"};function oce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Im(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function lce(e){if(Im(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function cce(e){Im(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function uce(...e){let t=-1,n;for(;++t<e.length;)Im(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":dce(n)}function dce(e){Im(e);const t=e.codePointAt(0)===47;let n=fce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function fce(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Im(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const mce={cwd:hce};function hce(){return"/"}function cw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function pce(e){if(typeof e=="string")e=new URL(e);else if(!cw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return gce(e)}function gce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const _x=["history","path","basename","stem","extname","dirname"];class qL{constructor(t){let n;t?cw(t)?n={path:t}:typeof t=="string"||vce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":mce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<_x.length;){const a=_x[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)_x.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ps.basename(this.path):void 0}set basename(t){$x(t,"basename"),Lx(t,"basename"),this.path=Ps.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ps.dirname(this.path):void 0}set dirname(t){AT(this.basename,"dirname"),this.path=Ps.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ps.extname(this.path):void 0}set extname(t){if(Lx(t,"extname"),AT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ps.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){cw(t)&&(t=pce(t)),$x(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ps.basename(this.path,this.extname):void 0}set stem(t){$x(t,"stem"),Lx(t,"stem"),this.path=Ps.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ei(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Lx(e,t){if(e&&e.includes(Ps.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ps.sep+"`")}function $x(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function AT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function vce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xce=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},yce={}.hasOwnProperty;class qS extends xce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ace()}copy(){const t=new qS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ix(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Bx("data",this.frozen),this.namespace[t]=n,this):yce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Bx("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Mh(t),r=this.parser||this.Parser;return Fx("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Fx("process",this.parser||this.Parser),Rx("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Mh(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const m=f,p=r.stringify(m,h);kce(p)?h.value=p:h.result=p,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Fx("processSync",this.parser||this.Parser),Rx("processSync",this.compiler||this.Compiler),this.process(t,i),ET("processSync","process",n),r;function i(a,s){n=!0,wT(a),r=s}}run(t,n,r){TT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Mh(n);i.run(t,l,c);function c(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),ET("runSync","run",r),i;function a(s,o){wT(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Mh(n),i=this.compiler||this.Compiler;return Rx("stringify",i),TT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Bx("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=Ix(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[m,...p]=d;const v=r[h][1];lw(v)&&lw(m)&&(m=Ix(!0,v,m)),r[h]=[c,m,...p]}}}}const bce=new qS().freeze();function Fx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Rx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Bx(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function TT(e){if(!lw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ET(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Mh(e){return wce(e)?e:new qL(e)}function wce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function kce(e){return typeof e=="string"||Sce(e)}function Sce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Nce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",DT=[],MT={allowDangerousHtml:!0},Cce=/^(https?|ircs?|mailto|xmpp)$/i,jce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Pce(e){const t=Ace(e),n=Tce(e);return Ece(t.runSync(t.parse(n),n),e)}function Ace(e){const t=e.rehypePlugins||DT,n=e.remarkPlugins||DT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...MT}:MT;return bce().use(cle).use(n).use(rce,r).use(t)}function Tce(e){const t=e.children||"",n=new qL;return typeof t=="string"&&(n.value=t),n}function Ece(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Dce;for(const d of jce)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Nce+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),HS(e,c),qae(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Dx)if(Object.hasOwn(Dx,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],v=Dx[m];(v===null||v.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Dce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Cce.test(e.slice(0,t))?e:""}function OT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Mce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Oce(e,t,n){const i=mv((n||{}).ignore||[]),a=Ice(t);let s=-1;for(;++s<a.length;)WL(e,"text",o);function o(c,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const y=f.children.indexOf(c);let g=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const S=w.index,C={index:w.index,input:w.input,stack:[...d,c]};let N=m(...w,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?h.lastIndex=S+1:(p!==S&&b.push({type:"text",value:c.value.slice(p,S)}),Array.isArray(N)?b.push(...N):N&&b.push(N),p=S+w[0].length,g=!0),!h.global)break;w=h.exec(c.value)}return g?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),f.children.splice(y,1,...b)):b=[c],y+b.length}}function Ice(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([_ce(i[0]),Lce(i[1])])}return t}function _ce(e){return typeof e=="string"?new RegExp(Mce(e),"g"):e}function Lce(e){return typeof e=="function"?e:function(){return e}}const zx="phrasing",Ux=["autolink","link","image","label"];function $ce(){return{transforms:[Wce],enter:{literalAutolink:Rce,literalAutolinkEmail:Vx,literalAutolinkHttp:Vx,literalAutolinkWww:Vx},exit:{literalAutolink:Vce,literalAutolinkEmail:Uce,literalAutolinkHttp:Bce,literalAutolinkWww:zce}}}function Fce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:zx,notInConstruct:Ux},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:zx,notInConstruct:Ux},{character:":",before:"[ps]",after:"\\/",inConstruct:zx,notInConstruct:Ux}]}}function Rce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Vx(e){this.config.enter.autolinkProtocol.call(this,e)}function Bce(e){this.config.exit.autolinkProtocol.call(this,e)}function zce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Uce(e){this.config.exit.autolinkEmail.call(this,e)}function Vce(e){this.exit(e)}function Wce(e){Oce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Hce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),qce]],{ignore:["link","linkReference"]})}function Hce(e,t,n,r,i){let a="";if(!KL(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!Kce(n)))return!1;const s=Gce(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function qce(e,t,n,r){return!KL(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Kce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Gce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=OT(e,"(");let a=OT(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function KL(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Nc(n)||uv(n))&&(!t||n!==47)}GL.peek=rue;function Yce(){this.buffer()}function Xce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Zce(){this.buffer()}function Qce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Jce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ls(this.sliceSerialize(e)).toLowerCase(),n.label=t}function eue(e){this.exit(e)}function tue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ls(this.sliceSerialize(e)).toLowerCase(),n.label=t}function nue(e){this.exit(e)}function rue(){return"["}function GL(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function iue(){return{enter:{gfmFootnoteCallString:Yce,gfmFootnoteCall:Xce,gfmFootnoteDefinitionLabelString:Zce,gfmFootnoteDefinition:Qce},exit:{gfmFootnoteCallString:Jce,gfmFootnoteCall:eue,gfmFootnoteDefinitionLabelString:tue,gfmFootnoteDefinition:nue}}}function aue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:GL},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?YL:sue))),c(),l}}function sue(e,t,n){return t===0?e:YL(e,t,n)}function YL(e,t,n){return(n?"":"    ")+e}const oue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];XL.peek=fue;function lue(){return{canContainEols:["delete"],enter:{strikethrough:uue},exit:{strikethrough:due}}}function cue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:oue}],handlers:{delete:XL}}}function uue(e){this.enter({type:"delete",children:[]},e)}function due(e){this.exit(e)}function XL(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function fue(){return"~"}function mue(e){return e.length}function hue(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||mue,a=[],s=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const v=[],y=[];let g=-1;for(e[d].length>c&&(c=e[d].length);++g<e[d].length;){const b=pue(e[d][g]);if(n.alignDelimiters!==!1){const w=i(b);y[g]=w,(l[g]===void 0||w>l[g])&&(l[g]=w)}v.push(b)}s[d]=v,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=IT(r[f]);else{const v=IT(r);for(;++f<c;)a[f]=v}f=-1;const h=[],m=[];for(;++f<c;){const v=a[f];let y="",g="";v===99?(y=":",g=":"):v===108?y=":":v===114&&(g=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-g.length);const w=y+"-".repeat(b)+g;n.alignDelimiters!==!1&&(b=y.length+b+g.length,b>l[f]&&(l[f]=b),m[f]=b),h[f]=w}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const v=s[d],y=o[d];f=-1;const g=[];for(;++f<c;){const b=v[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(y[f]||0),N=a[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&g.push(" "),n.alignDelimiters!==!1&&g.push(w),g.push(b),n.alignDelimiters!==!1&&g.push(S),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&g.push("|")}p.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return p.join(`
`)}function pue(e){return e==null?"":String(e)}function IT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function gue(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),vue);return i(),s}function vue(e,t,n){return">"+(n?"":" ")+e}function xue(e,t){return _T(e,t.inConstruct,!0)&&!_T(e,t.notInConstruct,!1)}function _T(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function LT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&xue(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function yue(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function bue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function wue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function kue(e,t,n,r){const i=wue(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(bue(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,Sue);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(yue(a,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),c(),d}function Sue(e,t,n){return(n?"":"    ")+e}function KS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Nue(e,t,n,r){const i=KS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function Cue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function qf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function _g(e,t,n){const r=Vu(e),i=Vu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ZL.peek=jue;function ZL(e,t,n,r){const i=Cue(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=_g(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=qf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=_g(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+qf(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function jue(e,t,n){return n.options.emphasis||"*"}function Pue(e,t){let n=!1;return HS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,sw}),!!((!e.depth||e.depth<3)&&FS(e)&&(t.options.setext||n))}function Aue(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Pue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=qf(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}QL.peek=Tue;function QL(e){return e.value||""}function Tue(){return"<"}JL.peek=Eue;function JL(e,t,n,r){const i=KS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function Eue(){return"!"}e$.peek=Due;function e$(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Due(){return"!"}t$.peek=Mue;function t$(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Mue(){return"`"}function n$(e,t){const n=FS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}r$.peek=Oue;function r$(e,t,n,r){const i=KS(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(n$(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function Oue(e,t,n){return n$(e,n)?"<":"["}i$.peek=Iue;function i$(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Iue(){return"["}function GS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function _ue(e){const t=GS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Lue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function a$(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function $ue(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?Lue(n):GS(n);const o=e.ordered?s==="."?")":".":_ue(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),a$(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c}function Fue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Rue(e,t,n,r){const i=Fue(n);let a=n.bulletCurrent||GS(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return l(),c;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function Bue(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const zue=mv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Uue(e,t,n,r){return(e.children.some(function(s){return zue(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Vue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}s$.peek=Wue;function s$(e,t,n,r){const i=Vue(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=_g(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=qf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=_g(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+qf(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Wue(e,t,n){return n.options.strong||"*"}function Hue(e,t,n,r){return n.safe(e.value,r)}function que(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Kue(e,t,n){const r=(a$(n)+(n.options.ruleSpaces?" ":"")).repeat(que(n));return n.options.ruleSpaces?r.slice(0,-1):r}const o$={blockquote:gue,break:LT,code:kue,definition:Nue,emphasis:ZL,hardBreak:LT,heading:Aue,html:QL,image:JL,imageReference:e$,inlineCode:t$,link:r$,linkReference:i$,list:$ue,listItem:Rue,paragraph:Bue,root:Uue,strong:s$,text:Hue,thematicBreak:Kue};function Gue(){return{enter:{table:Yue,tableData:$T,tableHeader:$T,tableRow:Zue},exit:{codeText:Que,table:Xue,tableData:Wx,tableHeader:Wx,tableRow:Wx}}}function Yue(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Xue(e){this.exit(e),this.data.inTable=void 0}function Zue(e){this.enter({type:"tableRow",children:[]},e)}function Wx(e){this.exit(e)}function $T(e){this.enter({type:"tableCell",children:[]},e)}function Que(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Jue));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Jue(e,t){return t==="|"?t:e}function ede(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,v,y){return c(d(m,v,y),m.align)}function o(m,p,v,y){const g=f(m,v,y),b=c([g]);return b.slice(0,b.indexOf(`
`))}function l(m,p,v,y){const g=v.enter("tableCell"),b=v.enter("phrasing"),w=v.containerPhrasing(m,{...y,before:a,after:a});return b(),g(),w}function c(m,p){return hue(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,v){const y=m.children;let g=-1;const b=[],w=p.enter("table");for(;++g<y.length;)b[g]=f(y[g],p,v);return w(),b}function f(m,p,v){const y=m.children;let g=-1;const b=[],w=p.enter("tableRow");for(;++g<y.length;)b[g]=l(y[g],m,p,v);return w(),b}function h(m,p,v){let y=o$.inlineCode(m,p,v);return v.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function tde(){return{exit:{taskListCheckValueChecked:FT,taskListCheckValueUnchecked:FT,paragraph:rde}}}function nde(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ide}}}function FT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function rde(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ide(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=o$.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+s}}function ade(){return[$ce(),iue(),lue(),Gue(),tde()]}function sde(e){return{extensions:[Fce(),aue(e),cue(),ede(e),nde()]}}const ode={tokenize:mde,partial:!0},l$={tokenize:hde,partial:!0},c$={tokenize:pde,partial:!0},u$={tokenize:gde,partial:!0},lde={tokenize:vde,partial:!0},d$={name:"wwwAutolink",tokenize:dde,previous:m$},f$={name:"protocolAutolink",tokenize:fde,previous:h$},Mo={name:"emailAutolink",tokenize:ude,previous:p$},Rs={};function cde(){return{text:Rs}}let Il=48;for(;Il<123;)Rs[Il]=Mo,Il++,Il===58?Il=65:Il===91&&(Il=97);Rs[43]=Mo;Rs[45]=Mo;Rs[46]=Mo;Rs[95]=Mo;Rs[72]=[Mo,f$];Rs[104]=[Mo,f$];Rs[87]=[Mo,d$];Rs[119]=[Mo,d$];function ude(e,t,n){const r=this;let i,a;return s;function s(f){return!uw(f)||!p$.call(r,r.previous)||YS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return uw(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(lde,d,c)(f):f===45||f===95||Ai(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Fi(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function dde(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!m$.call(r,r.previous)||YS(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ode,e.attempt(l$,e.attempt(c$,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function fde(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&h$.call(r,r.previous)&&!YS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Fi(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||Mg(f)||Un(f)||Nc(f)||uv(f)?n(f):e.attempt(l$,e.attempt(c$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function mde(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function hde(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check(u$,l,o)(c):c===null||Un(c)||Nc(c)||c!==45&&uv(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function pde(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(u$,t,a)(s):s===null||Un(s)||Nc(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function gde(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Un(o)||Nc(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Un(o)||Nc(o)?t(o):r(o)}function a(o){return Fi(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Fi(o)?(e.consume(o),s):n(o)}}function vde(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Ai(a)?n(a):t(a)}}function m$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Un(e)}function h$(e){return!Fi(e)}function p$(e){return!(e===47||uw(e))}function uw(e){return e===43||e===45||e===46||e===95||Ai(e)}function YS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const xde={tokenize:jde,partial:!0};function yde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Sde,continuation:{tokenize:Nde},exit:Cde}},text:{91:{name:"gfmFootnoteCall",tokenize:kde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:bde,resolveTo:wde}}}}function bde(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=ls(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function wde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function kde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Un(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(ls(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Un(f)||(s=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function Sde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Un(p))return n(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return a=ls(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Un(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),yn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function Nde(e,t,n){return e.check(Om,t,e.attempt(xde,t,n))}function Cde(e){e.exit("gfmFootnoteDefinition")}function jde(e,t,n){const r=this;return yn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Pde(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&ka(h,h.length,0,dv(m,s.slice(c+1,l),o)),ka(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),ka(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,d=this.events;let f=0;return h;function h(p){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const v=Vu(c);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const y=s.exit("strikethroughSequenceTemporary"),g=Vu(p);return y._open=!g||g===2&&!!v,y._close=!v||v===2&&!!g,o(p)}}}class Ade{constructor(){this.map=[]}add(t,n,r){Tde(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Tde(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Ede(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Dde(){return{flow:{null:{name:"table",tokenize:Mde,resolveAll:Ode}}}}function Mde(e,t,n){const r=this;let i=0,a=0,s;return o;function o(A){let $=r.events.length-1;for(;$>-1;){const Y=r.events[$][1].type;if(Y==="lineEnding"||Y==="linePrefix")$--;else break}const M=$>-1?r.events[$][1].type:null,te=M==="tableHead"||M==="tableRow"?N:l;return te===N&&r.parser.lazy[r.now().line]?n(A):te(A)}function l(A){return e.enter("tableHead"),e.enter("tableRow"),c(A)}function c(A){return A===124||(s=!0,a+=1),d(A)}function d(A){return A===null?n(A):It(A)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),m):n(A):fn(A)?yn(e,d,"whitespace")(A):(a+=1,s&&(s=!1,i+=1),A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(A)))}function f(A){return A===null||A===124||Un(A)?(e.exit("data"),d(A)):(e.consume(A),A===92?h:f)}function h(A){return A===92||A===124?(e.consume(A),f):f(A)}function m(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(e.enter("tableDelimiterRow"),s=!1,fn(A)?yn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):p(A))}function p(A){return A===45||A===58?y(A):A===124?(s=!0,e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),v):C(A)}function v(A){return fn(A)?yn(e,y,"whitespace")(A):y(A)}function y(A){return A===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),g):A===45?(a+=1,g(A)):A===null||It(A)?S(A):C(A)}function g(A){return A===45?(e.enter("tableDelimiterFiller"),b(A)):C(A)}function b(A){return A===45?(e.consume(A),b):A===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(A))}function w(A){return fn(A)?yn(e,S,"whitespace")(A):S(A)}function S(A){return A===124?p(A):A===null||It(A)?!s||i!==a?C(A):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(A)):C(A)}function C(A){return n(A)}function N(A){return e.enter("tableRow"),P(A)}function P(A){return A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),P):A===null||It(A)?(e.exit("tableRow"),t(A)):fn(A)?yn(e,P,"whitespace")(A):(e.enter("data"),D(A))}function D(A){return A===null||A===124||Un(A)?(e.exit("data"),P(A)):(e.consume(A),A===92?_:D)}function _(A){return A===92||A===124?(e.consume(A),D):D(A)}}function Ode(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,d,f;const h=new Ade;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(RT(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=Oh(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=Oh(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=Oh(h,t,a,i,n,f)):s[1]!==0&&(f=Oh(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&RT(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Ede(t.events,n))}return e}function Oh(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Xc(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Xc(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=Xc(t.events,n[2]),d=Xc(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,v=n[3]-n[2]-1;e.add(p,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Xc(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function RT(e,t,n,r,i){const a=[],s=Xc(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Xc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Ide={name:"tasklistCheck",tokenize:Lde};function _de(){return{text:{91:Ide}}}function Lde(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Un(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return It(l)?t(l):fn(l)?e.check({tokenize:$de},t,n)(l):n(l)}}function $de(e,t,n){return yn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Fde(e){return CL([cde(),yde(),Pde(e),Dde(),_de()])}const Rde={};function Bde(e){const t=this,n=e||Rde,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Fde(n)),a.push(ade()),s.push(sde(n))}const Hx='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',g$=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),pv=x.createContext({}),XS=x.createContext(null),gv=typeof document<"u",zde=gv?x.useLayoutEffect:x.useEffect,v$=x.createContext({strict:!1}),ZS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ude="framerAppearId",x$="data-"+ZS(Ude);function Vde(e,t,n,r){const{visualElement:i}=x.useContext(pv),a=x.useContext(v$),s=x.useContext(XS),o=x.useContext(g$).reducedMotion,l=x.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;x.useInsertionEffect(()=>{c&&c.update(n,s)});const d=x.useRef(!!(n[x$]&&!window.HandoffComplete));return zde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function du(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Wde(e,t,n){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):du(n)&&(n.current=r))},[t])}function Kf(e){return typeof e=="string"||Array.isArray(e)}function vv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const QS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],JS=["initial",...QS];function xv(e){return vv(e.animate)||JS.some(t=>Kf(e[t]))}function y$(e){return!!(xv(e)||e.variants)}function Hde(e,t){if(xv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Kf(n)?n:void 0,animate:Kf(r)?r:void 0}}return e.inherit!==!1?t:{}}function qde(e){const{initial:t,animate:n}=Hde(e,x.useContext(pv));return x.useMemo(()=>({initial:t,animate:n}),[BT(t),BT(n)])}function BT(e){return Array.isArray(e)?e.join(" "):e}const zT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gf={};for(const e in zT)Gf[e]={isEnabled:t=>zT[e].some(n=>!!t[n])};function Kde(e){for(const t in e)Gf[t]={...Gf[t],...e[t]}}const b$=x.createContext({}),w$=x.createContext({}),Gde=Symbol.for("motionComponentSymbol");function Yde({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Kde(e);function a(o,l){let c;const d={...x.useContext(g$),...o,layoutId:Xde(o)},{isStatic:f}=d,h=qde(o),m=r(o,f);if(!f&&gv){h.visualElement=Vde(i,m,d,t);const p=x.useContext(w$),v=x.useContext(v$).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,v,e,p))}return x.createElement(pv.Provider,{value:h},c&&h.visualElement?x.createElement(c,{visualElement:h.visualElement,...d}):null,n(i,o,Wde(m,h.visualElement,l),m,f,h.visualElement))}const s=x.forwardRef(a);return s[Gde]=i,s}function Xde({layoutId:e}){const t=x.useContext(b$).id;return t&&e!==void 0?t+"-"+e:e}function Zde(e){function t(r,i={}){return Yde(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Qde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eN(e){return typeof e!="string"||e.includes("-")?!1:!!(Qde.indexOf(e)>-1||/[A-Z]/.test(e))}const Lg={};function Jde(e){Object.assign(Lg,e)}const _m=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ec=new Set(_m);function k$(e,{layout:t,layoutId:n}){return Ec.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Lg[e]||e==="opacity")}const sa=e=>!!(e&&e.getVelocity),efe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tfe=_m.length;function nfe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<tfe;s++){const o=_m[s];if(e[o]!==void 0){const l=efe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const S$=e=>t=>typeof t=="string"&&t.startsWith(e),N$=S$("--"),dw=S$("var(--"),rfe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ife=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fl=(e,t,n)=>Math.min(Math.max(n,e),t),Dc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ef={...Dc,transform:e=>fl(0,1,e)},Ih={...Dc,default:1},tf=e=>Math.round(e*1e5)/1e5,yv=/(-)?([\d]*\.?[\d])+/g,C$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,afe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Lm(e){return typeof e=="string"}const $m=e=>({test:t=>Lm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ro=$m("deg"),Is=$m("%"),Bt=$m("px"),sfe=$m("vh"),ofe=$m("vw"),UT={...Is,parse:e=>Is.parse(e)/100,transform:e=>Is.transform(e*100)},VT={...Dc,transform:Math.round},j$={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,size:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,rotate:Ro,rotateX:Ro,rotateY:Ro,rotateZ:Ro,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:Ro,skewX:Ro,skewY:Ro,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:ef,originX:UT,originY:UT,originZ:Bt,zIndex:VT,fillOpacity:ef,strokeOpacity:ef,numOctaves:VT};function tN(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(N$(f)){a[f]=h;continue}const m=j$[f],p=ife(h,m);if(Ec.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=nfe(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const nN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function P$(e,t,n){for(const r in t)!sa(t[r])&&!k$(r,n)&&(e[r]=t[r])}function lfe({transformTemplate:e},t,n){return x.useMemo(()=>{const r=nN();return tN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function cfe(e,t,n){const r=e.style||{},i={};return P$(i,r,e),Object.assign(i,lfe(e,t,n)),e.transformValues?e.transformValues(i):i}function ufe(e,t,n){const r={},i=cfe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const dfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $g(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||dfe.has(e)}let A$=e=>!$g(e);function ffe(e){e&&(A$=t=>t.startsWith("on")?!$g(t):e(t))}try{ffe(require("@emotion/is-prop-valid").default)}catch{}function mfe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(A$(i)||n===!0&&$g(i)||!t&&!$g(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function WT(e,t,n){return typeof e=="string"?e:Bt.transform(t+n*e)}function hfe(e,t,n){const r=WT(t,e.x,e.width),i=WT(n,e.y,e.height);return`${r} ${i}`}const pfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},gfe={offset:"strokeDashoffset",array:"strokeDasharray"};function vfe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?pfe:gfe;e[a.offset]=Bt.transform(-r);const s=Bt.transform(t),o=Bt.transform(n);e[a.array]=`${s} ${o}`}function rN(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,f,h){if(tN(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:v}=e;m.transform&&(v&&(p.transform=m.transform),delete m.transform),v&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=hfe(v,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&vfe(m,s,o,l,!1)}const T$=()=>({...nN(),attrs:{}}),iN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function xfe(e,t,n,r){const i=x.useMemo(()=>{const a=T$();return rN(a,t,{enableHardwareAcceleration:!1},iN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};P$(a,e.style,e),i.style={...a,...i.style}}return i}function yfe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(eN(n)?xfe:ufe)(r,a,s,n),d={...mfe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=x.useMemo(()=>sa(f)?f.get():f,[f]);return x.createElement(n,{...d,children:h})}}function E$(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const D$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M$(e,t,n,r){E$(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(D$.has(i)?i:ZS(i),t.attrs[i])}function aN(e,t){const{style:n}=e,r={};for(const i in n)(sa(n[i])||t.style&&sa(t.style[i])||k$(i,e))&&(r[i]=n[i]);return r}function O$(e,t){const n=aN(e,t);for(const r in e)if(sa(e[r])||sa(t[r])){const i=_m.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function sN(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function bfe(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Fg=e=>Array.isArray(e),wfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),kfe=e=>Fg(e)?e[e.length-1]||0:e;function sp(e){const t=sa(e)?e.get():e;return wfe(t)?t.toValue():t}function Sfe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:Nfe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const I$=e=>(t,n)=>{const r=x.useContext(pv),i=x.useContext(XS),a=()=>Sfe(e,t,r,i);return n?a():bfe(a)};function Nfe(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=sp(a[h]);let{initial:s,animate:o}=e;const l=xv(e),c=y$(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!vv(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=sN(e,m);if(!p)return;const{transitionEnd:v,transition:y,...g}=p;for(const b in g){let w=g[b];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(i[b]=w)}for(const b in v)i[b]=v[b]}),i}const Mr=e=>e;class HT{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Cfe(e){let t=new HT,n=new HT,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const f=d&&i,h=f?t:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const _h=["prepare","read","update","preRender","render","postRender"],jfe=40;function Pfe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=_h.reduce((f,h)=>(f[h]=Cfe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,jfe),1),i.timestamp=f,i.isProcessing=!0,_h.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:_h.reduce((f,h)=>{const m=a[h];return f[h]=(p,v=!1,y=!1)=>(n||l(),m.schedule(p,v,y)),f},{}),cancel:f=>_h.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:nr,cancel:ko,state:ki,steps:qx}=Pfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mr,!0),Afe={useVisualState:I$({scrapeMotionValuesFromProps:O$,createRenderState:T$,onMount:(e,t,{renderState:n,latestValues:r})=>{nr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),nr.render(()=>{rN(n,r,{enableHardwareAcceleration:!1},iN(t.tagName),e.transformTemplate),M$(t,n)})}})},Tfe={useVisualState:I$({scrapeMotionValuesFromProps:aN,createRenderState:nN})};function Efe(e,{forwardMotionProps:t=!1},n,r){return{...eN(e)?Afe:Tfe,preloadedFeatures:n,useRender:yfe(t),createVisualElement:r,Component:e}}function ao(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const _$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function bv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Dfe=e=>t=>_$(t)&&e(t,bv(t));function co(e,t,n,r){return ao(e,t,Dfe(n),r)}const Mfe=(e,t)=>n=>t(e(n)),ol=(...e)=>e.reduce(Mfe);function L$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const qT=L$("dragHorizontal"),KT=L$("dragVertical");function $$(e){let t=!1;if(e==="y")t=KT();else if(e==="x")t=qT();else{const n=qT(),r=KT();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function F$(){const e=$$(!0);return e?(e(),!1):!0}class kl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function GT(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||F$())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&nr.update(()=>o[r](a,s))};return co(e.current,n,i,{passive:!e.getProps()[r]})}class Ofe extends kl{mount(){this.unmount=ol(GT(this.node,!0),GT(this.node,!1))}unmount(){}}class Ife extends kl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ol(ao(this.node.current,"focus",()=>this.onFocus()),ao(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const R$=(e,t)=>t?e===t?!0:R$(e,t.parentElement):!1;function Kx(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,bv(n))}class _fe extends kl{constructor(){super(...arguments),this.removeStartListeners=Mr,this.removeEndListeners=Mr,this.removeAccessibleListeners=Mr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=co(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();nr.update(()=>{!f&&!R$(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=co(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ol(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Kx("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&nr.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=ao(this.node.current,"keyup",s),Kx("down",(o,l)=>{this.startPress(o,l)})},n=ao(this.node.current,"keydown",t),r=()=>{this.isPressing&&Kx("cancel",(a,s)=>this.cancelPress(a,s))},i=ao(this.node.current,"blur",r);this.removeAccessibleListeners=ol(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&nr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!F$()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&nr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=co(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ao(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ol(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const fw=new WeakMap,Gx=new WeakMap,Lfe=e=>{const t=fw.get(e.target);t&&t(e)},$fe=e=>{e.forEach(Lfe)};function Ffe({root:e,...t}){const n=e||document;Gx.has(n)||Gx.set(n,{});const r=Gx.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver($fe,{root:e,...t})),r[i]}function Rfe(e,t,n){const r=Ffe(t);return fw.set(e,n),r.observe(e),()=>{fw.delete(e),r.unobserve(e)}}const Bfe={some:0,all:1};class zfe extends kl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Bfe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return Rfe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ufe(t,n))&&this.startObserver()}unmount(){}}function Ufe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Vfe={inView:{Feature:zfe},tap:{Feature:_fe},focus:{Feature:Ife},hover:{Feature:Ofe}};function B$(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Wfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Hfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function wv(e,t,n){const r=e.getProps();return sN(r,t,n!==void 0?n:r.custom,Wfe(e),Hfe(e))}let oN=Mr;const lc=e=>e*1e3,uo=e=>e/1e3,qfe={current:!1},z$=e=>Array.isArray(e)&&typeof e[0]=="number";function U$(e){return!!(!e||typeof e=="string"&&V$[e]||z$(e)||Array.isArray(e)&&e.every(U$))}const Fd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,V$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fd([0,.65,.55,1]),circOut:Fd([.55,0,1,.45]),backIn:Fd([.31,.01,.66,-.59]),backOut:Fd([.33,1.53,.69,.99])};function W$(e){if(e)return z$(e)?Fd(e):Array.isArray(e)?e.map(W$):V$[e]}function Kfe(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=W$(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function Gfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const H$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Yfe=1e-7,Xfe=12;function Zfe(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=H$(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>Yfe&&++o<Xfe);return s}function Fm(e,t,n,r){if(e===t&&n===r)return Mr;const i=a=>Zfe(a,0,1,e,n);return a=>a===0||a===1?a:H$(i(a),t,r)}const Qfe=Fm(.42,0,1,1),Jfe=Fm(0,0,.58,1),q$=Fm(.42,0,.58,1),eme=e=>Array.isArray(e)&&typeof e[0]!="number",K$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,G$=e=>t=>1-e(1-t),lN=e=>1-Math.sin(Math.acos(e)),Y$=G$(lN),tme=K$(lN),X$=Fm(.33,1.53,.69,.99),cN=G$(X$),nme=K$(cN),rme=e=>(e*=2)<1?.5*cN(e):.5*(2-Math.pow(2,-10*(e-1))),ime={linear:Mr,easeIn:Qfe,easeInOut:q$,easeOut:Jfe,circIn:lN,circInOut:tme,circOut:Y$,backIn:cN,backInOut:nme,backOut:X$,anticipate:rme},YT=e=>{if(Array.isArray(e)){oN(e.length===4);const[t,n,r,i]=e;return Fm(t,n,r,i)}else if(typeof e=="string")return ime[e];return e},uN=(e,t)=>n=>!!(Lm(n)&&afe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Z$=(e,t,n)=>r=>{if(!Lm(r))return r;const[i,a,s,o]=r.match(yv);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},ame=e=>fl(0,255,e),Yx={...Dc,transform:e=>Math.round(ame(e))},ec={test:uN("rgb","red"),parse:Z$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Yx.transform(e)+", "+Yx.transform(t)+", "+Yx.transform(n)+", "+tf(ef.transform(r))+")"};function sme(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const mw={test:uN("#"),parse:sme,transform:ec.transform},fu={test:uN("hsl","hue"),parse:Z$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Is.transform(tf(t))+", "+Is.transform(tf(n))+", "+tf(ef.transform(r))+")"},Li={test:e=>ec.test(e)||mw.test(e)||fu.test(e),parse:e=>ec.test(e)?ec.parse(e):fu.test(e)?fu.parse(e):mw.parse(e),transform:e=>Lm(e)?e:e.hasOwnProperty("red")?ec.transform(e):fu.transform(e)},pr=(e,t,n)=>-n*e+n*t+e;function Xx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ome({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Xx(l,o,e+1/3),a=Xx(l,o,e),s=Xx(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Zx=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},lme=[mw,ec,fu],cme=e=>lme.find(t=>t.test(e));function XT(e){const t=cme(e);let n=t.parse(e);return t===fu&&(n=ome(n)),n}const Q$=(e,t)=>{const n=XT(e),r=XT(t),i={...n};return a=>(i.red=Zx(n.red,r.red,a),i.green=Zx(n.green,r.green,a),i.blue=Zx(n.blue,r.blue,a),i.alpha=pr(n.alpha,r.alpha,a),ec.transform(i))};function ume(e){var t,n;return isNaN(e)&&Lm(e)&&(((t=e.match(yv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(C$))===null||n===void 0?void 0:n.length)||0)>0}const J$={regex:rfe,countKey:"Vars",token:"${v}",parse:Mr},eF={regex:C$,countKey:"Colors",token:"${c}",parse:Li.parse},tF={regex:yv,countKey:"Numbers",token:"${n}",parse:Dc.parse};function Qx(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function Rg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Qx(n,J$),Qx(n,eF),Qx(n,tF),n}function nF(e){return Rg(e).values}function rF(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Rg(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(J$.token,s[l]):l<r+n?o=o.replace(eF.token,Li.transform(s[l])):o=o.replace(tF.token,tf(s[l]));return o}}const dme=e=>typeof e=="number"?0:e;function fme(e){const t=nF(e);return rF(e)(t.map(dme))}const ml={test:ume,parse:nF,createTransformer:rF,getAnimatableNone:fme},iF=(e,t)=>n=>`${n>0?t:e}`;function aF(e,t){return typeof e=="number"?n=>pr(e,t,n):Li.test(e)?Q$(e,t):e.startsWith("var(")?iF(e,t):oF(e,t)}const sF=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>aF(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},mme=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=aF(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},oF=(e,t)=>{const n=ml.createTransformer(t),r=Rg(e),i=Rg(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ol(sF(r.values,i.values),n):iF(e,t)},Yf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},ZT=(e,t)=>n=>pr(e,t,n);function hme(e){return typeof e=="number"?ZT:typeof e=="string"?Li.test(e)?Q$:oF:Array.isArray(e)?sF:typeof e=="object"?mme:ZT}function pme(e,t,n){const r=[],i=n||hme(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Mr:t;o=ol(l,o)}r.push(o)}return r}function lF(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(oN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=pme(t,r,i),o=s.length,l=c=>{let d=0;if(o>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Yf(e[d],e[d+1],c);return s[d](f)};return n?c=>l(fl(e[0],e[a-1],c)):l}function gme(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Yf(0,t,r);e.push(pr(n,1,i))}}function vme(e){const t=[0];return gme(t,e.length-1),t}function xme(e,t){return e.map(n=>n*t)}function yme(e,t){return e.map(()=>t||q$).splice(0,e.length-1)}function Bg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=eme(r)?r.map(YT):YT(r),a={done:!1,value:t[0]},s=xme(n&&n.length===t.length?n:vme(t),e),o=lF(s,t,{ease:Array.isArray(i)?i:yme(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function cF(e,t){return t?e*(1e3/t):0}const bme=5;function uF(e,t,n){const r=Math.max(t-bme,0);return cF(n-e(r),t-r)}const Jx=.001,wme=.01,kme=10,Sme=.05,Nme=1;function Cme({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=fl(Sme,Nme,s),e=fl(wme,kme,uo(e)),s<1?(i=c=>{const d=c*s,f=d*e,h=d-n,m=hw(c,s),p=Math.exp(-f);return Jx-h/m*p},a=c=>{const f=c*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),v=hw(Math.pow(c,2),s);return(-i(c)+Jx>0?-1:1)*((h-m)*p)/v}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-Jx+d*f},a=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const o=5/e,l=Pme(i,a,o);if(e=lc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const jme=12;function Pme(e,t,n){let r=n;for(let i=1;i<jme;i++)r=r-e(r)/t(r);return r}function hw(e,t){return e*Math.sqrt(1-t*t)}const Ame=["duration","bounce"],Tme=["stiffness","damping","mass"];function QT(e,t){return t.some(n=>e[n]!==void 0)}function Eme(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!QT(e,Tme)&&QT(e,Ame)){const n=Cme(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function dF({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=Eme({...r,velocity:-uo(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*c)),v=a-i,y=uo(Math.sqrt(o/c)),g=Math.abs(v)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let b;if(p<1){const w=hw(y,p);b=S=>{const C=Math.exp(-p*y*S);return a-C*((m+p*y*v)/w*Math.sin(w*S)+v*Math.cos(w*S))}}else if(p===1)b=w=>a-Math.exp(-y*w)*(v+(m+y*v)*w);else{const w=y*Math.sqrt(p*p-1);b=S=>{const C=Math.exp(-p*y*S),N=Math.min(w*S,300);return a-C*((m+p*y*v)*Math.sinh(N)+w*v*Math.cosh(N))/w}}return{calculatedDuration:h&&d||null,next:w=>{const S=b(w);if(h)s.done=w>=d;else{let C=m;w!==0&&(p<1?C=uF(b,w,S):C=0);const N=Math.abs(C)<=n,P=Math.abs(a-S)<=t;s.done=N&&P}return s.value=s.done?a:S,s}}}function JT({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=D=>o!==void 0&&D<o||l!==void 0&&D>l,p=D=>o===void 0?l:l===void 0||Math.abs(o-D)<Math.abs(l-D)?o:l;let v=n*t;const y=f+v,g=s===void 0?y:s(y);g!==y&&(v=g-f);const b=D=>-v*Math.exp(-D/r),w=D=>g+b(D),S=D=>{const _=b(D),A=w(D);h.done=Math.abs(_)<=c,h.value=h.done?g:A};let C,N;const P=D=>{m(h.value)&&(C=D,N=dF({keyframes:[h.value,p(h.value)],velocity:uF(w,D,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return P(0),{calculatedDuration:null,next:D=>{let _=!1;return!N&&C===void 0&&(_=!0,S(D),P(D)),C!==void 0&&D>C?N.next(D-C):(!_&&S(D),h)}}}const Dme=e=>{const t=({timestamp:n})=>e(n);return{start:()=>nr.update(t,!0),stop:()=>ko(t),now:()=>ki.isProcessing?ki.timestamp:performance.now()}},eE=2e4;function tE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<eE;)t+=n,r=e.next(t);return t>=eE?1/0:t}const Mme={decay:JT,inertia:JT,tween:Bg,keyframes:Bg,spring:dF};function zg({autoplay:e=!0,delay:t=0,driver:n=Dme,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,v,y;const g=()=>{y=new Promise(j=>{v=j})};g();let b;const w=Mme[i]||Bg;let S;w!==Bg&&typeof r[0]!="number"&&(S=lF([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...h,keyframes:r});let N;o==="mirror"&&(N=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let P="idle",D=null,_=null,A=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=tE(C));const{calculatedDuration:$}=C;let M=1/0,te=1/0;$!==null&&(M=$+s,te=M*(a+1)-s);let Y=0;const se=j=>{if(_===null)return;m>0&&(_=Math.min(_,j)),m<0&&(_=Math.min(j-te/m,_)),D!==null?Y=D:Y=Math.round(j-_)*m;const U=Y-t*(m>=0?1:-1),k=m>=0?U<0:U>te;Y=Math.max(U,0),P==="finished"&&D===null&&(Y=te);let O=Y,re=C;if(a){const L=Math.min(Y,te)/M;let K=Math.floor(L),le=L%1;!le&&L>=1&&(le=1),le===1&&K--,K=Math.min(K,a+1),!!(K%2)&&(o==="reverse"?(le=1-le,s&&(le-=s/M)):o==="mirror"&&(re=N)),O=fl(0,1,le)*M}const Q=k?{done:!1,value:r[0]}:re.next(O);S&&(Q.value=S(Q.value));let{done:B}=Q;!k&&$!==null&&(B=m>=0?Y>=te:Y<=0);const J=D===null&&(P==="finished"||P==="running"&&B);return f&&f(Q.value),J&&X(),Q},W=()=>{b&&b.stop(),b=void 0},ee=()=>{P="idle",W(),v(),g(),_=A=null},X=()=>{P="finished",d&&d(),W(),v()},oe=()=>{if(p)return;b||(b=n(se));const j=b.now();l&&l(),D!==null?_=j-D:(!_||P==="finished")&&(_=j),P==="finished"&&g(),A=_,D=null,P="running",b.start()};e&&oe();const T={then(j,U){return y.then(j,U)},get time(){return uo(Y)},set time(j){j=lc(j),Y=j,D!==null||!b||m===0?D=j:_=b.now()-j/m},get duration(){const j=C.calculatedDuration===null?tE(C):C.calculatedDuration;return uo(j)},get speed(){return m},set speed(j){j===m||!b||(m=j,T.time=uo(Y))},get state(){return P},play:oe,pause:()=>{P="paused",D=Y},stop:()=>{p=!0,P!=="idle"&&(P="idle",c&&c(),ee())},cancel:()=>{A!==null&&se(A),ee()},complete:()=>{P="finished"},sample:j=>(_=0,se(j))};return T}function Ome(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ime=Ome(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_me=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Lh=10,Lme=2e4,$me=(e,t)=>t.type==="spring"||e==="backgroundColor"||!U$(t.ease);function Fme(e,t,{onUpdate:n,onComplete:r,...i}){if(!(Ime()&&_me.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,c=!1;const d=()=>{l=new Promise(w=>{o=w})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if($me(t,i)){const w=zg({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const C=[];let N=0;for(;!S.done&&N<Lme;)S=w.sample(N),C.push(S.value),N+=Lh;p=void 0,f=C,h=N-Lh,m="linear"}const v=Kfe(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),y=()=>{c=!1,v.cancel()},g=()=>{c=!0,nr.update(y),o(),d()};return v.onfinish=()=>{c||(e.set(Gfe(f,i)),r&&r(),g())},{then(w,S){return l.then(w,S)},attachTimeline(w){return v.timeline=w,v.onfinish=null,Mr},get time(){return uo(v.currentTime||0)},set time(w){v.currentTime=lc(w)},get speed(){return v.playbackRate},set speed(w){v.playbackRate=w},get duration(){return uo(h)},play:()=>{s||(v.play(),ko(y))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:w}=v;if(w){const S=zg({...i,autoplay:!1});e.setWithVelocity(S.sample(w-Lh).value,S.sample(w).value,Lh)}g()},complete:()=>{c||v.finish()},cancel:g}}function Rme({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Mr,pause:Mr,stop:Mr,then:a=>(a(),Promise.resolve()),cancel:Mr,complete:Mr});return t?zg({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Bme={type:"spring",stiffness:500,damping:25,restSpeed:10},zme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ume={type:"keyframes",duration:.8},Vme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wme=(e,{keyframes:t})=>t.length>2?Ume:Ec.has(e)?e.startsWith("scale")?zme(t[1]):Bme:Vme,pw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ml.test(t)||t==="0")&&!t.startsWith("url(")),Hme=new Set(["brightness","contrast","saturate","opacity"]);function qme(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(yv)||[];if(!r)return e;const i=n.replace(r,"");let a=Hme.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Kme=/([a-z-]*)\(.*?\)/g,gw={...ml,getAnimatableNone:e=>{const t=e.match(Kme);return t?t.map(qme).join(" "):e}},Gme={...j$,color:Li,backgroundColor:Li,outlineColor:Li,fill:Li,stroke:Li,borderColor:Li,borderTopColor:Li,borderRightColor:Li,borderBottomColor:Li,borderLeftColor:Li,filter:gw,WebkitFilter:gw},dN=e=>Gme[e];function fF(e,t){let n=dN(e);return n!==gw&&(n=ml),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mF=e=>/^0[^.\s]+$/.test(e);function Yme(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||mF(e)}function Xme(e,t,n,r){const i=pw(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),Yme(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];a[d]=fF(t,o)}return a}function Zme({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function fN(e,t){return e[t]||e.default||e}const Qme={skipAnimations:!1},mN=(e,t,n,r={})=>i=>{const a=fN(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-lc(s);const l=Xme(t,e,n,a),c=l[0],d=l[l.length-1],f=pw(e,c),h=pw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(Zme(a)||(m={...m,...Wme(e,m)}),m.duration&&(m.duration=lc(m.duration)),m.repeatDelay&&(m.repeatDelay=lc(m.repeatDelay)),!f||!h||qfe.current||a.type===!1||Qme.skipAnimations)return Rme(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Fme(t,e,m);if(p)return p}return zg(m)};function Ug(e){return!!(sa(e)&&e.add)}const hF=e=>/^\-?\d*\.?\d+$/.test(e);function hN(e,t){e.indexOf(t)===-1&&e.push(t)}function pN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class gN{constructor(){this.subscriptions=[]}add(t){return hN(this.subscriptions,t),()=>pN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Jme=e=>!isNaN(parseFloat(e));class ehe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=ki;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,nr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>nr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Jme(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new gN);const r=this.events[t].add(n);return t==="change"?()=>{r(),nr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?cF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wu(e,t){return new ehe(e,t)}const pF=e=>t=>t.test(e),the={test:e=>e==="auto",parse:e=>e},gF=[Dc,Bt,Is,Ro,ofe,sfe,the],Ed=e=>gF.find(pF(e)),nhe=[...gF,Li,ml],rhe=e=>nhe.find(pF(e));function ihe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wu(n))}function ahe(e,t){const n=wv(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=kfe(a[s]);ihe(e,s,o)}}function she(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(hF(d)||mF(d))?d=parseFloat(d):!rhe(d)&&ml.test(c)&&(d=fF(l,c)),e.addValue(l,Wu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function ohe(e,t){return t?(t[e]||t.default||t).from:void 0}function lhe(e,t,n){const r={};for(const i in e){const a=ohe(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function che({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function uhe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function vF(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&che(d,f))continue;const p={delay:n,elapsed:0,...fN(a||{},f)};if(window.HandoffAppearAnimations){const g=e.getProps()[x$];if(g){const b=window.HandoffAppearAnimations(g,f,h,nr);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let v=!p.isHandoff&&!uhe(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(mN(f,h,m,e.shouldReduceMotion&&Ec.has(f)?{type:!1}:p));const y=h.animation;Ug(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&ahe(e,s)}),c}function vw(e,t,n={}){const r=wv(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(vF(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return dhe(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function dhe(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(fhe).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(vw(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function fhe(e,t){return e.sortNodePosition(t)}function mhe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>vw(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=vw(e,t,n);else{const i=typeof t=="function"?wv(e,t,n.custom):t;r=Promise.all(vF(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const hhe=[...QS].reverse(),phe=QS.length;function ghe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>mhe(e,n,r)))}function vhe(e){let t=ghe(e);const n=yhe();let r=!0;const i=(l,c)=>{const d=wv(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},v=1/0;for(let g=0;g<phe;g++){const b=hhe[g],w=n[b],S=d[b]!==void 0?d[b]:f[b],C=Kf(S),N=b===c?w.isActive:null;N===!1&&(v=g);let P=S===f[b]&&S!==d[b]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...p},!w.isActive&&N===null||!S&&!w.prevProp||vv(S)||typeof S=="boolean")continue;let _=xhe(w.prevProp,S)||b===c&&w.isActive&&!P&&C||g>v&&C,A=!1;const $=Array.isArray(S)?S:[S];let M=$.reduce(i,{});N===!1&&(M={});const{prevResolvedValues:te={}}=w,Y={...te,...M},se=W=>{_=!0,m.has(W)&&(A=!0,m.delete(W)),w.needsAnimating[W]=!0};for(const W in Y){const ee=M[W],X=te[W];if(p.hasOwnProperty(W))continue;let oe=!1;Fg(ee)&&Fg(X)?oe=!B$(ee,X):oe=ee!==X,oe?ee!==void 0?se(W):m.add(W):ee!==void 0&&m.has(W)?se(W):w.protectedKeys[W]=!0}w.prevProp=S,w.prevResolvedValues=M,w.isActive&&(p={...p,...M}),r&&e.blockInitialAnimation&&(_=!1),_&&(!P||A)&&h.push(...$.map(W=>({animation:W,options:{type:b,...l}})))}if(m.size){const g={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(g[b]=w)}),h.push({animation:g})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function xhe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!B$(t,e):!1}function _l(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yhe(){return{animate:_l(!0),whileInView:_l(),whileHover:_l(),whileTap:_l(),whileDrag:_l(),whileFocus:_l(),exit:_l()}}class bhe extends kl{constructor(t){super(t),t.animationState||(t.animationState=vhe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),vv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let whe=0;class khe extends kl{constructor(){super(...arguments),this.id=whe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const She={animation:{Feature:bhe},exit:{Feature:khe}},nE=(e,t)=>Math.abs(e-t);function Nhe(e,t){const n=nE(e.x,t.x),r=nE(e.y,t.y);return Math.sqrt(n**2+r**2)}class xF{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ty(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Nhe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:v}=ki;this.history.push({...p,timestamp:v});const{onStart:y,onMove:g}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ey(h,this.transformPagePoint),nr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ty(f.type==="pointercancel"?this.lastMoveEventInfo:ey(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),p&&p(f,y)},!_$(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=bv(t),o=ey(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=ki;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,ty(o,this.history)),this.removeListeners=ol(co(this.contextWindow,"pointermove",this.handlePointerMove),co(this.contextWindow,"pointerup",this.handlePointerUp),co(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ko(this.updatePoint)}}function ey(e,t){return t?{point:t(e.point)}:e}function rE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ty({point:e},t){return{point:e,delta:rE(e,yF(t)),offset:rE(e,Che(t)),velocity:jhe(t,.1)}}function Che(e){return e[0]}function yF(e){return e[e.length-1]}function jhe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=yF(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>lc(t)));)n--;if(!r)return{x:0,y:0};const a=uo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ca(e){return e.max-e.min}function xw(e,t=0,n=.01){return Math.abs(e-t)<=n}function iE(e,t,n,r=.5){e.origin=r,e.originPoint=pr(t.min,t.max,e.origin),e.scale=Ca(n)/Ca(t),(xw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=pr(n.min,n.max,e.origin)-e.originPoint,(xw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function nf(e,t,n,r){iE(e.x,t.x,n.x,r?r.originX:void 0),iE(e.y,t.y,n.y,r?r.originY:void 0)}function aE(e,t,n){e.min=n.min+t.min,e.max=e.min+Ca(t)}function Phe(e,t,n){aE(e.x,t.x,n.x),aE(e.y,t.y,n.y)}function sE(e,t,n){e.min=t.min-n.min,e.max=e.min+Ca(t)}function rf(e,t,n){sE(e.x,t.x,n.x),sE(e.y,t.y,n.y)}function Ahe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?pr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?pr(n,e,r.max):Math.min(e,n)),e}function oE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function The(e,{top:t,left:n,bottom:r,right:i}){return{x:oE(e.x,n,i),y:oE(e.y,t,r)}}function lE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Ehe(e,t){return{x:lE(e.x,t.x),y:lE(e.y,t.y)}}function Dhe(e,t){let n=.5;const r=Ca(e),i=Ca(t);return i>r?n=Yf(t.min,t.max-r,e.min):r>i&&(n=Yf(e.min,e.max-i,t.min)),fl(0,1,n)}function Mhe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const yw=.35;function Ohe(e=yw){return e===!1?e=0:e===!0&&(e=yw),{x:cE(e,"left","right"),y:cE(e,"top","bottom")}}function cE(e,t,n){return{min:uE(e,t),max:uE(e,n)}}function uE(e,t){return typeof e=="number"?e:e[t]||0}const dE=()=>({translate:0,scale:1,origin:0,originPoint:0}),mu=()=>({x:dE(),y:dE()}),fE=()=>({min:0,max:0}),Ir=()=>({x:fE(),y:fE()});function $a(e){return[e("x"),e("y")]}function bF({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Ihe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _he(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ny(e){return e===void 0||e===1}function bw({scale:e,scaleX:t,scaleY:n}){return!ny(e)||!ny(t)||!ny(n)}function Ul(e){return bw(e)||wF(e)||e.z||e.rotate||e.rotateX||e.rotateY}function wF(e){return mE(e.x)||mE(e.y)}function mE(e){return e&&e!=="0%"}function Vg(e,t,n){const r=e-n,i=t*r;return n+i}function hE(e,t,n,r,i){return i!==void 0&&(e=Vg(e,i,r)),Vg(e,n,r)+t}function ww(e,t=0,n=1,r,i){e.min=hE(e.min,t,n,r,i),e.max=hE(e.max,t,n,r,i)}function kF(e,{x:t,y:n}){ww(e.x,t.translate,t.scale,t.originPoint),ww(e.y,n.translate,n.scale,n.originPoint)}function Lhe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&hu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,kF(e,s)),r&&Ul(a.latestValues)&&hu(e,a.latestValues))}t.x=pE(t.x),t.y=pE(t.y)}function pE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Wo(e,t){e.min=e.min+t,e.max=e.max+t}function gE(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=pr(e.min,e.max,a);ww(e,t[n],t[r],s,t.scale)}const $he=["x","scaleX","originX"],Fhe=["y","scaleY","originY"];function hu(e,t){gE(e.x,t,$he),gE(e.y,t,Fhe)}function SF(e,t){return bF(_he(e.getBoundingClientRect(),t))}function Rhe(e,t,n){const r=SF(e,n),{scroll:i}=t;return i&&(Wo(r.x,i.offset.x),Wo(r.y,i.offset.y)),r}const NF=({current:e})=>e?e.ownerDocument.defaultView:null,Bhe=new WeakMap;class zhe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ir(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bv(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$$(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$a(y=>{let g=this.getAxisMotionValue(y).get()||0;if(Is.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(g=Ca(w)*(parseFloat(g)/100))}}this.originPoint[y]=g}),p&&nr.update(()=>p(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Uhe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),v&&v(d,f)},o=(d,f)=>this.stop(d,f),l=()=>$a(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new xF(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:NF(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&nr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!$h(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Ahe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&du(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=The(i.layoutBox,n):this.constraints=!1,this.elastic=Ohe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&$a(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Mhe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!du(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Rhe(r,i.root,this.visualElement.getTransformPagePoint());let s=Ehe(i.layout.layoutBox,a);if(n){const o=n(Ihe(s));this.hasMutatedConstraints=!!o,o&&(s=bF(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=$a(d=>{if(!$h(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(mN(t,r,0,n))}stopAnimation(){$a(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$a(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){$a(n=>{const{drag:r}=this.getProps();if(!$h(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-pr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!du(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};$a(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=Dhe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$a(s=>{if(!$h(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(pr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Bhe.set(this.visualElement,this);const t=this.visualElement.current,n=co(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();du(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ao(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&($a(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=yw,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function $h(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Uhe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Vhe extends kl{constructor(t){super(t),this.removeGroupControls=Mr,this.removeListeners=Mr,this.controls=new zhe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const vE=e=>(t,n)=>{e&&nr.update(()=>e(t,n))};class Whe extends kl{constructor(){super(...arguments),this.removePointerDownListener=Mr}onPointerDown(t){this.session=new xF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NF(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vE(t),onStart:vE(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&nr.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=co(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Hhe(){const e=x.useContext(XS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=x.useId();return x.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const op={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Bt.test(e))e=parseFloat(e);else return e;const n=xE(e,t.target.x),r=xE(e,t.target.y);return`${n}% ${r}%`}},qhe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ml.parse(e);if(i.length>5)return r;const a=ml.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=pr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class Khe extends Hg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;Jde(Ghe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),op.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||nr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function CF(e){const[t,n]=Hhe(),r=x.useContext(b$);return Hg.createElement(Khe,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(w$),isPresent:t,safeToRemove:n})}const Ghe={borderRadius:{...Dd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dd,borderTopRightRadius:Dd,borderBottomLeftRadius:Dd,borderBottomRightRadius:Dd,boxShadow:qhe},jF=["TopLeft","TopRight","BottomLeft","BottomRight"],Yhe=jF.length,yE=e=>typeof e=="string"?parseFloat(e):e,bE=e=>typeof e=="number"||Bt.test(e);function Xhe(e,t,n,r,i,a){i?(e.opacity=pr(0,n.opacity!==void 0?n.opacity:1,Zhe(r)),e.opacityExit=pr(t.opacity!==void 0?t.opacity:1,0,Qhe(r))):a&&(e.opacity=pr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Yhe;s++){const o=`border${jF[s]}Radius`;let l=wE(t,o),c=wE(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||bE(l)===bE(c)?(e[o]=Math.max(pr(yE(l),yE(c),r),0),(Is.test(c)||Is.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=pr(t.rotate||0,n.rotate||0,r))}function wE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Zhe=PF(0,.5,Y$),Qhe=PF(.5,.95,Mr);function PF(e,t,n){return r=>r<e?0:r>t?1:n(Yf(e,t,r))}function kE(e,t){e.min=t.min,e.max=t.max}function Oa(e,t){kE(e.x,t.x),kE(e.y,t.y)}function SE(e,t,n,r,i){return e-=t,e=Vg(e,1/n,r),i!==void 0&&(e=Vg(e,1/i,r)),e}function Jhe(e,t=0,n=1,r=.5,i,a=e,s=e){if(Is.test(t)&&(t=parseFloat(t),t=pr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=pr(a.min,a.max,r);e===a&&(o-=t),e.min=SE(e.min,t,n,o,i),e.max=SE(e.max,t,n,o,i)}function NE(e,t,[n,r,i],a,s){Jhe(e,t[n],t[r],t[i],t.scale,a,s)}const epe=["x","scaleX","originX"],tpe=["y","scaleY","originY"];function CE(e,t,n,r){NE(e.x,t,epe,n?n.x:void 0,r?r.x:void 0),NE(e.y,t,tpe,n?n.y:void 0,r?r.y:void 0)}function jE(e){return e.translate===0&&e.scale===1}function AF(e){return jE(e.x)&&jE(e.y)}function npe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function TF(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function PE(e){return Ca(e.x)/Ca(e.y)}class rpe{constructor(){this.members=[]}add(t){hN(this.members,t),t.scheduleRender()}remove(t){if(pN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AE(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const ipe=(e,t)=>e.depth-t.depth;class ape{constructor(){this.children=[],this.isDirty=!1}add(t){hN(this.children,t),this.isDirty=!0}remove(t){pN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ipe),this.isDirty=!1,this.children.forEach(t)}}function spe(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(ko(r),e(a-t))};return nr.read(r,!0),()=>ko(r)}function ope(e){window.MotionDebug&&window.MotionDebug.record(e)}function lpe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function cpe(e,t,n){const r=sa(e)?e:Wu(e);return r.start(mN("",r,t,n)),r.animation}const TE=["","X","Y","Z"],upe={visibility:"hidden"},EE=1e3;let dpe=0;const Vl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function EF({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=dpe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vl.totalNodes=Vl.resolvedTargetDeltas=Vl.recalculatedProjection=0,this.nodes.forEach(hpe),this.nodes.forEach(ype),this.nodes.forEach(bpe),this.nodes.forEach(ppe),ope(Vl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ape)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new gN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lpe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=spe(h,250),op.hasAnimatedSinceResize&&(op.hasAnimatedSinceResize=!1,this.nodes.forEach(ME))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||Cpe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=d.getProps(),b=!this.targetLayout||!TF(this.targetLayout,p)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...fN(v,"layout"),onPlay:y,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||ME(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ko(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wpe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DE);return}this.isUpdating||this.nodes.forEach(vpe),this.isUpdating=!1,this.nodes.forEach(xpe),this.nodes.forEach(fpe),this.nodes.forEach(mpe),this.clearAllSnapshots();const o=performance.now();ki.delta=fl(0,1e3/60,o-ki.timestamp),ki.timestamp=o,ki.isProcessing=!0,qx.update.process(ki),qx.preRender.process(ki),qx.render.process(ki),ki.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(gpe),this.sharedNodes.forEach(kpe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!AF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(o||Ul(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),jpe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ir();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Wo(o.x,l.offset.x),Wo(o.y,l.offset.y)),o}removeElementScroll(s){const o=Ir();Oa(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Oa(o,s);const{scroll:h}=this.root;h&&(Wo(o.x,-h.offset.x),Wo(o.y,-h.offset.y))}Wo(o.x,d.offset.x),Wo(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Ir();Oa(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&hu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ul(d.latestValues)&&hu(l,d.latestValues)}return Ul(this.latestValues)&&hu(l,this.latestValues),l}removeTransform(s){const o=Ir();Oa(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ul(c.latestValues))continue;bw(c.latestValues)&&c.updateSnapshot();const d=Ir(),f=c.measurePageBox();Oa(d,f),CE(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ul(this.latestValues)&&CE(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ki.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ki.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),rf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ir(),this.targetWithTransforms=Ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Phe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oa(this.target,this.layout.layoutBox),kF(this.target,this.targetDelta)):Oa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),rf(this.relativeTargetOrigin,this.target,m.target),Oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bw(this.parent.latestValues)||wF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ki.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Oa(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Lhe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=mu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=mu(),this.projectionDeltaWithTransform=mu());const v=this.projectionTransform;nf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=AE(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Vl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=mu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Ir(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=m!==p,y=this.getStack(),g=!y||y.members.length<=1,b=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(Npe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;OE(f.x,s.x,C),OE(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Spe(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&npe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ir()),Oa(w,this.relativeTarget)),v&&(this.animationValues=d,Xhe(d,c,this.latestValues,C,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ko(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nr.update(()=>{op.hasAnimatedSinceResize=!0,this.currentAnimation=cpe(0,EE,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&DF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ir();const f=Ca(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Ca(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Oa(o,l),hu(o,d),nf(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new rpe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<TE.length;d++){const f="rotate"+TE[d];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return upe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=sp(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=sp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Ul(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=AE(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Lg){if(h[v]===void 0)continue;const{correct:y,applyTo:g}=Lg[v],b=c.transform==="none"?h[v]:y(h[v],f);if(g){const w=g.length;for(let S=0;S<w;S++)c[g[S]]=b}else c[v]=b}return this.options.layoutId&&(c.pointerEvents=f===this?sp(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(DE),this.root.sharedNodes.clear()}}}function fpe(e){e.updateLayout()}function mpe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?$a(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ca(h);h.min=r[f].min,h.max=h.min+m}):DF(a,n.layoutBox,r)&&$a(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ca(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=mu();nf(o,r,n.layoutBox);const l=mu();s?nf(l,e.applyTransform(i,!0),n.measuredBox):nf(l,r,n.layoutBox);const c=!AF(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Ir();rf(p,n.layoutBox,h.layoutBox);const v=Ir();rf(v,r,m.layoutBox),TF(p,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function hpe(e){Vl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ppe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function gpe(e){e.clearSnapshot()}function DE(e){e.clearMeasurements()}function vpe(e){e.isLayoutDirty=!1}function xpe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ME(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ype(e){e.resolveTargetDelta()}function bpe(e){e.calcProjection()}function wpe(e){e.resetRotation()}function kpe(e){e.removeLeadSnapshot()}function OE(e,t,n){e.translate=pr(t.translate,0,n),e.scale=pr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function IE(e,t,n,r){e.min=pr(t.min,n.min,r),e.max=pr(t.max,n.max,r)}function Spe(e,t,n,r){IE(e.x,t.x,n.x,r),IE(e.y,t.y,n.y,r)}function Npe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Cpe={duration:.45,ease:[.4,0,.1,1]},_E=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),LE=_E("applewebkit/")&&!_E("chrome/")?Math.round:Mr;function $E(e){e.min=LE(e.min),e.max=LE(e.max)}function jpe(e){$E(e.x),$E(e.y)}function DF(e,t,n){return e==="position"||e==="preserve-aspect"&&!xw(PE(t),PE(n),.2)}const Ppe=EF({attachResizeListener:(e,t)=>ao(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ry={current:void 0},MF=EF({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ry.current){const e=new Ppe({});e.mount(window),e.setOptions({layoutScroll:!0}),ry.current=e}return ry.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ape={pan:{Feature:Whe},drag:{Feature:Vhe,ProjectionNode:MF,MeasureLayout:CF}},Tpe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Epe(e){const t=Tpe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function kw(e,t,n=1){const[r,i]=Epe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return hF(s)?parseFloat(s):s}else return dw(i)?kw(i,t,n+1):i}function Dpe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!dw(a))return;const s=kw(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!dw(a))continue;const s=kw(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const Mpe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),OF=e=>Mpe.has(e),Ope=e=>Object.keys(e).some(OF),FE=e=>e===Dc||e===Bt,RE=(e,t)=>parseFloat(e.split(", ")[t]),BE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return RE(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?RE(a[1],e):0}},Ipe=new Set(["x","y","z"]),_pe=_m.filter(e=>!Ipe.has(e));function Lpe(e){const t=[];return _pe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Hu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:BE(4,13),y:BE(5,14)};Hu.translateX=Hu.x;Hu.translateY=Hu.y;const $pe=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=Hu[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(o[c]),e[c]=Hu[c](l,a)}),e},Fpe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(OF);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Ed(d);const h=t[l];let m;if(Fg(h)){const p=h.length,v=h[0]===null?1:0;d=h[v],f=Ed(d);for(let y=v;y<p&&h[y]!==null;y++)m?oN(Ed(h[y])===m):m=Ed(h[y])}else m=Ed(h);if(f!==m)if(FE(f)&&FE(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Bt&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(s||(a=Lpe(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=$pe(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),gv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Rpe(e,t,n,r){return Ope(t)?Fpe(e,t,n,r):{target:t,transitionEnd:r}}const Bpe=(e,t,n,r)=>{const i=Dpe(e,t,r);return t=i.target,r=i.transitionEnd,Rpe(e,t,n,r)},Sw={current:null},IF={current:!1};function zpe(){if(IF.current=!0,!!gv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sw.current=e.matches;e.addListener(t),t()}else Sw.current=!1}function Upe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(sa(a))e.addValue(i,a),Ug(r)&&r.add(i);else if(sa(s))e.addValue(i,Wu(a,{owner:e})),Ug(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Wu(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const zE=new WeakMap,_F=Object.keys(Gf),Vpe=_F.length,UE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Wpe=JS.length;class Hpe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>nr.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=xv(n),this.isVariantNode=y$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&sa(h)&&(h.set(o[f],!1),Ug(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,zE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),IF.current||zpe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){zE.delete(this.current),this.projection&&this.projection.unmount(),ko(this.notifyUpdate),ko(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ec.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&nr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<Vpe;l++){const c=_F[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=Gf[c];h&&(s=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&du(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ir()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<UE.length;r++){const i=UE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Upe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Wpe;r++){const i=JS[r],a=this.props[i];(Kf(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=sN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!sa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new gN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class LF extends Hpe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=lhe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){she(this,r,s);const o=Bpe(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function qpe(e){return window.getComputedStyle(e)}class Kpe extends LF{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ec.has(n)){const r=dN(n);return r&&r.default||0}else{const r=qpe(t),i=(N$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return SF(t,n)}build(t,n,r,i){tN(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return aN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){E$(t,n,r,i)}}class Gpe extends LF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ec.has(n)){const r=dN(n);return r&&r.default||0}return n=D$.has(n)?n:ZS(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ir()}scrapeMotionValuesFromProps(t,n){return O$(t,n)}build(t,n,r,i){rN(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){M$(t,n,r,i)}mount(t){this.isSVGTag=iN(t.tagName),super.mount(t)}}const Ype=(e,t)=>eN(e)?new Gpe(t,{enableHardwareAcceleration:!1}):new Kpe(t,{enableHardwareAcceleration:!0}),Xpe={layout:{ProjectionNode:MF,MeasureLayout:CF}},Zpe={...She,...Vfe,...Ape,...Xpe},Cs=Zde((e,t)=>Efe(e,t,Zpe,Ype));function Qpe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:v,children:y}){return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:g=>g.target===g.currentTarget&&t(),children:u.jsxs("div",{className:"proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:g=>a(g.target.value),onFocus:s,onBlur:g=>o(g.relatedTarget),onKeyDown:g=>{g.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((g,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(g)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:g.section}),u.jsx("div",{className:"truncate",children:d(g.text,n)})]},`${g.hitId}-${b}-${g.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(Hi,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[h.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((g,b)=>{const w=g.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${g.level===1?"proof-of-work-toc-item--l1":g.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":g.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(g),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:g.text})]},`${g.id}-${g.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:v,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:y})})]})})]})}):null}const Ll="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",iy="arcbridge_web_theme_override",VE="__default__",Jpe=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},ege=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},tge=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},WE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},nge=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},HE=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),rge=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,c=`${l} ${n-l}`,d=n-i;return i+=l,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:c,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},ige=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function age(){var zs;const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,a]=x.useState(null),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,f]=x.useState(null),[h,m]=x.useState(null),[p,v]=x.useState(!1),[y,g]=x.useState(!1),[b,w]=x.useState("classic"),[S,C]=x.useState("classic"),[N,P]=x.useState(rp.id),[D,_]=x.useState(null),[A,$]=x.useState(!1),[M,te]=x.useState(!1),[Y,se]=x.useState(""),[W,ee]=x.useState(""),[X,oe]=x.useState([]),[T,j]=x.useState(!1),[U,k]=x.useState("overview"),[O,re]=x.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),Q=x.useRef(null),B=x.useRef(null),J=x.useRef(null),L=x.useRef(null),K=x.useRef(null),le=x.useRef(new Map),ne=x.useRef(null),z=x.useMemo(()=>{let G=window.location.pathname||"/";const pe=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return G.endsWith("/index.html")&&(G=G.slice(0,-11)),G.includes("/reports/")&&(G=G.replace(/\/reports\/[^/]+\/?$/,"")),pe&&(G=G.replace(/^\/web\/web(?=\/|$)/,"/web")),G.endsWith("/")||(G=`${G}/`),G},[]),R=x.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),I=x.useMemo(()=>{const pe=[z,"./","/"],we=[];return pe.forEach(rt=>{let Ct=rt||"/";Ct!=="./"&&!Ct.endsWith("/")&&(Ct=`${Ct}/`),we.includes(Ct)||we.push(Ct)}),we},[z,R]),[Z,je]=x.useState(I[0]||"/"),$e=G=>{var pe;return typeof G=="string"||typeof G=="number"?String(G):Array.isArray(G)?G.map($e).join(""):G&&typeof G=="object"&&"props"in G?$e((pe=G.props)==null?void 0:pe.children):""},ie=G=>{const pe=HE(G||"section")||"section",we=le.current,rt=(we.get(pe)??0)+1;return we.set(pe,rt),rt===1?pe:`${pe}-${rt}`},Be=x.useMemo(()=>{const G=Hx.split(`
`),pe=new Map,we=[],rt=Ct=>{const _t=HE(Ct||"section")||"section",an=(pe.get(_t)??0)+1;return pe.set(_t,an),an===1?_t:`${_t}-${an}`};for(const Ct of G){const _t=/^(#{1,3})\s+(.*)\s*$/.exec(Ct);if(!_t)continue;const an=_t[1].length,Pt=_t[2].trim();Pt&&we.push({level:an,text:Pt,id:rt(Pt)})}return we},[Hx]),De=(G,pe)=>{const we=G==="./"?"./":G.endsWith("/")?G:`${G}/`,rt=String(pe||"").replace(/^\/+/,"");return`${we}${rt}`};x.useEffect(()=>{const G=Jpe(iy);if(G)try{const pe=JSON.parse(G),we=typeof(pe==null?void 0:pe.themeId)=="string"?pe.themeId:null;we&&Pd.some(rt=>rt.id===we)&&_(we)}catch{}},[]),x.useEffect(()=>{const G=D||N,pe=Pd.find(we=>we.id===G)||rp;f(pe)},[D,N]),x.useEffect(()=>{if(!D){w(S);return}if(D===np){w("matte");return}if(D==="CRT"){w("crt");return}w("classic")},[D,S]),x.useEffect(()=>{je(I[0]||"/");let G=!0;return(async()=>{for(const we of I)try{if((await fetch(De(we,"ui-theme.json"),{cache:"no-store"})).ok){G&&je(we);return}}catch{}})(),()=>{G=!1}},[I]);const vt=(G,pe)=>{const we=pe.trim();if(!we)return G;const rt=G.toLowerCase(),Ct=we.toLowerCase(),_t=rt.indexOf(Ct);if(_t===-1)return G;const an=G.slice(0,_t),Pt=G.slice(_t,_t+we.length),jt=G.slice(_t+we.length);return u.jsxs(u.Fragment,{children:[an,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:Pt}),jt]})},sn=(G,pe)=>{const we=B.current;if(!we)return;let rt=we.querySelector(`[data-search-hit="${G}"]`);if(!rt&&pe){const Ct=pe.trim().replace(/\s+/g," "),_t=Array.from(we.querySelectorAll("h1, h2, h3, p, li, code"));rt=_t.find(an=>(an.textContent||"").trim().replace(/\s+/g," ")===Ct)||null,rt||(rt=_t.find(an=>(an.textContent||"").toLowerCase().includes(Ct.toLowerCase()))||null)}rt&&requestAnimationFrame(()=>{const Ct=we.getBoundingClientRect(),_t=rt.getBoundingClientRect(),an=Math.max(0,we.scrollTop+(_t.top-Ct.top)-12);we.scrollTop=an,rt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),K.current&&window.clearTimeout(K.current),K.current=window.setTimeout(()=>{rt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Pn=G=>{const pe=B.current,we=G.trim().toLowerCase();if(!pe||we.length<2){oe([]);return}const rt=Array.from(pe.querySelectorAll("h1, h2, h3, p, li, code"));rt.forEach(an=>an.removeAttribute("data-search-hit"));const Ct=[];let _t=0;rt.forEach((an,Pt)=>{const jt=(an.textContent||"").trim();if(jt&&jt.toLowerCase().includes(we)){let tn="";for(let Ge=Pt;Ge>=0;Ge-=1){const pt=rt[Ge];if(pt&&["H1","H2","H3"].includes(pt.tagName)){tn=(pt.textContent||"").trim();break}}an.setAttribute("data-search-hit",String(_t)),Ct.push({index:Pt,text:jt,section:tn||"Unlabeled Section",hitId:_t}),_t+=1}}),oe(Ct.slice(0,12))};x.useEffect(()=>{var pe;if(!M)return;se(((pe=Be[0])==null?void 0:pe.id)||"");const G=we=>{var Ct;const rt=we.target;rt&&((Ct=J.current)!=null&&Ct.contains(rt)||(j(!1),oe([])))};return window.addEventListener("mousedown",G),()=>{window.removeEventListener("mousedown",G)}},[M,Be]),x.useEffect(()=>{if(!M){se("");return}const G=B.current;if(!G)return;let pe=0;const we=()=>{var Or;const Ct=Array.from(G.querySelectorAll("[data-heading-id]"));if(Ct.length===0)return;const an=G.getBoundingClientRect().top+18,Pt=Ct.map((ur,Ur)=>({index:Ur,id:ur.dataset.headingId||ur.id||"",top:ur.getBoundingClientRect().top})).filter(ur=>!!ur.id);if(Pt.length===0)return;let jt=0,tn=!1;for(const ur of Pt){if(ur.top<=an){jt=ur.index,tn=!0;continue}tn||(jt=ur.index);break}G.scrollTop+G.clientHeight>=G.scrollHeight-2&&(jt=Math.max(0,Pt.length-1));const pt=Be[jt],Nn=((Or=Pt[jt])==null?void 0:Or.id)||"",cn=(pt==null?void 0:pt.id)||Nn;cn&&se(cn)};we();const rt=()=>{pe&&cancelAnimationFrame(pe),pe=requestAnimationFrame(we)};return G.addEventListener("scroll",rt,{passive:!0}),window.addEventListener("resize",rt),()=>{pe&&cancelAnimationFrame(pe),G.removeEventListener("scroll",rt),window.removeEventListener("resize",rt)}},[M,Be]);const un=x.useMemo(()=>[{id:"overview",label:"Overview",icon:g6,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:rc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Gd},{id:"top-players",label:"Top Players",icon:rc},{id:"top-skills-outgoing",label:"Top Skills",icon:x1},{id:"squad-composition",label:"Classes",icon:Dr},{id:"timeline",label:"Squad vs Enemy Size",icon:Dr},{id:"map-distribution",label:"Map Distribution",icon:w1}]},{id:"roster",label:"Roster Intel",icon:kf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:kf},{id:"squad-comp-fight",label:"Squad Comp",icon:Dr},{id:"fight-comp",label:"Fight Comp",icon:Gd}]},{id:"offense",label:"Offensive Stats",icon:Gd,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Ip},{id:"player-breakdown",label:"Player Breakdown",icon:b1},{id:"spike-damage",label:"Spike Damage",icon:Sf},{id:"conditions-outgoing",label:"Conditions",icon:o0}]},{id:"defense",label:"Defensive Stats",icon:Mu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Mu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Sf},{id:"defense-mitigation",label:"Damage Mitigation",icon:C1},{id:"boon-output",label:"Boon Output",icon:N1},{id:"support-detailed",label:"Support Detailed",icon:k1},{id:"healing-stats",label:"Healing Stats",icon:fO}]},{id:"other",label:"Other Metrics",icon:l0,sectionIds:["special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"special-buffs",label:"Special Buffs",icon:Op},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:j1},{id:"skill-usage",label:"Skill Usage",icon:y1},{id:"apm-stats",label:"APM Breakdown",icon:S1}]}],[]),he=x.useMemo(()=>{const G=new Map;return un.forEach(pe=>{G.set(pe.id.toLowerCase(),pe.id),(pe.sectionIds||[]).forEach(we=>G.set(String(we).toLowerCase(),pe.id)),(pe.items||[]).forEach(we=>G.set(String(we.id).toLowerCase(),pe.id))}),G.set("report-top","overview"),G.set("overview","overview"),G.set("kdr","overview"),G},[un]),Se=x.useMemo(()=>un.find(G=>G.id===U)||un[0],[un,U]),Ft=x.useMemo(()=>{const pe=((Se==null?void 0:Se.sectionIds)||((Se==null?void 0:Se.items)||[]).map(we=>we.id)).map(we=>we==="kdr"?"overview":we);return new Set(pe)},[Se]),Ht=G=>{const pe=G==="kdr"?"overview":G,we=pe==="overview"?"report-top":pe,rt=document.getElementById(we);if(!rt||!(rt.getAttribute("data-section-visible")!=="false")||!rt.offsetParent)return!1;const _t=rt.getBoundingClientRect();if(_t.height<=0)return!1;let an=0;if(we==="stats-view-top"){const jt=document.getElementById("report-top");jt&&(an=jt.getBoundingClientRect().height+12)}const Pt=_t.top+window.scrollY-12-an;return window.scrollTo({top:Math.max(0,Pt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${we}`),!0},gn=(G,pe=0)=>{Ht(G)||pe>=12||window.setTimeout(()=>{requestAnimationFrame(()=>gn(G,pe+1))},40)};x.useEffect(()=>{if(!e)return;const G=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(we=>{we.scrollHeight})});return()=>cancelAnimationFrame(G)},[e]),x.useEffect(()=>{const G=ne.current;if(!G)return;let pe=0;const we=()=>{if(Ht(G)){ne.current=null;return}if(pe+=1,pe>=20){ne.current=null;return}window.setTimeout(()=>requestAnimationFrame(we),40)};requestAnimationFrame(we)},[U]),x.useEffect(()=>{const G=()=>{const pe=(window.location.hash||"").replace(/^#/,"").trim();if(!pe)return;let we=pe;try{we=decodeURIComponent(pe)}catch{we=pe}const rt=we.toLowerCase(),Ct=he.get(rt);Ct&&(k(Ct),re(()=>{const _t={};return un.forEach(an=>{_t[an.id]=an.id===Ct}),_t}),ne.current=rt==="report-top"?"kdr":rt)};return G(),window.addEventListener("hashchange",G),()=>{window.removeEventListener("hashchange",G)}},[he,un]);const hn=b==="matte",zr=d??rp,cr=zr.rgb,ua=hn?"#d8e1eb":"var(--accent)",Di={"--accent":`rgb(${cr})`,"--accent-rgb":cr,"--accent-soft":`rgba(${cr}, 0.32)`,"--accent-strong":`rgba(${cr}, 0.95)`,"--accent-border":`rgba(${cr}, 0.4)`,"--accent-glow":`rgba(${cr}, 0.18)`,"--accent-glow-soft":`rgba(${cr}, 0.08)`},vn=b==="modern"||b==="matte",xn=zr.pattern?hn?void 0:vn?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${zr.pattern}`:zr.pattern:void 0,br=hn?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:vn?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};x.useEffect(()=>{var an;let G=!0;const we=new URLSearchParams(window.location.search).get("report")||((an=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:an[1])||null,rt=we?`${z}reports/${we}/report.json`:`${z}report.json`;we&&o(rt);const Ct=Pt=>{var Ge,pt,Nn;const jt=new Set((((Ge=Pt==null?void 0:Pt.meta)==null?void 0:Ge.commanders)||[]).map(cn=>String(cn)));if(jt.size===0)return Pt;const tn=Pt.stats;return(pt=tn==null?void 0:tn.leaderboards)!=null&&pt.closestToTag&&(tn.leaderboards.closestToTag=tn.leaderboards.closestToTag.map(cn=>jt.has(String(cn==null?void 0:cn.account))?{...cn,value:0}:cn)),(Nn=tn==null?void 0:tn.closestToTag)!=null&&Nn.player&&jt.has(String(tn.closestToTag.player))&&(tn.closestToTag={...tn.closestToTag,value:0}),Pt},_t=Pt=>{var Nn,cn,Or,ur,Ur;const jt=Pt==null?void 0:Pt.stats;if(!jt||typeof jt!="object")return Pt;const tn=Array.isArray((Nn=jt==null?void 0:jt.leaderboards)==null?void 0:Nn.downContrib)?jt.leaderboards.downContrib:[];if(!tn.length)return Pt;const pt=tn.map(Ar=>({...Ar,value:Number((Ar==null?void 0:Ar.value)??0)})).filter(Ar=>Number.isFinite(Ar.value)).sort((Ar,xs)=>xs.value-Ar.value||String((Ar==null?void 0:Ar.account)||"").localeCompare(String((xs==null?void 0:xs.account)||"")))[0];return pt&&(jt.maxDownContrib={...jt.maxDownContrib||{},value:Number(pt.value||0),player:String(pt.account||((cn=jt.maxDownContrib)==null?void 0:cn.player)||"-"),count:Number(pt.count||((Or=jt.maxDownContrib)==null?void 0:Or.count)||0),profession:String(pt.profession||((ur=jt.maxDownContrib)==null?void 0:ur.profession)||"Unknown"),professionList:Array.isArray(pt.professionList)?pt.professionList:((Ur=jt.maxDownContrib)==null?void 0:Ur.professionList)||[]}),Pt};return fetch(rt,{cache:"no-store"}).then(Pt=>Pt.ok?Pt.json():Promise.reject()).then(Pt=>{var Ge,pt,Nn;if(!G)return;const jt=_t(Ct(Pt));t(jt);const tn=(Ge=jt==null?void 0:jt.stats)==null?void 0:Ge.uiTheme;tn==="modern"||tn==="classic"||tn==="crt"||tn==="matte"?C(tn):((pt=jt==null?void 0:jt.stats)==null?void 0:pt.webThemeId)===np&&C("matte"),typeof((Nn=jt==null?void 0:jt.stats)==null?void 0:Nn.webThemeId)=="string"&&jt.stats.webThemeId&&P(jt.stats.webThemeId)}).catch(()=>{if(we){if(!G)return;a("Report not found yet. It may still be deploying.")}fetch(`${z}reports/index.json`,{cache:"no-store"}).then(Pt=>Pt.ok?Pt.json():Promise.reject()).then(Pt=>{G&&r(Array.isArray(Pt)?Pt:[])}).catch(()=>{G&&a("No report data found.")})}),()=>{G=!1}},[z]),x.useEffect(()=>{if(e){const G=e.meta.dateLabel||WE(e.meta.dateStart,e.meta.dateEnd);document.title=G?`ArcBridge  ${e.meta.title}  ${G}`:`ArcBridge  ${e.meta.title}`;return}document.title="ArcBridge Reports"},[e]),x.useEffect(()=>{var pe;const G=(pe=e==null?void 0:e.stats)==null?void 0:pe.webThemeId;typeof G=="string"&&G&&P(G)},[e]),x.useEffect(()=>{const G=document.body;G.classList.add("web-report"),G.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte"),hn?G.classList.add("theme-matte"):b==="modern"?G.classList.add("theme-modern"):b==="crt"?G.classList.add("theme-crt"):G.classList.add("theme-classic")},[b,hn]),x.useEffect(()=>{var pe;if(R&&((pe=e==null?void 0:e.stats)!=null&&pe.webThemeId))return;let G=!0;return fetch(De(Z,"theme.json"),{cache:"no-store"}).then(we=>we.ok?we.json():Promise.reject()).then(we=>{G&&typeof(we==null?void 0:we.id)=="string"&&we.id&&P(we.id)}).catch(()=>{}),()=>{G=!1}},[Z,R,e]),x.useEffect(()=>{var _t,an;const G=(_t=e==null?void 0:e.stats)==null?void 0:_t.webThemeId,pe=(an=e==null?void 0:e.stats)==null?void 0:an.uiTheme;if((pe==="modern"||pe==="classic"||pe==="crt"||pe==="matte")&&!(G===np&&pe!=="matte"||G==="CRT"&&pe!=="crt"))return;let Ct=!0;return fetch(De(Z,"ui-theme.json"),{cache:"no-store"}).then(Pt=>Pt.ok?Pt.json():Promise.reject()).then(Pt=>{if(!Ct)return;const jt=Pt==null?void 0:Pt.theme;(jt==="modern"||jt==="classic"||jt==="crt"||jt==="matte")&&C(jt)}).catch(()=>{}),()=>{Ct=!1}},[Z,e]),x.useEffect(()=>{let G=!0;return fetch(De(Z,"logo.json"),{cache:"no-store"}).then(pe=>pe.ok?pe.json():Promise.reject()).then(pe=>{if(!G)return;const we="svg/ArcBridge.svg",rt=pe!=null&&pe.path?String(pe.path):we,Ct=pe!=null&&pe.updatedAt?String(pe.updatedAt):"",_t=De(Z,rt),an=Ct?`${_t}?v=${encodeURIComponent(Ct)}`:_t;m(an),v(!(pe!=null&&pe.path)||rt===we)}).catch(()=>{G&&(m(null),v(!1))}),()=>{G=!1}},[Z]);const dn=x.useMemo(()=>n?[...n].sort((G,pe)=>{const we=new Date(G.dateEnd||G.dateStart).getTime();return new Date(pe.dateEnd||pe.dateStart).getTime()-we}):[],[n]),Jr=x.useMemo(()=>{if(!dn.length)return[];const G=l.trim().toLowerCase();return G?dn.filter(pe=>{var Ct;const we=((Ct=pe.commanders)==null?void 0:Ct.join(" "))||"";return`${pe.title} ${we} ${pe.dateLabel}`.toLowerCase().includes(G)}):dn},[dn,l]),Mi=G=>{if(!G){tge(iy);return}ege(iy,JSON.stringify({themeId:G}))},Mc=G=>{const pe=G===VE?null:G;pe&&!Pd.some(we=>we.id===pe)||(_(pe),Mi(pe),$(!1))};x.useEffect(()=>{const G=we=>{L.current&&(L.current.contains(we.target)||$(!1))},pe=we=>{we.key==="Escape"&&$(!1)};return window.addEventListener("mousedown",G),window.addEventListener("keydown",pe),()=>{window.removeEventListener("mousedown",G),window.removeEventListener("keydown",pe)}},[]);const Sl=x.useMemo(()=>{if(!D)return"Default";const G=Pd.find(pe=>pe.id===D);return(G==null?void 0:G.label)||"Default"},[D]),Nl=u.jsxs("div",{className:"relative flex items-center gap-2",ref:L,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>$(G=>!G),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:Sl}),u.jsx("span",{className:`transition-transform ${A?"rotate-180":""}`,children:""})]}),A&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Mc(VE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Pd.map(G=>u.jsx("button",{type:"button",onClick:()=>Mc(G.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${D===G.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:G.label},G.id))]})]}),Bs=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Nl}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:G=>{G.preventDefault(),te(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Cl=u.jsxs(Qpe,{isOpen:M,onClose:()=>te(!1),searchValue:W,searchFocused:T,searchResults:X,onSearchChange:G=>{ee(G),requestAnimationFrame(()=>Pn(G))},onSearchFocus:()=>{j(!0),requestAnimationFrame(()=>Pn(W))},onSearchBlur:G=>{var pe;G&&((pe=J.current)!=null&&pe.contains(G))||j(!1)},onSearchEnter:()=>{X.length>0&&sn(X[0].hitId,X[0].text)},onSearchResultMouseDown:G=>{j(!0),sn(G.hitId,G.text)},renderHighlightedMatch:vt,searchRef:J,tocItems:Be,activeTocId:Y,onTocClick:G=>{const pe=B.current;if(!pe)return;let we=pe.querySelector(`[data-heading-id="${G.id}"]`);if(!we){const rt=G.text.trim().replace(/\s+/g," ");we=Array.from(pe.querySelectorAll("h1, h2, h3")).find(_t=>(_t.textContent||"").trim().replace(/\s+/g," ")===rt)||null}we&&(se(G.id),requestAnimationFrame(()=>{const rt=pe.getBoundingClientRect(),Ct=we.getBoundingClientRect(),_t=pe.scrollTop+(Ct.top-rt.top)-12;pe.scrollTop=Math.max(0,_t)}))},contentRef:B,children:[(le.current=new Map,null),u.jsx(Pce,{remarkPlugins:[Bde],components:{h1:({children:G})=>{const pe=$e(G),we=ie(pe);return u.jsx("h1",{id:we,"data-heading-id":we,className:"text-2xl font-bold text-white scroll-mt-6",children:G})},h2:({children:G})=>{const pe=$e(G),we=ie(pe);return u.jsx("h2",{id:we,"data-heading-id":we,className:"text-xl font-semibold text-white scroll-mt-6",children:G})},h3:({children:G})=>{const pe=$e(G),we=ie(pe);return u.jsx("h3",{id:we,"data-heading-id":we,className:"text-lg font-semibold text-white scroll-mt-6",children:G})},p:({children:G})=>u.jsx("p",{className:"leading-6 text-gray-200",children:G}),ul:({children:G})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:G}),ol:({children:G})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:G}),li:({children:G})=>u.jsx("li",{className:"leading-6",children:G}),blockquote:({children:G})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:G}),a:({href:G,children:pe})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:G,target:"_blank",rel:"noreferrer",children:pe}),table:({children:G})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:G})}),th:({children:G})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:G}),td:({children:G})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:G}),pre:({children:G})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:G}),code:G=>{const{inline:pe,children:we}=G;return pe===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:we}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:we})}},children:Hx})]});if(e){const G=De(Z,"svg/ArcBridge.svg"),pe=Ge=>{re(()=>{const pt={};return un.forEach(Nn=>{pt[Nn.id]=Nn.id===Ge}),pt})},we=Ge=>{ne.current=null,k(Ge),window.scrollTo({top:0,behavior:"smooth"})},rt=Ge=>{if(!!!O[Ge]){pe(Ge),we(Ge);return}if(Ge!==U){we(Ge);return}re(Nn=>({...Nn,[Ge]:!1}))},Ct=(Ge,pt)=>{O[Ge]||pe(Ge);const Nn=Ge===U;Nn||(ne.current=pt,k(Ge),window.scrollTo({top:0,behavior:"auto"})),Nn&&requestAnimationFrame(()=>gn(pt))},_t=Ge=>{const pt=Ge.currentTarget;if(!(pt.scrollHeight>pt.clientHeight)){window.scrollBy({top:Ge.deltaY,behavior:"auto"}),Ge.preventDefault();return}const cn=pt.scrollTop<=0,Or=pt.scrollTop+pt.clientHeight>=pt.scrollHeight-1;(cn&&Ge.deltaY<0||Or&&Ge.deltaY>0)&&(window.scrollBy({top:Ge.deltaY,behavior:"auto"}),Ge.preventDefault())},an=Ge=>{const pt=Q.current;if(!pt)return;const Nn=Ge.target;if(!Nn||!pt.contains(Nn))return;let cn=Nn;for(;cn&&cn!==pt;){const ur=window.getComputedStyle(cn).overflowY;if((ur==="auto"||ur==="scroll")&&cn.scrollHeight>cn.clientHeight+1){const Ar=cn.scrollTop<=0,xs=cn.scrollTop+cn.clientHeight>=cn.scrollHeight-1;(Ge.deltaY<0&&Ar||Ge.deltaY>0&&xs)&&(window.scrollBy({top:Ge.deltaY,behavior:"auto"}),Ge.preventDefault());return}cn=cn.parentElement}},Pt=Ge=>{const pt=Math.max(0,6-Ge);return{accordionDuration:.5+pt*.07,itemDuration:.34+pt*.035,stagger:.05+pt*.01,delayChildren:.06+pt*.015}},jt=Ge=>{const pt=Pt(Ge);return{open:{transition:{staggerChildren:pt.stagger,delayChildren:pt.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,pt.stagger*.7),staggerDirection:-1}}}},tn={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:hn?"var(--bg-base)":vn?"#0f141c":"#0f172a",backgroundImage:hn?"none":xn,...Di},children:[!hn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${y?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>g(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${y?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:_t,children:un.map(Ge=>{const pt=Ge.icon,Nn=Ge.id===U,cn=!!O[Ge.id],Or=Pt(Ge.items.length),ur=jt(Ge.items.length);return u.jsxs(Cs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>rt(Ge.id),className:`w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${Nn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(pt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Ge.label}),u.jsx(Cs.span,{className:"ml-auto inline-flex",animate:{rotate:cn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Gl,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Cs.div,{initial:!1,animate:cn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Or.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Cs.div,{variants:ur,initial:!1,animate:cn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Ge.items.map(Ur=>{const Ar=Ur.icon;return u.jsxs(Cs.button,{variants:tn,transition:{duration:Or.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Ct(Ge.id,Ur.id),g(!1)},className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Ar,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Ur.label]},Ur.id)})})},`${Ge.id}-submenu-mobile`)]},Ge.id)})})]})}),u.jsx("aside",{className:"hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:ua,maskImage:`url(${G})`,WebkitMaskImage:`url(${G})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:_t,children:un.map(Ge=>{const pt=Ge.icon,Nn=Ge.id===U,cn=!!O[Ge.id],Or=Pt(Ge.items.length),ur=jt(Ge.items.length);return u.jsxs(Cs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>rt(Ge.id),className:`w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${Nn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(pt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Ge.label}),u.jsx(Cs.span,{className:"ml-auto inline-flex",animate:{rotate:cn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Gl,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Cs.div,{initial:!1,animate:cn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Or.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Cs.div,{variants:ur,initial:!1,animate:cn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Ge.items.map(Ur=>{const Ar=Ur.icon;return u.jsxs(Cs.button,{variants:tn,transition:{duration:Or.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Ct(Ge.id,Ur.id),className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Ar,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Ur.label]},Ur.id)})})},`${Ge.id}-submenu-desktop`)]},Ge.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${Ll} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:br,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ua,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:e.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:e.meta.dateLabel||WE(e.meta.dateStart,e.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>g(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(Q2,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(l6,{className:"w-4 h-4 text-[color:var(--accent)]"}),e.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(Dr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:e.meta.commanders.length?e.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(mO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",e.meta.appVersion?`v${e.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Se==null?void 0:Se.items)||[]).map(Ge=>{const pt=Ge.icon;return u.jsxs("button",{onClick:()=>Ct((Se==null?void 0:Se.id)||"overview",Ge.id),className:"group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest text-gray-200 whitespace-nowrap border border-white/15 bg-gradient-to-br from-white/10 via-white/5 to-transparent shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)] active:translate-y-0 active:scale-[0.98] snap-start",children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(pt,{className:"w-3 h-3 text-[color:var(--accent)]"})}),Ge.label]},`chip-${Ge.id}`)})})]}),u.jsx("div",{ref:Q,onWheelCapture:an,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(Wie,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:e.stats,statsViewSettings:(zs=e.stats)==null?void 0:zs.statsViewSettings,embedded:!0,uiTheme:b,sectionVisibility:Ge=>Ft.has(Ge),dashboardTitle:`Statistics Dashboard - ${(Se==null?void 0:Se.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:Bs})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(uO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(Q2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(o6,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Cl]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:hn?"var(--bg-base)":vn?"#0f141c":"#0f172a",backgroundImage:hn?"none":xn,...Di},children:[!hn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${Ll} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:br,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ua,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Jr.length," Reports"]})})]}),u.jsxs("div",{className:`${Ll} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:br,children:[u.jsx("input",{type:"search",value:l,onChange:G=>c(G.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Jr.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:dn.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:br,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!n&&u.jsx("div",{className:`${Ll} p-6 text-gray-300`,style:br,children:"Loading reports..."}),Jr.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Jr.map(G=>{var pe,we,rt,Ct;return u.jsx("a",{href:G.url,className:`${Ll} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:br,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:G.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:nge(G.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(Dr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:G.commanders.length?G.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(pe=G.summary)!=null&&pe.mapSlices&&G.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(rge,{slices:G.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ige,{value:(we=G.summary)==null?void 0:we.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((rt=G.summary)==null?void 0:rt.avgSquadSize)??"--"," / ",((Ct=G.summary)==null?void 0:Ct.avgEnemySize)??"--"]})]}),u.jsx(f6,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},G.id)})}),!i&&n&&dn.length===0&&u.jsx("div",{className:`${Ll} p-6 text-gray-300`,style:br,children:"No reports uploaded yet."}),!i&&n&&dn.length>0&&Jr.length===0&&u.jsx("div",{className:`${Ll} p-6 text-gray-300`,style:br,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:Bs})]}),Cl]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");ay.createRoot(document.getElementById("root")).render(u.jsx(Hg.StrictMode,{children:u.jsx(age,{})}));
